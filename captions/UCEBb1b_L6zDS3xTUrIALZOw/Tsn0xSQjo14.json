[
  {
    "start": "0",
    "end": "90000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6970"
  },
  {
    "text": "continue to offer high-quality\neducational resources for free. To make a donation or to\nview additional materials",
    "start": "6970",
    "end": "13600"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu.",
    "start": "13600",
    "end": "18921"
  },
  {
    "text": " GABRIEL SANCHEZ-MARTINEZ: Let's\nget started with Lecture 9.",
    "start": "18922",
    "end": "24890"
  },
  {
    "text": "Today's lecture is very\nrelevant to the homework. We'll run through some\nexamples of performance models",
    "start": "24890",
    "end": "32590"
  },
  {
    "text": "like the ones you have\nto work on or specify an estimate on your homework.",
    "start": "32590",
    "end": "37840"
  },
  {
    "text": "So we talk about performance,\nperformance models. What is performance? What do we mean by performance?",
    "start": "37840",
    "end": "43510"
  },
  {
    "text": "Typically, this is a key\nword used to describe output",
    "start": "43510",
    "end": "49420"
  },
  {
    "text": "and some sense of how well\nthe output service was, so both in terms of the operator\nand in terms of the passenger.",
    "start": "49420",
    "end": "57620"
  },
  {
    "text": "So things like running times,\nwaiting times, headways, things that you can measure\nfrom observations",
    "start": "57620",
    "end": "64809"
  },
  {
    "text": "of service being delivered,\nwe call that performance, generally. And the kinds of models\nthat we're going to look at",
    "start": "64810",
    "end": "72280"
  },
  {
    "text": "are wait time models,\nservice variation along routes where you'll see\nhow it's not always the same.",
    "start": "72280",
    "end": "77960"
  },
  {
    "text": "You might start off at\nthe terminal one way and end up a very different way.",
    "start": "77960",
    "end": "83277"
  },
  {
    "text": "We'll look at running time\nmodels and dwell time models. So these are the components\nof running times.",
    "start": "83277",
    "end": "89510"
  },
  {
    "text": "Let's start with waiting time. Well, before that, actually,\nlet's think about--",
    "start": "89510",
    "end": "95660"
  },
  {
    "start": "90000",
    "end": "1896000"
  },
  {
    "text": "so here are some\nkinds of models. Why would we be interested\nin modeling these things?",
    "start": "95660",
    "end": "101280"
  },
  {
    "text": " What applications can you think\nof for these kinds of models?",
    "start": "101280",
    "end": "110526"
  },
  {
    "text": "That's two ways of\nputting the same question. ",
    "start": "110526",
    "end": "115690"
  },
  {
    "text": "Why would we be interested\nin having a waiting time model or a running time model?",
    "start": "115690",
    "end": "121830"
  },
  {
    "text": "Just give some examples.  Yeah, over in the back?",
    "start": "121830",
    "end": "127290"
  },
  {
    "text": "AUDIENCE: We want to understand\nhow people are waiting exactly. GABRIEL\nSANCHEZ-MARTINEZ: But you",
    "start": "127290",
    "end": "132510"
  },
  {
    "text": "can go out and\nmeasure it, right? ",
    "start": "132510",
    "end": "137910"
  },
  {
    "text": "You can go out and do\na survey and observe how people are waiting.",
    "start": "137910",
    "end": "143310"
  },
  {
    "text": "So why would a model be good? What would a model do that\nobservations don't do?",
    "start": "143310",
    "end": "151670"
  },
  {
    "text": "AUDIENCE: For a new service. GABRIEL SANCHEZ-MARTINEZ:\nFor a new service, OK, we're starting to\nget some ideas, yeah. AUDIENCE: Or changes in service. GABRIEL SANCHEZ-MARTINEZ:\nChanges in service--",
    "start": "151670",
    "end": "157500"
  },
  {
    "text": "OK, so can you give\nme an example of that? AUDIENCE: Like [INAUDIBLE]\nmaking the Victoria line 20%",
    "start": "157500",
    "end": "162900"
  },
  {
    "text": "more frequent. GABRIEL SANCHEZ-MARTINEZ: OK,\nso if you increase frequency on the Victoria line, what does\nthat do to demand and to dwell",
    "start": "162900",
    "end": "171678"
  },
  {
    "text": "time and to-- AUDIENCE: The Oxford Circuit is\nnow closed for 30 minutes a day because can only\ninterchange, not enter. GABRIEL SANCHEZ-MARTINEZ:\nOK, so you",
    "start": "171679",
    "end": "178020"
  },
  {
    "text": "can try to use them to\npredict service changes or changes in performance\ndue to changes in service.",
    "start": "178020",
    "end": "185459"
  },
  {
    "text": "What else, any other ideas? ",
    "start": "185460",
    "end": "190478"
  },
  {
    "text": "[INAUDIBLE]? AUDIENCE: [INAUDIBLE]\nservice variation, that's [INAUDIBLE] to crowded\nand to crowded on the bus.",
    "start": "190478",
    "end": "198770"
  },
  {
    "text": "It's depending on how\nthe planned headway sort of variance over time will\nimpact how many people end up",
    "start": "198770",
    "end": "208100"
  },
  {
    "text": "boarding on a bus. Let's say, a bus that\ncame substantially after the previous\nbus might be crowded.",
    "start": "208100",
    "end": "215730"
  },
  {
    "text": "And I won't be able board. And you might even have--",
    "start": "215730",
    "end": "220800"
  },
  {
    "text": "so denied boardings for-- GABRIEL SANCHEZ-MARTINEZ:\n[INAUDIBLE] will you summarize that? Maybe I'll try summarizing.",
    "start": "220800",
    "end": "228480"
  },
  {
    "text": "You could use one\nof these models to fill in things\nabout performance",
    "start": "228480",
    "end": "234150"
  },
  {
    "text": "that you can't measure\ndirectly from data. So you gave an example of\nmeasuring headways and then",
    "start": "234150",
    "end": "240900"
  },
  {
    "text": "estimating crowding on\nthe bus based on headways. Was that more or less-- AUDIENCE: Yeah. GABRIEL SANCHEZ-MARTINEZ:\n--getting at--",
    "start": "240900",
    "end": "246260"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] GABRIEL SANCHEZ-MARTINEZ: OK,\ntrying to generalize a little bit-- any other ideas?",
    "start": "246260",
    "end": "251295"
  },
  {
    "text": "[INAUDIBLE]? AUDIENCE: I mean, you could\nuse this as a [INAUDIBLE] model",
    "start": "251295",
    "end": "256980"
  },
  {
    "text": "in any other simulation. GABRIEL SANCHEZ-MARTINEZ:\nSimulation models, so if you want to do a\nsimulation model of a system",
    "start": "256980",
    "end": "262830"
  },
  {
    "text": "that has transit in it, you\nneed all these things to-- right?",
    "start": "262830",
    "end": "268050"
  },
  {
    "text": "Because you need to have\nyour [INAUDIBLE] which, it could be a bus, or a\npassenger waiting, or dwelling,",
    "start": "268050",
    "end": "274620"
  },
  {
    "text": "or moving between stops. So you need these things. Any other applications,\npractical, very",
    "start": "274620",
    "end": "280530"
  },
  {
    "text": "practical applications?  So for dwell time and\nrunning time models,",
    "start": "280530",
    "end": "290840"
  },
  {
    "text": "we all have our\nprediction of when the bus is coming to the stop. So you need some model to take\nthe bus from where it is right",
    "start": "290840",
    "end": "298370"
  },
  {
    "text": "now, which you can\nmeasure, to how long will it take me to\nreach this stop. And so the passenger can look\nup on the phone, how long will",
    "start": "298370",
    "end": "306680"
  },
  {
    "text": "I have to wait. So these are all examples. And there are more. Let's start with waiting time.",
    "start": "306680",
    "end": "312889"
  },
  {
    "text": "So we've already seen this first\nsimple model of waiting time.",
    "start": "312890",
    "end": "318620"
  },
  {
    "text": "We say that the expected waiting\ntime is half the headway. And here, we are considering\nboth waiting time and headway",
    "start": "318620",
    "end": "326630"
  },
  {
    "text": "to be stochastic quantities. So if we observe many headways\nover a long period of time,",
    "start": "326630",
    "end": "335060"
  },
  {
    "text": "we see a probability\ndistribution of headways. And we're saying, the\naverage headway divided by 2",
    "start": "335060",
    "end": "340129"
  },
  {
    "text": "should equal the\naverage waiting time. Now, this is a\nvery simple model. And we know there are\nsome problems with it.",
    "start": "340130",
    "end": "347000"
  },
  {
    "text": "So we are assuming that\npassengers arrive independent",
    "start": "347000",
    "end": "352460"
  },
  {
    "text": "of vehicle departure times. We are assuming that\nvehicles are departing at equal intervals\ndeterministically,",
    "start": "352460",
    "end": "358830"
  },
  {
    "text": "so they're sort\nof evenly spaced, and that every\npassenger can board the first vehicle they see.",
    "start": "358830",
    "end": "364580"
  },
  {
    "text": "So nobody is left behind\nby a bus that is too full. So obviously, these\nthings don't always hold.",
    "start": "364580",
    "end": "372449"
  },
  {
    "text": "And particularly, the part\nof vehicles departing exactly at equal intervals doesn't hold.",
    "start": "372450",
    "end": "379110"
  },
  {
    "text": "It rarely holds.  AUDIENCE: Even if\nthey depart, there",
    "start": "379110",
    "end": "385250"
  },
  {
    "text": "are a lot of things along the\nway that impact the variation. GABRIEL SANCHEZ-MARTINEZ:\nYeah, so but we're saying departing from each stop\ndeterministically, not just",
    "start": "385250",
    "end": "391879"
  },
  {
    "text": "the terminal. So obviously, there are\nsome problems with this. And so how do we need to--",
    "start": "391880",
    "end": "399020"
  },
  {
    "text": "well, if we start taking\ncare of some of these things,",
    "start": "399020",
    "end": "404490"
  },
  {
    "text": "what will happen\nto waiting time? Will it decrease or increase? ",
    "start": "404490",
    "end": "411230"
  },
  {
    "text": "So if we take this\nparticular one. This is the strongest\nassumption, right? So that vehicles depart\ndeterministically",
    "start": "411230",
    "end": "418235"
  },
  {
    "text": "at equal intervals-- and we say, no, they\ndon't, actually. Some of them depart late.",
    "start": "418235",
    "end": "424710"
  },
  {
    "text": "Some of them depart early. There is bunching. So what happens to waiting\ntime when that happens?",
    "start": "424710",
    "end": "429770"
  },
  {
    "text": "AUDIENCE: It goes up. GABRIEL SANCHEZ-MARTINEZ:\nIt goes up. So how do we adjust this\nmodel to account for that?",
    "start": "429770",
    "end": "435478"
  },
  {
    "text": "Let's look at that. AUDIENCE: Doesn't\nit depend though when the passengers\nare arriving? GABRIEL SANCHEZ-MARTINEZ: If\nyou look at an average or a long",
    "start": "435479",
    "end": "441981"
  },
  {
    "text": "period of time, and you'd have\nthe same number of vehicles and drivers, so you either-- the\nbest thing you can do if people",
    "start": "441981",
    "end": "450960"
  },
  {
    "text": "are arriving randomly is to-- AUDIENCE: OK, they're\narriving randomly. GABRIEL SANCHEZ-MARTINEZ:\nYeah, so we're only tackling that assumption.",
    "start": "450960",
    "end": "458380"
  },
  {
    "text": "OK, so there are some\nissues, as we said. There is bulk arrivals.",
    "start": "458380",
    "end": "464190"
  },
  {
    "text": "So you have a bus stop right\noutside of a train station. And the train has just left. And a bunch of people\nget off the train",
    "start": "464190",
    "end": "470699"
  },
  {
    "text": "and they all want\nto board the bus. That's not being\ncaptured by this. ",
    "start": "470700",
    "end": "477360"
  },
  {
    "text": "And we can think of the\npassenger arrival process in steps, from\nhaving no information",
    "start": "477360",
    "end": "484349"
  },
  {
    "text": "to having a lot of information. So random arrivals\nis what we typically",
    "start": "484350",
    "end": "489419"
  },
  {
    "text": "assume, certainly for\nhigh-frequency service, and in some cases, for\nall kinds of service.",
    "start": "489420",
    "end": "496350"
  },
  {
    "text": "And that's more problematic. If you know how\nlong-headway service, people are going to try\nto time their arrival",
    "start": "496350",
    "end": "502410"
  },
  {
    "text": "at the stop to the schedule. But you will see\nsome models that-- in the literature,\nthat, for simplicity,",
    "start": "502410",
    "end": "509280"
  },
  {
    "text": "especially service planning\nmodels, for simplicity, might assume this anyway. You have a question. AUDIENCE: Like random,\nbut Poisson distributed,",
    "start": "509280",
    "end": "516034"
  },
  {
    "text": "or just, like, random? GABRIEL SANCHEZ-MARTINEZ: Yeah,\nPoisson distributed-- sometimes it could just be random. Typically the assumption made\nis that it's a Poisson process.",
    "start": "516035",
    "end": "523649"
  },
  {
    "text": "So inter-arrival times\nare negative exponential distribution. OK, then some passengers\nwill time their arrivals",
    "start": "523650",
    "end": "531240"
  },
  {
    "text": "to minimum waiting. So this could be that you have\na phone app or a schedule.",
    "start": "531240",
    "end": "538770"
  },
  {
    "text": "And you show up a couple\nof minutes before. You're trying to minimize\nyour waiting time.",
    "start": "538770",
    "end": "544530"
  },
  {
    "text": "You're trying to arrive shortly\nbefore the vehicle departs. And then there is the\nrunning to the vehicle",
    "start": "544530",
    "end": "549930"
  },
  {
    "text": "before it leaves the stop, and\ntherefore, I have no waiting. That's everyone's\nfavorite, right?",
    "start": "549930",
    "end": "555870"
  },
  {
    "text": "So if we look at a graph\nof expected headway on the horizontal axis\nand expected waiting",
    "start": "555870",
    "end": "563790"
  },
  {
    "text": "time on the vertical\naxis, you will see that around 10 minutes-- some people say 15, some people\nsay 10, but somewhere around",
    "start": "563790",
    "end": "570150"
  },
  {
    "text": "there, 12-- so you will see that\nthe actual waiting",
    "start": "570150",
    "end": "577310"
  },
  {
    "text": "time that you would observe\nis much lower than what the simple model\nsays it is, which",
    "start": "577310",
    "end": "582709"
  },
  {
    "text": "is half the headway for headways\nlonger than 10, 12, 15 minutes. And I think those people\nwill have some strategy",
    "start": "582710",
    "end": "589430"
  },
  {
    "text": "to minimize their waiting time. So below that amount, people\ntend to not time their arrivals",
    "start": "589430",
    "end": "596330"
  },
  {
    "text": "at stops. And they tend to arrive\nrandomly, essentially.",
    "start": "596330",
    "end": "602240"
  },
  {
    "text": "So if you try to take the\nRed line here in Boston, you just show up\nat whatever time. And typically, most people\nwon't be looking at their phone",
    "start": "602240",
    "end": "609820"
  },
  {
    "text": "and trying to time their\narrival, although that is happening increasingly. So for those people, the\nmodel, the simple model",
    "start": "609820",
    "end": "617230"
  },
  {
    "text": "of headway divided by 2\ntends to underestimate the actual waiting time. And that's due to headway\nvariability, mostly.",
    "start": "617230",
    "end": "624090"
  },
  {
    "text": " So we have to take care\nof that assumption.",
    "start": "624090",
    "end": "633420"
  },
  {
    "text": "Let's look at a formulation\nthat relaxes that. Let's say that vehicle\ndepartures are not regular and deterministic.",
    "start": "633420",
    "end": "639930"
  },
  {
    "text": "So let's refine the model\nto take care of that. So let's define n as\na function of headway",
    "start": "639930",
    "end": "647579"
  },
  {
    "text": "to be the number of\npassengers arriving at some headway and the mean\nwaiting time of headway, h,",
    "start": "647580",
    "end": "654690"
  },
  {
    "text": "to be, well, that mean headway\nof some specific headway that we observe, and then g\nto be the probability density",
    "start": "654690",
    "end": "663260"
  },
  {
    "text": "function of headway. So we observe many\nof these highways. And we have a\nhistogram of headways.",
    "start": "663260",
    "end": "669149"
  },
  {
    "text": "So if you want to compute\nthe expected waiting time across all\npassengers, what we want",
    "start": "669150",
    "end": "676050"
  },
  {
    "text": "is the expected total\npassenger waiting time divided by the expected\nnumber of passengers",
    "start": "676050",
    "end": "681709"
  },
  {
    "text": "over many, many observations\nof vehicles leaving. And that is expressed\nmathematically in the equation",
    "start": "681710",
    "end": "689670"
  },
  {
    "text": "below. We have integrals, in this\ncase, from 0 to infinity, because headways\ncan't be negative,",
    "start": "689670",
    "end": "695410"
  },
  {
    "text": "so we're not going from negative\ninfinity to positive infinity. And we're saying, yeah,\nfor any given headway,",
    "start": "695410",
    "end": "703080"
  },
  {
    "text": "we'll multiply the\nnumber of people times how much they wait\non average times the probability that\nI see that headway.",
    "start": "703080",
    "end": "709540"
  },
  {
    "text": "And let's integrate over\nall possible headways and divide that by the number\nof people on each headway.",
    "start": "709540",
    "end": "714930"
  },
  {
    "text": "Does that make\nsense conceptually?  OK, so now let's make\nsome assumptions.",
    "start": "714930",
    "end": "722690"
  },
  {
    "text": "Let's say that people\ndo arrive uniformly with some rate, lambda.",
    "start": "722690",
    "end": "728990"
  },
  {
    "text": "And so the number of people\narriving in a given headway is going to be some arrival\nrate, which we've said",
    "start": "728990",
    "end": "735110"
  },
  {
    "text": "is constant, times the headway. So if we say that 10\npeople arrive per minute,",
    "start": "735110",
    "end": "740370"
  },
  {
    "text": "and lambda therefore is\n10 passengers per minute, then if the headway is 2\nminutes, we have 20 people.",
    "start": "740370",
    "end": "748080"
  },
  {
    "text": "Does that make sense? Any questions so far? OK, and then--",
    "start": "748080",
    "end": "753932"
  },
  {
    "text": "AUDIENCE: Can you repeat\njust what you said there? GABRIEL SANCHEZ-MARTINEZ:\nYeah, so lambda is the passenger arrival rate.",
    "start": "753932",
    "end": "760140"
  },
  {
    "text": "And I gave an example of it\nbeing 10 passengers per minute. So is that something\nyou measure. And we're assuming\nthat that amount",
    "start": "760140",
    "end": "766459"
  },
  {
    "text": "is constant for a specific time\nof day at a specific place.",
    "start": "766460",
    "end": "772160"
  },
  {
    "text": "And then we're saying,\nif you-- once you assume that, then you observe\na headway, which could be, say,",
    "start": "772160",
    "end": "777410"
  },
  {
    "text": "2 minutes long. Then you multiply\nby the arrival rate. Now we say it's 20 passengers\nfor that particular headway.",
    "start": "777410",
    "end": "784084"
  },
  {
    "text": "And there might be another\nheadway that is 5 minutes long. That's 50 people-- 1 minute long, 10\npeople, and so forth.",
    "start": "784084",
    "end": "789980"
  },
  {
    "text": "And then for each\nof those headways, the average waiting\ntime is going to be half of that\nheadway, correct?",
    "start": "789980",
    "end": "798514"
  },
  {
    "text": "AUDIENCE: Correct. GABRIEL SANCHEZ-MARTINEZ:\nWe're assuming people arrive randomly, so\nwithin a particular headway,",
    "start": "798514",
    "end": "803690"
  },
  {
    "text": "this is true. There's no problem\nwith this assumption as long as you are\ncomfortable with assuming",
    "start": "803690",
    "end": "810213"
  },
  {
    "text": "that people arrive randomly. So now we have this equation\nfor expected waiting time.",
    "start": "810213",
    "end": "817430"
  },
  {
    "text": " Let me write on the board how we\nget to that from the integrals.",
    "start": "817430",
    "end": "827490"
  },
  {
    "start": "827490",
    "end": "845620"
  },
  {
    "text": "Can somebody say why-- so why is it the case that, when\nwe have headway variability,",
    "start": "845620",
    "end": "855100"
  },
  {
    "text": "the waiting time goes up? What's the concept\nthat leads to that?",
    "start": "855100",
    "end": "860651"
  },
  {
    "text": "Eli? AUDIENCE: There\nis unreliability, and so people need to build in\nmore [INAUDIBLE] time instead",
    "start": "860651",
    "end": "866360"
  },
  {
    "text": "of-- GABRIEL SANCHEZ-MARTINEZ:\nThere is something else that is sort\nof more fundamental happening.",
    "start": "866360",
    "end": "871400"
  },
  {
    "text": "AUDIENCE: A bus that\ncomes at a larger headway than it was planned\nwill actually be collecting more people.",
    "start": "871400",
    "end": "877610"
  },
  {
    "text": "So more people will\nbe waiting more time. GABRIEL SANCHEZ-MARTINEZ: So\nfrom a passenger's perspective,",
    "start": "877610",
    "end": "884440"
  },
  {
    "text": "the probability of arriving\nduring a long headway is greater than arriving\nduring a short headway. What is that called?",
    "start": "884440",
    "end": "889510"
  },
  {
    "text": "There is a name for that that's\nimportant in transportation. ",
    "start": "889510",
    "end": "895640"
  },
  {
    "text": "Random-- random incidence, so\nthis is something you, if you",
    "start": "895640",
    "end": "902200"
  },
  {
    "text": "took 200, you should know that. But it's good to know,\nrandom incidence.",
    "start": "902200",
    "end": "908350"
  },
  {
    "text": "It's called the random\nincidence paradox, because people without-- if you\ndon't think about it too much,",
    "start": "908350",
    "end": "914769"
  },
  {
    "text": "you say it's half the headway. And then somebody says, no,\nactually the average waiting",
    "start": "914770",
    "end": "919870"
  },
  {
    "text": "time is much longer. Why is that? And you have to sort\nof solve the paradox. It isn't really a\nparadox, but here we are.",
    "start": "919870",
    "end": "926840"
  },
  {
    "text": " So the expected waiting time--",
    "start": "926840",
    "end": "933860"
  },
  {
    "text": "we'll start from the\nequation, the last equation on slide four.",
    "start": "933860",
    "end": "940330"
  },
  {
    "text": "And we're just going to plug\nin what our assumption is. So we have integral\nfrom 0 to infinity.",
    "start": "940330",
    "end": "948500"
  },
  {
    "text": "And we said we had n of h. And we said that that's\ngoing to be lambda h.",
    "start": "948500",
    "end": "954520"
  },
  {
    "text": "So let's just put\nthat in, lambda h.",
    "start": "954520",
    "end": "961900"
  },
  {
    "text": "And then we said,\nfor waiting time, we said it was going\nto be 1/2, so 1/2 h.",
    "start": "961900",
    "end": "972550"
  },
  {
    "text": "And then we're going to\nmultiply times the PVF the probability of\nthat headway times dh.",
    "start": "972550",
    "end": "979930"
  },
  {
    "start": "979930",
    "end": "992990"
  },
  {
    "text": "All right, and here\nwe have the same, but without the waiting time. ",
    "start": "992990",
    "end": "1001980"
  },
  {
    "text": "So that's just\nsubstitution, shouldn't be anything wrong with that. So now, lambda and 1/2 come out.",
    "start": "1001980",
    "end": "1010410"
  },
  {
    "text": "They're not a function of\nh, so they are constants. We can take them out. And we are left with, let's see,\nlambda over 2 integral from 0",
    "start": "1010410",
    "end": "1022290"
  },
  {
    "text": "to infinity of h squared--",
    "start": "1022290",
    "end": "1027390"
  },
  {
    "text": "because we have two h's here-- times dh dh.",
    "start": "1027390",
    "end": "1035819"
  },
  {
    "text": "And here we have--\nlambda comes out. And we integrate from 0\nto infinity of h dh dh.",
    "start": "1035819",
    "end": "1046589"
  },
  {
    "text": "OK, now the first\nobservation is that lambda has come out on both sides.",
    "start": "1046589",
    "end": "1053770"
  },
  {
    "text": "So there's just one lambda on\nthe top, one on the bottom, so we can cancel them out. So that's very convenient.",
    "start": "1053770",
    "end": "1060669"
  },
  {
    "text": "What does that mean? This happens because\nwe are assuming that lambda is constant.",
    "start": "1060670",
    "end": "1065870"
  },
  {
    "text": "That wouldn't happen\nif it weren't constant. But that's convenient, right? So now we have some\nquantity that does not",
    "start": "1065870",
    "end": "1072760"
  },
  {
    "text": "depend on the arrival rate. So the same equation is\nnot affected by that.",
    "start": "1072760",
    "end": "1078820"
  },
  {
    "text": "And let's see if\nwe can recognize what these quantities are.",
    "start": "1078820",
    "end": "1084720"
  },
  {
    "text": "So let's start with\nthe one on the bottom. This is the definition\nof the expectancy.",
    "start": "1084720",
    "end": "1091680"
  },
  {
    "text": "So this is just the average. So we're essentially\nsaying, take every--",
    "start": "1091680",
    "end": "1099330"
  },
  {
    "text": "take the average headway,\nso take every headway, and multiply times the\nprobability of observing it. Add them all up.",
    "start": "1099330",
    "end": "1105610"
  },
  {
    "text": "That's what the average is. So we have 2 times\nthe expected headway.",
    "start": "1105610",
    "end": "1116290"
  },
  {
    "text": "And at the top, we have the\nexpectants of h squared. ",
    "start": "1116290",
    "end": "1124179"
  },
  {
    "text": "So I think that takes\nus to where we are on this slide, which is great.",
    "start": "1124180",
    "end": "1131450"
  },
  {
    "text": "So part of it was\njust recognizing that that was the definition\nof expectants, so that's great.",
    "start": "1131450",
    "end": "1138410"
  },
  {
    "text": "And now, somehow, we go\nfrom here to this equation.",
    "start": "1138410",
    "end": "1145000"
  },
  {
    "text": "It's not entirely clear,\nbut it's convenient",
    "start": "1145000",
    "end": "1152730"
  },
  {
    "text": "that variance is a function of\nthe expectants of h squared. So I'll just remind you,\nif you haven't seen it,",
    "start": "1152730",
    "end": "1160020"
  },
  {
    "text": "then introduce you to the\ndefinition-- or not quite the definition, actually. This is you take the\ndefinition and you expand it",
    "start": "1160020",
    "end": "1167400"
  },
  {
    "text": "and collect like terms. And then you get that\nthe variance of h",
    "start": "1167400",
    "end": "1173590"
  },
  {
    "text": "is the expectation of h squared\nminus the expectation of h",
    "start": "1173590",
    "end": "1186450"
  },
  {
    "text": "quantity squared, so means\nof square minus squares mean.",
    "start": "1186450",
    "end": "1191700"
  },
  {
    "text": "You might have seen that before. So essentially, if we solve that\nequation for expectation of h",
    "start": "1191700",
    "end": "1199520"
  },
  {
    "text": "squared and plug that in here,\nwe can collect like terms and get this last equation.",
    "start": "1199520",
    "end": "1205580"
  },
  {
    "text": "So now we have that\nthe expected waiting time is half the headway\ntimes some adjustment factor.",
    "start": "1205580",
    "end": "1213680"
  },
  {
    "text": "And that adjustment factor\nis 1 plus some amount-- that amount is what we call\nthe coefficient of variation--",
    "start": "1213680",
    "end": "1222340"
  },
  {
    "text": "squared. So coefficient of variation\nis standard deviation divided by mean. So we have normalizing\nthe standard deviation.",
    "start": "1222340",
    "end": "1228360"
  },
  {
    "text": "You square that quantity. You add it to 1. And that'll increase your\nwaiting time by some amount.",
    "start": "1228360",
    "end": "1235309"
  },
  {
    "text": " Let's stop here for a second. Any questions with the\nderivation and what",
    "start": "1235310",
    "end": "1243550"
  },
  {
    "text": "the meaning of this is?  Yes, Henry? AUDIENCE: Can you\ngo back to that step",
    "start": "1243550",
    "end": "1249410"
  },
  {
    "text": "where you went from the\nintegral to 2 e of h. GABRIEL SANCHEZ-MARTINEZ: Here? AUDIENCE: Yeah.",
    "start": "1249410",
    "end": "1254890"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: So\nthis is a matter of definition. So this here, the\nintegral from 0--",
    "start": "1254890",
    "end": "1260010"
  },
  {
    "text": "from negative infinity to\npositive infinity of some amount times the probability of\nobserving that amount over all",
    "start": "1260010",
    "end": "1267540"
  },
  {
    "text": "possibilities of the amount-- that's why we go from negative\ninfinity to positive infinity-- equals the average\nof that amount,",
    "start": "1267540",
    "end": "1275020"
  },
  {
    "text": "or the expectation\nof that amount. So that part-- do\nyou understand?",
    "start": "1275020",
    "end": "1280149"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] GABRIEL SANCHEZ-MARTINEZ: Yes? And then here, we're\njust saying, well, this is the same thing,\nexcept of the amount instead",
    "start": "1280150",
    "end": "1287800"
  },
  {
    "text": "of being h is h squared. So we're taking the\naverage of h squared.",
    "start": "1287800",
    "end": "1294070"
  },
  {
    "text": "This comes from here to\nhere from the definition of expectation.",
    "start": "1294070",
    "end": "1299120"
  },
  {
    "text": "And the reason we're not\ngoing from negative infinity to positive infinity\nis that h can only",
    "start": "1299120",
    "end": "1304270"
  },
  {
    "text": "take non-negative values. It can be 0 or higher. So it's the same thing to\nintegrate from 0 to infinity,",
    "start": "1304270",
    "end": "1311890"
  },
  {
    "text": "in that case. Does that clear up the question?",
    "start": "1311890",
    "end": "1317030"
  },
  {
    "text": "Any other questions?  So now we have this modified\nmodel of waiting time,",
    "start": "1317030",
    "end": "1329030"
  },
  {
    "text": "mainly for\nhigh-frequency service, where people are\narriving randomly but vehicles are not\nnecessarily departing stops",
    "start": "1329030",
    "end": "1335070"
  },
  {
    "text": "deterministically on\nequal intervals anymore. Now these vehicles can come--",
    "start": "1335070",
    "end": "1340730"
  },
  {
    "text": "as long as they come independent\nof the passenger arrival process, it doesn't really\nmatter how they come.",
    "start": "1340730",
    "end": "1346780"
  },
  {
    "text": "This model calculates\nthe expected waiting time across all passengers.",
    "start": "1346780",
    "end": "1352650"
  },
  {
    "text": "So we have some cases\nthat we can look at. First case is simple. Let's say that\nthe variance is 0.",
    "start": "1352650",
    "end": "1358429"
  },
  {
    "text": "That means we go back\nto the assumption of, well, if the variance\nof headway is 0,",
    "start": "1358430",
    "end": "1363740"
  },
  {
    "text": "vehicles are arriving exactly\nevery five minutes, say. They're deterministically\nat equally spaced intervals.",
    "start": "1363740",
    "end": "1370890"
  },
  {
    "text": "So we then have that the\ncoefficients of variation is 0. And we end up with the\nsame thing we had before.",
    "start": "1370890",
    "end": "1377610"
  },
  {
    "text": "So that really checks out\nwith our previous model in that special case, but\nwe generalized the model.",
    "start": "1377610",
    "end": "1383570"
  },
  {
    "text": "So we can try it with different\nvehicle arrival or departure processes. One that we have here is, let's\nsay that vehicle departures are",
    "start": "1383570",
    "end": "1391002"
  },
  {
    "text": "a Poisson process. So this would mean that they are\narriving randomly, essentially,",
    "start": "1391002",
    "end": "1396769"
  },
  {
    "text": "and that the time of arrival\nof a vehicle at a stop is independent of any\nother previous arrival.",
    "start": "1396770",
    "end": "1404269"
  },
  {
    "text": "So that would be a good\nmodel for a service that is controlled very loosely.",
    "start": "1404270",
    "end": "1409610"
  },
  {
    "text": "They are hardly controlled. So you essentially\nsometimes see bunching. Sometimes you don't.",
    "start": "1409610",
    "end": "1415130"
  },
  {
    "text": "Sometimes you have\na long headway. Sometimes you don't. So the definition-- if you go\nthrough the Poisson process",
    "start": "1415130",
    "end": "1423230"
  },
  {
    "text": "and look at the definitions of\nthe probability distributions of inter-arrival\ntimes, et cetera,",
    "start": "1423230",
    "end": "1428720"
  },
  {
    "text": "you will see that the\nvariance in such a process is the square of\nthe expectation, so the square of the mean.",
    "start": "1428720",
    "end": "1435299"
  },
  {
    "text": "And if we plug that\ninto our equation, we get that the expected waiting\ntime is the expected headway.",
    "start": "1435300",
    "end": "1443120"
  },
  {
    "text": "So people are essentially\nwaiting about as long as your mean headway,\nwhich is a bad situation.",
    "start": "1443120",
    "end": "1451210"
  },
  {
    "text": "You've doubled\ntheir waiting time from half the headway\nto the full headway.",
    "start": "1451210",
    "end": "1457970"
  },
  {
    "text": "If you have a system where\nyour vehicles are all bunched and you're running\npairs of bunches,",
    "start": "1457970",
    "end": "1463460"
  },
  {
    "text": "that's more or less what\nyou get, because you have--",
    "start": "1463460",
    "end": "1468649"
  },
  {
    "text": "if you had vehicles\nevery 5 minutes, now you have two vehicles every 10.",
    "start": "1468650",
    "end": "1473672"
  },
  {
    "text": "Your average headway is\nfive, but your waiting time is now five as well.",
    "start": "1473672",
    "end": "1480700"
  },
  {
    "text": "OK, what about the third case? The headway sequence is\n5, 15, 5, 15, 5, 15--",
    "start": "1480700",
    "end": "1487070"
  },
  {
    "text": "thank you, keep going like\nthat, so not quite bunched all the way, but there\nis a lot of variability.",
    "start": "1487070",
    "end": "1492240"
  },
  {
    "text": "So I'm saying that the\nexpected headway is 10. Does that make sense? It's 5, 15, 5, 15.",
    "start": "1492240",
    "end": "1498120"
  },
  {
    "text": "The average of\nthat process is 10. So we have an average\nheadway of 10.",
    "start": "1498120",
    "end": "1504840"
  },
  {
    "text": "And now what's the\nexpected waiting time? ",
    "start": "1504840",
    "end": "1510720"
  },
  {
    "text": "So it helps to draw a timeline\nand to divide that timeline",
    "start": "1510720",
    "end": "1519630"
  },
  {
    "text": "into pieces, so 5, 15, 5, 15.",
    "start": "1519630",
    "end": "1536910"
  },
  {
    "text": "So we have vehicles arriving\nor departing here, here, here,",
    "start": "1536910",
    "end": "1547670"
  },
  {
    "text": "and here. And there is a\nfive-minute headway here,",
    "start": "1547670",
    "end": "1553153"
  },
  {
    "text": "and a 15-minute headway here,\na five-minute headway there, and a 15-minute headway here. And people are\narriving randomly.",
    "start": "1553154",
    "end": "1558860"
  },
  {
    "text": "People arrive independent\nof this process. So what you'll see is\nthat, the first thing",
    "start": "1558860",
    "end": "1565260"
  },
  {
    "text": "is, if you were to arrive\non a five-minute headway, the average waiting\ntime for you would",
    "start": "1565260",
    "end": "1571080"
  },
  {
    "text": "be half of that five-minute\nheadway, 2 and 1/2 minutes. And if you arrive on\n15-minute headway,",
    "start": "1571080",
    "end": "1578470"
  },
  {
    "text": "then your expected\nwaiting time, given that you arrive on a 15-minute\nheadway is 7 and 1/2 minutes.",
    "start": "1578470",
    "end": "1584580"
  },
  {
    "text": "So that's the 2.5 and\nthe 7.5 on this equation. And then we have\nthe probabilities",
    "start": "1584580",
    "end": "1589980"
  },
  {
    "text": "of having arrived on\nany of those headways. Because the 15-minute\nheadway is 3 times longer",
    "start": "1589980",
    "end": "1595380"
  },
  {
    "text": "than the 5-minute headway,\nyou are 3 times more likely to arrive during\na 15-minute headway",
    "start": "1595380",
    "end": "1600929"
  },
  {
    "text": "than during a 5-minute headway. So therefore, 25% of\npassengers will arrive",
    "start": "1600930",
    "end": "1606600"
  },
  {
    "text": "on the 15-minute headways. And you essentially\ncomputing a weighted average,",
    "start": "1606600",
    "end": "1613320"
  },
  {
    "text": "so 6 and 1/4 minutes. ",
    "start": "1613320",
    "end": "1619482"
  },
  {
    "text": "Questions on this? ",
    "start": "1619482",
    "end": "1633130"
  },
  {
    "text": "All right, another\nassumption that we were looking at\nin the first model that we are still\nhaving in this model",
    "start": "1633130",
    "end": "1638770"
  },
  {
    "text": "is that people can\nboard the first vehicle that they see arrive. So no vehicle is too\nfull to take passengers.",
    "start": "1638770",
    "end": "1646870"
  },
  {
    "text": "No vehicle is leaving\npeople behind. That's not true. If we look at any\nprocess, and we say here",
    "start": "1646870",
    "end": "1654309"
  },
  {
    "text": "that w0 is the\nexpected waiting time when people can board\ntheir first vehicle,",
    "start": "1654310",
    "end": "1660580"
  },
  {
    "text": "so when no vehicle\nis full, and we then look at all the expected waiting\ntimes for passengers including",
    "start": "1660580",
    "end": "1668630"
  },
  {
    "text": "passengers that are left\nbehind, when that capacity is being reached-- so here on the\nhorizontal, we have rho,",
    "start": "1668630",
    "end": "1675640"
  },
  {
    "text": "which is flow over capacity.  You may have seen this\nkind of relationship",
    "start": "1675640",
    "end": "1682000"
  },
  {
    "text": "from queuing theory. So when rho is 0, it means\nthat you will have some supply and nobody is using it.",
    "start": "1682000",
    "end": "1688090"
  },
  {
    "text": "If rho is 0.5,\nthen your capacity is double of the demand.",
    "start": "1688090",
    "end": "1694780"
  },
  {
    "text": "That's OK usually. If rho is 1, you are-- your capacity\nequals your demand.",
    "start": "1694780",
    "end": "1700600"
  },
  {
    "text": "And what we see is that\nthe expected waiting time for service will\nstart to approach infinity.",
    "start": "1700600",
    "end": "1707735"
  },
  {
    "text": "There is a term that we use\nin, say, queuing theory, for such a system. Does anybody know it?",
    "start": "1707735",
    "end": "1713340"
  },
  {
    "start": "1713340",
    "end": "1718370"
  },
  {
    "text": "We say that the system\nblows up when this happens. If you hear that,\nyou'll see that.",
    "start": "1718370",
    "end": "1725000"
  },
  {
    "text": "If you take any sort of queuing\ntheory, you'll hear that. So as rho equals 1, let's\nsay that you have-- you're",
    "start": "1725000",
    "end": "1732980"
  },
  {
    "text": "providing a bus\nservice with capacity for 100 people per minute.",
    "start": "1732980",
    "end": "1739550"
  },
  {
    "text": "That's pretty high. And then your demand equals\n100 people per minute.",
    "start": "1739550",
    "end": "1747060"
  },
  {
    "text": "So if people are\narriving uniformly, you might just provide\na capacity for everyone.",
    "start": "1747060",
    "end": "1752450"
  },
  {
    "text": "And nobody is being left behind. But that doesn't happen,\nbecause people arrive randomly. ",
    "start": "1752450",
    "end": "1760940"
  },
  {
    "text": "Some people will leave with\nsome remaining capacity. And the next vehicle won't have\nenough space for that person.",
    "start": "1760940",
    "end": "1766670"
  },
  {
    "text": "And then the vehicles\nthemselves will not arrive perfectly\nevenly, so now you have a chain reaction of\npeople waiting and not",
    "start": "1766670",
    "end": "1774710"
  },
  {
    "text": "being able to board. And unless you\nsupply more capacity, unless you increase\nthe capacity,",
    "start": "1774710",
    "end": "1780410"
  },
  {
    "text": "you're going to have more\nand more people waiting and being left behind. So the actual\nexpected waiting time",
    "start": "1780410",
    "end": "1786200"
  },
  {
    "text": "would increase as your ratio of\nflow to capacity approaches 1. That's the takeaway here.",
    "start": "1786200",
    "end": "1793220"
  },
  {
    "text": "And you could think of\ntwo different lines, one for low reliability when\nthere is a lot of bunching,",
    "start": "1793220",
    "end": "1801260"
  },
  {
    "text": "and therefore, a lot of the\ncapacity that you provide is wasted on small\nheadways that are not",
    "start": "1801260",
    "end": "1807440"
  },
  {
    "text": "serving as many passengers as\nyou assign them for, and then high reliability,\nwhere, yes, you still",
    "start": "1807440",
    "end": "1813560"
  },
  {
    "text": "have some variability\nthat you can't control. You've done what you can. And this is relatively\nhigh reliability,",
    "start": "1813560",
    "end": "1820940"
  },
  {
    "text": "but still you have\nsome variability, and therefore, you can't expect\nto reach that rho equals 1.",
    "start": "1820940",
    "end": "1828020"
  },
  {
    "text": "It'll still blow up when you-- as you approach 1. But it's closer to\n1, so that's good.",
    "start": "1828020",
    "end": "1833870"
  },
  {
    "text": "Questions on this relationship? [INAUDIBLE]? AUDIENCE: What do most\nbus services operate",
    "start": "1833870",
    "end": "1840032"
  },
  {
    "text": "at [INAUDIBLE]? GABRIEL SANCHEZ-MARTINEZ:\nI don't have a number off the top of my head.",
    "start": "1840032",
    "end": "1845370"
  },
  {
    "text": "It varies a lot. And it varies a lot\nof by time period. So some services here in Boston\noperate during the peak leaving",
    "start": "1845370",
    "end": "1854290"
  },
  {
    "text": "people behind every day. If you look at some of\nthe most crowded stations",
    "start": "1854290",
    "end": "1860230"
  },
  {
    "text": "in the tube in London, certainly\nthey have to meter people going into stations. So they may have approached rho\ngreater than 1, in this case.",
    "start": "1860230",
    "end": "1869970"
  },
  {
    "text": "But it's non-stationary. So that's during the\npeak of the peak. And then the demand falls,\nso eventually, those people",
    "start": "1869970",
    "end": "1877120"
  },
  {
    "text": "are served, of course,\nbecause the supply is kept up at some-- at the highest\nrate that they can keep it.",
    "start": "1877120",
    "end": "1884350"
  },
  {
    "text": "And demand it comes\ndown, so it stabilizes. ",
    "start": "1884350",
    "end": "1890380"
  },
  {
    "text": "Any other questions? That's a good question. ",
    "start": "1890380",
    "end": "1895880"
  },
  {
    "text": "All right, so service\nvariation along routes-- so we've been\ntalking about vehicles",
    "start": "1895880",
    "end": "1901060"
  },
  {
    "start": "1896000",
    "end": "2990000"
  },
  {
    "text": "leaving on time or not\non time, and bunching. So here's what happens.",
    "start": "1901060",
    "end": "1906910"
  },
  {
    "text": "This is a space-time diagram. Have we seen these diagrams\non this course yet?",
    "start": "1906910",
    "end": "1912370"
  },
  {
    "text": "AUDIENCE: No. GABRIEL SANCHEZ-MARTINEZ:\nNo-- OK, well this is a very important diagram\nin public transportation, certainly.",
    "start": "1912370",
    "end": "1917380"
  },
  {
    "text": "AUDIENCE: And the\nhomework says to make one. So we should probably-- GABRIEL SANCHEZ-MARTINEZ: Great. AUDIENCE: --learn it. I was wondering what it was. GABRIEL SANCHEZ-MARTINEZ:\nThis is a space-time diagram.",
    "start": "1917380",
    "end": "1923691"
  },
  {
    "text": "You have space on the y-axis\nand time on the x-axis.",
    "start": "1923691",
    "end": "1929180"
  },
  {
    "text": "And what you see\nare some lines that show how a vehicle is moving\nacross space and time.",
    "start": "1929180",
    "end": "1936550"
  },
  {
    "text": "So there are variations of this. Sometimes people put time\non the vertical and space",
    "start": "1936550",
    "end": "1943510"
  },
  {
    "text": "on the horizontal. That's fine. And typically, you see\nlittle steps for each stop,",
    "start": "1943510",
    "end": "1949390"
  },
  {
    "text": "because if a vehicle is\nstopped, time is running and the vehicle is not moving,\nso you see little steps.",
    "start": "1949390",
    "end": "1955910"
  },
  {
    "text": "So you can see holding. You can see dwell times. You can see speeds. You can see recovery time\nat a terminal, everything",
    "start": "1955910",
    "end": "1962980"
  },
  {
    "text": "on this diagram. So it's a great diagram\nfor analyzing service. AUDIENCE: When we make,\nshould we make them like this?",
    "start": "1962980",
    "end": "1969250"
  },
  {
    "text": "Or like-- GABRIEL SANCHEZ-MARTINEZ:\nThe little steps are-- AUDIENCE: Little steps-- GABRIEL SANCHEZ-MARTINEZ:\nYeah, I mean, they're helpful.",
    "start": "1969250",
    "end": "1974990"
  },
  {
    "text": "You'll see dwell times, so yeah. So this is a conceptual\nvery simplified diagram, but here is the idea.",
    "start": "1974990",
    "end": "1981850"
  },
  {
    "text": "So you have some scheduled\ntrajectories in dashed lines. So we're essentially planning\nto run service every 10 minutes,",
    "start": "1981850",
    "end": "1990130"
  },
  {
    "text": "departing from Stop 1 at\n9:00, 9:10, 9:20, et cetera.",
    "start": "1990130",
    "end": "1995540"
  },
  {
    "text": "And if things run\naccording to plan, you will keep a 10-minute\nheadway throughout the route.",
    "start": "1995540",
    "end": "2000664"
  },
  {
    "text": "But that's not what happens. If we observe-- let's\nsay that the driver that was driving the bus\nthat departed at 9:10",
    "start": "2000664",
    "end": "2007990"
  },
  {
    "text": "is a slow driver, so that\ndriver drives slowly. So therefore, more time passes\ncovering the same space.",
    "start": "2007990",
    "end": "2016960"
  },
  {
    "text": "And then let's say that the\n9:20 driver is a fast driver. So that driver covers more\ndistance in less time.",
    "start": "2016960",
    "end": "2022890"
  },
  {
    "text": "And they bunch. They meet somewhere before they\nreach the end of the route. They've platooned.",
    "start": "2022890",
    "end": "2029580"
  },
  {
    "text": "And they're running\ntogether as a bunch. So what does that do to headway?",
    "start": "2029580",
    "end": "2034830"
  },
  {
    "text": " AUDIENCE: What does\nwhat do to headway?",
    "start": "2034830",
    "end": "2040680"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: What\ndoes this process of bunching do to headways? AUDIENCE: It increases. GABRIEL SANCHEZ-MARTINEZ: Right?",
    "start": "2040680",
    "end": "2046060"
  },
  {
    "text": "Headways are increasing,\nbecause now you've-- well, the average\nheadway remains the same, because you have a\n0 and a big number.",
    "start": "2046060",
    "end": "2052760"
  },
  {
    "text": "But what people actually\nsee are the long headways, because the chance of\narriving and just catching",
    "start": "2052760",
    "end": "2058580"
  },
  {
    "text": "the 30-second headway\nis much smaller. So people are waiting more\nbecause these headways are",
    "start": "2058580",
    "end": "2064699"
  },
  {
    "text": "longer. Yeah? AUDIENCE: Well, you probably\nhave more people waiting. So there is [INAUDIBLE]-- GABRIEL SANCHEZ-MARTINEZ:\nYeah, so there's",
    "start": "2064699",
    "end": "2070857"
  },
  {
    "text": "a vicious cycle here, right? Yeah, we'll get to\nthat on the next slide. AUDIENCE: It would be better\nif the fast driver got",
    "start": "2070858",
    "end": "2077001"
  },
  {
    "text": "in front of the slow driver. GABRIEL SANCHEZ-MARTINEZ: Yeah,\nwe'll talk about that too. We'll talk about that too.",
    "start": "2077001",
    "end": "2082793"
  },
  {
    "text": " OK, so do we understand\nthis process of bunching?",
    "start": "2082793",
    "end": "2090436"
  },
  {
    "text": "Here is what you were\ntalking about, Ari? So there is an issue\nwhen that happens. So now we have the\nlittle steps here.",
    "start": "2090436",
    "end": "2096859"
  },
  {
    "text": "So this is Step 2, Step 3. And these are the dwell times. So nothing happened on bus one.",
    "start": "2096860",
    "end": "2103055"
  },
  {
    "text": "It ran exactly as planned in\nthis hypothetical example. But because this driver was\nslow, the headway was bigger.",
    "start": "2103055",
    "end": "2109990"
  },
  {
    "text": "And more people arrived\nduring the headway. So now the dwell\ntimes at Stop 2 are going to be longer for that\ndriver that was driving slow.",
    "start": "2109990",
    "end": "2117289"
  },
  {
    "text": "Now that bus has\nmore passengers. And therefore, the probability\nof stopping at the next stop is higher, because\nyou have more people,",
    "start": "2117290",
    "end": "2123200"
  },
  {
    "text": "so the chance that at least\none person on that bus wants to get off at\nthe next one is higher.",
    "start": "2123200",
    "end": "2129980"
  },
  {
    "text": "And if the bus is\nreally crowded, the dwell time process is\ngoing to be slowed down by just friction\nbetween passengers.",
    "start": "2129980",
    "end": "2138610"
  },
  {
    "text": "So this bus continues\nto be delayed, not just by the driver driving slow,\nbut by the dwell time effect.",
    "start": "2138610",
    "end": "2146840"
  },
  {
    "text": "And because that bus\nis being delayed, fewer people are arriving to\nsee the next bus, the third bus.",
    "start": "2146840",
    "end": "2154460"
  },
  {
    "text": " The dwell times of that third\nbus are shorter than planned.",
    "start": "2154460",
    "end": "2162080"
  },
  {
    "text": "Fewer people are\nwaiting for that bus. And therefore, that bus\nhas a lower probability of having to stop.",
    "start": "2162080",
    "end": "2167710"
  },
  {
    "text": "And if it stops, fewer\npeople will board it. So that bus is\ngoing to run fast. Even if the drivers are now\ndriving at the same speed,",
    "start": "2167710",
    "end": "2176374"
  },
  {
    "text": "there is nothing you can do. They will bunch. Well, there is something you\ncan-- you can control them. And that's a later\ntopic in the course.",
    "start": "2176374",
    "end": "2182809"
  },
  {
    "text": "So they pair or they bunch,\nthat's what we're saying. OK, so if we think\nabout how if you",
    "start": "2182810",
    "end": "2190790"
  },
  {
    "text": "were to survey headways\nof different points along the route,\nyou would see that, if you start at a terminal--",
    "start": "2190790",
    "end": "2198450"
  },
  {
    "text": "this is like a probability\ndensity function, but they're not normalized. So don't think about scale.",
    "start": "2198450",
    "end": "2204799"
  },
  {
    "text": "So you have headway\non the horizontal. And the probability\ndensity on the vertical.",
    "start": "2204800",
    "end": "2210600"
  },
  {
    "text": "And so at the terminal or close\nto the start of the route, you will see something\nbell-shaped usually.",
    "start": "2210600",
    "end": "2216800"
  },
  {
    "text": " It'll be around the\nscheduled departure time,",
    "start": "2216800",
    "end": "2222620"
  },
  {
    "text": "or around the headway. And there will be some\nvariability due to drivers",
    "start": "2222620",
    "end": "2229190"
  },
  {
    "text": "not being exactly on time when\nthey leave, and supervision issues, or whatever it is.",
    "start": "2229190",
    "end": "2235220"
  },
  {
    "text": "So maybe the boarding\nprocess at the first stop introduces some perturbations.",
    "start": "2235220",
    "end": "2240260"
  },
  {
    "text": "But it's essentially\nbell-shaped. And it has less variability. As you move to the\nmiddle of the route,",
    "start": "2240260",
    "end": "2246290"
  },
  {
    "text": "you'll see that\nthe bell is being-- it's getting fatter and fatter\ntails, so more variability",
    "start": "2246290",
    "end": "2254930"
  },
  {
    "text": "in the headway because\nof the bunching problem that we just described.",
    "start": "2254930",
    "end": "2260780"
  },
  {
    "text": "Usually by the time you\nsee bunching, your-- which could be at the end, or\nit could be before the end,",
    "start": "2260780",
    "end": "2266780"
  },
  {
    "text": "you'll have this\ndistribution with two spots,",
    "start": "2266780",
    "end": "2272750"
  },
  {
    "text": "a lot of vehicles having\nheadway of 0 or very close to 0, and a lot of headways\nlonger than that",
    "start": "2272750",
    "end": "2279290"
  },
  {
    "text": "by some amount with\na lot of variability. So these are pairs\nthat are arriving.",
    "start": "2279290",
    "end": "2285470"
  },
  {
    "text": "So every time you see a pair\narriving, one of them is 0. And the other one is\nsome longer headway.",
    "start": "2285470",
    "end": "2291620"
  },
  {
    "text": "And they are affecting these\ntwo parts of the probability",
    "start": "2291620",
    "end": "2297524"
  },
  {
    "text": "distribution. Is that understood? Any questions?",
    "start": "2297524",
    "end": "2304292"
  },
  {
    "text": "[INAUDIBLE] AUDIENCE: So the big\npoint you're talking about is the lower--",
    "start": "2304292",
    "end": "2309796"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nSo essentially-- AUDIENCE: --the lower curve? GABRIEL SANCHEZ-MARTINEZ: --it's\njust, yes, this one right here.",
    "start": "2309796",
    "end": "2316200"
  },
  {
    "text": "So essentially, it's just\nhigher variability of headways. So variability of headways\ntends to be minimized",
    "start": "2316200",
    "end": "2325880"
  },
  {
    "text": "at the start of a run. And then that degrades. It increases as you run the\nroute until you have bunching.",
    "start": "2325880",
    "end": "2332339"
  },
  {
    "text": "And when you have bunching,\nyou reach this point of having some vehicles that\nare close to 0 and others",
    "start": "2332340",
    "end": "2338430"
  },
  {
    "text": "that are anywhere else.  So that means the\nwaiting time is",
    "start": "2338430",
    "end": "2344460"
  },
  {
    "text": "a function of\nheadway as scheduled, also of headway reliability.",
    "start": "2344460",
    "end": "2350730"
  },
  {
    "text": "So if you're running a service\nthat is well controlled and you have good headways, then\nyou may never reach this point.",
    "start": "2350730",
    "end": "2357090"
  },
  {
    "text": "And you may actually\nhave everything running somewhat bell-shaped,\nnot too much variance. That's your ideal situation.",
    "start": "2357090",
    "end": "2364450"
  },
  {
    "text": "And then it's also a function of\nwhere you are along the route. So if you're closer to a\ncontrolled point, which",
    "start": "2364450",
    "end": "2370554"
  },
  {
    "text": "could be the\nterminal, or it could be anywhere along the route,\nif there is control en route,",
    "start": "2370554",
    "end": "2375990"
  },
  {
    "text": "then you will have less\nvariability of headways. ",
    "start": "2375990",
    "end": "2381620"
  },
  {
    "text": "As you run downstream of\nthe last control point, then you will see\ngreater variability.",
    "start": "2381620",
    "end": "2388000"
  },
  {
    "text": "Great, so what factors affect\nthe headway deterioration?",
    "start": "2388000",
    "end": "2393510"
  },
  {
    "text": "Length of route is one. So if he no longer route, then\nit takes an hour and a half",
    "start": "2393510",
    "end": "2399180"
  },
  {
    "text": "to cover the whole one-direction\nrun, the half cycle,",
    "start": "2399180",
    "end": "2404339"
  },
  {
    "text": "then this deterioration has-- that process has more\ntime to act on the route.",
    "start": "2404340",
    "end": "2411030"
  },
  {
    "text": "So you will see more headway\nunreliability, more bunching.",
    "start": "2411030",
    "end": "2416160"
  },
  {
    "text": "The marginal dwell time per\npassengers is another factor. If you think of--",
    "start": "2416160",
    "end": "2421190"
  },
  {
    "text": "well, we just saw that\nthe bunching process is largely affected\nby dwell time,",
    "start": "2421190",
    "end": "2427560"
  },
  {
    "text": "because if you have\na longer headway, more people are boarding. So if you think\nof an extreme case where everybody boards\nand alights instantly,",
    "start": "2427560",
    "end": "2434650"
  },
  {
    "text": "then you don't have\nthat effect anymore. So to the extent that\npeople can board and alight",
    "start": "2434650",
    "end": "2440670"
  },
  {
    "text": "fast relative to the time\nit takes to run the service, then this effect\ndiminishes to the extent",
    "start": "2440670",
    "end": "2448350"
  },
  {
    "text": "that dwell time is\na larger percentage of the total runtime. Then it increases. You have more bunching.",
    "start": "2448350",
    "end": "2454650"
  },
  {
    "text": "The stopping\nprobability-- again, this has to do with\nhow many people are on the bus and\nthe stop spacing.",
    "start": "2454650",
    "end": "2460825"
  },
  {
    "text": "If stops are spaced very\nclose to each other, then you have a higher\nvariance of where you stop.",
    "start": "2460825",
    "end": "2467650"
  },
  {
    "start": "2467650",
    "end": "2473880"
  },
  {
    "text": "if you have a long\ndistance between stations, if you think of a\ncommuter rail line,",
    "start": "2473880",
    "end": "2478890"
  },
  {
    "text": "then you're going to\nstop at every stop. And therefore, you\ndecrease the variability of this effect of stopping.",
    "start": "2478890",
    "end": "2485279"
  },
  {
    "text": "So you have the urban\nbus route in one hand and the commuter rail with\nlong distances between stops,",
    "start": "2485280",
    "end": "2492420"
  },
  {
    "text": "and therefore stopping at\nevery stop, on the other hand. The schedule headway\nhas an impact.",
    "start": "2492420",
    "end": "2498030"
  },
  {
    "text": "If you schedule the\nheadways every 30 minutes, it's unlikely\nyou'll see bunching. But if you schedule the\nheadways every two minutes, then",
    "start": "2498030",
    "end": "2506215"
  },
  {
    "text": "it's very easy for\nyou to see bunching. You have to control\nthis very well to avoid bunching in that case.",
    "start": "2506216",
    "end": "2512480"
  },
  {
    "text": "And driver behavior--\nif your vehicles are driven by very good\ndrivers or computers",
    "start": "2512480",
    "end": "2521390"
  },
  {
    "text": "on the extreme right, driven\nwith driverless trains, then you can really\nsort of try to make up",
    "start": "2521390",
    "end": "2528170"
  },
  {
    "text": "for all of these\nthings in driving and try to keep things even. If they are drivers that are\nnot particularly well trained",
    "start": "2528170",
    "end": "2536150"
  },
  {
    "text": "and have not received feedback,\nfor example, on their driving speeds and other behavior,\nand not just that,",
    "start": "2536150",
    "end": "2543559"
  },
  {
    "text": "but also being on\ntime at the terminal and leaving exactly on\ntime, things like that,",
    "start": "2543560",
    "end": "2549830"
  },
  {
    "text": "would all affect this. So here is a simple model of\nhow headway will deteriorate.",
    "start": "2549830",
    "end": "2555350"
  },
  {
    "text": "So there is also a mistake\non the integration. That should be p i, not p i\nminus 1, sorry about that.",
    "start": "2555350",
    "end": "2561230"
  },
  {
    "text": " So we have that the headway\ndeviation at some stop--",
    "start": "2561230",
    "end": "2568340"
  },
  {
    "text": "here, we're thinking\nabout a scheduled headway and the actual headway we see. So if service is running\nexactly on time, ei is 0.",
    "start": "2568340",
    "end": "2576530"
  },
  {
    "text": "If that bus is delayed,\nthen ei is positive. And if it's running\nearly, ei is negative.",
    "start": "2576530",
    "end": "2582170"
  },
  {
    "text": "So you start out-- you go from one\nstop to the next. And the deviation of\nheadway you see at some stop",
    "start": "2582170",
    "end": "2589440"
  },
  {
    "text": "is going to be a\nfunction of how-- what the deviation was\nat the previous stop.",
    "start": "2589440",
    "end": "2595510"
  },
  {
    "text": "So if you're already\ndelayed, your chances of being delayed at the\nnext stop are higher. That should make sense.",
    "start": "2595510",
    "end": "2601070"
  },
  {
    "text": "Then you add the effect of\nrunning from that previous stop to this stop.",
    "start": "2601070",
    "end": "2606770"
  },
  {
    "text": "If you are particularly\nslow doing that, then your delay will increase.",
    "start": "2606770",
    "end": "2613000"
  },
  {
    "text": "If you try to drive fast\nto make up for that, then ti will be negative.",
    "start": "2613000",
    "end": "2618410"
  },
  {
    "text": "And it will decrease the impact\non headway deterioration.",
    "start": "2618410",
    "end": "2623960"
  },
  {
    "text": "Yeah? AUDIENCE: Do they ever just--\nso this seems to imply that, like, maybe I could\nfix my problem",
    "start": "2623960",
    "end": "2629240"
  },
  {
    "text": "by just dropping a\nbus from the schedule. Like, let's say I\nwas really behind,",
    "start": "2629240",
    "end": "2634610"
  },
  {
    "text": "I could just delay\nall the other buses and, like, take up the\nschedule of the next-- GABRIEL SANCHEZ-MARTINEZ:\nYeah, but you will have--",
    "start": "2634610",
    "end": "2641400"
  },
  {
    "text": "you still have a headway,\na longer headway, right? AUDIENCE: Yeah, [INAUDIBLE]-- GABRIEL SANCHEZ-MARTINEZ:\nSo you could make up your schedule that way. But you're essentially doing an\naccounting trick by doing that.",
    "start": "2641400",
    "end": "2651109"
  },
  {
    "text": "You can make your vehicles\nlook like they're all running on time by doing that.",
    "start": "2651110",
    "end": "2656450"
  },
  {
    "text": "And you dropped one trip. But you still have a\nlonger headway here and shorter headways there,\nand passengers boarding",
    "start": "2656450",
    "end": "2663349"
  },
  {
    "text": "mostly that delayed vehicle. And so from a\npassenger's perspective, that doesn't do much.",
    "start": "2663350",
    "end": "2670040"
  },
  {
    "text": "But then you have to\nconsider the effect of, well, you might have--\nyou might want to do that if your drivers\nneed to check out",
    "start": "2670040",
    "end": "2676480"
  },
  {
    "text": "at some time in the day. And your options are\neither, you do this now, or at some time when they check\nout, you have to drop trips.",
    "start": "2676480",
    "end": "2685660"
  },
  {
    "text": "And that could be\nduring the peak. So that would be\nreally bad, right? So then you would have to\nconsider that strategy.",
    "start": "2685660",
    "end": "2693713"
  },
  {
    "text": "AUDIENCE: And do buses\ntypically post, like, a scheduled time\nthat they're supposed to arrive at each stop?",
    "start": "2693713",
    "end": "2699110"
  },
  {
    "text": "Because normally-- GABRIEL SANCHEZ-MARTINEZ: Yes. AUDIENCE: --I see, like-- GABRIEL SANCHEZ-MARTINEZ:\n--especially now, so typically-- AUDIENCE: Like\nup-to-date minutes. GABRIEL SANCHEZ-MARTINEZ:\nSo London will say that.",
    "start": "2699110",
    "end": "2706160"
  },
  {
    "text": "So if it's high frequency-- and London, the\nthreshold is 12 minutes. So anything below, they'll\nsay, AM peak between--",
    "start": "2706160",
    "end": "2715760"
  },
  {
    "text": "expect service every eight\nminutes, for example. And then as soon as the\nheadway increases above that,",
    "start": "2715760",
    "end": "2722120"
  },
  {
    "text": "they'll say the times. But if you look at service\nhere, for example, here",
    "start": "2722120",
    "end": "2727160"
  },
  {
    "text": "in Boston, every bus route here,\nif you look at the DTFS file, has specific times at each\nstop, even though DTFS",
    "start": "2727160",
    "end": "2735040"
  },
  {
    "text": "has the option of\ngiving a headway for high-frequency service,\nthey don't do that here.",
    "start": "2735040",
    "end": "2742570"
  },
  {
    "text": "AUDIENCE: So only service\n[INAUDIBLE] time appear? GABRIEL SANCHEZ-MARTINEZ:\nYeah, but those DTFS file",
    "start": "2742570",
    "end": "2747600"
  },
  {
    "text": "has times at every stop.  So yeah, and that's\nanother thing,",
    "start": "2747600",
    "end": "2753500"
  },
  {
    "text": "that if you look at\nprinted schedules that are posted somewhere\nand on paper,",
    "start": "2753500",
    "end": "2758640"
  },
  {
    "text": "typically they'll\nhave the terminals and some time points in between\nand not every single stop. AUDIENCE: And the time points\n[INAUDIBLE] approximately",
    "start": "2758640",
    "end": "2765410"
  },
  {
    "text": "[INAUDIBLE]? GABRIEL SANCHEZ-MARTINEZ:\nWell, that depends on the control\npolicy of that agency. ",
    "start": "2765410",
    "end": "2772260"
  },
  {
    "text": "So we'll talk more about\ncontrol in a later lecture. So typically, you don't\ncontrol at every stop.",
    "start": "2772260",
    "end": "2779040"
  },
  {
    "text": "You control at, sometimes, just\nthe terminal, and sometimes at the terminal and some\nkey points in between.",
    "start": "2779040",
    "end": "2786180"
  },
  {
    "text": "And those are timing\npoints for control. OK, so back to this model, the\nheadway deviation at some stop",
    "start": "2786180",
    "end": "2797760"
  },
  {
    "text": "is, you start out from what\nit was in the previous stop. You add the effect\nof running time to that stop from\nthe previous one.",
    "start": "2797760",
    "end": "2804359"
  },
  {
    "text": "And then you add the effect\nof dwell time, essentially. So this pi, not pi minus\n1, as I said earlier--",
    "start": "2804360",
    "end": "2811870"
  },
  {
    "text": "and so this is the arrival\nrate at the stop right now and multiplied by the\nboarding time per passenger.",
    "start": "2811870",
    "end": "2819160"
  },
  {
    "text": "So this whole quantity is\nmultiplied by this amount,",
    "start": "2819160",
    "end": "2828450"
  },
  {
    "text": "which is the time it takes-- it's the deviation of the\ntime it takes to arrive.",
    "start": "2828450",
    "end": "2833630"
  },
  {
    "text": "So it's a deviation in\nheadway, essentially. So if you're headway is now\na minute longer than it used",
    "start": "2833630",
    "end": "2839420"
  },
  {
    "text": "to be, then you will have\na minute times the boarding rate per passenger times the\narrival rate of passengers,",
    "start": "2839420",
    "end": "2846860"
  },
  {
    "text": "extra people boarding,\nor extra time, extra time of dwell time\naffecting that bus,",
    "start": "2846860",
    "end": "2853437"
  },
  {
    "text": "and therefore slowing\nit down further. ",
    "start": "2853437",
    "end": "2859345"
  },
  {
    "text": "Does that make sense? Or should I break it\ndown a little bit? ",
    "start": "2859345",
    "end": "2864710"
  },
  {
    "text": "AUDIENCE: Did not answer\nthat question, but just to ask a question? AUDIENCE: Yeah, [INAUDIBLE]\ninterrupt anyone else.",
    "start": "2864710",
    "end": "2870210"
  },
  {
    "text": "AUDIENCE: So is this\naccounting for the fact that, if there is no one\ngetting on or off this stop,",
    "start": "2870210",
    "end": "2875400"
  },
  {
    "text": "the first person to\npull into a stop, decelerate, and open the door\ntakes a given amount of time.",
    "start": "2875400",
    "end": "2881770"
  },
  {
    "text": "And the marginal time\nto add an extra person is quite small, or\nrelatively small. Is that accounted for here?",
    "start": "2881770",
    "end": "2886957"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nNo, this model is saying that it's\na linear effect. You're not saying that\nthe first person takes--",
    "start": "2886957",
    "end": "2893099"
  },
  {
    "text": "AUDIENCE: So two would take\ntwice as long as one person. GABRIEL SANCHEZ-MARTINEZ:\nExactly, yeah, so that is a\nsimplification here. And it's a point\nthat we will address",
    "start": "2893100",
    "end": "2898967"
  },
  {
    "text": "towards the end of this lecture. AUDIENCE: OK, [INAUDIBLE]\nasking questions. GABRIEL SANCHEZ-MARTINEZ:\nGood segues, that's, like, the\nsecond one today.",
    "start": "2898967",
    "end": "2904728"
  },
  {
    "text": "AUDIENCE: This is only\nextra [INAUDIBLE] right? GABRIEL SANCHEZ-MARTINEZ:\nSo yeah, exactly, because this is a model\nof headway deviation.",
    "start": "2904728",
    "end": "2910390"
  },
  {
    "text": "So you have this passenger\narrival rate and the boarding time, but because you're\nonly multiplying it--",
    "start": "2910390",
    "end": "2915647"
  },
  {
    "text": "you're not multiplying it\ntimes the whole headway. You're multiplying times\nthe headway deviation, which is the deviation at this stop\nwhen you arrive and this stop.",
    "start": "2915647",
    "end": "2925210"
  },
  {
    "text": "It's the deviation\nwhen you were arriving at the previous stop plus\nthe time it took you to reach",
    "start": "2925210",
    "end": "2931380"
  },
  {
    "text": "this stop from that time. So now you have adjusted-- now\nyou have the deviation arriving at this stop.",
    "start": "2931380",
    "end": "2937680"
  },
  {
    "text": "If your headway is\na minute longer, than you need to add however\nmuch extra dwell time you have to pick up that\nextra minute of passengers.",
    "start": "2937680",
    "end": "2945155"
  },
  {
    "text": "An that's what that\nlast case is doing. ",
    "start": "2945155",
    "end": "2951589"
  },
  {
    "text": "AUDIENCE: So at the\nbeginning, the e will be 0 at the first stop? GABRIEL SANCHEZ-MARTINEZ:\nHopefully.",
    "start": "2951589",
    "end": "2956870"
  },
  {
    "text": " It depends on your\ncontrol policy. So if you depart your terminal\nand your driver didn't show up",
    "start": "2956870",
    "end": "2965480"
  },
  {
    "text": "on time and they left a minute\nlate from the even headway, then you start out with\none minute deviation.",
    "start": "2965480",
    "end": "2973350"
  },
  {
    "text": "So yeah, hopefully that\nis 0 at the beginning. And then due to effect\nthat we described here,",
    "start": "2973350",
    "end": "2981030"
  },
  {
    "text": "it starts deteriorating. And this is a\nmathematical model to-- a simple mathematical\nmodel to account for that.",
    "start": "2981030",
    "end": "2989220"
  },
  {
    "text": "So it's still a\ndeterministic one. Here is a probabilistic one. The details for this\nformulation are on this paper.",
    "start": "2989220",
    "end": "2996569"
  },
  {
    "start": "2990000",
    "end": "3119000"
  },
  {
    "text": "If you're interested,\nlet me know. I will send it you. What I want to highlight\nhere are the quantities.",
    "start": "2996569",
    "end": "3004260"
  },
  {
    "text": "So this is a model\nof headway variance. So we are looking\nat, now, headway",
    "start": "3004260",
    "end": "3009490"
  },
  {
    "text": "as a stochastic quantity. And we're calculating\nthe variance of headway",
    "start": "3009490",
    "end": "3014870"
  },
  {
    "text": "at some stop. And again, we see\nthe same pattern. We see that it depends on what\nit was at the previous stop.",
    "start": "3014870",
    "end": "3023660"
  },
  {
    "text": "And then we add the effect\nof the running time, so the variance of running\ntimes between consecutive stops,",
    "start": "3023660",
    "end": "3030170"
  },
  {
    "text": "to the extent that the drivers\nare different in driving, then this variance increases.",
    "start": "3030170",
    "end": "3036349"
  },
  {
    "text": "And then you have\nthese two terms-- really, three terms, that\nhave to do with dwell time.",
    "start": "3036350",
    "end": "3042800"
  },
  {
    "text": "All of these terms have-- the q here is the mean number\nof passengers per bus served.",
    "start": "3042800",
    "end": "3048680"
  },
  {
    "text": "And c is the marginal dwell time\nper passenger-- so different notation from the model that we\njust saw, but same quantities.",
    "start": "3048680",
    "end": "3056110"
  },
  {
    "text": "So we have something times\nthat probability is--",
    "start": "3056110",
    "end": "3063470"
  },
  {
    "text": "the bus will skip\na stop, et cetera. So all these things together are\naccounting for the dwell time",
    "start": "3063470",
    "end": "3068590"
  },
  {
    "text": "effect. So the last term here\nis, again, looking at c, which is the marginal\ndwell time per passenger.",
    "start": "3068590",
    "end": "3077750"
  },
  {
    "text": "So this also has to\ndo with dwell time. But this one is also multiplied\nby the covariance with headway.",
    "start": "3077750",
    "end": "3084740"
  },
  {
    "text": "So this is that effect of the\nrelationship between headway and sort of passenger\narrivals, captured here",
    "start": "3084740",
    "end": "3092589"
  },
  {
    "text": "as the covariance between\nthose two quantities. So the key takeaway\nfrom this slide",
    "start": "3092590",
    "end": "3098720"
  },
  {
    "text": "is not exactly why this\nis the right equation. If you're interested in\nthat, read the paper.",
    "start": "3098720",
    "end": "3106119"
  },
  {
    "text": "I am interested in\nunderstanding what goes into this equation in\nterms of what components",
    "start": "3106120",
    "end": "3113810"
  },
  {
    "text": "lead to a higher variance\nat some particular stop. ",
    "start": "3113810",
    "end": "3119600"
  },
  {
    "start": "3119000",
    "end": "3182000"
  },
  {
    "text": "OK, we are ready to move to\nvehicle running time models if no-- if there\nare no questions",
    "start": "3119600",
    "end": "3126140"
  },
  {
    "text": "on waiting time headway models. OK, so let's do that.",
    "start": "3126140",
    "end": "3131540"
  },
  {
    "text": "So different levels of detail-- we have some models\nthat are very detailed. There are microscopic model.",
    "start": "3131540",
    "end": "3137390"
  },
  {
    "text": " It's a simulation. And they look at the vehicle\nmotion, the interaction",
    "start": "3137390",
    "end": "3144137"
  },
  {
    "text": "with other vehicles. So you might have private\nautomobiles interacting with a bus, for example, and\ntraffic blocking the bus.",
    "start": "3144137",
    "end": "3150505"
  },
  {
    "text": "And you have signals. So every little\ndetail is modeled. That's a microscopic model. On the other hand, you\nhave macroscopic models,",
    "start": "3150505",
    "end": "3157250"
  },
  {
    "text": "which are not looking\nat all those details. Instead, they're saying, what\nare the running times that I",
    "start": "3157250",
    "end": "3162680"
  },
  {
    "text": "observe as a function\nof time of day, and the driver,\ndifferent components.",
    "start": "3162680",
    "end": "3169099"
  },
  {
    "text": "And macroscopically, we say,\nthis is the running time. So there is something in\nbetween called mesoscopic, when",
    "start": "3169100",
    "end": "3175479"
  },
  {
    "text": "you have some parts\nthat are detailed and others that are not-- so different levels of modeling.",
    "start": "3175479",
    "end": "3182180"
  },
  {
    "start": "3182000",
    "end": "3600000"
  },
  {
    "text": " So running time, as\nwe know, includes dwell time, the movement time\nbetween stops, and any delays.",
    "start": "3182180",
    "end": "3191990"
  },
  {
    "text": "Delays could be because of\nsignals, traffic signals, for example. So dwell time is a\nfunction of the number",
    "start": "3191990",
    "end": "3198470"
  },
  {
    "text": "of passengers\nboarding and arriving as well as technology\ncharacteristics. What are some examples of\ntechnology characteristics",
    "start": "3198470",
    "end": "3205910"
  },
  {
    "text": "that could affect dwell times? AUDIENCE: [INAUDIBLE]\ncards, smart card.",
    "start": "3205910",
    "end": "3211730"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: So\nwhat your fare card technology, so if you have smart cards,\nor coins, paying cash--",
    "start": "3211730",
    "end": "3217260"
  },
  {
    "text": "very different, right? What else? AUDIENCE: Off-board\nfare collection. GABRIEL SANCHEZ-MARTINEZ:\nOff-board fare collection-- so if you remove the\npayment from the vehicle,",
    "start": "3217260",
    "end": "3224130"
  },
  {
    "text": "then that really helps with\ndecreasing the variability. What else? AUDIENCE: All boarding. GABRIEL SANCHEZ-MARTINEZ: Sorry?",
    "start": "3224130",
    "end": "3230570"
  },
  {
    "text": "AUDIENCE: All boarding? GABRIEL SANCHEZ-MARTINEZ:\nAll-door boarding? AUDIENCE: All-door boarding. GABRIEL SANCHEZ-MARTINEZ:\nSo boarding through all doors--\nof course, if you can board through\nmultiple doors,",
    "start": "3230570",
    "end": "3236830"
  },
  {
    "text": "you have a faster dwell time\nprocess in this variable. What else? AUDIENCE: If the station\nlevel is the same as the--",
    "start": "3236830",
    "end": "3242940"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nLevel boarding-- so if people don't have to\nclimb steps to go from the curb to the vehicle, that also helps.",
    "start": "3242940",
    "end": "3251940"
  },
  {
    "text": "Any other ideas? Eli? AUDIENCE: The type\nof the bus stop-- am I pulling into a cutout and\nthen I have to wait for traffic to merge back in.",
    "start": "3251940",
    "end": "3257089"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: Yes. AUDIENCE: [INAUDIBLE] stay\nin the lane [INAUDIBLE]---- GABRIEL SANCHEZ-MARTINEZ:\nAnd that depends on the\ndefinition of dwell time. So if you say dwell time is\nonly the amount of time needed",
    "start": "3257090",
    "end": "3263870"
  },
  {
    "text": "to serve passengers, then that\nshouldn't really be a factor. But if you think of the\ndwell time as the whole time",
    "start": "3263870",
    "end": "3269420"
  },
  {
    "text": "it took me to stop\nand serve that stop, then this would be included. So you're looking at--",
    "start": "3269420",
    "end": "3276672"
  },
  {
    "text": "let's see if I can get at\nthis, clean a section here.",
    "start": "3276672",
    "end": "3286520"
  },
  {
    "start": "3286520",
    "end": "3293540"
  },
  {
    "text": "So one example is\na bus bay here.",
    "start": "3293540",
    "end": "3298870"
  },
  {
    "text": "So this is a bus\nstop right here. And maybe this is\nan intersection.",
    "start": "3298870",
    "end": "3305640"
  },
  {
    "text": "So the bus comes in here. And it's waiting there.",
    "start": "3305640",
    "end": "3312000"
  },
  {
    "text": "But if there is traffic and\nthere are cars right here, after that bus is\nready, it may have to--",
    "start": "3312000",
    "end": "3319995"
  },
  {
    "text": "well, if it's right of\nthe signal, it's fine. But if this now merges\nand there is traffic here,",
    "start": "3319996",
    "end": "3328050"
  },
  {
    "text": "then that bus might be\nsort of stuck enough to maneuver its way back\ninto the traffic flow.",
    "start": "3328050",
    "end": "3334050"
  },
  {
    "text": "So a [INAUDIBLE] sign or\nstop sign have an impact.",
    "start": "3334050",
    "end": "3339240"
  },
  {
    "text": "What else? Henry? AUDIENCE: If you're\nserving a line where",
    "start": "3339240",
    "end": "3344350"
  },
  {
    "text": "there are a lot of\npeople who are, like, tourists and people,\nlike, ask questions, it could take forever\nto get on to the bus.",
    "start": "3344350",
    "end": "3349979"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nThat's not a technology characteristic, but\nit is a valid factor",
    "start": "3349979",
    "end": "3355290"
  },
  {
    "text": "that affects dwell times. Or maybe if your technology\nis very complicated and people have a\nlot of questions,",
    "start": "3355290",
    "end": "3360789"
  },
  {
    "text": "that could be a way to-- AUDIENCE: Or maybe\na lack of technology where, like, you don't have-- GABRIEL SANCHEZ-MARTINEZ: So OK,\nI think we gave good examples.",
    "start": "3360790",
    "end": "3367860"
  },
  {
    "text": "If we look at the\ntypical bus running time and how we break\nit down, this is a typical bus in mixed traffic.",
    "start": "3367860",
    "end": "3374670"
  },
  {
    "text": "Somewhere between\na 1/2 and 3/4 will be spent moving between stops. Between 10 and a 1/4--",
    "start": "3374670",
    "end": "3380520"
  },
  {
    "text": "10% and 1/4 will be spent\nat stops, serving the stop. And between 10% and\n1/4 will be served",
    "start": "3380520",
    "end": "3387930"
  },
  {
    "text": "in traffic or waiting\nfor a signal, so at a red light, essentially.",
    "start": "3387930",
    "end": "3394100"
  },
  {
    "text": "Yeah? AUDIENCE: [INAUDIBLE] about this\na bit, but in movement time, would that include all the\ntime it takes for me to, like,",
    "start": "3394100",
    "end": "3400210"
  },
  {
    "text": "stop the bus? GABRIEL SANCHEZ-MARTINEZ: Again,\nit depends on your definition.",
    "start": "3400210",
    "end": "3406860"
  },
  {
    "text": "But yes, I think in\nthis break down, yes. So the slowing down\nand accelerating",
    "start": "3406860",
    "end": "3412908"
  },
  {
    "text": "is sort of in there, yeah.  Any other questions?",
    "start": "3412908",
    "end": "3420010"
  },
  {
    "text": "OK, so let's look at\nsome dwell time models.",
    "start": "3420010",
    "end": "3425387"
  },
  {
    "text": "Dwell times models are a\ncomponent of running time models, because dwell times\nare one of the key pieces",
    "start": "3425387",
    "end": "3432830"
  },
  {
    "text": "of running times. And actually, another point\nabout these, movement time, dwell time, and delay,\nwhich of those three",
    "start": "3432830",
    "end": "3440550"
  },
  {
    "text": "do you think the agency\nhas most control over? AUDIENCE: Dwell time.",
    "start": "3440550",
    "end": "3446310"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nDwell time, right? Why? Can an agency usually diminish\ntraffic or do something",
    "start": "3446310",
    "end": "3452830"
  },
  {
    "text": "about traffic signals? There are some things you\ncan do, but usually not.",
    "start": "3452830",
    "end": "3457839"
  },
  {
    "text": "It's harder. And movement time, that has\nto do with traffic and speed limits, and the vehicle\nitself, and driver behavior.",
    "start": "3457840",
    "end": "3466970"
  },
  {
    "text": "So that's a little\nbit harder to change. So dwell times are\nprobably the one thing",
    "start": "3466970",
    "end": "3472510"
  },
  {
    "text": "here that an agency will target. Some part of it,\nyou can't change, because it has to do with how\nmany people are at the stop.",
    "start": "3472510",
    "end": "3478886"
  },
  {
    "text": "But you could\nincrease frequency. You could change\nthe bus assigned. We gave a bunch of factors. And a lot of those are\nin control of the agency,",
    "start": "3478886",
    "end": "3484780"
  },
  {
    "text": "so under the control\nof the agency. So let's go to the dwell\ntime models for that reason.",
    "start": "3484780",
    "end": "3490010"
  },
  {
    "text": "There are some examples here,\nthree papers, one on bus dwell",
    "start": "3490010",
    "end": "3497050"
  },
  {
    "text": "time, one on light rail dwell\ntimes for the Green line, and one on heavy rail.",
    "start": "3497050",
    "end": "3503320"
  },
  {
    "text": "So we're going to look\nat the three of them, just a high-level overview.",
    "start": "3503320",
    "end": "3509450"
  },
  {
    "text": "So let's look at\nsome concepts first. Vehicle dwell times\naffect system performance.",
    "start": "3509450",
    "end": "3515380"
  },
  {
    "text": "We've discussed why and how. And they affect service quality. We've also discussed\nwhy and how.",
    "start": "3515380",
    "end": "3522240"
  },
  {
    "text": "They are a critical element\nin vehicle bunching. I think that has\nalso been covered. So they result in high headway\nvariability, high passenger",
    "start": "3522240",
    "end": "3530440"
  },
  {
    "text": "waiting times, and\nuneven passenger loads. That last point,\nwe have mentioned, but it was indirectly--",
    "start": "3530440",
    "end": "3537670"
  },
  {
    "text": "the point has been\nmade indirectly, right? If more people are\narriving at some stop, at some bus that has\na longer headway,",
    "start": "3537670",
    "end": "3543400"
  },
  {
    "text": "not only did those\npeople wait longer, but they are boarding\na more crowded bus. So their experience\nin the vehicle",
    "start": "3543400",
    "end": "3549970"
  },
  {
    "text": "is also going to be diminished. It's going to be a\nlower-quality experience. So we've covered that.",
    "start": "3549970",
    "end": "3558880"
  },
  {
    "text": "Dwell time impact on performance\ndepends on substation spacing, the mean dwell as a\nproportion of trip time,",
    "start": "3558880",
    "end": "3564720"
  },
  {
    "text": "the mean headway, and\noperations control procedures. We have touched upon, not\nnecessarily what can be done,",
    "start": "3564720",
    "end": "3572180"
  },
  {
    "text": "but we know that there are some\nthings you can do to diminish the headway variability. ",
    "start": "3572180",
    "end": "3580600"
  },
  {
    "text": "Any examples of that, actually? Anybody have suggestions\non what can be done? Eli?",
    "start": "3580600",
    "end": "3585984"
  },
  {
    "text": "AUDIENCE: You tell the bus\nthat is trailing to, like, wait longer. GABRIEL SANCHEZ-MARTINEZ:\nYeah, you",
    "start": "3585985",
    "end": "3592108"
  },
  {
    "text": "try to slow down the buses\nthat are running fast. So there's different\nways of doing that. You can tell the\ndriver to drive slowly.",
    "start": "3592108",
    "end": "3598120"
  },
  {
    "text": "You can hold buses at\nstops for control points. So you tell them, do not depart. You have to wait a\nminute before you depart,",
    "start": "3598120",
    "end": "3604240"
  },
  {
    "text": "because you're running\ntoo fast, and you're going to catch up\nto the previous bus. So that's called holding. So there has been a lot\nof research and holding",
    "start": "3604240",
    "end": "3610060"
  },
  {
    "text": "strategies. AUDIENCE: Wouldn't\nthe more typical thing would be telling them to hold? GABRIEL SANCHEZ-MARTINEZ: Yes. AUDIENCE: It seems\nweird to ask someone",
    "start": "3610060",
    "end": "3615730"
  },
  {
    "text": "to slow down in traffic. GABRIEL SANCHEZ-MARTINEZ:\nEh, it's been done. AUDIENCE: Really? GABRIEL SANCHEZ-MARTINEZ: Yeah. AUDIENCE: I wouldn't like\nto be that bus driver.",
    "start": "3615730",
    "end": "3621320"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: You\nwould kind of surreptitiously and only a little bit. ",
    "start": "3621320",
    "end": "3628910"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] GABRIEL SANCHEZ-MARTINEZ: And\npeople don't like being held. So driving a little bit slow is\nless obvious to the passengers.",
    "start": "3628910",
    "end": "3634905"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE]  AUDIENCE: Yes, you have a\nbus hold just a few seconds",
    "start": "3634905",
    "end": "3640887"
  },
  {
    "text": "when the light changes. [INAUDIBLE] GABRIEL SANCHEZ-MARTINEZ: Yeah. AUDIENCE: I could\nreally get you-- AUDIENCE: So that's sort\nof the best hold strategy.",
    "start": "3640887",
    "end": "3648020"
  },
  {
    "text": "Oh, we just missed it. GABRIEL SANCHEZ-MARTINEZ:\nOK, so there are operations\ncontrolled procedures",
    "start": "3648020",
    "end": "3653410"
  },
  {
    "text": "that can be used here. So some examples based on\nthese factors, on the one hand you have commuter rail.",
    "start": "3653410",
    "end": "3658960"
  },
  {
    "text": "We gave that example earlier. Little impact of dwell time on\nperformance-- that makes sense.",
    "start": "3658960",
    "end": "3664210"
  },
  {
    "text": "Commuter rail has long\ndistance between stops. It stops at every stop. And most of the time\nis spent in movement.",
    "start": "3664210",
    "end": "3671380"
  },
  {
    "text": "So the percentage of time\nspent dwelling is small. On the other hand, you have a\nvery long, high-frequency bus",
    "start": "3671380",
    "end": "3678050"
  },
  {
    "text": "route. So the likelihood of\nbunching here is really high. And it's hard to control this.",
    "start": "3678050",
    "end": "3684629"
  },
  {
    "text": "AUDIENCE: Especially, also\nthe commuter rail, also it's like a scheduled dwell. GABRIEL SANCHEZ-MARTINEZ:\nYeah, it's",
    "start": "3684629",
    "end": "3690220"
  },
  {
    "text": "a little longer\nthan it has to be. AUDIENCE: [INAUDIBLE] hold. Then you don't\nactually-- you have a few seconds at the end where\nno one is boarding or arriving.",
    "start": "3690220",
    "end": "3695270"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nYeah, because you might have printed\nthe schedule it has departure times for every stop.",
    "start": "3695270",
    "end": "3701470"
  },
  {
    "text": "AUDIENCE: I would argue\nthat commuter rail has sort of the most potential,\nespecially in a transit system",
    "start": "3701470",
    "end": "3706750"
  },
  {
    "text": "like Boston where you have-- well, the line acceleration, if\nyou get the acceleration better through different\ntechnology, and when",
    "start": "3706750",
    "end": "3713109"
  },
  {
    "text": "you don't have\nhigh-level platforms, the dwell times get\nreally long when you're boarding a lot of people. GABRIEL SANCHEZ-MARTINEZ:\nBut you still--",
    "start": "3713110",
    "end": "3719040"
  },
  {
    "text": "AUDIENCE: Plus then you could\npull the schedule down if you were [INAUDIBLE] dwell time. GABRIEL SANCHEZ-MARTINEZ: So you\ncould, if your schedule is off,",
    "start": "3719040",
    "end": "3725486"
  },
  {
    "text": "that could be an option. Even if your schedule is good on\na high-frequency long urban bus",
    "start": "3725486",
    "end": "3731140"
  },
  {
    "text": "tour line, it's\nnot going to help. You still have to control it. And it's hard. And you're going\nto get bunching.",
    "start": "3731140",
    "end": "3738250"
  },
  {
    "text": "So dwell time depends\non many factors. Some of them are human. Some of them have\nto do with modes, as we just saw, operating\npolicies and practices,",
    "start": "3738250",
    "end": "3745160"
  },
  {
    "text": "weather, all these things. So here is a list of models\nof dwell times for trains.",
    "start": "3745160",
    "end": "3755410"
  },
  {
    "text": "So if we look at a\nsingle door situation, so people have to board and\nalight from the same door",
    "start": "3755410",
    "end": "3761910"
  },
  {
    "text": "and there is no\ncongestion of passengers, then this is the simplest\nmodel one could have.",
    "start": "3761910",
    "end": "3767110"
  },
  {
    "text": "Dwell time is some\nconstant a, which has to do with how\nlong it takes me",
    "start": "3767110",
    "end": "3772240"
  },
  {
    "text": "to come to a full\nstop and open doors, plus some amount times\nthe number of people getting on plus some amount\ntimes the number of people",
    "start": "3772240",
    "end": "3779980"
  },
  {
    "text": "getting off. Does that make sense? You sort of measure\nthe average number of seconds per\npassenger alighting,",
    "start": "3779980",
    "end": "3786580"
  },
  {
    "text": "the average number seconds\nper passenger boarding, and some constant. You run a regression model.",
    "start": "3786580",
    "end": "3791920"
  },
  {
    "text": "That's what you get. OK, now what if you notice\nthat, when the train is packed,",
    "start": "3791920",
    "end": "3797890"
  },
  {
    "text": "people take a lot longer\nto get off and on? Then you want to add the\neffect of interference,",
    "start": "3797890",
    "end": "3804069"
  },
  {
    "text": "or congestion, or friction. Some people call it friction. So one way of doing\nthat is to multiply--",
    "start": "3804070",
    "end": "3812270"
  },
  {
    "text": "so we add a term, the\npassenger friction term. We multiply the\nnumber of people that",
    "start": "3812270",
    "end": "3817990"
  },
  {
    "text": "were getting on and off\ntimes the number of standees in the vehicle. STD here stands for standees.",
    "start": "3817990",
    "end": "3823359"
  },
  {
    "text": " So the number of people\ngetting on and off",
    "start": "3823360",
    "end": "3829210"
  },
  {
    "text": "are the people that would\nhave moved faster if there hadn't been any standees.",
    "start": "3829210",
    "end": "3835440"
  },
  {
    "text": "And to the extent that there\nare many standees, then they encounter friction as\nthey are getting on or off.",
    "start": "3835440",
    "end": "3841600"
  },
  {
    "text": "And that slows the vehicle down. So that's one way of\ntaking care of this. If that car has\nm doors, then you",
    "start": "3841600",
    "end": "3849400"
  },
  {
    "text": "could run a model for\nevery door and then pick the door that was slowest.",
    "start": "3849400",
    "end": "3856390"
  },
  {
    "text": "So that's that model. And if you say that, actually,\npeople are more or less",
    "start": "3856390",
    "end": "3862150"
  },
  {
    "text": "evenly distributed\ninside the vehicle and evenly distributed\non the platform, so if we are willing\nto assume that,",
    "start": "3862150",
    "end": "3869674"
  },
  {
    "text": "then we can just take the\nnumber of doors and divide by number of doors, essentially.",
    "start": "3869674",
    "end": "3874960"
  },
  {
    "text": "So we're back to\nthe previous model, but now we're\nmultiplying-- or dividing",
    "start": "3874960",
    "end": "3880000"
  },
  {
    "text": "by m, by the number of doors,\nbecause we have maybe 1,000 passengers or many\nhundreds of passengers,",
    "start": "3880000",
    "end": "3887830"
  },
  {
    "text": "but we have to divide\nby the number of doors to bring them down to\npassengers per door. ",
    "start": "3887830",
    "end": "3895109"
  },
  {
    "text": "If that train has\nseveral cars, then you",
    "start": "3895110",
    "end": "3903020"
  },
  {
    "text": "have a model for each\ncar in the train. And you take the maximum,\nso similar concept.",
    "start": "3903020",
    "end": "3911010"
  },
  {
    "text": "We were looking before\nat doors in one car. Now we're looking at\ncars in one train. And if that is\nour balance flows,",
    "start": "3911010",
    "end": "3918170"
  },
  {
    "text": "again, we can now\ndivide by number of doors per car and\nnumber of cars per train.",
    "start": "3918170",
    "end": "3923360"
  },
  {
    "text": "So we normalize the demand\nby the size of the train, the number of doors.",
    "start": "3923360",
    "end": "3929840"
  },
  {
    "text": "And we include friction. So here is some examples, some\nideas for your problem set,",
    "start": "3929840",
    "end": "3935570"
  },
  {
    "text": "if you want. Some of them may apply. Others may not. So this is the kind of\nthing you could think of.",
    "start": "3935570",
    "end": "3944329"
  },
  {
    "text": "So now we want to\nlook at this study by Milkovits published in 2008.",
    "start": "3944330",
    "end": "3950930"
  },
  {
    "text": "At the time, there\nhad been some studies with manually collected data. So there was very limited\ndata on infrequent events.",
    "start": "3950930",
    "end": "3959869"
  },
  {
    "text": "There was very limited\ndata on crowding. They were still using, I\nthink, the token system.",
    "start": "3959870",
    "end": "3968750"
  },
  {
    "text": "So the previous study was\nbased on the token system, so it wasn't updated\non new fare technology.",
    "start": "3968750",
    "end": "3975600"
  },
  {
    "text": "So there was another study\nthat did have automatically collected data, a\nlittle more recent,",
    "start": "3975600",
    "end": "3980779"
  },
  {
    "text": "but they hadn't\ntaken into account the effect of payment type.",
    "start": "3980780",
    "end": "3986010"
  },
  {
    "text": "So the AFC system does\ntell you, this is a pass, or this is a ticket, but they\nhadn't-- they had ignored that",
    "start": "3986010",
    "end": "3994040"
  },
  {
    "text": "variable from the model. And the fit of the\nmodel was poor. And then we have a transit\ncapacity and quality",
    "start": "3994040",
    "end": "4000220"
  },
  {
    "text": "of service manual, which says,\nassume half-second penalty per passenger for\ncrowding, so rule of thumb.",
    "start": "4000220",
    "end": "4006596"
  },
  {
    "text": "So there was interest\nin developing something more sophisticated. And they looked at\nbuses and CTA for that.",
    "start": "4006596",
    "end": "4011950"
  },
  {
    "text": "So they looked at these\nfactors, so boarding, alighting",
    "start": "4011950",
    "end": "4020780"
  },
  {
    "text": "passengers, counting them,\nonboard passengers, so load, the fare media type, the\nalighting door selection,",
    "start": "4020780",
    "end": "4028970"
  },
  {
    "text": "so whether people boarded-- alighted from the front door or\nfrom the back door, which has an impact, and the bus type.",
    "start": "4028970",
    "end": "4035900"
  },
  {
    "text": "There were several bus designs. And some of them were-- had\nwider doors and fare boxes",
    "start": "4035900",
    "end": "4041420"
  },
  {
    "text": "placed more optimally. So all of that was\ntaken into account.",
    "start": "4041420",
    "end": "4046700"
  },
  {
    "text": "And yeah, so data from\nthe CTA in Chicago--",
    "start": "4046700",
    "end": "4053030"
  },
  {
    "text": "they didn't consider\ntiming points, because at timing points,\nbuses can be held.",
    "start": "4053030",
    "end": "4058850"
  },
  {
    "text": "So that could be erroneously\nincluded as dwell time, so that was thrown out. Only far-side stops--\nso what's the difference",
    "start": "4058850",
    "end": "4067339"
  },
  {
    "text": "between a near-side stop\nand a far-side stop? AUDIENCE: Far-side stop\nis after the intersection.",
    "start": "4067340",
    "end": "4073251"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nRight, after signals-- so far-side stops\nare after signals. They did not look at\nnear-side stops, which",
    "start": "4073251",
    "end": "4079670"
  },
  {
    "text": "could be affected by the\nred light, the example that Ari just gave of, as\nthe bus is ready to leave,",
    "start": "4079670",
    "end": "4087801"
  },
  {
    "text": "a light turns red. Now you have a\nlonger dwell time. The bus could leave its\ndoors open just in case.",
    "start": "4087801",
    "end": "4094050"
  },
  {
    "text": "So that was thrown out. OK, they looked-- AUDIENCE: What do you\nmean by known stops?",
    "start": "4094050",
    "end": "4100790"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ: So if\nthere were any stops that were not properly coded or-- they were thrown out.",
    "start": "4100790",
    "end": "4106460"
  },
  {
    "text": " They had APC, so the Automatic\nPassenger Counting, all doors.",
    "start": "4106460",
    "end": "4113060"
  },
  {
    "text": "And they threw out data\nthat was of bad APCs,",
    "start": "4113060",
    "end": "4118580"
  },
  {
    "text": "so buses that required zero\nboardings or zero alightings were thrown out.",
    "start": "4118580",
    "end": "4126250"
  },
  {
    "text": "And they looked at\neach AFC transaction and matched it to what--",
    "start": "4126250",
    "end": "4134471"
  },
  {
    "text": "how they paid. Was it a ticket? Was it a smart card, et cetera? So they looked at a whole\nmonth, November 2006.",
    "start": "4134471",
    "end": "4141699"
  },
  {
    "text": "So here's how the model works. First, they realized\nthat it was easier to have one model for when\nthe front door controls",
    "start": "4141700",
    "end": "4151028"
  },
  {
    "text": "the process and a separate model\nfor when the rear door controls the process. So the first step was to predict\nwhich of the two processes",
    "start": "4151029",
    "end": "4159490"
  },
  {
    "text": "was going to dominate and\ncontrol the dwell time, and then from that, select\nthat one model, or the, one",
    "start": "4159490",
    "end": "4165220"
  },
  {
    "text": "or the other. And then they looked\nat including bus type and traveling as a friction\nfactor in each of these models.",
    "start": "4165220",
    "end": "4176500"
  },
  {
    "text": "So let's look at the\nhigh-level results.  This is the front door model.",
    "start": "4176500",
    "end": "4183790"
  },
  {
    "text": "So this is for when the front\ndoor dominates the process. They had a pretty good\nadjusted r squared, 0.733.",
    "start": "4183790",
    "end": "4191259"
  },
  {
    "text": "And we see some dummy variables. NABI is a type of bus here.",
    "start": "4191260",
    "end": "4198159"
  },
  {
    "text": "And NOVA and New Flyer\nare also types of buses. So NABI, for some reason, tended\nto be a half second longer",
    "start": "4198160",
    "end": "4209380"
  },
  {
    "text": "dwell time overall. ",
    "start": "4209380",
    "end": "4214660"
  },
  {
    "text": "This variable is the number of\npeople getting on in the front. They are excluding the first\nfew passengers for the reason",
    "start": "4214660",
    "end": "4222660"
  },
  {
    "text": "that Ari brought up\nearlier in the lecture, that the first few passengers\ntake a little longer,",
    "start": "4222660",
    "end": "4228487"
  },
  {
    "text": "but once you have a [INAUDIBLE],,\na stream of passengers going in, then there's\na more uniform rate. So this is front on extra.",
    "start": "4228487",
    "end": "4238230"
  },
  {
    "text": "And we have 3.7, about. But it was a little longer for\nNOVA buses and a little shorter",
    "start": "4238230",
    "end": "4246060"
  },
  {
    "text": "for NABI buses. So you have to adjust that\namount for the different buses.",
    "start": "4246060",
    "end": "4251250"
  },
  {
    "text": "So there was an interaction\nbetween that variable and the dummies for bus type.",
    "start": "4251250",
    "end": "4257640"
  },
  {
    "text": "Then the effect of people\ngetting off in the front",
    "start": "4257640",
    "end": "4263310"
  },
  {
    "text": "was accounted for. So here you have-- if you have three\nor more people,",
    "start": "4263310",
    "end": "4269320"
  },
  {
    "text": "so people in excess\nof three getting-- people in excess\nof two, actually, three or more people\ngetting off in the front,",
    "start": "4269320",
    "end": "4276820"
  },
  {
    "text": "that had an impact as well,\na positive impact, of course. So these parts that\nI described were",
    "start": "4276820",
    "end": "4283220"
  },
  {
    "text": "included in the\nmodel for non-crowded and in the model\nfor crowded as well.",
    "start": "4283220",
    "end": "4289760"
  },
  {
    "text": "So they have separate\nparts of the model that were for crowded and\nnon-crowded conditions.",
    "start": "4289760",
    "end": "4295420"
  },
  {
    "text": "When it wasn't crowded, cards\nwere about 2.6 second effect",
    "start": "4295420",
    "end": "4302390"
  },
  {
    "text": "for boarding per passenger. Tickets were about 4.8,\nso almost 2 seconds slower",
    "start": "4302390",
    "end": "4309800"
  },
  {
    "text": "than smart cards. And New Flyer tickets were\nnot quite as longer as tickets",
    "start": "4309800",
    "end": "4319700"
  },
  {
    "text": "everywhere else. So this is the bus that\nhad pretty wide doors and the fare box was\nplaced in a better way",
    "start": "4319700",
    "end": "4327440"
  },
  {
    "text": "so that people could\ntap in as they went in. You have a small\nadvantage there.",
    "start": "4327440",
    "end": "4333710"
  },
  {
    "text": "Here you have the effect\nof people getting off in the front for the\nfirst two passengers, not the ones that are\nthree and up, so 2.8",
    "start": "4333710",
    "end": "4341900"
  },
  {
    "text": "seconds per passenger extra. And here is a dummy for\nif the sensor in the front",
    "start": "4341900",
    "end": "4347390"
  },
  {
    "text": "was blocked, which could\nhave different effects. But essentially, that could\nindicate crowding or something,",
    "start": "4347390",
    "end": "4353969"
  },
  {
    "text": "so that was included there. What happens when\nit was crowded?",
    "start": "4353970",
    "end": "4359360"
  },
  {
    "text": "So when the load on\nthe bus was high, it didn't really matter if\nit was a card or a ticket.",
    "start": "4359360",
    "end": "4366960"
  },
  {
    "text": "So now we're just regressing on\nthe number of AFC transactions. And we're getting an average\nof 4.3 per passenger.",
    "start": "4366960",
    "end": "4374330"
  },
  {
    "text": "So it's slower. It's much closer to\nthe ticket quantity. And therefore, the\nimpact, the benefit",
    "start": "4374330",
    "end": "4380330"
  },
  {
    "text": "that you had of dwell time\nsavings by smart card is lost. So that savings, you have\nwhen it's not crowded,",
    "start": "4380330",
    "end": "4387889"
  },
  {
    "text": "but you lose when it's crowded. Sonya? AUDIENCE: Is that the same thing\nwith off-board fare collection?",
    "start": "4387890",
    "end": "4393950"
  },
  {
    "text": "GABRIEL SANCHEZ-MARTINEZ:\nNo, because when you have off-board\nfare collection, you can open all doors. And so it becomes more like a\ntrain, where everybody gets off",
    "start": "4393950",
    "end": "4402720"
  },
  {
    "text": "first and then\neverybody gets on. So this model is for more\npeople boarding by the front",
    "start": "4402720",
    "end": "4408033"
  },
  {
    "text": "and alighting from the back. But sometimes, some people\nget off in the front. ",
    "start": "4408034",
    "end": "4415770"
  },
  {
    "text": "And here we have\nthe friction factor, so the number of passengers--\nthe number of standees",
    "start": "4415770",
    "end": "4421560"
  },
  {
    "text": "squared times passengers.",
    "start": "4421560",
    "end": "4426580"
  },
  {
    "text": "So this is going to-- it's a small factor,\na small coefficient,",
    "start": "4426580",
    "end": "4432045"
  },
  {
    "text": "but it's multiplied by\nsome quantity squared, so that kind of makes\nup the difference.",
    "start": "4432045",
    "end": "4437300"
  },
  {
    "text": "And because this\nis squared, this is kind of a polynomial effect.",
    "start": "4437300",
    "end": "4442650"
  },
  {
    "text": "So the more people\nthat are standing-- it's not a linear increase.",
    "start": "4442650",
    "end": "4448189"
  },
  {
    "text": "If there many more people on\nthe bus that are standing, then it's a much slower dwell. So this is a correction\nfactor for a crowded bus.",
    "start": "4448189",
    "end": "4454849"
  },
  {
    "text": " OK, here is the rear door model. So this is for when the\nrear door was predicted",
    "start": "4454850",
    "end": "4463620"
  },
  {
    "text": "to control the\ndwell time, so more towards the end of the route\nwhere more people are getting off than people are getting on.",
    "start": "4463620",
    "end": "4470550"
  },
  {
    "text": "We have, again, some impacts. The design of vehicle\nwas significant.",
    "start": "4470550",
    "end": "4476460"
  },
  {
    "text": "And the number of people getting\noff was, of course, a variable, so about 1.7 seconds\nper passenger--",
    "start": "4476460",
    "end": "4484740"
  },
  {
    "text": "more on NOVA buses,\nless on NABI buses. And the friction\nfactor, again-- so you",
    "start": "4484740",
    "end": "4490920"
  },
  {
    "text": "have the sort of general\nfriction factor was 0.005.",
    "start": "4490920",
    "end": "4496679"
  },
  {
    "text": "It was 0.009 for normal buses\nand 0.002 for NABI buses.",
    "start": "4496680",
    "end": "4501780"
  },
  {
    "text": "So you have to sort\nof add these up to get the effective friction\nfactor on a particular bus.",
    "start": "4501780",
    "end": "4507260"
  },
  {
    "text": " All right, so the\nsort of key takeaways",
    "start": "4507260",
    "end": "4512960"
  },
  {
    "text": "are that the smart\nmedia loses the benefit in crowded conditions. We saw that.",
    "start": "4512960",
    "end": "4519230"
  },
  {
    "text": "The crowding impact\nincreases exponentially. These people tried\nlinear standees.",
    "start": "4519230",
    "end": "4524750"
  },
  {
    "text": "And standees squared was\na much better predictor. So bus attributes\nimpact dwell time.",
    "start": "4524750",
    "end": "4534520"
  },
  {
    "text": "The dummies for the bus\ndesign were significant. And they had an impact. So some of that had to do with\nthe location of the ticket",
    "start": "4534520",
    "end": "4542000"
  },
  {
    "text": "reader. And some of that had to do with\nwide doors that allowed people",
    "start": "4542000",
    "end": "4547699"
  },
  {
    "text": "to enter more\ncomfortably and faster. ",
    "start": "4547700",
    "end": "4552770"
  },
  {
    "text": "So that's good. Let's move on to the\nGreen line model, just quickly, at a high level.",
    "start": "4552770",
    "end": "4559880"
  },
  {
    "text": "We're almost out of time, so\nI'm going to skip this slide. You're, I think, all aware\nof what the Green line is,",
    "start": "4559880",
    "end": "4566300"
  },
  {
    "text": "so I don't have to cover this. They looked at one-car train\nand two-car train models",
    "start": "4566300",
    "end": "4572480"
  },
  {
    "text": "separately. So sometimes the\nGreen line will run single vehicles, single\ncar, or sometimes",
    "start": "4572480",
    "end": "4577700"
  },
  {
    "text": "two cars paired together. And the dwell time here was\nsome constant times the number",
    "start": "4577700",
    "end": "4587382"
  },
  {
    "text": "of people who are getting\non times the number-- plus the number people getting\noff plus some friction factor.",
    "start": "4587382",
    "end": "4595099"
  },
  {
    "text": "And same here for two-car\ntrains, but the coefficients were different. So that's the overall concept\nthat I want to communicate.",
    "start": "4595100",
    "end": "4603035"
  },
  {
    "text": "Here is a table of the results\nfrom that model for the number of people getting on.",
    "start": "4603035",
    "end": "4608780"
  },
  {
    "text": "So this is using the\nmodel to forecast. These are not observations.",
    "start": "4608780",
    "end": "4614099"
  },
  {
    "text": "So if you feed 0 people getting\non, you just get the constants.",
    "start": "4614100",
    "end": "4619110"
  },
  {
    "text": " If you feed the model\n10 people getting on,",
    "start": "4619110",
    "end": "4624239"
  },
  {
    "text": "it depends on the\nload on the model. If the load is,\nsay, less than 53,",
    "start": "4624240",
    "end": "4630469"
  },
  {
    "text": "then you don't have the\nfriction factor really controlling anything, so\nyou have 20.3 or 20.2,",
    "start": "4630470",
    "end": "4638400"
  },
  {
    "text": "so a very small\neffect of friction, and therefore about the\nsame time for both models.",
    "start": "4638400",
    "end": "4647429"
  },
  {
    "text": "If it's very\ncrowded, then you do have a more significant benefit\nfor having a two-car train.",
    "start": "4647430",
    "end": "4653219"
  },
  {
    "text": "That makes sense, right? You have more capacity. And the same thing\nhappens as you move to 20 passengers getting\non and 30 passengers getting on,",
    "start": "4653220",
    "end": "4660900"
  },
  {
    "text": "with those differences\nincreasing when you have a crowded train,\nand the differences",
    "start": "4660900",
    "end": "4669400"
  },
  {
    "text": "between one-car\nand two-car trains not being that significant\nwhen you don't have much [INAUDIBLE].",
    "start": "4669400",
    "end": "4676820"
  },
  {
    "text": "So this should, more\nor less, make sense. So all this is to show you that\nyou have some ideas about what",
    "start": "4676820",
    "end": "4684610"
  },
  {
    "text": "controls dwell time. You test your\nhypothesis on the data. And you can try\ndifferent things.",
    "start": "4684610",
    "end": "4692080"
  },
  {
    "text": "These are just examples. So the findings from that\nresearch, dwell times",
    "start": "4692080",
    "end": "4697619"
  },
  {
    "text": "were quite sensitive\nto flows and loads. The crowding effect\nmight be non-linear.",
    "start": "4697620",
    "end": "4702750"
  },
  {
    "text": "They looked at\nnon-linear effects . Just like before.",
    "start": "4702750",
    "end": "4708240"
  },
  {
    "text": "The dwell times for multi-car\ntrains, for two-car trains were different than\nthose for one-car trains. The dwell time functions suggest\nhigh sensitivity of performance",
    "start": "4708240",
    "end": "4716370"
  },
  {
    "text": "to perturbations. So we saw what\nthose preparations",
    "start": "4716370",
    "end": "4721710"
  },
  {
    "text": "were earlier in this lecture. And this model is\nsensitive to some of them.",
    "start": "4721710",
    "end": "4727949"
  },
  {
    "text": "Because of that, effect of\nreal-time operations control should be essential\nto operating the Green line with even headways.",
    "start": "4727950",
    "end": "4734280"
  },
  {
    "text": "So this is more of\na recommendation. And another recommendation\nis that simulation models",
    "start": "4734280",
    "end": "4740460"
  },
  {
    "text": "of this kind of\nservice should include sophisticated dwell time\nmodels like the ones that",
    "start": "4740460",
    "end": "4746670"
  },
  {
    "text": "were estimated here to\naccount for all those effects, because otherwise, you would\nhave a simple model that is",
    "start": "4746670",
    "end": "4753970"
  },
  {
    "text": "not very faithful to reality. ",
    "start": "4753970",
    "end": "4760660"
  },
  {
    "text": "Running a mixed fleet,\nsome with one-car trains, some two-car trains\nis dangerous. So what do they\nmean by dangerous?",
    "start": "4760660",
    "end": "4766624"
  },
  {
    "text": " So it wouldn't make much\ndifference if it's not crowded. But according to the model,\non crowded conditions,",
    "start": "4766624",
    "end": "4774130"
  },
  {
    "text": "the two-car train\nwill be faster. So then you will have a\nbunching effect happening,",
    "start": "4774130",
    "end": "4781020"
  },
  {
    "text": "two-car trains catching\nup to one-car trains, and therefore deterioration\nof service quality.",
    "start": "4781020",
    "end": "4787094"
  },
  {
    "text": "Here is a marginal\nboarding time on heavy rail from the third paper.",
    "start": "4787095",
    "end": "4793810"
  },
  {
    "text": "I think this was\nlooking at the Red line. So this is the\nmarginal boarding time when everybody can sit down.",
    "start": "4793810",
    "end": "4800670"
  },
  {
    "text": " When you look at the number\nof through passengers--",
    "start": "4800670",
    "end": "4806940"
  },
  {
    "text": "that is the number of passengers\nwho are on the train when the train arrives on the\nplatform and don't get off, so passengers riding\nthrough the station--",
    "start": "4806940",
    "end": "4814530"
  },
  {
    "text": "when the number is 0, then this\nis how much boarding time you have per passenger,\nmore or less.",
    "start": "4814530",
    "end": "4822240"
  },
  {
    "text": "And then as you look at the\neffect of more and more people",
    "start": "4822240",
    "end": "4827940"
  },
  {
    "text": "are standing, than that\nkind of slows people down as they board. So this was a way of\ncapturing that effect,",
    "start": "4827940",
    "end": "4835020"
  },
  {
    "text": "again, the fiction factor. So you see a theme here, that\nthis seems to be relevant.",
    "start": "4835020",
    "end": "4841360"
  },
  {
    "text": "And there have been\nresearch studies looking at ways of including\nthat effect in models.",
    "start": "4841360",
    "end": "4848490"
  },
  {
    "text": "These models could\nbe used for improving the accuracy of your\nwaiting time estimate that your smartphone\ngives you, or improving",
    "start": "4848490",
    "end": "4854610"
  },
  {
    "text": "how faithful a simulation\nmodel is, et cetera. Here is the equation,\nvery similar,",
    "start": "4854610",
    "end": "4862220"
  },
  {
    "text": "same structure we had before. We have some constant. We have the number\nof people boarding per door, the number of\npeople alighting per door.",
    "start": "4862220",
    "end": "4868727"
  },
  {
    "text": "In this case, we add\nthem up, because people alight first and then board. And then we have\nsome friction factor.",
    "start": "4868727",
    "end": "4875870"
  },
  {
    "text": "How that friction\nfactor is calculated has been different\non every model, but they all have\na friction factor.",
    "start": "4875870",
    "end": "4881860"
  },
  {
    "text": "So these are all services\nthat, at least at times, are quite crowded.",
    "start": "4881860",
    "end": "4887420"
  },
  {
    "text": "So that was important\nand significant. OK, if there are no\nquestions, you may leave.",
    "start": "4887420",
    "end": "4894230"
  },
  {
    "text": "And if there are,\nI'll take them. Sorry, don't feel\nthat you have to wait, because it's already 5:30.",
    "start": "4894230",
    "end": "4900440"
  },
  {
    "start": "4900440",
    "end": "4913829"
  }
]