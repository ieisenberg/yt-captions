[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "15550"
  },
  {
    "text": "BERTHOLD HORN: Briefly last\ntime about tesselating spheres in various dimensions.",
    "start": "15550",
    "end": "23830"
  },
  {
    "text": "We found that representing\nrotation as unit quaternions",
    "start": "23830",
    "end": "29890"
  },
  {
    "text": "was useful. And so in exploring\nthat space of rotation,",
    "start": "29890",
    "end": "35290"
  },
  {
    "text": "we're dealing with\na sphere in 4D, and it'd be good to divide\nit up into equal areas.",
    "start": "35290",
    "end": "44440"
  },
  {
    "text": "And in the process, we\nstarted talking about 3D, which is slightly\neasier, but which is also",
    "start": "44440",
    "end": "49780"
  },
  {
    "text": "going to be important for us. And tesselations of the\nsurface of the sphere",
    "start": "49780",
    "end": "55510"
  },
  {
    "text": "can be based on the\nplatonic solids, which there are five of.",
    "start": "55510",
    "end": "60700"
  },
  {
    "text": "And they have equal area\nprojections on the sphere.",
    "start": "60700",
    "end": "67675"
  },
  {
    "text": "So they're very nice\nfrom that point of view, but the division's\nkind of coarse. And so typically, we'll\ndivide it more finely.",
    "start": "67675",
    "end": "76479"
  },
  {
    "text": "So one way is to go to\nthe Archimedean solids.",
    "start": "76480",
    "end": "85590"
  },
  {
    "text": "And so here, we've\ngot all of those.",
    "start": "85590",
    "end": "90659"
  },
  {
    "text": "I guess in this view,\nthere are 13 of them. As I mentioned last time,\nthere are potentially 14",
    "start": "90660",
    "end": "98759"
  },
  {
    "text": "because this one is not\nequal to its mirror image. So you could have two of those\nwith different orientations.",
    "start": "98760",
    "end": "105420"
  },
  {
    "text": "And they have, again,\nregular polygons as facets,",
    "start": "105420",
    "end": "112020"
  },
  {
    "text": "but this time, you're allowed\nto use more than one flavor of polygon. So here, we even use triangles,\nsquares, and pentagons,",
    "start": "112020",
    "end": "119700"
  },
  {
    "text": "and as a result, the\nareas aren't equal. So this is a pretty\nextreme example",
    "start": "119700",
    "end": "126390"
  },
  {
    "text": "where we have triangles\nand dodecagons.",
    "start": "126390",
    "end": "135790"
  },
  {
    "text": "So those triangles obviously\nhave a much smaller area than the dodecagons, and so on.",
    "start": "135790",
    "end": "143080"
  },
  {
    "text": "Anyway, we can base a\ntessellation on that, dividing up the sphere. Also, this is relevant to--",
    "start": "143080",
    "end": "150990"
  },
  {
    "text": "when we're talking\nabout rotations, we're interested in the rotation\ngroups of these objects.",
    "start": "150990",
    "end": "160170"
  },
  {
    "text": "And let's see, is there\nanother one somewhere hidden behind here?",
    "start": "160170",
    "end": "166000"
  },
  {
    "text": "No? Well.  And so there are 12\nelements of the rotation",
    "start": "166000",
    "end": "176650"
  },
  {
    "text": "group for the tetrahedron. There are 24 for the hexahedron. ",
    "start": "176650",
    "end": "183459"
  },
  {
    "text": "And there are 60 for\nthe dodecahedron.",
    "start": "183460",
    "end": "190150"
  },
  {
    "text": "So what about the octahedron\nand the icosahedron? Well the octahedron is\nthe dual of the cube,",
    "start": "190150",
    "end": "196670"
  },
  {
    "text": "so it has the same\nrotation group. The icosahedron is the\ndual of the dodecahedron,",
    "start": "196670",
    "end": "202900"
  },
  {
    "text": "so it has the same\nrotation group. And we'll define more precisely\nwhat \"dual\" means, but roughly",
    "start": "202900",
    "end": "208900"
  },
  {
    "text": "speaking, replace a\nface with a vertex, replace a vertex with\na face, replace an edge",
    "start": "208900",
    "end": "214660"
  },
  {
    "text": "with an edge at right angles. So you can see how\nyou can construct one of these out of the other.",
    "start": "214660",
    "end": "222440"
  },
  {
    "text": "So that's not much-- we got\ngroups of size 12, 24, and 60.",
    "start": "222440",
    "end": "227770"
  },
  {
    "text": "And we're talking about the\nsurface of a sphere in 4D, so that's a\nthree-dimensional thing.",
    "start": "227770",
    "end": "234250"
  },
  {
    "text": "And we're only\ndividing it up into 60 regularly spaced points. So we'll need more.",
    "start": "234250",
    "end": "239815"
  },
  {
    "text": " Oh, by the way, one of\nthese Archimedean solids",
    "start": "239815",
    "end": "251290"
  },
  {
    "text": "is one that's commonly\nused and kicked around.",
    "start": "251290",
    "end": "257380"
  },
  {
    "text": "Now, if we divide\nthem up, we'll often start off with one of these\nsolids, either platonic",
    "start": "257380",
    "end": "266960"
  },
  {
    "text": "or Archimedean. And here, for example,\nwe've taken an icosahedron and divided it up into\nlots of triangular areas.",
    "start": "266960",
    "end": "276350"
  },
  {
    "text": "And that's a popular thing. So here is a geodesic dome.",
    "start": "276350",
    "end": "281810"
  },
  {
    "text": "And you'll notice that\nmany of the vertices have six edges coming in, but\nthere are a few that have five.",
    "start": "281810",
    "end": "289850"
  },
  {
    "text": "And the precise rules\naffecting that-- there will be 12\nof those with five,",
    "start": "289850",
    "end": "296180"
  },
  {
    "text": "and everything else\nwill be hexagonal. And it looks very regular,\nbut actually, the facets",
    "start": "296180",
    "end": "303770"
  },
  {
    "text": "aren't all the same size.  Here's another one.",
    "start": "303770",
    "end": "309010"
  },
  {
    "text": "So this one, actually in a way,\nis better for our purposes.",
    "start": "309010",
    "end": "314260"
  },
  {
    "text": "When we divide the\nsurface up, it's kind of making\nhistograms on the sphere.",
    "start": "314260",
    "end": "322270"
  },
  {
    "text": "And if we make a\nhistogram in the plane, we'll often just use\nsquare tessellation,",
    "start": "322270",
    "end": "328120"
  },
  {
    "text": "which isn't the best, but\npretty straightforward. Over here, it's not so\nobvious what to use.",
    "start": "328120",
    "end": "333800"
  },
  {
    "text": "But one of the things that's\nconvenient about this type of tessellation is that\nit's not very pointed.",
    "start": "333800",
    "end": "340509"
  },
  {
    "text": "So you don't have\nparts of a cell that are far away from the center\ncompared to other parts.",
    "start": "340510",
    "end": "347020"
  },
  {
    "text": "So actually, the tessellation,\nthe triangular ones aren't that great, the\nones I've shown you.",
    "start": "347020",
    "end": "353500"
  },
  {
    "text": "This is a dual of a\ntriangular tessellation. We replace the center of\neach triangle by a vertex,",
    "start": "353500",
    "end": "361539"
  },
  {
    "text": "and so on. And so in that respect, this\none is a better tessellation.",
    "start": "361540",
    "end": "368230"
  },
  {
    "text": "And of course, it gets bigger. So this was, I guess, the\n1968 Expo in Montreal.",
    "start": "368230",
    "end": "378240"
  },
  {
    "text": "They built this geodesic dome. And what was interesting about\nit was that it was union built.",
    "start": "378240",
    "end": "389840"
  },
  {
    "text": "And the architect had made\nsure that all of the links were labeled because they\nweren't all the same.",
    "start": "389840",
    "end": "397070"
  },
  {
    "text": "But the difference was small. So the people working on\nit said, that's stupid. Let's just work with it.",
    "start": "397070",
    "end": "404630"
  },
  {
    "text": "And it started not\nbecoming a sphere because they hadn't\nfollowed the labeling.",
    "start": "404630",
    "end": "411110"
  },
  {
    "text": "And so they had to actually\ntake it apart again and start over again. I think this still exists.",
    "start": "411110",
    "end": "418050"
  },
  {
    "text": "I've been there a few\nyears ago and it was there. And that, of course,\nis Buckminster Fuller.",
    "start": "418050",
    "end": "424039"
  },
  {
    "text": "Here is, actually, a page of\nout of Buckminster Fuller's original patent\napplication of 1965,",
    "start": "424040",
    "end": "434150"
  },
  {
    "text": "where he describes how to\nbuild these geodesic domes.",
    "start": "434150",
    "end": "439660"
  },
  {
    "text": "And again, the geodesic dome\nfor us has a number of features.",
    "start": "439660",
    "end": "444972"
  },
  {
    "text": "One of them is that\nthe facets aren't all exactly the same size,\nwhich is undesirable, and then they're triangular,\nwhich is undesirable.",
    "start": "444972",
    "end": "451970"
  },
  {
    "text": "So we're likely to instead\nuse the dual, which would have a large number of\nhexagonal or approximately",
    "start": "451970",
    "end": "458710"
  },
  {
    "text": "hexagonal facets,\nand some number-- well, 12-- pentagonal facets.",
    "start": "458710",
    "end": "465979"
  },
  {
    "text": "Enough of that. Then right now, we'll\nbe talking about--",
    "start": "465980",
    "end": "471520"
  },
  {
    "text": "since I have the projector\nhere, I thought I'd do this. We're going to run across\ncertain types of surfaces that",
    "start": "471520",
    "end": "479830"
  },
  {
    "text": "make some machine\nvision problems hard, called \"critical surfaces.\" And they are hyperboloids\nof one sheet.",
    "start": "479830",
    "end": "488380"
  },
  {
    "text": "So I need to talk a\nlittle bit about-- it's not very well--",
    "start": "488380",
    "end": "495879"
  },
  {
    "text": "I'll blow it up. So quadrics are surfaces defined\nby second-order equations.",
    "start": "495880",
    "end": "506539"
  },
  {
    "text": "So we've got x squared over\na squared plus y squared over b squared plus z\nsquared over c squared is 1.",
    "start": "506540",
    "end": "512590"
  },
  {
    "text": "That's an ellipsoid,\nshown over here. Special cases where a, b,\nand c are the same-- you",
    "start": "512590",
    "end": "518620"
  },
  {
    "text": "get a sphere. And we're all familiar with\nthat American football shape.",
    "start": "518620",
    "end": "526389"
  },
  {
    "text": "We're going to be interested\nin this surface, which is a hyperboloid of one sheet. And it's x squared over\na squared plus y squared",
    "start": "526390",
    "end": "534040"
  },
  {
    "text": "over b squared minus z squared\nover c squared equals 1.",
    "start": "534040",
    "end": "539259"
  },
  {
    "text": "And this is a shape\nyou may be familiar with from certain kinds of\nfurniture made out of rods.",
    "start": "539260",
    "end": "550500"
  },
  {
    "text": "And it has the feature\nthat it's ruled-- that is, we can embed straight\nlines in the surface, which",
    "start": "550500",
    "end": "558890"
  },
  {
    "text": "obviously, you can't do here. And actually there are\ntwo sets of rules that are at an angle to each other.",
    "start": "558890",
    "end": "564540"
  },
  {
    "text": "And so you can make this\nbeautiful, smooth, curved surface out of straight sticks,\nwhich seems pretty strange.",
    "start": "564540",
    "end": "571887"
  },
  {
    "text": "But there are parts\nof the world where this is used widely to make\nchairs, and tables, and so on.",
    "start": "571887",
    "end": "577459"
  },
  {
    "text": " And then we have hyperboloid-\nof two sheets where",
    "start": "577460",
    "end": "586490"
  },
  {
    "text": "there are two minus signs. So basically, you can classify\nthem based on the signs.",
    "start": "586490",
    "end": "594960"
  },
  {
    "text": "These are all positive. Here, there's one negative, and\nhere, there are two negatives.",
    "start": "594960",
    "end": "602120"
  },
  {
    "text": "And obviously, it's\ncalled \"two sheets\" because there are two surfaces.",
    "start": "602120",
    "end": "607730"
  },
  {
    "text": "You can't get from\none to the other. And let's see-- signs, so\nwhat's the other possibility?",
    "start": "607730",
    "end": "616120"
  },
  {
    "text": "We could have no negative\nsigns, one negative sign, two negative signs. How about three negative signs?",
    "start": "616120",
    "end": "622120"
  },
  {
    "text": "What type of a surface\ndo we get then? Well, we get an\nimaginary ellipsoid",
    "start": "622120",
    "end": "628500"
  },
  {
    "text": "because it's all negative. How can it be equal to 1, unless\nyou allow complex numbers--",
    "start": "628500",
    "end": "635790"
  },
  {
    "text": "hence the term \"imaginary.\" So these are the\nsort of generic ones. Now annoyingly, there are\na lot of special cases.",
    "start": "635790",
    "end": "644190"
  },
  {
    "text": "And we already talked\nabout the sphere. That is a special case,\nand that's pretty obvious.",
    "start": "644190",
    "end": "649949"
  },
  {
    "text": "But then there's a whole\nslew of other special cases. So let's see-- so that's\njust the ellipsoid.",
    "start": "649950",
    "end": "657240"
  },
  {
    "text": "We already saw that. Then there's a special\ncase of that, where we're dealing with a cone.",
    "start": "657240",
    "end": "663089"
  },
  {
    "text": " And then, we have\nwhere that neck",
    "start": "663090",
    "end": "671250"
  },
  {
    "text": "of the hyperboloid of one sheet\nbecomes infinitesimally small.",
    "start": "671250",
    "end": "677890"
  },
  {
    "text": "And then, we have\nelliptic paraboloid. And this one we've already seen,\nthe hyperboloid of one sheet.",
    "start": "677890",
    "end": "687910"
  },
  {
    "text": "Then we have\nhyperbolic paraboloids. So these, you see, don't\nhave a quadratic term in z.",
    "start": "687910",
    "end": "693639"
  },
  {
    "text": "They just have a\nlinear term in z. And then, that's the other one.",
    "start": "693640",
    "end": "699700"
  },
  {
    "text": "And there are more\nspecial cases. And most surprisingly,\none special case",
    "start": "699700",
    "end": "706360"
  },
  {
    "text": "is planar, which seems\nweird because you've got a second-order equation. How can that be?",
    "start": "706360",
    "end": "712660"
  },
  {
    "text": "Hang on a second. Well, imagine if you have\ntwo planes that intersect. How can you describe\nthat surface?",
    "start": "712660",
    "end": "719290"
  },
  {
    "text": "Well, one way, you could take\nthe equations for one of them-- some linear thing equals 0--",
    "start": "719290",
    "end": "725200"
  },
  {
    "text": "and take the equation\nfor the other one-- some linear thing equals\n0-- multiply them, and that would\ndescribe that object.",
    "start": "725200",
    "end": "732399"
  },
  {
    "text": "And obviously, when you multiply\nthe two linear equations, you get quadratics. So enough pretty pictures.",
    "start": "732400",
    "end": "740830"
  },
  {
    "text": "Let's talk about relative\norientation and binocular",
    "start": "740830",
    "end": "748190"
  },
  {
    "text": "stereo. So the problem\nwe're interested in",
    "start": "748190",
    "end": "754970"
  },
  {
    "text": "is computing 3D from\n2D using two cameras.",
    "start": "754970",
    "end": "762574"
  },
  {
    "start": "762575",
    "end": "776360"
  },
  {
    "text": "And we already said that if we\nknow the geometry of these two cameras, it's relatively\neasy because if you",
    "start": "776360",
    "end": "783530"
  },
  {
    "text": "have a point in the image plane\nwhere there's some feature, you can connect it to\nthe center of projection.",
    "start": "783530",
    "end": "789889"
  },
  {
    "text": "Gives you a line. You extend that line out\ninto the environment, and the object is\nsomewhere along that line.",
    "start": "789890",
    "end": "795650"
  },
  {
    "text": "And now you do that\nfor the left camera, and you do that for\nthe right camera. You have two rays. And ideally, they'll\nintersect, and that gives you",
    "start": "795650",
    "end": "802580"
  },
  {
    "text": "the 3D position of the\nthing you're looking at. So that's the easy part.",
    "start": "802580",
    "end": "809390"
  },
  {
    "text": "In order to do that,\nyou need to know the geometric relationships\nbetween the cameras. And that's what relative\norientation is about.",
    "start": "809390",
    "end": "817740"
  },
  {
    "text": "And so that's something\nthat you would do ahead of time before you\ninstall this thing in your car",
    "start": "817740",
    "end": "824510"
  },
  {
    "text": "and use it for autonomous\nvehicle purposes. But you might have to\ndo it again on the fly",
    "start": "824510",
    "end": "831050"
  },
  {
    "text": "because if the baseline isn't\nsomething incredibly rigid, it's quite possible that\nthings get misadjusted",
    "start": "831050",
    "end": "839930"
  },
  {
    "text": "when you use that vehicle. So we may need to do\nthis calibration again.",
    "start": "839930",
    "end": "848480"
  },
  {
    "text": "It's not just binocular\nstereo, though. The whole same machinery applies\nto structure from motion,",
    "start": "848480",
    "end": "856130"
  },
  {
    "text": "where instead of a left\nand the right image, we have an image before\nand an image after.",
    "start": "856130",
    "end": "861590"
  },
  {
    "text": "And again, there's a\nduality-- did the camera move or the world move?",
    "start": "861590",
    "end": "866600"
  },
  {
    "text": "Doesn't matter-- the same math. So let's look at the binocular\nstereo case, keeping in mind",
    "start": "866600",
    "end": "872570"
  },
  {
    "text": "that it's just the same\nas the finite motion case.",
    "start": "872570",
    "end": "877790"
  },
  {
    "text": "So infinitesimal\nmotion is easier,",
    "start": "877790",
    "end": "882800"
  },
  {
    "text": "but we're talking about a\nsubstantial amount of motion. So suppose that we have a\nleft center of projection",
    "start": "882800",
    "end": "891740"
  },
  {
    "text": "and the right center\nof projection, so those are the principal\npoints of our cameras.",
    "start": "891740",
    "end": "898300"
  },
  {
    "text": "And then there's a baseline. And we'll have a vector B\nthat describes that baseline.",
    "start": "898300",
    "end": "907100"
  },
  {
    "text": "And now, we're looking out\nat a point in the world,",
    "start": "907100",
    "end": "916180"
  },
  {
    "text": "and we can determine where\nit is in the two cameras.",
    "start": "916180",
    "end": "927279"
  },
  {
    "text": "From the individual\ncamera images, we don't know how far\nalong that ray is.",
    "start": "927280",
    "end": "934000"
  },
  {
    "text": "But of course, if we\nhave both, then we can find the intersection. And here, I'm working in the\nright-hand coordinate system.",
    "start": "934000",
    "end": "943015"
  },
  {
    "start": "943015",
    "end": "950880"
  },
  {
    "text": "I have to pick a\ncoordinate system. And I have several choices-- I could pick left,\nI could pick right,",
    "start": "950880",
    "end": "957269"
  },
  {
    "text": "or for symmetry, I might\npick the center one.",
    "start": "957270",
    "end": "963210"
  },
  {
    "text": "But I do want to make sure,\nwhen I get the results, that they're not biased by my\nchoice of coordinate system.",
    "start": "963210",
    "end": "970630"
  },
  {
    "text": "So if instead I had picked\nthe left coordinate system, I should get the same\nanswer as if I picked",
    "start": "970630",
    "end": "976863"
  },
  {
    "text": "the right coordinate system. So we'll check on that. So in this case,\nthen, the baseline",
    "start": "976863",
    "end": "983490"
  },
  {
    "text": "is measured in the\nright coordinate system. Then our r, is, of\ncourse, measured",
    "start": "983490",
    "end": "989670"
  },
  {
    "text": "in the right coordinate system. And this prime indicates\nthat we've converted it from the left coordinate system\nto the right coordinate system.",
    "start": "989670",
    "end": "997650"
  },
  {
    "text": " Let's talk about the\ngeometry of this thing.",
    "start": "997650",
    "end": "1004380"
  },
  {
    "text": "So if I have a point\nout in the world,",
    "start": "1004380",
    "end": "1009470"
  },
  {
    "text": "and I connect it to the\nbaseline, that defines a plane.",
    "start": "1009470",
    "end": "1014870"
  },
  {
    "text": "And I can think about the image\nof that plane in both camera systems.",
    "start": "1014870",
    "end": "1020240"
  },
  {
    "text": "So suppose we have an image\nplane here and an image plane here.",
    "start": "1020240",
    "end": "1026150"
  },
  {
    "text": "Then we expect to see\nsomething like this--",
    "start": "1026150",
    "end": "1033230"
  },
  {
    "text": " that this plane,\nwhich is defined by these three points, L, R,\nand P, projects into a line.",
    "start": "1033230",
    "end": "1042569"
  },
  {
    "text": "And the point P is imaged\nsomewhere along that line.",
    "start": "1042569",
    "end": "1048620"
  },
  {
    "text": "Or think of it\nanother way-- suppose that I go into the left image,\nand I use my interest operator,",
    "start": "1048620",
    "end": "1057410"
  },
  {
    "text": "like SIFT or SURF or something,\nand I define this point. What do I know?",
    "start": "1057410",
    "end": "1062940"
  },
  {
    "text": "Well, I know that\nthe world point has to be along that straight line.",
    "start": "1062940",
    "end": "1069929"
  },
  {
    "text": "And then I wonder, what does\nthat mean for the right camera? Well, I project that straight\nline into the right camera.",
    "start": "1069930",
    "end": "1077460"
  },
  {
    "text": "And of course, I just\nget a straight line in the right camera. And so one conclusion\nis that when",
    "start": "1077460",
    "end": "1086370"
  },
  {
    "text": "we search for\ncorrespondences, we only have to search along a line. So instead of trying to look\nfor that interesting point",
    "start": "1086370",
    "end": "1095760"
  },
  {
    "text": "all over the right-hand\nimage, once we've figured out the\ngeometry, we only have to search along that line.",
    "start": "1095760",
    "end": "1102460"
  },
  {
    "text": "And that gives us some measure\nof disparity, which we can turn into a distance measurement.",
    "start": "1102460",
    "end": "1109560"
  },
  {
    "start": "1109560",
    "end": "1116230"
  },
  {
    "text": "So those lines are\ncalled epipolar lines, where there's a correspondence\nbetween two sets of lines.",
    "start": "1116230",
    "end": "1124990"
  },
  {
    "text": "One way to think about\nthis is that there's some line here between L and\nR. And now, imagine there's",
    "start": "1124990",
    "end": "1133899"
  },
  {
    "text": "a plane through it.  And now we draw other planes.",
    "start": "1133900",
    "end": "1140300"
  },
  {
    "text": "So for example, there would\nbe another plane here. ",
    "start": "1140300",
    "end": "1154140"
  },
  {
    "text": "So think of all\nof the planes that have the property that they\npass through that line.",
    "start": "1154140",
    "end": "1161450"
  },
  {
    "text": "Or we could take one\nplane and just rotate it. Those are all the\nepipolar planes.",
    "start": "1161450",
    "end": "1167030"
  },
  {
    "text": "And when we look in\nthe images, we're intersecting the image\nplane with this arrangement.",
    "start": "1167030",
    "end": "1174919"
  },
  {
    "text": "And so we're going to\nget a set of lines, each of them intersected\nwith the image plane",
    "start": "1174920",
    "end": "1180649"
  },
  {
    "text": "gives us a line. But the lines won't be parallel. So we're going to end up with--",
    "start": "1180650",
    "end": "1187350"
  },
  {
    "text": "if I look at the actual images,\nit'll be something like this. ",
    "start": "1187350",
    "end": "1196100"
  },
  {
    "text": "This is my left image. ",
    "start": "1196100",
    "end": "1205500"
  },
  {
    "text": "So if they're not parallel,\nthey're going to intersect. And actually, they all\nintersect in the same place,",
    "start": "1205500",
    "end": "1213170"
  },
  {
    "text": "if I've drawn it properly. And so this is my left image,\nand that's my right image.",
    "start": "1213170",
    "end": "1220660"
  },
  {
    "text": "So what is this point\nin the left image,",
    "start": "1220660",
    "end": "1228720"
  },
  {
    "text": "if you think about this\ngeometric arrangement of the sheaf of planes in 3D?",
    "start": "1228720",
    "end": "1234165"
  },
  {
    "text": " So that must be where all\nthese planes come together.",
    "start": "1234165",
    "end": "1241400"
  },
  {
    "text": "So that's the image\nof the right camera.",
    "start": "1241400",
    "end": "1247490"
  },
  {
    "text": "So this is the image of R.\nAnd this is, correspondingly,",
    "start": "1247490",
    "end": "1255140"
  },
  {
    "text": "the image of the left camera. ",
    "start": "1255140",
    "end": "1260290"
  },
  {
    "text": "Now, they don't necessarily\nhave to actually appear in the part of the image\nthat you're scanning.",
    "start": "1260290",
    "end": "1265840"
  },
  {
    "text": "They could be outside the frame. And typically they\nwill be, particularly if we make the camera's\nface more or less",
    "start": "1265840",
    "end": "1271840"
  },
  {
    "text": "parallel out at the world. Then we would have this\npoint move out that way,",
    "start": "1271840",
    "end": "1278830"
  },
  {
    "text": "and this point\nmove out that way, and these lines would\nbe more like parallel. So here, it's like your\neyes are converging.",
    "start": "1278830",
    "end": "1286330"
  },
  {
    "text": "If you're looking\nat a nearby object, the two eyes are not parallel,\nbut they're converging.",
    "start": "1286330",
    "end": "1292270"
  },
  {
    "text": "So the way I've drawn\nit, I'm assuming they are converged slightly.",
    "start": "1292270",
    "end": "1298480"
  },
  {
    "text": "They could also be\nparallel, in which case these points would move out. Or they could, in\nfact, be diverging,",
    "start": "1298480",
    "end": "1304270"
  },
  {
    "text": "except that's not\nthe greatest thing. Because then the overlap-- the part of this image\nthat's actually appearing",
    "start": "1304270",
    "end": "1311680"
  },
  {
    "text": "in that image-- is reduced. So part of the point of\nactually trying to converge",
    "start": "1311680",
    "end": "1317860"
  },
  {
    "text": "is that you try and have as\nmuch overlap between the two images as possible.",
    "start": "1317860",
    "end": "1323710"
  },
  {
    "text": "But it's not necessary. It just means that you don't\nhave a lot of extraneous image",
    "start": "1323710",
    "end": "1328780"
  },
  {
    "text": "information that's of no use\nto you for recovering depth. ",
    "start": "1328780",
    "end": "1335410"
  },
  {
    "text": "Now, actually, I said that's the\nimage of the right-hand side. It's actually the\nwhole baseline.",
    "start": "1335410",
    "end": "1341110"
  },
  {
    "text": "The whole baseline images in\none point in the left image, and in this point\nin the right image.",
    "start": "1341110",
    "end": "1348910"
  },
  {
    "text": "And the other projection center\nhappens to be on the baseline, so it ends up there, as well.",
    "start": "1348910",
    "end": "1355690"
  },
  {
    "text": "And so one of the\nproperties that we mentioned was that if we know\nthe geometry, then",
    "start": "1355690",
    "end": "1363760"
  },
  {
    "text": "there's a correspondence\nbetween these lines. And if you find anything on\nthe line in the left image",
    "start": "1363760",
    "end": "1371740"
  },
  {
    "text": "marked in red,\nthen you only need to search along the\ncorresponding line",
    "start": "1371740",
    "end": "1377350"
  },
  {
    "text": "in the right image. So we're trying to find the\nrelationship between these two",
    "start": "1377350",
    "end": "1386840"
  },
  {
    "text": "cameras. And that involves,\nobviously, the baseline. That's a translation. ",
    "start": "1386840",
    "end": "1394890"
  },
  {
    "text": "In the equivalent\nmotion vision case, there's a translation from\nthat position to that position.",
    "start": "1394890",
    "end": "1401549"
  },
  {
    "text": "And the other thing is\nthe relative rotation of one camera\nrelative to the other.",
    "start": "1401550",
    "end": "1407679"
  },
  {
    "text": "And so we know that rotation\nhas 3 degrees of freedom. So we might think that as\nin absolute orientation,",
    "start": "1407680",
    "end": "1418170"
  },
  {
    "text": "it's a 6 degree of\nfreedom problem. But it isn't quite,\nand the reason",
    "start": "1418170",
    "end": "1424520"
  },
  {
    "text": "is the scale factor\nambiguity we talked about. So if I take the whole\nworld, and I just expand it",
    "start": "1424520",
    "end": "1433039"
  },
  {
    "text": "by some arbitrary factor,\nthe image positions won't be changed, because\nin perspective projection,",
    "start": "1433040",
    "end": "1439970"
  },
  {
    "text": "we're dividing x, y, z, and\nif you expand both x and z,",
    "start": "1439970",
    "end": "1445130"
  },
  {
    "text": "the result doesn't change. So from the binocular\nsituation here,",
    "start": "1445130",
    "end": "1453169"
  },
  {
    "text": "we can't get absolute size\nwithout some additional factor.",
    "start": "1453170",
    "end": "1458270"
  },
  {
    "text": "And so that means\nthat we can't get the absolute length\nof the baseline",
    "start": "1458270",
    "end": "1465170"
  },
  {
    "text": "unless we have some\nadditional thing. Now of course, in images,\nthere might be other things like you've imaged\na Walmart and you",
    "start": "1465170",
    "end": "1472280"
  },
  {
    "text": "have an idea about how many\nacres of land Walmart occupies. Then you can scale\neverything according to that.",
    "start": "1472280",
    "end": "1479760"
  },
  {
    "text": "But without that, we have\nto treat the baseline as a unit vector. And so we only have 2 degrees\nof freedom for that component.",
    "start": "1479760",
    "end": "1489060"
  },
  {
    "text": "So there's a total of\n5 degrees of freedom. So we have five unknowns, unlike\nsix for absolute orientation.",
    "start": "1489060",
    "end": "1498510"
  },
  {
    "text": "Then comes the question of how\nmany measurements do I need?",
    "start": "1498510",
    "end": "1504960"
  },
  {
    "text": "What is the minimum\nnumber of correspondences to pin this down? And it's hard to come up with\na good heuristic argument.",
    "start": "1504960",
    "end": "1515460"
  },
  {
    "text": "What's the mechanical analog? Well, the mechanical analog is\nthat we take the image points,",
    "start": "1515460",
    "end": "1522000"
  },
  {
    "text": "and we create a wire that goes\nin that direction, a wire that goes in that direction.",
    "start": "1522000",
    "end": "1527800"
  },
  {
    "text": "And they have to intersect, but\nwe don't know how far along. So imagine passing\nthese two wires",
    "start": "1527800",
    "end": "1535200"
  },
  {
    "text": "through a collar that forces\nthem to intersect somewhere, but the collar is free\nto move all along.",
    "start": "1535200",
    "end": "1543659"
  },
  {
    "text": "So if that's all I have, two\nrays, one correspondence,",
    "start": "1543660",
    "end": "1550140"
  },
  {
    "text": "one ray from the left and\none ray from the right, then it's obvious that I\ncan play all kinds of games.",
    "start": "1550140",
    "end": "1556110"
  },
  {
    "text": "I can change the baseline. I can move this\naround, rotate it. I mean it's constrained,\nbut it's only one degree",
    "start": "1556110",
    "end": "1563520"
  },
  {
    "text": "of freedom constraint. So that obviously won't do. So let's add a second\ncorrespondence.",
    "start": "1563520",
    "end": "1572920"
  },
  {
    "text": "So we have a second\nimage point, and we",
    "start": "1572920",
    "end": "1580210"
  },
  {
    "text": "have a collar around there. And that's going to\nbe more constrained,",
    "start": "1580210",
    "end": "1585310"
  },
  {
    "text": "but you can already\nsee a number of ways that this can't be enough. For example, you\ncan draw this axis.",
    "start": "1585310",
    "end": "1593590"
  },
  {
    "text": "And you can rotate the right\ncamera and all of its wires coming out about this axis, and\nthey will still pass through.",
    "start": "1593590",
    "end": "1602820"
  },
  {
    "text": "So that reduces the degree of\nfreedom, but it's not enough. So the answer is 5.",
    "start": "1602820",
    "end": "1608970"
  },
  {
    "text": " And one hand-waving argument\nis that each correspondence",
    "start": "1608970",
    "end": "1617080"
  },
  {
    "text": "gives you one constraint. And why is that?",
    "start": "1617080",
    "end": "1622160"
  },
  {
    "text": "Well, if you compare\nthe two images, you will often find that\nthere is a disparity,",
    "start": "1622160",
    "end": "1629780"
  },
  {
    "text": "and the disparity\nhas two components. ",
    "start": "1629780",
    "end": "1639360"
  },
  {
    "text": "So this is a situation\nwhere we're superimposing the two images, left and right.",
    "start": "1639360",
    "end": "1645220"
  },
  {
    "text": "And we're comparing\nthe image position of some particular point.",
    "start": "1645220",
    "end": "1657500"
  },
  {
    "text": "And let's suppose that we\napproximately line things up-- that the optical axes are\nparallel, more or less,",
    "start": "1657500",
    "end": "1665300"
  },
  {
    "text": "and they're more or less\nperpendicular to the baseline, so that if things are\ninfinitely far away,",
    "start": "1665300",
    "end": "1671809"
  },
  {
    "text": "they would emerge in more\nor less the same place in the image plane. But in practice, they won't.",
    "start": "1671810",
    "end": "1678200"
  },
  {
    "text": "And so there'll be an error,\ndisparity, in the horizontal and the vertical direction.",
    "start": "1678200",
    "end": "1684030"
  },
  {
    "text": "Now the horizontal\n\"disparity,\" as it's called-- should put that in quotation\nmarks, but anyway--",
    "start": "1684030",
    "end": "1691429"
  },
  {
    "text": "corresponds to depth. The closer the object is,\nthe more those two rays",
    "start": "1691430",
    "end": "1696500"
  },
  {
    "text": "have to cross over. The angle between them gets\nlarger, and so the image",
    "start": "1696500",
    "end": "1704510"
  },
  {
    "text": "position changes. If I don't converge my eyes-- I just keep my eyes parallel--",
    "start": "1704510",
    "end": "1711210"
  },
  {
    "text": "and then I bring an\nobject closer and closer, then the difference between\nwhere it images in the two eyes",
    "start": "1711210",
    "end": "1717169"
  },
  {
    "text": "gets further and further apart. And we started there. We had a formula where\nthe depth was inversely",
    "start": "1717170",
    "end": "1724850"
  },
  {
    "text": "proportional to that disparity. And so that's the\nhorizontal disparity. So that's the thing we're\ntrying to use to get depth.",
    "start": "1724850",
    "end": "1733850"
  },
  {
    "text": "But there could also be\na vertical disparity, and what's that from? Well, it shouldn't be there\nif we had things properly",
    "start": "1733850",
    "end": "1739700"
  },
  {
    "text": "lined up. It's an indication that\nthe two cameras are not oriented the same way.",
    "start": "1739700",
    "end": "1745559"
  },
  {
    "text": "And so the vertical disparity\nprovides the constraint.",
    "start": "1745560",
    "end": "1753130"
  },
  {
    "text": "And if we figure out the\nrotation and the baseline, we should be able to zero\nout the vertical disparity",
    "start": "1753130",
    "end": "1760210"
  },
  {
    "text": "everywhere so that we don't\never see a vertical disparity.",
    "start": "1760210",
    "end": "1766090"
  },
  {
    "text": "In actual use, once we've\ngot everything set up, we should only have\nhorizontal disparities,",
    "start": "1766090",
    "end": "1771880"
  },
  {
    "text": "which are then inversely\nproportional to depth. And in order to set\nthe instrument up, one thing we can do is tune\nout those vertical disparities.",
    "start": "1771880",
    "end": "1781330"
  },
  {
    "text": "And that's how it actually\nworked for decades. People had very carefully\nmade optical equipment.",
    "start": "1781330",
    "end": "1788230"
  },
  {
    "text": "They'd plonk in two glass plates\nthat were photographs taken from the plane, and there\nwas a binocular-like imaging",
    "start": "1788230",
    "end": "1797320"
  },
  {
    "text": "arrangement. And you set it up by\nnoticing that this church",
    "start": "1797320",
    "end": "1805240"
  },
  {
    "text": "tower is slightly higher\nin this image than that. And there was a sequence of\nmoves where you would tweak out",
    "start": "1805240",
    "end": "1813220"
  },
  {
    "text": "these five parameters in\nsequence, and iteratively.",
    "start": "1813220",
    "end": "1819100"
  },
  {
    "text": "And one of the\nnasty features of it was that it might not converge. And so there was an\nadditional component",
    "start": "1819100",
    "end": "1827350"
  },
  {
    "text": "where you would record the\nfive adjustments you made and plonk them into\na formula which",
    "start": "1827350",
    "end": "1833470"
  },
  {
    "text": "told you how to adjust things\nso that they do converge. So it was pretty painful.",
    "start": "1833470",
    "end": "1838600"
  },
  {
    "text": "And it's too bad that there\nwasn't some easy solution. But we're going to find a\nsolution-- unfortunately,",
    "start": "1838600",
    "end": "1847809"
  },
  {
    "text": "not closed form. But in any case, nobody\ndoes it that way anymore. But it was interesting\nto think that there's",
    "start": "1847810",
    "end": "1853870"
  },
  {
    "text": "this complicated mechanical\nHeath Robinson-like machine that had these\nknobs that you could tweak",
    "start": "1853870",
    "end": "1860740"
  },
  {
    "text": "to find the parameters\nof this transformation in three-dimensional space. ",
    "start": "1860740",
    "end": "1870010"
  },
  {
    "text": "So that's the minimum number\nof correspondences we need.",
    "start": "1870010",
    "end": "1876190"
  },
  {
    "text": "In practice, of course,\nwe want accuracy. And so of course, we would\nlike to have more points.",
    "start": "1876190",
    "end": "1881919"
  },
  {
    "text": "And then there won't\nbe any arrangement that makes them all work,\nso we'll do some sort",
    "start": "1881920",
    "end": "1887360"
  },
  {
    "text": "of least squares\nthing, in that we will have the image positions\nmatch as closely as possible.",
    "start": "1887360",
    "end": "1894500"
  },
  {
    "text": "So it's important that the error\nis in our measurement of image",
    "start": "1894500",
    "end": "1899530"
  },
  {
    "text": "position. And so the thing\nwe want to minimize is going to be\nthe sum of squares",
    "start": "1899530",
    "end": "1904990"
  },
  {
    "text": "of errors in image position,\nnot something out in space.",
    "start": "1904990",
    "end": "1912190"
  },
  {
    "text": "And we'll come\nback to that point. So in practice, we use\nmore than five points.",
    "start": "1912190",
    "end": "1918840"
  },
  {
    "text": "Five is the minimum. And there's an old problem,\nwhich is it's nonlinear.",
    "start": "1918840",
    "end": "1926320"
  },
  {
    "text": "So how many solutions? ",
    "start": "1926320",
    "end": "1935200"
  },
  {
    "text": "And roughly speaking,\nwe're dealing",
    "start": "1935200",
    "end": "1941929"
  },
  {
    "text": "with second-order equations. And we end up with seven\nsecond-order equations,",
    "start": "1941930",
    "end": "1948710"
  },
  {
    "text": "these five plus two more having\nto do with the baseline being a unit vector and so on.",
    "start": "1948710",
    "end": "1955940"
  },
  {
    "text": "And so by Bezout's theorem,\nwe might have as many as 2 to the 7 solutions, 128,\nwhich is kind of scary.",
    "start": "1955940",
    "end": "1965240"
  },
  {
    "text": "And that's also one\nreason why you typically don't use five correspondences. You use more to try and\nget rid of that ambiguity.",
    "start": "1965240",
    "end": "1973040"
  },
  {
    "text": "Anyway, it was for a\nlong time not known what the actual answer was.",
    "start": "1973040",
    "end": "1978560"
  },
  {
    "text": "And also, there are\ndifferent ways of counting. But the true answer is 20.",
    "start": "1978560",
    "end": "1988170"
  },
  {
    "text": "Now, Kupka, a\ncentury ago, showed that there can't be more than,\nin his way of numbering, 11,",
    "start": "1988170",
    "end": "1996020"
  },
  {
    "text": "which would be 22\nby our counting. And it took almost a century\nto get it down from 22 to 20.",
    "start": "1996020",
    "end": "2003129"
  },
  {
    "text": "But in a way, for us\nthis is kind of a curio.",
    "start": "2003130",
    "end": "2008230"
  },
  {
    "text": "It just shows you\nthat it's nonlinear. And it shows you that\nyou have to be careful",
    "start": "2008230",
    "end": "2013420"
  },
  {
    "text": "when you get the solutions. But in practice, when you\ntake many more measurements than needed, and when you have a\nrough idea of the arrangement--",
    "start": "2013420",
    "end": "2022342"
  },
  {
    "text": "I mean, you built\nthis thing, typically, so roughly what its\ngeometry is-- then",
    "start": "2022343",
    "end": "2028360"
  },
  {
    "text": "it's not really a problem. Except for people interested\nin obscure theoretical--",
    "start": "2028360",
    "end": "2037660"
  },
  {
    "text": "not that there's\nanything wrong with it. It's a lot of fun trying\nto figure this out. So how do we find the\nbaseline and rotation",
    "start": "2037660",
    "end": "2052429"
  },
  {
    "text": "from correspondences? ",
    "start": "2052429",
    "end": "2060080"
  },
  {
    "text": "So we have our baseline\nagain, L and R.",
    "start": "2060080",
    "end": "2067419"
  },
  {
    "text": "And then we have\nsome point out there. And this is r l1,\nand this is r l1.",
    "start": "2067420",
    "end": "2078219"
  },
  {
    "text": "This is the baseline.  Now, one thing we\ncan do is notice",
    "start": "2078219",
    "end": "2087770"
  },
  {
    "text": "right away that those\nthree vectors are coplanar. ",
    "start": "2087770",
    "end": "2093638"
  },
  {
    "text": "That's one of these\nepipolar planes. So what does that mean\nabout the parallelepiped",
    "start": "2093639",
    "end": "2104500"
  },
  {
    "text": "that I can construct\nfrom those three vectors? So maybe I should put\narrows on these things. ",
    "start": "2104500",
    "end": "2112430"
  },
  {
    "text": "So we said that the volume\nof the distorted brick shape that we get by using\nthose three vectors as edges--",
    "start": "2112430",
    "end": "2123079"
  },
  {
    "text": "so here is the construction\nI'm talking about. So you take these three\nvectors, and you build things",
    "start": "2123080",
    "end": "2130860"
  },
  {
    "text": "with parallelogram inside,\nand the whole thing is called a \"parallelepiped.\" And its volume is\nthe triple product.",
    "start": "2130860",
    "end": "2139560"
  },
  {
    "start": "2139560",
    "end": "2148420"
  },
  {
    "text": "And so what do we expect for\nthat triple product based on that argument? ",
    "start": "2148420",
    "end": "2158620"
  },
  {
    "text": "It's a flat thing, so it\nshould have no volume. ",
    "start": "2158620",
    "end": "2164440"
  },
  {
    "text": "Because these three\nvectors are coplanar. So this object\nisn't something that",
    "start": "2164440",
    "end": "2170530"
  },
  {
    "text": "has three-dimensional volume. It's flat. And so in the ideal case,\nwe expect that to be 0.",
    "start": "2170530",
    "end": "2177955"
  },
  {
    "start": "2177955",
    "end": "2185080"
  },
  {
    "text": "And that's called the\n\"coplanarity condition,\" and it's the basis\nof all of this stuff.",
    "start": "2185080",
    "end": "2191500"
  },
  {
    "start": "2191500",
    "end": "2199500"
  },
  {
    "text": "So right away, you can imagine a\npotential least squares method.",
    "start": "2199500",
    "end": "2205170"
  },
  {
    "text": "All we need to do is for\nevery correspondence we have, we compute this triple product.",
    "start": "2205170",
    "end": "2212230"
  },
  {
    "text": "And it might be\npositive or negative, depending on the directions\nof these arrows--",
    "start": "2212230",
    "end": "2217660"
  },
  {
    "text": "do they form a right-hand\ncoordinate system or not? So we can't just add them up.",
    "start": "2217660",
    "end": "2223160"
  },
  {
    "text": "But we can add up their squares. And supposedly, if\nthere are no errors,",
    "start": "2223160",
    "end": "2229450"
  },
  {
    "text": "the sum of those\nsquares should be 0. So a potential method here\nwould be given, actually,",
    "start": "2229450",
    "end": "2236140"
  },
  {
    "text": "our measurement\nerrors, let's minimize the sum of those squares. So we could take\nthis triple product, take the sum of squares.",
    "start": "2236140",
    "end": "2243280"
  },
  {
    "text": "And if our estimate of the\nbaseline and our estimate of the rotation, which is\nburied in here, is correct,",
    "start": "2243280",
    "end": "2252160"
  },
  {
    "text": "then it should be 0. Now, that's a feasible approach.",
    "start": "2252160",
    "end": "2259090"
  },
  {
    "text": "It's not particularly\ngood because-- well, let's put it\nthis way-- if you",
    "start": "2259090",
    "end": "2264910"
  },
  {
    "text": "have absolutely\nperfect data, you will get the perfectly\ncorrect answer. But it's not a good method.",
    "start": "2264910",
    "end": "2270620"
  },
  {
    "text": "And the reason is that it\nhas a very high noise gain. And this typical of quite\na number of bad methods",
    "start": "2270620",
    "end": "2278650"
  },
  {
    "text": "that have found their way\ninto machine vision, where mathematically, they're\nright because you give them",
    "start": "2278650",
    "end": "2287920"
  },
  {
    "text": "the correct measurements, they\ngive you the correct answer. But they are not\npractically useful",
    "start": "2287920",
    "end": "2295779"
  },
  {
    "text": "because with a small\nerror in the measurement, you don't get the\ncorrect answer, and you often get\nan answer that's",
    "start": "2295780",
    "end": "2302289"
  },
  {
    "text": "wrong in quite a large degree. And so we need to do a\nlittle bit better than that.",
    "start": "2302290",
    "end": "2309220"
  },
  {
    "text": "But we can start\nwith that as a basis. So what are we really\ntrying to minimize?",
    "start": "2309220",
    "end": "2315310"
  },
  {
    "text": "Well, as I mentioned,\nthe key is the image. This is where we make\nthe measurements. And when we make\nthe measurement,",
    "start": "2315310",
    "end": "2321370"
  },
  {
    "text": "then we know that that\npoint is known, but only within a certain accuracy. And for our edges,\nwe were saying",
    "start": "2321370",
    "end": "2328930"
  },
  {
    "text": "that if you do really\nwell, we can determine them to 1/40 of a pixel. But whatever it is,\nwhatever that quantity is,",
    "start": "2328930",
    "end": "2336790"
  },
  {
    "text": "it's in the image\nthat we are trying to match things up,\nnot some triple product",
    "start": "2336790",
    "end": "2343720"
  },
  {
    "text": "volume of something. It's true that if everything is\ncorrect, that volume will be 0,",
    "start": "2343720",
    "end": "2350500"
  },
  {
    "text": "but it's not true\nthat that itself is a good measurement of error. It is proportional to the error.",
    "start": "2350500",
    "end": "2357170"
  },
  {
    "text": "So if we figure out the\nproportionality factor, we could use it.",
    "start": "2357170",
    "end": "2362320"
  },
  {
    "text": "Well, let's go a little\nbit further, and say, so the measurements\naren't perfect, or our baseline and\nrotation aren't perfect.",
    "start": "2362320",
    "end": "2370329"
  },
  {
    "text": "And then those two\nthings won't intersect. So let's see how that works out. So we have r l prime here.",
    "start": "2370330",
    "end": "2376690"
  },
  {
    "text": " So here, the two rays are\nnot intersecting anymore.",
    "start": "2376690",
    "end": "2383150"
  },
  {
    "text": "And this minimum separation,\nthat's a measure of error,",
    "start": "2383150",
    "end": "2389039"
  },
  {
    "text": "so we could think\nabout minimizing that. So let's take that\nidea little further.",
    "start": "2389040",
    "end": "2394880"
  },
  {
    "text": " So it's pretty easy to prove--",
    "start": "2394880",
    "end": "2400970"
  },
  {
    "text": "I won't bother-- that\nthis minimum approach has the property that it's\nright angles to both of these.",
    "start": "2400970",
    "end": "2410730"
  },
  {
    "text": "Because if it isn't, then\nyou can move it closer and get a smaller distance.",
    "start": "2410730",
    "end": "2415779"
  },
  {
    "text": "And so that means\nthat this direction is perpendicular to both\nof these two vectors.",
    "start": "2415780",
    "end": "2424020"
  },
  {
    "text": "So it's parallel to\nthe cross product. ",
    "start": "2424020",
    "end": "2431180"
  },
  {
    "text": "And so I can draw an equation\nthat goes around this loop. ",
    "start": "2431180",
    "end": "2438760"
  },
  {
    "text": "So I start over\nhere, and then I go around this, along this vector. Now, I don't know how far I\nhave to go because I've only",
    "start": "2438760",
    "end": "2446260"
  },
  {
    "text": "got the direction, remember. And I'm going to then\nadd to that a vector that",
    "start": "2446260",
    "end": "2453080"
  },
  {
    "text": "goes in this error direction. ",
    "start": "2453080",
    "end": "2460550"
  },
  {
    "text": "And that's going to be equal\nto going the other way, which",
    "start": "2460550",
    "end": "2466450"
  },
  {
    "text": "is b plus, and then coming\nout along the right way. ",
    "start": "2466450",
    "end": "2473460"
  },
  {
    "text": "So all I'm saying is if I add\nup the vectors on the left here, then they must equal the\nvectors on the right.",
    "start": "2473460",
    "end": "2478980"
  },
  {
    "text": "Or I could have just\ngone around the loop, and said the result is 0.",
    "start": "2478980",
    "end": "2484080"
  },
  {
    "text": "So that's an equation I'm\ninterested in, partly because I",
    "start": "2484080",
    "end": "2490380"
  },
  {
    "text": "would like to make this small. I would like those rays to\nintersect or almost intersect.",
    "start": "2490380",
    "end": "2501077"
  },
  {
    "text": "So there I have got\na vector equation. What do I do with\nvector equations? Well, the appendix\nteaches you some tricks.",
    "start": "2501077",
    "end": "2508480"
  },
  {
    "text": "One of them is convert\nit to things we know a lot about, scalar equations. And how do you do that?",
    "start": "2508480",
    "end": "2514640"
  },
  {
    "text": "Well, you take dot products. So we can turn this\ninto a scalar equation. And actually, it's\na vector equation.",
    "start": "2514640",
    "end": "2521060"
  },
  {
    "text": "So it provides three\ndifferent constraints. So we should be able\nto do that three times,",
    "start": "2521060",
    "end": "2526380"
  },
  {
    "text": "and so take a dot product\nwith three different things, and get three scalar\nequations, which correspond",
    "start": "2526380",
    "end": "2531790"
  },
  {
    "text": "to that single vector equation. Now, when we do that, we'd\nlike to pick something that makes a lot of\nthese terms disappear,",
    "start": "2531790",
    "end": "2539020"
  },
  {
    "text": "to simplify the equation. So we want to pick something\nthat makes a lot of these terms drop out.",
    "start": "2539020",
    "end": "2545200"
  },
  {
    "text": "And so for example, if we\ntake a dot product with-- ",
    "start": "2545200",
    "end": "2554410"
  },
  {
    "text": "why is this good? Well, r l cross r r\nis perpendicular to r",
    "start": "2554410",
    "end": "2560477"
  },
  {
    "text": "l and perpendicular to r r. So when you dot it with this\nterm, that term goes away.",
    "start": "2560477",
    "end": "2567119"
  },
  {
    "text": "When you dot it\nwith that term, it goes away, because it's\nperpendicular to r r.",
    "start": "2567120",
    "end": "2573600"
  },
  {
    "text": "So that's a simple one. And we get-- so the first\nand the last term drop out.",
    "start": "2573600",
    "end": "2590770"
  },
  {
    "text": "And we're left with this. And this is nice. It's sort of intuitive.",
    "start": "2590770",
    "end": "2595869"
  },
  {
    "text": "It's saying that gamma,\nwhich is measuring the error, the gap\nbetween the two rays,",
    "start": "2595870",
    "end": "2601869"
  },
  {
    "text": "is proportional to\nthe triple product. And we know that when\nthings work correctly, the triple product is 0, and\nthen we expect gamma to be 0.",
    "start": "2601870",
    "end": "2609460"
  },
  {
    "text": "So this is a way of calculating\nthe discrepancy in the gap",
    "start": "2609460",
    "end": "2616510"
  },
  {
    "text": "there. Then we can also use\nthe same sort of idea.",
    "start": "2616510",
    "end": "2622470"
  },
  {
    "text": "Let's multiply by something\nthat makes a lot of terms go away, i.e.: it's\nperpendicular to some",
    "start": "2622470",
    "end": "2628500"
  },
  {
    "text": "of these things. We've already taken\ncare of r l cross r r. ",
    "start": "2628500",
    "end": "2636780"
  },
  {
    "text": "That knocks out the\nfirst and last term. What if we try and knock\nout these two terms? Well, that means we\nneed to take a dot",
    "start": "2636780",
    "end": "2642870"
  },
  {
    "text": "product with the cross\nproduct of those. ",
    "start": "2642870",
    "end": "2656480"
  },
  {
    "text": "And that gives us-- ",
    "start": "2656480",
    "end": "2672599"
  },
  {
    "text": "and so that's a way\nof calculating beta. So that's going to\nallow us to determine",
    "start": "2672600",
    "end": "2678680"
  },
  {
    "text": "how far out along the ray we get\nto the intersection, or almost intersection. And similarly for alpha,\nthat'll tell us how far",
    "start": "2678680",
    "end": "2686720"
  },
  {
    "text": "we are out along the other one. And so this is the third of our\ndot products, and it gives us--",
    "start": "2686720",
    "end": "2696290"
  },
  {
    "start": "2696290",
    "end": "2712180"
  },
  {
    "text": "so this allows us to calculate\nthe three quantities, alpha, beta, and gamma.",
    "start": "2712180",
    "end": "2719079"
  },
  {
    "text": "And they're important. So first of all,\ngamma is the thing we're trying to make small.",
    "start": "2719080",
    "end": "2726280"
  },
  {
    "text": "And then there's alpha and beta. And they give us the\nthree-dimensional position.",
    "start": "2726280",
    "end": "2733510"
  },
  {
    "text": "But there's another\nimportant point here, which is, are these things\npositive or negative?",
    "start": "2733510",
    "end": "2740440"
  },
  {
    "text": " Now, in the case\nof gamma, it just",
    "start": "2740440",
    "end": "2752170"
  },
  {
    "text": "means does the right ray go\nbelow or above the left ray? So that's not that interesting.",
    "start": "2752170",
    "end": "2760569"
  },
  {
    "text": "We just want to make it small. But for alpha and beta, being\nnegative is a real problem.",
    "start": "2760570",
    "end": "2767940"
  },
  {
    "text": "See, we're dealing with\nequations for lines. Well, they don't stop\nor start anywhere,",
    "start": "2767940",
    "end": "2777840"
  },
  {
    "text": "so we're actually looking\nat the intersection or near intersection of not\njust these line segments,",
    "start": "2777840",
    "end": "2784900"
  },
  {
    "text": "but these two infinite lines. And depending on the\ngeometry, it may end up that--",
    "start": "2784900",
    "end": "2790590"
  },
  {
    "text": "suppose these are\nturned outward-- they're actually\nintersecting behind you.",
    "start": "2790590",
    "end": "2795930"
  },
  {
    "text": "And so mathematically,\nyou get a negative alpha and a negative beta.",
    "start": "2795930",
    "end": "2801330"
  },
  {
    "text": "And then you have to\ndecide if that's physically reasonable in your case. It typically won't\nbe because it means",
    "start": "2801330",
    "end": "2808500"
  },
  {
    "text": "that you're imaging\nsomething behind the camera. So remember the formula-- ",
    "start": "2808500",
    "end": "2815040"
  },
  {
    "text": "big X over big Z-- if you make big X and\nbig Z both negative, you still get some result.\nBut what does it mean?",
    "start": "2815040",
    "end": "2823350"
  },
  {
    "text": "You typically don't image\nstuff that's behind you. So we typically check\nwhether in the solution,",
    "start": "2823350",
    "end": "2833819"
  },
  {
    "text": "alpha and beta are\ngreater than 0. And remember, I said\nthat there could be as many as 20 solutions.",
    "start": "2833820",
    "end": "2839590"
  },
  {
    "text": "Well, one way to throw out most\nof them is to calculate this. And a whole bunch of them will\nhave negative values for alpha,",
    "start": "2839590",
    "end": "2847770"
  },
  {
    "text": "or negative values\nfor beta, or both. And so yes, in the\nmathematical sense",
    "start": "2847770",
    "end": "2855150"
  },
  {
    "text": "those equations have\nup to 20 solutions, but some of the 20 solutions\nwon't make physical sense.",
    "start": "2855150",
    "end": "2861910"
  },
  {
    "text": "And so you can\njust discard them. ",
    "start": "2861910",
    "end": "2871580"
  },
  {
    "text": "So we've got gamma. Oh, I guess we haven't\ngot the actual distance.",
    "start": "2871580",
    "end": "2878369"
  },
  {
    "text": "Gamma is just the multiplier. So the actual error\ndistance, d, is gamma--",
    "start": "2878370",
    "end": "2883950"
  },
  {
    "start": "2883950",
    "end": "2889920"
  },
  {
    "text": "but we keep on coming back\nto that same triple product. That's the key to everything.",
    "start": "2889920",
    "end": "2896010"
  },
  {
    "start": "2896010",
    "end": "2902940"
  },
  {
    "text": "Now, what we'd like to do is\nhave a closed form solution,",
    "start": "2902940",
    "end": "2909270"
  },
  {
    "text": "where we give five\ncorrespondences, and we end up with\nfive equations saying",
    "start": "2909270",
    "end": "2917789"
  },
  {
    "text": "gamma equals 0, and solve them. But unfortunately,\nthey're second order.",
    "start": "2917790",
    "end": "2925240"
  },
  {
    "text": "So we've got five quadratics,\nand so far, nobody's",
    "start": "2925240",
    "end": "2931619"
  },
  {
    "text": "come up with a\nclosed form solution. And there probably\nisn't one because you",
    "start": "2931620",
    "end": "2940170"
  },
  {
    "text": "can, somewhat painfully,\nreduce those five equations to a single fifth-order\nequation, a quintic.",
    "start": "2940170",
    "end": "2948720"
  },
  {
    "text": "And we know that\nquintics don't have solutions in terms\nof multiplication,",
    "start": "2948720",
    "end": "2954370"
  },
  {
    "text": "and addition, division,\nand square roots. So now, of course, from a\nnumber-crunching point of view,",
    "start": "2954370",
    "end": "2961799"
  },
  {
    "text": "who cares? If you have a\nfifth-order equation, you can find its roots. But in the strict way of\nsaying, is there a closed form",
    "start": "2961800",
    "end": "2969990"
  },
  {
    "text": "solution, probably not. Although I haven't seen a paper\nmaking a clean proof of that.",
    "start": "2969990",
    "end": "2977830"
  },
  {
    "text": "So what do we do? Well, we know that we\nwould like to minimize",
    "start": "2977830",
    "end": "2984870"
  },
  {
    "text": "the error in the image, not\nthis error out in the world. You can imagine that\nthis could get huge.",
    "start": "2984870",
    "end": "2990240"
  },
  {
    "text": "For example, if there's some\nobject that's very far away,",
    "start": "2990240",
    "end": "2995400"
  },
  {
    "text": "then that gap obviously\ngets large, even",
    "start": "2995400",
    "end": "3000710"
  },
  {
    "text": "for a small error\nin image position. So this d, this quantity, is\nnot the one we want to minimize.",
    "start": "3000710",
    "end": "3008210"
  },
  {
    "text": "But it's proportional to it. And if the image position is\ncorrect, then d will be 0,",
    "start": "3008210",
    "end": "3014990"
  },
  {
    "text": "and vice versa. So they're related, and\nwe can take care of that just by some weighting factor.",
    "start": "3014990",
    "end": "3020135"
  },
  {
    "start": "3020135",
    "end": "3035700"
  },
  {
    "text": "So triple product, and\nwe're going to add it up. We're going to square it because\nit could have different signs.",
    "start": "3035700",
    "end": "3042510"
  },
  {
    "text": "So we're going to minimize\nsum of squared error. And we're going to-- so what's that weighting factor?",
    "start": "3042510",
    "end": "3047790"
  },
  {
    "text": "Well, the weighting factor\nis the conversion factor from an error out here\nto an error in the image.",
    "start": "3047790",
    "end": "3055260"
  },
  {
    "text": "And if I know these\ndistances, I can figure out what that weighting factor is.",
    "start": "3055260",
    "end": "3060840"
  },
  {
    "text": "However, the formula\nfor it is a mess, so I'll just not give it to you.",
    "start": "3060840",
    "end": "3065849"
  },
  {
    "text": "It's in the paper if\nyou really want it. And then I solve this problem. So the problem here is,\nminimize this with respect",
    "start": "3065850",
    "end": "3073200"
  },
  {
    "text": "to b and the rotation,\nand subject to--",
    "start": "3073200",
    "end": "3079545"
  },
  {
    "start": "3079545",
    "end": "3085020"
  },
  {
    "text": "so unfortunately, it's not\nan unconstrained optimization problem.",
    "start": "3085020",
    "end": "3090710"
  },
  {
    "text": "Now, how do I actually do this,\nbecause this weight depends",
    "start": "3090710",
    "end": "3096580"
  },
  {
    "text": "on the solution. So I'm going to do\nthis iteratively.",
    "start": "3096580",
    "end": "3102020"
  },
  {
    "text": "So basically, that\nconversion factor between error in the world\nand error in the image changes with my solution.",
    "start": "3102020",
    "end": "3108829"
  },
  {
    "text": "And so I will use this\nparticular set of weighting",
    "start": "3108830",
    "end": "3114220"
  },
  {
    "text": "factors, and solve\nthis problem, and then recompute the weighting\nfactors, and solve that problem.",
    "start": "3114220",
    "end": "3121210"
  },
  {
    "text": "And fortunately, in most cases,\nit converges very quickly.",
    "start": "3121210",
    "end": "3127960"
  },
  {
    "text": "And that makes the\nwhole thing feasible. Without that, it's\njust intractable.",
    "start": "3127960",
    "end": "3136900"
  },
  {
    "text": "Yeah, what is-- oh, sorry,\nit's my way of saying rotation,",
    "start": "3136900",
    "end": "3144529"
  },
  {
    "text": "without specifying that it's\na rotation vector or rotation matrix. So it's r parenthesis,\ndot, dot, dot.",
    "start": "3144530",
    "end": "3155329"
  },
  {
    "text": "So this is a square\nof a triple product. ",
    "start": "3155330",
    "end": "3163910"
  },
  {
    "text": "And of course, we can\nexpand the triple product in many different ways. For example, let me\nexpand it some other way",
    "start": "3163910",
    "end": "3173089"
  },
  {
    "text": "that's more useful. ",
    "start": "3173090",
    "end": "3184260"
  },
  {
    "text": "And now, we get to\nquaternions because we're dealing with this\nquantity, which",
    "start": "3184260",
    "end": "3191940"
  },
  {
    "text": "is being rotated from the\nleft coordinate system into the right\ncoordinate system. And so we can introduce--",
    "start": "3191940",
    "end": "3199620"
  },
  {
    "start": "3199620",
    "end": "3211470"
  },
  {
    "text": "so if r l is the thing\nthat I'm actually measuring in the left\ncoordinate system,",
    "start": "3211470",
    "end": "3217813"
  },
  {
    "text": "since everything over\nthere is expressed in the right\ncoordinate system, I have to rotate it into the\nright coordinate system.",
    "start": "3217813",
    "end": "3223290"
  },
  {
    "text": "And I can do that\nusing quaternions. So let's call this triple\nproduct t for convenience.",
    "start": "3223290",
    "end": "3232390"
  },
  {
    "text": " And so I'm going now from\nvectors to quaternions,",
    "start": "3232390",
    "end": "3247750"
  },
  {
    "text": "but these are quaternions\nwith the special property that they have zero scalar part.",
    "start": "3247750",
    "end": "3257109"
  },
  {
    "text": " So remember that if I have\ntwo quaternions that represent",
    "start": "3257110",
    "end": "3272240"
  },
  {
    "text": "vectors, the formula for\nmultiplication simplifies. It's just the dot product\nand the cross product",
    "start": "3272240",
    "end": "3280020"
  },
  {
    "text": "So then one of the lemmas\nwe stated without proof",
    "start": "3280020",
    "end": "3285180"
  },
  {
    "text": "was a way of moving one of these\nmultipliers to the other side by taking its conjugate.",
    "start": "3285180",
    "end": "3291480"
  },
  {
    "start": "3291480",
    "end": "3299859"
  },
  {
    "text": "And the next thing\nI'm going to do is define a new quantity,\nfor convenience,",
    "start": "3299860",
    "end": "3309140"
  },
  {
    "text": "which is the product of the\nbaseline and the rotation. It sounds really weird, but\nthis is a very useful quantity.",
    "start": "3309140",
    "end": "3318940"
  },
  {
    "text": "So I take a quaternion\nrepresenting the baseline, and why do I do this?",
    "start": "3318940",
    "end": "3324220"
  },
  {
    "text": "Well, because it simplifies\nit and makes it symmetric. Yeah, I guess I'm\nmixing notations here.",
    "start": "3324220",
    "end": "3330750"
  },
  {
    "text": "I'm sorry, so this is actually\nr l, and similarly here.",
    "start": "3330750",
    "end": "3341550"
  },
  {
    "text": "It was coming from\ntwo different papers which use different notation. ",
    "start": "3341550",
    "end": "3349050"
  },
  {
    "text": "So what's my job? My job is to find the\nbaseline and to find d.",
    "start": "3349050",
    "end": "3360819"
  },
  {
    "text": "And why is that enough? Well, because if I\nfind d, then I'm done.",
    "start": "3360820",
    "end": "3367240"
  },
  {
    "text": "I can recover-- so\nwhen I'm all done, I can recover b by doing this.",
    "start": "3367240",
    "end": "3374080"
  },
  {
    "start": "3374080",
    "end": "3392050"
  },
  {
    "text": "So when I'm done, I just\nmultiply d by q star. And that's equivalent\nto this expression.",
    "start": "3392050",
    "end": "3400770"
  },
  {
    "text": "And then, of\ncourse, q and q star is this quaternion identity\nwith zero vector part.",
    "start": "3400770",
    "end": "3409080"
  },
  {
    "text": "And b times the\nidentity is just b. So I have replaced\nthe problem of finding",
    "start": "3409080",
    "end": "3416970"
  },
  {
    "text": "b and q with the problem\nof finding d and q. ",
    "start": "3416970",
    "end": "3424820"
  },
  {
    "text": "That doesn't sound right. Because those quaternions\nhave lots of components.",
    "start": "3424820",
    "end": "3430400"
  },
  {
    "text": "So b has four components\nand q has four components.",
    "start": "3430400",
    "end": "3435849"
  },
  {
    "text": "So it sounds like we've\ngot eight unknowns.",
    "start": "3435850",
    "end": "3441180"
  },
  {
    "text": "And we know that the whole\nproblem's constrained by 5 degrees of freedom. So what's going on?",
    "start": "3441180",
    "end": "3449410"
  },
  {
    "text": "Well, there are\nsome constraints. For example, we know the\nbaseline is a unit vector.",
    "start": "3449410",
    "end": "3455480"
  },
  {
    "start": "3455480",
    "end": "3465800"
  },
  {
    "text": "And it turns out we can\nconstrain d to be 1.",
    "start": "3465800",
    "end": "3471760"
  },
  {
    "text": "And we can show-- we're not going\nto do that, but--",
    "start": "3471760",
    "end": "3476980"
  },
  {
    "text": "that these are\nperpendicular to each other.",
    "start": "3476980",
    "end": "3484420"
  },
  {
    "text": "That's fairly easy to show. ",
    "start": "3484420",
    "end": "3490500"
  },
  {
    "text": "Oh, well, this is\nreally the same. Forget that [INAUDIBLE].",
    "start": "3490500",
    "end": "3498153"
  },
  {
    "text": "So we've got that\nconstraint, that constraint, and that constraint. So now the counting is right.",
    "start": "3498153",
    "end": "3503819"
  },
  {
    "text": "We've got eight quantities,\neight variables,",
    "start": "3503820",
    "end": "3509160"
  },
  {
    "text": "and we have three constraints.",
    "start": "3509160",
    "end": "3514579"
  },
  {
    "text": "So there are only 5\ndegrees of freedom. But it does make it much worse\nthan absolute orientation,",
    "start": "3514580",
    "end": "3523920"
  },
  {
    "text": "where the only\nconstraint we had was that q be a unit vector, which\nwas very easy to implement.",
    "start": "3523920",
    "end": "3530460"
  },
  {
    "text": "Here now, we've got three\nquantities, three constraints.",
    "start": "3530460",
    "end": "3538300"
  },
  {
    "text": "There's some interesting\nsymmetries here",
    "start": "3538300",
    "end": "3543770"
  },
  {
    "text": "that I want to just\nbriefly talk about, including the strange thing\nthat you can replace--",
    "start": "3543770",
    "end": "3551119"
  },
  {
    "text": "you can interchange the\nleft and right coordinates, the left and right\nray directions,",
    "start": "3551120",
    "end": "3557000"
  },
  {
    "text": "which doesn't make any sense. How can that be? It's like somebody\nscrewed up and gave you",
    "start": "3557000",
    "end": "3562460"
  },
  {
    "text": "the data for the left eye and\nswitched it to the right eye. Yeah. ",
    "start": "3562460",
    "end": "3569100"
  },
  {
    "text": "Well, I'm not going to say\nhow to calculate the weight.",
    "start": "3569100",
    "end": "3574170"
  },
  {
    "text": "Unfortunately, it's non-trivial. So again, what is the weight? The weight is the\nrelationship between the error",
    "start": "3574170",
    "end": "3581099"
  },
  {
    "text": "in 3 space where the\ntwo rays intersect and the error in image position. And we can obviously\ncalculate it",
    "start": "3581100",
    "end": "3588120"
  },
  {
    "text": "based on the rays and\nall of those things. But it's a slightly\ncomplicated formula.",
    "start": "3588120",
    "end": "3596412"
  },
  {
    "text": "But the only important\nthing to remember is that we have to\nadjust the weight.",
    "start": "3596413",
    "end": "3601570"
  },
  {
    "text": "So we do this calculation, we\nget an estimate of baseline and b and d.",
    "start": "3601570",
    "end": "3609089"
  },
  {
    "text": "And based on that, we\nrecalculate the weights. Because depending\non the orientation,",
    "start": "3609090",
    "end": "3616859"
  },
  {
    "text": "the relationship between error\nin 3D and area in the image will change-- hopefully not a lot.",
    "start": "3616860",
    "end": "3624100"
  },
  {
    "text": "And so this is, obviously,\nthen dependent on having a good first guess.",
    "start": "3624100",
    "end": "3630990"
  },
  {
    "text": "And so we'll have to talk about\nthat because that's always a handicap if your\niterative algorithm",
    "start": "3630990",
    "end": "3636300"
  },
  {
    "text": "needs a good first guess. So we have a good first guess,\nwe calculate the dot weights",
    "start": "3636300",
    "end": "3641490"
  },
  {
    "text": "based on that. We solve this\noptimization problem. We go back, recalculate\nthe weights, do it again.",
    "start": "3641490",
    "end": "3650220"
  },
  {
    "text": "And typically, we don't have\nto do it too many times. So what's this about\ninterchanging left and right?",
    "start": "3650220",
    "end": "3657029"
  },
  {
    "text": "Well, it has to do with the\nidea that we're intersecting",
    "start": "3657030",
    "end": "3662260"
  },
  {
    "text": "lines, not line segments. So when you interchange\nthe left and right rays--",
    "start": "3662260",
    "end": "3668440"
  },
  {
    "text": "so here's our left and\nright ray drawn correctly--",
    "start": "3668440",
    "end": "3673640"
  },
  {
    "text": "and now suppose\nthat somebody says, actually, I've\nmixed up the data,",
    "start": "3673640",
    "end": "3679180"
  },
  {
    "text": "and I'm giving you that ray\nfor the right eye and that ray for the left eye.",
    "start": "3679180",
    "end": "3686390"
  },
  {
    "text": "Oh, they intersect-- if these\nintersect, these intersect.",
    "start": "3686390",
    "end": "3692089"
  },
  {
    "text": "So that happens to\nbe behind the camera, and so you would\ncalculate alpha and beta",
    "start": "3692090",
    "end": "3700609"
  },
  {
    "text": "and say they're negative,\nso this is not right. But there are several\nsymmetries like this",
    "start": "3700610",
    "end": "3709940"
  },
  {
    "text": "which can be useful in\nthe numerical calculation. And so the triple product we're\ninterested in is this thing.",
    "start": "3709940",
    "end": "3720490"
  },
  {
    "text": "Hopefully, you got it there. And surprisingly, it's\nalso that, where we've",
    "start": "3720490",
    "end": "3734460"
  },
  {
    "text": "interchanged the q and it. It's sort of like interchanging\nrotation and translation.",
    "start": "3734460",
    "end": "3740910"
  },
  {
    "text": "That seems pretty weird. And if you don't believe\nit, you can expand it out",
    "start": "3740910",
    "end": "3747330"
  },
  {
    "text": "in terms of components. This is an expression\nin terms of quaternions,",
    "start": "3747330",
    "end": "3753660"
  },
  {
    "text": "but we can rewrite it in\nterms of the components",
    "start": "3753660",
    "end": "3760270"
  },
  {
    "text": "of the quaternions, which\nof course are these vectors. ",
    "start": "3760270",
    "end": "3765810"
  },
  {
    "text": "And then you'll see that\nit's perfectly symmetric. ",
    "start": "3765810",
    "end": "3784580"
  },
  {
    "text": "So if you look at this, you\nwill see a number of symmetries. One of them is\nbetween r l and r r.",
    "start": "3784580",
    "end": "3792890"
  },
  {
    "text": "If I interchange left and\nright, nothing changes. And the other one\nis if I interchange",
    "start": "3792890",
    "end": "3799430"
  },
  {
    "text": "the rotation and the\ntranslation, d and q appear symmetrically everywhere.",
    "start": "3799430",
    "end": "3806970"
  },
  {
    "text": "And why is this of interest? One reason is that it\nmeans that if you're",
    "start": "3806970",
    "end": "3813480"
  },
  {
    "text": "searching the space\nof possible solutions, and you have an\napproximate solution,",
    "start": "3813480",
    "end": "3819270"
  },
  {
    "text": "you can immediately generate\nother approximate solutions by making use of this symmetry.",
    "start": "3819270",
    "end": "3824970"
  },
  {
    "text": "So altogether, I think there are\neight, the symmetry of eight--",
    "start": "3824970",
    "end": "3832970"
  },
  {
    "text": "I think there's a\nsymmetry of eight, so that you will find\nyour solution more",
    "start": "3832970",
    "end": "3839690"
  },
  {
    "text": "quickly because everything\nyou've worked out has eight different\ninterpretations.",
    "start": "3839690",
    "end": "3849130"
  },
  {
    "text": "And so by the way, that\nmeans if this is a solution,",
    "start": "3849130",
    "end": "3856369"
  },
  {
    "text": "we know, of course,\nthat this is a solution. Because minus q represents\nthe same rotation as q,",
    "start": "3856370",
    "end": "3868530"
  },
  {
    "text": "so that's not useful to us. But out of the formulas, you're\ngoing to get those as well.",
    "start": "3868530",
    "end": "3876579"
  },
  {
    "text": "Then this is a solution\nand this is a solution.",
    "start": "3876580",
    "end": "3886210"
  },
  {
    "text": " So this gives us a\nfactor of 2 factor of 2--",
    "start": "3886210",
    "end": "3891600"
  },
  {
    "text": " I guess that's where\nthe 8 comes from.",
    "start": "3891600",
    "end": "3896810"
  },
  {
    "text": "So when you solve\nthis numerically, you may find that there\nare up to eight solutions.",
    "start": "3896810",
    "end": "3904010"
  },
  {
    "text": " Now on Stellar,\nthere are two papers",
    "start": "3904010",
    "end": "3910980"
  },
  {
    "text": "that describe this process. And it's kind of annoying\nthat it's this messy.",
    "start": "3910980",
    "end": "3917700"
  },
  {
    "text": "It would have been wonderful\nif someone had figured out a closed form solution. I have to admit that I\ndon't think there is one.",
    "start": "3917700",
    "end": "3926579"
  },
  {
    "text": "I'm fairly convinced. And so we're stuck with this\nkind of numerical calculation.",
    "start": "3926580",
    "end": "3935470"
  },
  {
    "text": "So how do you actually\nimplement this? Well, one approach\nis to assume you",
    "start": "3935470",
    "end": "3940795"
  },
  {
    "text": "know one of these two unknowns. ",
    "start": "3940795",
    "end": "3951600"
  },
  {
    "text": "It turns out if you fix one\nof them, then instead of being",
    "start": "3951600",
    "end": "3956730"
  },
  {
    "text": "quadratic, it's linear. There's a simple least squares\nsolution, closed form solution.",
    "start": "3956730",
    "end": "3965670"
  },
  {
    "text": "And then assume\nthat d is known--",
    "start": "3965670",
    "end": "3970859"
  },
  {
    "text": "you just calculated it-- and solve for q. And it's symmetric, so you\nwould expect this to also",
    "start": "3970860",
    "end": "3978060"
  },
  {
    "text": "be a simple least squares.  And then of course, you'll\nhave to do this again",
    "start": "3978060",
    "end": "3985560"
  },
  {
    "text": "because now q has changed. And giving a recipe like\nthis doesn't prove at all",
    "start": "3985560",
    "end": "3993693"
  },
  {
    "text": "that it's going to converge. But it does. And I'm not going to\nprove that it does.",
    "start": "3993693",
    "end": "3999030"
  },
  {
    "text": "So that's a very heuristic,\nvery simple method that works.",
    "start": "3999030",
    "end": "4009710"
  },
  {
    "text": "You can do better by using some\nnonlinear optimization package.",
    "start": "4009710",
    "end": "4015890"
  },
  {
    "text": "And a popular one is this one,\nmostly because there are free",
    "start": "4015890",
    "end": "4028079"
  },
  {
    "text": "implementations, freely\navailable on the web. ",
    "start": "4028080",
    "end": "4035390"
  },
  {
    "text": "And I briefly had a roommate\nwhen I started, Marquardt,",
    "start": "4035390",
    "end": "4041630"
  },
  {
    "text": "and we had an\ninteresting adventure where I drove him across\nthe border to Botswana",
    "start": "4041630",
    "end": "4046640"
  },
  {
    "text": "in the middle of the night. And then I never was in\ncontact with him again. And he may be this\nMarquardt, but I",
    "start": "4046640",
    "end": "4053210"
  },
  {
    "text": "don't know because\nhe's apparently dropped out of sight,\nand not pursued science,",
    "start": "4053210",
    "end": "4058970"
  },
  {
    "text": "and found something more\nlucrative to do or whatever. Anyway, this is a\nvery nice package",
    "start": "4058970",
    "end": "4065810"
  },
  {
    "text": "which allows you to solve\nnonlinear optimization problems. And basically, you just have\nto give a bunch of equations",
    "start": "4065810",
    "end": "4072799"
  },
  {
    "text": "that are supposed to be 0. And you have a bunch of\nknobs, a bunch of parameters.",
    "start": "4072800",
    "end": "4078210"
  },
  {
    "text": "And it will tune the parameters\nuntil those equations are as",
    "start": "4078210",
    "end": "4085190"
  },
  {
    "text": "close to being 0 as possible. So it's like a black box-- you throw in your equations\nand hope for the best.",
    "start": "4085190",
    "end": "4096710"
  },
  {
    "text": "But it requires that you have a\nnon-redundant parameterization.",
    "start": "4096710",
    "end": "4103250"
  },
  {
    "text": " I only mentioned this one\nnow because so far, we've",
    "start": "4103250",
    "end": "4110420"
  },
  {
    "text": "been able to do closed\nforms, so we didn't need to do anything like this. But this is useful not just\nfor relative orientation.",
    "start": "4110420",
    "end": "4118469"
  },
  {
    "text": "Lots of these kinds of\noptimization problems succumb to this approach.",
    "start": "4118470",
    "end": "4125068"
  },
  {
    "text": "So what's the problem? Well, the problem is rotation. If we do it as a\nnormal matrix, we've",
    "start": "4125069",
    "end": "4130640"
  },
  {
    "text": "got that problem-- nine\nnumbers and only three degrees of freedom. So one answer that is commonly\ngiven is Euler angles.",
    "start": "4130640",
    "end": "4139759"
  },
  {
    "text": "And you know what I\nthink about those. So let's x those out.",
    "start": "4139760",
    "end": "4147830"
  },
  {
    "text": "One that's actually used\nsome is the Gibbs vector. So the Gibbs vector is\ntan theta over 2 times",
    "start": "4147830",
    "end": "4155810"
  },
  {
    "text": "omega hat, where\nomega hat is the unit vector in the axis direction.",
    "start": "4155810",
    "end": "4161818"
  },
  {
    "text": "And obviously, it's a\nvector, has three numbers, 3 degrees of freedom.",
    "start": "4161819",
    "end": "4168739"
  },
  {
    "text": "And unfortunately, it has a\nsingularity at theta equals pi.",
    "start": "4168740",
    "end": "4176379"
  },
  {
    "text": " And so that's a\npotential problem",
    "start": "4176379",
    "end": "4181649"
  },
  {
    "text": "because rotation\nabout 180 degrees is a perfectly\nlegitimate rotation.",
    "start": "4181649",
    "end": "4187380"
  },
  {
    "text": "Now in this particular\ncase, you typically don't have the right\ncamera rotated 180 degrees",
    "start": "4187380",
    "end": "4192870"
  },
  {
    "text": "relative to the left camera. So in some sense, go ahead,\nuse the Gibbs vector.",
    "start": "4192870",
    "end": "4199330"
  },
  {
    "text": "It'll probably work. Of course, what I'd recommend\ninstead is unit quaternions.",
    "start": "4199330",
    "end": "4208810"
  },
  {
    "text": "And we've worked out\nthe details over there using unit quaternions.",
    "start": "4208810",
    "end": "4214600"
  },
  {
    "text": "The only problem is\nthey're redundant. There are four numbers,\n3 degrees of freedom.",
    "start": "4214600",
    "end": "4220670"
  },
  {
    "text": "But this package allows you\nto add additional constraints.",
    "start": "4220670",
    "end": "4227210"
  },
  {
    "text": "So you just pretend that\nthis is another equation. And it will try and come close\nto satisfying that equation,",
    "start": "4227210",
    "end": "4238370"
  },
  {
    "text": "while satisfying\nthe other equation. You may need to\nplay with weighting of different components,\nand that works very well.",
    "start": "4238370",
    "end": "4248790"
  },
  {
    "text": "It converges pretty rapidly. ",
    "start": "4248790",
    "end": "4261710"
  },
  {
    "text": "Just wondering where to\ngo next, given that we don't have a lot of time.",
    "start": "4261710",
    "end": "4267440"
  },
  {
    "text": "We talked about that. ",
    "start": "4267440",
    "end": "4275179"
  },
  {
    "text": "And this probably doesn't\ncome as a surprise, if you know the\nrotation, there's a straightforward least squares\nmethod to find the baseline.",
    "start": "4275180",
    "end": "4282860"
  },
  {
    "text": "And that's along the lines\nof what we said over here, so I probably won't\nbother with that.",
    "start": "4282860",
    "end": "4289920"
  },
  {
    "text": "Well, not much beyond. We have this formula here.",
    "start": "4289920",
    "end": "4296015"
  },
  {
    "text": " So one of the ways we've\nbeen thinking about rotation",
    "start": "4296015",
    "end": "4305310"
  },
  {
    "text": "is axis and angle. And that's a pretty intuitive\nway of thinking about it.",
    "start": "4305310",
    "end": "4311699"
  },
  {
    "text": "I mean, some people think\nall angles are intuitive. I think this is more. And from there, we can go to\nthis pretty straightforwardly.",
    "start": "4311700",
    "end": "4318400"
  },
  {
    "text": "So the vector part is, in fact,\nin the direction of the axis. And it's just scaled according\nto the amount of rotation.",
    "start": "4318400",
    "end": "4327540"
  },
  {
    "text": "And then the scalar part-- not sure what else\nyou can say about it.",
    "start": "4327540",
    "end": "4335790"
  },
  {
    "text": "It has the nice property that\nif we combine two rotations, we just multiply\nthese in this form.",
    "start": "4335790",
    "end": "4343290"
  },
  {
    "text": "And the transformation of a\nvector is a little bit more complicated, but we saw\nthe formula for that.",
    "start": "4343290",
    "end": "4349560"
  },
  {
    "text": " Then we use quaternions\nto represent vectors",
    "start": "4349560",
    "end": "4356240"
  },
  {
    "text": "by making the scalar part\n0, so that's a useful thing. And if you wanted to, you could\nuse them to represent scalars",
    "start": "4356240",
    "end": "4364340"
  },
  {
    "text": "by making the vector part 0. But that's not that interesting.",
    "start": "4364340",
    "end": "4369810"
  },
  {
    "text": "So not sure if that\nanswers your question. STUDENT: Yes, definitely helped.",
    "start": "4369810",
    "end": "4377140"
  },
  {
    "text": "BERTHOLD HORN: Also,\nremember that there's a short, four-page blurb that\nsummarizes everything you'd",
    "start": "4377140",
    "end": "4384100"
  },
  {
    "text": "want to know about quaternions. Quaternions can be intimidating. I mean, when I looked\nat Hamilton's book,",
    "start": "4384100",
    "end": "4390640"
  },
  {
    "text": "it's like 800 pages\nof dense math. And then I took an\nengineering approach,",
    "start": "4390640",
    "end": "4396190"
  },
  {
    "text": "and said, what do\nI do with this? How do I actually use this? And it turns out that this is\nall I needed to know about it.",
    "start": "4396190",
    "end": "4404020"
  },
  {
    "text": "I don't need to know all of the\nreally, truly esoteric stuff. Yeah, that's a great question.",
    "start": "4404020",
    "end": "4410090"
  },
  {
    "text": "So we've got several things we\ncould use as an error measure. They all have the properties\nthat if things line up",
    "start": "4410090",
    "end": "4416920"
  },
  {
    "text": "perfectly, they're 0. So why prefer one over another? And I cautioned against\nusing the triple product",
    "start": "4416920",
    "end": "4425080"
  },
  {
    "text": "in its raw form. And the reason is that they\nhave different amplification",
    "start": "4425080",
    "end": "4431080"
  },
  {
    "text": "factors. So suppose that the rays, for\nexample, are almost parallel, and the object is\none light year away.",
    "start": "4431080",
    "end": "4438610"
  },
  {
    "text": "Then an error of\none arc second is going to be hundreds of\nthousands of kilometers.",
    "start": "4438610",
    "end": "4444460"
  },
  {
    "text": "And you're going\nto try and minimize that, where some other\npart of your image might be an object\nthat's closer by.",
    "start": "4444460",
    "end": "4451239"
  },
  {
    "text": "So you want to\ncompensate for that. And this way w is simply\nthe relationship--",
    "start": "4451240",
    "end": "4457420"
  },
  {
    "text": "so here, very roughly\nspeaking, z, f.",
    "start": "4457420",
    "end": "4465219"
  },
  {
    "text": "And so the weight w is f over z.",
    "start": "4465220",
    "end": "4471330"
  },
  {
    "text": "So the triple product\nmeasures this error.",
    "start": "4471330",
    "end": "4477950"
  },
  {
    "text": "And that can be huge\njust because z is large. But we're interested in the\nerror in the image position",
    "start": "4477950",
    "end": "4485450"
  },
  {
    "text": "that is the result\nof whatever algorithm we use to find image position.",
    "start": "4485450",
    "end": "4490739"
  },
  {
    "text": "And so we can reduce\nthat triple product area into an image-relevant\nerror by taking that.",
    "start": "4490740",
    "end": "4497780"
  },
  {
    "text": "And here, the\ncalculation is trivial. Unfortunately in\nour case, we got ray's going at different angles.",
    "start": "4497780",
    "end": "4503150"
  },
  {
    "text": "And the calculation\nis in the paper online if you want to see it.",
    "start": "4503150",
    "end": "4510900"
  },
  {
    "text": "So the thing that comes next,\nwhich I'll just touch upon, is when does it fail?",
    "start": "4510900",
    "end": "4517770"
  },
  {
    "text": "We always get to that point. So now we have a method-- well, we already know that\nwe need five correspondences,",
    "start": "4517770",
    "end": "4525060"
  },
  {
    "text": "so if we don't have five\ncorrespondences, it will fail. But is it possible that there's\ncertain kinds of surfaces,",
    "start": "4525060",
    "end": "4533250"
  },
  {
    "text": "if we look at them with two\neyes, there are ambiguities, and/or high\nsensitivity to error,",
    "start": "4533250",
    "end": "4541989"
  },
  {
    "text": "so that we can't quite\nfigure out what's going on? And so those things we were\ndiscovered pretty early on,",
    "start": "4541990",
    "end": "4550770"
  },
  {
    "text": "like over a century ago,\nin an original paper they called \"Gefaerliche\nFlaechen,\" which",
    "start": "4550770",
    "end": "4564130"
  },
  {
    "text": "I guess properly translated\nmeans \"dangerous surfaces\"",
    "start": "4564130",
    "end": "4569560"
  },
  {
    "text": "or \"planes.\" And I guess the\nEnglish terminology is \"critical surfaces.\"",
    "start": "4569560",
    "end": "4577280"
  },
  {
    "text": "So the idea is that there\nmay be cases where you're looking at an object\nof a certain shape that",
    "start": "4577280",
    "end": "4584099"
  },
  {
    "text": "make this problem\nhard, or actually make your method fail, in that\nthere is a lot of ambiguity.",
    "start": "4584100",
    "end": "4593250"
  },
  {
    "text": "And to make that\nplausible, imagine we have a U-shaped\nvalley, so like that.",
    "start": "4593250",
    "end": "4600630"
  },
  {
    "text": "And then we have an\nairplane up here. And we have some landmarks.",
    "start": "4600630",
    "end": "4606100"
  },
  {
    "start": "4606100",
    "end": "4612680"
  },
  {
    "text": "And you remember, our\njob here is to figure out where the airplane is.",
    "start": "4612680",
    "end": "4617989"
  },
  {
    "text": "It's the relative orientation. We have the plane flying\nalong taking measurements, and we're trying to\nrelate those measurements.",
    "start": "4617990",
    "end": "4624950"
  },
  {
    "text": "Well, we have an\nambiguity, in that",
    "start": "4624950",
    "end": "4630980"
  },
  {
    "text": "if we move that airplane along\nthe surface of this circle,",
    "start": "4630980",
    "end": "4638010"
  },
  {
    "text": "we don't change this angle. ",
    "start": "4638010",
    "end": "4646690"
  },
  {
    "text": "So that what am I\nmeasuring in the image? I can only measure angle. I don't know distances.",
    "start": "4646690",
    "end": "4653120"
  },
  {
    "text": "So if I move and the\nangles don't change,",
    "start": "4653120",
    "end": "4658130"
  },
  {
    "text": "then I have a problem. And I've done it for A and\nC, but obviously, the same",
    "start": "4658130",
    "end": "4664000"
  },
  {
    "text": "is true for A and B, and\nany other number of ground points you want to add.",
    "start": "4664000",
    "end": "4670070"
  },
  {
    "text": "So that in this\nsituation, where you're flying right above the axis of a\nsemi-circular valley, then it's",
    "start": "4670070",
    "end": "4678969"
  },
  {
    "text": "going to be impossible\nto distinguish different positions along here. Now, this is a cross-section.",
    "start": "4678970",
    "end": "4684280"
  },
  {
    "text": "This is 2D. So this isn't the whole story. But it gives you a plausible\nway of understanding",
    "start": "4684280",
    "end": "4690520"
  },
  {
    "text": "why there might be a problem. And this is why\nwhen they lay out",
    "start": "4690520",
    "end": "4695800"
  },
  {
    "text": "the flight plans for\nmapping, they never do that. They prefer to do this--",
    "start": "4695800",
    "end": "4702370"
  },
  {
    "text": "fly the plane over a ridge\nrather than over a valley. Because here, when\nyou move over,",
    "start": "4702370",
    "end": "4710950"
  },
  {
    "text": "the angles between different\nimages of different surface features do change a lot.",
    "start": "4710950",
    "end": "4717445"
  },
  {
    "start": "4717445",
    "end": "4722650"
  },
  {
    "text": "And so what we would like to\ndo is get the 3D generalization of this problem.",
    "start": "4722650",
    "end": "4729730"
  },
  {
    "text": "And that's-- well, I kind of\ngave away the answer by showing you those pictures. It's a hyperboloid of one sheet.",
    "start": "4729730",
    "end": "4736150"
  },
  {
    "start": "4736150",
    "end": "4743080"
  },
  {
    "text": "So we'll see that\nit's a second-order, a quadric surface. And it happens to be one with\nthe right number of minus",
    "start": "4743080",
    "end": "4751889"
  },
  {
    "text": "signs, for the one sheet-- I guess it's one minus sign. And so if we're looking\nat a surface like that,",
    "start": "4751890",
    "end": "4758255"
  },
  {
    "text": "then there's going\nto be problem. You say, well, who cares? I mean, how many surfaces?",
    "start": "4758255",
    "end": "4763530"
  },
  {
    "text": "How likely is it I'm\ngoing to be looking at a hyperboloid of one sheet? Well, that's true, but then if\nyou're looking at a surface,",
    "start": "4763530",
    "end": "4773460"
  },
  {
    "text": "you only have a small portion\nof it, the difference between it and a section of a hyperboloid\nof one sheet might be small.",
    "start": "4773460",
    "end": "4781480"
  },
  {
    "text": "And in that case, you\nwill be approaching this dangerous situation.",
    "start": "4781480",
    "end": "4787389"
  },
  {
    "text": "That's one argument. And the other argument is that\nthere are other special cases",
    "start": "4787390",
    "end": "4793790"
  },
  {
    "text": "of quadric surfaces, and in\nparticular, of the hyperboloid of one sheet, which\nare more common.",
    "start": "4793790",
    "end": "4799980"
  },
  {
    "text": "And the most common\none is the plane. So it turns out that one\nversion of this quadric surface",
    "start": "4799980",
    "end": "4815710"
  },
  {
    "text": "is just two intersecting planes. And you can see\nwhy that could be.",
    "start": "4815710",
    "end": "4821260"
  },
  {
    "start": "4821260",
    "end": "4828469"
  },
  {
    "text": "So the equation for one plane\ncould be a linear equation like this, equals 0.",
    "start": "4828470",
    "end": "4836230"
  },
  {
    "text": "So that's one plane. And this is the equation\nfor a second plane. I guess I wrote it in\n2D, but just add z.",
    "start": "4836230",
    "end": "4844300"
  },
  {
    "text": "So each of these planes has\na linear equation like this. And I can talk\nabout it by saying,",
    "start": "4844300",
    "end": "4851080"
  },
  {
    "text": "this is the plane where ax plus\nby plus cz plus whatever is 0.",
    "start": "4851080",
    "end": "4856810"
  },
  {
    "text": "And if I multiply them together,\nof course, the product is 0. And so what surface is that?",
    "start": "4856810",
    "end": "4863050"
  },
  {
    "text": "Well, this times that\nequals 0 is the combination",
    "start": "4863050",
    "end": "4869500"
  },
  {
    "text": "of two planes. And in our case,\none of the planes",
    "start": "4869500",
    "end": "4874630"
  },
  {
    "text": "goes through the\ncenter of projection, so it projects into a line.",
    "start": "4874630",
    "end": "4880150"
  },
  {
    "text": "So if I have a plane,\nand I'm looking straight along the plane,\nI just see a line.",
    "start": "4880150",
    "end": "4885430"
  },
  {
    "text": "So it's even weirder, because it\nmeans that a planar surface is a problem. And what's more common\nthan the planar surface?",
    "start": "4885430",
    "end": "4893230"
  },
  {
    "text": "Well, maybe not in topography\nof Switzerland or something, but man-made structures\nother than [INAUDIBLE]",
    "start": "4893230",
    "end": "4901840"
  },
  {
    "text": "and have lots of\nplanar surfaces. And so we can't\ndismiss this entirely.",
    "start": "4901840",
    "end": "4907570"
  },
  {
    "text": "We've got to talk a little bit\nabout Gefaerliche Flaechen, which we'll do next time.",
    "start": "4907570",
    "end": "4914125"
  },
  {
    "text": " And there's a new\nhomework problem, sadly.",
    "start": "4914125",
    "end": "4920429"
  },
  {
    "text": "I almost missed it because it\nseems like we just had one. But then someone reminded\nme that it shouldn't be due",
    "start": "4920430",
    "end": "4927989"
  },
  {
    "text": "on Thanksgiving,\nand so it isn't. It's, again, going\nthe Tuesday after.",
    "start": "4927990",
    "end": "4935750"
  },
  {
    "start": "4935750",
    "end": "4942321"
  }
]