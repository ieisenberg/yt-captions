[
  {
    "start": "0",
    "end": "43000"
  },
  {
    "text": "PROFESSOR: So\nwe're going to talk",
    "start": "0",
    "end": "1375"
  },
  {
    "text": "about state machines,\nwhich is a topic",
    "start": "1375",
    "end": "3560"
  },
  {
    "text": "that you're going to see\nin many further courses,",
    "start": "3560",
    "end": "6779"
  },
  {
    "text": "because state machines model\nstep by step processes.",
    "start": "6780",
    "end": "11530"
  },
  {
    "text": "And of course, if you think\nabout a computation, normally",
    "start": "11530",
    "end": "14540"
  },
  {
    "text": "the way you think about it is\nthat it's doing instructions,",
    "start": "14540",
    "end": "17500"
  },
  {
    "text": "step by step, one after\nanother, until it finally",
    "start": "17500",
    "end": "19700"
  },
  {
    "text": "reaches termination.",
    "start": "19700",
    "end": "21660"
  },
  {
    "text": "Likewise, various\ndigital circuits",
    "start": "21660",
    "end": "25029"
  },
  {
    "text": "move through stages\nor states until they",
    "start": "25030",
    "end": "28180"
  },
  {
    "text": "produce a final answer.",
    "start": "28180",
    "end": "30800"
  },
  {
    "text": "So state machines come up in\nat least those circumstances",
    "start": "30800",
    "end": "33390"
  },
  {
    "text": "and in many others.",
    "start": "33390",
    "end": "34350"
  },
  {
    "text": "And the general model\nof state machine",
    "start": "34350",
    "end": "35933"
  },
  {
    "text": "involves the idea that\nyou can give it input",
    "start": "35933",
    "end": "38050"
  },
  {
    "text": "and it responds to them,\nbut we don't really",
    "start": "38050",
    "end": "40110"
  },
  {
    "text": "need that for our purposes.",
    "start": "40110",
    "end": "42870"
  },
  {
    "text": "So let's look at our\nexample of a state machine.",
    "start": "42870",
    "end": "45850"
  },
  {
    "start": "43000",
    "end": "718000"
  },
  {
    "text": "Here's maybe a\nparticular simple one.",
    "start": "45850",
    "end": "48640"
  },
  {
    "text": "This is a description of a\nstate machine that counts to 99.",
    "start": "48640",
    "end": "54600"
  },
  {
    "text": "So the circles are indicating\nwhat its states are, and we've",
    "start": "54600",
    "end": "57660"
  },
  {
    "text": "named them from 0 through 99.",
    "start": "57660",
    "end": "60930"
  },
  {
    "text": "And then there's a final\nstate called overflow,",
    "start": "60930",
    "end": "63460"
  },
  {
    "text": "and that funny arc\nis an indication",
    "start": "63460",
    "end": "66700"
  },
  {
    "text": "that if you're in\noverflow mode and you",
    "start": "66700",
    "end": "70979"
  },
  {
    "text": "make another step by\nfollowing the arc,",
    "start": "70980",
    "end": "73040"
  },
  {
    "text": "you get back to overflow mode.",
    "start": "73040",
    "end": "74910"
  },
  {
    "text": "But if you're in 0, you\ncan make a step to 1.",
    "start": "74910",
    "end": "77710"
  },
  {
    "text": "And if you're in 1, you can\nmake a step to 2, and so on.",
    "start": "77710",
    "end": "80560"
  },
  {
    "text": "So starting off at the start\nstate, which is generally",
    "start": "80560",
    "end": "85680"
  },
  {
    "text": "indicated by that double mark.",
    "start": "85680",
    "end": "90810"
  },
  {
    "text": "So to indicate where to start.",
    "start": "90810",
    "end": "92880"
  },
  {
    "text": "Then the description\nof this machine,",
    "start": "92880",
    "end": "95799"
  },
  {
    "text": "consistent in complete\ndescription is a set of states",
    "start": "95800",
    "end": "99290"
  },
  {
    "text": "which are pictured as 0\nthrough 99 plus overflow,",
    "start": "99290",
    "end": "103060"
  },
  {
    "text": "a set of transitions\nwhich are indicated",
    "start": "103060",
    "end": "105240"
  },
  {
    "text": "by the arrows, which\nis how one state can",
    "start": "105240",
    "end": "107900"
  },
  {
    "text": "move to another state.",
    "start": "107900",
    "end": "110340"
  },
  {
    "text": "And the transitions\ncan be summarised",
    "start": "110340",
    "end": "112549"
  },
  {
    "text": "by saying that there\nof the form of i",
    "start": "112550",
    "end": "114520"
  },
  {
    "text": "to i plus 1 for i\nbetween 0 and 99.",
    "start": "114520",
    "end": "118259"
  },
  {
    "text": "And then there's a 99\ntransition to overflow,",
    "start": "118260",
    "end": "122090"
  },
  {
    "text": "and once you're in overflow,\nyou stay in overflow.",
    "start": "122090",
    "end": "124840"
  },
  {
    "text": "So the picture at the top is\nsaying exactly the same thing",
    "start": "124840",
    "end": "128090"
  },
  {
    "text": "as we've said here in\nmathematical notation,",
    "start": "128090",
    "end": "131190"
  },
  {
    "text": "explicitly describing\nwhat the transitions are.",
    "start": "131190",
    "end": "134930"
  },
  {
    "text": "So this is a machine that if\nyou really build something",
    "start": "134930",
    "end": "137336"
  },
  {
    "text": "to behave this way, it\nwouldn't be much use,",
    "start": "137337",
    "end": "139170"
  },
  {
    "text": "because once it's\noverflowed, it's dead,",
    "start": "139170",
    "end": "141180"
  },
  {
    "text": "because it stays there.",
    "start": "141180",
    "end": "143019"
  },
  {
    "text": "Real machine to be useful would\nhave a reset transition, which",
    "start": "143020",
    "end": "146050"
  },
  {
    "text": "took overflow back to zero.",
    "start": "146050",
    "end": "147870"
  },
  {
    "text": "But this illustrates\nthe basic idea.",
    "start": "147870",
    "end": "152659"
  },
  {
    "text": "So let's look at a fun\nexample from a Die Hard movie.",
    "start": "152660",
    "end": "156620"
  },
  {
    "text": "I've forgotten which one it was.",
    "start": "156620",
    "end": "158920"
  },
  {
    "text": "But there was one with Bruce\nWillis and Samuel Jackson",
    "start": "158920",
    "end": "161970"
  },
  {
    "text": "playing a detective\nand a friend that he",
    "start": "161970",
    "end": "165520"
  },
  {
    "text": "meets who helps him\ndeal with a bad man,",
    "start": "165520",
    "end": "169680"
  },
  {
    "text": "as is the case in\nall these movies.",
    "start": "169680",
    "end": "171739"
  },
  {
    "text": "This time, the bad\nman's name is Simon.",
    "start": "171740",
    "end": "173920"
  },
  {
    "text": "And what Simon says\nto them as they",
    "start": "173920",
    "end": "175720"
  },
  {
    "text": "stand behind the fountain\nin the park shown",
    "start": "175720",
    "end": "178200"
  },
  {
    "text": "on the previous slide is\nthat on the foundation,",
    "start": "178200",
    "end": "180905"
  },
  {
    "text": "there should be two\njugs, do you see them?",
    "start": "180905",
    "end": "183140"
  },
  {
    "text": "A five gallon and\na three gallon.",
    "start": "183140",
    "end": "185250"
  },
  {
    "text": "Fill one of these jugs with\nexactly four gallons of water",
    "start": "185250",
    "end": "188310"
  },
  {
    "text": "and place it on the scale,\nand the timer will stop.",
    "start": "188310",
    "end": "191239"
  },
  {
    "text": "The timer and the scale are\nnot shown in that picture,",
    "start": "191240",
    "end": "193490"
  },
  {
    "text": "but there's a scale\nand a timer nearby.",
    "start": "193490",
    "end": "196490"
  },
  {
    "text": "You must be precise,\none ounce more or less",
    "start": "196490",
    "end": "198950"
  },
  {
    "text": "will result in detonation.",
    "start": "198950",
    "end": "200550"
  },
  {
    "text": "If you're still alive in\nfive minutes, we'll speak.",
    "start": "200550",
    "end": "204790"
  },
  {
    "text": "OK.",
    "start": "204790",
    "end": "205610"
  },
  {
    "text": "So let's think about formalizing\nthis as a state machine",
    "start": "205610",
    "end": "209050"
  },
  {
    "text": "to see what's going on.",
    "start": "209050",
    "end": "210160"
  },
  {
    "text": "So but first of all, to\nunderstand the specification",
    "start": "210160",
    "end": "215360"
  },
  {
    "text": "informally.",
    "start": "215360",
    "end": "216460"
  },
  {
    "text": "What there is a three gallon\njug and a five gallon jug",
    "start": "216460",
    "end": "221190"
  },
  {
    "text": "that's capable of holding\nwater, and an unlimited supply",
    "start": "221190",
    "end": "224160"
  },
  {
    "text": "of water that you can\nget from the fountain.",
    "start": "224160",
    "end": "227700"
  },
  {
    "text": "And the basic moves\nthat you can make--",
    "start": "227700",
    "end": "231760"
  },
  {
    "text": "So with this set up, the kind\nof moves that you can make",
    "start": "231760",
    "end": "234799"
  },
  {
    "text": "would be, say you fill up the\nthree gallon jug with water,",
    "start": "234800",
    "end": "239060"
  },
  {
    "text": "and then you could pour\nthe three gallon jug",
    "start": "239060",
    "end": "241349"
  },
  {
    "text": "into the five gallon jugs.",
    "start": "241350",
    "end": "242464"
  },
  {
    "text": "And the three\ngallon jug was empty",
    "start": "242464",
    "end": "243880"
  },
  {
    "text": "and the five gallon jug you\nknew had exactly three gallons",
    "start": "243880",
    "end": "246951"
  },
  {
    "text": "in it.",
    "start": "246951",
    "end": "247450"
  },
  {
    "start": "247450",
    "end": "249959"
  },
  {
    "text": "And then you can do other things\nlike empty a jug and fill a jug",
    "start": "249960",
    "end": "254440"
  },
  {
    "text": "and empty them into each other.",
    "start": "254440",
    "end": "255820"
  },
  {
    "text": "So let's model this\nas a state machine.",
    "start": "255820",
    "end": "259246"
  },
  {
    "text": "And the first decision\nwe need to make",
    "start": "259246",
    "end": "260829"
  },
  {
    "text": "is what's the state going to be.",
    "start": "260829",
    "end": "263020"
  },
  {
    "text": "Well, the state-- the\nobvious model for the state",
    "start": "263020",
    "end": "265949"
  },
  {
    "text": "is the amount of water\nin each of the jugs.",
    "start": "265950",
    "end": "268050"
  },
  {
    "text": "So b is the amount\nin the big jug",
    "start": "268050",
    "end": "270479"
  },
  {
    "text": "and l is the amount\nthe little jug.",
    "start": "270480",
    "end": "272210"
  },
  {
    "text": "And what we know\nabout b and l is",
    "start": "272210",
    "end": "274630"
  },
  {
    "text": "that they're going to be some\namount between 0 and 5 for b,",
    "start": "274630",
    "end": "278090"
  },
  {
    "text": "and 0 and 3 for l.",
    "start": "278090",
    "end": "281537"
  },
  {
    "text": "We're going to quickly\nrealize that we",
    "start": "281537",
    "end": "283120"
  },
  {
    "text": "need them to be\nintegers, but off hand we",
    "start": "283120",
    "end": "285229"
  },
  {
    "text": "can allow them to\nbe real numbers.",
    "start": "285230",
    "end": "287420"
  },
  {
    "text": "Because after all,\nyou could just",
    "start": "287420",
    "end": "289930"
  },
  {
    "text": "pour some arbitrary\namount of water",
    "start": "289930",
    "end": "292406"
  },
  {
    "text": "into the big jug,\nany amount that it'll",
    "start": "292406",
    "end": "294030"
  },
  {
    "text": "hold between 0 and 5.",
    "start": "294030",
    "end": "296440"
  },
  {
    "text": "Although, that'll be\ndangerous, because as soon as",
    "start": "296440",
    "end": "298900"
  },
  {
    "text": "you do that, you're going\nto lose track of exactly how",
    "start": "298900",
    "end": "301620"
  },
  {
    "text": "much is in there and\nyou won't know when",
    "start": "301620",
    "end": "303699"
  },
  {
    "text": "you have four gallons or not.",
    "start": "303700",
    "end": "306000"
  },
  {
    "text": "So let's formalize the possible\nmoves that we can have.",
    "start": "306000",
    "end": "310180"
  },
  {
    "text": "So first of all, the\nstart state is 0,0,",
    "start": "310180",
    "end": "312289"
  },
  {
    "text": "because we start\nwith both jugs empty.",
    "start": "312290",
    "end": "314700"
  },
  {
    "text": "And then what are the\npossible transitions",
    "start": "314700",
    "end": "317960"
  },
  {
    "text": "of how b and l moves?",
    "start": "317960",
    "end": "319500"
  },
  {
    "text": "Well, let's see.",
    "start": "319500",
    "end": "321260"
  },
  {
    "text": "The fill the little\njug move amounts",
    "start": "321260",
    "end": "323320"
  },
  {
    "text": "to saying that if you\nhave an amount of b in big",
    "start": "323320",
    "end": "327160"
  },
  {
    "text": "and l in little, then you\ncan make a transition called",
    "start": "327160",
    "end": "330020"
  },
  {
    "text": "fill the little jug into b,\nand big is still unchanged,",
    "start": "330020",
    "end": "334259"
  },
  {
    "text": "and 3 in little\nfor l less than 3.",
    "start": "334260",
    "end": "337890"
  },
  {
    "text": "I'm going to forbid\nthe vacuous move where",
    "start": "337890",
    "end": "340740"
  },
  {
    "text": "the little jug is already\nfull and you try to fill it.",
    "start": "340740",
    "end": "343949"
  },
  {
    "text": "That doesn't count, so\nl has to be less than 3,",
    "start": "343950",
    "end": "346920"
  },
  {
    "text": "you can make it 3 by\nfilling the little jug.",
    "start": "346920",
    "end": "349390"
  },
  {
    "text": "Similarly, you could fill the\nbig jug if b is less than 5.",
    "start": "349390",
    "end": "352610"
  },
  {
    "text": "Then you can turn it\ninto 5 by filling it.",
    "start": "352610",
    "end": "355469"
  },
  {
    "text": "And then you can empty the\nlittle jug, which is easy.",
    "start": "355470",
    "end": "358170"
  },
  {
    "text": "If you go from b,\nl you go to b, 0.",
    "start": "358170",
    "end": "361034"
  },
  {
    "text": "And likewise, you can\nempty the big jug.",
    "start": "361034",
    "end": "362699"
  },
  {
    "text": "Those are the easy moves.",
    "start": "362700",
    "end": "364610"
  },
  {
    "text": "A slightly more complicated\nmove is pour the big jug",
    "start": "364610",
    "end": "367449"
  },
  {
    "text": "into the little jug.",
    "start": "367450",
    "end": "369190"
  },
  {
    "text": "Well if there's no\noverflow, what that means",
    "start": "369190",
    "end": "371500"
  },
  {
    "text": "is that there's l in the little\njug and b in the big job.",
    "start": "371500",
    "end": "374810"
  },
  {
    "text": "And after you've poured the\nbig jug into the little jug,",
    "start": "374810",
    "end": "377900"
  },
  {
    "text": "there's b plus l\nin the little one,",
    "start": "377900",
    "end": "379729"
  },
  {
    "text": "and nothing in the big one.",
    "start": "379730",
    "end": "381930"
  },
  {
    "text": "But let's be careful\nhere about what exactly--",
    "start": "381930",
    "end": "384300"
  },
  {
    "text": "we're doing math, we're\nnot sort of-- we're",
    "start": "384300",
    "end": "386659"
  },
  {
    "text": "trying to get away\nfrom the metaphor.",
    "start": "386659",
    "end": "388199"
  },
  {
    "text": "So what is no overflow means?",
    "start": "388200",
    "end": "389580"
  },
  {
    "text": "It simply means that\nb plus l will fit.",
    "start": "389580",
    "end": "391629"
  },
  {
    "text": "b plus l is less\nthan or equal to 3.",
    "start": "391630",
    "end": "394390"
  },
  {
    "text": "All right.",
    "start": "394390",
    "end": "395140"
  },
  {
    "text": "What's the other case\nof pouring the big jug",
    "start": "395140",
    "end": "398210"
  },
  {
    "text": "into the little jug?",
    "start": "398210",
    "end": "399229"
  },
  {
    "text": "Well that's when b plus l\nwon't fit, in which case,",
    "start": "399230",
    "end": "403670"
  },
  {
    "text": "you pour into the little jug.",
    "start": "403670",
    "end": "405900"
  },
  {
    "text": "It's got l, so you pour in\n3 minus l to fill it up.",
    "start": "405900",
    "end": "409880"
  },
  {
    "text": "And then what's left in b is\nb minus the 3 minus little l",
    "start": "409880",
    "end": "414574"
  },
  {
    "text": "that you poured.",
    "start": "414574",
    "end": "415240"
  },
  {
    "text": "So that the other wise case,\nwhen there is overflow.",
    "start": "415240",
    "end": "419289"
  },
  {
    "text": "And similarly, there are moves\nfor pouring the little jug",
    "start": "419290",
    "end": "423040"
  },
  {
    "text": "into the big jug.",
    "start": "423040",
    "end": "424590"
  },
  {
    "text": "So that then is a\nformal specification",
    "start": "424590",
    "end": "427786"
  },
  {
    "text": "of the Die Hard\nmachine and the moves",
    "start": "427786",
    "end": "430557"
  },
  {
    "text": "that we're going to allow.",
    "start": "430557",
    "end": "431640"
  },
  {
    "text": "Now, you could allow\nother moves like randomly",
    "start": "431640",
    "end": "433880"
  },
  {
    "text": "pouring out a little\nwater, or randomly filling",
    "start": "433880",
    "end": "436070"
  },
  {
    "text": "up a little water.",
    "start": "436070",
    "end": "436970"
  },
  {
    "text": "But if you did that,\nagain, you lose",
    "start": "436970",
    "end": "438470"
  },
  {
    "text": "track of how much\nwater is in the jug.",
    "start": "438470",
    "end": "440730"
  },
  {
    "text": "So these are the\nonly safe moves.",
    "start": "440730",
    "end": "442910"
  },
  {
    "text": "And they're the only ones\nwe're going to model.",
    "start": "442910",
    "end": "445570"
  },
  {
    "text": "All right.",
    "start": "445570",
    "end": "446070"
  },
  {
    "text": "So let's go back to\nSimon's challenge.",
    "start": "446070",
    "end": "448320"
  },
  {
    "text": "He wants to disarm the bomb\nby getting exactly four",
    "start": "448320",
    "end": "451500"
  },
  {
    "text": "gallons of water in the jug\nand measure it on the scale,",
    "start": "451500",
    "end": "456250"
  },
  {
    "text": "or things will blow up.",
    "start": "456250",
    "end": "458640"
  },
  {
    "text": "And how do you do it?",
    "start": "458640",
    "end": "461030"
  },
  {
    "text": "Well, why don't\nyou take a moment",
    "start": "461030",
    "end": "464670"
  },
  {
    "text": "to think about it\nbefore I proceed",
    "start": "464670",
    "end": "467800"
  },
  {
    "text": "to the next set of slides or\nbefore you let me proceed.",
    "start": "467800",
    "end": "470509"
  },
  {
    "text": "But just to understand\nthe rules again,",
    "start": "470510",
    "end": "472680"
  },
  {
    "text": "watch the work here's how.",
    "start": "472680",
    "end": "475770"
  },
  {
    "text": "We're going to start off\nwith both jugs empty.",
    "start": "475770",
    "end": "479800"
  },
  {
    "text": "So we start off in state\n0,0, and the first move",
    "start": "479800",
    "end": "482970"
  },
  {
    "text": "is going to be to fill\nthe big jug, which",
    "start": "482970",
    "end": "485360"
  },
  {
    "text": "takes us to state 5, 0.",
    "start": "485360",
    "end": "488169"
  },
  {
    "text": "Where the big jug has 5 and\nthe little jug is still empty.",
    "start": "488170",
    "end": "491850"
  },
  {
    "text": "Then we're going to pour\nfrom the big into the little.",
    "start": "491850",
    "end": "495340"
  },
  {
    "text": "So now, the little jug has 3.",
    "start": "495340",
    "end": "498460"
  },
  {
    "text": "We're filling up the little one.",
    "start": "498460",
    "end": "500000"
  },
  {
    "text": "That leaves two in the big jug.",
    "start": "500000",
    "end": "503104"
  },
  {
    "text": "Now we're going to\nempty the little one,",
    "start": "503104",
    "end": "504770"
  },
  {
    "text": "we still have 2\nleft in the big one.",
    "start": "504770",
    "end": "507750"
  },
  {
    "text": "And now we're going to\npour from the big one",
    "start": "507750",
    "end": "510180"
  },
  {
    "text": "into the little one, so the\nlittle one has 2 gallons",
    "start": "510180",
    "end": "513539"
  },
  {
    "text": "and the big one is empty.",
    "start": "513539",
    "end": "515860"
  },
  {
    "text": "Now, we fill the big\njug, and there's still",
    "start": "515860",
    "end": "519750"
  },
  {
    "text": "2 gallons in the little one\nand 5 gallons of the big one.",
    "start": "519750",
    "end": "523010"
  },
  {
    "text": "Now we pour off from the five\ngallon jug until the one gallon",
    "start": "523010",
    "end": "528240"
  },
  {
    "text": "jug is full, that's removing the\n1 gallon that the 3 gallon jug",
    "start": "528240",
    "end": "532820"
  },
  {
    "text": "still has capacity for.",
    "start": "532820",
    "end": "534610"
  },
  {
    "text": "We reduced to full 2\ngallons in the little jug,",
    "start": "534610",
    "end": "537600"
  },
  {
    "text": "and four gallons, our\ntarget in the big jug.",
    "start": "537600",
    "end": "542000"
  },
  {
    "text": "So we've accomplished it.",
    "start": "542000",
    "end": "544430"
  },
  {
    "text": "And we're done.",
    "start": "544430",
    "end": "545730"
  },
  {
    "text": "So the bomb doesn't go off.",
    "start": "545730",
    "end": "547310"
  },
  {
    "text": "All right.",
    "start": "547310",
    "end": "548140"
  },
  {
    "text": "So the point of this\nexercise is really just",
    "start": "548140",
    "end": "550730"
  },
  {
    "text": "to practice how the moves\nwork and what the states are,",
    "start": "550730",
    "end": "553690"
  },
  {
    "text": "but the questions\nI want to raise",
    "start": "553690",
    "end": "555700"
  },
  {
    "text": "is suppose that we want\nto have a Die Hard once",
    "start": "555700",
    "end": "560600"
  },
  {
    "text": "and for all scenario,\nin which we're",
    "start": "560600",
    "end": "562639"
  },
  {
    "text": "tired of the remakes\nof these movies.",
    "start": "562640",
    "end": "564960"
  },
  {
    "text": "And we proposed that\nin the next movie,",
    "start": "564960",
    "end": "568450"
  },
  {
    "text": "that Simon, if\nhe's still around,",
    "start": "568450",
    "end": "570730"
  },
  {
    "text": "offers an alternative\nchallenge, where",
    "start": "570730",
    "end": "573220"
  },
  {
    "text": "instead of a three gallon\nand a five gallon jug,",
    "start": "573220",
    "end": "575699"
  },
  {
    "text": "there's a three gallon\njug and a nine gallon jug.",
    "start": "575700",
    "end": "579620"
  },
  {
    "text": "And now the question is,\ncan you get four gallons",
    "start": "579620",
    "end": "584020"
  },
  {
    "text": "into the big jug by pouring\nback and forth with rules",
    "start": "584020",
    "end": "588340"
  },
  {
    "text": "like these, or can't you?",
    "start": "588340",
    "end": "590910"
  },
  {
    "text": "And can you prove it?",
    "start": "590910",
    "end": "593430"
  },
  {
    "text": "Well my guess is\nthat you probably",
    "start": "593430",
    "end": "595880"
  },
  {
    "text": "can figure out what's going\non, because what's happening",
    "start": "595880",
    "end": "600450"
  },
  {
    "text": "is if you start off with\nnothing in either jug,",
    "start": "600450",
    "end": "604050"
  },
  {
    "text": "and you do these moves\nof filling up a jug",
    "start": "604050",
    "end": "606990"
  },
  {
    "text": "and pouring one\njug into another,",
    "start": "606990",
    "end": "609130"
  },
  {
    "text": "you'll discover that the\namount of water in any jug",
    "start": "609130",
    "end": "613650"
  },
  {
    "text": "is always divisible by 3.",
    "start": "613650",
    "end": "616340"
  },
  {
    "text": "This is a preserved invariant.",
    "start": "616340",
    "end": "618540"
  },
  {
    "text": "Any state that you can get\nto, starting off from 0,0,",
    "start": "618540",
    "end": "622339"
  },
  {
    "text": "3 will divide the number\nof gallons in each jug.",
    "start": "622340",
    "end": "626526"
  },
  {
    "text": "We could state it this way.",
    "start": "626526",
    "end": "627650"
  },
  {
    "text": "There's a property of\nstates, property of b and l,",
    "start": "627650",
    "end": "631230"
  },
  {
    "text": "which is the state,\nwhich is that 3 divides",
    "start": "631230",
    "end": "634240"
  },
  {
    "text": "b-- that vertical\nline is a shorthand",
    "start": "634240",
    "end": "637540"
  },
  {
    "text": "for the symbol divides.",
    "start": "637540",
    "end": "638990"
  },
  {
    "text": "So three divides b, or\nb is a multiple of 3.",
    "start": "638990",
    "end": "641630"
  },
  {
    "text": "3 divides l.",
    "start": "641630",
    "end": "642990"
  },
  {
    "text": "Synonym, l is a multiple of 3.",
    "start": "642990",
    "end": "645110"
  },
  {
    "text": "And the claim is that that's\nalways going to be true.",
    "start": "645110",
    "end": "649390"
  },
  {
    "text": "So in case that's\nnot obvious, you",
    "start": "649390",
    "end": "651470"
  },
  {
    "text": "might not have all the\nrules in your head.",
    "start": "651470",
    "end": "653449"
  },
  {
    "text": "Let's just take a look at one\nof the more complicated rules.",
    "start": "653450",
    "end": "656300"
  },
  {
    "text": "This was the rule\nwhere you're pouring",
    "start": "656300",
    "end": "658730"
  },
  {
    "text": "the big jug into\nthe little jug up",
    "start": "658730",
    "end": "661370"
  },
  {
    "text": "until the little jug is full.",
    "start": "661370",
    "end": "664420"
  },
  {
    "text": "And that transition is\nthat if you're in state b,",
    "start": "664420",
    "end": "667897"
  },
  {
    "text": "l, you move to b minus\n3 minus l, and 3.",
    "start": "667897",
    "end": "672550"
  },
  {
    "text": "And if you look at this now,\nclearly if 3 divides both b",
    "start": "672550",
    "end": "677660"
  },
  {
    "text": "and l, both components\nof the state",
    "start": "677660",
    "end": "679819"
  },
  {
    "text": "you're at, then\nin the new state,",
    "start": "679820",
    "end": "681730"
  },
  {
    "text": "well 3 obviously\ndivides the contents",
    "start": "681730",
    "end": "683600"
  },
  {
    "text": "of the little jug, which is 3.",
    "start": "683600",
    "end": "685589"
  },
  {
    "text": "But three also\ndivides the contents",
    "start": "685590",
    "end": "687810"
  },
  {
    "text": "of the big jug, which is\na multiple of 3, namely b",
    "start": "687810",
    "end": "691160"
  },
  {
    "text": "minus 3, which is a\nmultiple of 3 minus w,",
    "start": "691160",
    "end": "694120"
  },
  {
    "text": "which is a multiple of 3.",
    "start": "694120",
    "end": "695760"
  },
  {
    "text": "When you take a linear\ncombination of multiples of 3,",
    "start": "695760",
    "end": "698940"
  },
  {
    "text": "you get a multiple of 3.",
    "start": "698940",
    "end": "700171"
  },
  {
    "text": "And you look at all\nthe other transitions,",
    "start": "700171",
    "end": "701920"
  },
  {
    "text": "and they check equally well.",
    "start": "701920",
    "end": "703579"
  },
  {
    "text": "If you're in a\nstate b, l, and you",
    "start": "703580",
    "end": "705670"
  },
  {
    "text": "move to a new state b prime,\nl prime, if 3 divides b and l,",
    "start": "705670",
    "end": "711339"
  },
  {
    "text": "then 3 divides b\nprime and l prime.",
    "start": "711340",
    "end": "714310"
  },
  {
    "text": "So this is what's called\na preserved invariant.",
    "start": "714310",
    "end": "717295"
  },
  {
    "start": "717295",
    "end": "720050"
  },
  {
    "start": "718000",
    "end": "1033000"
  },
  {
    "text": "And of course the corollary\nis that in the Die Hard once",
    "start": "720050",
    "end": "723480"
  },
  {
    "text": "and for all game with the\n3 gallon jug and the 9",
    "start": "723480",
    "end": "726370"
  },
  {
    "text": "gallon jug, you can't get to\nany state of the form 4, x,",
    "start": "726370",
    "end": "730380"
  },
  {
    "text": "because 4 is not divisible\nby 3, and therefore Bruce",
    "start": "730380",
    "end": "734610"
  },
  {
    "text": "is going to die.",
    "start": "734610",
    "end": "737110"
  },
  {
    "text": "Now what we've illustrated\nhere is an argument",
    "start": "737110",
    "end": "740070"
  },
  {
    "text": "that's known as Floyd's\nInvariant Principle,",
    "start": "740070",
    "end": "743020"
  },
  {
    "text": "and it's really nothing\nbut induction reformulated",
    "start": "743020",
    "end": "745440"
  },
  {
    "text": "for state machines.",
    "start": "745440",
    "end": "746930"
  },
  {
    "text": "The statement of what\nis invariant principle",
    "start": "746930",
    "end": "749760"
  },
  {
    "text": "is that we're going to\ndefine a preserved invariant",
    "start": "749760",
    "end": "753400"
  },
  {
    "text": "as a property of states.",
    "start": "753400",
    "end": "755372"
  },
  {
    "text": "And a preserved\ninvariants means it",
    "start": "755372",
    "end": "756830"
  },
  {
    "text": "has the property that if you're\nin a state that has property p,",
    "start": "756830",
    "end": "760820"
  },
  {
    "text": "and it's possible to make a\nsingle transition to state r,",
    "start": "760820",
    "end": "765740"
  },
  {
    "text": "then r will also\nhave property p.",
    "start": "765740",
    "end": "768290"
  },
  {
    "text": "This is just like\nthe induction step.",
    "start": "768290",
    "end": "769990"
  },
  {
    "text": "We have to prove that p\nn implies p of n plus 1.",
    "start": "769990",
    "end": "774000"
  },
  {
    "text": "So if you have a\npreserved invariant,",
    "start": "774000",
    "end": "778080"
  },
  {
    "text": "then if the property\nholds at the start state,",
    "start": "778080",
    "end": "783700"
  },
  {
    "text": "then it's obvious\nthat the property",
    "start": "783700",
    "end": "787170"
  },
  {
    "text": "will hold for all of the states\nthat you can possibly get to.",
    "start": "787170",
    "end": "791100"
  },
  {
    "text": "That p of r will hold\nfor all reachable states.",
    "start": "791100",
    "end": "793251"
  },
  {
    "text": "And you can prove\nthis by induction",
    "start": "793252",
    "end": "794710"
  },
  {
    "text": "on the number of\nstates, but I think",
    "start": "794710",
    "end": "796210"
  },
  {
    "text": "it's clear that if you have a\nproperty that you begin with,",
    "start": "796210",
    "end": "799320"
  },
  {
    "text": "and it doesn't\nchange making a step,",
    "start": "799320",
    "end": "801060"
  },
  {
    "text": "it's never going to change.",
    "start": "801060",
    "end": "802670"
  },
  {
    "text": "And that's all that Floyd's\ninvariant principle states.",
    "start": "802670",
    "end": "805959"
  },
  {
    "text": "So in particular,\nsince the property p",
    "start": "805960",
    "end": "809620"
  },
  {
    "text": "holds in all reachable\nstates, if there",
    "start": "809620",
    "end": "811690"
  },
  {
    "text": "is any final state which\nthe machine reaches,",
    "start": "811690",
    "end": "814990"
  },
  {
    "text": "then p is going to\nhold in that state.",
    "start": "814990",
    "end": "818010"
  },
  {
    "text": "And what we saw was-- we're\nusing the word preserved",
    "start": "818010",
    "end": "822010"
  },
  {
    "text": "invariant to distinguish\nthe definition here",
    "start": "822010",
    "end": "825260"
  },
  {
    "text": "from another usage\nthat's co-opted the word",
    "start": "825260",
    "end": "828770"
  },
  {
    "text": "invariant to mean a property\nthat's true in all states.",
    "start": "828770",
    "end": "833580"
  },
  {
    "text": "And while it's nice to\nknow that some property is",
    "start": "833580",
    "end": "836010"
  },
  {
    "text": "true in all states,\nthe way you prove",
    "start": "836010",
    "end": "838450"
  },
  {
    "text": "that is by having a\npreserved invariance.",
    "start": "838450",
    "end": "840360"
  },
  {
    "text": "You want to distinguish the two.",
    "start": "840360",
    "end": "841750"
  },
  {
    "text": "Technically if you look\nat this, the predicate",
    "start": "841750",
    "end": "844005"
  },
  {
    "text": "that's always false is\na preserved invariant.",
    "start": "844005",
    "end": "847150"
  },
  {
    "text": "Because of the condition,\nas usual the way implication",
    "start": "847150",
    "end": "850790"
  },
  {
    "text": "works.",
    "start": "850790",
    "end": "851290"
  },
  {
    "text": "If the antecedent is false, then\nthe entire implication is true.",
    "start": "851290",
    "end": "855490"
  },
  {
    "text": "So if you're always false,\nthen it's always the case",
    "start": "855490",
    "end": "858750"
  },
  {
    "text": "that if false held in a state,\nwhich it never does, then",
    "start": "858750",
    "end": "862860"
  },
  {
    "text": "it has to hold in any\nstate you can get to,",
    "start": "862860",
    "end": "865029"
  },
  {
    "text": "so that implication is true.",
    "start": "865030",
    "end": "867450"
  },
  {
    "text": "So just remember that preserved\ninvariants that are constantly",
    "start": "867450",
    "end": "870970"
  },
  {
    "text": "false exist, they are good\npreserved in variance.",
    "start": "870970",
    "end": "874959"
  },
  {
    "text": "But they're not what other\npeople would call an invariant.",
    "start": "874960",
    "end": "877790"
  },
  {
    "text": "We use preserved invariance\nto prove that a property is",
    "start": "877790",
    "end": "881630"
  },
  {
    "text": "true in all states.",
    "start": "881630",
    "end": "883184"
  },
  {
    "text": "It's a methodology.",
    "start": "883184",
    "end": "883975"
  },
  {
    "start": "883975",
    "end": "887350"
  },
  {
    "text": "So let's do one more\nexample to wrap this up.",
    "start": "887350",
    "end": "889769"
  },
  {
    "text": "Suppose I have a robot on\na grid, the integer grid,",
    "start": "889770",
    "end": "894180"
  },
  {
    "text": "and we can think then\nof the coordinates",
    "start": "894180",
    "end": "895910"
  },
  {
    "text": "of the integer as a pair of--\nthe coordinates of the robot",
    "start": "895910",
    "end": "899240"
  },
  {
    "text": "as the coordinates of\nthe square that it's in,",
    "start": "899240",
    "end": "902080"
  },
  {
    "text": "a pair of non-negative integers.",
    "start": "902080",
    "end": "904950"
  },
  {
    "text": "Now the way that\nthis robot can move",
    "start": "904950",
    "end": "907440"
  },
  {
    "text": "is we can make a diagonal\nmove in one step.",
    "start": "907440",
    "end": "910100"
  },
  {
    "text": "So it could move one step to\nthe northeast or southeast",
    "start": "910100",
    "end": "914190"
  },
  {
    "text": "or northwest or\nsouthwest and that's it.",
    "start": "914190",
    "end": "916365"
  },
  {
    "text": "And the question\nI want to ask is,",
    "start": "916365",
    "end": "918959"
  },
  {
    "text": "suppose you start the robot\noff at the origin, at 0,0.",
    "start": "918960",
    "end": "923030"
  },
  {
    "text": "Is there some way that\nit can wander around,",
    "start": "923030",
    "end": "925310"
  },
  {
    "text": "following its moves,\nand get to a next state",
    "start": "925310",
    "end": "928380"
  },
  {
    "text": "where it's moved 1 square over?",
    "start": "928380",
    "end": "929780"
  },
  {
    "text": "That is, it gets\nto the square 0,1.",
    "start": "929780",
    "end": "936860"
  },
  {
    "text": "The answer to that is settled\nagain by a preserved invariant.",
    "start": "936860",
    "end": "940079"
  },
  {
    "text": "I don't know whether\nit's obvious to you yet,",
    "start": "940080",
    "end": "942740"
  },
  {
    "text": "but it will be in a moment.",
    "start": "942740",
    "end": "944399"
  },
  {
    "text": "I'm claiming you can't\nget to the square 0,1,",
    "start": "944400",
    "end": "947390"
  },
  {
    "text": "and the reason is that there's\nare preserved invariant",
    "start": "947390",
    "end": "951650"
  },
  {
    "text": "of that set of\nrobot moves, namely",
    "start": "951650",
    "end": "954260"
  },
  {
    "text": "the sum of the coordinates\nis even is an invariant.",
    "start": "954260",
    "end": "958105"
  },
  {
    "text": "If the sum of the coordinates\nis even, it stays even.",
    "start": "958105",
    "end": "961910"
  },
  {
    "text": "And why is that?",
    "start": "961910",
    "end": "962940"
  },
  {
    "text": "Well, any move adds\nplus or minus 1",
    "start": "962940",
    "end": "967960"
  },
  {
    "text": "to the coordinates\nof both x and y.",
    "start": "967960",
    "end": "972410"
  },
  {
    "text": "Maybe x and y both\ngo up by 1, in which",
    "start": "972410",
    "end": "976560"
  },
  {
    "text": "case, the sum of x\nand y increases by 2.",
    "start": "976560",
    "end": "979170"
  },
  {
    "text": "So if it was even,\nit stays even,",
    "start": "979170",
    "end": "980690"
  },
  {
    "text": "or they both go down by\n1, or maybe one goes up",
    "start": "980690",
    "end": "983370"
  },
  {
    "text": "and the other goes down,\nin which case, the sum",
    "start": "983370",
    "end": "985460"
  },
  {
    "text": "doesn't change in every case.",
    "start": "985460",
    "end": "989060"
  },
  {
    "text": "If x plus y was\neven, it stays even.",
    "start": "989060",
    "end": "991250"
  },
  {
    "text": "As a matter of fact, if\nit was odd, it stays odd.",
    "start": "991250",
    "end": "994550"
  },
  {
    "text": "Moves actually preserve\nthe parity of x plus y.",
    "start": "994550",
    "end": "997279"
  },
  {
    "text": "But the invariant is\nthat x plus y is even.",
    "start": "997280",
    "end": "1002020"
  },
  {
    "text": "Now, what else is the case.",
    "start": "1002020",
    "end": "1003850"
  },
  {
    "text": "Well 0,0-- 0 plus 0\nis 0, which is even.",
    "start": "1003850",
    "end": "1009740"
  },
  {
    "text": "And so we're in Floyd\ninvariant principal case,",
    "start": "1009740",
    "end": "1013220"
  },
  {
    "text": "where all the positions you\ncan get to from the origin 0,0,",
    "start": "1013220",
    "end": "1018449"
  },
  {
    "text": "which has an even sum,\nhave to have an even sum.",
    "start": "1018450",
    "end": "1022360"
  },
  {
    "text": "And since 1 plus 0 is odd, you\ncan't get to that square, 1,0.",
    "start": "1022360",
    "end": "1030740"
  },
  {
    "text": "It's not reachable.",
    "start": "1030740",
    "end": "1032730"
  },
  {
    "start": "1032730",
    "end": "1035390"
  },
  {
    "start": "1033000",
    "end": "1073000"
  },
  {
    "text": "So the parity invariant of\nthe diagonally moving robot",
    "start": "1035390",
    "end": "1038910"
  },
  {
    "text": "will set us up for an analysis\nof the 15 puzzle game.",
    "start": "1038910",
    "end": "1044369"
  },
  {
    "text": "That's this logo that we've\nhad on every slide in 6042",
    "start": "1044369",
    "end": "1047740"
  },
  {
    "text": "so far with 6 blank,\n4, 2, on the diagonal.",
    "start": "1047740",
    "end": "1051490"
  },
  {
    "text": "This is a game where there\nare these little numbered",
    "start": "1051490",
    "end": "1054660"
  },
  {
    "text": "tiles that slide into\nthe blank square,",
    "start": "1054660",
    "end": "1057390"
  },
  {
    "text": "and the question\nis how to permute--",
    "start": "1057390",
    "end": "1059960"
  },
  {
    "text": "how to get from one permutations\nof the numbers to another.",
    "start": "1059960",
    "end": "1064140"
  },
  {
    "text": "It turns out that the\nanalysis of that game",
    "start": "1064140",
    "end": "1066150"
  },
  {
    "text": "depends on a parity\ninvariant reminiscent",
    "start": "1066150",
    "end": "1069010"
  },
  {
    "text": "of a slightly more sophisticated\nthan the diagonally",
    "start": "1069010",
    "end": "1072210"
  },
  {
    "text": "moving robot.",
    "start": "1072210",
    "end": "1074100"
  },
  {
    "start": "1073000",
    "end": "1423000"
  },
  {
    "text": "Let's look at one more\nexample of using the invariant",
    "start": "1074100",
    "end": "1078480"
  },
  {
    "text": "to verify a little algorithm\nthat actually will be quite",
    "start": "1078480",
    "end": "1081169"
  },
  {
    "text": "important as the\ncourse progresses,",
    "start": "1081170",
    "end": "1083610"
  },
  {
    "text": "and that is fast exponentiation.",
    "start": "1083610",
    "end": "1085720"
  },
  {
    "text": "So in this set up,\na is a real number",
    "start": "1085720",
    "end": "1088059"
  },
  {
    "text": "and b is a non-negative integer.",
    "start": "1088060",
    "end": "1090020"
  },
  {
    "text": "I want to compute\nthe b power of a.",
    "start": "1090020",
    "end": "1091750"
  },
  {
    "text": "Let's say b was 128, and I\nwant to compute the 128th power",
    "start": "1091750",
    "end": "1098250"
  },
  {
    "text": "of some real number a.",
    "start": "1098250",
    "end": "1100350"
  },
  {
    "text": "Well, I can multiply a by itself\n127 times, that would work",
    "start": "1100350",
    "end": "1104330"
  },
  {
    "text": "fine.",
    "start": "1104330",
    "end": "1105230"
  },
  {
    "text": "But you think about it, suppose\nI square a and then I square it",
    "start": "1105230",
    "end": "1109120"
  },
  {
    "text": "again, and I square it again,\nthen in about eight squarings,",
    "start": "1109120",
    "end": "1113930"
  },
  {
    "text": "instead of 99\nmultiplications, I'm",
    "start": "1113930",
    "end": "1116680"
  },
  {
    "text": "going to get to 8 of the 128th.",
    "start": "1116680",
    "end": "1120310"
  },
  {
    "text": "Now if b is not a power of\ntwo, you adjust it slightly,",
    "start": "1120310",
    "end": "1124040"
  },
  {
    "text": "and using that idea, you can\ncompute the bth power of a much",
    "start": "1124040",
    "end": "1130220"
  },
  {
    "text": "more rapidly than\nif you just naively",
    "start": "1130220",
    "end": "1132179"
  },
  {
    "text": "multiplied out b minus 1 times.",
    "start": "1132180",
    "end": "1134490"
  },
  {
    "text": "So let's look at the\npseudocode for this algorithm.",
    "start": "1134490",
    "end": "1137640"
  },
  {
    "text": "Here, XYZ in our temporary\nregisters y and z, hold-- y, z,",
    "start": "1137640",
    "end": "1145420"
  },
  {
    "text": "and r all hold integers.",
    "start": "1145420",
    "end": "1146560"
  },
  {
    "text": "And x holds this real number a.",
    "start": "1146560",
    "end": "1149430"
  },
  {
    "text": "And you can read\nthe code if you wish",
    "start": "1149430",
    "end": "1152610"
  },
  {
    "text": "but in fact, I'm going\nto immediately jump",
    "start": "1152610",
    "end": "1154840"
  },
  {
    "text": "to the slightly more\nabstract and easier",
    "start": "1154840",
    "end": "1156850"
  },
  {
    "text": "to understand version of\nit as a state machine.",
    "start": "1156850",
    "end": "1159539"
  },
  {
    "text": "So what matters about this\nfast exponentiation algorithm",
    "start": "1159540",
    "end": "1162900"
  },
  {
    "text": "as a state machine\nis that first of all,",
    "start": "1162900",
    "end": "1166240"
  },
  {
    "text": "there are three states\nto real numbers,",
    "start": "1166240",
    "end": "1169670"
  },
  {
    "text": "and a non-negative integer.",
    "start": "1169670",
    "end": "1174830"
  },
  {
    "text": "And the start state is going\nto be that the number a is",
    "start": "1174830",
    "end": "1178850"
  },
  {
    "text": "in the first register,\nor in the first location,",
    "start": "1178850",
    "end": "1182299"
  },
  {
    "text": "first coordinate of the states.",
    "start": "1182300",
    "end": "1184150"
  },
  {
    "text": "1 is the real number in\nthe second coordinate,",
    "start": "1184150",
    "end": "1186920"
  },
  {
    "text": "and b the target exponent,\nis the non-negative integer",
    "start": "1186920",
    "end": "1191320"
  },
  {
    "text": "in the third component.",
    "start": "1191320",
    "end": "1194600"
  },
  {
    "text": "The transitions are\ngoing to be as follows.",
    "start": "1194600",
    "end": "1196460"
  },
  {
    "text": "Here's a simple one.",
    "start": "1196460",
    "end": "1198240"
  },
  {
    "text": "If I have an amount x\nin the first location, y",
    "start": "1198240",
    "end": "1202700"
  },
  {
    "text": "in the second location, z in\nthe third, then if z is positive",
    "start": "1202700",
    "end": "1208429"
  },
  {
    "text": "and even, then I'm going\nto square x, leave y",
    "start": "1208430",
    "end": "1213210"
  },
  {
    "text": "alone, and divide z by 2.",
    "start": "1213210",
    "end": "1217169"
  },
  {
    "text": "And that's the new\nstate that I get.",
    "start": "1217170",
    "end": "1218930"
  },
  {
    "text": "On the other hand, if\nz is odd and positive,",
    "start": "1218930",
    "end": "1222830"
  },
  {
    "text": "then I'm going to square\nx, multiply y by x,",
    "start": "1222830",
    "end": "1227840"
  },
  {
    "text": "and again take the quotient\nof z, divide z by 2.",
    "start": "1227840",
    "end": "1233010"
  },
  {
    "text": "OK.",
    "start": "1233010",
    "end": "1233930"
  },
  {
    "text": "Why does this state machine\ndo fast exponentiation,",
    "start": "1233930",
    "end": "1236955"
  },
  {
    "text": "why is it correct?",
    "start": "1236955",
    "end": "1238279"
  },
  {
    "text": "And the insight is that\nthere's a preserved invariant",
    "start": "1238280",
    "end": "1241130"
  },
  {
    "text": "of this machine.",
    "start": "1241130",
    "end": "1242290"
  },
  {
    "text": "And the preserved invariant\nis that y times x to the z",
    "start": "1242290",
    "end": "1246500"
  },
  {
    "text": "is always a to the b.",
    "start": "1246500",
    "end": "1249240"
  },
  {
    "text": "SO let's see how to verify\nthat, that yx to the z",
    "start": "1249240",
    "end": "1253900"
  },
  {
    "text": "is equal to a to the b.",
    "start": "1253900",
    "end": "1256900"
  },
  {
    "text": "Let's just look at maybe the\nslightly more interesting",
    "start": "1256900",
    "end": "1260290"
  },
  {
    "text": "of the two transition\nrules, which",
    "start": "1260290",
    "end": "1261900"
  },
  {
    "text": "is when z is positive\nand odd, the xyz state",
    "start": "1261900",
    "end": "1267060"
  },
  {
    "text": "moves to a new state,\nindicated in green.",
    "start": "1267060",
    "end": "1270040"
  },
  {
    "text": "Where the new value of x is\nx squared, the new value of y",
    "start": "1270040",
    "end": "1272950"
  },
  {
    "text": "is xy, and the new value\nof z is z minus 1 over 2.",
    "start": "1272950",
    "end": "1277559"
  },
  {
    "text": "Remember, you went to the\nquotient of z divided by 2,",
    "start": "1277560",
    "end": "1280400"
  },
  {
    "text": "and when z is odd, that means\nz minus-- it's literally",
    "start": "1280400",
    "end": "1283360"
  },
  {
    "text": "z minus 1 over 2.",
    "start": "1283360",
    "end": "1285130"
  },
  {
    "text": "Well, do the new values\nsatisfy the invariant",
    "start": "1285130",
    "end": "1288480"
  },
  {
    "text": "if I plug-in the green values\nof x squared for y and xy",
    "start": "1288480",
    "end": "1292950"
  },
  {
    "text": "for x-- I'm sorry, x\nsquared for x, xy for y,",
    "start": "1292950",
    "end": "1298649"
  },
  {
    "text": "and z minus 1 over 2 for z?",
    "start": "1298650",
    "end": "1300210"
  },
  {
    "text": "Well let's see what happens.",
    "start": "1300210",
    "end": "1302700"
  },
  {
    "text": "If I take the new value\nof y, which is xy,",
    "start": "1302700",
    "end": "1309059"
  },
  {
    "text": "and I multiply it by the new\nvalue of x, which is x squared,",
    "start": "1309060",
    "end": "1313020"
  },
  {
    "text": "raised to the new value of\nz, which is z minus 1 over 2.",
    "start": "1313020",
    "end": "1317420"
  },
  {
    "text": "Let's do a little algebraic\nsimplification of that.",
    "start": "1317420",
    "end": "1320420"
  },
  {
    "text": "Well, the x squared to\nthe z minus 1 over 2",
    "start": "1320420",
    "end": "1322930"
  },
  {
    "text": "becomes x to the z minus 1.",
    "start": "1322930",
    "end": "1325520"
  },
  {
    "text": "And I'm just\ncarrying over the xy.",
    "start": "1325520",
    "end": "1328600"
  },
  {
    "text": "And then that simplifies\nto simply y times x times x",
    "start": "1328600",
    "end": "1334020"
  },
  {
    "text": "to the z minus 1, or yz\nto the z, which we assumed",
    "start": "1334020",
    "end": "1338180"
  },
  {
    "text": "was equal to a to the b, so sure\nenough, the new values of x, y,",
    "start": "1338180",
    "end": "1342050"
  },
  {
    "text": "and z satisfy the invariant.",
    "start": "1342050",
    "end": "1344170"
  },
  {
    "text": "It's a preserved invariant,\nand an even simpler argument",
    "start": "1344170",
    "end": "1347260"
  },
  {
    "text": "applies to the other transition,\nwhen z is positive and even.",
    "start": "1347260",
    "end": "1351910"
  },
  {
    "text": "So we verified that this\nis a preserved invariant.",
    "start": "1351910",
    "end": "1355740"
  },
  {
    "text": "Now at the start, remember, we\nstart off with the real number",
    "start": "1355740",
    "end": "1361900"
  },
  {
    "text": "a in register x, the real number\nb in z, and the real number",
    "start": "1361900",
    "end": "1366060"
  },
  {
    "text": "1 in y, which is\nthe accumulator.",
    "start": "1366060",
    "end": "1369840"
  },
  {
    "text": "And 1 times a to b\nis equal to a to b.",
    "start": "1369840",
    "end": "1372990"
  },
  {
    "text": "So this is a-- this\npreserved invariant",
    "start": "1372990",
    "end": "1375260"
  },
  {
    "text": "is true of the start state.",
    "start": "1375260",
    "end": "1377420"
  },
  {
    "text": "That means by Floyd's\nInvariant Principle,",
    "start": "1377420",
    "end": "1380020"
  },
  {
    "text": "that it is true at\nthis the final state,",
    "start": "1380020",
    "end": "1383550"
  },
  {
    "text": "if and when the thing stops.",
    "start": "1383550",
    "end": "1385410"
  },
  {
    "text": "Well, when does\nthis machine stop?",
    "start": "1385410",
    "end": "1387670"
  },
  {
    "text": "As long as z is positive,\nit can keep moving.",
    "start": "1387670",
    "end": "1390400"
  },
  {
    "text": "So it gets stuck when z is 0?",
    "start": "1390400",
    "end": "1393610"
  },
  {
    "text": "What happens if it\never gets to z is 0?",
    "start": "1393610",
    "end": "1396710"
  },
  {
    "text": "If it gets stuck, then the\ninvariant says that yx to the 0",
    "start": "1396710",
    "end": "1402490"
  },
  {
    "text": "has to equal a to the b.",
    "start": "1402490",
    "end": "1404640"
  },
  {
    "text": "But of course, yx to\nthe 0 is nothing but y.",
    "start": "1404640",
    "end": "1407940"
  },
  {
    "text": "And what we conclude\nis, that sure enough,",
    "start": "1407940",
    "end": "1410629"
  },
  {
    "text": "this machine leaves the\ndesired exponential value",
    "start": "1410630",
    "end": "1414310"
  },
  {
    "text": "in the register y, which\nis where we get the answer.",
    "start": "1414310",
    "end": "1417850"
  },
  {
    "text": "And that's why this\nalgorithm is correct.",
    "start": "1417850",
    "end": "1422970"
  },
  {
    "text": "Now another aspect of\nwhat's going on here",
    "start": "1422970",
    "end": "1427720"
  },
  {
    "text": "is proving that the\nalgorithm does terminate.",
    "start": "1427720",
    "end": "1430429"
  },
  {
    "text": "So let me just say a word\nthat Floyd distinguished",
    "start": "1430430",
    "end": "1435080"
  },
  {
    "text": "sort of these two aspects\nof program correctness",
    "start": "1435080",
    "end": "1437399"
  },
  {
    "text": "that typically come up.",
    "start": "1437400",
    "end": "1438390"
  },
  {
    "text": "One is showing that if you\nget an answer, it's correct,",
    "start": "1438390",
    "end": "1441140"
  },
  {
    "text": "and that's what we just did.",
    "start": "1441140",
    "end": "1442690"
  },
  {
    "text": "If this machine stops, if\nit ever gets to the case",
    "start": "1442690",
    "end": "1446080"
  },
  {
    "text": "where z is 0, then y\nhas the right answer.",
    "start": "1446080",
    "end": "1449700"
  },
  {
    "text": "But we haven't\nproved that it stops.",
    "start": "1449700",
    "end": "1451789"
  },
  {
    "text": "So we've shown\nthat it's partially",
    "start": "1451790",
    "end": "1454020"
  },
  {
    "text": "correct like a partial function.",
    "start": "1454020",
    "end": "1456770"
  },
  {
    "text": "It might not be\ndefined everywhere,",
    "start": "1456770",
    "end": "1458230"
  },
  {
    "text": "we haven't shown that yet,\nbut when it is defined,",
    "start": "1458230",
    "end": "1460313"
  },
  {
    "text": "if gives the right answer.",
    "start": "1460313",
    "end": "1461520"
  },
  {
    "text": "The other aspect of\ncorrectness is termination,",
    "start": "1461520",
    "end": "1464580"
  },
  {
    "text": "showing in effect, that\nthe function is total,",
    "start": "1464580",
    "end": "1467049"
  },
  {
    "text": "that the program\nalways does stop.",
    "start": "1467050",
    "end": "1469280"
  },
  {
    "text": "Well in this case,\nthere's an easy way",
    "start": "1469280",
    "end": "1470920"
  },
  {
    "text": "to see why it always stops.",
    "start": "1470920",
    "end": "1472780"
  },
  {
    "text": "Because at every transition,\nz is being halved or more.",
    "start": "1472780",
    "end": "1477875"
  },
  {
    "text": "z is a non-negative\ninteger valued variable.",
    "start": "1477875",
    "end": "1484080"
  },
  {
    "text": "And since we're\nhalving it, or making",
    "start": "1484080",
    "end": "1487260"
  },
  {
    "text": "it even smaller than\nhalf of it at every step,",
    "start": "1487260",
    "end": "1490460"
  },
  {
    "text": "it means that since it\nstarts with the value z,",
    "start": "1490460",
    "end": "1495100"
  },
  {
    "text": "it can't get smaller, more than\nlog to the base 2 of b times,",
    "start": "1495100",
    "end": "1499299"
  },
  {
    "text": "because by then, it\nwould have hit 0.",
    "start": "1499300",
    "end": "1501500"
  },
  {
    "text": "And so we can be sure\nthat this machine",
    "start": "1501500",
    "end": "1503870"
  },
  {
    "text": "makes it most log to the\nbase 2 of b transitions.",
    "start": "1503870",
    "end": "1508000"
  },
  {
    "text": "And then it has to get\nstuck at the only place it",
    "start": "1508000",
    "end": "1511000"
  },
  {
    "text": "can get stuck, which\nis when z equals 0.",
    "start": "1511000",
    "end": "1514620"
  },
  {
    "start": "1514000",
    "end": "1559000"
  },
  {
    "text": "And there is a picture of my\nfriend, an early colleague,",
    "start": "1514620",
    "end": "1519950"
  },
  {
    "text": "Bob Floyd, whom I met at the\nvery beginning of my career",
    "start": "1519950",
    "end": "1524289"
  },
  {
    "text": "at Carnegie Mellon University.",
    "start": "1524290",
    "end": "1526820"
  },
  {
    "text": "We worked together\nfor about one year",
    "start": "1526820",
    "end": "1528389"
  },
  {
    "text": "before he went off to Stanford.",
    "start": "1528390",
    "end": "1530330"
  },
  {
    "text": "And you can read much\nmore about his life",
    "start": "1530330",
    "end": "1533730"
  },
  {
    "text": "in a warm and detailed\neulogy written",
    "start": "1533730",
    "end": "1538620"
  },
  {
    "text": "by his best friend, Don Knuth.",
    "start": "1538620",
    "end": "1542030"
  },
  {
    "text": "Floyd won the Turing Award\nfor his major contributions,",
    "start": "1542030",
    "end": "1546820"
  },
  {
    "text": "both to program correctness\nand to programming language",
    "start": "1546820",
    "end": "1551100"
  },
  {
    "text": "parsing.",
    "start": "1551100",
    "end": "1552650"
  },
  {
    "start": "1552650",
    "end": "1554807"
  }
]