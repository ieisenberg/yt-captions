[
  {
    "start": "0",
    "end": "22000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license.",
    "start": "0",
    "end": "5340"
  },
  {
    "text": "Your support will help\nMIT OpenCourseWare continue to offer high quality\neducational resources for free.",
    "start": "5340",
    "end": "11640"
  },
  {
    "text": "To make a donation or to\nview additional materials from hundreds of MIT courses,\nvisit MIT OpenCourseWare",
    "start": "11640",
    "end": "18110"
  },
  {
    "text": "at ocw.mit.edu. ",
    "start": "18110",
    "end": "24420"
  },
  {
    "text": "JAMES SWAN: OK, shall we begin?  So on the syllabus,\ntoday's class",
    "start": "24420",
    "end": "30450"
  },
  {
    "text": "is supposed to be a\nreview for the next quiz. And I'm happy to answer\nany questions you",
    "start": "30450",
    "end": "36540"
  },
  {
    "text": "have about the material\nor about the quiz to the best of my ability.",
    "start": "36540",
    "end": "42120"
  },
  {
    "text": "And when we've exhausted\nthose questions, I have some notes on\nanother method for solving",
    "start": "42120",
    "end": "49679"
  },
  {
    "text": "partial differential equations. We didn't really\ncover it in class, but I think it's quite\ninteresting and applicable",
    "start": "49679",
    "end": "54690"
  },
  {
    "text": "for chemical engineers\nin particular because of the classes of\nproblems that we study. And then notes on how to\nconstruct a simulation of a PDE",
    "start": "54690",
    "end": "64830"
  },
  {
    "text": "that follow from what\nProfessor Green discussed during your last PDE lecture.",
    "start": "64830",
    "end": "70159"
  },
  {
    "text": "And we'll do an example\nwhere we actually develop a code to solve\nthe PDE and maybe refine it so that it runs more\nquickly by noticing",
    "start": "70160",
    "end": "79440"
  },
  {
    "text": "certain things about the\nstructure of the problem. OK? I have your gift cards.",
    "start": "79440",
    "end": "84990"
  },
  {
    "text": "I remembered them. So I'll hand those out at the\nend the class, just in case more people trickle in.",
    "start": "84990",
    "end": "90840"
  },
  {
    "text": "But it doesn't look like\nthere's 53 people here, so maybe the TAs are going to\nbe eating burritos for a while.",
    "start": "90840",
    "end": "96591"
  },
  {
    "text": "There's going to\nbe a lot left over. We'll see. I'll hold onto them.",
    "start": "96591",
    "end": "101790"
  },
  {
    "text": "Try to make sure everyone\ngets their reward for responding to\nthe class survey.",
    "start": "101790",
    "end": "107730"
  },
  {
    "text": "So let's start with questions\nabout the quiz, about the material that we've\ncovered up to this point.",
    "start": "107730",
    "end": "114930"
  },
  {
    "text": "I'm really going to leave it\nto you to point out things that you feel like\nyou need help with,",
    "start": "114930",
    "end": "121229"
  },
  {
    "text": "you think need to be reviewed. I know you've had a review\nsession with the TAs already. Maybe that's been sufficient.",
    "start": "121230",
    "end": "126833"
  },
  {
    "text": "OK? Questions. It's up to you. Yeah. AUDIENCE: Will the test contain\nchemical engineering material",
    "start": "126833",
    "end": "134392"
  },
  {
    "text": "like last year's\ntest, or will it be like Professor Green's test. JAMES SWAN: Oh, good question. So I'll tell you that\nI believe the problems",
    "start": "134392",
    "end": "142870"
  },
  {
    "text": "on the quiz this\nyear are motivated by chemical engineering\nproblems, OK?",
    "start": "142870",
    "end": "149629"
  },
  {
    "text": "The reason for that is,\nunlike linear algebra problems or optimization\nproblems, those can be crafted out of whole cloth.",
    "start": "149630",
    "end": "156689"
  },
  {
    "text": "But workable, right,\nboundary value problems, workable initial\nvalue problems really",
    "start": "156690",
    "end": "163330"
  },
  {
    "text": "need to stem from\nsomething physical. You are not asked\nto derive anything",
    "start": "163330",
    "end": "169390"
  },
  {
    "text": "from your extensive chemical\nengineering knowledge. This is not a qualifier\nfor reactors or thermo",
    "start": "169390",
    "end": "175150"
  },
  {
    "text": "or transport. We provide you\nwith those details. OK? But they are-- I think they\nare of a chemical engineering",
    "start": "175150",
    "end": "182290"
  },
  {
    "text": "origin. So you have equations that\nare reasonable to work with. OK?",
    "start": "182290",
    "end": "188290"
  },
  {
    "text": "More questions. ",
    "start": "188290",
    "end": "195420"
  },
  {
    "start": "190000",
    "end": "497000"
  },
  {
    "text": "Yes. AUDIENCE: I would\nlove to briefly go over some boundary value\nproblems, specifically",
    "start": "195420",
    "end": "200760"
  },
  {
    "text": "like the collocation and-- JAMES SWAN: OK. AUDIENCE: --Galerkin\nmethods, maybe. JAMES SWAN: Sure.",
    "start": "200760",
    "end": "206080"
  },
  {
    "text": "So OK. So let's just discuss\nboundary value problems first.",
    "start": "206080",
    "end": "213245"
  },
  {
    "text": "Turns out PDEs are a class of\nboundary value problem, too, largely, at least the ones\nthat chemical engineers are interested in.",
    "start": "213245",
    "end": "218780"
  },
  {
    "text": "So if we understand boundary\nvalue problems in general, we should understand how to\nsolve partial differential",
    "start": "218780",
    "end": "224319"
  },
  {
    "text": "equations too. Many classes of partial\ndifferential equations that we're interested in can\nalso be solved in these ways.",
    "start": "224320",
    "end": "230366"
  },
  {
    "text": "So we talked about\nrelaxation methods in general, which were\nthese methods that",
    "start": "230366",
    "end": "237610"
  },
  {
    "text": "rely on somehow discretizing the\ncontinuous function that we're",
    "start": "237610",
    "end": "242890"
  },
  {
    "text": "trying to describe in this\nboundary value problem. So usually, you've got some-- ",
    "start": "242890",
    "end": "250780"
  },
  {
    "text": "linear function,\nsome linear operator that operates on some variable\nthat we're trying to understand",
    "start": "250780",
    "end": "257230"
  },
  {
    "text": "in a boundary value problem. Maybe it's temperature,\nright, equals 0.",
    "start": "257230",
    "end": "263720"
  },
  {
    "text": "So it's going to be something\nlike thermal diffusion. This equation could\nrepresent that.",
    "start": "263720",
    "end": "269350"
  },
  {
    "text": "Could represent some\nadvection diffusion problem in some bounded domain. Could be a PDE. It could just be an ordinary\ndifferential equation, right,",
    "start": "269350",
    "end": "279070"
  },
  {
    "text": "but a boundary value problem. And with this class\nof relaxation methods, we try not to exactly\nsatisfy this equation.",
    "start": "279070",
    "end": "286990"
  },
  {
    "text": "We relax that assumption. We try to somehow\ndiscretize this function.",
    "start": "286990",
    "end": "292500"
  },
  {
    "text": "It could be temperature,\ncould be energy, could be velocity or momentum. It could be lots of\ndifferent things.",
    "start": "292500",
    "end": "297970"
  },
  {
    "text": "Try to relax the constraint that\nthis is satisfied everywhere. And we try to satisfy in some\napproximate sense instead.",
    "start": "297970",
    "end": "305290"
  },
  {
    "text": "So we discussed\ncollocation methods, where we take the domain\nwe're interested in and we divide it up\ninto a series of points.",
    "start": "305290",
    "end": "312520"
  },
  {
    "text": "And we try to satisfy this\nequation at those points. And we have some approximation\nfor the function,",
    "start": "312520",
    "end": "320030"
  },
  {
    "text": "its representation\nat those points. That approximation could\nbe a finite difference approximation.",
    "start": "320030",
    "end": "326530"
  },
  {
    "text": "That approximation could\nbe a basis set expansion. It could be a finite\nvolume approximation.",
    "start": "326530",
    "end": "335590"
  },
  {
    "text": "We could expand in terms\nof local basis functions. That's the finite\nelement method.",
    "start": "335590",
    "end": "340810"
  },
  {
    "text": "We covered all these\ndifferent methods. That involves\nchopping the domain up into a series of\npoints and trying to satisfy the function\nat each of those points.",
    "start": "340810",
    "end": "347760"
  },
  {
    "text": " There was an alternative method,\nthis sort of Galerkin method,",
    "start": "347760",
    "end": "353728"
  },
  {
    "text": "where instead of trying to\nsatisfy the function at each of those points, we have\nsome basis set expansion.",
    "start": "353729",
    "end": "359389"
  },
  {
    "text": "So we have some\napproximate representation of our function in terms\nof these basis sets--",
    "start": "359390",
    "end": "366260"
  },
  {
    "text": "in terms of this basis set. And instead, we try\nto make it be the case that the integral\nof our operator",
    "start": "366260",
    "end": "378510"
  },
  {
    "text": "applied to our approximation-- I'm going to break chalk-- multiplied by each of\nthe basis functions",
    "start": "378510",
    "end": "385500"
  },
  {
    "text": "and then integrated over this\nentire domain is equal to 0.",
    "start": "385500",
    "end": "391870"
  },
  {
    "text": "So we try to satisfy this\nequation with respect",
    "start": "391870",
    "end": "397781"
  },
  {
    "text": "to each of these basis\nfunctions, essentially, right? There's some-- this isn't\ngoing to exactly satisfy the equation.",
    "start": "397782",
    "end": "403184"
  },
  {
    "text": "This is an approximation. It's not going to exactly\nsatisfy the boundary value problem we were after. But the projection\nof the residual,",
    "start": "403184",
    "end": "410880"
  },
  {
    "text": "or how far off we are\nwith this operator, on each of the basis\nfunctions, we're going to try to force to be 0.",
    "start": "410880",
    "end": "416760"
  },
  {
    "text": "So rather than trying to\nget a pointwise solution of the problem, we're going\nto try to sort of smooth out",
    "start": "416760",
    "end": "422910"
  },
  {
    "text": "the error with respect\nto the basis functions and make this\nequation is satisfied",
    "start": "422910",
    "end": "429000"
  },
  {
    "text": "as it possibly can with respect\nto these basis functions. And that's the Galerkin view.",
    "start": "429000",
    "end": "434490"
  },
  {
    "text": "So it's different. It's like you're\ntrying to minimize sort of a global error with\nrespect to the basis functions,",
    "start": "434490",
    "end": "440460"
  },
  {
    "text": "as opposed to a\npointwise error, OK? And again, these basis\nfunctions can be chosen in a lot of different ways.",
    "start": "440460",
    "end": "446355"
  },
  {
    "text": "They can be chosen as\nsort of global functions. They can be things\nlike sines and cosines. We may know that the\nsolution to this equation",
    "start": "446355",
    "end": "453210"
  },
  {
    "text": "looks a lot like sines and\ncosines, so that makes sense. Or we may choose local\nbasis functions instead,",
    "start": "453210",
    "end": "458350"
  },
  {
    "text": "little tent functions in 1D. They're actually tent functions\nin many dimensions as well.",
    "start": "458350",
    "end": "463970"
  },
  {
    "text": "You can imagine sort of\nextending that to look like a tent in many dimensions. That's the finite\nelement method.",
    "start": "463970",
    "end": "471000"
  },
  {
    "text": "So we can choose those basis\nfunctions however we want. And the goal is to just minimize\nthis residual with respect",
    "start": "471000",
    "end": "477090"
  },
  {
    "text": "to each of the basis\nfunctions that we include in our approximate solution. And we would call that a\nreasonable approximation.",
    "start": "477090",
    "end": "484440"
  },
  {
    "text": "Presumably, as the\nnumber of basis functions goes to infinity, this\nis going to converge. That's the applied\nmathematician's job,",
    "start": "484440",
    "end": "490919"
  },
  {
    "text": "to show us that it's going to\nconverge to the true solution of the equations. OK?",
    "start": "490920",
    "end": "497449"
  },
  {
    "start": "497000",
    "end": "768000"
  },
  {
    "text": "So those are the\nmethods that we-- those are the methods\nthat we apply. Good choices of basis\nfunction are important.",
    "start": "497450",
    "end": "504860"
  },
  {
    "text": "So there was this discussion\nabout quantum chemistry, where you're trying to\nsolve the Schrodinger",
    "start": "504860",
    "end": "511760"
  },
  {
    "text": "equation for n electrons,\nthere's 3n degrees of freedom. So a very\nhigh-dimensional space.",
    "start": "511760",
    "end": "517630"
  },
  {
    "text": "How are you going to do that? You do it with basis\nset expansions. And the choice of those basis\nfunctions is really important.",
    "start": "517630",
    "end": "523570"
  },
  {
    "text": "So if you read a\nquantum chemistry paper, you'll see they give a long\nseries of digits and numbers that are meant to indicate which\nbasis set expansion they used.",
    "start": "523570",
    "end": "531440"
  },
  {
    "text": "And for certain\nclasses of problem, some are better than others. And they make the\nproblem actually",
    "start": "531440",
    "end": "536540"
  },
  {
    "text": "solvable when it's not, if you\nwere to just choose your basis functions without care for\nthe physics of the problem.",
    "start": "536540",
    "end": "544800"
  },
  {
    "text": "Sam. AUDIENCE: The last homework,\nin the Galerkin method,",
    "start": "544800",
    "end": "549959"
  },
  {
    "text": "where you multiplied\nby the complex, how did you get one basis\nset, basis functions? Where does that fit into this?",
    "start": "549960",
    "end": "558630"
  },
  {
    "text": "JAMES SWAN: Well, it should\nhave been right here. So technically,\nthe basis functions don't have to be\nreal-valued functions.",
    "start": "558630",
    "end": "564850"
  },
  {
    "text": "They can be\ncomplex-valued functions. And then this is, in some\nsense, a dot product,",
    "start": "564850",
    "end": "571440"
  },
  {
    "text": "an inner product in the space\nof these basic functions. And the proper form\nfor an inner product",
    "start": "571440",
    "end": "576960"
  },
  {
    "text": "when we have\ncomplex-valued things is to take the real part\nof one and multiply it with the complex\npart of another.",
    "start": "576960",
    "end": "583110"
  },
  {
    "text": "So that should have\nbeen right here. This should be the\ncomplex conjugate. OK?",
    "start": "583110",
    "end": "588986"
  },
  {
    "text": "Yeah. AUDIENCE: So when we\ndo the Galerkin method, we necessarily have to\napproximate these derivatives",
    "start": "588986",
    "end": "594810"
  },
  {
    "text": "and things using\nbasis functions. JAMES SWAN: Yes. AUDIENCE: But in the\ncollocation method, there was lots of other\nways that we could do it,",
    "start": "594810",
    "end": "600546"
  },
  {
    "text": "like find differences. I know you mentioned\na few of them earlier. JAMES SWAN: Yes. Yes. AUDIENCE: OK. JAMES SWAN: That's right. AUDIENCE: That [? LOT term ?]\nkind of contains also",
    "start": "600546",
    "end": "607600"
  },
  {
    "text": "the basis function in\nthe Galerkin method, or in the collocation method. JAMES SWAN: Well,\nin the-- if we have",
    "start": "607600",
    "end": "615250"
  },
  {
    "text": "an expansion of the\nsort of objective that we're trying to calculate\nin terms of those basis",
    "start": "615250",
    "end": "620960"
  },
  {
    "text": "functions, L is\nthe real L, right? It is what it is. This is the model\nequation to be solved.",
    "start": "620960",
    "end": "628470"
  },
  {
    "text": "We operate on our approximate\nsolution with the real L. In the collocation method,\nit may be the real L,",
    "start": "628470",
    "end": "636170"
  },
  {
    "text": "or it may be some\napproximation for L. If we do finite differences,\nwe're approximating all these derivatives.",
    "start": "636170",
    "end": "642319"
  },
  {
    "text": "If we do a basis\nset expansion and we try to satisfy that at a\ncertain number of points,",
    "start": "642320",
    "end": "647990"
  },
  {
    "text": "we're not approximating L.\nWe're approximating T instead. So they're a little\nbit different.",
    "start": "647990",
    "end": "654008"
  },
  {
    "text": " More questions?",
    "start": "654008",
    "end": "659579"
  },
  {
    "text": "So that's BVPs. This picture applies\nfor PDEs, too. So this is the integral\nover the domain",
    "start": "659580",
    "end": "666570"
  },
  {
    "text": "of interest, the domain\nthat's bounded by our boundary conditions.",
    "start": "666570",
    "end": "672269"
  },
  {
    "text": "These basis functions don't\nhave to be in one dimension. They can be in any number\nof dimensions we want. We just want them to be good\nbasis functions in principle.",
    "start": "672270",
    "end": "679860"
  },
  {
    "text": "So for finite elements,\nyou use little tents. They're multi-dimensional\ntents, but they're still tents.",
    "start": "679860",
    "end": "685080"
  },
  {
    "text": "The same as these hat\nfunctions that Professor Green talked about in 1D. Just do them in many dimensions.",
    "start": "685080",
    "end": "690779"
  },
  {
    "text": "They work exactly the same way. They're easy to take\nthe derivatives of. These intervals are, for the\nmost part, simple to calculate.",
    "start": "690779",
    "end": "696730"
  },
  {
    "text": "And that's why COMSOL, for\nexample, uses that methodology. It's based on this sort\nof Galerkin picture.",
    "start": "696730",
    "end": "705540"
  },
  {
    "text": "So PDEs, BVPs look very similar. Usually, when we're talking\nabout spatial dimensions,",
    "start": "705540",
    "end": "711920"
  },
  {
    "text": "they look very similar. When we go to the\ntime domain, things get a little more confusing.",
    "start": "711920",
    "end": "717600"
  },
  {
    "text": "That mixes together what we\nknow from ODE IVPs with what we know from boundary\nvalue problems now.",
    "start": "717600",
    "end": "723980"
  },
  {
    "text": "So you talked about\nthe method of lines last time as one\nway of studying, for example, parabolic partial\ndifferential equations.",
    "start": "723980",
    "end": "731430"
  },
  {
    "text": "You have the spatial\ndiscretization like this. And then in time, you have\nsome ODE IVP technique",
    "start": "731430",
    "end": "737970"
  },
  {
    "text": "that you integrate forward. You rely on these\nrobust ODE methods that know how to control\nthe numerical error,",
    "start": "737970",
    "end": "744240"
  },
  {
    "text": "can detect, maybe, when there's\nsome sort of an instability and try to damp it out by\naltering the time step so",
    "start": "744240",
    "end": "752190"
  },
  {
    "text": "that things stay stable. Yes? AUDIENCE: I can't\nvisualize the local basis.",
    "start": "752190",
    "end": "757990"
  },
  {
    "text": "Can you give me an [INAUDIBLE]\nexpression for the local basis? JAMES SWAN: Sure.",
    "start": "757990",
    "end": "763460"
  },
  {
    "start": "763460",
    "end": "769515"
  },
  {
    "start": "768000",
    "end": "1044000"
  },
  {
    "text": "So first of all, there are a\nlot of local basis functions we could write down, OK? AUDIENCE: This is\njust one of them. JAMES SWAN: There\nare many of them. So yes, let's do the hat.",
    "start": "769515",
    "end": "776310"
  },
  {
    "text": "OK? ",
    "start": "776310",
    "end": "783270"
  },
  {
    "text": "Let's suppose I\nhave this line in x, and I target in my\ncollocation method",
    "start": "783270",
    "end": "789630"
  },
  {
    "text": "a series of points, column\nx i minus 1, xi, x i plus 1, and they extend\nwell beyond here.",
    "start": "789630",
    "end": "795279"
  },
  {
    "text": "It doesn't matter\nwhere they are. I choose where they are based\non the physics of the problem. I'll put them where\nI want them to go.",
    "start": "795280",
    "end": "802230"
  },
  {
    "text": "And in fact, you might even\ntry to optimize where they go. So you might start with\nsome distribution of them,",
    "start": "802230",
    "end": "807960"
  },
  {
    "text": "and then move them\naround in some way to improve the quality\nof your solution, right? Maybe you distribute\nthem uniformly at first,",
    "start": "807960",
    "end": "814060"
  },
  {
    "text": "and then you notice, oh,\nmy solution is changing very quickly over here. I would like more\npoints in this region.",
    "start": "814060",
    "end": "822091"
  },
  {
    "text": "In MATLAB, there's\na function called bvp4c, which is a boundary\nvalue problem solver. It solves 1D boundary\nvalue problems.",
    "start": "822091",
    "end": "828506"
  },
  {
    "text": "And it does precisely this. It uses finite differences\nand collocation. And the good thing\nabout it is it's",
    "start": "828506",
    "end": "834090"
  },
  {
    "text": "trying to adaptively\nchange where these points are positioned. So it solves it, it looks where\nthings are changing quickly,",
    "start": "834090",
    "end": "840930"
  },
  {
    "text": "and tries to shift its points\naround and resolve it in order to improve the quality\nof the solution,",
    "start": "840930",
    "end": "847120"
  },
  {
    "text": "hit certain targets\nfor the error. So what are these-- what\nwould these local basis",
    "start": "847120",
    "end": "852750"
  },
  {
    "text": "functions look like? So we talked about these hats. They're 1 here. ",
    "start": "852750",
    "end": "858990"
  },
  {
    "text": "They're going to be 0 on\neither side of this point. We could call this our hat i,\nwhich is centered at point xi.",
    "start": "858990",
    "end": "867940"
  },
  {
    "text": "And it's going to be a\npiecewise sort of function.",
    "start": "867940",
    "end": "873720"
  },
  {
    "text": "It's going to be an increasing\nlinear function between x i minus 1 and xi.",
    "start": "873720",
    "end": "879120"
  },
  {
    "text": "So for x between xi and x i\nminus 1, it'll have one form.",
    "start": "879120",
    "end": "884510"
  },
  {
    "text": "Then it's going to switch. It's going to be a decreasing\nfunction on the other side. So between xi and x i plus 1,\nit'll have a different form.",
    "start": "884510",
    "end": "895060"
  },
  {
    "text": "So here, it's going to\nincrease between 0 and 1. So it's going to have\nto look something like x minus x i minus 1\ndivided by xi minus x i minus 1.",
    "start": "895060",
    "end": "907649"
  },
  {
    "text": "So it goes from 0 to 1. And then on the other\nside, it's going to have to have\nthe opposite sign.",
    "start": "907650",
    "end": "913920"
  },
  {
    "text": "So this is going to\nhave to look like-- let's see, x minus x i plus 1\ndivided by xi minus x i plus 1.",
    "start": "913920",
    "end": "924250"
  },
  {
    "text": "Will that do it? I think so. OK? You want me to make\nit look like this one.",
    "start": "924250",
    "end": "930130"
  },
  {
    "text": "So we could have plus 1 xi,\nand then put a minus sign in front of it if you want.",
    "start": "930130",
    "end": "935210"
  },
  {
    "text": "You decide how you\nwant to write it. But it describes this line\nhere and this line here. But there are other choices.",
    "start": "935210",
    "end": "942420"
  },
  {
    "text": "So it doesn't have to be\npiecewise linear necessarily. A lot of times, people\nchoose different types",
    "start": "942420",
    "end": "948700"
  },
  {
    "text": "of splines, different types\nof interpolating functions. They might not be\nlocalized to one point.",
    "start": "948700",
    "end": "954130"
  },
  {
    "text": "They might be localized\nover a few points. Maybe something about the\nphysics of a particular problem",
    "start": "954130",
    "end": "959260"
  },
  {
    "text": "that tell you,\nyou can't get away with these piecewise\nlinear functions.",
    "start": "959260",
    "end": "964270"
  },
  {
    "text": "They're not good\nenough to describe, say, higher-order\nderivatives in your equation. So you might instead\ninterpolate with, I don't know,",
    "start": "964270",
    "end": "971800"
  },
  {
    "text": "like a quadratic basis function\nthat spans a few more points. That'd be fine. It would be easy to do the\nintegration in your Galerkin",
    "start": "971800",
    "end": "978400"
  },
  {
    "text": "method. You just do these integrals out. They're complicated, but you do\nthem once for a generic point",
    "start": "978400",
    "end": "984880"
  },
  {
    "text": "xi, and you know their value\nfor every point in the domain. So you choose them. You choose the basis set.",
    "start": "984880",
    "end": "990901"
  },
  {
    "text": " But that'll give me an equation\nfor the tent function centered",
    "start": "990901",
    "end": "996910"
  },
  {
    "text": "at xi. That's the tent function\ncentered at any point in the domain, in principle.",
    "start": "996910",
    "end": "1002250"
  },
  {
    "text": "In many dimensions, right--\nso if I have two dimensions, you see in COMSOL, you have\na sort of a triangular mesh.",
    "start": "1002250",
    "end": "1010994"
  },
  {
    "text": "And what does my\ntent function do? It sort of stands up, stands\nup above the triangle.",
    "start": "1010994",
    "end": "1018029"
  },
  {
    "text": "It's a real tent now. It's coming out of the board. Can you see it? Put on your 3D glasses. You'll see it. But it's coming\nout of the board.",
    "start": "1018030",
    "end": "1023860"
  },
  {
    "text": "It has height 1 above\nthis triangular domain. It sits at the center of\nthe triangle, for example. It's one way to\ndraw these elements.",
    "start": "1023860",
    "end": "1030010"
  },
  {
    "text": "There are actually many\nways to draw these elements. This is just one way of\ndrawing these elements. OK?",
    "start": "1030010",
    "end": "1036560"
  },
  {
    "text": "Good. Other questions? AUDIENCE: Could you\nplease explain why central",
    "start": "1036560",
    "end": "1041646"
  },
  {
    "text": "differencing is second-order\naccurate and not-- JAMES SWAN: Oh, good question. ",
    "start": "1041646",
    "end": "1048697"
  },
  {
    "start": "1044000",
    "end": "1591000"
  },
  {
    "text": "Good question. So why is central differencing\nsecond-order accurate? ",
    "start": "1048697",
    "end": "1056770"
  },
  {
    "text": "So the central\ndifference formula says that the derivative\nof a function x",
    "start": "1056770",
    "end": "1064270"
  },
  {
    "text": "could be written as-- let's see, f at x i plus\n1 minus f at x i minus 1,",
    "start": "1064270",
    "end": "1073450"
  },
  {
    "text": "divided by 2 delta x. Or let's say these aren't\nequally spaced points.",
    "start": "1073450",
    "end": "1079662"
  },
  {
    "text": "Well, let's make these\nequally spaced points for now. Let's make it easy. So let's say x i plus\ndelta x and x i minus--",
    "start": "1079662",
    "end": "1091149"
  },
  {
    "text": "it'll make our lives easier\nif we do it this way. It can be generalized, but let's\ndo it the easiest possible way.",
    "start": "1091149",
    "end": "1096190"
  },
  {
    "text": "And this is the derivative\nat the point xi. Graphically, here's\nx, here's xi.",
    "start": "1096190",
    "end": "1104890"
  },
  {
    "text": "Here's my function. I want to know what\nthe slope here is. ",
    "start": "1104890",
    "end": "1111340"
  },
  {
    "text": "And I'm going to approximate it\nby looking one point upstream and one point downstream.",
    "start": "1111340",
    "end": "1117000"
  },
  {
    "text": "And I'm going to connect\nthose points with a line. You would agree that\nas the spacing gets",
    "start": "1117000",
    "end": "1122799"
  },
  {
    "text": "smaller and smaller, it will be\na good approximation for what the derivative is. So why is it\nsecond-order accurate?",
    "start": "1122800",
    "end": "1128370"
  },
  {
    "text": "So you can show that. It's not too hard. You can show that using\nTaylor series expansion.",
    "start": "1128370",
    "end": "1135190"
  },
  {
    "text": "Like everything\nelse in this course, the Taylor series\nis really a key. So let's look at it.",
    "start": "1135190",
    "end": "1140230"
  },
  {
    "text": "So f at x i plus delta x.",
    "start": "1140230",
    "end": "1145745"
  },
  {
    "text": "I want to write this\nas a Taylor series expansion about the point xi. So tell me the first term.",
    "start": "1145745",
    "end": "1153121"
  },
  {
    "text": "f of xi.  OK, tell me the second term.",
    "start": "1153121",
    "end": "1159841"
  },
  {
    "text": "AUDIENCE: f prime at xi. JAMES SWAN: f prime at xi. Times?",
    "start": "1159842",
    "end": "1165490"
  },
  {
    "text": "AUDIENCE: Delta x. JAMES SWAN: Delta x. Tell me the third term. AUDIENCE: 1/2 f double prime.",
    "start": "1165490",
    "end": "1172400"
  },
  {
    "text": "JAMES SWAN: 1/2 f\ndouble prime at? AUDIENCE: Xi. JAMES SWAN: Times? AUDIENCE: Delta x squared.",
    "start": "1172400",
    "end": "1179800"
  },
  {
    "text": "JAMES SWAN: How big\nis the third term? AUDIENCE: [INAUDIBLE]. JAMES SWAN: OK. ",
    "start": "1179800",
    "end": "1187270"
  },
  {
    "text": "Is this always true, by the way? This? Not always, right?",
    "start": "1187270",
    "end": "1192597"
  },
  {
    "text": "There are lots of functions,\nnon-analytic functions that don't have these\nsorts of expansions. So we're sort of--",
    "start": "1192597",
    "end": "1198007"
  },
  {
    "text": "we've got to have a function\nthat has these derivatives. They need to exist\nat the point xi. Let's assume that's true, OK?",
    "start": "1198007",
    "end": "1204640"
  },
  {
    "text": "Good. OK, now I'm going to do\nsomething really simple. Let's write f at\nx i minus delta x.",
    "start": "1204640",
    "end": "1215644"
  },
  {
    "text": "And let's just point\nout the differences between these two formulas. So this is the same.",
    "start": "1215644",
    "end": "1222140"
  },
  {
    "text": "This switches sign because\ndelta x switched signs.",
    "start": "1222140",
    "end": "1227467"
  },
  {
    "text": "It was plus delta x. Now it's minus delta x. This is the same, delta x\nsquared, same as minus delta",
    "start": "1227467",
    "end": "1235940"
  },
  {
    "text": "x squared. Doesn't matter. This one down here-- well, OK. It's order delta x cubed.",
    "start": "1235940",
    "end": "1242085"
  },
  {
    "text": " It'll actually look the same\nbut have the opposite sign.",
    "start": "1242085",
    "end": "1248781"
  },
  {
    "text": "OK? ",
    "start": "1248781",
    "end": "1255070"
  },
  {
    "text": "We can't resolve it, though. That's sort of the\ntricky part, right? We don't know.",
    "start": "1255070",
    "end": "1261250"
  },
  {
    "text": "We don't know for sure\nwhat value that takes on. This just gives us\na bound for how big",
    "start": "1261250",
    "end": "1266529"
  },
  {
    "text": "the error is in this expansion. ",
    "start": "1266530",
    "end": "1271760"
  },
  {
    "text": "So let's now compute\nwhat's in that formula. So if you take the difference\nbetween this and this,",
    "start": "1271760",
    "end": "1278620"
  },
  {
    "text": "these two will cancel. These two will combine.",
    "start": "1278620",
    "end": "1283830"
  },
  {
    "text": "I'll get 2 f prime\nxi times delta x.",
    "start": "1283830",
    "end": "1290260"
  },
  {
    "text": "These two will cancel. So I'll get 0. These two, I can't rely\non them necessarily",
    "start": "1290260",
    "end": "1300889"
  },
  {
    "text": "canceling each other out. In fact, they want to\ncombine in principle, right? We've just bounded the error. Here, we don't really\nknow what it is,",
    "start": "1300889",
    "end": "1306903"
  },
  {
    "text": "but it gives me something that's\norder delta x cubed in size.",
    "start": "1306903",
    "end": "1313750"
  },
  {
    "text": "So this is the-- this is 1 minus 2.",
    "start": "1313750",
    "end": "1324390"
  },
  {
    "text": "It's 2 f prime xi times\ndelta x plus the error, which is order delta x cubed.",
    "start": "1324390",
    "end": "1330760"
  },
  {
    "text": "If I divide by 2 delta x--  I know you guys hate it when\nthe instructor does this,",
    "start": "1330760",
    "end": "1337550"
  },
  {
    "text": "but you know, you can't help it. Divide by delta x, the error\nbecomes order delta x squared.",
    "start": "1337550",
    "end": "1344360"
  },
  {
    "text": "So if the derivative is this\nthing plus some order delta x squared piece, it's\nsecond-order accurate,",
    "start": "1344360",
    "end": "1351680"
  },
  {
    "text": "we would say, right? The error is going to be reduced\nlike the square of the spacing.",
    "start": "1351680",
    "end": "1359220"
  },
  {
    "text": "Now you can imagine all the\nfinite difference formulas out there in the world are\nconstructed in this way.",
    "start": "1359220",
    "end": "1364730"
  },
  {
    "text": "You use Taylor series expansion. You've got as many\nterms as you need to go for the level\nof accuracy you're trying to achieve for different\npoints based in different ways.",
    "start": "1364730",
    "end": "1372530"
  },
  {
    "text": "And you try to dream up\nsome linear combination of these things so that you get\na certain level of accuracy.",
    "start": "1372530",
    "end": "1380180"
  },
  {
    "text": "They're also not unique. I can construct these in\na lot of different ways and have the same sort\nof error level out here,",
    "start": "1380180",
    "end": "1389780"
  },
  {
    "text": "but different coefficients\nassociated with the error, but the same overall scaling. And then you might choose\ndifferent approximations",
    "start": "1389780",
    "end": "1395870"
  },
  {
    "text": "for other reasons. Sam. AUDIENCE: What would\nstop me from going on further and then\njust subtracting f prime from both sides?",
    "start": "1395870",
    "end": "1401900"
  },
  {
    "text": "I mean, it wouldn't\nreally tell me anything, except maybe the order of\n[INAUDIBLE] approximately 0.",
    "start": "1401900",
    "end": "1409699"
  },
  {
    "text": "JAMES SWAN: Well, I mean, yeah. So let's say you go out further. What's the next term here? It's going to be 1 over 6 f\ntriple prime xi delta x cubed.",
    "start": "1409699",
    "end": "1421130"
  },
  {
    "text": "And here, you'll have minus that\nbecause I cubed the delta x. So when I combine\nthem, I'll actually",
    "start": "1421130",
    "end": "1426890"
  },
  {
    "text": "get 1 over 3 f triple prime. So I could do a little better. If I knew what my\nfunction was, I",
    "start": "1426890",
    "end": "1432404"
  },
  {
    "text": "can tell you exactly\nhow big the error was. I can tell you\nthat it was as big as the third derivative of f.",
    "start": "1432404",
    "end": "1439263"
  },
  {
    "text": "My function doesn't have a\nthird derivative at that point. The error might be huge. And it's possible to\nconstruct functions that lack",
    "start": "1439264",
    "end": "1447080"
  },
  {
    "text": "that particular property, OK? So you can go further, and you\ncan use it to sort of quantify",
    "start": "1447080",
    "end": "1452480"
  },
  {
    "text": "exactly how many you\nthink the error might be in the approximation. But it's all constructed\nfrom linear combinations",
    "start": "1452480",
    "end": "1459740"
  },
  {
    "text": "of different Taylor expansions\nabout nearby points. And the related\nproblem, actually,",
    "start": "1459740",
    "end": "1467810"
  },
  {
    "text": "the equivalent problem is\npolynomial interpolation. So the sort of--",
    "start": "1467810",
    "end": "1473620"
  },
  {
    "text": "if you can somehow, in your\nmind, transpose this problem, it looks a lot like\npolynomial interpolation. So these two are intimately\nrelated to each other.",
    "start": "1473620",
    "end": "1481752"
  },
  {
    "text": "OK? Yes. AUDIENCE: How much\ndo we have to know about polynomial interpolation?",
    "start": "1481752",
    "end": "1487441"
  },
  {
    "text": "JAMES SWAN: How much\ndo you have to know about polynomial interpolation? AUDIENCE: Yeah, like, do we\nhave to be able to compute",
    "start": "1487441",
    "end": "1492840"
  },
  {
    "text": "the primes and polynomials? JAMES SWAN: Say that again. AUDIENCE: Do we have\nto be able to compute the primes of polynomials?",
    "start": "1492840",
    "end": "1499610"
  },
  {
    "text": "[INAUDIBLE] JAMES SWAN: What do I\nwant to say about that?",
    "start": "1499610",
    "end": "1507186"
  },
  {
    "text": "I wouldn't expect\nthat level of detail.",
    "start": "1507186",
    "end": "1512190"
  },
  {
    "text": "I think it's quite\ndifficult to construct Lagrange polynomial\nexpansions by hand.",
    "start": "1512190",
    "end": "1517370"
  },
  {
    "text": "I don't know anyone\nwho does that professionally or for pleasure. ",
    "start": "1517370",
    "end": "1524660"
  },
  {
    "text": "I think that's a bad idea. You should understand\npolynomial interpolation. You should understand\nthe context",
    "start": "1524660",
    "end": "1530420"
  },
  {
    "text": "in which it's important. What is polynomial interpolation\nimportant for, numerically?",
    "start": "1530420",
    "end": "1537150"
  },
  {
    "text": "Do you recall? Hersch. AUDIENCE: Numerical integration. JAMES SWAN: Numerical\nintegration, right. So this was really the key\nto numerical integration,",
    "start": "1537150",
    "end": "1544220"
  },
  {
    "text": "was trying to construct\nappropriate approximations of our function from\na finite set of data",
    "start": "1544220",
    "end": "1550760"
  },
  {
    "text": "and figure out the\narea under the curve. So you should understand how one\nuses polynomial interpolation",
    "start": "1550760",
    "end": "1556940"
  },
  {
    "text": "to do numerical integration. But I wouldn't expect us to\nask you to actually compute",
    "start": "1556940",
    "end": "1563350"
  },
  {
    "text": "a polynomial interpolant\nand numerically integrate it by hand. I think that's too much.",
    "start": "1563350",
    "end": "1570909"
  },
  {
    "text": "OK? AUDIENCE: OK. JAMES SWAN: OK. More questions. ",
    "start": "1570910",
    "end": "1577450"
  },
  {
    "text": "Hersch. AUDIENCE: Now do\nyou mind showing how the trapezoid rule is\nover delta t squared accurate?",
    "start": "1577450",
    "end": "1586042"
  },
  {
    "text": "JAMES SWAN: Sure.  AUDIENCE: For ODE IVPs.",
    "start": "1586042",
    "end": "1592240"
  },
  {
    "start": "1591000",
    "end": "2011000"
  },
  {
    "text": "JAMES SWAN: For ODE-- AUDIENCE: IVPs. JAMES SWAN: ODE IVP, OK. ",
    "start": "1592240",
    "end": "1604490"
  },
  {
    "text": "OK, so we have to have\nan ODE we want to solve. Can I just do-- can I do\na one-dimensional unknown?",
    "start": "1604490",
    "end": "1610321"
  },
  {
    "text": "Do I need to do a vector here? Can I just-- would\nyou be satisfied if I wrote this as f of\ny and t and that it's",
    "start": "1610321",
    "end": "1618174"
  },
  {
    "text": "sufficiently general? That way, you don't\nhave to blame me when I forget to underscore\nthings along the way. And we don't have to\nthink about the Jacobian",
    "start": "1618175",
    "end": "1623870"
  },
  {
    "text": "or anything like that. OK. So oh, time derivative, right? So there's the ODE\nwe're going to solve.",
    "start": "1623870",
    "end": "1630530"
  },
  {
    "text": " The trapezoid rule. ",
    "start": "1630530",
    "end": "1639750"
  },
  {
    "text": "OK, so let's do this\nthe following way.",
    "start": "1639750",
    "end": "1645112"
  },
  {
    "text": "It's actually going to wind up\nlooking very similar to what we just did, which is useful. I might even be able to pull\nthat board down and reuse it",
    "start": "1645112",
    "end": "1650975"
  },
  {
    "text": "at a certain point. So that'll be good. Let's do this. So what is-- ultimately,\nwhat is ODE IVP solving like?",
    "start": "1650975",
    "end": "1659129"
  },
  {
    "text": "What are you trying to do when\nyou solve one of these things? AUDIENCE: Extrapolate. JAMES SWAN: It's\nextrapolation, right?",
    "start": "1659129",
    "end": "1666540"
  },
  {
    "text": "I know the value of y initially. I'm trying to figure out where\nthe hell this thing is going.",
    "start": "1666540",
    "end": "1673669"
  },
  {
    "text": "I've got to extrapolate for it. And you should be very\nuncomfortable with the notion that I can do that, right?",
    "start": "1673670",
    "end": "1680240"
  },
  {
    "text": "How good a job can I do\npredicting the future knowing how things are now?",
    "start": "1680240",
    "end": "1685700"
  },
  {
    "text": "It's really quite complicated. In fact, it's so\ncomplicated, there",
    "start": "1685700",
    "end": "1691370"
  },
  {
    "text": "are certain circumstances in\nwhich it's not really possible. Discovered here\nat MIT, actually.",
    "start": "1691370",
    "end": "1696590"
  },
  {
    "text": "So there was weather\nresearch going on at a certain point at MIT. It's a very famous case.",
    "start": "1696590",
    "end": "1702200"
  },
  {
    "text": "A researcher, a very\nfamous researcher was doing numerical simulations\nof a weather model in an ODE",
    "start": "1702200",
    "end": "1708049"
  },
  {
    "text": "IVP. He ran it for a\nwhile, and he stopped. He looked at his end\nstate, the last value of y",
    "start": "1708050",
    "end": "1715630"
  },
  {
    "text": "in his simulation. He put in three digits, used\nthat as the initial condition, and started his simulation\nagain, and it went wacky.",
    "start": "1715630",
    "end": "1723340"
  },
  {
    "text": "Didn't look anything like\nthe initial solution. OK? How did that happen?",
    "start": "1723340",
    "end": "1728400"
  },
  {
    "text": "It seemed fine up to that point. Solution's cranking along. He stopped.",
    "start": "1728400",
    "end": "1734577"
  },
  {
    "text": "He took three digits\naccuracy out of the computer, and he started again. And it, I don't know,\ndid something else.",
    "start": "1734577",
    "end": "1740450"
  },
  {
    "text": "So there are problems that are\ninherently chaotic and very sensitive to their\ninitial conditions.",
    "start": "1740450",
    "end": "1745780"
  },
  {
    "text": "They're hard to resolve. So the entire point of\ndoing this sort of analysis",
    "start": "1745780",
    "end": "1751090"
  },
  {
    "text": "of ODE IVPs is, at least\nin the best-case scenarios, we want to try to manage\nthe error associated",
    "start": "1751090",
    "end": "1758530"
  },
  {
    "text": "with these kinds\nof extrapolation. In some case, it's\nreally not very possible. You don't know the\ninitial conditions",
    "start": "1758530",
    "end": "1765070"
  },
  {
    "text": "well enough to predict\nwhat the final state is. So there are problems\nthat are inherently",
    "start": "1765070",
    "end": "1770650"
  },
  {
    "text": "unstable or sensitive to\ntheir initial conditions. They don't have\nto blow up either. They can find themselves\nmoving through the phase space",
    "start": "1770650",
    "end": "1778240"
  },
  {
    "text": "in some way that's\nvery, very sensitive. And two points that\nstart very close together can wind up very\nfar apart from each other.",
    "start": "1778240",
    "end": "1785710"
  },
  {
    "text": "So that's deterministic chaos. But outside of those problems,\nwe try to do this extrapolation",
    "start": "1785710",
    "end": "1791470"
  },
  {
    "text": "and figure out sort of a\nbest approximation for where we think our target\nfunction is going.",
    "start": "1791470",
    "end": "1800830"
  },
  {
    "text": "So what are we trying to do? In principle, we know\ny at a certain point.",
    "start": "1800830",
    "end": "1808470"
  },
  {
    "text": "And we want to know\nwhere it's going to go. And so you might say, well,\nmaybe I know dy dt initially.",
    "start": "1808470",
    "end": "1817670"
  },
  {
    "text": "And so I should just\nmove a small increment along that slope.",
    "start": "1817670",
    "end": "1822900"
  },
  {
    "text": "And that's a good approximation. That's the forward\nEuler approximation. Trapezoid rule--\nor equivalently,",
    "start": "1822900",
    "end": "1828510"
  },
  {
    "text": "the midpoint rule-- says, well, maybe\nthat initial slope",
    "start": "1828510",
    "end": "1834970"
  },
  {
    "text": "isn't really the\nright one to use. Maybe y does\nsomething like this, and we should actually\nlook sort of halfway",
    "start": "1834970",
    "end": "1843840"
  },
  {
    "text": "between the point we're\ntrying to extrapolate to and the current point, and\nuse that value as the best",
    "start": "1843840",
    "end": "1850860"
  },
  {
    "text": "approximation of the\nderivative and extrapolate for it along that. And it turns out\nthat's more accurate.",
    "start": "1850860",
    "end": "1855930"
  },
  {
    "text": "So what does that look like? So one typically\nsays, you know, y",
    "start": "1855930",
    "end": "1862610"
  },
  {
    "text": "i plus 1 is equal to yi\nplus delta t times f y",
    "start": "1862610",
    "end": "1873570"
  },
  {
    "text": "i plus 1/2 comma. And we won't worry\nabout the t here, but it's going to have\nto be t i plus 1/2.",
    "start": "1873570",
    "end": "1882080"
  },
  {
    "text": "So I look halfway\nforward in time. And I say, that's the slope,\nthat's the derivative of y.",
    "start": "1882080",
    "end": "1887970"
  },
  {
    "text": "So let me step forward\nalong that line. It turns out this is going to\nbe reasonably accurate if I",
    "start": "1887970",
    "end": "1894510"
  },
  {
    "text": "can get a good approximation\nfor y i plus 1/2. OK?",
    "start": "1894510",
    "end": "1899621"
  },
  {
    "text": "OK. So let's-- [COUGH]. Excuse me. Yeah.",
    "start": "1899621",
    "end": "1904640"
  },
  {
    "text": "AUDIENCE: Is this the\nmidpoint method or-- JAMES SWAN: They're functionally\nequivalent to each other. They work in precisely\nthe same fashion.",
    "start": "1904640",
    "end": "1912340"
  },
  {
    "text": "So whether it's the trapezoidal\nrule or the midpoint method, they have fundamentally\nthe same pictures there.",
    "start": "1912340",
    "end": "1919419"
  },
  {
    "text": "OK?  Here, if you do\nforward Euler, you're",
    "start": "1919420",
    "end": "1924840"
  },
  {
    "text": "doing numerical integration,\nassuming the slope is the value at this point. If you're doing the midpoint\nmethod or the trapezoid rule,",
    "start": "1924840",
    "end": "1931710"
  },
  {
    "text": "you're trying to get a better\napproximation for the slope, right? So you're trying to\nbuild a trapezoid and integrate the area\nunder that trapezoid.",
    "start": "1931710",
    "end": "1938260"
  },
  {
    "text": "So they're fundamentally\nthe same thing. Now the question becomes, I\ndon't know f at y i plus 2.",
    "start": "1938260",
    "end": "1947810"
  },
  {
    "text": "So I need to use a Taylor\nexpansion of this quantity in terms of the value\nof f that I know.",
    "start": "1947810",
    "end": "1953510"
  },
  {
    "text": "So I need to expand this\nin terms of f at yi. And I'll know the derivative\nof y with respect to t at yi.",
    "start": "1953510",
    "end": "1963769"
  },
  {
    "text": "I know it from this formula. So if I take this\nTaylor expansion and I carry it out to the\nfirst term I don't know,",
    "start": "1963770",
    "end": "1972520"
  },
  {
    "text": "which is the order\ndelta t squared term, and I carry through\nall of the errors, I'll find out that there's a\nnumerical error proportional",
    "start": "1972520",
    "end": "1981460"
  },
  {
    "text": "to order delta t squared. So I need to do exactly\nthis and substitute",
    "start": "1981460",
    "end": "1990560"
  },
  {
    "text": "in terms of quantities I know\nand quantities I don't know. And the leading-order\ncontribution",
    "start": "1990560",
    "end": "1996050"
  },
  {
    "text": "of the quantities I don't know\nwill give me this order delta t squared piece. And that'll give me\nthe local truncation",
    "start": "1996050",
    "end": "2001755"
  },
  {
    "text": "error in the solution. Does that make sense? So it's still Taylor expansions.",
    "start": "2001755",
    "end": "2008159"
  },
  {
    "text": "Good. Other questions. Yes.",
    "start": "2008160",
    "end": "2013170"
  },
  {
    "start": "2011000",
    "end": "2151000"
  },
  {
    "text": "AUDIENCE: Why is the central\ndifference 0, not [INAUDIBLE]?? ",
    "start": "2013170",
    "end": "2020324"
  },
  {
    "text": "JAMES SWAN: Why is the\ncentral difference-- AUDIENCE: No, why's the\noutlook [INAUDIBLE] the one we did [INAUDIBLE]?",
    "start": "2020324",
    "end": "2029306"
  },
  {
    "text": "That one is not implicit, right? JAMES SWAN: I don't think\nI said anything like that.",
    "start": "2029306",
    "end": "2038020"
  },
  {
    "text": "So implicit versus\nexplicit really depends on what\nyou're trying to do.",
    "start": "2038020",
    "end": "2044350"
  },
  {
    "text": "So if I'm trying to use\na central difference formula of some sort to solve\nan ODE which progresses forward",
    "start": "2044350",
    "end": "2053050"
  },
  {
    "text": "in time-- it has a direction associated\nwith it that things always progress in-- then this\nmight be an explicit formula.",
    "start": "2053050",
    "end": "2061540"
  },
  {
    "text": "Because I could solve for f at\nx i plus 1 in terms of what's",
    "start": "2061540",
    "end": "2067600"
  },
  {
    "text": "going on in the past. If we tried to do finite\ndifferences in a boundary value",
    "start": "2067600",
    "end": "2072609"
  },
  {
    "text": "problem instead, and that\nboundary value problem doesn't have some direction\nassociated with it anymore--",
    "start": "2072610",
    "end": "2079210"
  },
  {
    "text": "so it's not like space has\nsome preferred direction. Time goes in a\npreferred direction. Space does not.",
    "start": "2079210",
    "end": "2085960"
  },
  {
    "text": "You may find that the pointwise\nequations you write down cannot be solved strictly in\nterms of one of these.",
    "start": "2085960",
    "end": "2094164"
  },
  {
    "text": "You can't just move this to\nthe other side of the equation and solve in terms\nof everything else. So you'll have a\ncoupled set of equations",
    "start": "2094164",
    "end": "2100450"
  },
  {
    "text": "that can't be diagonalized,\ncan't be simply reduced.",
    "start": "2100450",
    "end": "2106472"
  },
  {
    "text": "They won't have the form\nof, say, of triangular matrix, for example. This will happen.",
    "start": "2106472",
    "end": "2112180"
  },
  {
    "text": "And in that case, you would\nsay this formula is implicit. So it really depends on which\nproblem you're trying to solve,",
    "start": "2112180",
    "end": "2117610"
  },
  {
    "text": "whether you label them\nexplicit or implicit. Explicit is going to\nmean that the data I want",
    "start": "2117610",
    "end": "2124810"
  },
  {
    "text": "can be found with\na simple equation solve in terms of\nthe data I know.",
    "start": "2124810",
    "end": "2129844"
  },
  {
    "text": "Implicit is going\nto mean I've got to do some complicated\nequation-solving methodology.",
    "start": "2129844",
    "end": "2135540"
  },
  {
    "text": "I've got to go do\nGaussian elimination, or I need to go to fsolve\nand solve this thing.",
    "start": "2135540",
    "end": "2140650"
  },
  {
    "text": "The data that I want\nis not available through some simple scheme where\nI can just write explicitly",
    "start": "2140650",
    "end": "2147579"
  },
  {
    "text": "a thing I want equals some\nfunction of things I know. OK? ",
    "start": "2147580",
    "end": "2154636"
  },
  {
    "start": "2151000",
    "end": "2536000"
  },
  {
    "text": "Other questions.  OK.",
    "start": "2154636",
    "end": "2160460"
  },
  {
    "text": "Yeah. Yeah, yeah. AUDIENCE: [INAUDIBLE],, how\nmany questions will there be? And for each question,\nhow many subquestions?",
    "start": "2160460",
    "end": "2167082"
  },
  {
    "text": "Could you just roughly-- JAMES SWAN: Oh, man. ",
    "start": "2167082",
    "end": "2172545"
  },
  {
    "text": "The question was,\nhow many questions and how many\nsubquestions on the quiz? Yeah.",
    "start": "2172545",
    "end": "2179510"
  },
  {
    "text": "The quiz is-- in\nmy opinion, it's now shorter than the\nlast one that you took.",
    "start": "2179510",
    "end": "2187800"
  },
  {
    "text": "We've been pretty\nsensitive to time concerns. We know that was\nsomething that was an issue on the previous quiz.",
    "start": "2187800",
    "end": "2194820"
  },
  {
    "text": "I think there's only going\nto be two problems on it.",
    "start": "2194820",
    "end": "2201090"
  },
  {
    "text": "They have many parts,\nbut we've really tried to refine the\nquestions in those parts.",
    "start": "2201090",
    "end": "2208530"
  },
  {
    "text": "That's what you should expect. It's comprehensive. It Covers all the things\nfrom this section. OK?",
    "start": "2208530",
    "end": "2214230"
  },
  {
    "text": "Yes. AUDIENCE: Also, DAEs problem-- JAMES SWAN: Yeah. AUDIENCE: It says that\nas index increases,",
    "start": "2214230",
    "end": "2221760"
  },
  {
    "text": "we have less degrees of freedom. JAMES SWAN: Yes. AUDIENCE: Could you explain?",
    "start": "2221760",
    "end": "2227510"
  },
  {
    "text": "JAMES SWAN: Sure. Sure. So higher-index DAEs\ncome up all the time.",
    "start": "2227510",
    "end": "2236340"
  },
  {
    "text": "And the degrees\nof freedom refers to your ability to\nchoose initial conditions",
    "start": "2236340",
    "end": "2243820"
  },
  {
    "text": "for the problem. And we saw several\nexamples in which, if we tried to convert\nthat DAE to an ODE,",
    "start": "2243820",
    "end": "2254110"
  },
  {
    "text": "we found along the way that\nthere were certain hidden conditions that all the\ninitial conditions would need",
    "start": "2254110",
    "end": "2259210"
  },
  {
    "text": "to satisfy in order for\nthis ODE, the system of ODEs that we built from the DAEs, to\nfollow the same solution path",
    "start": "2259210",
    "end": "2267550"
  },
  {
    "text": "or solution manifold as the\noriginal DAE system would follow.",
    "start": "2267550",
    "end": "2272860"
  },
  {
    "text": "The higher the\nindex is, the more of these hidden\nconstraints you find. ",
    "start": "2272860",
    "end": "2278829"
  },
  {
    "text": "And those hidden\nconstraints tell you that the initial conditions\nhave to be very particular. So there are--",
    "start": "2278830",
    "end": "2284261"
  },
  {
    "text": "I would encourage you to\nlook at the specific examples in the notes. And you'll see there\nwas a simple CSTR",
    "start": "2284261",
    "end": "2290170"
  },
  {
    "text": "example that was index 1\nand almost unconstrained, basically.",
    "start": "2290170",
    "end": "2295299"
  },
  {
    "text": "There was an index\n2 DAE in which the consistent initial\nconditions, you actually",
    "start": "2295300",
    "end": "2301112"
  },
  {
    "text": "couldn't specify any of\nthe initial conditions. They were fixed by the\nequations themselves.",
    "start": "2301112",
    "end": "2307600"
  },
  {
    "text": "But remember, that sort of\nhappened because certain DAEs are pathological in nature.",
    "start": "2307600",
    "end": "2313270"
  },
  {
    "text": "They often ask us to do\nsomething we can't do physically, like try to\ncontrol the input by-- or try",
    "start": "2313270",
    "end": "2322840"
  },
  {
    "text": "to predict-- let's see, how do I say this? It's easy for us to predict\nthe output knowing the input.",
    "start": "2322840",
    "end": "2329270"
  },
  {
    "text": "It's very hard for us to predict\nthe input knowing the output. And these higher-index\nDAEs were essentially",
    "start": "2329270",
    "end": "2335269"
  },
  {
    "text": "asking us to do that. There's a lag in how\nwe measure things.",
    "start": "2335270",
    "end": "2340790"
  },
  {
    "text": "And it's easier to go\nforward through a process than backwards through a process\nand make these predictions.",
    "start": "2340790",
    "end": "2346200"
  },
  {
    "text": "There's inherent sensitivity\nin doing the former. It's the same sort\nof sensitivity you get from these\nsystems of ODEs, in fact.",
    "start": "2346200",
    "end": "2353780"
  },
  {
    "text": "A small change in the\ninitial conditions can lead to big\nchanges in the outlet. So if I measure the outlet,\nit's hard to predict the inlet.",
    "start": "2353780",
    "end": "2361790"
  },
  {
    "text": "It's just very inherently\ndifficult to do. And so formulating a model\nwhich has this high index,",
    "start": "2361790",
    "end": "2369050"
  },
  {
    "text": "you will naturally\nfind that your choice of initial conditions for\nthe solution of that model",
    "start": "2369050",
    "end": "2374180"
  },
  {
    "text": "are constrained. And they're constrained\nbecause of the way you formulated the model. If you're actually trying to do\ncontrol of a chemical process,",
    "start": "2374180",
    "end": "2383045"
  },
  {
    "text": "it's going to be very difficult\nto try to somehow control the--",
    "start": "2383045",
    "end": "2389579"
  },
  {
    "text": "try to make the input be a\ncertain thing by controlling the output.",
    "start": "2389580",
    "end": "2395357"
  },
  {
    "text": "That doesn't make\nsense almost, right? It seems very, very strange. You would really want to\nchange the input in order",
    "start": "2395357",
    "end": "2401329"
  },
  {
    "text": "to hit a target in the output. How do you change the output\nand hit a target in the input? The process doesn't actually\ncare about things in that way.",
    "start": "2401330",
    "end": "2408710"
  },
  {
    "text": "And you saw that. Because in that\nparticular CSTR example, you couldn't fix any of\nthe initial conditions,",
    "start": "2408710",
    "end": "2413720"
  },
  {
    "text": "actually, right? There was no free\nchoice in the problem. Everything was\nautomatically fixed, and you had to have perfect\nknowledge of everything",
    "start": "2413720",
    "end": "2420230"
  },
  {
    "text": "in the system. I wasn't actually able\nto do control in a sense there, right? I could just measure\nthe output, and I",
    "start": "2420230",
    "end": "2425720"
  },
  {
    "text": "can tell you what the\ninput was supposed to be. And it was super sensitive\nto my measurement.",
    "start": "2425720",
    "end": "2431130"
  },
  {
    "text": "So these high-index\nproblems tend to come up when we want\nto constrain things in a way that's, let's say,\nphysically quite challenging.",
    "start": "2431130",
    "end": "2443144"
  },
  {
    "text": "High-index problems\nare incredibly common in mechanical\nengineering, things like robotics where\nyou want to make",
    "start": "2443144",
    "end": "2449690"
  },
  {
    "text": "sure the robot's arm doesn't\nwhack someone in the head. This is important. And so you're\ntrying to constrain",
    "start": "2449690",
    "end": "2456050"
  },
  {
    "text": "all these degrees of\nfreedom and the paths that it's going to move on. And all those constraints-- I mean, there's actually a\nvery narrow envelope in which",
    "start": "2456050",
    "end": "2463400"
  },
  {
    "text": "this thing gets to operate. So accurately\nsimulating the motion",
    "start": "2463400",
    "end": "2469460"
  },
  {
    "text": "and then making the robot move\nthat way is very empowering. In chemical processes,\nthat's true, too. But oftentimes, we can make\nchoices in model formulation,",
    "start": "2469460",
    "end": "2476754"
  },
  {
    "text": "right? Like how you try to\ncontrol the process that can ease those constraints.",
    "start": "2476754",
    "end": "2483500"
  },
  {
    "text": "If I had some control\nor it doesn't control in an instantaneous\nfashion, even if it's a very\nhigh-bandwidth control,",
    "start": "2483500",
    "end": "2488790"
  },
  {
    "text": "there's still a finite time\nfor signals to propagate. There's dynamics associated\nwith the controller that can convert that DAE system into\na system of ODEs, for example.",
    "start": "2488790",
    "end": "2497300"
  },
  {
    "text": "You don't have-- they\nmay be stiff ODEs. DAEs are the limit of sort of\ninfinite stiffness in ODEs.",
    "start": "2497300",
    "end": "2503630"
  },
  {
    "text": "But they may not be as\ntroublesome to solve as the DAE system would be. OK?",
    "start": "2503630",
    "end": "2509870"
  },
  {
    "text": "It's about model formulation. OK, can I talk\nbriefly about PDEs?",
    "start": "2509870",
    "end": "2516029"
  },
  {
    "text": "Is that OK? I'll tell you a\nlittle bit about it. I like this finite\nvolume method. I think it's very interesting.",
    "start": "2516030",
    "end": "2522784"
  },
  {
    "text": "You've got some notes on it. I think I like it\nbecause I think it comes very\nnaturally, actually, to chemical engineers.",
    "start": "2522784",
    "end": "2527871"
  },
  {
    "text": "Because the problems we like\nto solve are of the type that finite volume\neats for breakfast.",
    "start": "2527872",
    "end": "2533290"
  },
  {
    "text": "These are problems\nof conservation. So we have a\nconserved quantity b.",
    "start": "2533290",
    "end": "2539350"
  },
  {
    "text": "Is that what Dean\nuses in his book? The new version still uses b as\nthe conserved quantity, right? So the time rate\nof change of b is",
    "start": "2539350",
    "end": "2546400"
  },
  {
    "text": "equal to minus the gradient\nin the flux plus some, I don't know, some\nvolumetric change.",
    "start": "2546400",
    "end": "2551440"
  },
  {
    "text": "Maybe a reaction, maybe\nthere's some injections somewhere of mass or momentum,\nor you know, some source.",
    "start": "2551440",
    "end": "2559150"
  },
  {
    "text": "And our numerical\nsolution, oftentimes, we would like it to also\nconserve b, right?",
    "start": "2559150",
    "end": "2564700"
  },
  {
    "text": "Conserve mass, conserve\nmomentum, conserve energy, conserve species.",
    "start": "2564700",
    "end": "2571320"
  },
  {
    "text": "These collocation\nmethods in general, or relaxation methods in\ngeneral, don't do that.",
    "start": "2571320",
    "end": "2577650"
  },
  {
    "text": "They're not designed to do that. You might be able to construct,\nfor example, basis functions that have that property that\nthey will satisfy conservation.",
    "start": "2577650",
    "end": "2586530"
  },
  {
    "text": "You might be able to construct\ncertain meshing methods,",
    "start": "2586530",
    "end": "2591600"
  },
  {
    "text": "certain collocation methods-- and this is one of them,\nthe finite volume method-- that respects conservation.",
    "start": "2591600",
    "end": "2597210"
  },
  {
    "text": "And here's how you do it. So you worked really\nhard in transport",
    "start": "2597210",
    "end": "2602430"
  },
  {
    "text": "to derive these differential\nforms of the transport equations. But finite volume actually\nlikes the integral form.",
    "start": "2602430",
    "end": "2608900"
  },
  {
    "text": "So you've got to go back. So you've got to take the\nintegral of these equations over some volume V. And\nthen the time derivative",
    "start": "2608900",
    "end": "2618500"
  },
  {
    "text": "of the amount of\nb in this volume is related to the flux\nof b through the surfaces",
    "start": "2618500",
    "end": "2626310"
  },
  {
    "text": "of that volume plus the\namount of generation or consumption of the conserved\nquantity within that volume V,",
    "start": "2626310",
    "end": "2633760"
  },
  {
    "text": "right? And this volume is\nmy finite volume. I take the domain of\ninterest, and I chop it up into all these\nlittle volumes.",
    "start": "2633760",
    "end": "2640589"
  },
  {
    "text": "And then I just need to\nconserve b within that volume. So I have the first\nequation you learned",
    "start": "2640590",
    "end": "2646680"
  },
  {
    "text": "in chemical engineering, right? The amount of accumulation\nof the conserved quantity is related to the fluxes in\nand out of the control volume",
    "start": "2646680",
    "end": "2653160"
  },
  {
    "text": "plus the amount of\ngeneration or consumption within the control volume. This comes very naturally\nto chemical engineers.",
    "start": "2653160",
    "end": "2658730"
  },
  {
    "text": "It fits perfectly in the\nproblems we like to solve. Yeah. AUDIENCE: Is the nominal vector\npointing outwards or inwards?",
    "start": "2658730",
    "end": "2665670"
  },
  {
    "text": "JAMES SWAN: Well, it all\ndepends on how we choose to write j, actually, right? So is j the flux into\nor out of this volume?",
    "start": "2665670",
    "end": "2673740"
  },
  {
    "text": "So I won't prescribe that here. It depends on what\nyou chose as the flux.",
    "start": "2673740",
    "end": "2679140"
  },
  {
    "text": "So maybe, I don't\nknow, what does-- Dean writes the stress tensor\nwith the opposite sign of Bird,",
    "start": "2679140",
    "end": "2687420"
  },
  {
    "text": "Stewart, and Lightfoot. So these guys, that's the\nflux of momentum, right? They choose a sign. Then the normals have\nto respect that sign.",
    "start": "2687420",
    "end": "2693680"
  },
  {
    "text": "Doesn't really matter. The physics doesn't care. You just have to choose the\nflux in the right direction. If we think of j as the\nflux into the volume,",
    "start": "2693680",
    "end": "2701860"
  },
  {
    "text": "n should point in. ",
    "start": "2701860",
    "end": "2708600"
  },
  {
    "text": "OK, so you have this\nconservation equation. You've got to solve for\neach of your finite volumes. And the finite volumes\nare coupled together,",
    "start": "2708600",
    "end": "2714490"
  },
  {
    "text": "because a flux out of one volume\nis a flux into another volume, right?",
    "start": "2714490",
    "end": "2719800"
  },
  {
    "text": "So you can think of these\nvolumes as being little CSTRs. They're all sitting\nnext to each other.",
    "start": "2719800",
    "end": "2725590"
  },
  {
    "text": "And they're all linked together\nby these volumetric flows from one to another. And that's, in\nfact, what they are.",
    "start": "2725590",
    "end": "2731470"
  },
  {
    "text": "The key is, how do I model\nthese fluxes, basically? The accuracy of\nthe method is going",
    "start": "2731470",
    "end": "2736900"
  },
  {
    "text": "to be set by how big a\nvolume am I going to model. Can't have infinitely\nsmall volumes. There are going to\nbe too many of them",
    "start": "2736900",
    "end": "2743163"
  },
  {
    "text": "in my domain to solve\nthe problem accurately. And then, do I have good\nmodels for these fluxes?",
    "start": "2743163",
    "end": "2749346"
  },
  {
    "text": "And you can think about\nthese terms in this way. That sometimes is useful. So this big B, the amount\nof b in the volume,",
    "start": "2749346",
    "end": "2756450"
  },
  {
    "text": "is like the volume\ntimes the density of b, the volumetric\ndensity of b in the volume.",
    "start": "2756450",
    "end": "2762090"
  },
  {
    "text": "The average density\nin the volume. R is like the volume\nmultiplied by the average rate",
    "start": "2762090",
    "end": "2767730"
  },
  {
    "text": "of generation or consumption. F is the flux in or out.",
    "start": "2767730",
    "end": "2773430"
  },
  {
    "text": "It's the sum over all the\nfaces of the flux through each of the faces, which is the\narea of the face multiplied",
    "start": "2773430",
    "end": "2781260"
  },
  {
    "text": "by the average flux\nthrough the face. So this is the\nnormal to the face, and this is the flux\nthrough the face.",
    "start": "2781260",
    "end": "2788510"
  },
  {
    "text": "And so I just-- I'm going to solve\nthis equation. I try to figure out, in each\nvolume, what's the average b?",
    "start": "2788510",
    "end": "2797140"
  },
  {
    "text": "That's what this tells me. On average, what is b? On average, what is\nthe concentration?",
    "start": "2797140",
    "end": "2802690"
  },
  {
    "text": "On average, what is\nthe amount of momentum? On average, what is\nthe total energy?",
    "start": "2802690",
    "end": "2808020"
  },
  {
    "text": "That's fine. So finite volume, very simple. ",
    "start": "2808020",
    "end": "2815190"
  },
  {
    "text": "What's nice about it? Well, you know, it's\nreally suitable to any sort of geometry you want to look at.",
    "start": "2815190",
    "end": "2821400"
  },
  {
    "text": "We want to solve this equation,\nsay, in this square domain. We divide the domain up into a\nbunch of little square volumes.",
    "start": "2821400",
    "end": "2827880"
  },
  {
    "text": "And in each volume, we just make\nsure that the amount of this b balances the fluxes\ncoming through the volume",
    "start": "2827880",
    "end": "2836160"
  },
  {
    "text": "and the amount of\nconsumption or generation of that quantity\nwithin the volume.",
    "start": "2836160",
    "end": "2842370"
  },
  {
    "text": "But it didn't have to be\na square domain, right? A square domain, that's OK. But maybe I want to solve\nit on some circular domain.",
    "start": "2842370",
    "end": "2848340"
  },
  {
    "text": "Well, I can divide that\nup into volumes, too. And actually, these\nequations are the same. They look identical.",
    "start": "2848340",
    "end": "2854370"
  },
  {
    "text": "I've just got to calculate the\nflux through each of the faces. OK? But maybe I'm interested\nin, I don't know,",
    "start": "2854370",
    "end": "2861170"
  },
  {
    "text": "pollution in one\nof the Great Lakes. And I want to know how\nconcentration of some pollutant is transformed.",
    "start": "2861170",
    "end": "2867390"
  },
  {
    "text": "I'd divide this up into a\nbunch of little volumes, too. And now I've got to\ncalculate the flux through each of these faces. And that links all\nthese domains together.",
    "start": "2867390",
    "end": "2875570"
  },
  {
    "text": "Maybe I'm interested\nin transport within some porous\nmedium-- say, a bone. I think it's someone's\nhip joint here.",
    "start": "2875570",
    "end": "2881930"
  },
  {
    "text": "OK, well, I divide that up\ninto a bunch of volumes. And I still solve the exact\nsame conservation equation.",
    "start": "2881930",
    "end": "2887220"
  },
  {
    "text": "So I've sort of decoupled\nthe problem of meshing and equations, the governing\nequations associated",
    "start": "2887220",
    "end": "2893504"
  },
  {
    "text": "with the meshes. As long as I have a way\nto divide the domain up. It may be very complicated. I'm going to go ask a buddy\nin applied math to do that.",
    "start": "2893504",
    "end": "2900788"
  },
  {
    "text": "But I'm going to come to him\nwith the right engineering equations for each of those\ndomains, a little equation for a CSTR.",
    "start": "2900789",
    "end": "2906420"
  },
  {
    "text": "OK? Turns out this-- you know,\none of the most common",
    "start": "2906420",
    "end": "2915950"
  },
  {
    "text": "fluid mechanical codes out\nthere that people use now is OpenFOAM. So it's very common.",
    "start": "2915950",
    "end": "2922010"
  },
  {
    "text": "Lots of people use it. It's a very general solver. Does finite volume. That's the method\nit chooses to use.",
    "start": "2922010",
    "end": "2927110"
  },
  {
    "text": "Why does it choose to use it? Because it wants to\nconserved momentum? A guaranteed momentum\nconservation.",
    "start": "2927110",
    "end": "2933260"
  },
  {
    "text": "Can't lose momentum,\ncan't lose energy. Can't lose mass. I just have to pass\nthe right amount",
    "start": "2933260",
    "end": "2939560"
  },
  {
    "text": "between each of these faces. As long as my calculation\nof that is accurate, I've conserved the quantity.",
    "start": "2939560",
    "end": "2945470"
  },
  {
    "text": "Never evaporates. Finite difference, finite\nelement, different basis",
    "start": "2945470",
    "end": "2951260"
  },
  {
    "text": "set expansions-- they\nwill have this problem that at low levels\nof accuracy, you",
    "start": "2951260",
    "end": "2956480"
  },
  {
    "text": "can have sort of artificial\nconsumption of, say, the quantity, or\nartificial production",
    "start": "2956480",
    "end": "2962870"
  },
  {
    "text": "of the conserved\nquantity of interest. So this can be a very nice\nway to solve these problems.",
    "start": "2962870",
    "end": "2969020"
  },
  {
    "text": "It's another relaxation method. It's a type of collocation. I divide the domain up.",
    "start": "2969020",
    "end": "2974030"
  },
  {
    "text": "And then I try to satisfy\nconservation equations on each of these little volumes. Hence finite volume.",
    "start": "2974030",
    "end": "2980604"
  },
  {
    "text": "OK? OK. So how do you solve PDEs by\nhand or write your own code?",
    "start": "2980604",
    "end": "2986990"
  },
  {
    "text": "There's a nice\nlittle tutorial here. We'll see how far we're able to\nget through it before I've got to give you guys your cards.",
    "start": "2986990",
    "end": "2992480"
  },
  {
    "text": "But I'll illustrate\nsome key points that I think are\nreally important. So step one, no\nmatter what method",
    "start": "2992480",
    "end": "2998960"
  },
  {
    "text": "you choose, whether you choose\ncollocation, whether you choose Galerkin, whether\nyou're using basis sets",
    "start": "2998960",
    "end": "3005050"
  },
  {
    "text": "or you're using finite\nelements or finite volumes, you've got some domain you're\ntrying to solve your PDE in.",
    "start": "3005050",
    "end": "3010450"
  },
  {
    "text": "And you've got to discretize it. You've got to figure out\nhow to decompose the domain.",
    "start": "3010450",
    "end": "3016269"
  },
  {
    "text": "So for finite differences,\nyou might decompose it into a series of\nnodes at which you want to know the value of\nyour function, whatever",
    "start": "3016269",
    "end": "3022750"
  },
  {
    "text": "that function is. For finite volume,\nyou would decompose it into cells in which\nyou would like to know the average value\nof your conserved quantity.",
    "start": "3022750",
    "end": "3030790"
  },
  {
    "text": "For finite elements, you divide\nthe domain up into some points,",
    "start": "3030790",
    "end": "3036490"
  },
  {
    "text": "across which local basis\nfunctions span the region. We would like to know the\nweighting of these local basis",
    "start": "3036490",
    "end": "3043329"
  },
  {
    "text": "functions near each\nof these points. But you've got to\ndivide the domain up. And the most important\nthing is you always",
    "start": "3043330",
    "end": "3050590"
  },
  {
    "text": "choose the spacing of the nodes,\nor the dimensions of the cells, to match the physics.",
    "start": "3050590",
    "end": "3056470"
  },
  {
    "text": "A very natural thing to\nwant to do is to pick-- say I've got this square grid--\nto pick the number of grid",
    "start": "3056470",
    "end": "3062380"
  },
  {
    "text": "points to discretize with. I say, I'm going\nto use 100 points in this dimension and 100\npoints in that dimension.",
    "start": "3062380",
    "end": "3067917"
  },
  {
    "text": "Actually, that tells me nothing. That's an irrelevant number. The physics has no idea how many\ngrid nodes you put in there.",
    "start": "3067917",
    "end": "3075590"
  },
  {
    "text": "Doesn't care. There are length scales that are\nintrinsic to the problem you're",
    "start": "3075590",
    "end": "3080860"
  },
  {
    "text": "trying to study. And the discretization should\nresolve those physically",
    "start": "3080860",
    "end": "3086080"
  },
  {
    "text": "relevant length scales. So it might be the\ncase that I only need a resolution of one part\nin 10 along this dimension",
    "start": "3086080",
    "end": "3096070"
  },
  {
    "text": "and one part in 10\nalong this dimension because the physics\nare such that that's good to get a description of\nthe solution to this problem.",
    "start": "3096070",
    "end": "3103780"
  },
  {
    "text": "It might be that I need one part\nin a million in this dimension and one part in 10\nin that dimension",
    "start": "3103780",
    "end": "3109119"
  },
  {
    "text": "because the physics\nare that way. So you really want to\nthink about length scales, not numbers of nodes.",
    "start": "3109120",
    "end": "3114670"
  },
  {
    "text": "It's a very common mistake. You say, well, 100 and 100,\nthat makes sense, or 10 and 10. Or you know, you\npick these randomly.",
    "start": "3114670",
    "end": "3120280"
  },
  {
    "text": "But you want to think\nabout physics instead. Here's a good example. This is my fault. You'll\nsolve a problem like this.",
    "start": "3120280",
    "end": "3125580"
  },
  {
    "text": "You already saw it in some\nsense in the finite element or COMSOL tutorial. But there's a little drug\npatch here near this red zone.",
    "start": "3125580",
    "end": "3133330"
  },
  {
    "text": "It's leaking drug\ninto a sheer flow, and it's all being\nadvected down.",
    "start": "3133330",
    "end": "3138610"
  },
  {
    "text": "Here's my solution\nto the problem. I think it's a pretty good one. Here's a solution from when I\ntaught of course two years ago",
    "start": "3138610",
    "end": "3147270"
  },
  {
    "text": "that the TAs produced. And I didn't talk with the TAs\nabout this issue with length scales.",
    "start": "3147270",
    "end": "3152940"
  },
  {
    "text": "And it sort of got\nthe right structure. You can see, here's\nthe patch, and there's some advection and diffusion.",
    "start": "3152940",
    "end": "3159850"
  },
  {
    "text": "But it's not a very stable\nsolution, it turns out. It's also not very accurate. It doesn't reflect\nthe essential physics.",
    "start": "3159850",
    "end": "3166570"
  },
  {
    "text": "And the point is\nactually the scales. So here, the patch was 1\ncentimeter in diameter.",
    "start": "3166570",
    "end": "3172180"
  },
  {
    "text": "And so here, you\ngot many centimeters long this direction,\nwhere you get advection. Here, you've got 2\ncentimeters in this direction.",
    "start": "3172180",
    "end": "3178990"
  },
  {
    "text": "But actually, the solution\nis really confined down to this small space. The physics all happens at\nfractions of a centimeter.",
    "start": "3178990",
    "end": "3190060"
  },
  {
    "text": "You took Transport,\nso you know that this is a problem in which\nthere's a boundary layer. And all the change\nin concentration",
    "start": "3190060",
    "end": "3196900"
  },
  {
    "text": "is confined to that\nlittle boundary layer. So really, when you do\nyour numerical solution, you'll do like was done up here.",
    "start": "3196900",
    "end": "3203204"
  },
  {
    "text": "Now the lengths are made\ndimensionless on the width of the patch, but\nthey're-- you know, you can think of these as\nmeasured in centimeters. But look at the dimension here.",
    "start": "3203205",
    "end": "3209380"
  },
  {
    "text": "We need to resolve\nthe solution down at the 0.1 centimeter\nand smaller scale.",
    "start": "3209380",
    "end": "3214900"
  },
  {
    "text": "I want to put all my little\ndiscretization or my nodes down here so that I can see how\nthe concentration field changes",
    "start": "3214900",
    "end": "3222490"
  },
  {
    "text": "as a function of distance. I have to know something\nabout the physics to do that, though, OK? Can't just solve this blindly.",
    "start": "3222490",
    "end": "3228670"
  },
  {
    "text": "It may or may not be\nthe case that COMSOL recognizes the\nphysical situation",
    "start": "3228670",
    "end": "3233990"
  },
  {
    "text": "and remeshes your problem\nto put mesh points down where they matter. It may do that.",
    "start": "3233990",
    "end": "3239150"
  },
  {
    "text": "It may not do that. It just doesn't know. People build heuristics to\ntry to solve these remeshing",
    "start": "3239150",
    "end": "3244884"
  },
  {
    "text": "problems, but they\nmay not always apply. So it's good to understand\nthe physics of the problem. This drug patch problem, this\nis a pretty common transport",
    "start": "3244884",
    "end": "3251300"
  },
  {
    "text": "problem. I mean, did Professor\nBazant give you guys a talk during your\nvisit weekend? Was that this last year?",
    "start": "3251300",
    "end": "3257100"
  },
  {
    "text": "Was that two years ago? It was two years ago. He does problems with\nbromine flow batteries.",
    "start": "3257100",
    "end": "3262790"
  },
  {
    "text": "And they worked\nexactly this way. You have flow of bromine in. An electrochemical reaction\ntakes place at the surface.",
    "start": "3262790",
    "end": "3269522"
  },
  {
    "text": "This entire thing is\npremised on the fact that you have a\nvery thin boundary layer in which the\nelectrochemical-- in which",
    "start": "3269522",
    "end": "3276240"
  },
  {
    "text": "the reagents are confined. And if that boundary\nlayer gets too thick and reaches the other electrode,\nit screws up the reaction",
    "start": "3276240",
    "end": "3282420"
  },
  {
    "text": "and doesn't work as\na battery anymore. So being able to resolve\nconcentration gradients",
    "start": "3282420",
    "end": "3287582"
  },
  {
    "text": "in this small domain, it's not\njust important for this drug problem. It's important in general. It's a common sort of\ntransport-y type problem.",
    "start": "3287582",
    "end": "3295140"
  },
  {
    "text": "And the numerical\nsolution is really going to hinge on your ability\nto recognize the physics and resolve the solution\nover the length scales that",
    "start": "3295140",
    "end": "3302460"
  },
  {
    "text": "are important in the problem. OK? So that's the number\none most important thing for doing these PDEs.",
    "start": "3302460",
    "end": "3308460"
  },
  {
    "text": "The rest of the\nnotes will take you through the construction\nof a numerical solution",
    "start": "3308460",
    "end": "3313980"
  },
  {
    "text": "to the diffusion equation in\n2D, and some different scenarios that you might try to employ\nin MATLAB to solve them,",
    "start": "3313980",
    "end": "3322089"
  },
  {
    "text": "and how you can accelerate the\nsolution using different MATLAB functions. It's fun to try\nout and play with.",
    "start": "3322090",
    "end": "3327930"
  },
  {
    "text": "You'll see that I can make\nthe solution to this problem go very fast for a domain\nthat's quite highly discretized by recognizing\ncertain forms of the equations,",
    "start": "3327930",
    "end": "3336790"
  },
  {
    "text": "choosing certain\nsolvers to solve with. OK? Good. All right, I'll meet\nyou guys in back,",
    "start": "3336790",
    "end": "3343050"
  },
  {
    "text": "and we'll hand out\nthese gift cards. And good luck on your quiz. ",
    "start": "3343050",
    "end": "3360367"
  }
]