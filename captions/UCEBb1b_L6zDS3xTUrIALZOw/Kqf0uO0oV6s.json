[
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6660"
  },
  {
    "text": "continue to offer high quality\neducational resources for free. To make a donation or\nview additional materials",
    "start": "6660",
    "end": "13640"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "13640",
    "end": "22802"
  },
  {
    "text": "TOM LEIGHTON: This\nweek we're going to talk about recurrences,\nhow to set them up, how to model a problem\nas a recurrent problem,",
    "start": "22802",
    "end": "29570"
  },
  {
    "text": "and then how to solve them. This stuff is really useful when\nyou get into algorithm design",
    "start": "29570",
    "end": "35160"
  },
  {
    "text": "and algorithm analysis. 6006 and 6046, we you\nuse this stuff a lot.",
    "start": "35160",
    "end": "41060"
  },
  {
    "text": "We're going to start with a very\nfamous recurrent problem known as the Towers of Hanoi problem.",
    "start": "41060",
    "end": "46430"
  },
  {
    "text": "And I'm guessing\nthat many of you have seen this problem\nin one form or another. In the Tower of\nHanoi problem, you've",
    "start": "46430",
    "end": "54030"
  },
  {
    "text": "got three pegs and n disks,\nthese little guys here.",
    "start": "54030",
    "end": "60260"
  },
  {
    "text": "All different sizes. And the object is to start\nwith a stack like this",
    "start": "60260",
    "end": "67340"
  },
  {
    "text": "and move the disks\naround so they wind up with the stack on another disk.",
    "start": "67340",
    "end": "73640"
  },
  {
    "text": "Now, the rules are you can\nonly move one disk at a time.",
    "start": "73640",
    "end": "78750"
  },
  {
    "text": "And you can never put a big\ndisk over a little disk. So that you can't do.",
    "start": "78750",
    "end": "84719"
  },
  {
    "text": "So that would have to go there. Then you could do this. And now I've gotten the\ntop two moved over to here.",
    "start": "84720",
    "end": "94219"
  },
  {
    "text": "And the goal is to take\nthe minimum number of moves to get the whole stack\nmoved over to here,",
    "start": "94220",
    "end": "100980"
  },
  {
    "text": "and to even figure\nout if that's doable. Now, this was invented by a\nfamous French mathematician",
    "start": "100980",
    "end": "111910"
  },
  {
    "text": "named Edward Lucas in 1883. And in the original\nlegend around this puzzle,",
    "start": "111910",
    "end": "118750"
  },
  {
    "text": "there were 64 disks. This one has just seven on it.",
    "start": "118750",
    "end": "123770"
  },
  {
    "text": "And the story was at\nthe beginning of time, God placed the 64 disks on\none of the three golden pegs.",
    "start": "123770",
    "end": "134390"
  },
  {
    "text": "And he got an order of\nmonks whose lifelong mission was to move the disks one\nat a time so at the end",
    "start": "134390",
    "end": "142439"
  },
  {
    "text": "all 64 disks were lined\nup on an adjacent peg. And according to legend,\nwhen that task was done",
    "start": "142440",
    "end": "149990"
  },
  {
    "text": "the tower would crumble\nand the world would end. Sort of explains\nwhy monks are never",
    "start": "149990",
    "end": "157519"
  },
  {
    "text": "smiling, because\nthey work forever and then just\nsomething bad happens.",
    "start": "157520",
    "end": "162530"
  },
  {
    "text": "Now, the question we\nwant to be able to answer is, how long till\nthe world ends?",
    "start": "162530",
    "end": "168220"
  },
  {
    "text": "So we can start with\na simpler version.",
    "start": "168220",
    "end": "173300"
  },
  {
    "text": "Say let's take three\ndisks and start with that.",
    "start": "173300",
    "end": "178940"
  },
  {
    "text": "And let's see, is it doable? Well, we could. That's one, that's two,\nthree, four, five, six, seven.",
    "start": "178940",
    "end": "196740"
  },
  {
    "text": "So it's doable with three disks. And we took seven moves. Maybe there's a\nbetter way, and that's",
    "start": "196740",
    "end": "202219"
  },
  {
    "text": "part of what we'll\ntry to study today. In fact, what we'd like to know\nis how many moves for n disks?",
    "start": "202220",
    "end": "211512"
  },
  {
    "text": " And is it even finite? So we're going to define t\nsub n to be the minimum number",
    "start": "211512",
    "end": "222330"
  },
  {
    "text": "of moves for n disks.",
    "start": "222330",
    "end": "229330"
  },
  {
    "text": "So to take a stack of\nn disks and move them to an adjacent peg.",
    "start": "229330",
    "end": "234510"
  },
  {
    "text": "So, for example, what's t1? One. I got one peg, I just move it.",
    "start": "234510",
    "end": "239860"
  },
  {
    "text": "That's easy. t2, 3.",
    "start": "239860",
    "end": "245040"
  },
  {
    "text": "Move the little\nguy, move the base, move the little guy back on top. That's the best you can do.",
    "start": "245040",
    "end": "252090"
  },
  {
    "text": "And we've seen that\nt3 is at most 7. Maybe there's a better way.",
    "start": "252090",
    "end": "259060"
  },
  {
    "text": "But let's try to first get\nan upper bound on this. Any thoughts about how we\nmight go about a general upper",
    "start": "259060",
    "end": "266220"
  },
  {
    "text": "bound for n for this problem?",
    "start": "266220",
    "end": "271710"
  },
  {
    "text": "Like say I had four disks. Any thoughts about\na strategy where",
    "start": "271710",
    "end": "277539"
  },
  {
    "text": "we might be able to\nanalyze or get an upper bound the number of steps\nfor four disks here?",
    "start": "277540",
    "end": "283570"
  },
  {
    "text": "Or more disks. Any thoughts? Yeah.  AUDIENCE: You can look\nat the previous problem",
    "start": "283570",
    "end": "291412"
  },
  {
    "text": "and then add a certain\nnumber of [INAUDIBLE]. TOM LEIGHTON: Look at\nthe three disk problem.",
    "start": "291412",
    "end": "297780"
  },
  {
    "text": "That's a good idea. In fact, you know, I could\nlook at the three disk problem",
    "start": "297780",
    "end": "303240"
  },
  {
    "text": "recursively. I got these three disks. Say I move them over a series\nof steps, seven steps at most,",
    "start": "303240",
    "end": "310160"
  },
  {
    "text": "to put them here. What would I do next? ",
    "start": "310160",
    "end": "316240"
  },
  {
    "text": "Move the lower one and then\ndo this recurrent problem again back.",
    "start": "316240",
    "end": "322860"
  },
  {
    "text": "All right, so we can take\na problem with n disks and solve it recursively.",
    "start": "322860",
    "end": "329900"
  },
  {
    "text": "Let's see what happens\nwhen we do that. ",
    "start": "329900",
    "end": "335087"
  },
  {
    "text": "So let's look at a\nrecursive solution. ",
    "start": "335087",
    "end": "343920"
  },
  {
    "text": "And let's draw it for n. So the first phase\nthat you described",
    "start": "343920",
    "end": "350220"
  },
  {
    "text": "is I start, here\nare my three pegs, and I start with this,\n1, 2, 3 down to end here,",
    "start": "350220",
    "end": "355900"
  },
  {
    "text": "and nothing on these pegs. And I'm going to use recursion\nto take the top and minus 1",
    "start": "355900",
    "end": "362520"
  },
  {
    "text": "and move them out here. So I leave the nth guy there. Nothing here.",
    "start": "362520",
    "end": "367680"
  },
  {
    "text": "And I go 1, 2, to n minus 1.",
    "start": "367680",
    "end": "372870"
  },
  {
    "text": "How many steps does that move\ntake, that series of moves take, that phase?",
    "start": "372870",
    "end": "380650"
  },
  {
    "text": "In terms of t. t of n minus 1, because I'm\ntaking an n minus 1 disk stack",
    "start": "380650",
    "end": "388020"
  },
  {
    "text": "and moving it. So that is tn minus 1 steps. ",
    "start": "388020",
    "end": "396230"
  },
  {
    "text": "All right, now my next\nmove is to take this guy and stick him here.",
    "start": "396230",
    "end": "401523"
  },
  {
    "text": " So we'll draw that over here. So the nth guy moves there and\nI leave all these guys here.",
    "start": "401523",
    "end": "409501"
  },
  {
    "text": " That's going to be phase two. ",
    "start": "409502",
    "end": "417840"
  },
  {
    "text": "I move the largest disk. ",
    "start": "417840",
    "end": "424120"
  },
  {
    "text": "And how many steps\ndid that take? One step. Just move one disk.",
    "start": "424120",
    "end": "429590"
  },
  {
    "text": " One step for that. And then my last phase\nis to take all these",
    "start": "429590",
    "end": "438620"
  },
  {
    "text": "and move them onto here. ",
    "start": "438620",
    "end": "450240"
  },
  {
    "text": "And so then it looks like\nthe final result, 1, 2, over n minus 1 over n.",
    "start": "450240",
    "end": "456930"
  },
  {
    "text": "And how many steps\nthis phase three take? ",
    "start": "456930",
    "end": "462199"
  },
  {
    "text": "tn minus 1. Good. ",
    "start": "462200",
    "end": "467710"
  },
  {
    "text": "All right, so we've\ngot an algorithm now, a recursive algorithm. And the total time,\nthe number of moves tn",
    "start": "467710",
    "end": "483610"
  },
  {
    "text": "is at most tn minus 1 plus\ntn minus 1 is 2tn minus 1",
    "start": "483610",
    "end": "490819"
  },
  {
    "text": "plus the one step up there. For example, which\nwe already know,",
    "start": "490820",
    "end": "496930"
  },
  {
    "text": "t3 is at most 2t2 plus 1,\nwhich is 2 times 3 plus 1 is 7.",
    "start": "496930",
    "end": "506070"
  },
  {
    "text": "So we already knew we\ncould do it in seven. What's an upper bound on\nthe time to move four disks?",
    "start": "506070",
    "end": "513210"
  },
  {
    "text": "15. OK? All right, so t4 is at most 15.",
    "start": "513210",
    "end": "521390"
  },
  {
    "text": "But maybe there's a better way. This is just one way to do it. How many people think there's a\nbetter way than this approach?",
    "start": "521390",
    "end": "531589"
  },
  {
    "text": "How many people think\nthere is no better way? All right, very good. Yeah, this is the\nbest you can do.",
    "start": "531590",
    "end": "537570"
  },
  {
    "text": "And let's prove that. Let's get a lower bound. ",
    "start": "537570",
    "end": "547500"
  },
  {
    "text": "All right, to see why this is\noptimal, think about the step",
    "start": "547500",
    "end": "553610"
  },
  {
    "text": "where the nth disk moves. At some point in our procedure,\nthe biggest disk has to move.",
    "start": "553610",
    "end": "563600"
  },
  {
    "text": "Now, it could move to\nthis peg or that peg, doesn't really matter. But when it moves,\nwhat do I know",
    "start": "563600",
    "end": "569835"
  },
  {
    "text": "had to have happened\nbefore that guy moved? ",
    "start": "569835",
    "end": "577150"
  },
  {
    "text": "Everything on top of it had\nto move to the other peg.",
    "start": "577150",
    "end": "582360"
  },
  {
    "text": "I started with 1\nthrough n minus 1 here. None of them can be here. They all have to be here.",
    "start": "582360",
    "end": "589680"
  },
  {
    "text": "OK? So that means that I have to\nhave had tn minus 1 steps.",
    "start": "589680",
    "end": "597329"
  },
  {
    "text": "So at least tn minus 1 steps\nbefore the big disk moves.",
    "start": "597330",
    "end": "607792"
  },
  {
    "text": " All right?",
    "start": "607792",
    "end": "613560"
  },
  {
    "text": "Then there is the step\nwhen the big guy moves.",
    "start": "613560",
    "end": "618850"
  },
  {
    "text": "One step for the\nbig guy to move. ",
    "start": "618850",
    "end": "627954"
  },
  {
    "text": "Because it's got to\nmove at least once. ",
    "start": "627954",
    "end": "633490"
  },
  {
    "text": "And then after it moves, I got\nto get everything else, one way",
    "start": "633490",
    "end": "639140"
  },
  {
    "text": "or another, on top of it. At some point after the\nlast time the big guy moves,",
    "start": "639140",
    "end": "646110"
  },
  {
    "text": "everything else\nhas to go on top. And that's another\ntn minus 1 steps.",
    "start": "646110",
    "end": "651219"
  },
  {
    "text": " So after the last time\nthe big guy moves,",
    "start": "651219",
    "end": "664160"
  },
  {
    "text": "you've got to take\ntn minus 1 steps. ",
    "start": "664160",
    "end": "670560"
  },
  {
    "text": "OK, so that means\nthere's a lower bound that no matter what you do tn\nis at least 2tn minus 1 plus 1.",
    "start": "670560",
    "end": "681420"
  },
  {
    "text": "And so in fact, it's equal. tn equals 2tn minus 1 plus 1.",
    "start": "681420",
    "end": "690730"
  },
  {
    "text": "So t3 is 7, t4 is 15. Any questions about that?",
    "start": "690730",
    "end": "698920"
  },
  {
    "text": " All right, well we'd like to\nknow how long till the world",
    "start": "698920",
    "end": "704590"
  },
  {
    "text": "ends, which is t64. So we'd like to get\na formula for t of n.",
    "start": "704590",
    "end": "710440"
  },
  {
    "text": "We could just compute\nit 64 times and see. But much nicer just\nto get a formula.",
    "start": "710440",
    "end": "716237"
  },
  {
    "text": "And that's what we're going\nto learn how to do this week is to get formulas,\nclosed form expressions,",
    "start": "716237",
    "end": "721570"
  },
  {
    "text": "to solve recurrences. And there's a bunch of\ndifferent methods you can use and we're going to\ntalk about them.",
    "start": "721570",
    "end": "727379"
  },
  {
    "text": "The simplest is to guess the\nanswer and then check it.",
    "start": "727380",
    "end": "732500"
  },
  {
    "text": "It's called guess and\nverify, also known as the substitution method.",
    "start": "732500",
    "end": "738270"
  },
  {
    "start": "738270",
    "end": "753140"
  },
  {
    "text": "Now, what's a good\nguess for t of n? ",
    "start": "753140",
    "end": "760069"
  },
  {
    "text": "2 to the n minus 1. You got t of 1 is 1, t of 2 is\n3, t of 3 is 7, t of 4 is 15.",
    "start": "760070",
    "end": "769170"
  },
  {
    "text": "You won't compute too many\nbefore you guess that t of n",
    "start": "769170",
    "end": "777730"
  },
  {
    "text": "is 2 to the n minus 1.  Now, that doesn't\nmean it's true.",
    "start": "777730",
    "end": "784900"
  },
  {
    "text": "So how are we going\nto verify that guess? What proof technique?",
    "start": "784900",
    "end": "791360"
  },
  {
    "text": "Induction. It just keeps coming back. You just never finish\nwith induction.",
    "start": "791360",
    "end": "796880"
  },
  {
    "text": "So we're going to verify\nthis by induction. ",
    "start": "796880",
    "end": "808922"
  },
  {
    "text": "What's our induction hypothesis?  Any thoughts? ",
    "start": "808922",
    "end": "818280"
  },
  {
    "text": "Right there. p of n is going to be that\ntn equals 2 to the n minus 1.",
    "start": "818280",
    "end": "823670"
  },
  {
    "text": "Very typical.  So the predicate is that t\nof n is 2 to the n minus 1.",
    "start": "823670",
    "end": "832670"
  },
  {
    "text": "Base case. ",
    "start": "832670",
    "end": "837970"
  },
  {
    "text": "We'll pick n equals 1. T of 1 is 1 and that\nis 2 to the 1 minus 1.",
    "start": "837970",
    "end": "845260"
  },
  {
    "text": "So the base case works.  Now we'll do the inductive step.",
    "start": "845260",
    "end": "850836"
  },
  {
    "start": "850836",
    "end": "856950"
  },
  {
    "text": "We're going to assume p of n. We're going to assume that\ntn equals 2 to the n minus 1",
    "start": "856950",
    "end": "864320"
  },
  {
    "text": "to prove pn minus 1, which\nis tn plus 1 equals 2",
    "start": "864320",
    "end": "870940"
  },
  {
    "text": "to the n plus 1 minus 1. So a very standard induction.",
    "start": "870940",
    "end": "875959"
  },
  {
    "text": "So let's look at tn plus 1 now. tn plus 1 equals 2n plus 1.",
    "start": "875960",
    "end": "885910"
  },
  {
    "text": "Yeah, 2tn plus 1. Now we plug in here.",
    "start": "885910",
    "end": "891319"
  },
  {
    "text": "That's just the recurrence. Now we plug in using our\nassumption from the induction.",
    "start": "891320",
    "end": "896490"
  },
  {
    "text": "This is 2 to the\nn minus 1 plus 1.",
    "start": "896490",
    "end": "904580"
  },
  {
    "text": "Multiply the 2. That's 2 to the n plus 1. Minus 2 plus 1 is minus 1.",
    "start": "904580",
    "end": "911730"
  },
  {
    "text": "And so we're done. All right, so we\nguessed the answer. It was a pretty easy guess.",
    "start": "911730",
    "end": "917600"
  },
  {
    "text": "Very simple to prove\nit by induction. Any questions? ",
    "start": "917600",
    "end": "924250"
  },
  {
    "text": "All right, how\nlong would it take me to do all seven disks\non this puzzle here?",
    "start": "924250",
    "end": "931009"
  },
  {
    "text": "How many steps?  127 steps.",
    "start": "931010",
    "end": "937060"
  },
  {
    "text": "How long till the\nend of the world? A long time. 2 to the 64th minus 1 is\n18 billion, billion moves.",
    "start": "937060",
    "end": "946070"
  },
  {
    "text": "So going to keep those monks\nbusy for a little while before the world ends.",
    "start": "946070",
    "end": "952180"
  },
  {
    "text": "Now in general, this method\nis sort of the best method for solving a recurrence.",
    "start": "952180",
    "end": "958620"
  },
  {
    "text": "We'll see lots of examples\nwhere it works great. The only problem is it\nrequires that divine insight",
    "start": "958620",
    "end": "964530"
  },
  {
    "text": "thing, that guess to\nguess the right answer. Obviously if we guess the wrong\nanswer, it's not going to work.",
    "start": "964530",
    "end": "970480"
  },
  {
    "text": "Guessing is many times\neasy, but not always.",
    "start": "970480",
    "end": "975519"
  },
  {
    "text": "So you need other methods\nwhen you can't guess it. The next most common\nmethod has a lot of names.",
    "start": "975520",
    "end": "981319"
  },
  {
    "text": "It's called plug and chug,\nexpansion, iteration,",
    "start": "981320",
    "end": "986780"
  },
  {
    "text": "brute force, exhaustion. Let me show you how that\nworks in this example.",
    "start": "986780",
    "end": "992530"
  },
  {
    "start": "992530",
    "end": "1004640"
  },
  {
    "text": "OK, so plug and chug. ",
    "start": "1004640",
    "end": "1011040"
  },
  {
    "text": "So we'll solve the\nsame recurrence. So we've got tn\nequals, and I'm going",
    "start": "1011040",
    "end": "1016879"
  },
  {
    "text": "to write it just\nreversed, 1 plus 2tn. Because I'm going to expand\nout the recurrent term.",
    "start": "1016880",
    "end": "1024280"
  },
  {
    "text": "That's why it's\ncalled expansion also. Well, that's equal to 1 plus 2.",
    "start": "1024280",
    "end": "1031150"
  },
  {
    "text": "Now I expand this out\nusing the recurrence. 1 plus 2 tn minus 1.",
    "start": "1031150",
    "end": "1037066"
  },
  {
    "text": " All right, now I do a\nlittle chugging here.",
    "start": "1037066",
    "end": "1042250"
  },
  {
    "text": "So I plugged here. Now I'll do chug. That's 1 plus 2\nplus 4 tn minus 1.",
    "start": "1042250",
    "end": "1053420"
  },
  {
    "text": "Now I'm going to plug in again.  What's that?",
    "start": "1053420",
    "end": "1058737"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE].  TOM LEIGHTON: You're right.",
    "start": "1058738",
    "end": "1065289"
  },
  {
    "text": "You're right, I've got to get\nminus 1 here and minus 2 here. That is correct.",
    "start": "1065290",
    "end": "1070310"
  },
  {
    "text": "Very good. I would have run into trouble. That's good. ",
    "start": "1070310",
    "end": "1075730"
  },
  {
    "text": "Now I plug in here. 1 plus 2 plus 4, 1\nplus 2 tn minus 3.",
    "start": "1075730",
    "end": "1084679"
  },
  {
    "text": "Then we do the chug. ",
    "start": "1084680",
    "end": "1099230"
  },
  {
    "text": "1 plus 2 plus 4\nplus 8 tn minus 3.",
    "start": "1099230",
    "end": "1106770"
  },
  {
    "text": "All right, and now we're\ngoing to try to observe the pattern we're getting. So there's a little bit of a\nguess going on in this context",
    "start": "1106770",
    "end": "1112870"
  },
  {
    "text": "still. But you see the pattern. We've got powers of 2. Pretty easy pattern. So you might say if\nI keep on doing this,",
    "start": "1112870",
    "end": "1119889"
  },
  {
    "text": "I'm going to get 1\nplus 2 plus 4 plus dot dot dot plus 2 to\nthe i minus 1 plus 2",
    "start": "1119890",
    "end": "1128690"
  },
  {
    "text": "to the i tn minus i. Got 2 to the 3 tn minus 3 there.",
    "start": "1128690",
    "end": "1136929"
  },
  {
    "text": "And then I take this all the way\ndown to i equals n minus 1, 1 plus 2 plus 4 plus 2\nto the n minus 2 plus 2",
    "start": "1136930",
    "end": "1150230"
  },
  {
    "text": "to the n minus 1 t1. ",
    "start": "1150230",
    "end": "1155570"
  },
  {
    "text": "And t1 is just 1. ",
    "start": "1155570",
    "end": "1161950"
  },
  {
    "text": "So I'm just getting the\nsum of the powers of 2 up to the n minus 1. And we know what that is\nfrom last time, for sure.",
    "start": "1161950",
    "end": "1170180"
  },
  {
    "text": "That's just 2 to the n minus 1. So we've derived the answer\nwith only a little bit",
    "start": "1170180",
    "end": "1176570"
  },
  {
    "text": "of a-- we had to observe\nthe pattern here, which is often easy to do. But now we've\nderived the answer.",
    "start": "1176570",
    "end": "1182980"
  },
  {
    "text": "Now to be really safe,\nwe've got to go back and still do verify,\njust to make sure that we didn't make a mistake in\nhow we did the derivation here.",
    "start": "1182980",
    "end": "1193580"
  },
  {
    "text": "OK? Any questions about\nthat approach?",
    "start": "1193580",
    "end": "1199210"
  },
  {
    "text": "You just keep plugging it\nback into the recurrence, look at the pattern you get, and\ntry to guess it from that point",
    "start": "1199210",
    "end": "1205330"
  },
  {
    "text": "and then solve. All right, let's do a little\nmore interesting recurrence.",
    "start": "1205330",
    "end": "1210916"
  },
  {
    "text": " This is a fairly famous\none that comes up in a well known algorithm for\nsorting called merge sort.",
    "start": "1210916",
    "end": "1219780"
  },
  {
    "text": "This is an algorithm\nyou'll look at in 6046, one of the many\nsorting algorithms you'll study when you\ntake an algorithms class.",
    "start": "1219780",
    "end": "1227290"
  },
  {
    "start": "1227290",
    "end": "1239310"
  },
  {
    "text": "So you're given n numbers and\nyour task is to sort them, put them in order.",
    "start": "1239310",
    "end": "1245140"
  },
  {
    "text": "And you're allowed\nto do comparisons between the numbers. You can think of them as\nyou've got a list of names,",
    "start": "1245140",
    "end": "1251240"
  },
  {
    "text": "putting them in\nalphabetical order. How many comparisons do you\nhave to do to make that happen?",
    "start": "1251240",
    "end": "1257260"
  },
  {
    "text": "And this is one way to do\nit that's very efficient. So to sort n items.",
    "start": "1257260",
    "end": "1265250"
  },
  {
    "text": "In fact, we're going to look\nat n being a power of 2. Call the items x1, x2, xn.",
    "start": "1265250",
    "end": "1273270"
  },
  {
    "text": "n's going to be a power of\n2 to make it simple for now. ",
    "start": "1273270",
    "end": "1280186"
  },
  {
    "text": "The first thing\nwe're going to do is recursively\nsort the first half of the items and\nthe second half.",
    "start": "1280186",
    "end": "1289860"
  },
  {
    "text": "So we use recursion to short\nthe first n over 2 items and the last n over 2 items.",
    "start": "1289860",
    "end": "1295640"
  },
  {
    "start": "1295640",
    "end": "1306290"
  },
  {
    "text": "And then we're going to\nmerge those two sorted lists together. ",
    "start": "1306290",
    "end": "1312830"
  },
  {
    "text": "So we're going to merge\nthis list and that list. So let's see how this works and\nfigure out how many comparisons",
    "start": "1312830",
    "end": "1319169"
  },
  {
    "text": "we have to do to sort the list. ",
    "start": "1319170",
    "end": "1329580"
  },
  {
    "text": "For example, let's say\nwe're sorting this list.",
    "start": "1329580",
    "end": "1336140"
  },
  {
    "text": "10, 7, 23, 5, 2, 4, 3, and 9.",
    "start": "1336140",
    "end": "1345260"
  },
  {
    "text": "So I've got eight numbers\nthat I'm going to sort. So the first step is to\nrecursively sort that list.",
    "start": "1345260",
    "end": "1355110"
  },
  {
    "text": "And when I do that, I produce,\nso I'm sorting 10, 7, 23, 5.",
    "start": "1355110",
    "end": "1364380"
  },
  {
    "text": "And that produces, let's see,\nI'm going to get 5, 7, 10, 23. ",
    "start": "1364380",
    "end": "1375049"
  },
  {
    "text": "And then I recursively\nsort these guys. And that produces\n2, 3, 4, and 9.",
    "start": "1375050",
    "end": "1385429"
  },
  {
    "text": " I've done comparisons,\nbut haven't counted them",
    "start": "1385430",
    "end": "1390850"
  },
  {
    "text": "because they're\nin the recursion. Now I'm going to use\ncomparisons to merge the lists,",
    "start": "1390850",
    "end": "1396210"
  },
  {
    "text": "And the way I'm\ngoing to do that is",
    "start": "1396210",
    "end": "1401740"
  },
  {
    "text": "to look at the smallest item\nin each list and compare them.",
    "start": "1401740",
    "end": "1408150"
  },
  {
    "text": "Because I know the\nsmallest item overall is either this one or that one. And when I compare 2 to\n5, 2's the smaller one,",
    "start": "1408150",
    "end": "1416870"
  },
  {
    "text": "so I start with 2. And I strike it.",
    "start": "1416870",
    "end": "1422520"
  },
  {
    "text": "What two items do I compare next\nto get the next smallest item? 5 and 3.",
    "start": "1422520",
    "end": "1428520"
  },
  {
    "text": "Smallest remaining guys. I get 3. Scratch that guy. And I compare 5 and 4.",
    "start": "1428520",
    "end": "1435289"
  },
  {
    "text": "Get 4, scratch him. And 5 and 9.",
    "start": "1435290",
    "end": "1440610"
  },
  {
    "text": "5 is the smallest. 7 and 9. 7.",
    "start": "1440610",
    "end": "1445952"
  },
  {
    "text": "9 and 10.  And actually now I\ndon't really have",
    "start": "1445952",
    "end": "1451919"
  },
  {
    "text": "to do any more comparisons. All I've got is one list left. So I can just send\nthese guys down.",
    "start": "1451920",
    "end": "1458580"
  },
  {
    "text": " And I produced a sorted list. ",
    "start": "1458580",
    "end": "1467050"
  },
  {
    "text": "Now, how many comparisons do\nI have to do in the worst case",
    "start": "1467050",
    "end": "1473410"
  },
  {
    "text": "if this is n over 2 items here\nand this is n over 2 here?",
    "start": "1473410",
    "end": "1480620"
  },
  {
    "text": "How many comparisons\ndo I have to do to produce the n item\nsorted list after I",
    "start": "1480620",
    "end": "1486080"
  },
  {
    "text": "have the sub list sorted? What is it? n.",
    "start": "1486080",
    "end": "1491360"
  },
  {
    "text": "Very close. n minus 1 is right,\nbecause every time I",
    "start": "1491360",
    "end": "1498260"
  },
  {
    "text": "do a comparison I pull an\nitem and stick it in the list. But once I get down\nto the very last item,",
    "start": "1498260",
    "end": "1505020"
  },
  {
    "text": "just one guy sitting there, I\ndon't have to do a comparison. It was just the last guy. I know he's the largest.",
    "start": "1505020",
    "end": "1511060"
  },
  {
    "text": "So it could go up to n\nminus 1 in the worst case. In this situation, I\nactually did n minus 2",
    "start": "1511060",
    "end": "1518340"
  },
  {
    "text": "because I was left with\ntwo guys at the end, I just bring them down. But it might have been that\nthe next largest thing to 23",
    "start": "1518340",
    "end": "1524480"
  },
  {
    "text": "was here and then I would\nhave done n minus 1.",
    "start": "1524480",
    "end": "1529660"
  },
  {
    "text": "Any questions? Yeah. AUDIENCE: [INAUDIBLE].",
    "start": "1529660",
    "end": "1535380"
  },
  {
    "text": "Would that make it faster? TOM LEIGHTON: Well,\nthat's what's going to happen with the recursion.",
    "start": "1535380",
    "end": "1540872"
  },
  {
    "text": "Because the first\nthing we're going to do is when we unfold the\nrecursion is you're going to take the first\nhalf, split it in half,",
    "start": "1540872",
    "end": "1547610"
  },
  {
    "text": "recursively sort them\nand then merge them. So the answer is\nthat's going to happen,",
    "start": "1547610",
    "end": "1553020"
  },
  {
    "text": "but we're sort of going to\nhide it by the recursion. All right, you didn't see\nme produce that sorted list.",
    "start": "1553020",
    "end": "1560430"
  },
  {
    "text": "But I would have\ndone it by taking 10 and 7 sorting them, 5\nand 23 and sorting them and then merging them.",
    "start": "1560430",
    "end": "1567679"
  },
  {
    "text": "OK, any other questions?  All right, well let's\nset up the recursion",
    "start": "1567680",
    "end": "1572980"
  },
  {
    "text": "to count how many\ncomparisons are needed for the whole thing,\nnot just the last merge phase.",
    "start": "1572980",
    "end": "1579280"
  },
  {
    "start": "1579280",
    "end": "1594200"
  },
  {
    "text": "All right, so let's define. ",
    "start": "1594200",
    "end": "1599250"
  },
  {
    "text": "And instead of t sub n,\nI'm going to write t of n as a function. Makes no difference,\nbut you'll see people",
    "start": "1599250",
    "end": "1604420"
  },
  {
    "text": "do recurrences both ways. t of n or t sub n. It's going to be the\nnumber of comparisons.",
    "start": "1604420",
    "end": "1610268"
  },
  {
    "start": "1610268",
    "end": "1616179"
  },
  {
    "text": "Use my merge sort\nto sort n numbers.",
    "start": "1616180",
    "end": "1622770"
  },
  {
    "text": "In the worst case, worst case.  All right, so we already\nknow that merging",
    "start": "1622770",
    "end": "1634270"
  },
  {
    "text": "takes n minus 1 comparisons\nin the worst case.",
    "start": "1634270",
    "end": "1643810"
  },
  {
    "text": "And you always want to\nprepare for the worst case. ",
    "start": "1643810",
    "end": "1649860"
  },
  {
    "text": "How many comparisons are\nused in the recursive",
    "start": "1649860",
    "end": "1655010"
  },
  {
    "text": "steps to sort this list and\nto sort that list, in general.",
    "start": "1655010",
    "end": "1661030"
  },
  {
    "text": "tn over 2 to do\nthis list times 2.",
    "start": "1661030",
    "end": "1668400"
  },
  {
    "text": "Because you've got two\nlists of size n over 2. Two sub problems\nbesides n over 2. Each takes t of n over 2.",
    "start": "1668400",
    "end": "1675650"
  },
  {
    "text": "All right, so you've got\n2 tn over 2 comparisons",
    "start": "1675650",
    "end": "1684030"
  },
  {
    "text": "for the recursive sorting. ",
    "start": "1684030",
    "end": "1693010"
  },
  {
    "text": "That means that t of n equals\n2 t of n over 2 plus n minus 1.",
    "start": "1693010",
    "end": "1704850"
  },
  {
    "text": "And we should say\nwhat t of 1 is. What's that? What's the time to sort?",
    "start": "1704850",
    "end": "1711390"
  },
  {
    "text": "0. You don't do any comparisons\nif there's one item. So we'll set that\nas our base case. ",
    "start": "1711390",
    "end": "1722179"
  },
  {
    "text": "All right, so let's\nfind the answer. So the first thing to always\ndo when you see a recurrence",
    "start": "1722180",
    "end": "1729892"
  },
  {
    "text": "is to take a few values,\ncompute a few values, and try to guess the answer.",
    "start": "1729892",
    "end": "1737560"
  },
  {
    "text": "So what's t of 2? ",
    "start": "1737560",
    "end": "1743020"
  },
  {
    "text": "1. Plug it in. I get 2t of 1, t of\n1's 0, plus 2 minus 1.",
    "start": "1743020",
    "end": "1748220"
  },
  {
    "text": "That's 1.  And we're only doing\npowers of 4 here.",
    "start": "1748220",
    "end": "1753490"
  },
  {
    "text": "Sorry, powers of 2. So I go to t of 4 next. What's t of 4? ",
    "start": "1753490",
    "end": "1762420"
  },
  {
    "text": "5. Right, because I got double\nthis is 2 plus 4 minus 1.",
    "start": "1762420",
    "end": "1768670"
  },
  {
    "text": "That's adding 3. So I get 5. All right, let's look at t of 8.",
    "start": "1768670",
    "end": "1776500"
  },
  {
    "text": "That's twice 5 plus 8 minus 1.",
    "start": "1776500",
    "end": "1783380"
  },
  {
    "text": "17.  Not so clear what to guess here.",
    "start": "1783380",
    "end": "1791360"
  },
  {
    "text": "We can try one more. T of 16 equals 2 times\n17 plus 16 minus 1",
    "start": "1791360",
    "end": "1799480"
  },
  {
    "text": "equals 34 and 15 is 49.",
    "start": "1799480",
    "end": "1807280"
  },
  {
    "text": "Is that right? 34 and 15. ",
    "start": "1807280",
    "end": "1813460"
  },
  {
    "text": "Any guesses? ",
    "start": "1813460",
    "end": "1818780"
  },
  {
    "text": "You're not going to guess this. That's not going to work. That happens. And a miracle could happen,\nyou get a divine insight",
    "start": "1818780",
    "end": "1825160"
  },
  {
    "text": "and guess it, but I\nthink it's not likely. All right, so let's\ngo to plug and chug.",
    "start": "1825160",
    "end": "1833179"
  },
  {
    "text": "See if that works. ",
    "start": "1833180",
    "end": "1844370"
  },
  {
    "text": "All right, so now plug and chug. ",
    "start": "1844370",
    "end": "1851620"
  },
  {
    "text": "All right, so we\nwrite down t of n is-- and you always write their\ncurrent part last for plug",
    "start": "1851620",
    "end": "1857310"
  },
  {
    "text": "and chug to keep it simpler. 2 t of n over 2.",
    "start": "1857310",
    "end": "1863789"
  },
  {
    "text": "And then I substitute, I\nplug in for t of n over 2. So I have n minus 1\nplus 2 n over 2 minus 1",
    "start": "1863790",
    "end": "1874290"
  },
  {
    "text": "plus 2 t of n over 4.",
    "start": "1874290",
    "end": "1879410"
  },
  {
    "text": "Then I chug. So I have n minus 1\nplus that's n minus 2.",
    "start": "1879410",
    "end": "1888710"
  },
  {
    "text": "Plus 4 tn over 4. ",
    "start": "1888710",
    "end": "1893950"
  },
  {
    "text": "All right, then\nwe'll plug in here. ",
    "start": "1893950",
    "end": "1901630"
  },
  {
    "text": "And I get n over 4 minus\n1 plus 4 tn over 8.",
    "start": "1901630",
    "end": "1907705"
  },
  {
    "text": " And now we chug. ",
    "start": "1907705",
    "end": "1917179"
  },
  {
    "text": "That's an n here minus a 4. ",
    "start": "1917180",
    "end": "1923080"
  },
  {
    "text": "I did something wrong. That should be 2. 4 times 2 is 8 tn over 8.",
    "start": "1923080",
    "end": "1929652"
  },
  {
    "text": " All right, can you start to\nguess the pattern here maybe?",
    "start": "1929652",
    "end": "1937470"
  },
  {
    "text": "We probably should do\none more to be safe. But you got an n minus 1 plus\nan n minus 2 plus an n minus 4.",
    "start": "1937470",
    "end": "1945850"
  },
  {
    "text": "And if we do one more, what's\nthe next term going to be? n minus 8.",
    "start": "1945850",
    "end": "1951720"
  },
  {
    "text": "And this is looking\npretty simple. So we could guess now that\nthe pattern is n minus 1",
    "start": "1951720",
    "end": "1959830"
  },
  {
    "text": "plus n minus 2 plus\nn minus 4 all the way",
    "start": "1959830",
    "end": "1965070"
  },
  {
    "text": "out to plus n minus\n2 to the i minus 1 plus 2 to the i t\nn over 2 to the i.",
    "start": "1965070",
    "end": "1975350"
  },
  {
    "text": "And now we go all\nthe way down where i equals log n, base\n2, and see what we get.",
    "start": "1975350",
    "end": "1982480"
  },
  {
    "text": " 1 plus n minus 2 plus all\nthe way down n minus 2",
    "start": "1982480",
    "end": "1991390"
  },
  {
    "text": "to the log n minus 1 plus\n2 to the log n t of 1.",
    "start": "1991390",
    "end": "2002270"
  },
  {
    "text": "What's t of 1? 0. That's nice. That goes away.",
    "start": "2002270",
    "end": "2008679"
  },
  {
    "text": "All right, so this is\nnot looking so bad. This equals the sum i equals 0\nto log n minus 1 of n minus 2",
    "start": "2008680",
    "end": "2022120"
  },
  {
    "text": "to the i.  All right, and this\nwill be good practice maybe for towards the test.",
    "start": "2022120",
    "end": "2029850"
  },
  {
    "text": "Well, I can split that sum up. i equals 0 to log n minus 1\nof n minus the i equals 0 log",
    "start": "2029850",
    "end": "2042159"
  },
  {
    "text": "n minus 1 of 2 to the i.  Well, this is easy.",
    "start": "2042160",
    "end": "2047940"
  },
  {
    "text": "I'm just adding n up a\ntotal of log n times. So I have n log n.",
    "start": "2047940",
    "end": "2053658"
  },
  {
    "text": " This is just something\nthe powers of 2",
    "start": "2053659",
    "end": "2059049"
  },
  {
    "text": "which we know how to do. So that's going to be\n2 to the log n minus 1.",
    "start": "2059050",
    "end": "2066658"
  },
  {
    "text": "And so we get our answer\nis n log n minus 2",
    "start": "2066659",
    "end": "2073730"
  },
  {
    "text": "the log n is just n\nminus 1 is a plus 1.",
    "start": "2073730",
    "end": "2079710"
  },
  {
    "text": "Well, we derived an answer.  Let's just go back and\ncheck some of the values.",
    "start": "2079710",
    "end": "2087059"
  },
  {
    "text": "n equals 1. That's 0 and I get 1 minus 1. It works.",
    "start": "2087060",
    "end": "2092629"
  },
  {
    "text": "n equals 2. 2 log 2 is 2 minus 2 plus 1.",
    "start": "2092630",
    "end": "2100040"
  },
  {
    "text": "Works. Plug in 4, I get 4 log 4 is\n8 minus 4 is 4 plus 1 is 5.",
    "start": "2100040",
    "end": "2107900"
  },
  {
    "text": "So it works for those examples. Now, to be really careful we\nshould prove it by induction.",
    "start": "2107900",
    "end": "2114690"
  },
  {
    "text": "Because when you do\nenough of these equations, you make mistakes like I\ninvariably do even up here.",
    "start": "2114690",
    "end": "2119920"
  },
  {
    "text": "And even though it's\nwritten down here, I'll make mistakes\nwriting it on the board. And so you want to\ncheck by induction.",
    "start": "2119920",
    "end": "2126245"
  },
  {
    "text": " OK, so this is the answer.",
    "start": "2126245",
    "end": "2131880"
  },
  {
    "text": "This is how many comparisons\nare done in merge sort. And the nice thing is this\nis growing nearly linearly.",
    "start": "2131880",
    "end": "2140550"
  },
  {
    "text": "It grows as n log n. And that's why this algorithm\nis used a lot in practice. Much better than\ncomparing every item",
    "start": "2140550",
    "end": "2146330"
  },
  {
    "text": "to every other item, which would\nbe more like n squared steps. So much better than a\nnaive sorting algorithm.",
    "start": "2146330",
    "end": "2154270"
  },
  {
    "text": "Any questions about\nwhat we did there? Just one rule of thumb when\nyou're doing the plug and chug.",
    "start": "2154270",
    "end": "2165240"
  },
  {
    "text": "Notice that I didn't try to\ncollapse terms along the way.",
    "start": "2165240",
    "end": "2170869"
  },
  {
    "text": "It makes it easier sometimes\nto see the pattern. I left it as n minus 1 plus n\nminus 2 and then plus n minus 4",
    "start": "2170870",
    "end": "2177570"
  },
  {
    "text": "rather than saying,\noh, this is 3 n minus 7, which might have made\nit harder to guess the pattern.",
    "start": "2177570",
    "end": "2183560"
  },
  {
    "text": "So you don't always, when you're\ndoing the chugging, collapse everything down. You want to try and\nsee if there are some. Because this is the amount\nof work done at each step,",
    "start": "2183560",
    "end": "2190050"
  },
  {
    "text": "and you want to see if you\ncan see a pattern in that. ",
    "start": "2190050",
    "end": "2197070"
  },
  {
    "text": "All right, so let's write\ndown our two recurrences and sort of compare them.",
    "start": "2197070",
    "end": "2202090"
  },
  {
    "start": "2202090",
    "end": "2212870"
  },
  {
    "text": "So first we did Towers of\nHanoi, which was t of n equals 2 t of n minus 1 plus 1.",
    "start": "2212870",
    "end": "2222380"
  },
  {
    "text": "And the answer was t of\nn is tilde 2 to the n.",
    "start": "2222380",
    "end": "2228454"
  },
  {
    "text": "It was actually 2\nto the n minus 1. Then we did merge sort, which is\nt of n equals 2 t of n over 2.",
    "start": "2228455",
    "end": "2239760"
  },
  {
    "text": "Difference there. Plus n minus 1. And now the answer was t of n.",
    "start": "2239760",
    "end": "2246970"
  },
  {
    "text": "What's the tilde for this one? For merge sort.",
    "start": "2246970",
    "end": "2252600"
  },
  {
    "text": "n log n. Yeah, I can forget the rest\nif I know the tilde, n log n. ",
    "start": "2252600",
    "end": "2260140"
  },
  {
    "text": "Wow. These are pretty\ndifferent answers, right?",
    "start": "2260140",
    "end": "2265290"
  },
  {
    "text": "This one's nearly linear,\nthat one's exponential. ",
    "start": "2265290",
    "end": "2270809"
  },
  {
    "text": "The recurrences\nlooks pretty similar, in fact, this one\nsort of looks worse",
    "start": "2270810",
    "end": "2275970"
  },
  {
    "text": "because I'm adding in n minus\n1 every time instead of 1. But the answer's a lot\nbetter, a lot smaller.",
    "start": "2275970",
    "end": "2285060"
  },
  {
    "text": "What's the critical difference\nbetween these recurrences? Yeah? ",
    "start": "2285060",
    "end": "2292440"
  },
  {
    "text": "AUDIENCE: You're dropping the\nargument of t a lot faster. You're cutting it\nin half every time",
    "start": "2292440",
    "end": "2298700"
  },
  {
    "text": "instead of subtracting one. TOM LEIGHTON: Right. AUDIENCE: So it's going\nto go away faster. TOM LEIGHTON: That's right. Here I've got two\nproblems of size one less.",
    "start": "2298700",
    "end": "2306559"
  },
  {
    "text": "Here I've got two\nproblems of half a size. And that makes an enormous\ndifference in the answer.",
    "start": "2306560",
    "end": "2313450"
  },
  {
    "text": "Even though I'm\ndoing more work after did the recursive problems,\nmuch faster running",
    "start": "2313450",
    "end": "2319700"
  },
  {
    "text": "time or answer if these are\nalgorithms that I'm analyzing.",
    "start": "2319700",
    "end": "2325540"
  },
  {
    "text": "All right? In fact, let's\ntake a look at what happens if I didn't use that n\nminus 1, I just put a 1 there.",
    "start": "2325540",
    "end": "2335050"
  },
  {
    "text": "Let's see what impact\nthat n minus 1 had. So let's do the\nfollowing recurrence.",
    "start": "2335050",
    "end": "2345080"
  },
  {
    "text": "This one is going to be a little\nbit different because I'm not going to stick to powers of 2.",
    "start": "2345080",
    "end": "2350900"
  },
  {
    "text": "I'm going to get a little\nmessier, because that often happens in reality. And I'm going to\ndefine s of 1 is 0.",
    "start": "2350900",
    "end": "2360690"
  },
  {
    "text": "s of n is s of the floor\nfunction of n over 2",
    "start": "2360690",
    "end": "2369599"
  },
  {
    "text": "plus s of the ceiling\nfunction of n over 2 plus 1.",
    "start": "2369600",
    "end": "2375540"
  },
  {
    "text": " Now, the ceiling function\nmeans the smallest integer",
    "start": "2375540",
    "end": "2385460"
  },
  {
    "text": "that's at least that big. So you're sort of rounding\nup to the next integer. ",
    "start": "2385460",
    "end": "2400260"
  },
  {
    "text": "And the floor function\nmeans you're rounding down to the next integer. So it's the biggest integer\nless than equal to n over 2.",
    "start": "2400260",
    "end": "2413190"
  },
  {
    "text": "All right. Now, if we had just\npowers of 2, this would be much easier to write.",
    "start": "2413190",
    "end": "2419380"
  },
  {
    "text": "It would just be sn\nequals 2 sn over 2 plus 1.",
    "start": "2419380",
    "end": "2424984"
  },
  {
    "text": "So it's analogous to what we're\ndoing up there where we're just adding 1 instead of n minus 1. But I'm being careful. now.",
    "start": "2424985",
    "end": "2430870"
  },
  {
    "text": "I'm going to make\nthis recurrence work for all natural numbers. Because sometimes\nin reality, you're",
    "start": "2430870",
    "end": "2437060"
  },
  {
    "text": "dealing with non powers of 2. ",
    "start": "2437060",
    "end": "2443440"
  },
  {
    "text": "All right, let's see\nif we can solve this. What's the first thing\nto try to solve this?",
    "start": "2443440",
    "end": "2450170"
  },
  {
    "text": "What do you do? ",
    "start": "2450170",
    "end": "2456519"
  },
  {
    "text": "What's the first step\nwhen you get a recurrence? You try to solve. ",
    "start": "2456520",
    "end": "2463300"
  },
  {
    "text": "What method should you try? Guess. And to guess, well, you\ngot to plug some values in.",
    "start": "2463300",
    "end": "2470840"
  },
  {
    "text": "It's sort of hard to guess. I mean, looking at that, I guess\nnothing comes to mind other",
    "start": "2470840",
    "end": "2475940"
  },
  {
    "text": "than panic looking at that. But if we plug in some values,\nthen maybe it won't be so bad.",
    "start": "2475940",
    "end": "2481470"
  },
  {
    "text": "So we've got s1 equals 0. What's s2? ",
    "start": "2481470",
    "end": "2494039"
  },
  {
    "text": "It's not 3, because this is 2\nover 2 is 1, floor of 1 is 1.",
    "start": "2494040",
    "end": "2499380"
  },
  {
    "text": "s of 1 is 0. Ceiling of 1 is 1\nbecause it's an integer.",
    "start": "2499380",
    "end": "2505460"
  },
  {
    "text": "s of 1 is 0 plus 1. So s of 2 is 1.",
    "start": "2505460",
    "end": "2511400"
  },
  {
    "text": "What's s of 3? Yikes, all right. 3 over 2 is 1 and 1/2.",
    "start": "2511400",
    "end": "2517510"
  },
  {
    "text": "What's the floor of 1 and 1/2? 1. s of 1 is 0. That's gone.",
    "start": "2517510",
    "end": "2522530"
  },
  {
    "text": "What's the ceiling of 1 and 1/2? 2. s of 2 is 1 plus 1.",
    "start": "2522530",
    "end": "2529470"
  },
  {
    "text": "What's the answer for s of 3?  2, because I've got 0, 1, and 1.",
    "start": "2529470",
    "end": "2540120"
  },
  {
    "text": "s of 4. This one's easy\nbecause it's even.",
    "start": "2540120",
    "end": "2545540"
  },
  {
    "text": "I get s of 2, which is 1 plus\ns of two which is 1 plus 1.",
    "start": "2545540",
    "end": "2551500"
  },
  {
    "text": "So what's s of 4? 3. You might try a guess.",
    "start": "2551500",
    "end": "2558880"
  },
  {
    "text": "What would you guess? Yeah, n minus 1. So we're going to guess\ns of n equals n minus 1.",
    "start": "2558880",
    "end": "2571297"
  },
  {
    "text": "And that's not so bad, actually. It's pretty simple. Looking at that mess, you'd\nnever think of that right away.",
    "start": "2571297",
    "end": "2576900"
  },
  {
    "text": "But once you plug in some\nvalues it's not so bad. All right, let's verify it.",
    "start": "2576900",
    "end": "2582012"
  },
  {
    "text": " And we're going to verify\nby strong induction.",
    "start": "2582012",
    "end": "2587261"
  },
  {
    "start": "2587261",
    "end": "2594790"
  },
  {
    "text": "The induction\nhypothesis is our guess. ",
    "start": "2594790",
    "end": "2606703"
  },
  {
    "text": "The base case is easy. ",
    "start": "2606704",
    "end": "2611870"
  },
  {
    "text": "Because I've got s of 1 is 0. And that equals 1 minus 1.",
    "start": "2611870",
    "end": "2620160"
  },
  {
    "text": "So that's good. So let's do the induction step. ",
    "start": "2620160",
    "end": "2640530"
  },
  {
    "text": "All right, so the\ninduction step. ",
    "start": "2640530",
    "end": "2647690"
  },
  {
    "text": "We're going to assume that\np1 is true, p2 is true,",
    "start": "2647690",
    "end": "2655849"
  },
  {
    "text": "all the way up to pn, to\nprove pn plus 1 is true.",
    "start": "2655850",
    "end": "2664128"
  },
  {
    "text": " For n better than or equal to 1. And then we look at\nthe n plus first term.",
    "start": "2664128",
    "end": "2672880"
  },
  {
    "text": "That equals s of floor n plus\n1 over 2 plus s of ceiling n",
    "start": "2672880",
    "end": "2681990"
  },
  {
    "text": "plus 1 over 2 plus 1.",
    "start": "2681990",
    "end": "2687710"
  },
  {
    "text": "All right, now I don't know what\nthese are exactly depending on whether n is even a rod.",
    "start": "2687710",
    "end": "2695820"
  },
  {
    "text": "First let me plug in using\nthe induction hypothesis. I know that this is n\nplus 1 over 2 minus 1.",
    "start": "2695820",
    "end": "2706040"
  },
  {
    "text": "This is ceiling n\nplus 1 over 2 minus 1.",
    "start": "2706040",
    "end": "2711850"
  },
  {
    "text": "And then I carry\nthe plus 1 down. That's by the\ninduction hypothesis. ",
    "start": "2711850",
    "end": "2720760"
  },
  {
    "text": "All right, now I don't\nknow exactly what either of these values is\nunless I know the parity of n.",
    "start": "2720760",
    "end": "2726640"
  },
  {
    "text": "But I do know the sum\nof these two things. The floor of something plus\nthe ceiling of that something",
    "start": "2726640",
    "end": "2734150"
  },
  {
    "text": "is twice the something. All right, so this plus\nthat equals n plus 1.",
    "start": "2734150",
    "end": "2742940"
  },
  {
    "text": "Minus 1 minus 1\nplus 1 is minus 1. And so in fact, we\nprove that s of n plus 1",
    "start": "2742940",
    "end": "2749670"
  },
  {
    "text": "equals n plus 1 minus 1. So we verified the\ninduction hypothesis.",
    "start": "2749670",
    "end": "2758680"
  },
  {
    "text": "Yeah? AUDIENCE: [INAUDIBLE]. ",
    "start": "2758680",
    "end": "2768040"
  },
  {
    "text": "Taking the n [INAUDIBLE].  TOM LEIGHTON: Let's\nsee, I'm not sure.",
    "start": "2768040",
    "end": "2773460"
  },
  {
    "text": "So are you asking why I\nstarted sn plus 1 here? AUDIENCE: [INAUDIBLE].",
    "start": "2773460",
    "end": "2779198"
  },
  {
    "start": "2779198",
    "end": "2787332"
  },
  {
    "text": "TOM LEIGHTON: Doesn't matter. But the expression\nis s of whatever",
    "start": "2787332",
    "end": "2793140"
  },
  {
    "text": "this is, the induction\nhypothesis would be, s of whatever's inside there\nis what's inside there minus 1.",
    "start": "2793140",
    "end": "2800240"
  },
  {
    "text": "And so the induction hypothesis\nsays s of this is that minus 1. ",
    "start": "2800240",
    "end": "2808437"
  },
  {
    "text": "Any other questions? ",
    "start": "2808437",
    "end": "2815260"
  },
  {
    "text": "So let's write that\non our table up here. ",
    "start": "2815260",
    "end": "2821950"
  },
  {
    "text": "So this is sn equals\ns of floor n over 2",
    "start": "2821950",
    "end": "2827980"
  },
  {
    "text": "plus s of ceiling\nn over 2 plus 1.",
    "start": "2827980",
    "end": "2833926"
  },
  {
    "text": "And the answer is, sn is tilde.",
    "start": "2833926",
    "end": "2839020"
  },
  {
    "text": "What's the tilde of?  n. The answer is n minus 1.",
    "start": "2839020",
    "end": "2844680"
  },
  {
    "text": "So it's tilde of n. Now, this is the same expression\nis this if n's a power of 2.",
    "start": "2844680",
    "end": "2852310"
  },
  {
    "text": "I'd have 2 sn over 2 plus\n1 instead of n minus 1.",
    "start": "2852310",
    "end": "2857440"
  },
  {
    "text": "And by going from n minus 1 to\n1, I got rid of the log term.",
    "start": "2857440",
    "end": "2864450"
  },
  {
    "text": "But it's still not exponential. And that's because I'm\ncutting down the insides",
    "start": "2864450",
    "end": "2870370"
  },
  {
    "text": "here by a factor of 2 roughly. ",
    "start": "2870370",
    "end": "2879260"
  },
  {
    "text": "All right, so all the\nrecurrences we've seen so far have been pretty simple.",
    "start": "2879260",
    "end": "2885540"
  },
  {
    "text": "If guess and verify doesn't\nwork after seeing a few terms, you can use plug and chug\nand you can figure it out.",
    "start": "2885540",
    "end": "2891750"
  },
  {
    "text": "The good news is, that\nhappens a lot in practice. The bad news is, sometimes\nit doesn't and you",
    "start": "2891750",
    "end": "2898299"
  },
  {
    "text": "can get nasty recurrences. So let me show you a nasty\none that actually was once",
    "start": "2898300",
    "end": "2907250"
  },
  {
    "text": "asked in 6046, I think, on a\nquiz with disastrous results.",
    "start": "2907250",
    "end": "2917417"
  },
  {
    "start": "2917417",
    "end": "2926340"
  },
  {
    "text": "All right, so this one is t\nof x equals 2 t of x over 2",
    "start": "2926340",
    "end": "2937960"
  },
  {
    "text": "plus 8/9 t of 3x\nover 4 plus x squared",
    "start": "2937960",
    "end": "2948260"
  },
  {
    "text": "for x bigger and equal\nto 1, and otherwise it's 0 when x is less than 1.",
    "start": "2948260",
    "end": "2954410"
  },
  {
    "text": " Now, this is nasty\nfor a lot of reasons.",
    "start": "2954410",
    "end": "2961890"
  },
  {
    "text": "First, it's not just a\nfind on the integers. We can make an integer version\nby putting floors or ceilings",
    "start": "2961890",
    "end": "2968690"
  },
  {
    "text": "here. But the way you set it up now,\nit's defined on real numbers. ",
    "start": "2968690",
    "end": "2976650"
  },
  {
    "text": "You can, in theory, solve\nit with plug and chug. The nasty part is, you've got\na bunch of things going down",
    "start": "2976650",
    "end": "2984520"
  },
  {
    "text": "by powers of 2 and a bunch of\nthings going down by 3/4 here. And so you have to keep\ntrack of all the terms",
    "start": "2984520",
    "end": "2991400"
  },
  {
    "text": "that are decreasing, and that's\na nightmare plug and chug. Because it's not just one\nthing that's unfolding, it's two things\nthat are unfolding.",
    "start": "2991400",
    "end": "2998890"
  },
  {
    "text": "So very painful. Now, it used to be that\nwas the state of life.",
    "start": "2998890",
    "end": "3005390"
  },
  {
    "text": "20 years ago, I think we started\nteaching this course sometime around then, there\njust was nothing else",
    "start": "3005390",
    "end": "3011700"
  },
  {
    "text": "to say other than life's\ntough and sometimes you've got to do these things\nand it's a pain.",
    "start": "3011700",
    "end": "3018030"
  },
  {
    "text": "Just had to make the best of it. And then in the mid-90s,\none day two students",
    "start": "3018030",
    "end": "3024730"
  },
  {
    "text": "at the American University\nin Beirut came by my office. They were named Akra and Bazzi.",
    "start": "3024730",
    "end": "3032589"
  },
  {
    "text": "And they'd actually\ncome to Boston to escape the daily bombings. This was when all heck was\nbreaking loose in Beirut.",
    "start": "3032590",
    "end": "3037900"
  },
  {
    "text": "It was a mess. And they come into\nmy office and they claim to have a simple\nformula for solving",
    "start": "3037900",
    "end": "3044109"
  },
  {
    "text": "any recurrence like this. In fact, you can even\nadd a 5 t of x over 7.",
    "start": "3044110",
    "end": "3051589"
  },
  {
    "text": "They said no problem. Their simple formula\njust will always work. And the general form\nthat they claim to solve",
    "start": "3051590",
    "end": "3060100"
  },
  {
    "text": "was the following. It's the general class of\ndivide and conquer recurrences.",
    "start": "3060100",
    "end": "3066490"
  },
  {
    "text": "So any recurrence you\nget from an algorithm where you break it into smaller\npieces by a constant factor,",
    "start": "3066490",
    "end": "3072130"
  },
  {
    "text": "they claim to solve. So let me define this class. It's a little painful.",
    "start": "3072130",
    "end": "3078290"
  },
  {
    "start": "3078290",
    "end": "3088330"
  },
  {
    "text": "So a divide and conquer\nrecurrence has the form.",
    "start": "3088330",
    "end": "3094268"
  },
  {
    "text": " There's a simple version\nand the hard version.",
    "start": "3094268",
    "end": "3101290"
  },
  {
    "text": "The simple version is\nit looks like that. You got a bunch of terms.",
    "start": "3101290",
    "end": "3107210"
  },
  {
    "text": "Inside each term, you cut\nit down by a constant factor and then you add\nsomething at the end.",
    "start": "3107210",
    "end": "3112290"
  },
  {
    "text": "That's the simple version\nof what a divide and conquer recurrence is. And you can throw in floors and\nceilings and other junk too.",
    "start": "3112290",
    "end": "3119856"
  },
  {
    "text": "Now I'm going to give\nyou the formal version. ",
    "start": "3119856",
    "end": "3124950"
  },
  {
    "text": "So it has the form t of x\nequals some constant a1 times",
    "start": "3124950",
    "end": "3131119"
  },
  {
    "text": "t of a constant less than\nb1 of x, plus some slop",
    "start": "3131120",
    "end": "3137080"
  },
  {
    "text": "you're allowed to have\nlike floors and ceilings and who knows what else.",
    "start": "3137080",
    "end": "3142170"
  },
  {
    "text": "And then you get more of these. You get a2, t of b2x plus\nepsilon 2x and so forth.",
    "start": "3142170",
    "end": "3153450"
  },
  {
    "text": "And you can have\nany number of these you want up to a constant. So maybe there's a sub k t\nb sub kx plus epsilon kx.",
    "start": "3153450",
    "end": "3163285"
  },
  {
    "text": " Plus some function of x sitting\nout here, like the x squared.",
    "start": "3163285",
    "end": "3171330"
  },
  {
    "text": "And this happens for x\nbigger than some fixed value, some constant.",
    "start": "3171330",
    "end": "3177690"
  },
  {
    "text": "Now, the constraints are,\nwell, the ai's are positive",
    "start": "3177690",
    "end": "3183096"
  },
  {
    "text": "constants.  The bi's are positive\nand less than 1.",
    "start": "3183096",
    "end": "3192650"
  },
  {
    "text": "You gotta cut it down by a\nconstant factor to be a divide and conquer recurrence. That's critical. ",
    "start": "3192650",
    "end": "3199740"
  },
  {
    "text": "k is fixed. It's constant. ",
    "start": "3199740",
    "end": "3205720"
  },
  {
    "text": "And these epsilon\nfunctions can't be too big. They can't be bigger than 0\nof x over log squared of x.",
    "start": "3205720",
    "end": "3214390"
  },
  {
    "text": "Almost as big as x, but you\ncan't let them be too big or you'll not be cutting things\ndown by a constant factor.",
    "start": "3214390",
    "end": "3222390"
  },
  {
    "text": "Now, you don't get\ntoo hung up over this because you don't get\ntoo deep in the details.",
    "start": "3222390",
    "end": "3228030"
  },
  {
    "text": "But this is that most 0 of\nx over log squared of x.",
    "start": "3228030",
    "end": "3233146"
  },
  {
    "text": " And finally, the g thing\nhas got to be polynomial.",
    "start": "3233146",
    "end": "3240550"
  },
  {
    "text": "It can't be an exponent. You can't put 2 to the x here. And the formal way\nthat's expressed is the derivative of\ng of x is less than x",
    "start": "3240550",
    "end": "3251720"
  },
  {
    "text": "to the c for some constant c. ",
    "start": "3251720",
    "end": "3258450"
  },
  {
    "text": "That's it. So this is a mouthful. But like I said before,\nanything that looks",
    "start": "3258450",
    "end": "3263559"
  },
  {
    "text": "like that, basically. As long as you don't\nthrow in exponentials or do something too\nwild to it, it works.",
    "start": "3263560",
    "end": "3272370"
  },
  {
    "text": "So let's see which of our\nguys over here are divide and conquer recurrences.",
    "start": "3272370",
    "end": "3277790"
  },
  {
    "start": "3277790",
    "end": "3283390"
  },
  {
    "text": "How about this one? Towers of Hanoi, is that a\ndivide and conquer recurrence?",
    "start": "3283390",
    "end": "3289300"
  },
  {
    "text": "Some yes, some no. Who thinks no can\ntell me why it's not?",
    "start": "3289300",
    "end": "3294540"
  },
  {
    "text": "Why isn't that? AUDIENCE: [INAUDIBLE].  TOM LEIGHTON: That's right.",
    "start": "3294540",
    "end": "3300060"
  },
  {
    "text": "The recurrence\nproblem is n minus 1 and we've got to make it down\nby a constant factor here.",
    "start": "3300060",
    "end": "3307300"
  },
  {
    "text": "The b1 is less than 1. It can't be equal to 1. And this is not big enough\nto make up for the x over 2",
    "start": "3307300",
    "end": "3314330"
  },
  {
    "text": "term or something we're missing. So whenever you have an\nn minus 1 and minus 2,",
    "start": "3314330",
    "end": "3319690"
  },
  {
    "text": "that is not divide and conquer. We'll discuss those\nnext time, on Thursday,",
    "start": "3319690",
    "end": "3324859"
  },
  {
    "text": "how to solve those. So that's not\ndivide and conquer.",
    "start": "3324860",
    "end": "3329957"
  },
  {
    "text": "What about this one? Is that divide and conquer here? ",
    "start": "3329957",
    "end": "3335480"
  },
  {
    "text": "Yes. You've got two problems\nof half the size and you're adding\na linear function.",
    "start": "3335480",
    "end": "3342060"
  },
  {
    "text": "It's not exponential. It's polynomial. That is divide and conquer.",
    "start": "3342060",
    "end": "3347710"
  },
  {
    "text": "What about this nasty guy? Is that divide and conquer? ",
    "start": "3347710",
    "end": "3354700"
  },
  {
    "text": "Yeah. You've got basically\nn over 2 here. Two n over 2 terms now.",
    "start": "3354700",
    "end": "3360319"
  },
  {
    "text": "This is where that epsilon\nthing comes in handy. Because epsilon 1\nof n, in this case,",
    "start": "3360320",
    "end": "3365599"
  },
  {
    "text": "is floor n over\n2 minus n over 2.",
    "start": "3365600",
    "end": "3373020"
  },
  {
    "text": "And that's, at most, 1. ",
    "start": "3373020",
    "end": "3378180"
  },
  {
    "text": "So maybe we're adding a half\nhere or something like that. And we're allowed\nto add anything up to n over log\nsquared of n to fit.",
    "start": "3378180",
    "end": "3387240"
  },
  {
    "text": "So you can mess around with\nthe low order terms in here. And adding 1 is fine as well.",
    "start": "3387240",
    "end": "3393560"
  },
  {
    "text": "So that qualifies.  Let's check that\nthis thing qualifies.",
    "start": "3393560",
    "end": "3400829"
  },
  {
    "text": "Let's check that. ",
    "start": "3400830",
    "end": "3410570"
  },
  {
    "text": "Well, yeah. I got 2 constant a1 t of 1/2 x.",
    "start": "3410570",
    "end": "3417840"
  },
  {
    "text": "That's OK. 8/9 t of 3/4 x. That's OK.",
    "start": "3417840",
    "end": "3422849"
  },
  {
    "text": "My g function is a polynomial. The derivative is 2x. That's less than x to a\npower or of x to a power.",
    "start": "3422850",
    "end": "3429800"
  },
  {
    "text": "So this fits.  Any questions about\nthe definition",
    "start": "3429800",
    "end": "3436859"
  },
  {
    "text": "of a divide and\nconquer recurrence? ",
    "start": "3436860",
    "end": "3443722"
  },
  {
    "text": "And you can see why\nsort of they come up, because whenever you're solving\na problem with recursive pieces",
    "start": "3443722",
    "end": "3448800"
  },
  {
    "text": "that are a constant\nfactor smaller, you're going to have something\nthat looks like that.",
    "start": "3448800",
    "end": "3454140"
  },
  {
    "text": "OK, so getting back\nto Akra and Bazzi. B They show up in my office. They claim to have solved\nanything like this.",
    "start": "3454140",
    "end": "3461050"
  },
  {
    "text": "Now needless to say,\nI'm a little skeptical. I got to tell you, you're a\nprofessor at MIT, especially",
    "start": "3461050",
    "end": "3467150"
  },
  {
    "text": "mathematics, and\npeople are always coming by with proofs of\nthe Riemann hypothesis,",
    "start": "3467150",
    "end": "3474020"
  },
  {
    "text": "p equals np, p doesn't equal np. And this was a classic problem.",
    "start": "3474020",
    "end": "3480020"
  },
  {
    "text": "Hundreds of\nresearchers had studied recurrences for decades. And not only, it\nwasn't even believed",
    "start": "3480020",
    "end": "3486670"
  },
  {
    "text": "that there was\npossibly a solution. It's not like it's one of these\nopen questions where we all believe p doesn't\nequal np and it's just",
    "start": "3486670",
    "end": "3493300"
  },
  {
    "text": "a matter of proving it. People didn't think a solution\nexisted that would be clean.",
    "start": "3493300",
    "end": "3498770"
  },
  {
    "text": "I mean, look at just\nthe definition's a mess. And how could there possibly\nbe a clean solution to that?",
    "start": "3498770",
    "end": "3505060"
  },
  {
    "text": "So it's sort of\nlike the holy grail. It doesn't exist, but\nit's fun to think about, that fantasy, maybe there's a\nsolution and you could find it.",
    "start": "3505060",
    "end": "3515369"
  },
  {
    "text": "And much less, these aren't\nreputable researchers in my office. These are two\nstudents from Beirut",
    "start": "3515370",
    "end": "3521859"
  },
  {
    "text": "named Akra and Bazzi\nclaiming they've figured out this thing that all these\nprofessors been teaching",
    "start": "3521860",
    "end": "3527030"
  },
  {
    "text": "this stuff in 6046 for\nyears said you've got to do plug and chug.",
    "start": "3527030",
    "end": "3533350"
  },
  {
    "text": "Anyway, they'd been kicked out\nof everybody else's office, so I said, OK, let's do it. Show me the solution.",
    "start": "3533350",
    "end": "3540650"
  },
  {
    "text": "And they did. And I go, holy cow. It's right. It looks good.",
    "start": "3540650",
    "end": "3545880"
  },
  {
    "text": "Now, they had a\nfew details wrong, but my goodness, the\nanswer was correct and it's amazingly simple.",
    "start": "3545880",
    "end": "3552680"
  },
  {
    "text": "So now we teach it. And in fact, you can\nwrite the solution",
    "start": "3552680",
    "end": "3558610"
  },
  {
    "text": "down easier than you can\nwrite the definition of divide and conquer recurrence.",
    "start": "3558610",
    "end": "3564870"
  },
  {
    "text": "Really remarkable.  So the theorem by\nAkra and Bazzi in '96.",
    "start": "3564870",
    "end": "3579950"
  },
  {
    "text": " Set p, real number, So that\nthe sum i equals 1 to k",
    "start": "3579950",
    "end": "3595240"
  },
  {
    "text": "of ai times bi to\nthe p equals 1.",
    "start": "3595240",
    "end": "3600720"
  },
  {
    "text": "So the ai's are\nthese things here. The bi's are the fractions here.",
    "start": "3600720",
    "end": "3607720"
  },
  {
    "text": "All right, find a p\nsuch that this sum is 1.",
    "start": "3607720",
    "end": "3613540"
  },
  {
    "text": "Then the answer is this. Then t of x equals theta.",
    "start": "3613540",
    "end": "3621740"
  },
  {
    "text": "We're going to use our\nasymptotic notation. x to the p plus x to\nthe p times the integral",
    "start": "3621740",
    "end": "3629180"
  },
  {
    "text": "from 1 to x g of u. G is that polynomial thing,\nthat thing at the end.",
    "start": "3629180",
    "end": "3637070"
  },
  {
    "text": "Over u to the p minus 1 du. ",
    "start": "3637070",
    "end": "3643050"
  },
  {
    "text": "That's it. This is really great\nnews for you guys, especially if you\ngo on to algorithms,",
    "start": "3643050",
    "end": "3649940"
  },
  {
    "text": "because you don't\nhave to deal with plug and chug on nasty things. You just solve the answer.",
    "start": "3649940",
    "end": "3655896"
  },
  {
    "text": " Now, the proof is\nby guess and verify.",
    "start": "3655896",
    "end": "3663300"
  },
  {
    "text": "And they made a\nreally good guess.  You wouldn't think of\nlooking at that, oh,",
    "start": "3663300",
    "end": "3669951"
  },
  {
    "text": "I'm going to guess this. Probably not. And there's no real numbers\nto try to guess this.",
    "start": "3669951",
    "end": "3676310"
  },
  {
    "text": "It's asymptotic notation. But it works. You can verify it by induction.",
    "start": "3676310",
    "end": "3681640"
  },
  {
    "text": "It's a little painful\nto verify by induction, but you can do it. We won't do it in class. I did try one year,\nand it was a disaster,",
    "start": "3681640",
    "end": "3688660"
  },
  {
    "text": "so we don't do it\nin class anymore. But let's see some examples\nof how to apply this.",
    "start": "3688660",
    "end": "3693990"
  },
  {
    "text": " So let's start with merge sort,\nwhich is the second one here.",
    "start": "3693990",
    "end": "3702481"
  },
  {
    "text": "Let's do that. ",
    "start": "3702481",
    "end": "3713190"
  },
  {
    "text": "All right, so you\ngot an example here. t of x equals 2 t of x over 2\nplus n minus 1, or x minus 1, x",
    "start": "3713190",
    "end": "3726760"
  },
  {
    "text": "now. And I'm not even going to worry\nabout powers of 2 anymore. I don't care. It's going to be fine.",
    "start": "3726760",
    "end": "3734210"
  },
  {
    "text": "All right, what\nis p in this case? I've only got one term. I don't even need a sum from\nthat definition over there.",
    "start": "3734210",
    "end": "3742260"
  },
  {
    "text": "What's the value\nof p for this guy?",
    "start": "3742260",
    "end": "3747400"
  },
  {
    "text": "So I've got a1 is 2. b1 is 1/2.",
    "start": "3747400",
    "end": "3753280"
  },
  {
    "text": "Just one term.  What's the value of p such that\n2 times 1/2 to the p equals 1?",
    "start": "3753280",
    "end": "3762900"
  },
  {
    "text": "1. Doesn't get much simpler. So 2 times 1/2 to the p\nequals 1 implies p is 1.",
    "start": "3762900",
    "end": "3773460"
  },
  {
    "text": "All right, now I just plug\ninto the integral over there. All right, let's do that.",
    "start": "3773460",
    "end": "3778476"
  },
  {
    "start": "3778476",
    "end": "3792370"
  },
  {
    "text": "So t of x equals theta. Well, x to the p is x to\nthe 1 plus just take off",
    "start": "3792370",
    "end": "3800619"
  },
  {
    "text": "the 1, plus x times\nthe integral 1 to x. What's the g function?",
    "start": "3800620",
    "end": "3809220"
  },
  {
    "text": "What's g of x in this case?  x minus 1.",
    "start": "3809220",
    "end": "3815950"
  },
  {
    "text": "So I take the integral of\ng of u is just u minus 1",
    "start": "3815950",
    "end": "3822730"
  },
  {
    "text": "over u to the p\nplus 1 p minus 1.",
    "start": "3822730",
    "end": "3833770"
  },
  {
    "text": "Did I write the formula right? Is it plus 1 or minus 1 here?",
    "start": "3833770",
    "end": "3840840"
  },
  {
    "text": "Did I get it? p plus 1. Sorry, didn't write that right. p plus 1 over here.",
    "start": "3840840",
    "end": "3847136"
  },
  {
    "text": " All right, so u to the p\nplus 1 is u squared du.",
    "start": "3847136",
    "end": "3854859"
  },
  {
    "text": " This is theta of x plus x\nintegral 1 over u minus 1",
    "start": "3854860",
    "end": "3867579"
  },
  {
    "text": "over u squared. ",
    "start": "3867580",
    "end": "3880650"
  },
  {
    "text": "The integral of 1 over\nu is the log of u.  The integral of 1 over\nu squared is 1 over u,",
    "start": "3880650",
    "end": "3890640"
  },
  {
    "text": "but I changed the sign there. 1 to x. ",
    "start": "3890640",
    "end": "3899859"
  },
  {
    "text": "All right, so I get theta of\nx plus x times log of x plus 1",
    "start": "3899860",
    "end": "3908670"
  },
  {
    "text": "over x minus log of 0. That's log of 1 is nothing.",
    "start": "3908670",
    "end": "3915820"
  },
  {
    "text": "Minus 1. ",
    "start": "3915820",
    "end": "3921160"
  },
  {
    "text": "And I'm doing thetas here so I\ncan forget the low order terms.",
    "start": "3921160",
    "end": "3927869"
  },
  {
    "text": "So I get x log x plus 1 minus x. This is the only term\nthat survives, x log x.",
    "start": "3927870",
    "end": "3935400"
  },
  {
    "text": " And that's right.",
    "start": "3935400",
    "end": "3942860"
  },
  {
    "text": "t of n is in fact tilde n log n,\nso in fact, it's theta n log n.",
    "start": "3942860",
    "end": "3947956"
  },
  {
    "start": "3947956",
    "end": "3953030"
  },
  {
    "text": "Now, in this case, going through\nthe integral and all that, maybe that was harder than\njust guessing and verifying.",
    "start": "3953030",
    "end": "3959420"
  },
  {
    "text": "And by the way, guess and verify\ngot it really the exact answer. The nice thing is this works\nfor the nasty guys too.",
    "start": "3959420",
    "end": "3969730"
  },
  {
    "text": "In fact, let's figure\nout the solution to this thing, which I\nguarantee you is a pain",
    "start": "3969730",
    "end": "3977950"
  },
  {
    "text": "to do without this method. ",
    "start": "3977950",
    "end": "3993520"
  },
  {
    "text": "The first thing to\ndo is compute p. So to do that, we need to\nfind a p such that 2 times 1/2",
    "start": "3993520",
    "end": "4002610"
  },
  {
    "text": "to the p plus 8/9 times\n3/4 to the p equals 1.",
    "start": "4002610",
    "end": "4015270"
  },
  {
    "text": "I gotta find a p for\nwhich that's true.  Any guesses what p works?",
    "start": "4015270",
    "end": "4021854"
  },
  {
    "text": " p equals 1 not going to do it.",
    "start": "4021854",
    "end": "4028460"
  },
  {
    "text": " p equals 2?",
    "start": "4028460",
    "end": "4034329"
  },
  {
    "text": "Let's try that. I'd have 2 times 1/4\nplus 8/9 times 9/16.",
    "start": "4034330",
    "end": "4046000"
  },
  {
    "text": "That looks pretty good. I get 1/2 plus 1/2 equals 1.",
    "start": "4046000",
    "end": "4052310"
  },
  {
    "text": "So p equals 2 works. ",
    "start": "4052310",
    "end": "4057500"
  },
  {
    "text": "All right, so let's\ndo the integral.  tx is theta of x to the p plus\nx to the p times the integral.",
    "start": "4057500",
    "end": "4069640"
  },
  {
    "text": "All right, what is g\nof x in this thing?",
    "start": "4069640",
    "end": "4075170"
  },
  {
    "text": "x squared. So the integral\nis 1 to x. g of u",
    "start": "4075170",
    "end": "4080240"
  },
  {
    "text": "is u squared divided\nby u to the 1 plus p.",
    "start": "4080240",
    "end": "4087580"
  },
  {
    "text": "u to the 1 plus 2\nis just u cubed. ",
    "start": "4087580",
    "end": "4095859"
  },
  {
    "text": "This is theta x squared\nplus x squared times, well, the integral of 1 over\nu is just log of you.",
    "start": "4095860",
    "end": "4103140"
  },
  {
    "start": "4103140",
    "end": "4109068"
  },
  {
    "text": "And that's just log of x. So the answer is,\nx square ln of x.",
    "start": "4109069",
    "end": "4115389"
  },
  {
    "text": "Done. So that's pretty good\nwhat these guys did.",
    "start": "4115390",
    "end": "4122000"
  },
  {
    "text": "In fact, that is\nthe correct answer.",
    "start": "4122000",
    "end": "4127120"
  },
  {
    "text": "So really easy to pug in. Any questions on that?",
    "start": "4127120",
    "end": "4135929"
  },
  {
    "text": "Yeah. AUDIENCE: [INAUDIBLE] or does\nit give the actual number?",
    "start": "4135930",
    "end": "4143068"
  },
  {
    "text": "TOM LEIGHTON: It doesn't\ngive you the actual number. It just gives you the\nasymptotic growth.",
    "start": "4143069",
    "end": "4148870"
  },
  {
    "text": "All you know is that the limit\nof tx over x squared ln of x is less than infinity\nand bigger than 0.",
    "start": "4148870",
    "end": "4156778"
  },
  {
    "text": "So it's growing as this. You don't know if\nit's 10x squared lnx or a million squared lnx.",
    "start": "4156779",
    "end": "4163009"
  },
  {
    "text": "On the other hand,\nfor algorithms usually you're forgetting the constant\nfactors anyway because they",
    "start": "4163010",
    "end": "4168020"
  },
  {
    "text": "depend on things\nto do with the CPU you're using and\nstuff like that. What you really\ncare about, often,",
    "start": "4168020",
    "end": "4173299"
  },
  {
    "text": "when you're studying algorithms\nis the asymptotic growth, not the actual value.",
    "start": "4173300",
    "end": "4179460"
  },
  {
    "text": "Yeah? AUDIENCE: [INAUDIBLE]\nlog base e. And then above I\nsee you using log,",
    "start": "4179460",
    "end": "4185620"
  },
  {
    "text": "which I assume is base two? Does it matter? TOM LEIGHTON: It does up there\nbecause I've got a tilde.",
    "start": "4185620",
    "end": "4191559"
  },
  {
    "text": "And in the tilde, the\nconstant factor matters. It doesn't matter\nin here because log",
    "start": "4191560",
    "end": "4196810"
  },
  {
    "text": "base two and log base E are\nwithin a constant factor, namely log of 2, ln of 2\nis the constant factor.",
    "start": "4196810",
    "end": "4203860"
  },
  {
    "text": "So logs don't\nmatter what the base is once you're inside a theta\nor an O or that kind of thing.",
    "start": "4203860",
    "end": "4209909"
  },
  {
    "text": "In a tilde, they matter because\nthe constant factor matters. Yeah. AUDIENCE: [INAUDIBLE].",
    "start": "4209910",
    "end": "4215450"
  },
  {
    "start": "4215450",
    "end": "4222685"
  },
  {
    "text": "TOM LEIGHTON: Yeah. Because x squared\nis small compared to x squared ln of x because\nit's all by the theta.",
    "start": "4222685",
    "end": "4229404"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE]. TOM LEIGHTON: No. You could put all sorts\nof other stuff in here",
    "start": "4229404",
    "end": "4235840"
  },
  {
    "text": "and it doesn't matter\nbecause it still equals theta of x squared ln of x. There's no hidden meanings by\nhaving extra stuff in here.",
    "start": "4235840",
    "end": "4244380"
  },
  {
    "text": "That's important. In this case, when you\nput more stuff into theta, doesn't mean a thing.",
    "start": "4244380",
    "end": "4251429"
  },
  {
    "text": "Any other questions? Yeah. AUDIENCE: [INAUDIBLE]. TOM LEIGHTON: Ah, good question.",
    "start": "4251430",
    "end": "4259480"
  },
  {
    "text": "Well, let's see. It goes back to over here. ",
    "start": "4259480",
    "end": "4273340"
  },
  {
    "text": "See, the b's are\nbetween 0 and 1. By making p big enough,\nI drive the value down.",
    "start": "4273340",
    "end": "4279000"
  },
  {
    "text": "By making p be large and\nnegative, I drag the value up. So there is some value of p. But that's a good question.",
    "start": "4279000",
    "end": "4285040"
  },
  {
    "text": "Let's see what happens\nwhen p is not so nice.",
    "start": "4285040",
    "end": "4290310"
  },
  {
    "text": "Because the examples I gave\nyou, in one case p was 1 and one p was 2, sort of nice. Let's look at a bad case there.",
    "start": "4290310",
    "end": "4297175"
  },
  {
    "start": "4297175",
    "end": "4303130"
  },
  {
    "text": "Let's look at this recurrence. ",
    "start": "4303130",
    "end": "4310790"
  },
  {
    "text": "3 t of x over 3 plus 4 t\nof x over 4 plus x squared.",
    "start": "4310790",
    "end": "4321041"
  },
  {
    "text": "All right, so that's\nthe recurrence. And first step is to compute p. And this time it's\nnot going to be nice.",
    "start": "4321041",
    "end": "4327420"
  },
  {
    "text": "So I need to find a p such that\n3 times 1/3 of the p plus 4 times 1/4 to the p equals 1.",
    "start": "4327420",
    "end": "4337600"
  },
  {
    "text": "And you might say, OK,\nlet's try p equals 1. ",
    "start": "4337600",
    "end": "4344500"
  },
  {
    "text": "I get 1 plus 1 is 2.",
    "start": "4344500",
    "end": "4349540"
  },
  {
    "text": "That's too big. So which way do I\nhave to go on p? Do I need a bigger\np or a smaller p?",
    "start": "4349540",
    "end": "4357369"
  },
  {
    "text": "Bigger. Because I got to get\nfrom 2 down to 1. So I know that p\nis bigger than 1.",
    "start": "4357370",
    "end": "4364240"
  },
  {
    "text": " All right, so the\nnext thing to try would be hoping the world\nis nice, p equals 2.",
    "start": "4364241",
    "end": "4374440"
  },
  {
    "text": "Maybe I'll do that over here. Let's try p equals 2. ",
    "start": "4374440",
    "end": "4380250"
  },
  {
    "text": "So I get three times\n1/9 plus 4 times 1/16",
    "start": "4380250",
    "end": "4387190"
  },
  {
    "text": "and that equals a 1/3 plus 1/4.",
    "start": "4387190",
    "end": "4392199"
  },
  {
    "text": "That's less than 1. That didn't work. What do I have to do now with p?",
    "start": "4392200",
    "end": "4397633"
  },
  {
    "text": "Is it bigger than\n2 or less than 2? Less than 2. ",
    "start": "4397633",
    "end": "4404940"
  },
  {
    "text": "That's sort of a pain. P is between one and two,\nso it's not an integer.",
    "start": "4404940",
    "end": "4410270"
  },
  {
    "text": "Now, you can sort of do\ndivide and conquer here. Next I'd try p is 3/2,\nget my calculator out",
    "start": "4410270",
    "end": "4416300"
  },
  {
    "text": "and see which way it goes. And you could sort\nof home in on it. But there's\nsomething really nice",
    "start": "4416300",
    "end": "4421360"
  },
  {
    "text": "that happens with Akra Bazzi. And that is if you\never conclude that p",
    "start": "4421360",
    "end": "4428449"
  },
  {
    "text": "is less than your\nexponent here, you don't even have to compute it.",
    "start": "4428450",
    "end": "4435610"
  },
  {
    "text": "Let's see why. Let's do an example. ",
    "start": "4435610",
    "end": "4442240"
  },
  {
    "text": "This will happen a lot. There's some p, but it's just\ngoing to be a pain to evaluate.",
    "start": "4442240",
    "end": "4448810"
  },
  {
    "text": "But let's see what happens here. ",
    "start": "4448810",
    "end": "4454225"
  },
  {
    "text": "So I'm just going\nto try to solve it, write the solution\nanyway. t of x equals theta x to the p plus\nx to the p integral 1 to x.",
    "start": "4454226",
    "end": "4465420"
  },
  {
    "text": "What's g of x? x squared. So that's u squared\nover u 1 plus p.",
    "start": "4465420",
    "end": "4473354"
  },
  {
    "text": "And I still don't\nknow what it is, but I'm going to\ngive it a try here.",
    "start": "4473354",
    "end": "4479020"
  },
  {
    "text": "That's theta x to the\np plus x to the p.",
    "start": "4479020",
    "end": "4484150"
  },
  {
    "text": "Well, this is now the integral\nof u to the 1 minus p du.",
    "start": "4484150",
    "end": "4491466"
  },
  {
    "text": "And p is bigger than 1. I know that. This is theta x to\nthe p plus x to the p.",
    "start": "4491466",
    "end": "4502020"
  },
  {
    "text": "Well, the integral here\nis x to the 2 minus p.",
    "start": "4502020",
    "end": "4507880"
  },
  {
    "text": "Up to constants. I don't even care about\ndividing by 2 minus p, because I got big theta.",
    "start": "4507880",
    "end": "4513090"
  },
  {
    "text": "Just put that p up here. OK Well, this equals theta x to\nthe p plus cancelled there,",
    "start": "4513090",
    "end": "4524270"
  },
  {
    "text": "x squared.  And what's the\nanswer going to be?",
    "start": "4524270",
    "end": "4530280"
  },
  {
    "text": "x squared, because\np is less than 2. So this is a small order term.",
    "start": "4530280",
    "end": "4536000"
  },
  {
    "text": "So I didn't even\nknow what p was, just that it was less than two. And I got the answer.",
    "start": "4536000",
    "end": "4541235"
  },
  {
    "text": "And what do you know? The answer was just this thing. That's sort of nice and simple.",
    "start": "4541235",
    "end": "4548070"
  },
  {
    "text": "And in fact, that's a theorem. Which will state, in general, if\ng of x equals theta x to the t,",
    "start": "4548070",
    "end": "4571900"
  },
  {
    "text": "for some t bigger\nand equal to 0.  And when you plug that\nvalue in and take your sum.",
    "start": "4571900",
    "end": "4581610"
  },
  {
    "text": "Trying to compute the p value. So I take ai times bi to the t. And that comes out\nto be less than 1",
    "start": "4581610",
    "end": "4588500"
  },
  {
    "text": "like it did here when I plugged\nin p equals 2 and I computed it",
    "start": "4588500",
    "end": "4594987"
  },
  {
    "text": "and it was less than 1. But if that happens in\ngeneral, then the answer",
    "start": "4594987",
    "end": "4602940"
  },
  {
    "text": "is theta g of x.",
    "start": "4602940",
    "end": "4610350"
  },
  {
    "text": "Plain and simple. It just turns out to be the g of\nx term up to constant factors.",
    "start": "4610350",
    "end": "4618460"
  },
  {
    "text": "So you don't even\nhave to compute it. Just do that check on\nthe power here to see is it smaller than that.",
    "start": "4618460",
    "end": "4625969"
  },
  {
    "text": "I won't prove that there. It's actually not hard to do. The proof is pretty much\nwhat I did with this example,",
    "start": "4625969",
    "end": "4630980"
  },
  {
    "text": "so it's not too hard.  OK, any questions?",
    "start": "4630980",
    "end": "4636860"
  },
  {
    "text": " I want to show you\none more thing, but just make sure that's OK.",
    "start": "4636860",
    "end": "4644060"
  },
  {
    "text": "And this is something never to\ndo with an asymptotic notation,",
    "start": "4644060",
    "end": "4650530"
  },
  {
    "text": "like we talked about last time. When you're using Akra Bazzi and\nwhen you're doing occurrences",
    "start": "4650530",
    "end": "4656840"
  },
  {
    "text": "with algorithm, you always\nare using asymptotic notation. Your answer is\ntheta of something.",
    "start": "4656840",
    "end": "4664489"
  },
  {
    "text": "And in fact, what will\nstart happening is you'll do this stuff because the\nconstant factors don't matter.",
    "start": "4664490",
    "end": "4672469"
  },
  {
    "text": "Because you're wiping them\nout in the theta notation, what you'll see is\nthings like this. Your recurrence will be set up\nto be t of n is 2 t of n over 2",
    "start": "4672470",
    "end": "4682300"
  },
  {
    "text": "plus o of n or plus theta of n. And then you'll\nconclude that t of n",
    "start": "4682300",
    "end": "4691130"
  },
  {
    "text": "is theta of n log\nn using Akra Bazzi or whatever method you want.",
    "start": "4691130",
    "end": "4698769"
  },
  {
    "text": "Because it doesn't\nreally matter what the constant is on g because\nthe constants disappear.",
    "start": "4698769",
    "end": "4706330"
  },
  {
    "text": "Doesn't matter. And so people stop\nworrying about it early on.",
    "start": "4706330",
    "end": "4711650"
  },
  {
    "text": "All right, now here's\nthe bad example. ",
    "start": "4711650",
    "end": "4719394"
  },
  {
    "text": "Let me show you a false\nproof like last time. And this time I think it'll be\npretty easy to spot the flaw.",
    "start": "4719394",
    "end": "4727342"
  },
  {
    "start": "4727342",
    "end": "4741960"
  },
  {
    "text": "Theorem not. ",
    "start": "4741960",
    "end": "4748630"
  },
  {
    "text": "If t of n equals 2 t of\nn over 2 plus n minus 1,",
    "start": "4748630",
    "end": "4756050"
  },
  {
    "text": "this is the recurrence we had\nfor merge sort, and t of 1 equals 0, then I'm going to\nprove that t of n is o event.",
    "start": "4756050",
    "end": "4769117"
  },
  {
    "text": " Now, that can't be right\nbecause we've proved it's theta",
    "start": "4769118",
    "end": "4778150"
  },
  {
    "text": "then log n, tilde then log n. And that is not o of n, right? n log n grows faster than n.",
    "start": "4778150",
    "end": "4786190"
  },
  {
    "text": "But let's see the proof. ",
    "start": "4786190",
    "end": "4792920"
  },
  {
    "text": "By strong induction. ",
    "start": "4792920",
    "end": "4800720"
  },
  {
    "text": "The induction\nhypothesis is going to be what we're\ntrying to prove.",
    "start": "4800720",
    "end": "4807239"
  },
  {
    "start": "4807240",
    "end": "4816770"
  },
  {
    "text": "Base case. n equals 1. t of 1 is 0.",
    "start": "4816770",
    "end": "4823810"
  },
  {
    "text": "0 is surely o of 1. ",
    "start": "4823810",
    "end": "4829360"
  },
  {
    "text": "The induction step. ",
    "start": "4829360",
    "end": "4836370"
  },
  {
    "text": "We're going to assume p1, p2,\np3 up to pn minus 1 to prove pn.",
    "start": "4836370",
    "end": "4841730"
  },
  {
    "start": "4841730",
    "end": "4855190"
  },
  {
    "text": "And let's look at p of n. So I look at tn is 2 t of\nn over 2 plus n minus 1.",
    "start": "4855190",
    "end": "4864820"
  },
  {
    "text": "Induction hypothesis\non n over 2 says this is 2 times o of n\nover 2 plus n minus 1.",
    "start": "4864820",
    "end": "4872920"
  },
  {
    "text": "Twice o of n over 2 is\no of n plus n is o of n.",
    "start": "4872920",
    "end": "4878000"
  },
  {
    "text": "This is o of n. And I'm done. I just proved that\nt of n is o of n.",
    "start": "4878000",
    "end": "4885580"
  },
  {
    "text": " What's the bad step? What's the bug?",
    "start": "4885580",
    "end": "4891050"
  },
  {
    "text": " See the bug? What is it?",
    "start": "4891050",
    "end": "4896513"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE]. TOM LEIGHTON:\nInduction hypothesis. What's wrong with that? AUDIENCE: [INAUDIBLE]. ",
    "start": "4896514",
    "end": "4906017"
  },
  {
    "text": "TOM LEIGHTON: Right. The end from the predicate\ncannot be in the o of n. Because remember, o of n means,\nthis statement here by itself",
    "start": "4906017",
    "end": "4914929"
  },
  {
    "text": "means the limit as n goes\nto infinity of t of n over n",
    "start": "4914930",
    "end": "4921240"
  },
  {
    "text": "is less than infinity. But this makes no sense if I\nspecified n in a predicate.",
    "start": "4921240",
    "end": "4930700"
  },
  {
    "text": "So what's the rule? Same rule as last time. Same bug. What's the rule? ",
    "start": "4930700",
    "end": "4938360"
  },
  {
    "text": "Never do asymptotic notation\nin induction hypothesis. Never mix big o and a predicate.",
    "start": "4938360",
    "end": "4944430"
  },
  {
    "text": "Never, ever. It looks so nice to\ndo, but it is so wrong.",
    "start": "4944430",
    "end": "4950400"
  },
  {
    "text": "It just makes nonsense. All right, very good. So remember ice cream tonight,\nrecitation optional tomorrow.",
    "start": "4950400",
    "end": "4959650"
  },
  {
    "text": "But study session is there. ",
    "start": "4959650",
    "end": "4965586"
  }
]