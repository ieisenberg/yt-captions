[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING] ",
    "start": "0",
    "end": "12275"
  },
  {
    "text": "BERTHOLD HORN: OK, let's start. This should be a fun diversion\nfrom other things we're doing.",
    "start": "12275",
    "end": "21170"
  },
  {
    "text": "We'll develop methods that\nare useful in photogrammetry",
    "start": "21170",
    "end": "27340"
  },
  {
    "text": "and robotics, in particular,\ndealing with rotation,",
    "start": "27340",
    "end": "34270"
  },
  {
    "text": "which has some\nstrange properties.",
    "start": "34270",
    "end": "40220"
  },
  {
    "text": "So for example, in the\ncase of translation,",
    "start": "40220",
    "end": "45280"
  },
  {
    "text": "things are commutative. If I go 5 meters in\nx and 10 meters in y,",
    "start": "45280",
    "end": "51309"
  },
  {
    "text": "I end up in the same place\nas if I go 10 meters in y and 5 meters in x.",
    "start": "51310",
    "end": "59350"
  },
  {
    "text": "This is not the\ncase with rotation. And to illustrate, I suppose\nthat this is the x-axis",
    "start": "59350",
    "end": "66490"
  },
  {
    "text": "and this is the y-axis. So I'm going to take\nthis eraser and rotate",
    "start": "66490",
    "end": "72955"
  },
  {
    "text": "it 90 degrees about\nthe x-axis like that and then 90 degrees\nabout the y-axis.",
    "start": "72955",
    "end": "79720"
  },
  {
    "text": "And I end up there. And I take the\nequivalent eraser. And I rotate it 90\ndegrees about the y-axis",
    "start": "79720",
    "end": "88480"
  },
  {
    "text": "and then 90 degrees\nabout the x-axis. And I'm there. So fortunately, that worked.",
    "start": "88480",
    "end": "95650"
  },
  {
    "text": "So they're not the same. And so it's not commutative. So it's a little bit more\ndifficult to deal with,",
    "start": "95650",
    "end": "102350"
  },
  {
    "text": "particularly when it comes\nto least squares problems and fitting of data\nto observations.",
    "start": "102350",
    "end": "111460"
  },
  {
    "text": "So here is an\noutline of what we're going to be talking about--",
    "start": "111460",
    "end": "118540"
  },
  {
    "text": "properties of rotation,\ndifferent representation for rotations,\nand in particular,",
    "start": "118540",
    "end": "124990"
  },
  {
    "text": "the one we're going\nto pick, which is Hamilton's quaternions.",
    "start": "124990",
    "end": "131440"
  },
  {
    "text": "And they are more general. But if we restrict attention\nto unit quaternions,",
    "start": "131440",
    "end": "138130"
  },
  {
    "text": "they map directly onto\nrotations in 3 space. They allow us to talk\nabout a space of rotation.",
    "start": "138130",
    "end": "145920"
  },
  {
    "text": "So for translation,\nobviously, 3 space is our space of translations.",
    "start": "145920",
    "end": "151250"
  },
  {
    "text": "And if we do some\noptimization, that's the space we're searching in. That's the space we tessellate.",
    "start": "151250",
    "end": "158090"
  },
  {
    "text": "That's the space where\nwe get our answers, whereas it's not so\nobvious with rotation.",
    "start": "158090",
    "end": "167090"
  },
  {
    "text": "Say you want to take\nan average of force on a seat belt over all\npossible orientations of a car.",
    "start": "167090",
    "end": "175220"
  },
  {
    "text": "That's something that, if it was\ntranslation, it'd be trivial. You just integrate\nover some volume",
    "start": "175220",
    "end": "180739"
  },
  {
    "text": "of space, divide by its volume. And you're done. So that's something\nwe'll be able to do.",
    "start": "180740",
    "end": "187099"
  },
  {
    "text": "Applications are, for us,\nmostly in photogrammetry, although they're very important\nin robotics and graphics",
    "start": "187100",
    "end": "196310"
  },
  {
    "text": "and control of spacecraft. So we'll talk\nabout some of that.",
    "start": "196310",
    "end": "202760"
  },
  {
    "text": "And in particular,\nusing this, we are going to develop\na closed-form solution to the problem that we started\ntalking about last time, which",
    "start": "202760",
    "end": "211940"
  },
  {
    "text": "is either measurements in\ntwo different coordinate system of the same object\nor measurements in one",
    "start": "211940",
    "end": "219350"
  },
  {
    "text": "coordinate system of two objects\nor one object that moved. So and just for fun\nat the end, we'll",
    "start": "219350",
    "end": "226400"
  },
  {
    "text": "briefly talk about division\nalgebras and space-time.",
    "start": "226400",
    "end": "232235"
  },
  {
    "text": " And so here are\nsome of the things",
    "start": "232235",
    "end": "237390"
  },
  {
    "text": "I mentioned, where we need\nto have a good representation for rotation--",
    "start": "237390",
    "end": "243450"
  },
  {
    "text": "obviously, in machine\nvision, for recognition, and for determining the\norientation of an object",
    "start": "243450",
    "end": "248880"
  },
  {
    "text": "in space, for the robot arm to,\nand so on-- so down to protein",
    "start": "248880",
    "end": "255390"
  },
  {
    "text": "folding, cryo-- electron microscopy.",
    "start": "255390",
    "end": "260850"
  },
  {
    "text": "We all need a good\nrepresentation for rotation there. And in particular, with\nrobotic situations,",
    "start": "260850",
    "end": "270290"
  },
  {
    "text": "we're dealing with\nmotions in space-- Euclidean emotions, which can\nbe decomposed into translations",
    "start": "270290",
    "end": "277280"
  },
  {
    "text": "and rotations. And the Euclidean\nmotions have the property that they preserve\ndistances between points.",
    "start": "277280",
    "end": "283670"
  },
  {
    "text": "They preserve angles\nbetween lines. And they preserve handedness,\nwhich sometimes we forget.",
    "start": "283670",
    "end": "289785"
  },
  {
    "text": "But if we don't put\nthat in, then we're going to get reflections. As you know, most of the\nbiologically important",
    "start": "289785",
    "end": "298760"
  },
  {
    "text": "chemicals exist in\none particular form. The mirror image\nform doesn't work.",
    "start": "298760",
    "end": "304500"
  },
  {
    "text": "And so it's kind of important\nto preserve handedness.",
    "start": "304500",
    "end": "310250"
  },
  {
    "text": "Put together, those mean that\nwe preserve dot-products. And we preserve triple products.",
    "start": "310250",
    "end": "315380"
  },
  {
    "text": "And we're leaving out, by\ndoing this, transformations of free space that\nwould otherwise",
    "start": "315380",
    "end": "321440"
  },
  {
    "text": "be perfectly reasonable, such\nas reflections and skewing and scaling.",
    "start": "321440",
    "end": "326539"
  },
  {
    "text": "We'll talk a little\nbit about scaling. But mostly, for the\nmoment, we'll leave it out.",
    "start": "326540",
    "end": "332450"
  },
  {
    "text": "So rotations, first\nEuler's theorem-- any rotation of a rigid object\nhas the property that there",
    "start": "332450",
    "end": "340940"
  },
  {
    "text": "is a line that is not changed. That's the axis.",
    "start": "340940",
    "end": "346020"
  },
  {
    "text": "Then there's the\nparallel axis theorem, which says that any\nrotation about any axis",
    "start": "346020",
    "end": "354070"
  },
  {
    "text": "is equivalent to a\nrotation about an axis through the origin\nplus a translation.",
    "start": "354070",
    "end": "360590"
  },
  {
    "text": "So for us, it's going\nto be very convenient to separate translation\nand rotation this way",
    "start": "360590",
    "end": "365680"
  },
  {
    "text": "that when we talk about\nrotation, that we're trying to recover-- we're just going to talk\nabout rotation about an axis",
    "start": "365680",
    "end": "371620"
  },
  {
    "text": "through the origin, because\nwe deal with the translation separately. And because of the parallel\naxis theorem, we can do that.",
    "start": "371620",
    "end": "380150"
  },
  {
    "text": "Then if we figure out\nhow a sphere rotates, we've basically figured\nout how everything",
    "start": "380150",
    "end": "386740"
  },
  {
    "text": "rotates, because we can-- and that sort of\nsimplifies thing. We can just think of a\nsphere rotating in space",
    "start": "386740",
    "end": "394090"
  },
  {
    "text": "and all the possible\nways that can happen. And that, then, corresponds\nto rotation of space.",
    "start": "394090",
    "end": "402039"
  },
  {
    "text": "When we talk about attitude,\nwe basically mean orientation. We mean orientation\nrelative to some standard.",
    "start": "402040",
    "end": "408680"
  },
  {
    "text": "So for example, we\nmight have models as we had when we're\ntalking about the patents,",
    "start": "408680",
    "end": "414130"
  },
  {
    "text": "except now in 3D. And they'll be in some\npreferred coordinate system. And when we talk about\nlocating that object,",
    "start": "414130",
    "end": "422720"
  },
  {
    "text": "we're talking about finding\nits position in space and finding its rotation\nrelative to that reference",
    "start": "422720",
    "end": "428080"
  },
  {
    "text": "rotation. So by the way, this is\ngoing to be on Stellar,",
    "start": "428080",
    "end": "433900"
  },
  {
    "text": "this whole presentation. Then there's a\nfour-page blurb that",
    "start": "433900",
    "end": "439000"
  },
  {
    "text": "summarizes everything you want\nto know about quaternions. Or maybe not.",
    "start": "439000",
    "end": "444610"
  },
  {
    "text": "Maybe everything you\nneed for this course. Degrees of freedom.",
    "start": "444610",
    "end": "449720"
  },
  {
    "text": "So we talked about\nthis last time, that there happened to be 3\ndegrees of freedom to rotation,",
    "start": "449720",
    "end": "455140"
  },
  {
    "text": "and that can be\nslightly confusing. What's interesting is\nthat rotational velocity",
    "start": "455140",
    "end": "461020"
  },
  {
    "text": "is much easier. Angular velocity-- all\nwe need is a vector",
    "start": "461020",
    "end": "466090"
  },
  {
    "text": "that gives us the\naxis and a rate, so many radians per second.",
    "start": "466090",
    "end": "471800"
  },
  {
    "text": "And if we take the axis and\nmultiply it by the rate, we have a 3 vector. And those 3 vectors add,\njust like translations.",
    "start": "471800",
    "end": "480170"
  },
  {
    "text": "So if you're spinning around the\nx-axis at 1 radian per second, you're spinning about the\ny-axis at 1 radian per second,",
    "start": "480170",
    "end": "487390"
  },
  {
    "text": "then you're spinning\nabout the 1, 1, 0 axis. So it's very easy to\njust add these up.",
    "start": "487390",
    "end": "495220"
  },
  {
    "text": "And of course, that can change. So now, you've\nmoved a little bit. And the next time instance,\nthe axis will be different,",
    "start": "495220",
    "end": "502260"
  },
  {
    "text": "So but instantaneously,\nrotational velocity is very easy. And this, for those of you\nwho know about these things,",
    "start": "502260",
    "end": "511660"
  },
  {
    "text": "corresponds to the Lie\nalgebra versus the Lie group. The rotational velocities\nor the Lie algebra.",
    "start": "511660",
    "end": "519820"
  },
  {
    "text": "It has all the nice\nproperties of an algebra. The rotations, which are sort\nof the integral of that, don't.",
    "start": "519820",
    "end": "526180"
  },
  {
    "text": "They don't have quite\nthose nice properties. Poisson's formula tells\nyou what the velocity",
    "start": "526180",
    "end": "532030"
  },
  {
    "text": "is of some point when there's\na known rotational velocity--",
    "start": "532030",
    "end": "537760"
  },
  {
    "text": "right-- rotational velocity. So omega is that\nvector, the axis",
    "start": "537760",
    "end": "543790"
  },
  {
    "text": "of which is the axis of--\nthe direction of which is the axis of rotation. And the magnitude of it\nis the rate of rotation.",
    "start": "543790",
    "end": "550960"
  },
  {
    "text": "And then if we\nhave some point, r, we just take that cross\nproduct to figure out what the velocity is.",
    "start": "550960",
    "end": "556900"
  },
  {
    "text": "And obviously, it's going\nto be perpendicular to r. And it's going to be\nperpendicular to omega.",
    "start": "556900",
    "end": "562630"
  },
  {
    "text": "And you can get its direction\nby using the right-hand rule.",
    "start": "562630",
    "end": "567970"
  },
  {
    "text": "So rotational\nvelocity is simpler. They add. And we just saw finite.",
    "start": "567970",
    "end": "573670"
  },
  {
    "text": "Finite rotations don't commute. And we talked last\ntime about how they're n times n minus 1\nover 2 degrees of freedom.",
    "start": "573670",
    "end": "582690"
  },
  {
    "text": "And for n equals 3, that\nhappens to give you 3. So often we talk about\nrotation about axes",
    "start": "582690",
    "end": "589500"
  },
  {
    "text": "like I just did-- rotation\nabout the x-axis, rotation about the y-axis. And if you follow\nthat view, then you",
    "start": "589500",
    "end": "598529"
  },
  {
    "text": "might think that\nin n dimensions, rotation is n dimensional. And therefore, it is better\nto think about rotation",
    "start": "598530",
    "end": "606600"
  },
  {
    "text": "as rotation preserving\ncertain planes. So for example, we can\npreserve the xy plane.",
    "start": "606600",
    "end": "613260"
  },
  {
    "text": "We can rotate in such a way that\nthe xy plane is not changed. Things in the xy plane are moved\ninto xy plane somewhere else--",
    "start": "613260",
    "end": "622200"
  },
  {
    "text": "yz plane and zx plane-- also, 3. But that one works,\nbecause in 2D, we only",
    "start": "622200",
    "end": "630209"
  },
  {
    "text": "have the xy plane,\n1 degree of freedom. And in 4D, we have\nsix combinations.",
    "start": "630210",
    "end": "636540"
  },
  {
    "text": "And that's the number of degrees\nof freedom of rotation in 4D. ",
    "start": "636540",
    "end": "646360"
  },
  {
    "text": "So before we go further,\nhere's an interesting thing that we will exploit.",
    "start": "646360",
    "end": "652120"
  },
  {
    "text": "And also, it's a kind of\npreview of a method we'll use,",
    "start": "652120",
    "end": "657800"
  },
  {
    "text": "which is cross products. Cross products, as I mentioned,\nare kind of confusing,",
    "start": "657800",
    "end": "663650"
  },
  {
    "text": "because you take the\nproduct of two vectors. And you get another vector,\nwhich isn't quite right.",
    "start": "663650",
    "end": "670160"
  },
  {
    "text": "But it happens to have\n3 degrees of freedom. So we represent it as a vector.",
    "start": "670160",
    "end": "675720"
  },
  {
    "text": "And again, that's a coincidence. What is it? Well, it's perpendicular to the\ntwo vectors you started with.",
    "start": "675720",
    "end": "683510"
  },
  {
    "text": "And so in higher dimensional\nspace, if you take--",
    "start": "683510",
    "end": "689870"
  },
  {
    "text": "if you say, what\nare the things that are perpendicular to\ntwo vectors, well, they're not going\nto be a vector.",
    "start": "689870",
    "end": "695480"
  },
  {
    "text": "There's going to be\na whole subspace. So the generalization\nof a cross product would be something\nmore complicated.",
    "start": "695480",
    "end": "703040"
  },
  {
    "text": "Like, one way to generalize\nit in an n-dimensional space, is it's that vector\nthat's perpendicular to n",
    "start": "703040",
    "end": "708980"
  },
  {
    "text": "minus 1 other vectors. Well, here, n minus\n1 happens to be 2. So that's the way we\nget our cross product.",
    "start": "708980",
    "end": "716300"
  },
  {
    "text": "And it's actually\nvery convenient for certain operations,\nparticularly, matrix vector",
    "start": "716300",
    "end": "723230"
  },
  {
    "text": "operations, to represent\nthe cross product in this way, where we take\nthe skew-symmetric matrix.",
    "start": "723230",
    "end": "732070"
  },
  {
    "text": "And we can represent A\ncross B by multiplying that skew-symmetric matrix by B.",
    "start": "732070",
    "end": "739180"
  },
  {
    "text": "And it has the right\ndegrees of freedom, right, because A has\n3 degrees of freedom.",
    "start": "739180",
    "end": "744650"
  },
  {
    "text": "A skew-symmetric matrix\nhas 0 on the diagonal. And the off-diagonal\nis symmetric.",
    "start": "744650",
    "end": "750370"
  },
  {
    "text": "So you again have 3\ndegrees of freedom. So that seems like a\nreasonable isomorphism.",
    "start": "750370",
    "end": "757220"
  },
  {
    "text": "And then once you've\ndone that, you've gotten rid of this weird\nthing, the cross product.",
    "start": "757220",
    "end": "763762"
  },
  {
    "text": "And you have\nsomething that you can manipulate in combination with\nother vectors and matrices.",
    "start": "763762",
    "end": "770050"
  },
  {
    "text": "Now, of course, why did we\npick A to expand as the matrix? We could equally\nwell have picked B",
    "start": "770050",
    "end": "776529"
  },
  {
    "text": "and have written it\nthis way, equally valid. And you'll notice this matrix is\na transpose or negated version",
    "start": "776530",
    "end": "786160"
  },
  {
    "text": "of that matrix. So the matrix for B-- so it's order dependent.",
    "start": "786160",
    "end": "791590"
  },
  {
    "text": "And we know that, because\ncross products don't commute. So there are loads\nof representations",
    "start": "791590",
    "end": "800200"
  },
  {
    "text": "for rotation, which tells\nyou that there's a problem. With translation, we just\nhave xyz, be done with it.",
    "start": "800200",
    "end": "806530"
  },
  {
    "text": "So one notation that's very\nuseful is axis and angle.",
    "start": "806530",
    "end": "812510"
  },
  {
    "text": "So we have an axis, which can\nbe given as a unit vector. And we have a number of degrees\nthat we rotate or radians",
    "start": "812510",
    "end": "820780"
  },
  {
    "text": "that we rotate through. So that's 3 degrees of freedom,\nbecause the unit vector only has 2, and plus the\nangle gives us 3.",
    "start": "820780",
    "end": "828759"
  },
  {
    "text": "Now, sometimes we can derive\nother notations from that.",
    "start": "828760",
    "end": "833950"
  },
  {
    "text": "One of them is the\nGibbs vector, which tries to combine those\ntwo into a single thing.",
    "start": "833950",
    "end": "839890"
  },
  {
    "text": "So this is sort of\ninconvenient in a way, because you've got\na 3 vector, which happens to be a unit vector.",
    "start": "839890",
    "end": "846040"
  },
  {
    "text": "And then you have this thing. So the Gibbs vector\nis a vector--",
    "start": "846040",
    "end": "851530"
  },
  {
    "text": "and it turns out that you don't\nwant to just multiply by theta. That doesn't give you a\nnice algebraic properties.",
    "start": "851530",
    "end": "859480"
  },
  {
    "text": "It's much better-- plus\ntheta wraps around 2 pi. So that doesn't really\nmake much sense anyway.",
    "start": "859480",
    "end": "866620"
  },
  {
    "text": "And Gibbs found out that you\ncan get some useful properties by taking tan theta over 2.",
    "start": "866620",
    "end": "872560"
  },
  {
    "text": "So now, you have a vector. It's no longer a unit vector. So it has three components. So it has the right number\nof degrees of freedom.",
    "start": "872560",
    "end": "879490"
  },
  {
    "text": "Only bad thing is\nit blows up at theta equals pi, right, because\n10 of pi over 2 is infinite.",
    "start": "879490",
    "end": "887589"
  },
  {
    "text": "And theta over pi-- so is that a problem? Well, rotating\nthrough 180 degrees,",
    "start": "887590",
    "end": "893380"
  },
  {
    "text": "that's a perfectly\nreasonable thing to do. So it's not like we\nwant to exclude that, because it's not a\nreasonable thing to do.",
    "start": "893380",
    "end": "900560"
  },
  {
    "text": "So that is a problem. And it's very similar\nto y equals mx plus c when the line happens to be\nperpendicular up, parallel",
    "start": "900560",
    "end": "908710"
  },
  {
    "text": "to the y-axis. Then we have Euler angles. And there's a classic text in\nmechanical engineering by Gold",
    "start": "908710",
    "end": "919780"
  },
  {
    "text": "which explains\nabout Euler angles. Basically, you rotate about x. You rotate about y.",
    "start": "919780",
    "end": "924810"
  },
  {
    "text": "You rotate about z. If you're in an airplane,\nyou have roll, which",
    "start": "924810",
    "end": "930310"
  },
  {
    "text": "is rotation about the axis-- length-long axis of the plane. Then you have pitch,\nwhich is going up or down.",
    "start": "930310",
    "end": "939740"
  },
  {
    "text": "And then you have yaw, which\nis going left and right. So it's very convenient\nto think about that.",
    "start": "939740",
    "end": "946070"
  },
  {
    "text": "But as you know, the result\nwill depend on the order. So yeah, if you have very small\nangles of roll, pitch, and yaw,",
    "start": "946070",
    "end": "953740"
  },
  {
    "text": "which is a comfortable\nairplane flight, it probably doesn't\nmatter a lot, because you get pretty much the\nsame result if you compose them",
    "start": "953740",
    "end": "962890"
  },
  {
    "text": "in different orders. But if you have large\nangles, like 90 degrees,",
    "start": "962890",
    "end": "968200"
  },
  {
    "text": "it's definitely\nnot going to work. So that means if you\ndefine Euler angles,",
    "start": "968200",
    "end": "973600"
  },
  {
    "text": "you've got to do several things. One of them is you have to\ndefine the order of operations.",
    "start": "973600",
    "end": "979030"
  },
  {
    "text": "Does the x-axis come\nfirst and so on-- plus other rotations\nabout the new",
    "start": "979030",
    "end": "984490"
  },
  {
    "text": "axes after you rotate or\nabout the original axes.",
    "start": "984490",
    "end": "989720"
  },
  {
    "text": "Anyway, as a result of\nthis, as Gould points out, there 24 different\ndefinitions for Euler angle.",
    "start": "989720",
    "end": "995040"
  },
  {
    "text": "And there hasn't been an\ninternational meeting to say, thou shalt use this one.",
    "start": "995040",
    "end": "1000580"
  },
  {
    "text": "So it's pretty confusing. Then we have, of course,\northonormal matrices, which I'm sure you're\nall very familiar with.",
    "start": "1000580",
    "end": "1007210"
  },
  {
    "text": "And they have these two\nconstraints on them. And then this one is\na kind of exotic one.",
    "start": "1007210",
    "end": "1014259"
  },
  {
    "text": "This represents a rotation\nmatrix in an exponential form.",
    "start": "1014260",
    "end": "1019340"
  },
  {
    "text": "So what does this mean? Well, here this\ncapital omega is that 3",
    "start": "1019340",
    "end": "1025569"
  },
  {
    "text": "by 3 skew-symmetric matrix\nthat you get for cross product.",
    "start": "1025569",
    "end": "1030709"
  },
  {
    "text": "And so what does it\nmean to have exponential with a matrix in the exponent?",
    "start": "1030710",
    "end": "1036650"
  },
  {
    "text": "Well, you just use the formula\nfor e to the x, except now, x is the matrix\ninstead of scalar.",
    "start": "1036650",
    "end": "1043929"
  },
  {
    "text": "So you're going to end up\nwith 1 plus x plus 1/2 x",
    "start": "1043930",
    "end": "1049540"
  },
  {
    "text": "squared and so on,\nwhere x now is a matrix. So you can make this work. But we won't pursue this.",
    "start": "1049540",
    "end": "1054970"
  },
  {
    "text": " And the others-- so\nhere's another one.",
    "start": "1054970",
    "end": "1060289"
  },
  {
    "text": "Stereography-- so there are lots\nof projections of the sphere. And there's a whole cottage\nindustry dating back",
    "start": "1060290",
    "end": "1067145"
  },
  {
    "text": "hundreds of years,\nbecause people found it necessary to take the\nspherical or almost spherical",
    "start": "1067145",
    "end": "1072630"
  },
  {
    "text": "Earth and map it onto a plane. So they could sell maps. And so there are lots of these. One of them is conformal--\nthat is, it preserves angles.",
    "start": "1072630",
    "end": "1081480"
  },
  {
    "text": "And it's called stereography. And as we said, a\nrotation of a sphere",
    "start": "1081480",
    "end": "1087720"
  },
  {
    "text": "induces rotation of the space. So we can take a sphere,\nmap it onto the plane,",
    "start": "1087720",
    "end": "1094169"
  },
  {
    "text": "then mush things\naround in the plane, and map them back\nonto the sphere. And if we mush things\naround just the right way",
    "start": "1094170",
    "end": "1102270"
  },
  {
    "text": "in the plane, then we\nactually have induced the rotation on the sphere.",
    "start": "1102270",
    "end": "1107309"
  },
  {
    "text": "We'll look at a picture of that. Again, we're not\ngoing to use that. But it's kind of amusing.",
    "start": "1107310",
    "end": "1112410"
  },
  {
    "text": "The thing you do in the\nplane is to treat the plane as a complex plane and do some\nhomogeneous transformation",
    "start": "1112410",
    "end": "1121050"
  },
  {
    "text": "on that. And then, of course, physicists\nhave to invent their own stuff.",
    "start": "1121050",
    "end": "1128000"
  },
  {
    "text": "So there's a type of\n2 by 2 complex matrix that can be used to represent\nrotation that Pauli came up",
    "start": "1128000",
    "end": "1137019"
  },
  {
    "text": "with, the same man\nwho's famous for saying, that paper isn't even\nwrong as a criticism of one",
    "start": "1137020",
    "end": "1145720"
  },
  {
    "text": "of his colleagues. So 2 by 2 complex numbers--",
    "start": "1145720",
    "end": "1152110"
  },
  {
    "text": "that sounds like 8\ndegrees of freedom. Well, they're not just any. They have to be Hermitian.",
    "start": "1152110",
    "end": "1158799"
  },
  {
    "text": "And they have to be unitary. So it turns out that after\nyou do that, there are only 3 degrees of freedom left.",
    "start": "1158800",
    "end": "1166759"
  },
  {
    "text": "Then we get to Euler parameters,\nsometimes also called",
    "start": "1166760",
    "end": "1172240"
  },
  {
    "text": "Gonzalez parameters-- Rodrigues parameters. Excuse me. And then we get to\nunit quaternions.",
    "start": "1172240",
    "end": "1179350"
  },
  {
    "text": "Now, of course, there's a\nrelation between all of them. And in fact, it's\nimportant to be",
    "start": "1179350",
    "end": "1185769"
  },
  {
    "text": "able to convert between them. And we'll do some of that. And it's a little bit like many\nother problems, where you're",
    "start": "1185770",
    "end": "1194590"
  },
  {
    "text": "trying to solve something. And it turns out, if you have\nthe right representation, the answer is easy.",
    "start": "1194590",
    "end": "1200169"
  },
  {
    "text": "And so often, the problem, then,\nends up being the conversion. And so then you find that,\nwell, the conversion is--",
    "start": "1200170",
    "end": "1207160"
  },
  {
    "text": "just like in the\ntrivial case, we could have polar coordinates\nversus Cartesian coordinates. And maybe the answer in\npolar coordinates is trivial,",
    "start": "1207160",
    "end": "1215230"
  },
  {
    "text": "but it's not in\nCartesian coordinates. And then you're left\nwith a conversion. Well, in that case, the\nconversion is not too hard.",
    "start": "1215230",
    "end": "1221105"
  },
  {
    "text": "But here, sometimes it is. So let's start with that.",
    "start": "1221105",
    "end": "1227570"
  },
  {
    "text": "This is Rodrigues. Rodrigues was a banker in Paris.",
    "start": "1227570",
    "end": "1234210"
  },
  {
    "text": "And apparently, he found banking\na fairly boring profession, because he'd spend\nhis nights doing math.",
    "start": "1234210",
    "end": "1240600"
  },
  {
    "text": "And so this is one\nof his results. Basically, the operations we're\ngoing to want to do are two.",
    "start": "1240600",
    "end": "1247990"
  },
  {
    "text": "One operation is take a vector\nand rotate it, or find out what that vector is in a rotated\ncoordinate system equivalent",
    "start": "1247990",
    "end": "1255120"
  },
  {
    "text": "problem. The other one is\ncomposing rotations. We've rotated a little bit\nin this-- around this axis.",
    "start": "1255120",
    "end": "1261240"
  },
  {
    "text": "Now, we're going to\nrotate about another axis. What is the overall result? And that turns out\nto be non-trivial.",
    "start": "1261240",
    "end": "1267720"
  },
  {
    "text": "So this, here, is addressing\nthat first problem. So we have a vector, r.",
    "start": "1267720",
    "end": "1273150"
  },
  {
    "text": "And we have an axis of\nrotation that's here vertical.",
    "start": "1273150",
    "end": "1278220"
  },
  {
    "text": "And we're going to\nrotate through an angle theta about that axis. And that will take us to\na new position, r prime.",
    "start": "1278220",
    "end": "1287460"
  },
  {
    "text": "And the question is, how\ndo you compute r prime? Well, if we first convert\nit to a 2D problem",
    "start": "1287460",
    "end": "1293880"
  },
  {
    "text": "in this plane indicated\nby this ellipse, then it's very easy,\nbecause we just take this vector and that\nvector and combine them",
    "start": "1293880",
    "end": "1302950"
  },
  {
    "text": "in a weighted fashion. So this dotted vector is this\nvector times cosine theta",
    "start": "1302950",
    "end": "1311320"
  },
  {
    "text": "plus this vector\ntimes sine theta. So you can see how,\nwhen theta is 0,",
    "start": "1311320",
    "end": "1317800"
  },
  {
    "text": "the dotted vector will\nbe equal to this one. And when theta is equal to 1--",
    "start": "1317800",
    "end": "1322930"
  },
  {
    "text": "pi over 2, it'll be\nequal to this vector. And all the way along, it\nretains its length and so on.",
    "start": "1322930",
    "end": "1329990"
  },
  {
    "text": "So in 2D, the rotation as\nwe know it is very simple. And like mathematicians\nwant to often do,",
    "start": "1329990",
    "end": "1336490"
  },
  {
    "text": "we reduce a complicated\nproblem to a simpler one we already know how to solve.",
    "start": "1336490",
    "end": "1341809"
  },
  {
    "text": "But that's in this plane. And so we first\nhave to figure out what these two vectors\nare that we are combining",
    "start": "1341810",
    "end": "1347800"
  },
  {
    "text": "using cosine and sine. And so first of\nall, this one here-- so how do we get that one?",
    "start": "1347800",
    "end": "1353260"
  },
  {
    "text": "Well, we take r. And we subtract out\nthis vector, right?",
    "start": "1353260",
    "end": "1358570"
  },
  {
    "text": "And the difference is going\nto be this vector here. Well, that means that we need\nto know what this vector is.",
    "start": "1358570",
    "end": "1365890"
  },
  {
    "text": "Well, that's just\nprojecting r onto omega. And since omega is the unit\nvector, it's very easy--",
    "start": "1365890",
    "end": "1371559"
  },
  {
    "text": "there is a formula. And so therefore, this\nvector is r minus that thing.",
    "start": "1371560",
    "end": "1377890"
  },
  {
    "text": "And then finally, we need\nto know what this vector is. And basically, that vector has\nto be perpendicular to omega.",
    "start": "1377890",
    "end": "1386200"
  },
  {
    "text": "And it has to be perpendicular\nto this, because in this plane, it's pi over 2 away\nfrom that vector, right?",
    "start": "1386200",
    "end": "1392530"
  },
  {
    "text": "So by taking the\ncross product of--",
    "start": "1392530",
    "end": "1397540"
  },
  {
    "text": "let's see-- this thing\nhere with this thing here, we end up with, after\nsimplification, just",
    "start": "1397540",
    "end": "1403420"
  },
  {
    "text": "omega cross r. And it makes sense, because it's\ngoing to be perpendicular to r. And it's going to be\nperpendicular to omega.",
    "start": "1403420",
    "end": "1409690"
  },
  {
    "text": "Anyway, you put all of\nthose things together. You get this formula. So r prime, the vector\nafter rotations,",
    "start": "1409690",
    "end": "1416140"
  },
  {
    "text": "is cosine theta r, the\nvector before rotation, plus these terms.",
    "start": "1416140",
    "end": "1422380"
  },
  {
    "text": "And you can see that rotation\nis not quite that trivial. So anyway-- so axis and\nangle is a useful notation.",
    "start": "1422380",
    "end": "1435020"
  },
  {
    "text": "And it's often a good\nway to visualize things. It's easy to say, OK, we're\nrotating about the x-axis",
    "start": "1435020",
    "end": "1442280"
  },
  {
    "text": "through 90 degrees-- easy to understand what it is. What's a disadvantage? The disadvantage is composition.",
    "start": "1442280",
    "end": "1448670"
  },
  {
    "text": "If you have two rotations\ngiven as axis and angle,",
    "start": "1448670",
    "end": "1454150"
  },
  {
    "text": "how do you combine\nthem into a single? We know by Euler's\ntheorem, there's a single rotation that\nrepresents the combination.",
    "start": "1454150",
    "end": "1461769"
  },
  {
    "text": "But how do you combine them? Well, it turns out what I would\ndo is convert both of these to some other form, like\northonormal matrices.",
    "start": "1461770",
    "end": "1470350"
  },
  {
    "text": "Multiply the\northonormal matrices. Go back to this form. So that's a disadvantage. There is no-- you\ncan rotate vectors.",
    "start": "1470350",
    "end": "1477790"
  },
  {
    "text": "That's the one\noperation we want. It's hard to do\ncomposition of rotation. So OK, well, we'll skip this.",
    "start": "1477790",
    "end": "1487480"
  },
  {
    "text": "This is the exponential-- the algebra view of things. And that, too--\nlet's forget that.",
    "start": "1487480",
    "end": "1494680"
  },
  {
    "text": "I just wanted to point this\none, which we mentioned. So here, the idea is\nthat here's our sphere",
    "start": "1494680",
    "end": "1502150"
  },
  {
    "text": "that we're going to rotate. And we project it\nonto a plane, which happens to be tangent\nat the North Pole.",
    "start": "1502150",
    "end": "1508870"
  },
  {
    "text": "And this projection-- if\nyour center of projection is the South Pole-- so you go from the\nSouth Pole to a point",
    "start": "1508870",
    "end": "1514990"
  },
  {
    "text": "on the surface and that-- then extend that line\nuntil it hits that plane. And you will see a\ncouple of things.",
    "start": "1514990",
    "end": "1521929"
  },
  {
    "text": "One of them is you can map the\nwhole sphere onto a plane-- well, except the\nSouth Pole, right?",
    "start": "1521930",
    "end": "1529360"
  },
  {
    "text": "The other one you\ncan see is areas are going to be\ndistorted, right, because if we're dealing\nwith, say, Alaska up here,",
    "start": "1529360",
    "end": "1537820"
  },
  {
    "text": "it's going to be\nmapped onto the plane without much magnification. But if we're looking\nat Australia,",
    "start": "1537820",
    "end": "1543490"
  },
  {
    "text": "it's going to come\nout way over here. It's going to be huge. So this particular\nmap projection",
    "start": "1543490",
    "end": "1550000"
  },
  {
    "text": "is actually used for\nthe polar regions, because most of the\nother map projections",
    "start": "1550000",
    "end": "1555550"
  },
  {
    "text": "don't work very well there. But it does have that feature. And why is it liked so much?",
    "start": "1555550",
    "end": "1561290"
  },
  {
    "text": "Well, because it\ndoesn't distort shapes. So it preserves angles. Most-- all other projections\nhave the property",
    "start": "1561290",
    "end": "1569830"
  },
  {
    "text": "that they will distort shapes. They will distort areas.",
    "start": "1569830",
    "end": "1574940"
  },
  {
    "text": "You have your choice. You can pick projections\nthat preserve area. You can pick projections\nthat preserve shape angles.",
    "start": "1574940",
    "end": "1583460"
  },
  {
    "text": "But you can't do both. OK, so we start off--\nwe take our sphere.",
    "start": "1583460",
    "end": "1589660"
  },
  {
    "text": "We projected it onto\nthis map-- this plane, which is the complex plane.",
    "start": "1589660",
    "end": "1594850"
  },
  {
    "text": "Then in that complex plane,\nwe do this operation. So z is a complex variable\ncoordinate in this plane.",
    "start": "1594850",
    "end": "1601270"
  },
  {
    "text": "And z prime is its new position. So and a, b, c, d\nare complex numbers.",
    "start": "1601270",
    "end": "1610940"
  },
  {
    "text": "So everything in that plane\nis going to get moved around. And now, we project\nit back on the sphere.",
    "start": "1610940",
    "end": "1616720"
  },
  {
    "text": "And the amazing thing is that\nthe pattern on the sphere is just the rotated version\nof what it was before.",
    "start": "1616720",
    "end": "1623200"
  },
  {
    "text": "And therefore, we can think\nof rotation in 3 space, instead, in terms of some\noperation in the complex plane,",
    "start": "1623200",
    "end": "1630460"
  },
  {
    "text": "which is pretty amazing.  So that's yet another\nrepresentation.",
    "start": "1630460",
    "end": "1637280"
  },
  {
    "text": "OK, so what are the\ndesirable properties? We already mentioned\nsome of them. We need to be able to rotate\nvectors or equivalently",
    "start": "1637280",
    "end": "1644420"
  },
  {
    "text": "rotate coordinate systems. But also, we need to be\nable to compose rotations.",
    "start": "1644420",
    "end": "1650420"
  },
  {
    "text": "We would like to have an\nintuitive representation. Like, axis and angle\nis sort of intuitive.",
    "start": "1650420",
    "end": "1656010"
  },
  {
    "text": "It's easy to understand\nwhat that is, whereas if you look at\nthe rotation matrix, you look at the numbers--",
    "start": "1656010",
    "end": "1661190"
  },
  {
    "text": "what do they mean? I don't know. You multiply a vector\nand see what happens.",
    "start": "1661190",
    "end": "1666200"
  },
  {
    "text": "But the numbers don't\ndirectly mean anything. If you know a little bit\nmore about it, you say, well, if I look at the trace with\nthe sum of diagonal elements,",
    "start": "1666200",
    "end": "1674310"
  },
  {
    "text": "it's-- I don't know-- 2 times\n1 minus the cosine of the angle of rotation. But it's not very intuitive.",
    "start": "1674310",
    "end": "1681230"
  },
  {
    "text": "Then is it redundant? Well, orthonormal matrices are\na prime example of something",
    "start": "1681230",
    "end": "1686360"
  },
  {
    "text": "that's definitely not\nredundant, because we have 9 numbers to\nrepresent three things.",
    "start": "1686360",
    "end": "1692085"
  },
  {
    "text": "Yeah. ",
    "start": "1692085",
    "end": "1706770"
  },
  {
    "text": "Right, that's a very good point. So so much for my story about\nit not being intuitive--",
    "start": "1706770",
    "end": "1712780"
  },
  {
    "text": "well, if you think about\nrotating the x-axis, i.e. 1, 0, 0-- multiply the\nmatrix by that-- you",
    "start": "1712780",
    "end": "1720420"
  },
  {
    "text": "get the first column. So as he's pointing\nout, the first column is a significant vector.",
    "start": "1720420",
    "end": "1727410"
  },
  {
    "text": "It's what happens to the x-axis. Second column is what\nhappens to the y-axis. Third column is what\nhappens to the z-axis.",
    "start": "1727410",
    "end": "1734230"
  },
  {
    "text": "So you can understand the\nrotation matrix that way. And similarly, you can\ntalk about the rows",
    "start": "1734230",
    "end": "1741630"
  },
  {
    "text": "going in the other direction. But you wouldn't know\nthe axis of rotation",
    "start": "1741630",
    "end": "1746970"
  },
  {
    "text": "or the angle of rotation. So but yes, that's a good point.",
    "start": "1746970",
    "end": "1752100"
  },
  {
    "text": "OK, redundant-- so let's see. ",
    "start": "1752100",
    "end": "1758160"
  },
  {
    "text": "Axis and angle-- well, axis\nand angle is kind of redundant, because if we have a vector,\nit has three components",
    "start": "1758160",
    "end": "1764820"
  },
  {
    "text": "plus an angle is four. Gibbs vector is not\nredundant, because we've",
    "start": "1764820",
    "end": "1770760"
  },
  {
    "text": "multiplied the vector by\nthe tangent of theta over 2.",
    "start": "1770760",
    "end": "1777000"
  },
  {
    "text": "But we don't want singularities. Gibbs vector has a singularity. So we'd also like it to be\ncomputationally efficient.",
    "start": "1777000",
    "end": "1785790"
  },
  {
    "text": "And we'll get into\nthat a little bit. And we want to be able\nto do lots of things, for example,\ninterpolate orientation.",
    "start": "1785790",
    "end": "1792640"
  },
  {
    "text": "So in graphics, we\nmight often have some person performing some\ndance or action in the world.",
    "start": "1792640",
    "end": "1802900"
  },
  {
    "text": "And we would like the\nartist to only have to specify certain distinct\npoints rather than every frame.",
    "start": "1802900",
    "end": "1811080"
  },
  {
    "text": "And so we'll need\nto interpolate. Well, if that\nperson is rotating, how do we interpolate?",
    "start": "1811080",
    "end": "1816870"
  },
  {
    "text": "How do you do a\npartial rotation? And so you might say,\nwell, half a rotation--",
    "start": "1816870",
    "end": "1822490"
  },
  {
    "text": "that's the square root\nof the rotation matrix, right, because if you\nmultiply that by itself,",
    "start": "1822490",
    "end": "1827620"
  },
  {
    "text": "you get the rotation matrix. But how do you get the\nsquare root of a matrix? So that's something.",
    "start": "1827620",
    "end": "1833585"
  },
  {
    "text": "Another thing we\nmight want to do is get averages over\nranges of rotation.",
    "start": "1833585",
    "end": "1839159"
  },
  {
    "text": "For us, a big deal is\ngoing to be optimization. We're going to try and\nfit coordinate system.",
    "start": "1839160",
    "end": "1844740"
  },
  {
    "text": "We're going to try and fit\nmeasurements to models. And in that case, we need\nto be able to do things",
    "start": "1844740",
    "end": "1851010"
  },
  {
    "text": "like take a derivative and\nset the result equal to 0. Well, the derivative\nwith respect",
    "start": "1851010",
    "end": "1856110"
  },
  {
    "text": "to the rotation matrix-- that doesn't make\na lot of sense. What is it? Well, something with\nnine components.",
    "start": "1856110",
    "end": "1862740"
  },
  {
    "text": "But how do you enforce\nthe constraints? Then in some cases where\nwe can't get a closed form",
    "start": "1862740",
    "end": "1870450"
  },
  {
    "text": "solution, we might want\nto sample that space and try some subset.",
    "start": "1870450",
    "end": "1878850"
  },
  {
    "text": "But we'd like to\nsample the space in an efficient way, which means\nwe want to sample it uniformly. So if there was a\ntranslation space,",
    "start": "1878850",
    "end": "1885630"
  },
  {
    "text": "we'd just chop up space\ninto voxels equally spaced.",
    "start": "1885630",
    "end": "1890880"
  },
  {
    "text": "And we'd be done. Or if we go into--\nfor a random sampling, we could just\ngenerate a random x",
    "start": "1890880",
    "end": "1898169"
  },
  {
    "text": "between the range\nand the random y between-- in a certain range\nand the z in the certain range.",
    "start": "1898170",
    "end": "1903540"
  },
  {
    "text": "But how do you do\nthat for rotations? Now, if you did it in Euler\nangles, you could say, OK, well, I'll take the\nfirst angle between minus 90",
    "start": "1903540",
    "end": "1912660"
  },
  {
    "text": "and plus 90 and then the\nsecond angle and so on. And you get into non-uniform\nsampling of the space.",
    "start": "1912660",
    "end": "1919049"
  },
  {
    "text": "For example, a much easier\nexample is on the sphere, we can use latitude and\nlongitude as coordinates.",
    "start": "1919050",
    "end": "1928080"
  },
  {
    "text": "But if you use that to\ncontrol your sampling, you're going to sample much\nmore closely near the two poles,",
    "start": "1928080",
    "end": "1935220"
  },
  {
    "text": "right? So that's one-- add\none more dimension,",
    "start": "1935220",
    "end": "1940605"
  },
  {
    "text": "and then you get the\nproblem for rotations. So the idea of having\na space of rotations",
    "start": "1940605",
    "end": "1947370"
  },
  {
    "text": "is very attractive, because then\nwe can tessellate that space. We can sample it\nuniformly or randomly.",
    "start": "1947370",
    "end": "1955350"
  },
  {
    "text": "We can compute\naverages or whatever. So here are some of the problems\nwe already talked about.",
    "start": "1955350",
    "end": "1962490"
  },
  {
    "text": "The orthonormal matrices--\nthey're redundant. And the constraints\nare complicated.",
    "start": "1962490",
    "end": "1969140"
  },
  {
    "text": "Euler angles don't make it\neasy to compose rotations, just as with angle\nand axis notation.",
    "start": "1969140",
    "end": "1976669"
  },
  {
    "text": "Best thing you can do is\nconvert it to orthonormal matrix and multiply. And then there's gimbal lock.",
    "start": "1976670",
    "end": "1983490"
  },
  {
    "text": "So I know you're all\ntoo young for this. But there was a time when\nman went to the moon, which",
    "start": "1983490",
    "end": "1990260"
  },
  {
    "text": "was a very exciting time. And when you listened\non television",
    "start": "1990260",
    "end": "1995669"
  },
  {
    "text": "and you ignored the\nstupid commentators that were talking over the\ncommunication from the cabin,",
    "start": "1995670",
    "end": "2001700"
  },
  {
    "text": "you'd hear them talk about\napproaching gimbal lock. So what was that? Well, they-- Draper Lab built\ntheir navigation system.",
    "start": "2001700",
    "end": "2010010"
  },
  {
    "text": "And it had gyroscopes in it. And gyroscopes\nbasically have three--",
    "start": "2010010",
    "end": "2015860"
  },
  {
    "text": "that type of gyroscope\nhas three axes. And it has a part that\nis spinning at high speed",
    "start": "2015860",
    "end": "2022190"
  },
  {
    "text": "and wants to continue\nspinning around that axis. And then the cage basically\nallows the spacecraft",
    "start": "2022190",
    "end": "2030980"
  },
  {
    "text": "to rotate about that\nfixed direction. But as with Euler\nangles, you can",
    "start": "2030980",
    "end": "2037280"
  },
  {
    "text": "get to a situation, where\ntwo of the axes line up. And then you've lost\na degree of freedom. And if you move\nthrough that point,",
    "start": "2037280",
    "end": "2043520"
  },
  {
    "text": "you've basically lost\nyour orientation in space. So they were\ncarefully instructed not to go through that point,\nbecause their automated systems",
    "start": "2043520",
    "end": "2053960"
  },
  {
    "text": "wouldn't work correctly. And so that's exactly the\nproblem with Euler angles,",
    "start": "2053960",
    "end": "2060770"
  },
  {
    "text": "that when you rotate one of\nthem through 90 degrees, it lines up with the next one. And you've lost a\ndegree of freedom.",
    "start": "2060770",
    "end": "2067969"
  },
  {
    "text": "And so by the way,\nhow do you solve it? Well, the easiest way\nis to have four axes.",
    "start": "2067969",
    "end": "2073340"
  },
  {
    "text": "And in that case,\nunfortunately, you can no longer treat it as a passive system. You have to have an\nactive system that",
    "start": "2073340",
    "end": "2080179"
  },
  {
    "text": "drives the axes so that you\nnever have two of them line up. Anyway, Euler angles--",
    "start": "2080179",
    "end": "2086239"
  },
  {
    "text": "Gibbs vector had\nthat singularity. Axis and angle has the problem\nof composing rotations.",
    "start": "2086239",
    "end": "2093050"
  },
  {
    "text": "And then of course, we don't\nhave a clear idea of what is the space of rotations.",
    "start": "2093050",
    "end": "2098800"
  },
  {
    "text": "So we get to Hamilton, who\nlived in Dublin, Ireland.",
    "start": "2098800",
    "end": "2104260"
  },
  {
    "text": "And he was fascinated\nby algebraic couples.",
    "start": "2104260",
    "end": "2109630"
  },
  {
    "text": "So the view is that we\nthink of complex numbers as pairs of reals.",
    "start": "2109630",
    "end": "2114880"
  },
  {
    "text": "And can we somehow\ngeneralize that? And you want to\nhave a nice algebra.",
    "start": "2114880",
    "end": "2120550"
  },
  {
    "text": "You want to be able to\nadd, subtract, multiply, and very important, you\nwant to be able to divide.",
    "start": "2120550",
    "end": "2126218"
  },
  {
    "text": "I mean, you can do all\nsorts of wonderful things. But if you can do that,\nthen you can solve equations by subtracting, cross\nmultiplying-- doing",
    "start": "2126218",
    "end": "2134860"
  },
  {
    "text": "all those things we're used to. And so there was a lot\nof interest in physics,",
    "start": "2134860",
    "end": "2139960"
  },
  {
    "text": "particularly in dealing\nwith vectors in space. Well, they weren't\ncalled vectors, but dealing with\npoints in space.",
    "start": "2139960",
    "end": "2145910"
  },
  {
    "text": "And so the natural thing was,\nlet's go from real numbers to complex numbers to triples.",
    "start": "2145910",
    "end": "2152410"
  },
  {
    "text": "And then what can we\ndo with the triples? Well, you can multiply them.",
    "start": "2152410",
    "end": "2158230"
  },
  {
    "text": "And of course, the dot products\nnot much used for this purpose, because it's a\nscalar cross product.",
    "start": "2158230",
    "end": "2163653"
  },
  {
    "text": "Well, the trouble\nis if you've got a cross b, c equals a cross b. Can you say a equals\nc divided by b?",
    "start": "2163653",
    "end": "2172630"
  },
  {
    "text": "No. So that was his problem. And it really puzzled\nhim for quite a while.",
    "start": "2172630",
    "end": "2178930"
  },
  {
    "text": "And he trained his\nchildren to, every morning he came down for breakfast,\nto ask him, papa,",
    "start": "2178930",
    "end": "2186670"
  },
  {
    "text": "can you multiply triplets yet,\nwhich were these vectors-- we later call vectors.",
    "start": "2186670",
    "end": "2193510"
  },
  {
    "text": "And then on this\nfateful day, he got it.",
    "start": "2193510",
    "end": "2199570"
  },
  {
    "text": "And he went with his\nwife on his usual Sunday stroll through Dublin.",
    "start": "2199570",
    "end": "2205990"
  },
  {
    "text": "And he committed a\ncriminal act on the bridge. He engraved in graffiti\nthe basic equation",
    "start": "2205990",
    "end": "2214090"
  },
  {
    "text": "you need to solve this problem\nwithout explanation, just the formula. And then later when he\ndescribed it, he's saying,",
    "start": "2214090",
    "end": "2221550"
  },
  {
    "text": "\"And here, there\ndawned on me the notion that we must admit, in some\nsense, a fourth dimension of space for the purpose of\ncalculating with triples.",
    "start": "2221550",
    "end": "2228360"
  },
  {
    "text": "An electric circuit\nseemed to close, and a spark flash forth.\" Remember, it was 1843. So there's a lot of excitement\nabout electric stuff",
    "start": "2228360",
    "end": "2236130"
  },
  {
    "text": "but long before\nTesla and Edison. And the key thing\nwas that he decided",
    "start": "2236130",
    "end": "2241920"
  },
  {
    "text": "you can't do it with three. There's no way to\ndo it with three. But you can do it with four. And so then he\nwrote a book, which",
    "start": "2241920",
    "end": "2250320"
  },
  {
    "text": "is basically incomprehensible. It's like 800 pages\nof heavy math.",
    "start": "2250320",
    "end": "2255540"
  },
  {
    "text": "But we'll simplify it a lot. So the insight was, you can't\ndo it with three components.",
    "start": "2255540",
    "end": "2260970"
  },
  {
    "text": "And then he took his cue\nfrom complex numbers, where we introduce a,\nquote, \"imaginary\" number.",
    "start": "2260970",
    "end": "2266940"
  },
  {
    "text": "And he said, well, maybe\nif we have more of them, maybe there are other\nthings, when you square them,",
    "start": "2266940",
    "end": "2273180"
  },
  {
    "text": "they become minus 1. And so that was his key insight. He used the notation ijk, such\nthat i squared and j squared",
    "start": "2273180",
    "end": "2282420"
  },
  {
    "text": "and k squared are minus 1. And then very importantly, he\nadded this ijk equals minus 1.",
    "start": "2282420",
    "end": "2288420"
  },
  {
    "text": "And this is what he\nengraved in the bridge. And it's still there,\nalthough heavily worn by mathematicians\ntouching it to see if they",
    "start": "2288420",
    "end": "2296760"
  },
  {
    "text": "can get the inside from-- anyway, from those you\ncan get everything else.",
    "start": "2296760",
    "end": "2302220"
  },
  {
    "text": "For example, if you\nwant to know what ij is, well, you just\nmultiply ijk by k. And you get k squared,\nwhich is minus 1.",
    "start": "2302220",
    "end": "2309420"
  },
  {
    "text": "So it's going to\nbe minus 1 times-- and so on. So you get k So these\nothers are all subsidiary.",
    "start": "2309420",
    "end": "2315270"
  },
  {
    "text": "He didn't bother engraving them. He just took the-- importantly, multiplication\nis not commutative.",
    "start": "2315270",
    "end": "2321370"
  },
  {
    "text": "So ij is k ji is minus k. And that sort of corresponds\nto cross products.",
    "start": "2321370",
    "end": "2331740"
  },
  {
    "text": "So this kind of suggests\na connection with vectors. ",
    "start": "2331740",
    "end": "2339589"
  },
  {
    "text": "And so there are lots\nof different ways of thinking about quaternions. One is just simply\nas a real part",
    "start": "2339590",
    "end": "2346340"
  },
  {
    "text": "and three different\nflavors of imaginary parts, rather than just\none imaginary part.",
    "start": "2346340",
    "end": "2351920"
  },
  {
    "text": "But then you can take these\nthree and think of them as a vector in space and treat\nthe whole thing as a scalar,",
    "start": "2351920",
    "end": "2358700"
  },
  {
    "text": "q0, plus this vector\nand use this notation , which has a scalar,\ncomma, vector part.",
    "start": "2358700",
    "end": "2367870"
  },
  {
    "text": "Or you can just write\nit as a four-vector, a thing with four components. So I use this notation with\na little circle over it",
    "start": "2367870",
    "end": "2376010"
  },
  {
    "text": "to denote a quaternion. It's not standard. So don't get confused by that. But when I'm writing stuff,\nit's very important for me",
    "start": "2376010",
    "end": "2383780"
  },
  {
    "text": "to distinguish the scalar, the\nvector, and the quaternion. So I use the little\ncircle to denote that.",
    "start": "2383780",
    "end": "2390800"
  },
  {
    "text": "Another way of thinking\nabout quaternions is as 4 by 4 matrices. And that brings us back\nto that isomorphism",
    "start": "2390800",
    "end": "2397010"
  },
  {
    "text": "we had that was useful\nfor cross products. There would be an isomorphism\nof quaternions with 4",
    "start": "2397010",
    "end": "2404029"
  },
  {
    "text": "by 4 matrices that allows\nus to do multiplication.",
    "start": "2404030",
    "end": "2409940"
  },
  {
    "text": "And yet another way is to think\nof a complex composite of two",
    "start": "2409940",
    "end": "2415130"
  },
  {
    "text": "complex numbers. So complex numbers are\nreal plus i times the real.",
    "start": "2415130",
    "end": "2420500"
  },
  {
    "text": "Now, imagine that you replace\nthe real with complex numbers. You've got something\nwith four components,",
    "start": "2420500",
    "end": "2426080"
  },
  {
    "text": "because you've\ngot to be careful, because you've got two different\ntypes of imaginary things. That's actually a way\nwe aren't going to use.",
    "start": "2426080",
    "end": "2433040"
  },
  {
    "text": "But it's a way that leads\nyou to other things. For example, you can\nuse that idea again.",
    "start": "2433040",
    "end": "2441440"
  },
  {
    "text": "And now, you get, instead\nof four components, eight. And then again, you\ncan get 16 components.",
    "start": "2441440",
    "end": "2447329"
  },
  {
    "text": "So you can build\nthese algebras that have 1, 2, 4, 8, 16 components.",
    "start": "2447330",
    "end": "2453620"
  },
  {
    "text": "And they get\nweirder and weirder. We're going to stick with four. That's as far as we need to go.",
    "start": "2453620",
    "end": "2459650"
  },
  {
    "text": "OK, so here's the\nview of multiplication using Hamilton's basic\nexplanation of how",
    "start": "2459650",
    "end": "2469880"
  },
  {
    "text": "to multiply these things. Here are two quaternions. You're going to multiply them. And obviously, we're\ngoing to get 16 terms.",
    "start": "2469880",
    "end": "2476990"
  },
  {
    "text": "And then j times k is minus i.",
    "start": "2476990",
    "end": "2482960"
  },
  {
    "text": "And so we can gather them up as,\nagain, a scalar part and then these three imaginary parts.",
    "start": "2482960",
    "end": "2492760"
  },
  {
    "text": "And that's the bottom\nbaseline truth. But it's kind of too detailed.",
    "start": "2492760",
    "end": "2500230"
  },
  {
    "text": "It's kind of hard to keep-- remember that. And it's, for us, who now--",
    "start": "2500230",
    "end": "2507370"
  },
  {
    "text": "remember this was\nbefore vectors. But today we're all into\nvectors and scalars. So in that notation, it's a lot\neasier to write it this way.",
    "start": "2507370",
    "end": "2515840"
  },
  {
    "text": "So here's a quaternion\np, a quaternion q. We multiply them together. And we get this quaternion.",
    "start": "2515840",
    "end": "2521770"
  },
  {
    "text": "And the scalar part of it\nis just the scalar parts multiplied minus the dot product\nof the vector parts and so on.",
    "start": "2521770",
    "end": "2530560"
  },
  {
    "text": "And it's non-commutative. Why? Because it includes this\ncross product at the end here.",
    "start": "2530560",
    "end": "2536470"
  },
  {
    "text": "So if we interchange\nthese two, we're going to get q cross p, which\nis, of course, minus p cross.",
    "start": "2536470",
    "end": "2543910"
  },
  {
    "text": "OK, so this is actually a\nway we're going to use it. Just it's much more\ncompact than this.",
    "start": "2543910",
    "end": "2552140"
  },
  {
    "text": "Here is another notation\nthat sometimes very useful. And this is analogous\nto the isomorphism",
    "start": "2552140",
    "end": "2558859"
  },
  {
    "text": "we had between vectors and the\nskew-symmetric 3 by 3 matrices. Here, we have a isomorphism\nbetween a quaternion and a 4",
    "start": "2558860",
    "end": "2566510"
  },
  {
    "text": "by 4 matrix, which\nhappens to be orthogonal.",
    "start": "2566510",
    "end": "2571530"
  },
  {
    "text": "And if the quaternion\nis a unit quaternion, it's also a unit normal. So this, actually, in\nour case is typically",
    "start": "2571530",
    "end": "2578840"
  },
  {
    "text": "a orthonormal 4 by 4 matrix. And so this\nmultiplication up here",
    "start": "2578840",
    "end": "2586310"
  },
  {
    "text": "can be written as this product\nof a matrix times a vector. And there's quite a bit\nof structure to this.",
    "start": "2586310",
    "end": "2592290"
  },
  {
    "text": "You can see the first column\nis just the quaternion p. And then you can see that\nit's sort of skew-symmetric,",
    "start": "2592290",
    "end": "2599480"
  },
  {
    "text": "except for the diagonal,\nwhich would be 0 if it was skew-symmetric.",
    "start": "2599480",
    "end": "2605300"
  },
  {
    "text": "And so we can write the\nproduct of two quaternions",
    "start": "2605300",
    "end": "2610790"
  },
  {
    "text": "in that form. So we can write pq-- so this is just\nlike cross product, where we said a cross b\nis some matrix times b.",
    "start": "2610790",
    "end": "2618650"
  },
  {
    "text": "Similarly here, pq can be\nwritten as this matrix times q. And the matrix looks like this.",
    "start": "2618650",
    "end": "2624890"
  },
  {
    "text": "And the matrix is orthogonal. And it's normal if\nit's a unit quaternion.",
    "start": "2624890",
    "end": "2629930"
  },
  {
    "text": "And if we get rid of p0,\nthen it's skew-symmetric.",
    "start": "2629930",
    "end": "2635640"
  },
  {
    "text": "And again, just as\nwith cross products, we have the choice\nof either expanding the first part into a\nmatrix or the second part.",
    "start": "2635640",
    "end": "2643600"
  },
  {
    "text": "So here's the other\nversion, where now, we've turn q into a 4 by 4 matrix.",
    "start": "2643600",
    "end": "2650680"
  },
  {
    "text": "And this 4 by 4 matrix\nlooks a lot like this one. The first column is\npretty much the same.",
    "start": "2650680",
    "end": "2655850"
  },
  {
    "text": "The first row is\npretty much the same. What's different is this 3\nby 3 submatrix is flipped. Its transpose.",
    "start": "2655850",
    "end": "2663830"
  },
  {
    "text": "So they're very similar. But and this corresponds,\nagain, to the fact that multiplication\nis non-commutative.",
    "start": "2663830",
    "end": "2669369"
  },
  {
    "text": "If those two pieces\nwere the same, then this whole operation\nwould have been commutative. ",
    "start": "2669370",
    "end": "2677790"
  },
  {
    "text": "So now that we've got the\nbasics and different ways",
    "start": "2677790",
    "end": "2682920"
  },
  {
    "text": "of representing it,\nit's easy to prove some of these basic results. So first of all, it's clear\nthat it's not commutative.",
    "start": "2682920",
    "end": "2690540"
  },
  {
    "text": "And that's why we're\ntalking about it. We wouldn't be talking about\nit if it was a commutative",
    "start": "2690540",
    "end": "2696330"
  },
  {
    "text": "because then there is no way\nthat it can represent rotation. It's associative, and that's\nnot too hard to prove.",
    "start": "2696330",
    "end": "2702930"
  },
  {
    "text": "Just use the formula\nfor multiplication. It's just a bit\nof messy algebra. Then we define a conjugate.",
    "start": "2702930",
    "end": "2709410"
  },
  {
    "text": "And the conjugate in\nanalogy with complex numbers just means you negate\nthe imaginary part.",
    "start": "2709410",
    "end": "2716780"
  },
  {
    "text": "And then the next\nresult you can get is that the conjugate\nof a product",
    "start": "2716780",
    "end": "2721810"
  },
  {
    "text": "is the product of the conjugates\nin reverse order, which is just like matrix multiplication--",
    "start": "2721810",
    "end": "2727870"
  },
  {
    "text": "AB all transposed is B\ntranspose A transpose. So there are some\nanalogies here.",
    "start": "2727870",
    "end": "2734050"
  },
  {
    "text": "And if you into\nphysics, you realize that different heroes of\nphysics had different ways",
    "start": "2734050",
    "end": "2741190"
  },
  {
    "text": "of approaching quantum physics. And some of them like to do it\nwith the complex number view.",
    "start": "2741190",
    "end": "2746440"
  },
  {
    "text": "And some of them like to\ndo it with a matrix view. And you can find that\nthey're kind of equivalent. Yeah, so I've done\na little of that.",
    "start": "2746440",
    "end": "2754570"
  },
  {
    "text": "And I'm going to do more of it. And the main reason is that we\ncan get a closed-form solution,",
    "start": "2754570",
    "end": "2761170"
  },
  {
    "text": "because we can differentiate\nwith respect to a quaternion. We can't differentiate with\nrespect to orthonormal matrix.",
    "start": "2761170",
    "end": "2768160"
  },
  {
    "text": "So that's kind of\nthe main reason. But there are these\nsubsidiary reasons, like if you can't get\na closed-form solution,",
    "start": "2768160",
    "end": "2774910"
  },
  {
    "text": "you can do a search in\nthe space of rotations. And you can sample that space\nefficiently, either uniformly",
    "start": "2774910",
    "end": "2781839"
  },
  {
    "text": "or randomly once you've got the\nnotion of a space of rotation, which is the case\nwith quaternions.",
    "start": "2781840",
    "end": "2789580"
  },
  {
    "text": "OK, so a few other\ndot product-- well, the dot product, if we think\nof it as a four-vector,",
    "start": "2789580",
    "end": "2795010"
  },
  {
    "text": "it's just the ordinary dot\nproduct of a four-vector. If we think of it in terms\nof scalar and vector,",
    "start": "2795010",
    "end": "2801529"
  },
  {
    "text": "well, then it's the\nproduct of the scalars plus the dot product\nof the vectors. But underneath, it's just q0\nsquared plus qx squared plus--",
    "start": "2801530",
    "end": "2809650"
  },
  {
    "text": "sorry-- p0 q0 plus px qx, et cetera.",
    "start": "2809650",
    "end": "2815300"
  },
  {
    "text": "And therefore, there's a norm. We can define a norm. And this is perhaps\nthe most important.",
    "start": "2815300",
    "end": "2820900"
  },
  {
    "text": "If we multiply q by its\nconjugate, it turns out,",
    "start": "2820900",
    "end": "2826049"
  },
  {
    "text": "we get a real quantity. There's no imaginary part. And it's this.",
    "start": "2826050",
    "end": "2831810"
  },
  {
    "text": "It's the dot product of\nq with itself times e. Well, e is this quaternion\nthat has a scalar--",
    "start": "2831810",
    "end": "2840330"
  },
  {
    "text": "it's a scalar 1. And I could have\njust written 1 there. But that looks sort of funny. So I invented this symbol,\nwhich is a quaternion that",
    "start": "2840330",
    "end": "2848280"
  },
  {
    "text": "has no vector part. And why is this important? Well, if you can do that,\nthen you have division.",
    "start": "2848280",
    "end": "2856940"
  },
  {
    "text": "So the multiplicative\ninverse is this. And that was the problem\nwith the triplets.",
    "start": "2856940",
    "end": "2864940"
  },
  {
    "text": "There was no way of\ndefining an inverse. And here, we can define\nan inverse, well,",
    "start": "2864940",
    "end": "2870400"
  },
  {
    "text": "except for q equals 0. But then that's\nalways a problem. So and so this\nmeans, for example,",
    "start": "2870400",
    "end": "2877460"
  },
  {
    "text": "that we can get the inverse\nof a rotation very easily.",
    "start": "2877460",
    "end": "2883770"
  },
  {
    "text": "First of all, in\nthe rotation, we're going to be dealing\nwith unit quaternions. So q dot q is 1.",
    "start": "2883770",
    "end": "2888839"
  },
  {
    "text": "So in the case of that unit\nquaternion representation,",
    "start": "2888840",
    "end": "2893940"
  },
  {
    "text": "the inverse is\njust the conjugate, sort of like in the case\nof orthonormal matrices.",
    "start": "2893940",
    "end": "2900340"
  },
  {
    "text": "The inverse is\njust the transpose. OK, and then there are a few\nother sort of minor properties.",
    "start": "2900340",
    "end": "2906390"
  },
  {
    "text": "And you can just\ntake those on faith. Or you can check them by\ndoing the multiplications. So the dot product of products\nis the product of dot products.",
    "start": "2906390",
    "end": "2917220"
  },
  {
    "text": "All surprising that. And then this first\nline is the special case",
    "start": "2917220",
    "end": "2923040"
  },
  {
    "text": "of the second line, which is\nmore useful in calculations. And then this\none's pretty handy.",
    "start": "2923040",
    "end": "2928990"
  },
  {
    "text": "So what's happened here? Well, sometimes we have\na quaternion on one side.",
    "start": "2928990",
    "end": "2934260"
  },
  {
    "text": "We'd like to move it to the\nother side of a dot product. And it turns out we can do that\nas long as we conjugate it.",
    "start": "2934260",
    "end": "2941550"
  },
  {
    "text": "So we've moved the cue from\nthe left side of the dot to the right side of the\ndot and just conjugated it.",
    "start": "2941550",
    "end": "2949230"
  },
  {
    "text": "And it's easy to prove that. We just multiply by cube,\nconjugate, and so on.",
    "start": "2949230",
    "end": "2955920"
  },
  {
    "text": "So we're going to\nuse unit quaternions to represent rotation. And we'll see right\nnow how that's related to the other\nnotations for rotation,",
    "start": "2955920",
    "end": "2963730"
  },
  {
    "text": "but we're dealing with vectors. So what about vectors? Well, we'll need to\nhave a quaternion",
    "start": "2963730",
    "end": "2968910"
  },
  {
    "text": "way of representing vectors. And of course, it's obvious. We just leave out\nthe scalar part.",
    "start": "2968910",
    "end": "2974580"
  },
  {
    "text": "Conversely, if we wanted\nto represent the scalar, we could just leave\nout the vector part. OK, so we're going to\nconvert our vectors in 3D",
    "start": "2974580",
    "end": "2982200"
  },
  {
    "text": "to these funny quaternions,\npurely imaginary quaternions,",
    "start": "2982200",
    "end": "2987690"
  },
  {
    "text": "manipulate them in that space,\nand then bring them back into 3D.",
    "start": "2987690",
    "end": "2993600"
  },
  {
    "text": "For this special case only of\nthese types of quaternions,",
    "start": "2993600",
    "end": "2998970"
  },
  {
    "text": "there's lots of\ninteresting properties. First of all, the\nconjugate, of course, is just negating it,\nbecause conjugate means",
    "start": "2998970",
    "end": "3006080"
  },
  {
    "text": "negating the imaginary part. The dot product is\njust the dot product. So this is the dot product\nof the quaternions.",
    "start": "3006080",
    "end": "3012680"
  },
  {
    "text": "This is the dot product of\nthe corresponding vectors. And since the scalar\npart is 0, it's",
    "start": "3012680",
    "end": "3018770"
  },
  {
    "text": "obvious that this is the case. So we can easily Compute dot product. If we multiply two of\nthese special quaternions,",
    "start": "3018770",
    "end": "3026240"
  },
  {
    "text": "we get this funny thing. It has the dot product in\nit and the cross product.",
    "start": "3026240",
    "end": "3031890"
  },
  {
    "text": "And this is why some\ncritics of this notation called it a\nhermaphrodite monster.",
    "start": "3031890",
    "end": "3038359"
  },
  {
    "text": "It's got both sexes built\ninto it, dot products and cross products. And they thought this\nwas a disadvantage.",
    "start": "3038360",
    "end": "3045050"
  },
  {
    "text": "For some purposes, this\nis actually an advantage. Then if we take the product of\nr and s and take the dot with t,",
    "start": "3045050",
    "end": "3052100"
  },
  {
    "text": "we get the triple product, rst. And the triple product is\noften pretty useful, aside",
    "start": "3052100",
    "end": "3057529"
  },
  {
    "text": "from computing\nvolumes or something. And again, this is\nvery simple to prove.",
    "start": "3057530",
    "end": "3063470"
  },
  {
    "text": "Once you have a 0 scalar apart,\nthen all you're going to get is the vector part of t dotted\nwith this thing, r cross s.",
    "start": "3063470",
    "end": "3073370"
  },
  {
    "text": "And of course, that's\njust r cross s dot t. That's the triple\nproduct rst and so on.",
    "start": "3073370",
    "end": "3080010"
  },
  {
    "text": "So that's how we\nrepresent vectors.",
    "start": "3080010",
    "end": "3087370"
  },
  {
    "text": "OK, scalars-- yeah,\nwe can do that. Finally, we get to rotation.",
    "start": "3087370",
    "end": "3092660"
  },
  {
    "text": "So how do we do rotation? Well, it turns out\nthat simple product of a quaternion with another\nquaternion won't do it,",
    "start": "3092660",
    "end": "3100510"
  },
  {
    "text": "because it takes us\nout of 3D into 4D. We need an operation that\ntakes us back into 3D.",
    "start": "3100510",
    "end": "3108790"
  },
  {
    "text": "And so this is a\nlittle bit like you can do rotation in the plane\nby doing some operation that",
    "start": "3108790",
    "end": "3115960"
  },
  {
    "text": "takes you out into 3 space. But then you have\nto have another part of the operation\nthat takes you back",
    "start": "3115960",
    "end": "3121030"
  },
  {
    "text": "into the plane, now,\nin a rotated form. So this is like that. If we multiply two\nquaternions, we're",
    "start": "3121030",
    "end": "3126760"
  },
  {
    "text": "basically doing an operation\nof rotation in 3 space. And now, we need to\nfind a operation that",
    "start": "3126760",
    "end": "3135400"
  },
  {
    "text": "doesn't undo that but\ntakes us back into 4 space. And this is exactly\nwhat happens here.",
    "start": "3135400",
    "end": "3141890"
  },
  {
    "text": "So we take our\nvector, r, turn it into a quaternion\nwith 0 scalar part. Then we pre-multiply by q and\npost-multiply by q conjugate.",
    "start": "3141890",
    "end": "3151599"
  },
  {
    "text": "And magically, we're\nback in the real world so that this quaternion, r\nprime, has a 0 scalar part.",
    "start": "3151600",
    "end": "3159520"
  },
  {
    "text": "And so this is how we're\ngoing to do rotation. Now, there are many different\nways of analyzing this.",
    "start": "3159520",
    "end": "3165460"
  },
  {
    "text": "One is to use that trick we\nhad of representing quaternion",
    "start": "3165460",
    "end": "3170710"
  },
  {
    "text": "multiplication as\nmultiplication of 4 by 4 matrices and the\nfour-vector, right?",
    "start": "3170710",
    "end": "3175960"
  },
  {
    "text": "So we take these first two\nand turn them into that. And then we take the\nsecond multiplication.",
    "start": "3175960",
    "end": "3184480"
  },
  {
    "text": "And this time, we\nturn the q conjugate into a matrix, this\nmatrix over here.",
    "start": "3184480",
    "end": "3191350"
  },
  {
    "text": "OK, so this\noperation is actually equivalent to that operation. And what is this?",
    "start": "3191350",
    "end": "3196765"
  },
  {
    "text": "This is a 4 by 4 matrix. It's a product of\ntwo 4 by 4 matrices. And if you multiply\nthem out, you get this.",
    "start": "3196765",
    "end": "3204500"
  },
  {
    "text": "And this-- the most\ninteresting property of this is that the first row and the\nfirst column are mostly zeros.",
    "start": "3204500",
    "end": "3211520"
  },
  {
    "text": "And the result is that\nif you have a vector in 3D, which has a zero part--",
    "start": "3211520",
    "end": "3216980"
  },
  {
    "text": "scalar part and multiply it by\nthis, there'll be no 0 scalar apart, right, because you're\nmultiplying this by 0.",
    "start": "3216980",
    "end": "3224630"
  },
  {
    "text": "And then you're adding all\nof these zeros multiplied by whatever. And you get 0.",
    "start": "3224630",
    "end": "3230420"
  },
  {
    "text": "So all this has proved so far\nis that this operation will, in fact, get you back into 3D.",
    "start": "3230420",
    "end": "3236960"
  },
  {
    "text": "So and this-- by the\nway, this submatrix is--",
    "start": "3236960",
    "end": "3243970"
  },
  {
    "text": "and this actually is our 3 by\n3 orthonormal rotation matrix. ",
    "start": "3243970",
    "end": "3254140"
  },
  {
    "text": "OK, so that's the equation\nwe're going to use for rotation.",
    "start": "3254140",
    "end": "3259240"
  },
  {
    "text": "And this is the scalar part. We can compute the scalar part. And if the scalar part of\nthe original vector is 0,",
    "start": "3259240",
    "end": "3266590"
  },
  {
    "text": "we get 0 for the scalar\npart of the new vector. The vector part can\nbe computed this way.",
    "start": "3266590",
    "end": "3272270"
  },
  {
    "text": "So if you don't want to jump\ninto the ocean of quaternions, you can do everything\nusing scalars and vectors.",
    "start": "3272270",
    "end": "3278990"
  },
  {
    "text": "Here's the formula, right? So just dot products and\ncross products-- very easy.",
    "start": "3278990",
    "end": "3286540"
  },
  {
    "text": "When we use this\noperation, we can easily-- well, with a bit\nof algebra, we can",
    "start": "3286540",
    "end": "3292599"
  },
  {
    "text": "prove that it preserves\ndot products, right? You just take this\nformula, apply it to r, then apply it to s,\ntake the dot product.",
    "start": "3292600",
    "end": "3299590"
  },
  {
    "text": "And you get r dot s. And so it preserves\ndot products.",
    "start": "3299590",
    "end": "3305650"
  },
  {
    "text": "Similarly, it preserves\ntriple products. Remember we had this special\nform that this multiplication",
    "start": "3305650",
    "end": "3310810"
  },
  {
    "text": "gave us a triple product of the\nvector, the underlying vectors? Well, it preserves\ntriple products.",
    "start": "3310810",
    "end": "3317559"
  },
  {
    "text": "So that's it. It's a rotation, right? It preserves dot products. It preserves triple products.",
    "start": "3317560",
    "end": "3324350"
  },
  {
    "text": "So that's good. We don't know yet\nwhat rotation, but we know it has to be a\nrotation, because it",
    "start": "3324350",
    "end": "3330340"
  },
  {
    "text": "preserves length and angles. And it preserves handedness. And then the other thing\nwe were talking about",
    "start": "3330340",
    "end": "3337020"
  },
  {
    "text": "was not just rotating a vector\nbut composing rotations. We wanted that to be easy. Well, so suppose\nwe first rotate--",
    "start": "3337020",
    "end": "3345450"
  },
  {
    "text": "we take our vector, r. We rotate it using q. And then we take the result,\nand we rotate it using p.",
    "start": "3345450",
    "end": "3352020"
  },
  {
    "text": "So we write this. And because these\noperations are associative, I can rewrite it this way.",
    "start": "3352020",
    "end": "3358500"
  },
  {
    "text": "And that tells you, oh,\ncomposition of rotation is just multiplication\nof quaternions--",
    "start": "3358500",
    "end": "3364380"
  },
  {
    "text": "it's very easy and actually\ncomputationally efficient, as well, which is very different\nfrom axis and angle notation",
    "start": "3364380",
    "end": "3373380"
  },
  {
    "text": "or Euler angles, where it's\nvery hard to compose rotations.",
    "start": "3373380",
    "end": "3380039"
  },
  {
    "text": "So then we need to figure\nout what rotation is it,",
    "start": "3380040",
    "end": "3385860"
  },
  {
    "text": "or if we have specified\nrotation in some other form, how do we turn it\ninto quaternion?",
    "start": "3385860",
    "end": "3391740"
  },
  {
    "text": "Well, this is the formula\nthat we just sort of derived on the previous page.",
    "start": "3391740",
    "end": "3397890"
  },
  {
    "text": "And here's Rodrigues'\nformula from a while back. And then if we identify\ncorresponding pairs,",
    "start": "3397890",
    "end": "3405120"
  },
  {
    "text": "first thing you notice is\nthat q, the vector part, is parallel to omega. So the vector part\nof the quaternion",
    "start": "3405120",
    "end": "3411570"
  },
  {
    "text": "is in the direction of the\naxis, which sort of makes sense.",
    "start": "3411570",
    "end": "3416760"
  },
  {
    "text": "And we can actually\nprove that easily. ",
    "start": "3416760",
    "end": "3424710"
  },
  {
    "text": "If you plug q in here\nfor r, what happens? Well, this part drops out,\nbecause a a cross 2 is 0.",
    "start": "3424710",
    "end": "3434200"
  },
  {
    "text": "And then this becomes\nq dot q times q. And this becomes\nsomething times q.",
    "start": "3434200",
    "end": "3441280"
  },
  {
    "text": "So the whole thing-- both of these are vectors\nin the q-direction.",
    "start": "3441280",
    "end": "3446630"
  },
  {
    "text": "So r prime is going to be\nin the q-direction-- so very easy to show that q becomes q.",
    "start": "3446630",
    "end": "3453940"
  },
  {
    "text": "And that's Euler's axis theorem. So it's very easy to see that\nthe vector part is parallel",
    "start": "3453940",
    "end": "3461830"
  },
  {
    "text": "to the axis of rotation. We don't know yet how\nlong it's supposed to be.",
    "start": "3461830",
    "end": "3467350"
  },
  {
    "text": "And we don't know\nwhat the angle is. But anyway, leave\nout some of this-- conclusion is this is\nour representation--",
    "start": "3467350",
    "end": "3474460"
  },
  {
    "text": "our conversion. So if we know axis and angle,\nwe can compute the quaternion.",
    "start": "3474460",
    "end": "3482530"
  },
  {
    "text": "So that's one of the\nconversions between the-- we have eight different\nways of representing it. So they're 8 times 7--",
    "start": "3482530",
    "end": "3490720"
  },
  {
    "text": "56 different conversions\nwe could possibly do, but we're not going to do them. So this is one.",
    "start": "3490720",
    "end": "3496510"
  },
  {
    "text": "The other one we saw\nearlier, where we produce the orthonormal matrix.",
    "start": "3496510",
    "end": "3501730"
  },
  {
    "text": "That's another important\none, because we use orthonormal\nmatrices all the time. We need to be able to go\nback and forth between axis",
    "start": "3501730",
    "end": "3508060"
  },
  {
    "text": "and angle, which\nis this formula, and between the\northonormal matrix, and that was that\nprevious formula.",
    "start": "3508060",
    "end": "3514840"
  },
  {
    "text": "Now, so there are two\nthings about this. One of them-- this\nis a unit quaternion.",
    "start": "3514840",
    "end": "3519970"
  },
  {
    "text": "We easily proved you take\nits dot product with itself. And you get cos\nsquared theta over 2",
    "start": "3519970",
    "end": "3525640"
  },
  {
    "text": "plus sine squared theta over 2. So that's one thing. So we're not talking about\narbitrary quaternions, just",
    "start": "3525640",
    "end": "3532030"
  },
  {
    "text": "unit quaternions. And then the other thing\nthat's a little bit annoying is that minus q is the\nsame rotation as plus q.",
    "start": "3532030",
    "end": "3540920"
  },
  {
    "text": "Why? Well, imagine you plugged\nminus q into this formula. The minus is just--",
    "start": "3540920",
    "end": "3546550"
  },
  {
    "text": "disappear. So what does this mean? It means that if we\nthink of the sphere",
    "start": "3546550",
    "end": "3552460"
  },
  {
    "text": "as representing the\nspace of rotation, opposite points are\nactually the same rotation.",
    "start": "3552460",
    "end": "3558400"
  },
  {
    "text": "So it's very nice to think of\na sphere in four dimensions",
    "start": "3558400",
    "end": "3564549"
  },
  {
    "text": "as the space of rotation. And then we can produce\nways of sampling that space and taking integrals\nand taking--",
    "start": "3564550",
    "end": "3570670"
  },
  {
    "text": "computing averages and so on. But you have to keep in mind\nthat you really only want half the sphere, because\nthe opposite side,",
    "start": "3570670",
    "end": "3578170"
  },
  {
    "text": "the reflected side represents\nthe same rotations. ",
    "start": "3578170",
    "end": "3584130"
  },
  {
    "text": "And [INAUDIBLE]\npoints are identified. So we're going to use\nthis in photogrammetry",
    "start": "3584130",
    "end": "3589950"
  },
  {
    "text": "and in particular, in\nabsolute orientation. We already talked about that.",
    "start": "3589950",
    "end": "3596140"
  },
  {
    "text": "And this is from last lecture. So we got points in\nspace identified,",
    "start": "3596140",
    "end": "3601470"
  },
  {
    "text": "measured in two\ncoordinate systems. We want to know the\ncoordinate transformation between those two systems.",
    "start": "3601470",
    "end": "3609319"
  },
  {
    "text": "And it's dual to the other\nproblem, where we have the same coordinate system. But we have two objects--",
    "start": "3609320",
    "end": "3615220"
  },
  {
    "text": "or we have one object moving. And we modeled it\nthis way, where",
    "start": "3615220",
    "end": "3620470"
  },
  {
    "text": "coordinates in the left\nsystem are rotated, and it's translated\nto produce coordinates",
    "start": "3620470",
    "end": "3626259"
  },
  {
    "text": "in the right coordinate system. And we want the best-fit\nrotation and translation,",
    "start": "3626260",
    "end": "3631420"
  },
  {
    "text": "meaning we want to\nminimize some error. And what we're given are a\nbunch of corresponding points",
    "start": "3631420",
    "end": "3637240"
  },
  {
    "text": "measured in the 2\ncoordinate system-- left-- left and right. And then we talked\nabout this mechanical,",
    "start": "3637240",
    "end": "3644290"
  },
  {
    "text": "this physical\nanalog that we want to make these errors small.",
    "start": "3644290",
    "end": "3650230"
  },
  {
    "text": "And so one way to do it is\nto have these springs, which have energy proportional\nto the distance squared.",
    "start": "3650230",
    "end": "3657770"
  },
  {
    "text": "And the energy-- total\nenergy in those springs is the sum of squares of errors. And the system wants\nto minimize that.",
    "start": "3657770",
    "end": "3664810"
  },
  {
    "text": "So that's the physical model\nof how it finds the rotation and translation.",
    "start": "3664810",
    "end": "3672310"
  },
  {
    "text": "So then we did this. So this is the\nerror term, right,",
    "start": "3672310",
    "end": "3679240"
  },
  {
    "text": "because if I take\nthe left coordinate and I rotate and\ntranslate it, I get this.",
    "start": "3679240",
    "end": "3685660"
  },
  {
    "text": "And that should be equal\nto the right coordinate. And I subtract them.",
    "start": "3685660",
    "end": "3690900"
  },
  {
    "text": "I get the remaining error. I square that. I add all of those errors. Then first step-- let's\nfind the translation.",
    "start": "3690900",
    "end": "3698369"
  },
  {
    "text": "And we did this last time. One way to do it, which is not\nthe way we did it in class,",
    "start": "3698370",
    "end": "3703829"
  },
  {
    "text": "is just differentiate with\nrespect to the translation, r0. And this notation--\nthis is the norm,",
    "start": "3703830",
    "end": "3712119"
  },
  {
    "text": "which is really the dot product\nof this thing with itself. If we differentiate\nit, we get twice this.",
    "start": "3712120",
    "end": "3719260"
  },
  {
    "text": "And we set that equal to 0. And then we can split. So we have a sum of three terms.",
    "start": "3719260",
    "end": "3725440"
  },
  {
    "text": "We can split that\ninto three sums. So for example-- of course,\nwe get rid of the 2.",
    "start": "3725440",
    "end": "3731410"
  },
  {
    "text": "That's not very interesting. And we get this. And final result was\njust that the translation",
    "start": "3731410",
    "end": "3738130"
  },
  {
    "text": "is what takes the centroid in\nthe left system after rotation",
    "start": "3738130",
    "end": "3745059"
  },
  {
    "text": "into the centroid\nof the right system. So that's kind of\nintuitive and nice.",
    "start": "3745060",
    "end": "3752320"
  },
  {
    "text": "It says that whatever\nyour transformation is, it should map the centroid\nof this point cloud",
    "start": "3752320",
    "end": "3758230"
  },
  {
    "text": "into the centroid\nof that point cloud. And one of the\nnice features of it is that you don't even\nneed correspondences.",
    "start": "3758230",
    "end": "3765400"
  },
  {
    "text": "You just compute the\ncentroid of those clouds. So for this part, you\ndon't need to know",
    "start": "3765400",
    "end": "3770710"
  },
  {
    "text": "which point in the cloud\ncorresponds to which point in the other cloud. And of course, right now\nwe can't get the answer,",
    "start": "3770710",
    "end": "3776980"
  },
  {
    "text": "because we don't know r. But this is the\nformula that we're going to come back to at the\nend to get the translation.",
    "start": "3776980",
    "end": "3782900"
  },
  {
    "text": "And so at that point, we can\nmove the origin to the centroid",
    "start": "3782900",
    "end": "3789609"
  },
  {
    "text": "and add a dash to\nthe r's, indicating they are now measured with\nrespect to the centroid.",
    "start": "3789610",
    "end": "3796270"
  },
  {
    "text": "So when we do that,\nthe formula simplifies.",
    "start": "3796270",
    "end": "3801880"
  },
  {
    "text": "Now that we're minimizing\nthis expression, where these r prime and\nR r prime and rl prime",
    "start": "3801880",
    "end": "3811839"
  },
  {
    "text": "are defined in\nterms of coordinates with respect to the center,\nwe subtract out the centroid--",
    "start": "3811840",
    "end": "3817060"
  },
  {
    "text": "subtract out the centroid there. And OK, then we take this. And we multiply this out.",
    "start": "3817060",
    "end": "3822309"
  },
  {
    "text": "Again, the non-squared\nis just the dot product of this thing with itself.",
    "start": "3822310",
    "end": "3827480"
  },
  {
    "text": "So think of it\nwritten out that way. Then when you multiply\nout, you get four terms. You gather them up,\nand you get this.",
    "start": "3827480",
    "end": "3835510"
  },
  {
    "text": "And here, we use\none little trick, which is that we noted\nthat the length of a vector",
    "start": "3835510",
    "end": "3840670"
  },
  {
    "text": "is not changed by rotation. So over here, we really get r\ntimes the left vector squared.",
    "start": "3840670",
    "end": "3849080"
  },
  {
    "text": "But we know that after\nrotation, it's the same length. So we just replace it.",
    "start": "3849080",
    "end": "3854670"
  },
  {
    "text": "OK, and at that point,\nthese two things are fixed. They're given by the data.",
    "start": "3854670",
    "end": "3859740"
  },
  {
    "text": "They're not going to depend\non the rotation you pick. So forget about them. We need to focus on\nthis middle term.",
    "start": "3859740",
    "end": "3866035"
  },
  {
    "text": "It's the only one we\nhave control over. We can change r. But it has a minus sign. So we're trying to\nminimize something.",
    "start": "3866035",
    "end": "3872700"
  },
  {
    "text": "So that means we want\nto maximize this term. And that's what we\ngot to last time.",
    "start": "3872700",
    "end": "3878310"
  },
  {
    "text": "And I was explaining it in\nterms of the sea urchin analogy,",
    "start": "3878310",
    "end": "3884160"
  },
  {
    "text": "where we've got these spines. And we're trying to get them\nto be as lined up as close",
    "start": "3884160",
    "end": "3889800"
  },
  {
    "text": "as possible so that\ntheir dot product is as large as possible. The dot product of\ncorresponding point--",
    "start": "3889800",
    "end": "3895830"
  },
  {
    "text": "now, we need correspondences. And this is the classic problem\nin spacecraft attitude control.",
    "start": "3895830",
    "end": "3904970"
  },
  {
    "text": "You have the direction\nto stars in your cameras.",
    "start": "3904970",
    "end": "3910940"
  },
  {
    "text": "And you're trying to line them\nup with the catalog directions.",
    "start": "3910940",
    "end": "3916040"
  },
  {
    "text": "And of course, you\nwant to make the-- and it's a good analogy,\nbecause in this case,",
    "start": "3916040",
    "end": "3921828"
  },
  {
    "text": "we don't care about the length. We don't have the length. We don't know--\nfrom the camera, we have no idea how far\naway the stars are.",
    "start": "3921828",
    "end": "3928039"
  },
  {
    "text": "And we don't care. And if we move sideways,\nactually that direction doesn't change, because in comparison\nto the distance to the stars,",
    "start": "3928040",
    "end": "3935540"
  },
  {
    "text": "our own motion is microscopic. So this would be the thing you\nwant to maximize in that case.",
    "start": "3935540",
    "end": "3943130"
  },
  {
    "text": "And but how do you do it? Well, we're sort of\ntuned to using calculus",
    "start": "3943130",
    "end": "3949500"
  },
  {
    "text": "to solve all these problems--\njust differentiate with respect to the unknown transformation.",
    "start": "3949500",
    "end": "3954690"
  },
  {
    "text": "But what does it mean to\ndifferentiate with respect to r? Now, I'm sort of\nmaking fun of it.",
    "start": "3954690",
    "end": "3959880"
  },
  {
    "text": "But you can actually\npursue this further. What you need to do is not just\ndifferentiate with respect to r",
    "start": "3959880",
    "end": "3966810"
  },
  {
    "text": "but impose all of\nthose constraints that I talked about. And you can do that. It just gets messy.",
    "start": "3966810",
    "end": "3972570"
  },
  {
    "text": "You have to impose that r\ntranspose r is the identity. And you have to impose the\ndeterminant of r is plus 1.",
    "start": "3972570",
    "end": "3979410"
  },
  {
    "text": "Now, that's the hard one. OK, so let's not do it that way.",
    "start": "3979410",
    "end": "3985520"
  },
  {
    "text": "Let's use our new fangled\nquaternion notation. So here, we have the dot\nproduct of two vectors.",
    "start": "3985520",
    "end": "3992440"
  },
  {
    "text": "And we can express that here\nas the dot product of two quaternions with 0 scalar part.",
    "start": "3992440",
    "end": "4000280"
  },
  {
    "text": "So we map this r li prime\ninto a quaternion, r li prime.",
    "start": "4000280",
    "end": "4011530"
  },
  {
    "text": "And we map this R r i\nprime into this quaternion. And all you've done is\nadd the 0 scalar part.",
    "start": "4011530",
    "end": "4020290"
  },
  {
    "text": "I've also flipped them around,\nbecause dot products commute-- so can do that.",
    "start": "4020290",
    "end": "4025753"
  },
  {
    "text": "OK, and this is where\nI used that trick. Remember when I said\nthat sometimes you want to move something from\none side of a dot product",
    "start": "4025753",
    "end": "4031060"
  },
  {
    "text": "to the other. Here, I've taken\nthis quaternion, flipped it to the other side.",
    "start": "4031060",
    "end": "4037210"
  },
  {
    "text": "But I had to conjugate it. Now, it's already conjugated. So conjugate of the conjugate\nis the thing itself.",
    "start": "4037210",
    "end": "4043400"
  },
  {
    "text": "So I get this expression. And then I make\nuse of the property",
    "start": "4043400",
    "end": "4049590"
  },
  {
    "text": "that I can write this quaternion\nproduct as a matrix times vector. And I can write this as\na matrix times vector.",
    "start": "4049590",
    "end": "4057000"
  },
  {
    "text": "So I get that. And then I make use of the\nfact that a dot product is just the left thing transpose\nmultiplied by the right thing.",
    "start": "4057000",
    "end": "4066170"
  },
  {
    "text": "And then finally, I\ncan pull out the q. So this is important. I can separate out\nthe q on both sides.",
    "start": "4066170",
    "end": "4074780"
  },
  {
    "text": "So it doesn't vary with i. And so I end up\nwith this product.",
    "start": "4074780",
    "end": "4080625"
  },
  {
    "text": " So this is where all my data is.",
    "start": "4080625",
    "end": "4085850"
  },
  {
    "text": "All my measurements\nare buried in here. This is a 4 by 4 matrix that\nI get from my measurements.",
    "start": "4085850",
    "end": "4091920"
  },
  {
    "text": "And now, all I want to\ndo is make this thing as large as possible-- well, not quite, because I\ncan make this as large as I",
    "start": "4091920",
    "end": "4100589"
  },
  {
    "text": "like by making q large, right? So I have to be careful\nto impose that constraint. And so quaternions are not\na redundant representation,",
    "start": "4100590",
    "end": "4111240"
  },
  {
    "text": "because they have four numbers. And you have to impose\nthis extra constraint.",
    "start": "4111240",
    "end": "4118028"
  },
  {
    "text": "OK, and then there are\ndifferent ways of doing this. So first of all, let's see.",
    "start": "4118029",
    "end": "4123639"
  },
  {
    "text": "What is N? Well, N is, again,\ngot from the data.",
    "start": "4123640",
    "end": "4129009"
  },
  {
    "text": "And there are two\nways to do this. If you know about\nLagrange multipliers, you can add another term\nthat imposes the constraint.",
    "start": "4129010",
    "end": "4137330"
  },
  {
    "text": "So the constraint is\nthat q dot q equals 1, or minus 1 minus\nq dot q equals 0.",
    "start": "4137330",
    "end": "4144009"
  },
  {
    "text": "So you can impose that way. And we'll do it another\nway that doesn't involve needing to know\nabout Lagrange multipliers.",
    "start": "4144010",
    "end": "4151170"
  },
  {
    "text": "Anyway, in either method, we can\nnow differentiate with respect to q, which is amazing.",
    "start": "4151170",
    "end": "4157889"
  },
  {
    "text": "We can differentiate\nwith respect to rotation. Of course, in the\ncase of translation, no one's surprised you can\ndifferentiate with respect",
    "start": "4157890",
    "end": "4165479"
  },
  {
    "text": "to translation or position. But for rotation,\nthat's quite something. If we do, we get this.",
    "start": "4165479",
    "end": "4172969"
  },
  {
    "text": "And this is just using\nthe ordinary rules for differentiation of a dot\nproduct and differentiation",
    "start": "4172970",
    "end": "4179479"
  },
  {
    "text": "of a matrix times a\nvector, which by the way, are in the appendix of the\nbook, which by the way,",
    "start": "4179479",
    "end": "4185220"
  },
  {
    "text": "is on Stellar. So if you need to\nrefresh your memory about differentiating\nwith respect to a vector,",
    "start": "4185220",
    "end": "4190670"
  },
  {
    "text": "it's all there. And so what does this say? Well, this says that\nNq equals lambda q.",
    "start": "4190670",
    "end": "4199199"
  },
  {
    "text": "Well, that should remind you of\nstuff we've done before, right? It's an eigenvector. So q has to be an eigenvector,\nand lambda is the eigenvalue.",
    "start": "4199200",
    "end": "4207440"
  },
  {
    "text": "And since we want to make\nthis as large as possible, we pick the eigenvector\nthat corresponds",
    "start": "4207440",
    "end": "4212600"
  },
  {
    "text": "to the largest eigen--\nwhich is sort of unusual. In the past, we've always\nwanted to minimize something.",
    "start": "4212600",
    "end": "4217670"
  },
  {
    "text": "We wanted the\nsmallest eigenvalue here because of that sign flip. We want the largest one.",
    "start": "4217670",
    "end": "4225320"
  },
  {
    "text": "And what is it the\neigenvector of? It's a 4 by 4 real\nsymmetric matrix, which",
    "start": "4225320",
    "end": "4231440"
  },
  {
    "text": "is constructed from the data. And so a couple of notes on\nthat-- so one of them is we",
    "start": "4231440",
    "end": "4239450"
  },
  {
    "text": "said for 2 by-- for\na 2 by 2 matrix, we actually explicitly gave the\neigenvalues and eigenvectors,",
    "start": "4239450",
    "end": "4244670"
  },
  {
    "text": "because we know how\nto solve quadratics. And I mentioned last\ntime that for 3 by 3,",
    "start": "4244670",
    "end": "4250550"
  },
  {
    "text": "it can be done, because the\ncharacteristic equation is a cubic polynomial in lambda. And someone knows how to\nsolve cubics in closed form.",
    "start": "4250550",
    "end": "4260660"
  },
  {
    "text": "By the way, this used to\nbe a big game, particularly amongst the Italian\nmathematicians.",
    "start": "4260660",
    "end": "4266300"
  },
  {
    "text": "They would-- these problems\nwere a real puzzle to them. And they were very proud when\nthey solved them correctly so.",
    "start": "4266300",
    "end": "4275060"
  },
  {
    "text": "But there wasn't the same\nsort of modern publication",
    "start": "4275060",
    "end": "4280070"
  },
  {
    "text": "and tenure and whatever. It's like you've solved\nthis tough problem. And you're very proud of it.",
    "start": "4280070",
    "end": "4286460"
  },
  {
    "text": "What do you do with it? You don't want to\njust give it away. And yet, you want to be\nable to say later, you know,",
    "start": "4286460",
    "end": "4291980"
  },
  {
    "text": "I got that 10 years ago. So they've come up with\nall these weird ways of coding and coding their\nsolution and like in a story",
    "start": "4291980",
    "end": "4301340"
  },
  {
    "text": "or as a sort of parable or\nsome sort of other mathematics. And then later on,\nFerrari, who was",
    "start": "4301340",
    "end": "4307760"
  },
  {
    "text": "one of the guys\nwho did this, could say that, oh, I solved\nthis years before Cardano, who is another guy, because\nlook at that poem I wrote.",
    "start": "4307760",
    "end": "4315050"
  },
  {
    "text": "It tells you how to do this. So anyway, they discovered\nhow to solve cubics.",
    "start": "4315050",
    "end": "4323050"
  },
  {
    "text": "Here, we're going to\nhave a quartic, right, because it's 4 by 4. It's going to be fourth order. And guess what.",
    "start": "4323050",
    "end": "4329770"
  },
  {
    "text": "They have closed-from solutions. And those Italian\nmathematicians and others figured out how to do it.",
    "start": "4329770",
    "end": "4336455"
  },
  {
    "text": "Basically, how do you\ndo any of these things? Well, the usual trick--\nyou try and find a way of reducing third\norder to second order,",
    "start": "4336455",
    "end": "4342700"
  },
  {
    "text": "because you know how\nto do second order. And quartics-- first step\nis reduce it to a cubic.",
    "start": "4342700",
    "end": "4349450"
  },
  {
    "text": "Solve the cubic, and\nthen the rest is easy. And so can you\nsolve fifth order?",
    "start": "4349450",
    "end": "4355540"
  },
  {
    "text": " No, OK, so it's good that some\nof you know that that's it.",
    "start": "4355540",
    "end": "4361810"
  },
  {
    "text": "You can't-- now, of course\ntoday with computers, we can always numerically\nsolve any of these. But if you want to have a,\nquote, closed-form solution,",
    "start": "4361810",
    "end": "4372640"
  },
  {
    "text": "then you do need to know that\nyou can solve 1, 2, 3, 4. But that's it. Then higher order,\nyou can't solve",
    "start": "4372640",
    "end": "4379600"
  },
  {
    "text": "in closed-form using addition,\nsubtraction, multiplication, and square roots.",
    "start": "4379600",
    "end": "4386200"
  },
  {
    "text": "OK, so this matrix down here-- it look-- is more\nfamiliar to you than N.",
    "start": "4386200",
    "end": "4393580"
  },
  {
    "text": "That's because this is\nsimply the dyadic product of the vector in the\nleft coordinate system",
    "start": "4393580",
    "end": "4398980"
  },
  {
    "text": "and the vector in the\nright coordinate system. So this is a 3 by 3--\neach of these is a 3",
    "start": "4398980",
    "end": "4403990"
  },
  {
    "text": "by 3 matrix that's\na dyadic product. And you just keep on going,\nstepping through your point",
    "start": "4403990",
    "end": "4409690"
  },
  {
    "text": "pairs and adding them up. And you get a 3 by 3 matrix,\nwhich is not symmetric.",
    "start": "4409690",
    "end": "4417040"
  },
  {
    "text": "And so it has nine\nindependent quantities. And let's think about\nN. Well, N is 4 by 4.",
    "start": "4417040",
    "end": "4428590"
  },
  {
    "text": "So it has 16. So how does that work? ",
    "start": "4428590",
    "end": "4433880"
  },
  {
    "text": "It turns out that N\nis rather special. It turns out N is symmetric.",
    "start": "4433880",
    "end": "4438920"
  },
  {
    "text": "And it turns out that it's\nnot that easy to prove.",
    "start": "4438920",
    "end": "4445580"
  },
  {
    "text": "The one mistake\nin this paper was that I think I said\nsomething like, it's obvious that\nit's symmetric.",
    "start": "4445580",
    "end": "4452239"
  },
  {
    "text": "But it takes-- anyway,\nit's symmetric. So that means 4 by 4 symmetric--\nwe've got 4 on the diagonal,",
    "start": "4452240",
    "end": "4459020"
  },
  {
    "text": "and then we have 6 more-- no, 10-- we have 10\nindependent-- so it's not 16.",
    "start": "4459020",
    "end": "4465469"
  },
  {
    "text": "But it's 10. But it's still too many,\nright, because we only have 9 in M. Well, it turns\nout that this matrix is very",
    "start": "4465470",
    "end": "4472849"
  },
  {
    "text": "special, because\nthe determinant-- the characteristic\nequation up here has",
    "start": "4472850",
    "end": "4481429"
  },
  {
    "text": "this important property,\nthat that cubic term is 0, which actually makes it\neasier to reduce it to a cubic.",
    "start": "4481430",
    "end": "4491250"
  },
  {
    "text": "And so N is a symmetric 4 by\n4 matrix with a trace of 0.",
    "start": "4491250",
    "end": "4498730"
  },
  {
    "text": "So that means we've\ngot 10 minus 1 is 9. So now, it matches.",
    "start": "4498730",
    "end": "4503829"
  },
  {
    "text": "M has 9 independent values. OK, we don't need\nto really know-- and if you're actually\ngoing to implement this,",
    "start": "4503830",
    "end": "4509710"
  },
  {
    "text": "you might want to\nknow this, but just do know that you can compute\nall the coefficients of the characteristic equation.",
    "start": "4509710",
    "end": "4515840"
  },
  {
    "text": "And then you go off\nand solve your quartic. So the main application is going\nto be absolute orientation,",
    "start": "4515840",
    "end": "4522880"
  },
  {
    "text": "but it also has lots\nof other applications that we already talked about. And if you go over\nto Draper Lab, where",
    "start": "4522880",
    "end": "4530880"
  },
  {
    "text": "they do all this\nspacecraft control, you'll find people, who\nknow about quaternions,",
    "start": "4530880",
    "end": "4537240"
  },
  {
    "text": "because that's\nwhat's used there. Desirable properties--\nso we have this table.",
    "start": "4537240",
    "end": "4544050"
  },
  {
    "text": "Let's see how we're doing. Ability to rotate vectors-- yes, we-- qr q conjugate.",
    "start": "4544050",
    "end": "4551790"
  },
  {
    "text": "Ability to compose\nrotations-- yes, p times q is the composition. Intuitive, nonredundant\nrepresentation-- well",
    "start": "4551790",
    "end": "4559860"
  },
  {
    "text": "it's almost nonredundant. It has four numbers to\nrepresent 3 degrees of freedom.",
    "start": "4559860",
    "end": "4565650"
  },
  {
    "text": "And but the redundancy\nis very simple. It's just the unit\nvector-- unit quaternion. Is it intuitive?",
    "start": "4565650",
    "end": "4571530"
  },
  {
    "text": "Ah, one part--\nthe vector part is in the direction of the axis. That's sort of intuitive.",
    "start": "4571530",
    "end": "4578310"
  },
  {
    "text": "Computational efficiency-- we\nhaven't talked about that yet. How is it compared\nwith matrix operations?",
    "start": "4578310",
    "end": "4584700"
  },
  {
    "text": "Can we do things like\ninterpolate orientations? Yes, suppose that you have--",
    "start": "4584700",
    "end": "4590790"
  },
  {
    "text": "your artist has the\nballerina doing a turn and got it-- got her in\nthis position and then",
    "start": "4590790",
    "end": "4597180"
  },
  {
    "text": "in that position rotate it, how\ndo you do all the inbetweening?",
    "start": "4597180",
    "end": "4603810"
  },
  {
    "text": "Do you take the initial rotation\nmatrix and the final rotation matrix-- take some sort\nof weighted average?",
    "start": "4603810",
    "end": "4609510"
  },
  {
    "text": "Well, that's not going\nto be orthonormal. So here, it's trivial, right? You just take that angle.",
    "start": "4609510",
    "end": "4615900"
  },
  {
    "text": "Suppose that the\nrotation is about an axis through an angle of 90 degrees. You just split it up into\nhowever many frames you need",
    "start": "4615900",
    "end": "4622650"
  },
  {
    "text": "and compute the quaternion\ncorrespondingly. We can take averages of\na range of rotations.",
    "start": "4622650",
    "end": "4629430"
  },
  {
    "text": "If you want to know the average\nloading on the seat belt as your car is tumbling in\nall possible orientations,",
    "start": "4629430",
    "end": "4636340"
  },
  {
    "text": "you can easily do that. And we can take the\nderivative as we saw.",
    "start": "4636340",
    "end": "4641550"
  },
  {
    "text": "So we can do optimizations,\nleast squares. If there's no\nclosed-form solution,",
    "start": "4641550",
    "end": "4647010"
  },
  {
    "text": "we at least have\na way of sampling that space of possibilities\nin the uniform or random way.",
    "start": "4647010",
    "end": "4652860"
  },
  {
    "text": " Oh, OK, well, let's see.",
    "start": "4652860",
    "end": "4658500"
  },
  {
    "text": "How late is it? Well, let's do a\ncouple more things. OK, so this is where\nwe're going to go",
    "start": "4658500",
    "end": "4664460"
  },
  {
    "text": "after absolute orientation. This is relative orientation. And this is kind of more--",
    "start": "4664460",
    "end": "4670520"
  },
  {
    "text": "so absolute orientation is very\nimportant for photogrammetry, making topographic maps\nfrom aerial photographs.",
    "start": "4670520",
    "end": "4676850"
  },
  {
    "text": "But in terms of\nunderstanding human vision, one of a dozen depth\ncues is binocular stereo.",
    "start": "4676850",
    "end": "4682850"
  },
  {
    "text": "And so relative orientation\nthere is more important. And so that's the problem\nof, we've got two eyes.",
    "start": "4682850",
    "end": "4690020"
  },
  {
    "text": "And the eyes don't get depth. They only get directions. So we have the directions\nin each of those",
    "start": "4690020",
    "end": "4696950"
  },
  {
    "text": "coordinate systems to\npoints out in the world. And I show in 5. And it turns out 5\nis the minimum number",
    "start": "4696950",
    "end": "4703820"
  },
  {
    "text": "you need to solve this problem. And your problem is to find\nout what that baseline is",
    "start": "4703820",
    "end": "4709520"
  },
  {
    "text": "and what the\nrelative orientation of this coordinate system\nis relative to that.",
    "start": "4709520",
    "end": "4715070"
  },
  {
    "text": "In other words, we\nhave a translation. And we're going to\nhave a rotation. So in that respect,\nit's the same problem.",
    "start": "4715070",
    "end": "4721699"
  },
  {
    "text": "It's just that our data\nnow is not as good. But-- in absolute\norientation, we actually know 3D coordinates of\nall of these points.",
    "start": "4721700",
    "end": "4729150"
  },
  {
    "text": "And that makes it possible to\nget a closed-form solution. Here, we only know\nthe directions.",
    "start": "4729150",
    "end": "4734230"
  },
  {
    "text": "So that's the problem\nwe're going to solve after absolute orientation. Then if you're\ntrying to describe",
    "start": "4734230",
    "end": "4740630"
  },
  {
    "text": "the kinematics of a\nrobot manipulator, well, these days\npeople are lazy. You just buy it.",
    "start": "4740630",
    "end": "4746270"
  },
  {
    "text": "And the software does\nall that for you. But in the old days, we\nhad to walk in the snow.",
    "start": "4746270",
    "end": "4753260"
  },
  {
    "text": "There was no bus. Well, in the old\ndays, you actually had to understand the\ngeometry of these devices.",
    "start": "4753260",
    "end": "4759000"
  },
  {
    "text": "And that means that as\nyou go through each link, you are doing a\ntranslation and a rotation.",
    "start": "4759000",
    "end": "4765570"
  },
  {
    "text": "And so if you want\nto avoid problems with coordinate systems lining\nup, particularly in the wrist,",
    "start": "4765570",
    "end": "4772970"
  },
  {
    "text": "then quaternions are a good\nway to represent the rotation. So in the wrist,\nfor example, you can imagine that if\nthis part now comes up,",
    "start": "4772970",
    "end": "4780530"
  },
  {
    "text": "there will be a time,\nwhere this axis in here is parallel to that axis. And you've lost a\ndegree of freedom.",
    "start": "4780530",
    "end": "4787020"
  },
  {
    "text": "So computational issues-- now,\nI guess these days computers",
    "start": "4787020",
    "end": "4794970"
  },
  {
    "text": "are pretty fast. So we don't worry\nabout this as much. But if you have to do\nthis for every point in some object in your\ngraphics representation,",
    "start": "4794970",
    "end": "4802700"
  },
  {
    "text": "this could be an issue. So let's see how\nexpensive it is. So again, there\nare two things we",
    "start": "4802700",
    "end": "4808110"
  },
  {
    "text": "want to do-- compose\nrotations and rotate vectors. So for composition,\nwe know it's just",
    "start": "4808110",
    "end": "4813810"
  },
  {
    "text": "multiplying two quaternions. And if you do it the naive way,\njust following that formula,",
    "start": "4813810",
    "end": "4820140"
  },
  {
    "text": "you get 16 multiplies\nand 12 adds. And if you do it with an\northonormal matrix, of course,",
    "start": "4820140",
    "end": "4827809"
  },
  {
    "text": "it's a 3 by 3 matrix\nproduct, which is 27 multipliers and 18 adds.",
    "start": "4827810",
    "end": "4832820"
  },
  {
    "text": "So we win-- definitely win here. Let's go to rotating a vector.",
    "start": "4832820",
    "end": "4838290"
  },
  {
    "text": "So we use this formula. And we can expand\nout the part we want, which is the vector part--",
    "start": "4838290",
    "end": "4844470"
  },
  {
    "text": "22 multipliers, 16 adds. Compare the matrix-- oops,\n9 multiplies and 6 adds.",
    "start": "4844470",
    "end": "4852100"
  },
  {
    "text": "So here, we lose. But this can be rewritten\nin this form, which",
    "start": "4852100",
    "end": "4859230"
  },
  {
    "text": "has the advantage that\nyou compute the qr once, and you use it in\ntwo different places.",
    "start": "4859230",
    "end": "4864270"
  },
  {
    "text": "And you get it down to 15\nmultipliers and 12 adds. And this is naive stuff.",
    "start": "4864270",
    "end": "4870679"
  },
  {
    "text": "People that get serious\nabout this go further. For example, with\na 3 by 3 matrix,",
    "start": "4870680",
    "end": "4877989"
  },
  {
    "text": "they don't represent\nit as 3 by 3 matrix. At most, you take the first two\nrows, because the other one's",
    "start": "4877990",
    "end": "4883900"
  },
  {
    "text": "implicit. It's a cross product. And so both-- so you could have\na competition, where you just",
    "start": "4883900",
    "end": "4890679"
  },
  {
    "text": "keep on going on both sides. And they end up being similar,\nbut with the advantage",
    "start": "4890680",
    "end": "4900310"
  },
  {
    "text": "for composition going to\nquaternions and the advantage for rotating vectors\ngoing to orthonormal.",
    "start": "4900310",
    "end": "4910240"
  },
  {
    "text": "OK, how about renormalizing? So one of the things\nthat happens-- suppose you have a graphic\nprogram that's trying",
    "start": "4910240",
    "end": "4918100"
  },
  {
    "text": "to do some motion sequence. And you're composing small\nincremental rotations.",
    "start": "4918100",
    "end": "4924039"
  },
  {
    "text": "And if you represent them, let's\nsay, as orthonormal matrices, you can imagine that\nbecause of the limitations",
    "start": "4924040",
    "end": "4929949"
  },
  {
    "text": "of floating point arithmetic,\nthat errors will accumulate. And after a while,\nyour 3 by 3 matrix",
    "start": "4929950",
    "end": "4935440"
  },
  {
    "text": "is no longer orthonormal. And so you'd want to\nsort of square it up. And that can be done.",
    "start": "4935440",
    "end": "4941530"
  },
  {
    "text": "But it requires doing this. You take your matrix,\nand you multiply--",
    "start": "4941530",
    "end": "4946750"
  },
  {
    "text": "you take its transpose,\nmultiply by M. And you take the inverse of\nthe square root of the matrix. So right there I'd\nimagine that you may not",
    "start": "4946750",
    "end": "4956440"
  },
  {
    "text": "know how to do that. But it can be done. But that just suggests that\nthis is not an operation that you'd normally want to do.",
    "start": "4956440",
    "end": "4962620"
  },
  {
    "text": "It's expensive. With quaternions, sure enough,\nyou take the unit quaternion,",
    "start": "4962620",
    "end": "4968040"
  },
  {
    "text": "and you multiply it by another\nunit quaternion and so on. And because of the limitations\nof floating point arithmetic,",
    "start": "4968040",
    "end": "4973500"
  },
  {
    "text": "after a while it isn't\na unit quaternion. How do you square it up? Well, trivial-- so this is\none other small difference",
    "start": "4973500",
    "end": "4982140"
  },
  {
    "text": "between them.  So just about at the end--",
    "start": "4982140",
    "end": "4990100"
  },
  {
    "text": "so we talked about the space\nof rotation being the 3 sphere,",
    "start": "4990100",
    "end": "4995890"
  },
  {
    "text": "unit sphere in 4D with\nantipodal points identified. And it also happens\nto be identical",
    "start": "4995890",
    "end": "5002040"
  },
  {
    "text": "to the projective space p3\nalthough we don't use that. And it's not as handy.",
    "start": "5002040",
    "end": "5007440"
  },
  {
    "text": " Then sampling regular\nand random-- so how",
    "start": "5007440",
    "end": "5013620"
  },
  {
    "text": "do we sample this space? Well, in 3D, we\ncan easily come up with a regular sampling of space\nor even the random sampling.",
    "start": "5013620",
    "end": "5021570"
  },
  {
    "text": "But it's not so obvious\nhow to do it here. And one way is to\nfind regular patterns.",
    "start": "5021570",
    "end": "5029699"
  },
  {
    "text": "If we're-- say we want to\nsample a sphere regularly. That's not so easy either.",
    "start": "5029700",
    "end": "5035580"
  },
  {
    "text": "Certainly, latitude\nand longitude is not going to do it. But one thing we can do is\nproject a polyhedra onto it,",
    "start": "5035580",
    "end": "5042060"
  },
  {
    "text": "because polyhedra are\ncompletely regular. So if we project,\nsay, a icosahedron",
    "start": "5042060",
    "end": "5048030"
  },
  {
    "text": "or a dodecaicosahedron,\nwhich is a soccer ball--",
    "start": "5048030",
    "end": "5054300"
  },
  {
    "text": "anyone here know about soccer-- then we end up with a pattern\non the sphere that is regular.",
    "start": "5054300",
    "end": "5060960"
  },
  {
    "text": "But there are only some special\nones, like regular solids. There are only a few of them. Well, similarly here,\nexcept now, we're in 4D,",
    "start": "5060960",
    "end": "5068280"
  },
  {
    "text": "and the corresponding\nthings are rotations rather than polyhedra. And so it turns out\nthat if you look",
    "start": "5068280",
    "end": "5074220"
  },
  {
    "text": "at the rotations\nof polyhedra, they will give you a nice, even\nsampling of that space",
    "start": "5074220",
    "end": "5080100"
  },
  {
    "text": "and the rotation groups-- so the tetrahedron\nhas 12 rotations that will align it with itself.",
    "start": "5080100",
    "end": "5087750"
  },
  {
    "text": "The cube and the\noctahedron have 24. And the icosahedron and\ndodecahedron have 60.",
    "start": "5087750",
    "end": "5095159"
  },
  {
    "text": "So these give you a perfectly\nuniform spaced sampling of that space.",
    "start": "5095160",
    "end": "5101880"
  },
  {
    "text": "Unfortunately, that's not a\nvery fine sampling, right, because 60 in the\nfour-dimensional space.",
    "start": "5101880",
    "end": "5107500"
  },
  {
    "text": "So there are tricks to\ngive you a finer sampling. But they all start\nwith those simple ones.",
    "start": "5107500",
    "end": "5113730"
  },
  {
    "text": "And just while I\nhave the slides here, if you pick the\ncoordinate systems right,",
    "start": "5113730",
    "end": "5120600"
  },
  {
    "text": "you get very simple expressions\nfor these rotation groups. So each of these is a rotation.",
    "start": "5120600",
    "end": "5126160"
  },
  {
    "text": "This one, of course, is\nthe identity rotation-- does nothing. This is the rotation about\nthe x-axis by 180 degrees.",
    "start": "5126160",
    "end": "5136910"
  },
  {
    "text": "And this is about\nthe y-axis and so on. So this is the group\nfor the tetrahedron.",
    "start": "5136910",
    "end": "5142120"
  },
  {
    "text": "They provide a regular spaced\nsampling of that space. This is for the hexahedron\nand the octahedron.",
    "start": "5142120",
    "end": "5148900"
  },
  {
    "text": "And then the prize is this one. This is the rotation\ngroup for the dodecahedron",
    "start": "5148900",
    "end": "5155020"
  },
  {
    "text": "and an icosahedron, where\nthese a, b, c, d's are given",
    "start": "5155020",
    "end": "5160720"
  },
  {
    "text": "by these expressions up there. These should look familiar.",
    "start": "5160720",
    "end": "5167000"
  },
  {
    "text": "This only works if\nyou line it up nicely with the coordinate system. Anyway, this would\nbe a sampling.",
    "start": "5167000",
    "end": "5172730"
  },
  {
    "text": "So you could try these 60\norientations for your search",
    "start": "5172730",
    "end": "5177880"
  },
  {
    "text": "or your averaging. And then you can\ninterpolate further. OK, well, we've run out of time.",
    "start": "5177880",
    "end": "5184280"
  },
  {
    "text": "So that's it for today. ",
    "start": "5184280",
    "end": "5191000"
  }
]