[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "5390"
  },
  {
    "start": "5390",
    "end": "12740"
  },
  {
    "text": "BERTHOLD HORN: We're\ntalking about photogrammetry and, in particular,\nabsolute orientation.",
    "start": "12740",
    "end": "18689"
  },
  {
    "text": "And we're drilling down into\nmore details for this one",
    "start": "18690",
    "end": "24480"
  },
  {
    "text": "than we will for the other\naspects of photogrammetry because a lot of\nit's going to be",
    "start": "24480",
    "end": "31140"
  },
  {
    "text": "based on what we're doing here. And we found that rotation\nis the part that's",
    "start": "31140",
    "end": "37289"
  },
  {
    "text": "awkward to handle. So we talked about different\nways of representing rotations. And we picked unit quaternions.",
    "start": "37290",
    "end": "45640"
  },
  {
    "text": "And major reason for\nthat is that, given",
    "start": "45640",
    "end": "50770"
  },
  {
    "text": "all of the advantages\nwe discussed before, the big\nthing for us is we can get a closed form solution\nto the least worst problems.",
    "start": "50770",
    "end": "58450"
  },
  {
    "text": "So in some sense, we\nhave an objective way of getting a, quote,\n\"best fit answer,\" which",
    "start": "58450",
    "end": "65319"
  },
  {
    "text": "is more difficult with\nthe other notations. Then we talked about how\nto manipulate these things.",
    "start": "65319",
    "end": "73390"
  },
  {
    "text": "There are two operations we're\nparticularly interested in. The one is composition\nof rotations.",
    "start": "73390",
    "end": "79540"
  },
  {
    "text": "If you do successive\nrotations, what happens? And the other one is\nrotating a vector.",
    "start": "79540",
    "end": "86200"
  },
  {
    "text": "So composition of rotations\nis just multiplication. And we can represent\nit in various ways.",
    "start": "86200",
    "end": "93820"
  },
  {
    "text": "For those of us who\ngrew up with vectors, maybe mapping it into\nscalars and vectors",
    "start": "93820",
    "end": "99610"
  },
  {
    "text": "is the most intuitive. So we have this formula. And it's actually quite\nefficient in terms",
    "start": "99610",
    "end": "107530"
  },
  {
    "text": "of composition of rotations. In terms of computation,\nit's a lot less work",
    "start": "107530",
    "end": "113770"
  },
  {
    "text": "than multiplying two\northonormal 3 by 3 matrices. But for much of what we\ndo, what's more important",
    "start": "113770",
    "end": "121850"
  },
  {
    "text": "is the other operation, which\nis rotation of a vector.",
    "start": "121850",
    "end": "128149"
  },
  {
    "text": "And so for that, we have\nthat formula where we're",
    "start": "128150",
    "end": "136340"
  },
  {
    "text": "rotating in four space using q. And then we're unrotating\nusing q conjugate.",
    "start": "136340",
    "end": "142370"
  },
  {
    "text": "And somehow, we end up back in\na real three-dimensional world.",
    "start": "142370",
    "end": "147500"
  },
  {
    "text": "And for that, again, if we want\nto just think about vectors,",
    "start": "147500",
    "end": "154130"
  },
  {
    "text": "one way we can write it is-- ",
    "start": "154130",
    "end": "167440"
  },
  {
    "text": "so if we don't want to think\ntoo much about operations in the quaternion\nworld, we can just",
    "start": "167440",
    "end": "174430"
  },
  {
    "text": "do this operation directly\nusing vectors and scalars.",
    "start": "174430",
    "end": "179530"
  },
  {
    "text": "And this one, we\nhave a disadvantage. It takes somewhat more\narithmetic operations",
    "start": "179530",
    "end": "185060"
  },
  {
    "text": "than multiplying a 3 by\n3 matrix by a vector. Although we saw that the ways\nof rewriting this were we",
    "start": "185060",
    "end": "193299"
  },
  {
    "text": "reused the q cross r\nthat reduces the number of operations somewhat.",
    "start": "193300",
    "end": "200510"
  },
  {
    "text": "And then we need to connect\nthis to other notations.",
    "start": "200510",
    "end": "206450"
  },
  {
    "text": "So we, for example,\nwant to relate it",
    "start": "206450",
    "end": "213810"
  },
  {
    "text": "to axis and angle notation. And there, we have the\nformula of Rodriguez,",
    "start": "213810",
    "end": "227190"
  },
  {
    "text": "where omega hat\nis the unit vector in the direction of the axis. And so that gives us one\nconversion that we want.",
    "start": "227190",
    "end": "235500"
  },
  {
    "text": " So we can use that to--",
    "start": "235500",
    "end": "241849"
  },
  {
    "text": " q dot-- sorry about\nthe handwriting.",
    "start": "241850",
    "end": "247880"
  },
  {
    "text": " And when we identify\nthese two formulas,",
    "start": "247880",
    "end": "255870"
  },
  {
    "text": "we find that actually q is cos\nomega over 2 and omega hat is--",
    "start": "255870",
    "end": "262680"
  },
  {
    "text": " well, let's see. Other way around. q vector is\nomega hat sine theta over 2.",
    "start": "262680",
    "end": "275140"
  },
  {
    "text": "Oh, let me make that theta. Sorry. ",
    "start": "275140",
    "end": "288009"
  },
  {
    "text": "Our criterion for\nrotation looks like that. And so we can right\naway read off the axes,",
    "start": "288010",
    "end": "294449"
  },
  {
    "text": "it's going to be parallel\nto the vector part. And if we want to, we\ncan read off the angle",
    "start": "294450",
    "end": "302220"
  },
  {
    "text": "by using a10 on the\nratio of the real part and the magnitude of\nthe imaginary part.",
    "start": "302220",
    "end": "309060"
  },
  {
    "text": "So that is one way of\nconverting between two of these different forms.",
    "start": "309060",
    "end": "314340"
  },
  {
    "text": "Now, we have eight. So we don't want to go\nthrough all eight of them.",
    "start": "314340",
    "end": "320480"
  },
  {
    "text": "But the other one\nthat's important for us, since we live in a world where\northonormal matrices rule,",
    "start": "320480",
    "end": "328430"
  },
  {
    "text": "we need to be able to convert\nback and forth between those. And so if we expand that formula\nusing that isomorphism with 4",
    "start": "328430",
    "end": "339379"
  },
  {
    "text": "by 4 orthogonal matrices,\nthen we got that.",
    "start": "339380",
    "end": "350600"
  },
  {
    "text": "And we expanded that out. ",
    "start": "350600",
    "end": "391720"
  },
  {
    "text": "And when we look\nat that matrix, we find that it has skew symmetric\nparts and symmetric parts.",
    "start": "391720",
    "end": "402800"
  },
  {
    "start": "402800",
    "end": "416650"
  },
  {
    "text": "And we can use that to help us\nin the conversion from one form to the other.",
    "start": "416650",
    "end": "422320"
  },
  {
    "text": "So first of all, if we're\ngiven the quaternion, this allows us to compute the\northonormal matrix very easily.",
    "start": "422320",
    "end": "431680"
  },
  {
    "start": "431680",
    "end": "442340"
  },
  {
    "text": "So in this transformation,\nit's 4 by 4. But we don't care about the\nfirst row and the first column",
    "start": "442340",
    "end": "449330"
  },
  {
    "text": "because that is a\nspecial quaternion that represents a vector where\nthe scalar part is 0.",
    "start": "449330",
    "end": "457280"
  },
  {
    "text": "So all the first column\nand the first row tells us is that if we\nhave a completely imaginary",
    "start": "457280",
    "end": "468710"
  },
  {
    "text": "quaternion, then when we\nperform this transformation, we get back one of those. So we're back in the\nworld of vectors.",
    "start": "468710",
    "end": "475564"
  },
  {
    "text": " So that's the one\nway of conversion. The other way is a\nlittle bit less obvious,",
    "start": "475565",
    "end": "484070"
  },
  {
    "text": "partly because we're going\nto have a 3 by 3 matrix. So we have nine numbers.",
    "start": "484070",
    "end": "489560"
  },
  {
    "text": "And our answer only has\nthree degrees of freedom. We only want the\naxes and the angle.",
    "start": "489560",
    "end": "497360"
  },
  {
    "text": "And so you've done some of this. But one part we\ncan do is to look",
    "start": "497360",
    "end": "503000"
  },
  {
    "text": "at the trace of that matrix,\nthat 3 by 3 sub matrix, and I think we end\nup with something",
    "start": "503000",
    "end": "512299"
  },
  {
    "text": "like 3q squared minus-- ",
    "start": "512299",
    "end": "520700"
  },
  {
    "text": "so it's just running\ndown the diagonal. And of course, q0\nwe said over there",
    "start": "520700",
    "end": "528560"
  },
  {
    "text": "was cosine of half the angle. And then this\npart, each of these",
    "start": "528560",
    "end": "535570"
  },
  {
    "text": "is proportional to sine of half\nthe angle and is a unit vector. So if we take\nsquare of these, we",
    "start": "535570",
    "end": "542800"
  },
  {
    "text": "should get sine\nsquared theta over 2. So trace equal to that.",
    "start": "542800",
    "end": "548600"
  },
  {
    "text": "And then we can manipulate\nthis in various ways. We could add cos\nsquared theta over 2",
    "start": "548600",
    "end": "555139"
  },
  {
    "text": "plus sine squared\ntheta over 2 equals 1 in order to get rid of\nthat sine squared theta.",
    "start": "555140",
    "end": "568430"
  },
  {
    "text": "So we can add that in\nwithout changing anything. Or we can subtract it. So if we subtract\nit, we get that thing",
    "start": "568430",
    "end": "581960"
  },
  {
    "text": "that's more symmetrical\nthan cosine and sine. And of course, that's\nthe double angle formula.",
    "start": "581960",
    "end": "587030"
  },
  {
    "text": "So that's two cosine of theta. Oh, we need the minus 1. And from that, we can\nsolve for cosine of theta",
    "start": "587030",
    "end": "595339"
  },
  {
    "text": "is 1 half trace of R minus 1.",
    "start": "595340",
    "end": "605210"
  },
  {
    "text": "So right away, that\nallows you quick test on whether rotation\nmatrix could even",
    "start": "605210",
    "end": "611540"
  },
  {
    "text": "be a rotation matrix. Because if you trace ends up\nbeing too large or too small,",
    "start": "611540",
    "end": "620640"
  },
  {
    "text": "cosine theta can only be\nbetween plus and minus 1. So that limits the\nvalue of the trace.",
    "start": "620640",
    "end": "626130"
  },
  {
    "text": "So that's a lot\ncheaper than checking whether it's also normal.",
    "start": "626130",
    "end": "631545"
  },
  {
    "text": " Now, that's a way\nto get the angle.",
    "start": "631545",
    "end": "638680"
  },
  {
    "text": "It's not a good way because\nthe problems in the theta",
    "start": "638680",
    "end": "644140"
  },
  {
    "text": "equals 0 because\nwe have that thing. We're up on the curve and\na tiny change in the height",
    "start": "644140",
    "end": "652509"
  },
  {
    "text": "potentially corresponds to\na large change in the theta. ",
    "start": "652510",
    "end": "660649"
  },
  {
    "text": "And similarly-- so\nyes, this is true,",
    "start": "660650",
    "end": "666700"
  },
  {
    "text": "but that's not the\nway to compute theta. So what do we do? Well, we use the\noff-diagonal elements, right?",
    "start": "666700",
    "end": "675510"
  },
  {
    "text": "Because the\noff-diagonal elements all depend on the\nsine of theta over 2. And then it depends on\nwhether we're going to use",
    "start": "675510",
    "end": "683130"
  },
  {
    "text": "the symmetric part,\nlike q,x, q,y, which would then depend on\nsine squared of theta over 2",
    "start": "683130",
    "end": "690630"
  },
  {
    "text": "or the asymmetric part,\nwhich is q,0, q,z, which is going to depend\non sine theta over 2,",
    "start": "690630",
    "end": "696720"
  },
  {
    "text": "cosine theta over 2, which\nis the double angle formula for sine theta. So anyway, need to get sine\ntheta so that you can then",
    "start": "696720",
    "end": "706800"
  },
  {
    "text": "use atan2 and avoid that problem\nbecause where this one is bad,",
    "start": "706800",
    "end": "711959"
  },
  {
    "text": "sine theta is good. OK, so that's one way to go.",
    "start": "711960",
    "end": "718709"
  },
  {
    "text": "But to make it really\nexplicit, let's actually give a full inversion formula.",
    "start": "718710",
    "end": "725459"
  },
  {
    "text": " And I do this mostly\nto vaccinate you",
    "start": "725460",
    "end": "732390"
  },
  {
    "text": "against conversion formulas\nthat have been published because they are not good.",
    "start": "732390",
    "end": "737610"
  },
  {
    "text": "So in this kind of\nsense, where, yeah,",
    "start": "737610",
    "end": "742649"
  },
  {
    "text": "mathematically you're done. You've got this. But actually, in terms of\nnumerical accuracy, no.",
    "start": "742650",
    "end": "750150"
  },
  {
    "text": "OK, so given the\nthree-by-three matrix, r,",
    "start": "750150",
    "end": "756270"
  },
  {
    "text": "we can compute various sums. And let's start with a diagonal. So we've got our three-by-three\nmatrix over there.",
    "start": "756270",
    "end": "764730"
  },
  {
    "text": "And if we end up\nwith the diagonal, we get that if we add 1, right?",
    "start": "764730",
    "end": "771660"
  },
  {
    "text": "There's that 1. Then we can combine it\nin various other ways. ",
    "start": "771660",
    "end": "787490"
  },
  {
    "text": "So this is just sort\nof like, you know, try all possible ways of\nsubtracting and adding terms on the diagonal, as if\nthe off-diagonals didn't exist.",
    "start": "787490",
    "end": "796415"
  },
  {
    "text": " And ta-da. Now, we just take square roots.",
    "start": "796415",
    "end": "803600"
  },
  {
    "text": "So that's one approach. Of course, the problem is\nthere's a sine ambiguity",
    "start": "803600",
    "end": "813310"
  },
  {
    "text": "because, in each case,\nwe can compute these sums and differences and then divide\nby 4 and take the square root,",
    "start": "813310",
    "end": "821500"
  },
  {
    "text": "and we've got one component\nof the Quaternion. But we don't know whether\nit's plus or minus. And yeah, we know that plus\nq is the same as minus q.",
    "start": "821500",
    "end": "830260"
  },
  {
    "text": "But this is more. This allows us 16\ndifferent sine choices.",
    "start": "830260",
    "end": "837279"
  },
  {
    "text": "So even if you allow\nfor the flipping of the sine of the Quaternion. That leaves us with 8.",
    "start": "837280",
    "end": "843370"
  },
  {
    "text": "So that means that we shouldn't\nrely on this method alone. But what we can do is\ncompute these, and then",
    "start": "843370",
    "end": "852940"
  },
  {
    "text": "pick the largest for numerical\naccuracy, and solve for it.",
    "start": "852940",
    "end": "860920"
  },
  {
    "text": "So suppose this\nsum is the largest,",
    "start": "860920",
    "end": "866290"
  },
  {
    "text": "then we'll use it\nand arbitrarily use the positive version because\nwe have that minus q is",
    "start": "866290",
    "end": "874000"
  },
  {
    "text": "the same as q, so we can pick. We can make one arbitrary\nchoice and solve for that.",
    "start": "874000",
    "end": "881660"
  },
  {
    "text": "So let's call that q,i. And then, we need to go\nto the off-diagonals. And fortunately, they're\nsymmetric and asymmetric parts",
    "start": "881660",
    "end": "891130"
  },
  {
    "text": "that we can pull out. ",
    "start": "891130",
    "end": "900170"
  },
  {
    "text": "Now, this is a bit more involved\nthan the published methods, but it works.",
    "start": "900170",
    "end": "908060"
  },
  {
    "text": "It's resistant. It's robust. It's resistant to\nnumerical problems.",
    "start": "908060",
    "end": "913565"
  },
  {
    "text": " So by adding and subtracting\ncorresponding off-diagonal",
    "start": "913565",
    "end": "921210"
  },
  {
    "text": "parts, we get six relationships\nmore than we need.",
    "start": "921210",
    "end": "926560"
  },
  {
    "text": "But the way this works is,\nwe've picked one of these and solved from the diagonal.",
    "start": "926560",
    "end": "932410"
  },
  {
    "text": "And then we go into three of\nthese and solve for the rest. So for example, if we solved\nfor q,y, this involves q,y,",
    "start": "932410",
    "end": "941860"
  },
  {
    "text": "this involves q,y,\nand this involves q,y. So we picked those three to\nsolve four q,0, q,x, and q,z.",
    "start": "941860",
    "end": "949990"
  },
  {
    "text": "So then correspondingly,\nif we have-- so that's a direct way\nof going from Quaternion",
    "start": "949990",
    "end": "958990"
  },
  {
    "text": "to rotation matrix. I mean, we can\nalso go indirectly. We can first find axis\nand angle and then",
    "start": "958990",
    "end": "966220"
  },
  {
    "text": "write the rotation matrix\nin terms of axis and angle.",
    "start": "966220",
    "end": "971350"
  },
  {
    "text": "And it's more complicated mostly\nbecause we've got nine numbers, and they could be\nnoisy, and we'd",
    "start": "971350",
    "end": "977860"
  },
  {
    "text": "like to get the best\npossible result out of those nine numbers.",
    "start": "977860",
    "end": "984040"
  },
  {
    "text": "OK, so out of the 56\nways of converting between different\nrepresentations,",
    "start": "984040",
    "end": "990640"
  },
  {
    "text": "we've done four. And that should be enough. So we can convert back and\nforth between the things",
    "start": "990640",
    "end": "997630"
  },
  {
    "text": "that we're more familiar with-- maybe not between\npoorly spin matrices,",
    "start": "997630",
    "end": "1003269"
  },
  {
    "text": "but we don't use those much,\nexcept in quantum mechanics.",
    "start": "1003270",
    "end": "1009780"
  },
  {
    "text": "OK. And you did some of\nthis in the homework,",
    "start": "1009780",
    "end": "1014820"
  },
  {
    "text": "and I don't want to repeat that. But let me talk about something\nin particular, scaling.",
    "start": "1014820",
    "end": "1021510"
  },
  {
    "text": "So far, we'd assume that\nour coordinated system",
    "start": "1021510",
    "end": "1029359"
  },
  {
    "text": "transformations were\nrotation and translation. And in many cases,\nthat's all there is.",
    "start": "1029359",
    "end": "1036199"
  },
  {
    "text": "If we have actual time-of-flight\ndata to measuring distances,",
    "start": "1036200",
    "end": "1042389"
  },
  {
    "text": "there's usually no question\nabout the scale factor because we know\nthe speed of light",
    "start": "1042390",
    "end": "1050140"
  },
  {
    "text": "with more precision than\nyou can throw a stick at, although there's often\nan error in offset.",
    "start": "1050140",
    "end": "1058330"
  },
  {
    "text": "And so how do we get into scale? Well, it's quite easy to get\ninto scale-- for example,",
    "start": "1058330",
    "end": "1064540"
  },
  {
    "text": "if we get the baseline wrong. So our plane is flying\nalong taking one picture, and taking another picture.",
    "start": "1064540",
    "end": "1070780"
  },
  {
    "text": "And we know the speed of the\nplane, and we know the time, so we know how far--\nwe know the baseline.",
    "start": "1070780",
    "end": "1075820"
  },
  {
    "text": "But how accurately\ndo we really know it? And so if we are trying to patch\ntogether pieces of the terrain",
    "start": "1075820",
    "end": "1085679"
  },
  {
    "text": "that we obtained\nwith successive-- two camera positions,\nthen we should",
    "start": "1085680",
    "end": "1091650"
  },
  {
    "text": "allow for some small\ndifference in the scaling because we know the distance\npretty accurately, but not",
    "start": "1091650",
    "end": "1097620"
  },
  {
    "text": "perfectly. And we're looking for\nvery high accuracy in topographic reconstruction.",
    "start": "1097620",
    "end": "1103230"
  },
  {
    "text": "So how to deal with that? Well, let's assume we've--",
    "start": "1103230",
    "end": "1110190"
  },
  {
    "text": "this isn't hard. We again find that centroid\nmaps the centroid, even with the introduction\nof scaling.",
    "start": "1110190",
    "end": "1116850"
  },
  {
    "text": "That's very easy. Just differentiate with\nrespect to translation. Set the result equal to 0.",
    "start": "1116850",
    "end": "1122490"
  },
  {
    "text": "And then we move the\norigin to the centroid, and we get these\nprime coordinates.",
    "start": "1122490",
    "end": "1128100"
  },
  {
    "text": "So now, let's look at this.",
    "start": "1128100",
    "end": "1134400"
  },
  {
    "text": "So here's a possible\nversion of the problem we're trying to solve that, now,\nwe've got rid of translation",
    "start": "1134400",
    "end": "1141150"
  },
  {
    "text": "by moving to centroid. And now, we have an\nunknown rotation,",
    "start": "1141150",
    "end": "1146580"
  },
  {
    "text": "and we have an unknown scaling. That's a new part. And so we might want to set\nup a least squares problem.",
    "start": "1146580",
    "end": "1153345"
  },
  {
    "start": "1153345",
    "end": "1164200"
  },
  {
    "text": "And of course, the\nnorm is the dot product of this thing with itself. So we can actually\nmultiply it out.",
    "start": "1164200",
    "end": "1169870"
  },
  {
    "text": "We get four terms. And then the sum of those four\nterms is the sum of four sums.",
    "start": "1169870",
    "end": "1178630"
  },
  {
    "text": "And so we end up with-- so this is very similar\nto what we've done before.",
    "start": "1178630",
    "end": "1184720"
  },
  {
    "start": "1184720",
    "end": "1196169"
  },
  {
    "text": "And how do we find the optimum? Well, of course, we just\ndifferentiate with respect",
    "start": "1196170",
    "end": "1201360"
  },
  {
    "text": "to s. This is particularly easy now. It's just a scalar. And we set the\nresult equal to 0.",
    "start": "1201360",
    "end": "1206760"
  },
  {
    "text": "And the first term\ndrops out, and then we get the second term. ",
    "start": "1206760",
    "end": "1222280"
  },
  {
    "text": "Oh, here, of course,\nwe use the fact that this the size\nof this vector",
    "start": "1222280",
    "end": "1227290"
  },
  {
    "text": "is the same as the size\nof the rotated vector. So rotation doesn't\nchange the size.",
    "start": "1227290",
    "end": "1232660"
  },
  {
    "text": "OK, this is equal to 0. And so we can solve for s. Well, let's give\nthese things names.",
    "start": "1232660",
    "end": "1239980"
  },
  {
    "text": "Let's call this Sr,\nso we don't have to write them too many\ntimes, and let's call this D,",
    "start": "1239980",
    "end": "1247660"
  },
  {
    "text": "and call this Sl. So we have S equals D over Sl.",
    "start": "1247660",
    "end": "1255905"
  },
  {
    "text": " We just solved this for\nD. We can forget the 2.",
    "start": "1255905",
    "end": "1263450"
  },
  {
    "text": "And so we don't, at this\npoint, know the answer because we haven't\ngot the rotation yet.",
    "start": "1263450",
    "end": "1269990"
  },
  {
    "text": "But in the same situation\nas we were with translation, we can remove the scale\nfactor from consideration now.",
    "start": "1269990",
    "end": "1279410"
  },
  {
    "text": "And then at the end, we go\nback and use this formula to compute the scale factor.",
    "start": "1279410",
    "end": "1288790"
  },
  {
    "text": " So that keeps everything\ncoupled that we can't do it",
    "start": "1288790",
    "end": "1297529"
  },
  {
    "text": "independently of rotation. Now, we talked earlier\nabout symmetry.",
    "start": "1297530",
    "end": "1306380"
  },
  {
    "text": "Why are we rotating\nfrom left coordinate to right coordinate rather\nthan from right coordinate to left coordinate?",
    "start": "1306380",
    "end": "1312230"
  },
  {
    "text": "And a method should\nreally be symmetrical, in that if you\ncompute the inverse,",
    "start": "1312230",
    "end": "1318230"
  },
  {
    "text": "you should get the inverse. So the rotation\nmatrix you get should be the transpose of the\nrotation matrix and so on.",
    "start": "1318230",
    "end": "1326240"
  },
  {
    "text": "So here, if we now go\nfrom the other way round,",
    "start": "1326240",
    "end": "1331250"
  },
  {
    "text": "if we look at this\nproblem, then we",
    "start": "1331250",
    "end": "1343320"
  },
  {
    "text": "expect to get a\nscale factor that's the inverse of that\nscale factor, right? Because we're going from right\ncoordinated system to left.",
    "start": "1343320",
    "end": "1350190"
  },
  {
    "text": "We were going from\nleft to right before. And if you actually work\nit out, you get that.",
    "start": "1350190",
    "end": "1358770"
  },
  {
    "text": "So again, you can do it, but\nit's not the same answer.",
    "start": "1358770",
    "end": "1364140"
  },
  {
    "text": "It's not the inverse of that. What we would expect is\nthat this prime is 1 over S,",
    "start": "1364140",
    "end": "1371490"
  },
  {
    "text": "and it's not, in general. So that suggests that\nthis is not a good method.",
    "start": "1371490",
    "end": "1378060"
  },
  {
    "text": "And what's going on? Well, what's going on is\nthat the least squares method is trying to make the\nerrors as small as possible.",
    "start": "1378060",
    "end": "1385380"
  },
  {
    "text": "And one way to do that\nis to make the transform coordinates smaller\nup to a point.",
    "start": "1385380",
    "end": "1392190"
  },
  {
    "text": "So you can kind of cheat\nby making the scale factor a little bit\nsmaller than it really",
    "start": "1392190",
    "end": "1398940"
  },
  {
    "text": "should be because you're\nshrinking things down and making things smaller. And then conversely, if you\ngo in the other direction,",
    "start": "1398940",
    "end": "1405510"
  },
  {
    "text": "you shrink down the\nother coordinate system. So neither of these\nis really acceptable.",
    "start": "1405510",
    "end": "1413490"
  },
  {
    "text": "And so we look at another\nerror term, the one that you looked at in\nthe homework problem",
    "start": "1413490",
    "end": "1421650"
  },
  {
    "text": "in the 2D case. And so in this case,\nwe're going to end up",
    "start": "1421650",
    "end": "1426800"
  },
  {
    "text": "with an error that looks\nlike this, where the Sr, Sl,",
    "start": "1426800",
    "end": "1433690"
  },
  {
    "text": "and D as defined over there. And that's nice because\nS doesn't show up here",
    "start": "1433690",
    "end": "1440500"
  },
  {
    "text": "in that term that has\nthe rotation in it. We just have these other terms.",
    "start": "1440500",
    "end": "1446560"
  },
  {
    "text": "And so we can just\ndifferentiate with respect to S, set the result equal to 0\nbecause derivative of that",
    "start": "1446560",
    "end": "1457910"
  },
  {
    "text": "0 with respect to S is 0. And so that means that\nS squared is Sr over Sl.",
    "start": "1457910",
    "end": "1468860"
  },
  {
    "text": "And now, if I go in\nthe other direction, I'm going to get S bar\nsquared is Sl over Sr.",
    "start": "1468860",
    "end": "1479900"
  },
  {
    "text": "And that is the inverse. So that method is\nmuch to be preferred.",
    "start": "1479900",
    "end": "1486890"
  },
  {
    "text": "It also has the property that\nwe don't need correspondences. ",
    "start": "1486890",
    "end": "1496429"
  },
  {
    "text": "So it's just like\ntranslation, where we are able to map\ncentroid to centroid.",
    "start": "1496430",
    "end": "1502190"
  },
  {
    "text": "We didn't need\ncorrespondences for that. Here, it's very\nconvenient that we",
    "start": "1502190",
    "end": "1507649"
  },
  {
    "text": "don't need the-- the only term\nthat depends on correspondence is that one.",
    "start": "1507650",
    "end": "1512660"
  },
  {
    "text": "We only need these others,\nwhich basically say, you've got this cloud of points. How big is it?",
    "start": "1512660",
    "end": "1517970"
  },
  {
    "text": "And then you have the\nother cloud of points. How big is it? Well, the scale factor is\nthe ratio of those two sizes.",
    "start": "1517970",
    "end": "1525620"
  },
  {
    "text": "It's very intuitive. OK, so that leaves us\nwith the problem of--",
    "start": "1525620",
    "end": "1539710"
  },
  {
    "text": "so we can deal with\ntranslation and scaling in the correspondence-free\nway and also free of rotation.",
    "start": "1539710",
    "end": "1548260"
  },
  {
    "text": "We don't need to take\ninto account rotation. Well, we can separate\nthe problems.",
    "start": "1548260",
    "end": "1555730"
  },
  {
    "text": "So that leaves us with\nthe rotation part. And we spent some time\non that, so I won't",
    "start": "1555730",
    "end": "1562570"
  },
  {
    "text": "review that in great detail. Just note that, in\nthe end, we have",
    "start": "1562570",
    "end": "1572890"
  },
  {
    "text": "this to maximize because\nthis was a minimization,",
    "start": "1572890",
    "end": "1585900"
  },
  {
    "text": "but we have the negative sign,\nso this has to be maximized. And N, of course, is\na four-by-four matrix,",
    "start": "1585900",
    "end": "1592650"
  },
  {
    "text": "which we can show is symmetric. It's not obvious that it is. And so now, we have\na calculus problem.",
    "start": "1592650",
    "end": "1601090"
  },
  {
    "text": "We just differentiate\nwith respect to q and set the result equal to 0--",
    "start": "1601090",
    "end": "1607320"
  },
  {
    "text": "well, not quite. We have that constraint. And that's just as well\nbecause, otherwise,",
    "start": "1607320",
    "end": "1613320"
  },
  {
    "text": "the answer is 0 because\nthat differentiate that, and you get 2N,q.",
    "start": "1613320",
    "end": "1619365"
  },
  {
    "text": " How do you do that? Well, I'm sure you remember\nthese formulas and so on-- so",
    "start": "1619365",
    "end": "1642060"
  },
  {
    "text": "all in the appendix. OK, so if we set\nthat equal to 0, well, there's a very convenient\nanswer, which is that q is 0.",
    "start": "1642060",
    "end": "1650550"
  },
  {
    "text": "Or looked at another way-- that's an extreme one.",
    "start": "1650550",
    "end": "1656940"
  },
  {
    "text": "Well, we're actually\ntrying to maximize, so we'd go the other way. We would just make q grow.",
    "start": "1656940",
    "end": "1662490"
  },
  {
    "text": "We can make q as\nlarge as we like. And so there's no maximum-- well, infinity.",
    "start": "1662490",
    "end": "1668220"
  },
  {
    "text": "So that's obviously\nnot satisfactory. We need to take into\naccount the constraint.",
    "start": "1668220",
    "end": "1674610"
  },
  {
    "text": "And as we saw in the slides\nlast time, one way to do that is using Lagrange multipliers--",
    "start": "1674610",
    "end": "1681945"
  },
  {
    "text": "a very elegant method, and\nit's described in the appendix. But this is a\nspecial case where we",
    "start": "1681945",
    "end": "1688320"
  },
  {
    "text": "can get away with\nsomething simpler called Raleigh quotient.",
    "start": "1688320",
    "end": "1694320"
  },
  {
    "text": "So Raleigh did all sorts\nof interesting things, including work in optics.",
    "start": "1694320",
    "end": "1700049"
  },
  {
    "text": "And he ran into this problem\nof trying to find an extremum.",
    "start": "1700050",
    "end": "1705570"
  },
  {
    "text": "And so he came up\nwith the idea, well, how do I prevent this\nfrom running away",
    "start": "1705570",
    "end": "1711180"
  },
  {
    "text": "by being made very large? Sorry, this is\ntransposed there, yeah.",
    "start": "1711180",
    "end": "1717120"
  },
  {
    "text": "Well, I just divide\nby the size of q.",
    "start": "1717120",
    "end": "1722130"
  },
  {
    "text": "So there's no advantage to\nmaking q very large, right? So if you think about it\nas directions in a space,",
    "start": "1722130",
    "end": "1732150"
  },
  {
    "text": "this quantity is constant along\nany ray because wherever I am,",
    "start": "1732150",
    "end": "1739140"
  },
  {
    "text": "I'm going to divide out\nby the length of q itself. So that creates a different\nfunction, the one that",
    "start": "1739140",
    "end": "1747570"
  },
  {
    "text": "doesn't go off to infinity. But that is constant\nalong any ray, and that's exactly what we want.",
    "start": "1747570",
    "end": "1753659"
  },
  {
    "text": "We want to find the ray, the\ndirection of the ray that makes that as extreme as possible. Yeah?",
    "start": "1753660",
    "end": "1759252"
  },
  {
    "text": "AUDIENCE: What is\nthe matrix, then? BERTHOLD HORN: Oh,\nso that's the thing that we got out of where--",
    "start": "1759252",
    "end": "1766080"
  },
  {
    "text": "it disappeared-- where we\ntook the representation",
    "start": "1766080",
    "end": "1775070"
  },
  {
    "text": "of a Quaternion product with\nas a four-by-four rotational,",
    "start": "1775070",
    "end": "1782899"
  },
  {
    "text": "orthogonal matrix. So that's sort of the key-- AUDIENCE: Can you\ncall it q, really?",
    "start": "1782900",
    "end": "1788420"
  },
  {
    "text": "BERTHOLD HORN: No.  Where is there space? Well, let's just take this.",
    "start": "1788420",
    "end": "1795440"
  },
  {
    "text": "Just a quick review\nof that part--",
    "start": "1795440",
    "end": "1801110"
  },
  {
    "text": "so I'm not going to copy it\nall out, just at the beginning.",
    "start": "1801110",
    "end": "1806660"
  },
  {
    "text": "So we had this sigma over-- ",
    "start": "1806660",
    "end": "1817910"
  },
  {
    "text": "right? This was the thing we\nwere trying to maximize.",
    "start": "1817910",
    "end": "1822960"
  },
  {
    "text": "And then we wrote-- first, we took this\nover to the other side to make it more\nsymmetrical, so--",
    "start": "1822960",
    "end": "1828929"
  },
  {
    "text": " oh, sorry. ",
    "start": "1828930",
    "end": "1840820"
  },
  {
    "text": "And then we used that notation\nwhere we represented this as-- ",
    "start": "1840820",
    "end": "1851500"
  },
  {
    "text": "now, before, we expanded\nit the other way out. We converted q into\na four-by-four matrix",
    "start": "1851500",
    "end": "1857800"
  },
  {
    "text": "and multiplied by\nthis Quaternion. And now, we do it\nthe other way around.",
    "start": "1857800",
    "end": "1863950"
  },
  {
    "text": "And then because this is a dot\nproduct, it's that transpose. And then we get 2 transpose\nR transpose li, R,ri.",
    "start": "1863950",
    "end": "1875325"
  },
  {
    "start": "1875325",
    "end": "1880899"
  },
  {
    "text": "And of course, this\nis the sum of that. And q doesn't depend on i,\nso we can get rid of that.",
    "start": "1880900",
    "end": "1888240"
  },
  {
    "text": "So it's that matrix. So it's derived from the data,\nfrom the correspondences.",
    "start": "1888240",
    "end": "1900799"
  },
  {
    "text": " OK, so how do we find that?",
    "start": "1900800",
    "end": "1915570"
  },
  {
    "text": "Well, now, it's a pretty\nstraightforward calculus problem. We just differentiate\nwith respect",
    "start": "1915570",
    "end": "1921480"
  },
  {
    "text": "to q and wet the\nresult equal to 0. ",
    "start": "1921480",
    "end": "1927899"
  },
  {
    "text": "And it's a ratio,\nso we use the rule for differentiation of a ratio. And so first, differentiate\nthe numerator.",
    "start": "1927900",
    "end": "1935070"
  },
  {
    "text": "We get 2N,q divided by this. And then we need to add the\nterm involving the denominator.",
    "start": "1935070",
    "end": "1949290"
  },
  {
    "text": "So we get minus 1 over q dot T\nq,0 squared 2,q, and q,0 N,q.",
    "start": "1949290",
    "end": "1962920"
  },
  {
    "text": "So this is just the formula\nfor taking the derivative of a ratio, and this 2,q here is\nthe derivative of q transpose q",
    "start": "1962920",
    "end": "1972970"
  },
  {
    "text": "with respect to q. And this is supposed to be 0. So that means that N,q is--",
    "start": "1972970",
    "end": "1986350"
  },
  {
    "start": "1986350",
    "end": "1997610"
  },
  {
    "text": "and this, of course, is\na scalar, some constant.",
    "start": "1997610",
    "end": "2003280"
  },
  {
    "text": "And so what does this\ntell us about the q? ",
    "start": "2003280",
    "end": "2011530"
  },
  {
    "text": "That we multiply\nsome matrix by q and we get out some scaled\nversion of q-- so eigenvector,",
    "start": "2011530",
    "end": "2019250"
  },
  {
    "text": "right? So q is an eigenvector.",
    "start": "2019250",
    "end": "2026679"
  },
  {
    "text": "And now, we're trying\nto maximize this. So we need to know which of\nthe eigenvectors to pick.",
    "start": "2026680",
    "end": "2033750"
  },
  {
    "text": "And it's pretty easy to\nsee that if N is lambda q,",
    "start": "2033750",
    "end": "2039000"
  },
  {
    "text": "then this ratio\nover here is going to be lambda q transpose q\nover q transpose q is lambda.",
    "start": "2039000",
    "end": "2050129"
  },
  {
    "text": "And so to maximize it,\nwe pick the eigenvalue.",
    "start": "2050130",
    "end": "2055359"
  },
  {
    "text": "Pick the largest eigenvalue. We want to maximize this ratio.",
    "start": "2055360",
    "end": "2061179"
  },
  {
    "text": "And the way to do\nit is to pick q to be the eigenvector\ncorresponding to the largest",
    "start": "2061179",
    "end": "2066730"
  },
  {
    "text": "eigenvalue. And then this whole thing\nis equal to that eigenvalue.",
    "start": "2066730",
    "end": "2071800"
  },
  {
    "text": "So obviously, you wouldn't want\nto pick a smaller eigenvalue than the maximum one. OK, and so the only slight\ntipping point is the fact",
    "start": "2071800",
    "end": "2085270"
  },
  {
    "text": "that there's this constraint. But the constraint\nis so much easier to handle then\nthe constraints we",
    "start": "2085270",
    "end": "2093820"
  },
  {
    "text": "had with the normal matrices. So we can actually do this in\na very straightforward way--",
    "start": "2093820",
    "end": "2101580"
  },
  {
    "text": "Raleigh quotient. ",
    "start": "2101580",
    "end": "2108210"
  },
  {
    "text": "So a couple of things that we\nusually ask after we've, quote, found the solution, one\nis, when does it fail?",
    "start": "2108210",
    "end": "2117369"
  },
  {
    "text": "And the other one is, how\nmany points do we need?",
    "start": "2117370",
    "end": "2122830"
  },
  {
    "text": "How many correspondences? And so let's start with that. So in all of these\nphotogrammetric problems,",
    "start": "2122830",
    "end": "2131059"
  },
  {
    "text": "that's an important point. ",
    "start": "2131060",
    "end": "2139460"
  },
  {
    "text": "And so well, we\ncan approach this from the point of view of the\nproperties of this matrix N.",
    "start": "2139460",
    "end": "2145490"
  },
  {
    "text": "But it's a bit of a bear of\na problem to worry about.",
    "start": "2145490",
    "end": "2152030"
  },
  {
    "text": "And singular is how many\neigenvalues are non-zero and so on? Let's just do it intuitively.",
    "start": "2152030",
    "end": "2159470"
  },
  {
    "text": "So first of all,\nwe can say, well, how many things\nare we looking for? We're looking for six. If we're looking for\ntranslation or rotation,",
    "start": "2159470",
    "end": "2165920"
  },
  {
    "text": "we're looking for six. If we add scaling, we\nmight be looking for seven. So each measurement\ncorrespondence,",
    "start": "2165920",
    "end": "2173119"
  },
  {
    "text": "there's a point in 3D and\na point in 3D that we say are the same.",
    "start": "2173120",
    "end": "2178280"
  },
  {
    "text": "So that's worth\nthree correspondent-- three constraints, right?",
    "start": "2178280",
    "end": "2183680"
  },
  {
    "text": "So we're looking for six things. So hey, we only need two\ncorrespondences, right?",
    "start": "2183680",
    "end": "2190820"
  },
  {
    "text": "That's assuming there's no\nredundancy in that information. Well, let's start off\nwith one correspondence.",
    "start": "2190820",
    "end": "2196369"
  },
  {
    "text": "So here's an object. And then we have\na second object.",
    "start": "2196370",
    "end": "2203480"
  },
  {
    "text": "And we want to know how one is\nrotated relative to the other.",
    "start": "2203480",
    "end": "2208670"
  },
  {
    "text": "And of course, we\nknow the duality between two objects, one\ncoordinate system, or one",
    "start": "2208670",
    "end": "2214579"
  },
  {
    "text": "object, two coordinate systems. So let's do the two objects,\none coordinate system.",
    "start": "2214580",
    "end": "2220550"
  },
  {
    "text": "And obviously, this\nisn't going to do it because I can move this thing. I can rotate it\naround that point",
    "start": "2220550",
    "end": "2228410"
  },
  {
    "text": "without changing\nthat correspondence. And also, I can rotate\nit about this axis.",
    "start": "2228410",
    "end": "2233690"
  },
  {
    "text": "It's just very little\nconstraint-- well,",
    "start": "2233690",
    "end": "2240130"
  },
  {
    "text": "three constraints out of\nsix dimensional possibility.",
    "start": "2240130",
    "end": "2245420"
  },
  {
    "text": "So that's not good enough. So let's pick two. Suppose that our very\nrough back-of-the-envelope",
    "start": "2245420",
    "end": "2253880"
  },
  {
    "text": "calculation suggests that two\nshould be enough because each of those correspondents\ngives us three constraints.",
    "start": "2253880",
    "end": "2260765"
  },
  {
    "text": "It's very powerful to\nsay that this point is on top of that point. And so we get three out of\none correspondence, three",
    "start": "2260765",
    "end": "2267980"
  },
  {
    "text": "out of a second correspondence. That makes six. We're looking for six\ndegrees of freedom. Maybe that'll do.",
    "start": "2267980",
    "end": "2273590"
  },
  {
    "text": "Well, what do you think? I mean, if I tie two objects\ntogether at two points,",
    "start": "2273590",
    "end": "2280010"
  },
  {
    "text": "is that enough to\nrigidly combine them? ",
    "start": "2280010",
    "end": "2285880"
  },
  {
    "text": "Or is there some\ndegree of freedom left?  So it's hard to see\nbecause it's in 2D.",
    "start": "2285880",
    "end": "2293579"
  },
  {
    "text": "Well, draw that axis, and\ntake one of the objects in the rotate it\nabout that axis.",
    "start": "2293580",
    "end": "2301840"
  },
  {
    "text": "So no, that doesn't work. And the reason is that when we\nmake the second measurement, we don't get three new things.",
    "start": "2301840",
    "end": "2309460"
  },
  {
    "text": "The information's redundant. Why? Well, because there's the\ndistance between the two",
    "start": "2309460",
    "end": "2316090"
  },
  {
    "text": "that is fixed. And so it is true\nwe have six numbers,",
    "start": "2316090",
    "end": "2322270"
  },
  {
    "text": "but there's also one that's\nnot worth anything new. And so we only have\nfive constraints.",
    "start": "2322270",
    "end": "2329710"
  },
  {
    "text": "So yes, we've got just one\nleft, and perfectly makes sense.",
    "start": "2329710",
    "end": "2336150"
  },
  {
    "text": "We only have one\ndegree of freedom left. We can rotate about this axis. So OK, so it takes three.",
    "start": "2336150",
    "end": "2344299"
  },
  {
    "text": "It takes three\ncorrespondences to work. And that method that we\ndeprecated at the beginning",
    "start": "2344300",
    "end": "2352850"
  },
  {
    "text": "used three correspondences. So in that respect,\nwe're not any better. We need exactly the same\nnumber of correspondences",
    "start": "2352850",
    "end": "2359869"
  },
  {
    "text": "as that method that we\npooh-poohed and said wasn't very good.",
    "start": "2359870",
    "end": "2365349"
  },
  {
    "text": "OK, so one question is--",
    "start": "2365350",
    "end": "2379450"
  },
  {
    "text": "we've come across this\nbefore in the 2D world-- is there some way of\ngeneralizing the transformation so that it matches?",
    "start": "2379450",
    "end": "2386440"
  },
  {
    "text": "Here, with three points,\nwe get nine constraints. And of course, they're highly\nredundant because the distances",
    "start": "2386440",
    "end": "2395020"
  },
  {
    "text": "between the points are the same. And so with scaling,\nwe're up to seven.",
    "start": "2395020",
    "end": "2403060"
  },
  {
    "text": "So that's already going\nin the right direction if we add scaling. We need to add two more so that\nwe would fully use and need",
    "start": "2403060",
    "end": "2414369"
  },
  {
    "text": "three correspondences. So one idea is, well, how\nabout the general linear",
    "start": "2414370",
    "end": "2419650"
  },
  {
    "text": "transformation? And we did this in 2D. ",
    "start": "2419650",
    "end": "2425630"
  },
  {
    "text": "And I guess, in 2D, we ended\nup with six degrees of freedom. What is it in 3D?",
    "start": "2425630",
    "end": "2431299"
  },
  {
    "text": "So well, so we could have\nno longer constrained",
    "start": "2431300",
    "end": "2439720"
  },
  {
    "text": "to orthonormal matrices. And that actually\nis a great thing because the orthonormal\nmatrices are",
    "start": "2439720",
    "end": "2446800"
  },
  {
    "text": "the ones that produce\nthese horrendous problems with the constraints that\nthey are orthonormal.",
    "start": "2446800",
    "end": "2454060"
  },
  {
    "text": "And oh, this looks just right. It's got nine numbers in it. So nine constraints from\nthree correspondences",
    "start": "2454060",
    "end": "2464529"
  },
  {
    "text": "matches to that, so it\nlooks like this is, perhaps, the generalization that we need.",
    "start": "2464530",
    "end": "2470069"
  },
  {
    "text": "Well, unfortunately,\nnot quite because we have translation as well.",
    "start": "2470070",
    "end": "2475619"
  },
  {
    "text": " So the general\nlinear transformation",
    "start": "2475620",
    "end": "2482200"
  },
  {
    "text": "has 12 elements in 3D. We had six in 2D. And so there isn't a\nnice symmetric argument",
    "start": "2482200",
    "end": "2492820"
  },
  {
    "text": "that, with three\ncorrespondences, it would work. We would need four\ncorrespondences.",
    "start": "2492820",
    "end": "2498160"
  },
  {
    "text": "And that does work. And it's very elegant\nand very neat. The least squares\ncomes out beautifully",
    "start": "2498160",
    "end": "2504280"
  },
  {
    "text": "because there are none of\nthese annoying constraints-- like, determinant of\nthe matrix is one. But that's not\nthe transformation",
    "start": "2504280",
    "end": "2511839"
  },
  {
    "text": "that we're dealing with\nin the real world where we have two sensor systems\nlooking at the world,",
    "start": "2511840",
    "end": "2518710"
  },
  {
    "text": "and they're typically\nonly dealing with rotation and\ntranslation, maybe",
    "start": "2518710",
    "end": "2523720"
  },
  {
    "text": "scaling, but not that full-- this allows skewing of the\naxes and asymmetric scaling,",
    "start": "2523720",
    "end": "2530920"
  },
  {
    "text": "that the x-axis is scaled\ndifferent from the y-axis, and that there's a\nslant, and so on.",
    "start": "2530920",
    "end": "2536260"
  },
  {
    "text": "So OK, so back to our\nanalysis of this method,",
    "start": "2536260",
    "end": "2544210"
  },
  {
    "text": "we've said something about how\nmany correspondences we need.",
    "start": "2544210",
    "end": "2550210"
  },
  {
    "text": "So one way to fail is to not\nhave enough correspondences. And if you have only\ntwo correspondences,",
    "start": "2550210",
    "end": "2558910"
  },
  {
    "text": "that matrix N will\nbe singular, which isn't enough to make\nthe method not work.",
    "start": "2558910",
    "end": "2566020"
  },
  {
    "text": "But it will it will have more\nthan one eigenvalue that's zero, and that's\na way to formalize",
    "start": "2566020",
    "end": "2574750"
  },
  {
    "text": "our hand-waving argument. But it's kind of messy, so\nI didn't want to do that.",
    "start": "2574750",
    "end": "2580570"
  },
  {
    "text": "But there is\nanother case that we want to look at that's\nactually kind of interesting.",
    "start": "2580570",
    "end": "2587069"
  },
  {
    "text": "So how do we find\nthe eigenvalues? Well, we use MATLAB.",
    "start": "2587070",
    "end": "2595410"
  },
  {
    "text": "Or, more seriously,\nwe need to solve this characteristic\nequation, which",
    "start": "2595410",
    "end": "2601410"
  },
  {
    "text": "is obtained from that\nmatrix N. So that's the equation that says,\ndeterminant of N minus lambda i",
    "start": "2601410",
    "end": "2609870"
  },
  {
    "text": "is 0. So that's the determinant of\na four-by-four matrix that has minus lambdas down\nthe diagonal, subtracted",
    "start": "2609870",
    "end": "2617910"
  },
  {
    "text": "out the diagonal. And when we take\nthe determinant, we get up to fourth-order\ncombinations of lambda.",
    "start": "2617910",
    "end": "2624240"
  },
  {
    "text": "So it's going to look like this. Now, our matrix N is\na particular matrix that was obtained this way.",
    "start": "2624240",
    "end": "2631319"
  },
  {
    "text": "And so actually, we can\nsay more about this. I already mentioned\nthis last time.",
    "start": "2631320",
    "end": "2638310"
  },
  {
    "text": "It's not easy to show, but C,3\nis the trace of the matrix that",
    "start": "2638310",
    "end": "2645450"
  },
  {
    "text": "happens to be 0. Well, it's easy to show\nit's a trace of a matrix. It's not easy to\nshow that it's 0.",
    "start": "2645450",
    "end": "2650700"
  },
  {
    "text": "So anyway, it's 0, which makes\nthis equation easier to solve.",
    "start": "2650700",
    "end": "2655770"
  },
  {
    "text": "In fact, usually, the\nfirst step in solving a fourth-order equation is to\neliminate the third-order term.",
    "start": "2655770",
    "end": "2661710"
  },
  {
    "text": "Well, it's already happened. So we're ahead of the game. What about the others?",
    "start": "2661710",
    "end": "2667035"
  },
  {
    "start": "2667035",
    "end": "2672079"
  },
  {
    "text": "So this is the trace\nof another matrix. ",
    "start": "2672080",
    "end": "2681540"
  },
  {
    "text": "So these others aren't 0,\nso what is this matrix M? Well, the matrix M is where\nwe actually started with.",
    "start": "2681540",
    "end": "2690930"
  },
  {
    "text": "This is what you'd compute when\nyou got the correspondences. ",
    "start": "2690930",
    "end": "2698790"
  },
  {
    "text": "What's that? That's a dyadic product. So we take the victor in the\nleft-hand coordinate system",
    "start": "2698790",
    "end": "2704610"
  },
  {
    "text": "and multiply it by the victor\nin the right-hand coordinate system. But rather than the\ntranspose of the first times",
    "start": "2704610",
    "end": "2711330"
  },
  {
    "text": "the second, which gives us\na dot product, we do this. And you've seen that. So that's a\nthree-by-three matrix.",
    "start": "2711330",
    "end": "2717000"
  },
  {
    "text": "We just stepped through\nthe data, correspondence by correspondence. And we compute this\ndyadic product,",
    "start": "2717000",
    "end": "2724170"
  },
  {
    "text": "and add it into a total, and\nwe get that matrix N, which is, of course, three by three.",
    "start": "2724170",
    "end": "2730720"
  },
  {
    "text": "And it turns out that\nthe four-by-four matrix N has terms that can be\ncomputed from this matrix.",
    "start": "2730720",
    "end": "2742982"
  },
  {
    "text": "So that's actually\nthe most efficient way of getting N. You just sift\nthrough all of your data",
    "start": "2742982",
    "end": "2748890"
  },
  {
    "text": "and compute M. Then at the\nend, you compute N from it.",
    "start": "2748890",
    "end": "2757369"
  },
  {
    "text": "OK, next thing-- suppose that\nthe determinant of M is 0.",
    "start": "2757370",
    "end": "2765830"
  },
  {
    "text": "Suppose that M is singular. Well, that's pretty useful\nbecause that means that C,1 0.",
    "start": "2765830",
    "end": "2775700"
  },
  {
    "text": "And then we can all solve this\nequation without needing to go to any special textbook\nor something because then,",
    "start": "2775700",
    "end": "2783410"
  },
  {
    "text": "we've got lambda to the fourth\nplus C,2 lambda squared plus C,0 is 0.",
    "start": "2783410",
    "end": "2790850"
  },
  {
    "text": "In that case, it\nreduces to that problem. And we use what\nequation to solve that?",
    "start": "2790850",
    "end": "2796340"
  },
  {
    "start": "2796340",
    "end": "2803040"
  },
  {
    "text": "So it seems to have lambda\nto the fourth in it, which means we should use\nFerrari or Cardano.",
    "start": "2803040",
    "end": "2808620"
  },
  {
    "text": "But of course, it's quadratic\nin lambda squared, right?",
    "start": "2808620",
    "end": "2813860"
  },
  {
    "text": "So we just apply the quadratic. So it's a particularly\neasy case. And so you might\nwonder, well, who cares?",
    "start": "2813860",
    "end": "2823319"
  },
  {
    "text": "That's a special case. Well, it turns out, it's a\nit's a particular case that's",
    "start": "2823320",
    "end": "2828809"
  },
  {
    "text": "interesting from a\ngeometric point of view. It has to do with the\ndistribution of the points.",
    "start": "2828810",
    "end": "2835619"
  },
  {
    "text": "And so this matrix N can have\nsome 0 eigenvalues, which",
    "start": "2835620",
    "end": "2842520"
  },
  {
    "text": "are potentially problematic. And when does that occur? Well, one is when\npoints are coplanar.",
    "start": "2842520",
    "end": "2849359"
  },
  {
    "text": " So far, we've talked\nabout clouds of points,",
    "start": "2849360",
    "end": "2857390"
  },
  {
    "text": "like the spikes on a sea urchin. And we're matching two of these. So we're rotating one in\nalignment with the other.",
    "start": "2857390",
    "end": "2864830"
  },
  {
    "text": "But this applies equally\nwell if all of those points are in a plane.",
    "start": "2864830",
    "end": "2871850"
  },
  {
    "text": "And so what happens then? Well, if there's\na plane, then all",
    "start": "2871850",
    "end": "2881150"
  },
  {
    "text": "of our points in\nthat plane, and we",
    "start": "2881150",
    "end": "2886670"
  },
  {
    "text": "can draw a unit\nnormal to the plane, and then the dot\nproduct has to be 0.",
    "start": "2886670",
    "end": "2894349"
  },
  {
    "text": "So let's suppose all the\nright-hand points are",
    "start": "2894350",
    "end": "2904320"
  },
  {
    "text": "in a plane. Now, with our\nmeasurement error that implies that the left-hand\npoints also are in a plane,",
    "start": "2904320",
    "end": "2910470"
  },
  {
    "text": "but we may not need to\nmake that restriction.",
    "start": "2910470",
    "end": "2915540"
  },
  {
    "text": "There might be\nmeasurement error, and the others might not\nbe exactly in the plane.",
    "start": "2915540",
    "end": "2921240"
  },
  {
    "text": "So what I've done here is\nI've drawn the centroid. So I've already moved\neverything to the centroid.",
    "start": "2921240",
    "end": "2927930"
  },
  {
    "text": "And therefore, I can write\nthe equation of the plane in this simple form. The dot product-- the component\nof any one of these vectors",
    "start": "2927930",
    "end": "2937650"
  },
  {
    "text": "in this direction is 0. That's the definition\nof a plane. OK, well, then, that's the\nsame as r,i transpose n.",
    "start": "2937650",
    "end": "2950060"
  },
  {
    "text": "And then I can go\nto M,n hat is-- ",
    "start": "2950060",
    "end": "2978180"
  },
  {
    "text": "OK, so if the\npoints are coplanar, then we do have the\ndeterminant of M is 0.",
    "start": "2978180",
    "end": "2984270"
  },
  {
    "text": "And then that problem is\nparticularly easy to solve.",
    "start": "2984270",
    "end": "2989740"
  },
  {
    "text": "Now, I haven't shown it\nthe other way round, which I should, which is that\nif determinant of M is 0,",
    "start": "2989740",
    "end": "2996730"
  },
  {
    "text": "the points are coplanar. But I think you can\nsee how to do that without too much trouble.",
    "start": "2996730",
    "end": "3003140"
  },
  {
    "text": "Now, in that case, actually,\nwe can solve the problem more simply. Suppose that things\nare nice, and both",
    "start": "3003140",
    "end": "3011315"
  },
  {
    "text": "are coplanar, both the\nleft-hand cloud of points",
    "start": "3011315",
    "end": "3016400"
  },
  {
    "text": "and the right-hand\ncloud of points. So I can draw these two planes. So here's one plane.",
    "start": "3016400",
    "end": "3022100"
  },
  {
    "text": "So all of the points in the\nleft-hand coordinate system are one plane. All of the right-hand ones\nare in this other plane.",
    "start": "3022100",
    "end": "3029525"
  },
  {
    "text": " Not particularly good drawing.",
    "start": "3029525",
    "end": "3035120"
  },
  {
    "text": "Well, two planes-- so all of\nleft point cloud, right point",
    "start": "3035120",
    "end": "3044280"
  },
  {
    "text": "cloud. ",
    "start": "3044280",
    "end": "3049370"
  },
  {
    "text": "So then, I can decompose\nthe problem into two steps.",
    "start": "3049370",
    "end": "3054980"
  },
  {
    "text": "The one step is\nrotate the one plane so it flies on top\nof the other plane,",
    "start": "3054980",
    "end": "3061069"
  },
  {
    "text": "and then an in-plane\nrotation, and I'm done. So the only two things-- I can decompose the\nfull 3D rotation",
    "start": "3061070",
    "end": "3069140"
  },
  {
    "text": "into two very simple rotations. Now, to do that, I'd\nneed to find this angle.",
    "start": "3069140",
    "end": "3074780"
  },
  {
    "text": "And I need to find this axis. And the axis is parallel\nto n,1 cross n,2.",
    "start": "3074780",
    "end": "3085520"
  },
  {
    "text": "If we have two planes that\nhave normals n,1 and n,2, they intersect in a line, which\nis parallel to n,1 cross n,2.",
    "start": "3085520",
    "end": "3095360"
  },
  {
    "text": "And the angle, of course,\nI can get very easily also. ",
    "start": "3095360",
    "end": "3102510"
  },
  {
    "text": "I take the dot product. That gives me the cosine.",
    "start": "3102510",
    "end": "3108109"
  },
  {
    "text": "I take the cross product,\nand the magnitude of that gives me the sine.",
    "start": "3108110",
    "end": "3114850"
  },
  {
    "text": "And then I use atan2. ",
    "start": "3114850",
    "end": "3120100"
  },
  {
    "text": "OK, so I've got the access. I've got the angle, so I can\nconstruct the Quaternion.",
    "start": "3120100",
    "end": "3125560"
  },
  {
    "start": "3125560",
    "end": "3132290"
  },
  {
    "text": "And then I rotate\nall of the points in one of the\ncoordinate systems. And now, the two planes\nare on top of each other.",
    "start": "3132290",
    "end": "3139620"
  },
  {
    "text": "And now, I've just got to take\nthe rotation in that plane so that these points align.",
    "start": "3139620",
    "end": "3146930"
  },
  {
    "text": "So that's a least\nsquares 2D problem, like you've solved\nin homework problems.",
    "start": "3146930",
    "end": "3153230"
  },
  {
    "text": "Of course, it's in a plane\nthat's somewhere in 3D-- but pretty\nstraightforward anyway.",
    "start": "3153230",
    "end": "3159620"
  },
  {
    "text": "So that's interesting that\nthe special cases where things changed in terms of the\ndifficulty of solution also",
    "start": "3159620",
    "end": "3167960"
  },
  {
    "text": "correspond to some things\nthat are physically relevant. So OK, so let's see.",
    "start": "3167960",
    "end": "3179030"
  },
  {
    "start": "3179030",
    "end": "3184040"
  },
  {
    "text": "Where to go next? I don't want to go onto relative\norientation too quickly. I want this to sink in because\nthis is like a triumph.",
    "start": "3184040",
    "end": "3192290"
  },
  {
    "text": "We've got a\nclosed-form solution. And sadly, so far, there isn't\none for relative orientation.",
    "start": "3192290",
    "end": "3198930"
  },
  {
    "text": "But we use a lot\nof the same tools-- the representation for\nrotation and so on. But I want to look at\nsome other aspects.",
    "start": "3198930",
    "end": "3205430"
  },
  {
    "text": "One of them is least squares. Everything we've done in\nthis course is least squares. And if you talk to your\nmore sophisticated friends,",
    "start": "3205430",
    "end": "3213020"
  },
  {
    "text": "they'll say, oh, that's useless\nbecause it's not robust. And what does that mean?",
    "start": "3213020",
    "end": "3218130"
  },
  {
    "text": "Well, it means that if\nyou have nice noise, least squares is the way to go.",
    "start": "3218130",
    "end": "3225020"
  },
  {
    "text": "By nice noise, we\nmean something that has a reasonable\ndistribution, like Gaussian.",
    "start": "3225020",
    "end": "3230359"
  },
  {
    "text": "And the problem we\nface in practice sometimes is that a\nlot of the measurements",
    "start": "3230360",
    "end": "3237710"
  },
  {
    "text": "follow a Gaussian distribution. But every now and\nthen, you get something that's completely wacko.",
    "start": "3237710",
    "end": "3243740"
  },
  {
    "text": "And so what do you do with that? So how do we deal with outliers?",
    "start": "3243740",
    "end": "3249809"
  },
  {
    "text": "Now, you can formulate\na new optimization problem that uses something\nother than square of error--",
    "start": "3249810",
    "end": "3258740"
  },
  {
    "text": "for example, absolute\nvalue of error. But it no longer has a\nclosed-form solution.",
    "start": "3258740",
    "end": "3264380"
  },
  {
    "text": "And so there's a trade off. Obviously, we don't have\na closed-form solution. It might be more\nwork to compute.",
    "start": "3264380",
    "end": "3270850"
  },
  {
    "text": "That's often not an issue. But it also makes it\nvery hard to say anything",
    "start": "3270850",
    "end": "3276010"
  },
  {
    "text": "in general about it. Like, how does it vary with\nthe parameters, and so on. If the only way\nyou get the answer",
    "start": "3276010",
    "end": "3281650"
  },
  {
    "text": "is to crunch the\nnumbers, then you don't have that pleasant\nexperience of a general formula",
    "start": "3281650",
    "end": "3288160"
  },
  {
    "text": "that says, oh, it's going to\nvary linearly with frequency or something like that.",
    "start": "3288160",
    "end": "3293480"
  },
  {
    "text": "So that's one\ndisadvantage of departing from this least squares method.",
    "start": "3293480",
    "end": "3300020"
  },
  {
    "text": "So suppose that we\nhave a 2D problem, and we're just doing a line fit.",
    "start": "3300020",
    "end": "3307500"
  },
  {
    "text": "So there's our\nleast squares line. But now, suppose that there's\nsome data point that's",
    "start": "3307500",
    "end": "3315330"
  },
  {
    "text": "just completely wacko. Well, that has a\nhuge square of error. And so it's going to pull\nyour solution dramatically",
    "start": "3315330",
    "end": "3323010"
  },
  {
    "text": "in that direction. So that's the intrusion. And it'd be slightly better if\nit was absolute value of error",
    "start": "3323010",
    "end": "3330450"
  },
  {
    "text": "because, then, it wouldn't\npull quite as hard. But it would be even\nbetter if you said, oh, that point's just crazy.",
    "start": "3330450",
    "end": "3337080"
  },
  {
    "text": "Forget it. And there are different\napproaches to this. So there's a question of\nrobustly dealing with outliers.",
    "start": "3337080",
    "end": "3348450"
  },
  {
    "text": "Now, it actually goes\nfurther than that, that you can show that there\nare certain problems where,",
    "start": "3348450",
    "end": "3353940"
  },
  {
    "text": "if the noise is Gaussian,\nthen least squares gives you the best possible answer. It's not just hand waving,\nbut maximum likelihood,",
    "start": "3353940",
    "end": "3362220"
  },
  {
    "text": "all those wonderful things. So how do we deal\nwith this problem?",
    "start": "3362220",
    "end": "3369820"
  },
  {
    "text": "Well, there are\nvarious approaches. The one I'm going\nto talk about is called RANSAC, Random Sample--",
    "start": "3369820",
    "end": "3377369"
  },
  {
    "text": " I don't know-- Agreement. ",
    "start": "3377370",
    "end": "3385020"
  },
  {
    "text": "And Fischler and\nBolles invented it",
    "start": "3385020",
    "end": "3391780"
  },
  {
    "text": "at SRI, Stanford\nResearch Institute, which is connected to\nStanford in some way,",
    "start": "3391780",
    "end": "3399869"
  },
  {
    "text": "although because they\ndo classified work, it's not as intimately\nconnected as a C cell.",
    "start": "3399870",
    "end": "3406410"
  },
  {
    "text": "It's more like Lincoln Labs. Anyway, they had problems like\nsatellite navigation and making",
    "start": "3406410",
    "end": "3414540"
  },
  {
    "text": "measurements of, I don't know,\nstar positions, gyroscopes. And occasionally, they'd\nhave some massive error,",
    "start": "3414540",
    "end": "3422530"
  },
  {
    "text": "which would completely\nmess up their result, even though, most of the time,\nthe errors were well behaved.",
    "start": "3422530",
    "end": "3429050"
  },
  {
    "text": "They followed some nice,\nsmooth distribution with not too much spread.",
    "start": "3429050",
    "end": "3437079"
  },
  {
    "text": "So what's the idea? Step one, random sample.",
    "start": "3437080",
    "end": "3442119"
  },
  {
    "text": " So if I take a random\nsample of these points",
    "start": "3442120",
    "end": "3450359"
  },
  {
    "text": "and there are not too\nmany outliers, there's a good chance that I\nwon't hit the outlier, and I will get a\ngood result. And how",
    "start": "3450360",
    "end": "3459540"
  },
  {
    "text": "do I know that I picked the\nrandom sample and how large? So there's several questions.",
    "start": "3459540",
    "end": "3467190"
  },
  {
    "text": "How large a random sample? Well, their recommendation\nwas the minimum needed",
    "start": "3467190",
    "end": "3473430"
  },
  {
    "text": "to fix the transformation. So in our case of\nabsolute orientation, there would be three.",
    "start": "3473430",
    "end": "3479310"
  },
  {
    "text": "Now, we know if we get\n1,000 correspondences, we're going to get much better\nresults than with three.",
    "start": "3479310",
    "end": "3486000"
  },
  {
    "text": "It goes as 1 over\nthe square root of n. So that's limiting the accuracy,\nso some other people recommend",
    "start": "3486000",
    "end": "3494700"
  },
  {
    "text": "that you use more. And then what do you do? So now, you take\nthe random sample,",
    "start": "3494700",
    "end": "3500940"
  },
  {
    "text": "and you do a best fit,\ntypically least squares because it's efficient\nand easy to understand.",
    "start": "3500940",
    "end": "3509260"
  },
  {
    "text": "So OK, and then check\nhow much of the data.",
    "start": "3509260",
    "end": "3517635"
  },
  {
    "start": "3517635",
    "end": "3526250"
  },
  {
    "text": "And so what you do is\nif that's your fit, then you add some sort of band.",
    "start": "3526250",
    "end": "3535800"
  },
  {
    "text": "And you count how many\nof them fall inside.",
    "start": "3535800",
    "end": "3540840"
  },
  {
    "text": "And notice that this involves\nsome kind of threshold. ",
    "start": "3540840",
    "end": "3556110"
  },
  {
    "text": "So in our case here, let's\nsay that all but one point fall in that band,\nand we say we're done.",
    "start": "3556110",
    "end": "3562920"
  },
  {
    "text": "If not, we take\nanother random sample, and we do this operation again.",
    "start": "3562920",
    "end": "3569890"
  },
  {
    "text": "And there are all sorts\nof interesting issues. One of them is you have to\nknow what the ratio of inliers",
    "start": "3569890",
    "end": "3578200"
  },
  {
    "text": "to outliers is. ",
    "start": "3578200",
    "end": "3583290"
  },
  {
    "text": "So you have to have some model\nof your measurement process because that's going to control\nhow you set the threshold.",
    "start": "3583290",
    "end": "3590490"
  },
  {
    "text": "So you need to know\nsomething about the noise to set that threshold. And then you need\nto know how many.",
    "start": "3590490",
    "end": "3598000"
  },
  {
    "text": "So there are two thresholds. There's a threshold\nhere of the band that determines whether\nthese are inliers or not.",
    "start": "3598000",
    "end": "3608010"
  },
  {
    "text": "And then there's the second\nthreshold here that says--",
    "start": "3608010",
    "end": "3613520"
  },
  {
    "text": "oops, scared her\nwith some equations. ",
    "start": "3613520",
    "end": "3621030"
  },
  {
    "text": "So we got arbitrary\nnumbers in there, which assume that you know\nsomething about the data.",
    "start": "3621030",
    "end": "3627560"
  },
  {
    "text": "And this works pretty well. I mean, I guess, you\nhave to have some limit",
    "start": "3627560",
    "end": "3632600"
  },
  {
    "text": "on not doing this an\ninfinite number of times. So you probably have another\nexit clause which says, well,",
    "start": "3632600",
    "end": "3640440"
  },
  {
    "text": "if you've tried 100 random\nsamples, then let's stop, then,",
    "start": "3640440",
    "end": "3646760"
  },
  {
    "text": "probably, your assumptions\nabout the model are wrong, and the thresholds aren't right. So you need to give up.",
    "start": "3646760",
    "end": "3654260"
  },
  {
    "text": "And there are\nvariations of this. So that's a good point. I didn't make that point yet.",
    "start": "3654260",
    "end": "3659309"
  },
  {
    "text": "But we're talking specifically\nabout absolute orientation. But this trick is to be\napplied, if necessary,",
    "start": "3659310",
    "end": "3666380"
  },
  {
    "text": "if there are outliers, to any of\nthe other least squares method. So the least squares\napproach is very appealing",
    "start": "3666380",
    "end": "3672170"
  },
  {
    "text": "because you get a closed-form\nsolution many times, and you get a measure of\nhow large the error is--",
    "start": "3672170",
    "end": "3678290"
  },
  {
    "text": "standard deviation-- and\nall these good things. But it's always subject to\nthe problem of bad data.",
    "start": "3678290",
    "end": "3684119"
  },
  {
    "text": "And so this is\ndefinitely a method to consider in the presence\nof real data, which sometimes",
    "start": "3684120",
    "end": "3690920"
  },
  {
    "text": "has outliers. Yes, OK.",
    "start": "3690920",
    "end": "3697360"
  },
  {
    "text": "And there are different\nvariations of this. In fact, the name\nof it, consensus,",
    "start": "3697360",
    "end": "3703450"
  },
  {
    "text": "kind of suggests a\ndifferent approach, more like a Hough transform. So before I read the paper,\nwhat I thought they were doing",
    "start": "3703450",
    "end": "3711100"
  },
  {
    "text": "was the following. You take a random subset. You do a fit, and that\ngives you some answer,",
    "start": "3711100",
    "end": "3719500"
  },
  {
    "text": "like slope and intercept\nof a straight line, say, in this case.",
    "start": "3719500",
    "end": "3724990"
  },
  {
    "text": " And you do it again. Do it a certain number of times.",
    "start": "3724990",
    "end": "3730690"
  },
  {
    "text": "And then you plot them\nin some parameter space. ",
    "start": "3730690",
    "end": "3737710"
  },
  {
    "text": "And some of them\nwill cluster tightly, and some of them that included\nthe outlier will be way off.",
    "start": "3737710",
    "end": "3744430"
  },
  {
    "text": "And so you can imagine\na Hough transform method where you have an accumulator\narray in this parameter space.",
    "start": "3744430",
    "end": "3753280"
  },
  {
    "text": "And whenever you\nget an answer, you increment that cell in\nthe parameter space. And after you've\ndone it often enough,",
    "start": "3753280",
    "end": "3759369"
  },
  {
    "text": "you look for the cell\nthat has the most hits. And that's somehow hybridizing\nFischler and Bolles' RANSAC",
    "start": "3759370",
    "end": "3770290"
  },
  {
    "text": "method with a Hough\ntransform method. And all of these\nare kind of ad hoc,",
    "start": "3770290",
    "end": "3778400"
  },
  {
    "text": "but they are very\nuseful in practice. ",
    "start": "3778400",
    "end": "3783589"
  },
  {
    "text": "OK, well, one of\nthe things we're going to do a little later\nis to find representations",
    "start": "3783590",
    "end": "3792260"
  },
  {
    "text": "for objects, particularly\nobjects that are not",
    "start": "3792260",
    "end": "3798080"
  },
  {
    "text": "simple polyhedra, but more\ncomplicated, and, particularly, objects that are\nnear convex that",
    "start": "3798080",
    "end": "3806980"
  },
  {
    "text": "might not have a lot of holes. And that representation is very\nuseful for detecting things",
    "start": "3806980",
    "end": "3813340"
  },
  {
    "text": "and finding their orientation. And we run into the same\norientation problems",
    "start": "3813340",
    "end": "3823160"
  },
  {
    "text": "as we have over here. And often, there's not\na closed-form solution.",
    "start": "3823160",
    "end": "3830980"
  },
  {
    "text": "So one approach is to sample\nthe space of rotations.",
    "start": "3830980",
    "end": "3836190"
  },
  {
    "text": "And how do you do this? So since we're talking about-- ",
    "start": "3836190",
    "end": "3850010"
  },
  {
    "text": "so let me first look at\nsampling a sphere in 3D. ",
    "start": "3850010",
    "end": "3861190"
  },
  {
    "text": "So one way we can do it is\nto use some discretization",
    "start": "3861190",
    "end": "3868750"
  },
  {
    "text": "of latitude and longitude. ",
    "start": "3868750",
    "end": "3877980"
  },
  {
    "text": "You know, I just find\nthere's some people who--",
    "start": "3877980",
    "end": "3883020"
  },
  {
    "text": "I forget what the\nterminology is. But where these\nlines cross, that's like a point of convergence.",
    "start": "3883020",
    "end": "3888960"
  },
  {
    "text": "And if you go there,\nsomething magical happens to you, particularly\nif you take along crystals.",
    "start": "3888960",
    "end": "3895920"
  },
  {
    "text": "And sometimes, these are\nhard-to-access places, like in the middle of\na military reservation.",
    "start": "3895920",
    "end": "3902340"
  },
  {
    "text": "Anyway, we sample them. And what's wrong with that? It gives us a way of\nsampling the whole space.",
    "start": "3902340",
    "end": "3909720"
  },
  {
    "text": "But obviously, it's\nnot a uniform sampling. Up here near the poles,\nwe're sampling points",
    "start": "3909720",
    "end": "3916770"
  },
  {
    "text": "that are very close together. And so that means\nit's inefficient, that if we had used some of\nthose points near the equator,",
    "start": "3916770",
    "end": "3927180"
  },
  {
    "text": "we could have done a better\njob, more even job of sampling.",
    "start": "3927180",
    "end": "3933059"
  },
  {
    "text": "So there are lots of\ninteresting questions that come out of this. One of them is, well, can we\nthink of a better coordinate system so that, if you\nsample uniformly in those two",
    "start": "3933060",
    "end": "3941310"
  },
  {
    "text": "coordinates, you will get a\nnice spacing on the sphere? Well, good luck with that.",
    "start": "3941310",
    "end": "3949640"
  },
  {
    "text": "You can show that\nit's not possible. So what else can we do? Well, we could generate\nrandom theta and phi",
    "start": "3949640",
    "end": "3959330"
  },
  {
    "text": "using some distribution. So let's see, latitude goes from\nminus pi over 2 to pi over 2",
    "start": "3959330",
    "end": "3969770"
  },
  {
    "text": "and longitude minus pi too. ",
    "start": "3969770",
    "end": "3976840"
  },
  {
    "text": "So we could divide this up. We could have a random\nnumber generator that goes between minus pi\nand plus pi and one that",
    "start": "3976840",
    "end": "3983619"
  },
  {
    "text": "goes between minus pi over 2\nand plus pi over 2 uniform. And of course, we'd have\nexactly the same problem",
    "start": "3983620",
    "end": "3989619"
  },
  {
    "text": "because we're going to\nsample the polar region more strongly than the other region.",
    "start": "3989620",
    "end": "3995530"
  },
  {
    "text": "So that's not very good. So how to solve that? Well, the trouble is, we\ngot this curved surface.",
    "start": "3995530",
    "end": "4002850"
  },
  {
    "text": "If we had a Cartesian world,\nit would be easy to sample. If I have a cube, I can just\nhave a uniform distribution",
    "start": "4002850",
    "end": "4015280"
  },
  {
    "text": "in x, a uniform distribution in\ny, uniform distribution in z. And I call a random number\ngenerator three times.",
    "start": "4015280",
    "end": "4021640"
  },
  {
    "text": "I have a point in that space. And if I do this a\nlot, I don't expect",
    "start": "4021640",
    "end": "4027610"
  },
  {
    "text": "there to be aggregation,\nsystematic clumping,",
    "start": "4027610",
    "end": "4033220"
  },
  {
    "text": "as we have in the\ncase of the sphere. So how to go from this to that?",
    "start": "4033220",
    "end": "4039470"
  },
  {
    "text": "Well, one thing to do is to\ninscribe a sphere in the cube",
    "start": "4039470",
    "end": "4046580"
  },
  {
    "text": "and then somehow map the\ncube onto the sphere.",
    "start": "4046580",
    "end": "4051650"
  },
  {
    "text": " So one way to do that would\nbe to imagine the origins",
    "start": "4051650",
    "end": "4059360"
  },
  {
    "text": "at the very center\nof this thing. And any point on the\nsphere, we draw a line, and then we find where\nit intersects the sphere.",
    "start": "4059360",
    "end": "4067820"
  },
  {
    "text": "At any point in the cube,\nwe sample-- and that point could be inside the sphere.",
    "start": "4067820",
    "end": "4074820"
  },
  {
    "text": "So if it's inside the\nsphere, we draw that line, and we project it out to\nthe sphere in this case.",
    "start": "4074820",
    "end": "4082790"
  },
  {
    "text": "So to be clear, again,\nwe just have uniform, like most languages\ngive you the ability",
    "start": "4082790",
    "end": "4088730"
  },
  {
    "text": "to generate uniform random\nnumbers between 0 and 1. You just map them onto that\ninterval in x, and then",
    "start": "4088730",
    "end": "4095210"
  },
  {
    "text": "another one interval in y,\nanother one interval in z. There is a point in 3D. And you have to reduce it\nto the surface of a sphere",
    "start": "4095210",
    "end": "4103068"
  },
  {
    "text": "while you just normalize. So you have a three vector. You just take the unit\nvector version of that,",
    "start": "4103069",
    "end": "4108528"
  },
  {
    "text": "and you're done. So does that give me\na uniform distribution on the surface of the sphere?",
    "start": "4108529",
    "end": "4114200"
  },
  {
    "text": "No, OK, so we have\nsome head shaking. And that's because, well,\nthe cube has these corners.",
    "start": "4114200",
    "end": "4123410"
  },
  {
    "text": "And so there will be a\nhigher density of points in the directions of\nthe corners then there",
    "start": "4123410",
    "end": "4129979"
  },
  {
    "text": "will be where the sphere\nis tangent to the cube.",
    "start": "4129979",
    "end": "4137359"
  },
  {
    "text": "It's better, though. This one's only off by-- I forget-- a factor of 4 over\npi, I think, or pi over 3--",
    "start": "4137359",
    "end": "4148210"
  },
  {
    "text": "no-- 4 over pi. So this isn't too bad. So how can you do better?",
    "start": "4148210",
    "end": "4154580"
  },
  {
    "text": "How can you take\nthis idea and fix it so that you don't have\nthe corner problem?",
    "start": "4154580",
    "end": "4160603"
  },
  {
    "text": "AUDIENCE: Tessellate the shapes. BERTHOLD HORN:\nTessellate the shapes-- yeah, we could tessellate the\nsurface of the sphere using",
    "start": "4160603",
    "end": "4166670"
  },
  {
    "text": "regular solids, the\nmagic things that Plato organized his society about.",
    "start": "4166670",
    "end": "4174020"
  },
  {
    "text": "That's certainly\na good approach. ",
    "start": "4174020",
    "end": "4179670"
  },
  {
    "text": "Is there some way of\ndiscarding some of these points that we are generating here?",
    "start": "4179670",
    "end": "4186790"
  },
  {
    "text": "OK, so counteracting\nthis aggregation in the other corners, we\ncould introduce some weight.",
    "start": "4186790",
    "end": "4193180"
  },
  {
    "text": "And for example, if we\ncould give the points when projected a\nweight, we could just",
    "start": "4193180",
    "end": "4198430"
  },
  {
    "text": "make it inversely\nproportional to the radius. So if we're far out, then--",
    "start": "4198430",
    "end": "4205390"
  },
  {
    "text": "so that's a good idea. Another idea is to say,\nwell, we could just",
    "start": "4205390",
    "end": "4213730"
  },
  {
    "text": "throw away all the points\nthat are outside the sphere. And then, we have a\nrandom distribution",
    "start": "4213730",
    "end": "4219070"
  },
  {
    "text": "of points in a sphere. So we, again, we generate\npoints in the cube.",
    "start": "4219070",
    "end": "4224800"
  },
  {
    "text": "But then, we check whether\ntheir radius is bigger than 1. And if it's bigger than\n1, we chuck it out.",
    "start": "4224800",
    "end": "4230420"
  },
  {
    "text": "And it has a disadvantage that\nyou're not generating points at a fixed rate, that\nit costs you more,",
    "start": "4230420",
    "end": "4235690"
  },
  {
    "text": "sometimes, because you have\nto go back and regenerate it, and maybe regenerate it again.",
    "start": "4235690",
    "end": "4240850"
  },
  {
    "text": "So there's a disadvantage. But what happens then?",
    "start": "4240850",
    "end": "4245900"
  },
  {
    "text": "Well, then we have\na uniform sampling of the inside of the sphere. And that's almost good enough.",
    "start": "4245900",
    "end": "4252880"
  },
  {
    "text": "Now, we just need to\nproject all of those points onto the surface of the sphere. And if we want to avoid a\nnasty numerical problem,",
    "start": "4252880",
    "end": "4260590"
  },
  {
    "text": "we might want to also\nthrow away all points that are close to the origin because,\nthen, we might have numbers",
    "start": "4260590",
    "end": "4267910"
  },
  {
    "text": "you're dividing by\nnormalizing the vector to make it a unit vector. You might be dividing by\nsome small number, which",
    "start": "4267910",
    "end": "4274420"
  },
  {
    "text": "is going to introduce\nsome error and biases. So you generate points\nuniform in the cube.",
    "start": "4274420",
    "end": "4282730"
  },
  {
    "text": "You throw away all points\nabove some certain radius. And you throw away all points\nthat are below a small radius--",
    "start": "4282730",
    "end": "4290050"
  },
  {
    "text": "I've drawn it a\nlittle big there-- and then normalize them. And so there's\nyour point sampling",
    "start": "4290050",
    "end": "4298770"
  },
  {
    "text": "of the surface of the sphere. So we may not care\nabout the sphere.",
    "start": "4298770",
    "end": "4303989"
  },
  {
    "text": "But I can't draw this in 4D. But it works exactly\nthe same way, right? If we want to have a\nnice, uniform sampling",
    "start": "4303990",
    "end": "4311490"
  },
  {
    "text": "of 4D space, one way-- a random sampling-- one way\nof doing it is exactly this.",
    "start": "4311490",
    "end": "4317960"
  },
  {
    "text": "We do a four-dimensional\nequivalent of the cube. So we generate four random\nnumbers for x, y, z,",
    "start": "4317960",
    "end": "4325320"
  },
  {
    "text": "and, say, w. And then, we check\nwhether our sum of squares",
    "start": "4325320",
    "end": "4331950"
  },
  {
    "text": "is larger than 1. If so, try again. If not, then we turn them\ninto a unit Quaternion.",
    "start": "4331950",
    "end": "4341190"
  },
  {
    "text": "And that gives us\na very simple way of getting a uniform\nsampling of that space.",
    "start": "4341190",
    "end": "4348195"
  },
  {
    "start": "4348195",
    "end": "4353594"
  },
  {
    "text": "Now, there was mention\nof regular polyhedra. So that's an important\nthing to think about.",
    "start": "4353594",
    "end": "4361040"
  },
  {
    "text": " So what are they? Well, they're\ntetrahedra, they're",
    "start": "4361040",
    "end": "4367284"
  },
  {
    "text": "hexahedra, octahedra,\ndodecahedra, and icosohedra.",
    "start": "4367285",
    "end": "4381160"
  },
  {
    "text": " So these are the\nso-called regular solids,",
    "start": "4381160",
    "end": "4387910"
  },
  {
    "text": "regular polyhedra.  That means that all of\ntheir faces are the same.",
    "start": "4387910",
    "end": "4398160"
  },
  {
    "text": "And those aren't the\nonly objects of interest, but let's start with those. So if we want to sample\nthe surface of the sphere,",
    "start": "4398160",
    "end": "4408949"
  },
  {
    "text": "one other way is\nto project out-- well, these obviously\naren't spheres.",
    "start": "4408950",
    "end": "4415160"
  },
  {
    "text": "But you can imagine them\nplaced at the origin and then projected\nout onto the sphere.",
    "start": "4415160",
    "end": "4420590"
  },
  {
    "text": "And we get great circles\nwherever there's an edge on one of these objects.",
    "start": "4420590",
    "end": "4425640"
  },
  {
    "text": "And so that's a\nway of dividing up the sphere in a\nperfectly regular way.",
    "start": "4425640",
    "end": "4431540"
  },
  {
    "text": "And what's the problem? Well, the only thing is that\nthere aren't too many facets.",
    "start": "4431540",
    "end": "4438989"
  },
  {
    "text": "So tetrahedra, 4, 6, 8, 12, 20.",
    "start": "4438990",
    "end": "4445080"
  },
  {
    "text": "So we're not dividing the\nsphere up very finely. And as Plato\ndiscovered, that's it. There aren't anymore.",
    "start": "4445080",
    "end": "4451870"
  },
  {
    "text": "So that means we\nhave to subdivide. And you might say, well, wait.",
    "start": "4451870",
    "end": "4458700"
  },
  {
    "text": "What happened to\nthe soccer ball? How many faces on a soccer ball? ",
    "start": "4458700",
    "end": "4467090"
  },
  {
    "text": "Ugh, how can people play\ngames and not even know how many-- anyway, 32. So it's a mix of the\ndodecahedron and icosahedron.",
    "start": "4467090",
    "end": "4476510"
  },
  {
    "text": "And it's not in this group\nbecause it's a semi-regular. ",
    "start": "4476510",
    "end": "4483060"
  },
  {
    "text": "So I guess, Plato\ngets credit for these.",
    "start": "4483060",
    "end": "4488220"
  },
  {
    "text": "And Archimedes gets credit\nfor the semi-regular one.",
    "start": "4488220",
    "end": "4494220"
  },
  {
    "text": "And there's a whole bunch\nof, I don't know, 14-- or it depends on how you count.",
    "start": "4494220",
    "end": "4501780"
  },
  {
    "text": "So these objects are all\ntheir own mirror images. But when you get to the\nsemi-regular object,",
    "start": "4501780",
    "end": "4509969"
  },
  {
    "text": "there's one where the mirror\nimage is actually different. In other words, you can't\nrotate it to bring it",
    "start": "4509970",
    "end": "4515190"
  },
  {
    "text": "into alignment with itself. And so if you count\nthat, it's 14.",
    "start": "4515190",
    "end": "4520679"
  },
  {
    "text": "If you don't count\nthat, it's 13. And the soccer ball is somewhere\nin here, the icosadodecahedron.",
    "start": "4520680",
    "end": "4526830"
  },
  {
    "start": "4526830",
    "end": "4532490"
  },
  {
    "text": "So what's the difference? Well, the semi-regular ones\nstill have facets that are",
    "start": "4532490",
    "end": "4538010"
  },
  {
    "text": "regular polygons-- so triangles, squares,\ndodecahedrons, hexagons,",
    "start": "4538010",
    "end": "4545179"
  },
  {
    "text": "et cetera. But you're now allowed to\nhave more than one type.",
    "start": "4545180",
    "end": "4550640"
  },
  {
    "text": "So over here, once you decided\non triangles for the facets-- they all have to be triangles--\nover here, you can have a mix.",
    "start": "4550640",
    "end": "4557960"
  },
  {
    "text": "So the soccer ball is a mix\nof hexagons and five-sided",
    "start": "4557960",
    "end": "4565070"
  },
  {
    "text": "figures. So that gives you\na larger variety.",
    "start": "4565070",
    "end": "4570889"
  },
  {
    "text": "But think about the\nfact that they all have to have the same edge length.",
    "start": "4570890",
    "end": "4577780"
  },
  {
    "text": "So for example, if you\nhad an object where you're",
    "start": "4577780",
    "end": "4585820"
  },
  {
    "text": "mixing triangles and\nsquares, since they have matching edge lengths,\nthe facet area is different.",
    "start": "4585820",
    "end": "4594239"
  },
  {
    "text": "And there's obviously\nsome formula for that, the area of\nregular polygon in terms",
    "start": "4594240",
    "end": "4603630"
  },
  {
    "text": "of the number of edges\nand the edge length. OK, so that means that over\nhere, we had equal cells.",
    "start": "4603630",
    "end": "4610570"
  },
  {
    "text": "And so it made it very easy\nto have a uniform sampling. Over there, it's a little bit\nmore tricky because, now, we've",
    "start": "4610570",
    "end": "4616739"
  },
  {
    "text": "got to deal with the fact\nthat the facets are not equal in area. The good part is that\nthere are more of them.",
    "start": "4616740",
    "end": "4625710"
  },
  {
    "text": "So that's on the sphere in 3D. We're talking about\na sphere in the 4D.",
    "start": "4625710",
    "end": "4634100"
  },
  {
    "text": "And so Plato and Archimedes\ndidn't think too much",
    "start": "4634100",
    "end": "4640340"
  },
  {
    "text": "about those. So we can't resort to them. But those figures come into\nplay again because in 4D, we're",
    "start": "4640340",
    "end": "4651960"
  },
  {
    "text": "talking about rotations. And we we're looking\nfor regular patterns of rotations in this space.",
    "start": "4651960",
    "end": "4659890"
  },
  {
    "text": "And so one way we\ncan think about that is in terms of rotations\nof these objects.",
    "start": "4659890",
    "end": "4667300"
  },
  {
    "text": "So let's just do one\nand see how that goes. So the aim here is, again, to\nfind some methods for uniformly",
    "start": "4667300",
    "end": "4676050"
  },
  {
    "text": "solving the space of\nrotations so that if, say, we do a search-- so we've got this\nobject in the sensor,",
    "start": "4676050",
    "end": "4682710"
  },
  {
    "text": "and we have a model\nin the library, and we're trying to\nfigure out, is there some way of rotating\nthis to bring it",
    "start": "4682710",
    "end": "4688980"
  },
  {
    "text": "into alignment with that? And that could be\npart of recognition, that we have multiple\nobjects in the library.",
    "start": "4688980",
    "end": "4696010"
  },
  {
    "text": "Which of them can we match? But of course, we can't\nmatch them directly. We first have to\nget them rotated.",
    "start": "4696010",
    "end": "4701430"
  },
  {
    "text": "And then, how do we\npick the rotations? Well, to be efficient.",
    "start": "4701430",
    "end": "4706890"
  },
  {
    "text": "We don't want to be sampling\nparts of the rotation space more densely than other parts.",
    "start": "4706890",
    "end": "4711989"
  },
  {
    "text": "That'd be the equivalent\nof spending all the time searching around the poles.",
    "start": "4711990",
    "end": "4717990"
  },
  {
    "text": "And so we're trying\nto find a uniform way of sampling this slightly\nhard to imagine space.",
    "start": "4717990",
    "end": "4725850"
  },
  {
    "text": "But let's start simply\nwith the hexahedron",
    "start": "4725850",
    "end": "4734260"
  },
  {
    "text": "and think about its rotations. ",
    "start": "4734260",
    "end": "4740470"
  },
  {
    "text": "And well, first,\nthere's the identity.",
    "start": "4740470",
    "end": "4745620"
  },
  {
    "text": "So what do I mean by rotations? I mean by rotations that\nyou take the object, then you rotate it, and then the\nfaces line up with the faces,",
    "start": "4745620",
    "end": "4754927"
  },
  {
    "text": "and the edges line\nup with the edges, and the vertices line\nup with the vertices. OK, so the identity-- so\nin terms of Quaternions,",
    "start": "4754928",
    "end": "4764230"
  },
  {
    "text": "that looks like that. It has a 0 vector part\nand a scalar part of 1.",
    "start": "4764230",
    "end": "4770080"
  },
  {
    "text": "Then we can think\nabout a rotation, let's say, about x\nthrough, let's say, pi.",
    "start": "4770080",
    "end": "4778670"
  },
  {
    "text": " And so that's going to be, let's\nsee, cosine pi over 2 is 0.",
    "start": "4778670",
    "end": "4786700"
  },
  {
    "text": "Sine pi over 2 is 1. So that's that Quaternion.",
    "start": "4786700",
    "end": "4792100"
  },
  {
    "text": "So that just turns it 180\ndegrees about the x-axis. ",
    "start": "4792100",
    "end": "4799239"
  },
  {
    "text": "And naturally, I can do\nthe same thing about y. ",
    "start": "4799240",
    "end": "4810020"
  },
  {
    "text": "So I've already got four\ndistinct rotations that line that object up with itself.",
    "start": "4810020",
    "end": "4818420"
  },
  {
    "text": "Well, I don't have to\nrotate 180 degrees. Oh, well, how about\nminus 180 degrees?",
    "start": "4818420",
    "end": "4825083"
  },
  {
    "text": "Well, of course,\nthat's the same, right? So that doesn't add anything. But I could think about\nrotating pi over 2.",
    "start": "4825083",
    "end": "4832190"
  },
  {
    "text": "So let's try that. So pi over 2, that's\ngoing to be cosine",
    "start": "4832190",
    "end": "4837590"
  },
  {
    "text": "of pi over 4, which is\n1 over square root of 2. ",
    "start": "4837590",
    "end": "4846760"
  },
  {
    "text": "So I get that. And now, here, I could\ntalk about minus pi over 2",
    "start": "4846760",
    "end": "4856050"
  },
  {
    "text": "because these two\naren't the same. So this one is not\nthe negative of that because the real part\nhasn't changed sign,",
    "start": "4856050",
    "end": "4864020"
  },
  {
    "text": "whereas with these\nguys, if I flip the sign of x, I get a different\nQuaternion, but remember,",
    "start": "4864020",
    "end": "4872630"
  },
  {
    "text": "minus q is the same\nrotation as plus q. So I flip the sign of that to\nget a different Quaternion,",
    "start": "4872630",
    "end": "4878210"
  },
  {
    "text": "but it's the same rotation.  OK, so I can do this for x,\ny, and then I can do it for z.",
    "start": "4878210",
    "end": "4891030"
  },
  {
    "text": "So I get six of those. I've got four there.",
    "start": "4891030",
    "end": "4897140"
  },
  {
    "text": "So we have 10 rotations,\n10 samples of the space",
    "start": "4897140",
    "end": "4903380"
  },
  {
    "text": "that we're interested in. And so the question\nis, are there more?",
    "start": "4903380",
    "end": "4908989"
  },
  {
    "text": "And there are two\ndifferent ways to proceed. The one is geometrically. Look at the diagram.",
    "start": "4908990",
    "end": "4914750"
  },
  {
    "text": "How many other ways\ncan I rotate it? And the other one\nis to just think",
    "start": "4914750",
    "end": "4921170"
  },
  {
    "text": "of this as an exercise in\nQuaternion multiplication.",
    "start": "4921170",
    "end": "4926400"
  },
  {
    "text": "So let's just do one of those.",
    "start": "4926400",
    "end": "4931630"
  },
  {
    "text": "So for example, I could\npull out of that table. Now, I can try and generate\nthe whole group just",
    "start": "4931630",
    "end": "4939750"
  },
  {
    "text": "by multiplication, take what\nI've got, take two pairs. Let's take-- because\nit's not very interesting",
    "start": "4939750",
    "end": "4947190"
  },
  {
    "text": "taking the identity, but so\nlet's take something else. OK, according to our\nrules for multiplication,",
    "start": "4947190",
    "end": "4953770"
  },
  {
    "text": "I get 0 minus x\ndot y, which is 0.",
    "start": "4953770",
    "end": "4959170"
  },
  {
    "text": "And then we get 0 times x\nplus 0 times y plus x cross y.",
    "start": "4959170",
    "end": "4966489"
  },
  {
    "text": "And so that's 0 and minus z. Hmm-- no.",
    "start": "4966490",
    "end": "4974820"
  },
  {
    "text": "Well, that's already\nin the table, right?  So that doesn't\nadd to the table.",
    "start": "4974820",
    "end": "4982059"
  },
  {
    "text": "So let's take something else. Let's take some of these.",
    "start": "4982060",
    "end": "4987150"
  },
  {
    "text": "1 over the square root of 2, 1,\nx, 1 of the square root of 2,",
    "start": "4987150",
    "end": "4992699"
  },
  {
    "text": "1, y. OK, that's going to\nbe more interesting. 1 times 1 is 1\nminus x that y is 0.",
    "start": "4992700",
    "end": "5001340"
  },
  {
    "text": "And the 1 over square\nof 2 gives us 1/2.",
    "start": "5001340",
    "end": "5006380"
  },
  {
    "text": "And then the vector part\nis 1 times y plus 1 times",
    "start": "5006380",
    "end": "5012139"
  },
  {
    "text": "x plus x cross y.",
    "start": "5012140",
    "end": "5017840"
  },
  {
    "text": " So that's 1/2, 1, and\nplus x hat, y hat, c hat.",
    "start": "5017840",
    "end": "5030960"
  },
  {
    "text": "So that's a new one. So the axis of\nrotation is 1, 1, 1.",
    "start": "5030960",
    "end": "5038550"
  },
  {
    "text": "And if you want to\nmake it a unit vector, it's 1 over the\nsquare root of 3. ",
    "start": "5038550",
    "end": "5045059"
  },
  {
    "text": "And that's not in this table. And the angle is cosine theta\nof a 2 is a 1/2, so let's see.",
    "start": "5045060",
    "end": "5055980"
  },
  {
    "text": "That means theta\nover 2 is pi over 3.",
    "start": "5055980",
    "end": "5062400"
  },
  {
    "text": "So theta is 2 pi over 3. So that's an interesting\nnew rotation.",
    "start": "5062400",
    "end": "5071949"
  },
  {
    "text": "If you look at the\ncube, that corresponds to one of its corners. So we're taking the origin\nand connecting it to a corner,",
    "start": "5071950",
    "end": "5081250"
  },
  {
    "text": "so that's the axis. And we're rotating\nby 120 degrees.",
    "start": "5081250",
    "end": "5087530"
  },
  {
    "text": "And you can see that that's\na rotation of the cube that does bring us back into\nalignment with ourselves.",
    "start": "5087530",
    "end": "5092949"
  },
  {
    "text": "If we rotate 120\ndegrees about that axis, everything falls\nback into place.",
    "start": "5092950",
    "end": "5098390"
  },
  {
    "text": "And so we're just\nabout out of time. But we can proceed two ways.",
    "start": "5098390",
    "end": "5103840"
  },
  {
    "text": "The one is look at that\nexample and some others. And we get a total\nof 24 rotations.",
    "start": "5103840",
    "end": "5111590"
  },
  {
    "text": "Or if we're more mathematically\ninclined, we can go this way. Or it's fun to write a little\nprogram that just implements",
    "start": "5111590",
    "end": "5119750"
  },
  {
    "text": "Quaternion multiplication\nand then builds this table by taking\npair-wise products",
    "start": "5119750",
    "end": "5126320"
  },
  {
    "text": "and seeing whether\nyou get something new. And eventually, you'll run\nout, and you have 24 of them",
    "start": "5126320",
    "end": "5131870"
  },
  {
    "text": "at that point. OK, next time,\nwe'll start talking about relative\norientation, which is more",
    "start": "5131870",
    "end": "5138980"
  },
  {
    "text": "relevant to binocular vision. ",
    "start": "5138980",
    "end": "5147000"
  }
]