[
  {
    "text": "[SQUEAKING]\n[RUSTLING] [CLICKING]",
    "start": "0",
    "end": "9590"
  },
  {
    "text": "DAVID PERREAULT:\nOK, good afternoon. So we now have magnetic\ncomponents, like transformers,",
    "start": "9590",
    "end": "18410"
  },
  {
    "text": "at our disposal. And once we have\ntransformers, there's a lot of interesting things we\ncan do in power converter design",
    "start": "18410",
    "end": "24830"
  },
  {
    "text": "that we couldn't just do\nwith inductors or capacitors. And the material I'm\ngoing to talk about today,",
    "start": "24830",
    "end": "30230"
  },
  {
    "text": "which are nominally called\nisolated converters, is the topic of Principles of\nPower Electronics chapter 7.",
    "start": "30230",
    "end": "39050"
  },
  {
    "text": "And The notion here is, how\ndo we design isolated power",
    "start": "39050",
    "end": "45870"
  },
  {
    "text": "converters? When I say isolated power\nconverters, what do I mean? Well, there's three motivations\nfor an isolated kind of topology",
    "start": "45870",
    "end": "53593"
  },
  {
    "text": "or the kind of topologies we're\ngoing to talk about today. The first is galvanic isolation. ",
    "start": "53593",
    "end": "63770"
  },
  {
    "text": "If I'm going to build\nsomething that's going to plug into the\nwall and power my laptop,",
    "start": "63770",
    "end": "69140"
  },
  {
    "text": "I would really like it that\nif lightning strikes outside, I don't get electrocuted. So what you would\nreally like is some kind",
    "start": "69140",
    "end": "76610"
  },
  {
    "text": "of saturating isolation\nbarrier between you and the actual stuff that's\nconnected to the wall.",
    "start": "76610",
    "end": "82560"
  },
  {
    "text": "And so if you take any laptop\nadapter or computer adapter,",
    "start": "82560",
    "end": "88340"
  },
  {
    "text": "the transformer\nin that basically has thousands of\nvolts of isolation",
    "start": "88340",
    "end": "94481"
  },
  {
    "text": "to protect against something\nlike a lightning strike. And in fact, it has\nat least three layers of isolation built into it, such\nthat if any one of them fails,",
    "start": "94482",
    "end": "102710"
  },
  {
    "text": "you have enough. So that's one\nimportant reason why",
    "start": "102710",
    "end": "108270"
  },
  {
    "text": "you might want physical,\ngalvanic isolation for safety reasons. The second reason that we\noften use transformers,",
    "start": "108270",
    "end": "116970"
  },
  {
    "text": "and whether or not you\nhave galvanic isolation, is for large conversion ratios. ",
    "start": "116970",
    "end": "127619"
  },
  {
    "text": "So if I want to step down or up\n20 to 1, something like that, yeah, I can do that with a\nstraight-up buck converter",
    "start": "127620",
    "end": "134562"
  },
  {
    "text": "or something like that. But it turns out we can\ndo a lot better if we have some voltage and\ncurrent scaling, which",
    "start": "134562",
    "end": "140340"
  },
  {
    "text": "we can do with a transformer. The third reason\nthat's very common",
    "start": "140340",
    "end": "145380"
  },
  {
    "text": "is that we can do\nmultiple outputs. ",
    "start": "145380",
    "end": "151830"
  },
  {
    "text": "So a typical power supply for\nyour computer or something,",
    "start": "151830",
    "end": "157260"
  },
  {
    "text": "maybe you want plus\n12 plus 5 minus 5, so you can supply a whole bunch\nof different stuff at once.",
    "start": "157260",
    "end": "163840"
  },
  {
    "text": "And yeah, you could build\nseparate power converters to do that. But wouldn't it be nice to\nbuild one converter that does it all in a more\ncompact form factor?",
    "start": "163840",
    "end": "171340"
  },
  {
    "text": "And having transformers at\nour disposal lets us do that. And lastly, which I\ndon't put up here,",
    "start": "171340",
    "end": "176890"
  },
  {
    "text": "it turns out it's\njust transformers open up the range of\ntopologies and structures you can put into a converter\nand thereby help you",
    "start": "176890",
    "end": "184480"
  },
  {
    "text": "design some interesting things. So let's take a\nlook at an example--",
    "start": "184480",
    "end": "191620"
  },
  {
    "text": "or we'll take a look\nat two examples today of the kind of things\nyou do with a transformer and a converter.",
    "start": "191620",
    "end": "197090"
  },
  {
    "text": "So if we thought about\nit, a basic converter that we've analyzed\nbefore, if I have Vin,",
    "start": "197090",
    "end": "206440"
  },
  {
    "text": "I might have my switch here,\nand then I'll call this Vout.",
    "start": "206440",
    "end": "214570"
  },
  {
    "start": "214570",
    "end": "220030"
  },
  {
    "text": "And our main energy\nstorage element in this converter\nfor transferring energy is this inductor L.",
    "start": "220030",
    "end": "227870"
  },
  {
    "text": "And we said, if I analyze\nthis converter, the voltage across the inductor L, V sub L,\nhas to have a 0 average balance.",
    "start": "227870",
    "end": "236450"
  },
  {
    "text": "And what we get from that\nis that Vout over Vin is equal to minus D over 1 minus\nD. So it has a negative gain.",
    "start": "236450",
    "end": "248090"
  },
  {
    "text": "The output voltage is negative\nif the input is positive. And I can make the output\nvoltage smaller or larger",
    "start": "248090",
    "end": "254800"
  },
  {
    "text": "in magnitude than\nthe input based on how I select my duty ratio. So OK, I have of AC waveform at\nVL in the middle of my circuit.",
    "start": "254800",
    "end": "267830"
  },
  {
    "text": "I could throw a\ntransformer in there. So what happens if we do that? Suppose I come in and\nI just say, all right,",
    "start": "267830",
    "end": "277300"
  },
  {
    "text": "let me throw a\ntransformer in there. ",
    "start": "277300",
    "end": "282860"
  },
  {
    "text": "So here, I'll put in-- here's V sub L again.",
    "start": "282860",
    "end": "289520"
  },
  {
    "text": "It would help if I had a switch. ",
    "start": "289520",
    "end": "296860"
  },
  {
    "text": "So I'll just throw a\ntransformer in the middle of this circuit, N1 to N2.",
    "start": "296860",
    "end": "309180"
  },
  {
    "text": "And all I've done is\nput a transformer in.",
    "start": "309180",
    "end": "315285"
  },
  {
    "text": " And I'll make this Vout. ",
    "start": "315285",
    "end": "323130"
  },
  {
    "text": "All right, so if I do this,\nhere, I have VL again.",
    "start": "323130",
    "end": "329220"
  },
  {
    "text": "And so what has this thing\ndone to my conversion ratio? Well, if I think about\nit, in the first part",
    "start": "329220",
    "end": "336120"
  },
  {
    "text": "of the cycle, if I look at\nthe average voltage across VL,",
    "start": "336120",
    "end": "342000"
  },
  {
    "text": "I get-- that's equal to D times Vin\nplus 1 minus D times N1 over N2",
    "start": "342000",
    "end": "354320"
  },
  {
    "text": "times Vout is equal to 0.",
    "start": "354320",
    "end": "361520"
  },
  {
    "text": "And if I rearrange this,\nwhat I get is Vout over Vin",
    "start": "361520",
    "end": "367280"
  },
  {
    "text": "is equal to minus D over 1\nminus D times N2 over N1.",
    "start": "367280",
    "end": "377030"
  },
  {
    "text": "So it's the same conversion\nratio that I got up here. But because I put a\ntransform in the middle,",
    "start": "377030",
    "end": "383240"
  },
  {
    "text": "I get this scaling by the\ntransformer turns ratio.",
    "start": "383240",
    "end": "388940"
  },
  {
    "text": "And what that will let me do is\nget a certain voltage conversion ratio that gives me an extra\nway I can scale the output",
    "start": "388940",
    "end": "396590"
  },
  {
    "text": "voltage compared to\nthe input voltage, just fixed scaling that's\nset by the turns ratio. But nonetheless, it lets me pick\nmy duty ratios the way I want.",
    "start": "396590",
    "end": "404360"
  },
  {
    "text": "Any questions about\nthat, rescaling? ",
    "start": "404360",
    "end": "410870"
  },
  {
    "text": "What else can we do here? Well, very conveniently,\nnow, in this case,",
    "start": "410870",
    "end": "416780"
  },
  {
    "text": "in addition to\ngiving me a scaling, it says that now notice that\nthis voltage is not reference at all to this voltage.",
    "start": "416780",
    "end": "424220"
  },
  {
    "text": "So ideally speaking, there's\nno way for current to flow, say, from here to here or\nfrom here directly to here.",
    "start": "424220",
    "end": "430940"
  },
  {
    "text": "So I've got some the potential\nto get galvanic isolation. But it also means that\nthis node and this node",
    "start": "430940",
    "end": "437720"
  },
  {
    "text": "are no longer referenced\nto one another. And I can put my\ngrounds wherever",
    "start": "437720",
    "end": "443060"
  },
  {
    "text": "I choose in this circuit now. So one thing I\nmight choose to do is, if I look at this circuit,\nthe gate drive for this circuit",
    "start": "443060",
    "end": "452860"
  },
  {
    "text": "is referenced like this. I have to generate a\nvoltage with respect to this node to\ndrive this switch.",
    "start": "452860",
    "end": "459580"
  },
  {
    "text": "And that's kind of a\npain because this node is flapping up and\ndown with respect to the negative of my input.",
    "start": "459580",
    "end": "466210"
  },
  {
    "text": "So that's an inconvenient place\nto have to drive the switch. And I've got to usually put\nin a level-shifting gate",
    "start": "466210",
    "end": "473710"
  },
  {
    "text": "drive or a flying gate\ndriver to do that. That adds cost and complexity. Wouldn't it be nice if I could\nput the switch elsewhere?",
    "start": "473710",
    "end": "481310"
  },
  {
    "text": "Well, look, I have\nVin, this structure, and the switch in series.",
    "start": "481310",
    "end": "487310"
  },
  {
    "text": "I could just rearrange that. So perhaps I could\njust simply do this--",
    "start": "487310",
    "end": "492819"
  },
  {
    "text": "Vin-- OK, I'll come along here. And let me just put my\ntransformer and my inductor",
    "start": "492820",
    "end": "498625"
  },
  {
    "text": "first. ",
    "start": "498625",
    "end": "509030"
  },
  {
    "text": "And I'll put the switch here.  So now, this switch, if\nthis is an in channel,",
    "start": "509030",
    "end": "518510"
  },
  {
    "text": "his input is\nreferenced right here. And my gate drive is very\nconvenient to implement.",
    "start": "518510",
    "end": "525190"
  },
  {
    "text": "So that's one nice\nthing I can do. What's another thing\nI could do here?",
    "start": "525190",
    "end": "531980"
  },
  {
    "text": "There's nothing that says\nwhich way this output has to be referenced because,\nin the original circuit,",
    "start": "531980",
    "end": "539360"
  },
  {
    "text": "I was forced to this inversion\nbetween output and input by the orientation\nof the inductor.",
    "start": "539360",
    "end": "546630"
  },
  {
    "text": "Well, here, I could just\nflip this transformer around, if I wanted.",
    "start": "546630",
    "end": "552385"
  },
  {
    "text": "And in fact, I can\nplay the same trick. I could put the diode here\nor I can move it over here. So let me just flip\nthis guy upside down.",
    "start": "552385",
    "end": "559010"
  },
  {
    "text": "So I'll do it like this. Here's one dot. Now, I'll turn this\nupside down and do this.",
    "start": "559010",
    "end": "567243"
  },
  {
    "text": "And I'm going to move\nthe diode through. And I'm going to\ndraw it like this. And I'm going to define a new\noutput voltage, like this.",
    "start": "567243",
    "end": "573880"
  },
  {
    "start": "573880",
    "end": "579110"
  },
  {
    "text": "So what does that do for me? Well, OK, in the first\npart of the cycle,",
    "start": "579110",
    "end": "586230"
  },
  {
    "text": "I put Vin across the input. So I get D Vin is\nacross the inductor.",
    "start": "586230",
    "end": "593790"
  },
  {
    "text": "And when the diode\nis on, now, I'm applying minus Vout\nscaled by N1 over N2.",
    "start": "593790",
    "end": "602820"
  },
  {
    "text": "So I get Din plus 1 minus D\nminus Vout times N1 over N2",
    "start": "602820",
    "end": "616080"
  },
  {
    "text": "equals 0. And this just gives\nme Vout over Vin",
    "start": "616080",
    "end": "623790"
  },
  {
    "text": "is equal to D over 1\nminus D times N2 over N1.",
    "start": "623790",
    "end": "630990"
  },
  {
    "text": "So I've gotten the same\nthing as I did before. But because I was able to flip\nthe way I did the transformer,",
    "start": "630990",
    "end": "639660"
  },
  {
    "text": "I got rid of this negative sign. So if I want a positive\noutput from this converter,",
    "start": "639660",
    "end": "646510"
  },
  {
    "text": "now I can get a positive\noutput relative to the input. If I still want a negative\noutput, no problem.",
    "start": "646510",
    "end": "653440"
  },
  {
    "text": "Nobody ever said I had\nto define Vout this way. I could define a new\nVout inverted from that",
    "start": "653440",
    "end": "658690"
  },
  {
    "text": "and time my output\nreference here. I can reference the output\nand the input to this circuit to different potentials\nand reference it",
    "start": "658690",
    "end": "665410"
  },
  {
    "text": "any way I want because\nit's an isolated converter. And I'm good. So I can get positive outputs.",
    "start": "665410",
    "end": "671959"
  },
  {
    "text": "I can get negative outputs,\nany way I want to do it. Any questions about that? ",
    "start": "671960",
    "end": "679889"
  },
  {
    "text": "Yeah? STUDENT: I guess, how strict\nis the galvanic isolation?",
    "start": "679890",
    "end": "686520"
  },
  {
    "text": "How does that protect\nagainst like induced surge? DAVID PERREAULT: OK,\nso what would happen?",
    "start": "686520",
    "end": "692470"
  },
  {
    "text": "Imagine that lightning\nstrikes your circuit here.",
    "start": "692470",
    "end": "699990"
  },
  {
    "text": "This ground, this node\ngoes crazy because whatever this was tied to had some\nhuge voltage across it.",
    "start": "699990",
    "end": "707160"
  },
  {
    "text": "I'm applying that voltage. Suppose this is the ground\nyou're connected to.",
    "start": "707160",
    "end": "713250"
  },
  {
    "text": "That's applying a voltage here. Ideally, for an\nideal transformer,",
    "start": "713250",
    "end": "718590"
  },
  {
    "text": "that's just an open circuit. No current can flow this way. What would happen in reality?",
    "start": "718590",
    "end": "723960"
  },
  {
    "text": "Maybe if there was a\ndifferential voltage, this transformer would saturate. But whatever happens,\nto the extent",
    "start": "723960",
    "end": "730570"
  },
  {
    "text": "that this acts like\nan ideal transformer, you're not going to get current\nflow from here, through here, back to ground, and through you.",
    "start": "730570",
    "end": "737710"
  },
  {
    "text": "In reality, this isn't perfect.",
    "start": "737710",
    "end": "743780"
  },
  {
    "text": "This ability, the ability\nof the transformer to take voltage\nthis way, depends upon how much\ninsulation you have",
    "start": "743780",
    "end": "749743"
  },
  {
    "text": "between the primary\nand secondary. And that's what's regulated. So it's a few thousand volts\ntypically for a laptop adapter.",
    "start": "749743",
    "end": "755430"
  },
  {
    "text": "And like I said, even if\nyou have a fault on one of those layers of\ninsulation, the other one should be big enough to\nblock a few thousand volts.",
    "start": "755430",
    "end": "763703"
  },
  {
    "text": "That answer the question? ",
    "start": "763703",
    "end": "769693"
  },
  {
    "text": "So the nice thing\nabout the transformer is it lets us reference\nthe output any way we want to the input.",
    "start": "769693",
    "end": "775070"
  },
  {
    "text": "In addition to\ngalvanic isolation, I can change the polarity. All very nice. But wait, there's more.",
    "start": "775070",
    "end": "780800"
  },
  {
    "text": "What else can we do? Well, let's look at this thing. One thing I always have\nto pay attention to",
    "start": "780800",
    "end": "786970"
  },
  {
    "text": "with the transformer\nis the fact that it has some parasitic\nmagnetizing inductance.",
    "start": "786970",
    "end": "793070"
  },
  {
    "text": "I ignored the magnetizing\ninductance in this thing. I treated it like an\nideal transformer. Where would the\nmagnetizing inductance be?",
    "start": "793070",
    "end": "799780"
  },
  {
    "text": "If I referenced\nit to the primary, it would be right\nwhere this inductor is. Well, what says\nthat I can't just",
    "start": "799780",
    "end": "806080"
  },
  {
    "text": "then take this whole thing, OK,\nand build the transformer just",
    "start": "806080",
    "end": "812830"
  },
  {
    "text": "like this. Here's my transformer. And then this L becomes L mu 1.",
    "start": "812830",
    "end": "820810"
  },
  {
    "text": "And this becomes I mu one. And I use my\nmagnetizing inductance",
    "start": "820810",
    "end": "826360"
  },
  {
    "text": "of my transformer as my\nenergy storage element. ",
    "start": "826360",
    "end": "832260"
  },
  {
    "text": "Done this way, this is often\ncalled a flyback converter. ",
    "start": "832260",
    "end": "842160"
  },
  {
    "text": "I believe where the term comes\nfrom is back in olden days when you used to have\na cathode ray tube",
    "start": "842160",
    "end": "847260"
  },
  {
    "text": "and you'd have some really\nhigh voltage causing the cursor",
    "start": "847260",
    "end": "852300"
  },
  {
    "text": "to swing or fly, this\nwas the kind of converter",
    "start": "852300",
    "end": "857620"
  },
  {
    "text": "that was often in that\nbecause it got used to generate the high voltages. So it got into being called\na flyback converter, as far",
    "start": "857620",
    "end": "863420"
  },
  {
    "text": "as I understand it. But a flyback converter\nis essentially just an isolated buck\nboost converter.",
    "start": "863420",
    "end": "870270"
  },
  {
    "text": " How would I design\nthe transformer",
    "start": "870270",
    "end": "876850"
  },
  {
    "text": "for this kind of thing? Well, what we would\nwant to do is now, like an ideal transformer, I\ndon't want any energy storage",
    "start": "876850",
    "end": "883950"
  },
  {
    "text": "in it. The magnetizing, the\nparasitic, I usually want it to be infinite,\nif I can make it that way. But now, keep in mind\nthat, in this converter,",
    "start": "883950",
    "end": "891910"
  },
  {
    "text": "this yellow guy here is\nour energy storage element. So if I'm going to\nstore energy in it,",
    "start": "891910",
    "end": "897820"
  },
  {
    "text": "I usually would like to gap my\nmagnetic structure so that it can efficiently store that\nenergy in a small space",
    "start": "897820",
    "end": "904970"
  },
  {
    "text": "because we put the energy\nstorage in the gap. So the way we might\nbuild a transformer",
    "start": "904970",
    "end": "910240"
  },
  {
    "text": "for this application-- this\nis an ideal transformer. This is an energy\nstorage transformer. So what I might do is I\nmight come up here and say,",
    "start": "910240",
    "end": "917050"
  },
  {
    "text": "OK, I'll build some core,\nbut I'll put a gap in it.",
    "start": "917050",
    "end": "922320"
  },
  {
    "text": "And I'll put N1 one turns here.",
    "start": "922320",
    "end": "929930"
  },
  {
    "text": "And here's V1 and I1.",
    "start": "929930",
    "end": "935089"
  },
  {
    "text": "And then I'll put N2 turns here. ",
    "start": "935090",
    "end": "941140"
  },
  {
    "text": "And I'll have my dock\ngoes this way, the way I've oriented the windings. I'll have V2 and I2 and N2.",
    "start": "941140",
    "end": "950600"
  },
  {
    "text": "And the notion is-- where is the energy\nstored in this?",
    "start": "950600",
    "end": "956220"
  },
  {
    "text": "Well, physically,\nthere's some current in winding 1 and some\ncurrent in winding 2. And between the two of\nthose, they're storing some--",
    "start": "956220",
    "end": "963649"
  },
  {
    "text": "they're having induction\nbetween the two coils. And there's some energy\nstored in the field,",
    "start": "963650",
    "end": "969230"
  },
  {
    "text": "in the H field, which will\nmostly appear in the gap. So maybe there's a\ntiny bit in the core.",
    "start": "969230",
    "end": "975810"
  },
  {
    "text": "And this is H that I'm drawing. But most of my energy\nis stored here.",
    "start": "975810",
    "end": "981860"
  },
  {
    "text": "How is that reflected\nin this circuit diagram? It's reflected in the\nmagnetizing current.",
    "start": "981860",
    "end": "987930"
  },
  {
    "text": "1/2 L mu 1 I mu 1 squared\nreflects the energy stored",
    "start": "987930",
    "end": "994010"
  },
  {
    "text": "in the core and in this\ngap, mostly in the gap. It make sense to everybody?",
    "start": "994010",
    "end": "1001829"
  },
  {
    "text": "So the idea is, if I didn't\nhave a second winding",
    "start": "1001830",
    "end": "1007980"
  },
  {
    "text": "and I had current in here,\nthe current in the winding 1 would be precisely related to\nthe energy stored in the gap.",
    "start": "1007980",
    "end": "1016769"
  },
  {
    "text": "If I had no current in winding 1\nand I had an energy storage gap,",
    "start": "1016770",
    "end": "1021810"
  },
  {
    "text": "I'd have current in this winding\nthat would carry current.",
    "start": "1021810",
    "end": "1027390"
  },
  {
    "text": "And that 1/2 L I squared\nlooked at from this side would represent that energy.",
    "start": "1027390",
    "end": "1033540"
  },
  {
    "text": "So basically, I can think\nof this as an inductor from either side,\nbut it's sort of like an inductor with\nan extra winding.",
    "start": "1033540",
    "end": "1041039"
  },
  {
    "text": "And I can carry current in this\nwinding to match that energy source or I can carry\ncurrent in this winding",
    "start": "1041040",
    "end": "1047050"
  },
  {
    "text": "to match that energy storage. And of course, the\namount of current I need depends on the number of turns.",
    "start": "1047050",
    "end": "1053740"
  },
  {
    "text": "So I can rescale the\namount of current I have. Does that make sense?",
    "start": "1053740",
    "end": "1059070"
  },
  {
    "text": "So what are we going to do? In the first part of the\ncycle in this converter,",
    "start": "1059070",
    "end": "1066282"
  },
  {
    "text": "I turn on this switch. ",
    "start": "1066282",
    "end": "1071434"
  },
  {
    "text": "This magnetizing current\nbasically circulates this way.",
    "start": "1071435",
    "end": "1077730"
  },
  {
    "text": "And I'm applying Vin across\nthe magnetizing inductance. And the current, I mu 1,\nis linearly increasing.",
    "start": "1077730",
    "end": "1085679"
  },
  {
    "text": "So if I plotted I mu 1,\nI mu 1 would linearly",
    "start": "1085680",
    "end": "1094080"
  },
  {
    "text": "increase in the first\npart of the cycle because I'm applying Vin.",
    "start": "1094080",
    "end": "1099910"
  },
  {
    "text": "In I mu 2-- I'm sorry I2, on\nthe secondary side with the diodes\nopen-- so there's",
    "start": "1099910",
    "end": "1105240"
  },
  {
    "text": "no current in the\nsecondary winding. When I turn the switch\noff, if I thought about it,",
    "start": "1105240",
    "end": "1113810"
  },
  {
    "text": "if I look at it, this circuit\nmodel, what's happening is the magnetizing current's\ncirculating out of this dot",
    "start": "1113810",
    "end": "1119950"
  },
  {
    "text": "and into this dot. So there's current\nin the secondary",
    "start": "1119950",
    "end": "1125460"
  },
  {
    "text": "now, which is supporting this\nmagnetizing energy storage.",
    "start": "1125460",
    "end": "1132240"
  },
  {
    "text": "Because of the polarity,\nthe voltage gets applied. And the current\nin the magnetizing",
    "start": "1132240",
    "end": "1137880"
  },
  {
    "text": "inductance ramps down. So this is what I mu looks like.",
    "start": "1137880",
    "end": "1143180"
  },
  {
    "text": "And I'll draw this as I mu 1. And I'm pretending it's a 1 to\n1 turns ratio for the moment.",
    "start": "1143180",
    "end": "1149660"
  },
  {
    "text": "Actually, I mu 1 is always\ngoing to look like this, the magnetizing current. If my winding 1 and winding\n2 had the same turns, what",
    "start": "1149660",
    "end": "1158899"
  },
  {
    "text": "I would see is, in the\nfirst part of the cycle, this would be I1.",
    "start": "1158900",
    "end": "1164779"
  },
  {
    "start": "1164780",
    "end": "1170290"
  },
  {
    "text": "And in the second\npart of the cycle,",
    "start": "1170290",
    "end": "1175570"
  },
  {
    "text": "I would have I2 would\ncarry the current. This would be I2 here.",
    "start": "1175570",
    "end": "1185590"
  },
  {
    "text": "So I've got a continuous\nmagnetizing current and hence continuous energy storage.",
    "start": "1185590",
    "end": "1190620"
  },
  {
    "text": "But I can carry that in the\nfirst part of the cycle. I put energy into\nthe transformer",
    "start": "1190620",
    "end": "1199270"
  },
  {
    "text": "by the first winding. In the second part\nof the cycle, I pull that out of the transformer\nvia the second winding.",
    "start": "1199270",
    "end": "1205780"
  },
  {
    "text": "So it's same kind of operation. I'm just using two separate\nwindings instead of one winding.",
    "start": "1205780",
    "end": "1211820"
  },
  {
    "text": "Questions? Let's see this in action.",
    "start": "1211820",
    "end": "1217020"
  },
  {
    "text": "We actually have a flyback\nconverter for you to see. So Mouncy's kindly\nput this together.",
    "start": "1217020",
    "end": "1223645"
  },
  {
    "text": " And what we're showing\nyou is precisely",
    "start": "1223645",
    "end": "1231130"
  },
  {
    "text": "the two currents in the\ntwo transformer windings.",
    "start": "1231130",
    "end": "1236830"
  },
  {
    "text": "Now, what you're\ngoing to see is, if you see the primary winding\nis channel 1, that's in yellow.",
    "start": "1236830",
    "end": "1244516"
  },
  {
    "text": "And you can see the\ncurrent in primary 1-- the current in the\nprimary is ramping up.",
    "start": "1244516",
    "end": "1249680"
  },
  {
    "text": "That's because I'm storing\nenergy in the magnetizing inductance. And that's at 2\namps per division.",
    "start": "1249680",
    "end": "1254965"
  },
  {
    "text": "In the second part\nof the cycle, we're showing you the purple waveform\nis the current winding 2.",
    "start": "1254965",
    "end": "1262059"
  },
  {
    "text": "And you can see\nit's ramping down. But you notice, that's\n1 amp per division.",
    "start": "1262060",
    "end": "1268340"
  },
  {
    "text": "And the energy in the core-- the energy stored in the\ngap actually is continuous. And it's ramping up\nand ramping down.",
    "start": "1268340",
    "end": "1275059"
  },
  {
    "text": "But it's reflected based on\ndifferent input and output currents. And that's because I can use\na turns ratio, in this case,",
    "start": "1275060",
    "end": "1281420"
  },
  {
    "text": "a 2 to 1 turns ratio\nto help me do that. So we actually can\nget this nice scaling",
    "start": "1281420",
    "end": "1288980"
  },
  {
    "text": "and think of this energy\nstorage transformer as an inductor plus\nan ideal transformer.",
    "start": "1288980",
    "end": "1296620"
  },
  {
    "text": "Questions? Yeah? STUDENT: What's the blue curve?",
    "start": "1296620",
    "end": "1301827"
  },
  {
    "text": "DAVID PERREAULT: The blue curve? I don't actually know\nwhat the blue curve is. STUDENT: Primary voltage. DAVID PERREAULT: That's\nthe primary voltage.",
    "start": "1301827",
    "end": "1306963"
  },
  {
    "text": "Ah, OK. So one thing you would\ntake away from this-- and it's a little\nbit hard to see. And I think there's some\noffset going on in here--",
    "start": "1306963",
    "end": "1316860"
  },
  {
    "text": "is that you have a\npositive and negative. So you have a purely AC voltage\nacross the transformer, which",
    "start": "1316860",
    "end": "1325460"
  },
  {
    "text": "is hard to see because it looks\nlike there's a little offset in that. But it's supposed\nto reflect that you",
    "start": "1325460",
    "end": "1330903"
  },
  {
    "text": "have a positive voltage\nin a part of the cycle and a negative voltage in\nthe other part of the cycle. So when blue is high, the\nmagnetizing current is rising.",
    "start": "1330903",
    "end": "1339940"
  },
  {
    "text": "When blue is low, the\nmagnetizing current is falling. OK, thank you.",
    "start": "1339940",
    "end": "1347230"
  },
  {
    "text": "So that is how we would\nbuild a flyback transformer.",
    "start": "1347230",
    "end": "1353240"
  },
  {
    "text": "It's not like an\nideal transformer. It's an energy\nstorage transformer. So it's more like\nan inductor design.",
    "start": "1353240",
    "end": "1360580"
  },
  {
    "text": "So you want to design it\nwith a gap to make it small. There's a lot of the same\ndesign considerations as",
    "start": "1360580",
    "end": "1367060"
  },
  {
    "text": "for an inductor, but you're\ngoing to have a second winding. And like we said, because\nwe have this nice isolation,",
    "start": "1367060",
    "end": "1375100"
  },
  {
    "text": "I can reference the\nsecondary either for positive or negative\noutput voltages I choose. ",
    "start": "1375100",
    "end": "1382580"
  },
  {
    "text": "We get our nice ground\nreference active switch. The other thing I didn't\nmention is that why would",
    "start": "1382580",
    "end": "1388340"
  },
  {
    "text": "we want this turns ratio? Because it can help us really\ndesign the converter better.",
    "start": "1388340",
    "end": "1394400"
  },
  {
    "text": "Let's suppose I had\na 1-kilowatt design.",
    "start": "1394400",
    "end": "1402560"
  },
  {
    "text": "And what I want is for Vin\nto be 100 volts at 10 amps",
    "start": "1402560",
    "end": "1410630"
  },
  {
    "text": "and Vout to be 10\nvolts at 100 amps.",
    "start": "1410630",
    "end": "1416810"
  },
  {
    "text": "So it's a 10 to 1 step down. ",
    "start": "1416810",
    "end": "1421830"
  },
  {
    "text": "If I tried to do that with\nmy original converter-- and forget about whether\nthis is plus or minus.",
    "start": "1421830",
    "end": "1429460"
  },
  {
    "text": "Suppose that doesn't\nreally matter-- ",
    "start": "1429460",
    "end": "1435000"
  },
  {
    "text": "what would it look like? What would the stress\non the switch look like? Well, for a for buck\nboost, what I'd end up with",
    "start": "1435000",
    "end": "1446460"
  },
  {
    "text": "is V switch and V\ndiode being 110 volts.",
    "start": "1446460",
    "end": "1453779"
  },
  {
    "text": "And I switch and I\ndiode would be 110 amps.",
    "start": "1453780",
    "end": "1459720"
  },
  {
    "text": "So that's more than 10\nKVA of switch rating there",
    "start": "1459720",
    "end": "1464760"
  },
  {
    "text": "and diode rating. On the other hand, suppose\nI designed a flyback",
    "start": "1464760",
    "end": "1471990"
  },
  {
    "text": "and I used a 10\nto 1 transformer. So I'm going to get my scaling--",
    "start": "1471990",
    "end": "1480539"
  },
  {
    "text": "instead of just by using\nsome extreme duty ratio, I'm going to get my scaling by\nputting it into the turns ratio.",
    "start": "1480540",
    "end": "1487860"
  },
  {
    "text": "What does the turns ratio do? That rescales the\nhigh current seen",
    "start": "1487860",
    "end": "1493860"
  },
  {
    "text": "at the secondary to the\nlow current at the primary and the high voltage to the\nprimary seen as a low voltage",
    "start": "1493860",
    "end": "1499140"
  },
  {
    "text": "at the secondary. And what I would get is--\ninstead of the direct sum of the input and\noutput voltages,",
    "start": "1499140",
    "end": "1505830"
  },
  {
    "text": "what I would get is V switch\nwould be equal to 100 volts plus",
    "start": "1505830",
    "end": "1511830"
  },
  {
    "text": "the 10x scaled version\nof the output voltage. So it would be 200 volts.",
    "start": "1511830",
    "end": "1517290"
  },
  {
    "text": "And this would be at 20 amps. Same thing, it would\nthe 10 amps at the input",
    "start": "1517290",
    "end": "1524580"
  },
  {
    "text": "plus the scaled 100 amps\ndown by 10 at the output would give me 20 amps.",
    "start": "1524580",
    "end": "1529950"
  },
  {
    "text": "And V diode would be\n20 volts at 200 amps.",
    "start": "1529950",
    "end": "1541450"
  },
  {
    "text": "So what it's let me do is\ninstead of needing a switch that has both high voltage\nand high current,",
    "start": "1541450",
    "end": "1549510"
  },
  {
    "text": "I get a high voltage,\nlow current switch and a low voltage,\nhigh current diode.",
    "start": "1549510",
    "end": "1555150"
  },
  {
    "text": "And I might be more easily\nable to buy those components. Or at any rate, I can\nchoose my turns ratio",
    "start": "1555150",
    "end": "1561630"
  },
  {
    "text": "to rescale voltages and\ncurrents to be more favorable. If I just thought\nabout in terms of KVA.",
    "start": "1561630",
    "end": "1568889"
  },
  {
    "text": "This is 4 KVA instead\nof 12 KVA or something,",
    "start": "1568890",
    "end": "1574710"
  },
  {
    "text": "So it's much less VA. But it also means I can\ngo pick a high voltage, low current switch and a low\nvoltage, high current diode.",
    "start": "1574710",
    "end": "1584930"
  },
  {
    "text": "And this would be\neasier to source. Any questions about that?",
    "start": "1584930",
    "end": "1591285"
  },
  {
    "text": " So this kind of trick\nthat we basically",
    "start": "1591285",
    "end": "1598360"
  },
  {
    "text": "started with my\nindirect converter, throw a transformer\nin the middle, and we can get something\nthat can perform better",
    "start": "1598360",
    "end": "1605350"
  },
  {
    "text": "is the heart of the idea of\nisolated power conversion. We can do this with\nall kinds of converters",
    "start": "1605350",
    "end": "1613480"
  },
  {
    "text": "and synthesize new ones that\ndon't have a counterpart in the non-isolated regime.",
    "start": "1613480",
    "end": "1620590"
  },
  {
    "text": "Let's take a look\nat another example. Let's think about\na buck converter",
    "start": "1620590",
    "end": "1626919"
  },
  {
    "text": "and play the same game\nwith a buck converter. And that plays out a\nlittle bit differently. But we'll see it has some\nof the same advantages",
    "start": "1626920",
    "end": "1633210"
  },
  {
    "text": "and some different\ndesign trade-offs.",
    "start": "1633210",
    "end": "1639520"
  },
  {
    "text": "Let's think about-- in a buck\nconverter, what do I have? I have an inductor.",
    "start": "1639520",
    "end": "1644770"
  },
  {
    "text": "And this inductor is my\nenergy storage inductor. And here's Vout. ",
    "start": "1644770",
    "end": "1653590"
  },
  {
    "text": "And what I'm really doing is\nI've got some voltage, Vx,",
    "start": "1653590",
    "end": "1661419"
  },
  {
    "text": "that I'm synthesizing here. That's a pulse voltage between\n0 and some other voltage 2",
    "start": "1661420",
    "end": "1671740"
  },
  {
    "text": "that I filter and\nthen get my output. Well, why don't I\nplay the same game?",
    "start": "1671740",
    "end": "1677060"
  },
  {
    "text": "I'm going to throw a transformer\nin the middle of this thing. It turns out I'm going to need\nanother diode here because I",
    "start": "1677060",
    "end": "1687780"
  },
  {
    "text": "cannot apply a non-zero\naverage to this transformer.",
    "start": "1687780",
    "end": "1693540"
  },
  {
    "text": "So I need this diode. It's a new diode. I can play the same game and put\nmy switch as a ground reference",
    "start": "1693540",
    "end": "1700260"
  },
  {
    "text": "here. And so here's Vin. ",
    "start": "1700260",
    "end": "1705299"
  },
  {
    "text": "So what happens? Let me call this N1 to--",
    "start": "1705300",
    "end": "1711049"
  },
  {
    "text": "I'm sorry N1 to N2. So what does Vx look like?",
    "start": "1711050",
    "end": "1716690"
  },
  {
    "text": "When the switch is on--  I'm going to plot Vx.",
    "start": "1716690",
    "end": "1723860"
  },
  {
    "text": "When the switch is on, I'm\napplying Vn at the primary.",
    "start": "1723860",
    "end": "1729590"
  },
  {
    "text": "So let me call this the\nvoltage across the transformer.",
    "start": "1729590",
    "end": "1735080"
  },
  {
    "text": "I get N2 over N1\ntimes V transformer-- or I'll call this\nV21, V transformer 1--",
    "start": "1735080",
    "end": "1741529"
  },
  {
    "text": "N2 over N1 times Vn. This guy is going\nto be turned on. This guy is going\nto be turned off.",
    "start": "1741530",
    "end": "1747750"
  },
  {
    "text": "So I'm going to get this\nvoltage as being N2 over N1 Vn.",
    "start": "1747750",
    "end": "1755870"
  },
  {
    "text": "And then when I turn\nthis switch off, this diode is going\nto turn off, the load",
    "start": "1755870",
    "end": "1762838"
  },
  {
    "text": "is going to carry\nthrough this diode, and Vx is going to go to 0. This is going to be Dt.",
    "start": "1762838",
    "end": "1768010"
  },
  {
    "text": "And that's going\nto last until t. And this is the voltage, Vx.",
    "start": "1768010",
    "end": "1774070"
  },
  {
    "text": "Well, what's the output of Vx? This inductor has to have\nan average voltage of 0.",
    "start": "1774070",
    "end": "1779550"
  },
  {
    "text": "So what I get is V2 has to\nequal D times N2 over N1 Vin.",
    "start": "1779550",
    "end": "1790090"
  },
  {
    "text": "So this is V2-- I'm sorry, Vout is equal\nto N2 over N1 D Vin.",
    "start": "1790090",
    "end": "1802720"
  },
  {
    "text": " So it works just like\na buck converter.",
    "start": "1802720",
    "end": "1809539"
  },
  {
    "text": " And all I've gotten-- or what I've gotten out of\nputting this transformer in here",
    "start": "1809540",
    "end": "1816800"
  },
  {
    "text": "is this scaling. Instead of applying the\ninput voltage directly here through a switch, I'm\napplying a scaled version",
    "start": "1816800",
    "end": "1823940"
  },
  {
    "text": "of the input voltage. And I get this nice rescaling. And I also get the\nelectrical isolation.",
    "start": "1823940",
    "end": "1830190"
  },
  {
    "text": "This port is no longer\nreferenced to this node. So it's some of the\nsame advantages.",
    "start": "1830190",
    "end": "1836916"
  },
  {
    "start": "1836916",
    "end": "1843190"
  },
  {
    "text": "That's great. But notice that I again\nhave a transformer here.",
    "start": "1843190",
    "end": "1849830"
  },
  {
    "text": "And so I better\nthink a little bit carefully about what the\nmagnetizing inductance does.",
    "start": "1849830",
    "end": "1857020"
  },
  {
    "text": "So let me come back\nhere and say, OK, let me",
    "start": "1857020",
    "end": "1862840"
  },
  {
    "text": "put in my magnetizing inductor. So here is L mu 1. ",
    "start": "1862840",
    "end": "1871480"
  },
  {
    "text": "And here's I mu 1. ",
    "start": "1871480",
    "end": "1878539"
  },
  {
    "text": "In the first part of the cycle-- so this is my real\ntransformer model now. ",
    "start": "1878540",
    "end": "1886310"
  },
  {
    "text": "keep in mind, this\ninductor, L mu 1, is not my energy\nstorage element the way",
    "start": "1886310",
    "end": "1893630"
  },
  {
    "text": "it was in this converter. Here, I was using this as\nan energy storage element. Where is my energy storage\nelement in this converter?",
    "start": "1893630",
    "end": "1902660"
  },
  {
    "text": "For energy conversion purposes? STUDENT: By L? DAVID PERREAULT: Yeah,\nit's this inductor.",
    "start": "1902660",
    "end": "1908760"
  },
  {
    "text": "This guy here-- basically, I'm\napplying a positive volt seconds across in the first cycle,\nstoring energy here.",
    "start": "1908760",
    "end": "1915390"
  },
  {
    "text": "In the second part of the\ncycle, I'm taking it out. So this is the energy storage\nI'm using for power conversion.",
    "start": "1915390",
    "end": "1920880"
  },
  {
    "text": "This magnetizing inductance is\npurely a function of the fact",
    "start": "1920880",
    "end": "1926290"
  },
  {
    "text": "that I don't have an\nideal transformer. It has some magnetization to it.",
    "start": "1926290",
    "end": "1931330"
  },
  {
    "text": "So it's a parasitic\nof a transformer. But I better think\nabout what it does.",
    "start": "1931330",
    "end": "1936370"
  },
  {
    "text": "And here's the catch. ",
    "start": "1936370",
    "end": "1943010"
  },
  {
    "text": "I turn on this switch. In the first part\nof the cycle, I'm applying a positive\nvoltage, Vt1 here,",
    "start": "1943010",
    "end": "1948500"
  },
  {
    "text": "which is appearing here, Vt1. That means this magnetizing\ninductance ramping up.",
    "start": "1948500",
    "end": "1955010"
  },
  {
    "text": "The current in the magnetizing\ninductance is ramping up. Well, what happens in the\nsecond part of the cycle?",
    "start": "1955010",
    "end": "1960740"
  },
  {
    "text": "When I turn this switch off,\nin the flyback converter, it circulated out of this\ndoor and into this dot--",
    "start": "1960740",
    "end": "1967669"
  },
  {
    "text": "or I'm sorry-- here, it can't\ndo that because if the current",
    "start": "1967670",
    "end": "1973850"
  },
  {
    "text": "flows here, there's no way\nfor it to flow into here because this diode's here.",
    "start": "1973850",
    "end": "1979309"
  },
  {
    "text": "So suddenly, I better provide\nsome place for this magnetizing",
    "start": "1979310",
    "end": "1984720"
  },
  {
    "text": "current to flow. And another thing I\nbetter think about is, in order for this\ntransformer to work,",
    "start": "1984720",
    "end": "1992880"
  },
  {
    "text": "the average volt seconds I\napply across the transformer better be 0.",
    "start": "1992880",
    "end": "1999560"
  },
  {
    "text": "Otherwise, it won't operate\nin periodic steady state. I have to respect this\ninductor, in terms",
    "start": "1999560",
    "end": "2004960"
  },
  {
    "text": "of its need to have 0\naverage voltage to get to periodic steady state.",
    "start": "2004960",
    "end": "2011626"
  },
  {
    "text": "So what would this look like? Well, let me-- actually, I'm\ngoing to change the color here.",
    "start": "2011626",
    "end": "2017300"
  },
  {
    "text": "Let me call this V mu 1.",
    "start": "2017300",
    "end": "2023830"
  },
  {
    "text": "That's the voltage. So what does that look like? ",
    "start": "2023830",
    "end": "2029000"
  },
  {
    "text": "And then let's think\nabout what the magnetizing current looks like. In the first part of the\ncycle, I turn the switch on.",
    "start": "2029000",
    "end": "2037190"
  },
  {
    "text": "And I'm applying Vin as V mu 1. So here's V mu 1. ",
    "start": "2037190",
    "end": "2045890"
  },
  {
    "text": "And I'm applying Vin.  So what has to happen?",
    "start": "2045890",
    "end": "2051649"
  },
  {
    "text": "In the second part of\nthe cycle, I better do something so that, over\nthe course of the cycle,",
    "start": "2051650",
    "end": "2057469"
  },
  {
    "text": "the average voltage across this\nmagnetizing inductance is 0. Well, I've provided no means for\nthat to happen in this circuit.",
    "start": "2057469",
    "end": "2066789"
  },
  {
    "text": "And probably, if I\nbuilt it this way, unhappy things would happen. So what can I do?",
    "start": "2066790",
    "end": "2072888"
  },
  {
    "text": "I've got to provide some other\nplace for that magnetizing current to flow.",
    "start": "2072889",
    "end": "2078040"
  },
  {
    "text": "And in the process, I need\nto apply a reverse voltage on V mu 1.",
    "start": "2078040",
    "end": "2084030"
  },
  {
    "text": "Now, there's a lot of\nways I could do that. One very popular way is\nto do something like this,",
    "start": "2084030",
    "end": "2090780"
  },
  {
    "text": "is to provide a\nvoltage here and maybe",
    "start": "2090780",
    "end": "2096120"
  },
  {
    "text": "put, say, the equivalent\nof a Zener diode here. And then I will put\na reverse diode here.",
    "start": "2096120",
    "end": "2103240"
  },
  {
    "text": "And so what this does is this\nlets current, this magnetizing current, flow into this orange\npath against some Zener voltage,",
    "start": "2103240",
    "end": "2112110"
  },
  {
    "text": "Vz, and back up here. So this orange path is\nanother path for current",
    "start": "2112110",
    "end": "2117920"
  },
  {
    "text": "to flow through. As a remembrance, I\nmight think of this path",
    "start": "2117920",
    "end": "2128069"
  },
  {
    "text": "that I just added as being equal\nto this, a zener voltage, Vz.",
    "start": "2128070",
    "end": "2136050"
  },
  {
    "text": "So you could think\nof it this way, where the Zener breaks down\nand creates a voltage, Vc,",
    "start": "2136050",
    "end": "2142680"
  },
  {
    "text": "when it's got current\nflowing into it this way. That make sense to everybody?",
    "start": "2142680",
    "end": "2150180"
  },
  {
    "text": "So what would happen\nhere if I did this? When the switch turns off, I\nmu 1 is going to flow this way.",
    "start": "2150180",
    "end": "2158520"
  },
  {
    "text": "And the voltage\nacross the primary is going to go to minus Vz. ",
    "start": "2158520",
    "end": "2169490"
  },
  {
    "text": "And what would happen to the\ncurrent in that magnetizing",
    "start": "2169490",
    "end": "2176790"
  },
  {
    "text": "inductance? So let me plot I mu 1.",
    "start": "2176790",
    "end": "2182550"
  },
  {
    "text": "When I turn on the switch,\nit's going to ramp up. Let's assume it ramps\nup from 0, like this.",
    "start": "2182550",
    "end": "2192050"
  },
  {
    "text": "And then I turn off the switch. This current, the magnetizing\ncurrent, cycles into this.",
    "start": "2192050",
    "end": "2201359"
  },
  {
    "text": "And it ramps down because\nI have a negative voltage. And eventually,\nwhat I would like is for this to hit\n0 at some time.",
    "start": "2201360",
    "end": "2209160"
  },
  {
    "text": "So if this is Dt, and t\nis over here somewhere,",
    "start": "2209160",
    "end": "2216119"
  },
  {
    "text": "when would this happen? This would reach 0 basically\nwhen the average volt seconds--",
    "start": "2216120",
    "end": "2223650"
  },
  {
    "text": "this area equaled this area. Net volt seconds on my\ninductor would be 0.",
    "start": "2223650",
    "end": "2231150"
  },
  {
    "text": "And then it would just stay 0. The current would have gone to\n0 in the magnetizing inductance. And that's fine. And so the transformers are just\nopen circuited at that point.",
    "start": "2231150",
    "end": "2240550"
  },
  {
    "text": "Any questions about that? Yeah? STUDENT: Why did you\nchoose to use Zener diodes and not like one\nfreewheeling diode?",
    "start": "2240550",
    "end": "2248683"
  },
  {
    "text": "DAVID PERREAULT: Zener\ndiodes instead of what? STUDENT: Why would you not\nuse one freewheeling diode instead of the Zener diodes?",
    "start": "2248683",
    "end": "2255030"
  },
  {
    "text": "DAVID PERREAULT: Ah, because-- think about it. A freewheeling diode has\na forward drop that's like 0.7 and a reverse drop.",
    "start": "2255030",
    "end": "2261120"
  },
  {
    "text": "You don't want to try to put\na current through a diode backwards, right? The Zener is designed to\nhold a constant voltage when",
    "start": "2261120",
    "end": "2270150"
  },
  {
    "text": "it's breaking down in reverse. And I might not use a Zener. I might use some other\nelement that can absorb energy",
    "start": "2270150",
    "end": "2278550"
  },
  {
    "text": "in the reverse direction. So I could have replaced it\nwith, for example, a capacitor,",
    "start": "2278550",
    "end": "2290310"
  },
  {
    "text": "and then bled the capacitor\nto Vin, for example.",
    "start": "2290310",
    "end": "2298230"
  },
  {
    "text": "So there's a lot of\ndifferent circuits. Or maybe I should have--",
    "start": "2298230",
    "end": "2303940"
  },
  {
    "text": " maybe I should have\ndrawn it differently.",
    "start": "2303940",
    "end": "2308970"
  },
  {
    "text": "But essentially, there's\na lot of circuits. I've just got to give\nthis current a path to flow into a\nvoltage source that's",
    "start": "2308970",
    "end": "2315170"
  },
  {
    "text": "going to apply enough negative\nvoltage to drive the magnetizing current to 0. A lot of ways I can do that.",
    "start": "2315170",
    "end": "2321450"
  },
  {
    "text": "The Zener was just my model for\nthe easiest one to show you. Does that explain things?",
    "start": "2321450",
    "end": "2328460"
  },
  {
    "text": "Other questions? Yeah? STUDENT: So in this case, is\nthe Zener diode just acting like a sink, like a resistor?",
    "start": "2328460",
    "end": "2335300"
  },
  {
    "text": "DAVID PERREAULT: It's\njust acting like a-- yeah, like a resistor, except\nthat it's a fixed voltage.",
    "start": "2335300",
    "end": "2340550"
  },
  {
    "text": "It clamps it. And the reason I was drawing-- you could replace\nthat with a capacitor,",
    "start": "2340550",
    "end": "2348320"
  },
  {
    "text": "and then bleed that capacitor\nback down to some average value, like Vin.",
    "start": "2348320",
    "end": "2355050"
  },
  {
    "text": "So you could have connected\nit like this, too. You would have needed--",
    "start": "2355050",
    "end": "2361130"
  },
  {
    "text": "sorry, you would have needed a-- you would have still\nneeded a diode there. ",
    "start": "2361130",
    "end": "2373570"
  },
  {
    "text": "I've got to be careful to\nlet this ramp down to 0.",
    "start": "2373570",
    "end": "2378780"
  },
  {
    "text": "What happens if I don't? If I don't, suppose\nI don't apply--",
    "start": "2378780",
    "end": "2384369"
  },
  {
    "text": "suppose I choose too\nlow a Zener voltage. What would happen is,\nin the first cycle, the magnetizing would ramp up.",
    "start": "2384370",
    "end": "2390330"
  },
  {
    "text": "And it'd come\npartly the way down. And then it would ramp up\nand come partly the way down. And it would start\nto walk away on me.",
    "start": "2390330",
    "end": "2396250"
  },
  {
    "text": "And keep in mind, the\nmagnetizing current is proportional to\nthe flux in the core.",
    "start": "2396250",
    "end": "2401490"
  },
  {
    "text": "And eventually, that flux would\nexceed the saturation flux density of the core. And then the core\nwould saturate. And then your converter\nwould blow up.",
    "start": "2401490",
    "end": "2407980"
  },
  {
    "text": "Bad things would happen. So whatever this clamp\nis going to settle to, it's got to settle to\na big enough voltage",
    "start": "2407980",
    "end": "2418950"
  },
  {
    "text": "that it can drive the\nmagnetizing current back to 0",
    "start": "2418950",
    "end": "2426099"
  },
  {
    "text": "each cycle. So what does that say? Well, what is this peak\nmagnetizing current?",
    "start": "2426100",
    "end": "2432395"
  },
  {
    "text": " I mu 1 peak ought\nto be equal to what?",
    "start": "2432395",
    "end": "2440070"
  },
  {
    "text": "Well, V is equal to L dI/dt.  So this would be V1--",
    "start": "2440070",
    "end": "2448930"
  },
  {
    "text": "or Vin dt over L mu 1 is\nthe peak current I hit here.",
    "start": "2448930",
    "end": "2459420"
  },
  {
    "text": "Does that make sense? And lambda 1 is\nequal to L mu 1 I",
    "start": "2459420",
    "end": "2468900"
  },
  {
    "text": "mu 1 is equal to\nN1 B in the core",
    "start": "2468900",
    "end": "2475770"
  },
  {
    "text": "times the cross-sectional\ncore area. Lambda's LI. And it's also NBAC. ",
    "start": "2475770",
    "end": "2483567"
  },
  {
    "text": "So we can calculate the core\nflux, VC, as being equal to--",
    "start": "2483568",
    "end": "2493250"
  },
  {
    "text": "or the peak core flux as being\nL mu 1 I mu 1 over N1 AC.",
    "start": "2493250",
    "end": "2505920"
  },
  {
    "text": "And we've got to\nkeep this peak core flux below the saturation\nflux density of the core.",
    "start": "2505920",
    "end": "2511405"
  },
  {
    "start": "2511405",
    "end": "2518760"
  },
  {
    "text": "Actually, I should\nhave substituted. I could rewrite this\nas Vin dt over N1 AC.",
    "start": "2518760",
    "end": "2528940"
  },
  {
    "text": "That's another way to write it. So what do I need?",
    "start": "2528940",
    "end": "2535500"
  },
  {
    "text": "Well, what I need is-- what's the minimum? Zener voltage. I need to do this?",
    "start": "2535500",
    "end": "2541490"
  },
  {
    "text": " What I need is Vz\ntimes 1 minus D",
    "start": "2541490",
    "end": "2550619"
  },
  {
    "text": "has to be greater\nthan Vin times D,",
    "start": "2550620",
    "end": "2558210"
  },
  {
    "text": "in order for that volt seconds\nto go to 0 because otherwise I won't get enough\nnegative volt seconds",
    "start": "2558210",
    "end": "2564030"
  },
  {
    "text": "to offset the\npositive volt seconds. And that means that Vz has to\nbe greater than or equal to Vin",
    "start": "2564030",
    "end": "2573240"
  },
  {
    "text": "times D over 1 minus D. That\nmake sense to everybody?",
    "start": "2573240",
    "end": "2580770"
  },
  {
    "text": "So what does that say\nabout what happens to the switch in this circuit? Well, if I look at the\ncircuit, the switch--",
    "start": "2580770",
    "end": "2587023"
  },
  {
    "text": " obviously, when\nthe switch is on--",
    "start": "2587023",
    "end": "2595810"
  },
  {
    "text": "if I think about this as being\nVswitch, when the switch is on,",
    "start": "2595810",
    "end": "2601300"
  },
  {
    "text": "he has 0 volts. When the switch is off and\nthe Zener is conducting,",
    "start": "2601300",
    "end": "2606670"
  },
  {
    "text": "he has Vin plus Vz across him. So the peak switch\nvoltage I'm going to get",
    "start": "2606670",
    "end": "2615220"
  },
  {
    "text": "is going to be what?  It's going to be equal\nto Vin plus Vz, which",
    "start": "2615220",
    "end": "2625579"
  },
  {
    "text": "is equal to Vin plus-- let's suppose I use the minimum\nvalue, Vin times D over 1",
    "start": "2625580",
    "end": "2635570"
  },
  {
    "text": "minus D. I could rewrite this\nas Vin times 1 minus D over 1",
    "start": "2635570",
    "end": "2642980"
  },
  {
    "text": "minus D, if I wanted. That's the same thing. And this gives me equal to\nVin over 1 minus D. All right,",
    "start": "2642980",
    "end": "2651109"
  },
  {
    "text": "so if I pick a big\nenough Zener voltage based on this requirement to get\nto the 0 volt seconds balance",
    "start": "2651110",
    "end": "2658910"
  },
  {
    "text": "on my transformer,\nI get this voltage. So if I was at D\nis equal to 0.5,",
    "start": "2658910",
    "end": "2667220"
  },
  {
    "text": "that would give me\nVswitch is equal to 2Vin. If I went up to\na 75% duty ratio,",
    "start": "2667220",
    "end": "2675500"
  },
  {
    "text": "that would give me\nVswitch is equal to 4Vin. That's getting kind of\nugly, My switch voltage",
    "start": "2675500",
    "end": "2683190"
  },
  {
    "text": "is bigger than my input\nvoltage considerably. What would it be if I just\nbuilt a regular buck converter? ",
    "start": "2683190",
    "end": "2691039"
  },
  {
    "text": "Anybody recall that offhand? STUDENT: 1 minus V to the n? DAVID PERREAULT: It\nactually would be just Vn,",
    "start": "2691040",
    "end": "2697060"
  },
  {
    "text": "because, in a normal\nbuck converter, the switch is just\nblocking the input voltage.",
    "start": "2697060",
    "end": "2702220"
  },
  {
    "text": "And the diode is circulating\nin the second part. So it's got the input\nvoltage across it. Here, even a 50% duty ratio\nhas twice the input voltage.",
    "start": "2702220",
    "end": "2709870"
  },
  {
    "text": "It gets worse. It keeps getting worse\nat higher duty ratios. So I'm going to pay a price in\nthe isolated buck converter.",
    "start": "2709870",
    "end": "2722152"
  },
  {
    "text": "And I should have\nmentioned, by the way, an isolated-- this converter\nis called a forward converter.",
    "start": "2722153",
    "end": "2727750"
  },
  {
    "start": "2727750",
    "end": "2734890"
  },
  {
    "text": "And that equals isolated buck. ",
    "start": "2734890",
    "end": "2740410"
  },
  {
    "text": "And I have no idea why it's\ncalled a forward converter, but that's what it's called. ",
    "start": "2740410",
    "end": "2747690"
  },
  {
    "text": "The forward converter\nhas much greater stress. So when I put the transformer\nin the middle of it to give me galvanic\nisolation, suddenly I've",
    "start": "2747690",
    "end": "2753513"
  },
  {
    "text": "paid a penalty in my\ndevice voltage stress. And I've paid that\npenalty because I need to reset the transformer.",
    "start": "2753513",
    "end": "2760440"
  },
  {
    "text": "And that's a different trade-off\ncompared to this design",
    "start": "2760440",
    "end": "2766140"
  },
  {
    "text": "where, coincidentally or not,\nthe magnetizing inductance turned out to be just the\nenergy storage element I wanted.",
    "start": "2766140",
    "end": "2773760"
  },
  {
    "text": "Here, the transformer is\nnot doing me any favors. It's just there\nbecause that's what",
    "start": "2773760",
    "end": "2779250"
  },
  {
    "text": "I need to get the isolation. I've got to pay for that. Yeah, Jack? STUDENT: Would you use the core\nconverter or the buck converter?",
    "start": "2779250",
    "end": "2787092"
  },
  {
    "text": "DAVID PERREAULT: Ah, that's\na very good question. That comes back to--",
    "start": "2787092",
    "end": "2793319"
  },
  {
    "text": "and we'll talk more about this. That comes back\nto how big it is. So we're going to\ncome back to this.",
    "start": "2793320",
    "end": "2799540"
  },
  {
    "text": "But remember, a buck converter\nis a direct converter and has very low\nstress on its switches",
    "start": "2799540",
    "end": "2805859"
  },
  {
    "text": "and low energy storage\nin its components. The flyback converter is based\non an indirect topology, which",
    "start": "2805860",
    "end": "2813450"
  },
  {
    "text": "has lots of energy storage. So it turns out that, depending\nupon the design regime,",
    "start": "2813450",
    "end": "2818850"
  },
  {
    "text": "a forward converter can\nactually be a lot smaller because the magnets-- keep in mind, this\ntransformer doesn't really",
    "start": "2818850",
    "end": "2825280"
  },
  {
    "text": "need to store any energy. The only real energy\nstorage element, which is the\nsize-limiting element, ought to be that inductor.",
    "start": "2825280",
    "end": "2831160"
  },
  {
    "text": "And that inductor is smaller\nthan this flyback transformer. So you'd pick it\nfor the same reason",
    "start": "2831160",
    "end": "2838990"
  },
  {
    "text": "you might do a buck converter\ninstead of a buck boost",
    "start": "2838990",
    "end": "2846420"
  },
  {
    "text": "converter. We'll come back to design\ntrade-offs moving forward, like when might you\nchoose what topology.",
    "start": "2846420",
    "end": "2853650"
  },
  {
    "text": "Great question. Any other questions?  Let me just come back to this\nmeans of resetting the core.",
    "start": "2853650",
    "end": "2865869"
  },
  {
    "text": "So we've reset the core. We have increased voltage\nstress on our switches. The other thing we have\nis increased dissipation",
    "start": "2865870",
    "end": "2871930"
  },
  {
    "text": "because what am I doing here? Every cycle, I'm storing\na little bit of energy",
    "start": "2871930",
    "end": "2877390"
  },
  {
    "text": "in that magnetizing inductance. Magnetizing current ramps. I put energy in the\nmagnetizing inductance.",
    "start": "2877390",
    "end": "2883490"
  },
  {
    "text": "What do I do with that energy? ",
    "start": "2883490",
    "end": "2888750"
  },
  {
    "text": "I dump it into a Zener diode. I throw it away. So I hate throwing away energy.",
    "start": "2888750",
    "end": "2894650"
  },
  {
    "text": "But this circuit,\nthat orange circuit, is throwing away energy. Well, how much energy\ndo I dissipate?",
    "start": "2894650",
    "end": "2901816"
  },
  {
    "text": " And by the way, this\nprocess of driving",
    "start": "2901816",
    "end": "2907940"
  },
  {
    "text": "the magnetizing current back to\n0 is called resetting the core. How much energy do I lose\nin resetting the core back",
    "start": "2907940",
    "end": "2918190"
  },
  {
    "text": "to 0 flux density? Well, that would be 1/2 L mu 1\ntimes I mu 1 quantity squared.",
    "start": "2918190",
    "end": "2929390"
  },
  {
    "text": "So that would be 1/2 L mu 1-- what's I mu 1? I wrote it up there.",
    "start": "2929390",
    "end": "2934950"
  },
  {
    "text": "That's going to be Vin\ndt over L mu 1 squared.",
    "start": "2934950",
    "end": "2944660"
  },
  {
    "text": "This works out to be 1/2 L mu\n1 times Vin squared D squared t",
    "start": "2944660",
    "end": "2956589"
  },
  {
    "text": "squared. And then if I wanted to say\nwhat's the power dissipation, I have to multiply that by\nthe frequency of 1 over t.",
    "start": "2956590",
    "end": "2964960"
  },
  {
    "text": "And what I get is 2 L mu 1\ntimes Vin squared D squared t.",
    "start": "2964960",
    "end": "2974930"
  },
  {
    "text": "So if my t is really small\nor I have a high frequency, I dissipate very little\nenergy in resetting",
    "start": "2974930",
    "end": "2980990"
  },
  {
    "text": "the core for a given size. If my magnetizing\ninductance is big,",
    "start": "2980990",
    "end": "2987050"
  },
  {
    "text": "I don't store much\nenergy in the core, and then I don't dissipate much. So in this design, I would\nlike my magnetizing inductance",
    "start": "2987050",
    "end": "2994700"
  },
  {
    "text": "to be as big as I can. I want this to be as close to\nan ideal transformer as possible in order to reduce the amount\nof energy I store in the core",
    "start": "2994700",
    "end": "3001780"
  },
  {
    "text": "and throw away. Any questions about that? ",
    "start": "3001780",
    "end": "3008330"
  },
  {
    "text": "So just one or two\nfinal points here--",
    "start": "3008330",
    "end": "3013790"
  },
  {
    "text": "of course, I don't like\nthrowing away energy like that. And there's a lot of other\nways that you can not",
    "start": "3013790",
    "end": "3021500"
  },
  {
    "text": "throw that energy away. I put energy in the\nmagnetizing inductance. Maybe I can take it back out.",
    "start": "3021500",
    "end": "3027900"
  },
  {
    "text": "And there's lots of\nways I can do that. One way I might do that-- and\nthere's others in the notes-- is the following.",
    "start": "3027900",
    "end": "3033720"
  },
  {
    "text": "Maybe I do this. I will, in the first\npart of the cycle,",
    "start": "3033720",
    "end": "3049460"
  },
  {
    "text": "apply a positive voltage\nthrough a pair of switches. In the second part of the\ncycle, I'll turn on this.",
    "start": "3049460",
    "end": "3058580"
  },
  {
    "text": "This is Q of t and\nthis is Q of t. So I apply a positive Vin\nacross the transformer,",
    "start": "3058580",
    "end": "3065103"
  },
  {
    "text": "just the way I did up there. In the second part of the\ncycle, the switches turn off and the diodes turn on. And I return the magnetizing\ninductance energy to the input.",
    "start": "3065103",
    "end": "3073940"
  },
  {
    "text": "This can work up to\na duty ratio of 50%. Or I could create\nanother winding.",
    "start": "3073940",
    "end": "3080839"
  },
  {
    "text": "And instead of throwing the\nenergy into a Zener diode, I could throw it\nback to the input. That's another\nway I could do it.",
    "start": "3080840",
    "end": "3086550"
  },
  {
    "text": "So there's lots of ways\nto recover that energy. And the trade-offs\nof how you do that separates different versions\nof the forward converter",
    "start": "3086550",
    "end": "3093750"
  },
  {
    "text": "from one another. So I don't want you to walk\naway with the notion that says, I have to throw away the energy\nstored in the transformer.",
    "start": "3093750",
    "end": "3099150"
  },
  {
    "text": "I don't. I can recover it. But it adds complexity\nand adds some trade-offs.",
    "start": "3099150",
    "end": "3105314"
  },
  {
    "text": "Any final questions? OK, we will pick up isolated\nconverters again next class.",
    "start": "3105314",
    "end": "3112840"
  },
  {
    "text": "Have a great day. ",
    "start": "3112840",
    "end": "3118000"
  }
]