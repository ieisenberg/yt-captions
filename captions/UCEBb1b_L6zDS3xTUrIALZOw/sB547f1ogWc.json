[
  {
    "text": " [SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "5302"
  },
  {
    "text": " DAVID PERREAULT:\nSo I wanted to keep",
    "start": "5302",
    "end": "10510"
  },
  {
    "text": "talking about DC-to-DC\nconverters today and keep talking about the\nimpact of ripple and operating",
    "start": "10510",
    "end": "19869"
  },
  {
    "text": "modes of DC-to-DC converters. So we said-- we did\nsome analysis last time, and what we found is that under\nreasonable approximations,",
    "start": "19870",
    "end": "27939"
  },
  {
    "text": "the inductor current waveforms\nin a PWM DC-to-AC converter",
    "start": "27940",
    "end": "33670"
  },
  {
    "text": "tend to look like some DC value\nplus some triangular ripple.",
    "start": "33670",
    "end": "39260"
  },
  {
    "text": "And the same thing for the\ncapacitor voltage waveforms. And we said that we\ncould represent this kind",
    "start": "39260",
    "end": "46970"
  },
  {
    "text": "of waveform-- sort of a\ntriangle wave with an offset-- as having some DC value\nplus triangular ripple,",
    "start": "46970",
    "end": "56030"
  },
  {
    "text": "where we could find the-- we could define the average\nvalue and then the peak value.",
    "start": "56030",
    "end": "63330"
  },
  {
    "text": "And because of the properties\nof a triangle wave, the peak is right in-- the average is right in the\nmiddle, between the two peaks.",
    "start": "63330",
    "end": "71490"
  },
  {
    "text": "So you swing delta\nx peak to peak over to above the average\nand delta x peak",
    "start": "71490",
    "end": "77090"
  },
  {
    "text": "to peak over to\nbelow the average. And so we can define a ripple\nratio for such a waveform,",
    "start": "77090",
    "end": "84560"
  },
  {
    "text": "a notion of a\npercentage ripple, which we define in this class as\nhalf of the peak-to-peak swing,",
    "start": "84560",
    "end": "91550"
  },
  {
    "text": "or the mean-to-peak swing\nnormalized to the average value.",
    "start": "91550",
    "end": "96630"
  },
  {
    "text": "And one of the nice things\nabout that is we can then-- if I knew the average\nvalue, from our calculations,",
    "start": "96630",
    "end": "102899"
  },
  {
    "text": "I can actually\nfind the peak value as being the average times\n1 plus the ripple ratio. ",
    "start": "102900",
    "end": "110520"
  },
  {
    "text": "If we apply that-- we also talked about the device\nstresses in a direct converter,",
    "start": "110520",
    "end": "120020"
  },
  {
    "text": "such as a buck or\na boost converter, and an indirect converter,\nsuch as the inverting",
    "start": "120020",
    "end": "127700"
  },
  {
    "text": "buck-boost converter. And we had written it as-- for a direct converter, the peak\nswitch voltage, the peak diode",
    "start": "127700",
    "end": "134600"
  },
  {
    "text": "voltage, which is also the\npeak capacitor voltage, is this maximum of V1 and V2\ntimes 1 plus the ripple ratio.",
    "start": "134600",
    "end": "143630"
  },
  {
    "text": "This is the average DC value we\nsee, in terms of the DC value.",
    "start": "143630",
    "end": "148690"
  },
  {
    "text": "Plus, the ripple on\nthe capacitor voltage increases the peak voltage,\nas we see, a little bit.",
    "start": "148690",
    "end": "154180"
  },
  {
    "text": "And likewise, we can talk about\nthe switch current and the diode",
    "start": "154180",
    "end": "159310"
  },
  {
    "text": "current peak values,\nwhich are related to the maximum of the average\ninput and output currents.",
    "start": "159310",
    "end": "165120"
  },
  {
    "text": "So for a buck converter,\nthe output current is the bigger one, and the\ninput voltage is the bigger one.",
    "start": "165120",
    "end": "171260"
  },
  {
    "text": "But we see peak stresses\nand voltage and current that are related to the maximum\nof the input and output DC",
    "start": "171260",
    "end": "177819"
  },
  {
    "text": "waveforms, and the ripple. Then we looked, also, at\nthis indirect converter.",
    "start": "177820",
    "end": "184219"
  },
  {
    "text": "And we found the\ndifference is instead of seeing the maximum\nof the input and output, we see the sum of the input and\noutput currents and voltages.",
    "start": "184220",
    "end": "192140"
  },
  {
    "text": "So this tells us, no matter\nwhat, for a given conversion ratio of V1V2,\nI1I2, we're always",
    "start": "192140",
    "end": "199055"
  },
  {
    "text": "going to have higher stresses in\nan indirect converter compared to a direct converter. And that makes sense because\nof how we're processing energy",
    "start": "199055",
    "end": "206060"
  },
  {
    "text": "through the converter. The indirect converter--\nyou're basically storing all of the energy in\nthe middle of the converter.",
    "start": "206060",
    "end": "211400"
  },
  {
    "text": "And in the direct\nconverter, you're some of it gets to flow\nright through the converter, and you can take\nadvantage of that.",
    "start": "211400",
    "end": "218270"
  },
  {
    "text": "So this is just a quick\nreview of the conclusions we came to last time. Any questions about this so far?",
    "start": "218270",
    "end": "223915"
  },
  {
    "text": " The other thing we did\nwas then we took that",
    "start": "223915",
    "end": "232490"
  },
  {
    "text": "and we said, OK, well,\nI know that my inductor current, for example, has\nsome triangular ripple on it,",
    "start": "232490",
    "end": "239540"
  },
  {
    "text": "So this IL looks like some\naverage value and some ripple,",
    "start": "239540",
    "end": "245180"
  },
  {
    "text": "And we could\ncalculate-- if I wanted to limit my peak-to-peak\ninductor current ripple",
    "start": "245180",
    "end": "251719"
  },
  {
    "text": "below some value, because\nthat's my input ripple current, or my peak-to-peak\noutput voltage",
    "start": "251720",
    "end": "258290"
  },
  {
    "text": "ripple below a certain\nvalue, I can come up with minimum capacitor\nand inductor values",
    "start": "258290",
    "end": "264360"
  },
  {
    "text": "to do that that are related\nto the conversion ratio. And I expressed it here in terms\nof the allowed ripple ratio",
    "start": "264360",
    "end": "272790"
  },
  {
    "text": "of the designs. So now we have a means to start\nsizing inductors and capacitors,",
    "start": "272790",
    "end": "279840"
  },
  {
    "text": "We can't practically\nuse nearly infinite ones because they get too\nbig and expensive. If you have too small a one,\nyou get too much ripple,",
    "start": "279840",
    "end": "287430"
  },
  {
    "text": "and bad things happen. And so the question is, how\ndo you pick those values? And one of the things that\nyou use to pick those values",
    "start": "287430",
    "end": "293190"
  },
  {
    "text": "is some of notion of an\nallowable ripple, which we could express in terms\nof peak-to-peak ripple,",
    "start": "293190",
    "end": "298800"
  },
  {
    "text": "or we could express it in\nterms of ripple ratios. Typically, in this\nexample, you're",
    "start": "298800",
    "end": "306479"
  },
  {
    "text": "not usually allowed very much\nripple ratio on the capacitor because if you want\na DC output voltage,",
    "start": "306480",
    "end": "314849"
  },
  {
    "text": "you can't have 10% ripple\nin your output voltage. That would usually be bad. So maybe that's a\npercent or something.",
    "start": "314850",
    "end": "320860"
  },
  {
    "text": "It depends on your\nspecifications. Inductor current ripple--\nmaybe a bit more is acceptable.",
    "start": "320860",
    "end": "327410"
  },
  {
    "text": "Maybe you could have 25%\nripple in that current, especially if you add on another\ncapacitor to help you filter it",
    "start": "327410",
    "end": "333790"
  },
  {
    "text": "back here. So there's the notion of sizing.",
    "start": "333790",
    "end": "340470"
  },
  {
    "text": "And we'll talk about--\nthis is one way you can start to pick your\ninductor and capacitor",
    "start": "340470",
    "end": "345840"
  },
  {
    "text": "values based on ripple. There are other factors, too. We said size, So you\ncan figure the biggest",
    "start": "345840",
    "end": "352169"
  },
  {
    "text": "value you can get\nbefore it gets too big is probably a good thing. But also, in terms of\ntransient performance--",
    "start": "352170",
    "end": "358440"
  },
  {
    "text": "the dynamic performance\nof your converter-- we'll talk about that\naspect a little later. But that can also come into\nto how you pick the values.",
    "start": "358440",
    "end": "365392"
  },
  {
    "text": "And the reason I\nmentioned that is because in your\ndesign project, you're going to have to pick\nvalues, and you're going to have to think about\nthese different aspects.",
    "start": "365393",
    "end": "374562"
  },
  {
    "text": "The other thing we said was, OK,\nif I have some minimum values",
    "start": "374562",
    "end": "381990"
  },
  {
    "text": "based on ripple, what does that\nsay about the energy storage requirement of my\ninductor and my capacitor?",
    "start": "381990",
    "end": "389207"
  },
  {
    "text": "And the reason we talk about\nenergy storage requirement is because we ought to-- it's reasonable to expect that\nthe size of your component",
    "start": "389208",
    "end": "397590"
  },
  {
    "text": "is probably monotonic with\nits energy storage capability. It's going to get bigger if\nyou have to store more energy,",
    "start": "397590",
    "end": "404759"
  },
  {
    "text": "usually. There's a complex trade-off\nto design actual--",
    "start": "404760",
    "end": "410520"
  },
  {
    "text": "especially magnetic components. But nonetheless, it's\nreasonable to expect that. And what we can see\nfrom this expression",
    "start": "410520",
    "end": "418259"
  },
  {
    "text": "is that if I looked at the\nenergy stored in the capacitor, it gets bigger if I have\nsmaller ripple ratio.",
    "start": "418260",
    "end": "427530"
  },
  {
    "text": "This factor here\ntends to get big if I make ripple\nratio very small.",
    "start": "427530",
    "end": "435950"
  },
  {
    "text": "It gets bigger proportional\nto the power of my converter needs to handle.",
    "start": "435950",
    "end": "441117"
  },
  {
    "text": "That's kind of reasonable. If I want a kilowatt converter,\nit's going to be physically-- have more energy storage\nthan a 100-watt converter.",
    "start": "441117",
    "end": "448930"
  },
  {
    "text": "It depends on the\nconversion ratio. And in this case, for\na boost converter, a bigger conversion ratio\nis a bigger duty cycle.",
    "start": "448930",
    "end": "456610"
  },
  {
    "text": "So the more voltage\nconversion I'm doing, the more energy storage\nI'm going to need to do it.",
    "start": "456610",
    "end": "462220"
  },
  {
    "text": "And the last thing,\nwhich weighs heavily on a lot of\ndesigners' minds, is--",
    "start": "462220",
    "end": "467979"
  },
  {
    "text": "we expressed it last time in\nterms of the switching period. Here, I'm expressing it in terms\nof the switching frequency.",
    "start": "467980",
    "end": "475540"
  },
  {
    "text": "The energy storage gets smaller\nif I go to a higher switching frequency.",
    "start": "475540",
    "end": "481060"
  },
  {
    "text": "So usually, I'd like to switch\nas fast as I can, commensurate with other constraints, because\nmy energy storage got smaller.",
    "start": "481060",
    "end": "489400"
  },
  {
    "text": "My components will then\nhopefully get smaller. Life is good. So there's been,\nalways, a lot of effort",
    "start": "489400",
    "end": "494590"
  },
  {
    "text": "to go as high as the\nfrequency you can until we run into\nsome other limits, and we'll talk about those\nlimits-- loss being one of them.",
    "start": "494590",
    "end": "502270"
  },
  {
    "text": "And I will say that\neverything we just said about the capacitor we\ncould say in the inductor. And I should note that in\nthis set of lecture notes,",
    "start": "502270",
    "end": "510290"
  },
  {
    "text": "I think I wrote 1\nminus D here, and this should be D, which is correct in\nthe last set of lecture notes.",
    "start": "510290",
    "end": "517419"
  },
  {
    "text": "But nonetheless, the\nsame ideas pertain. Smaller ripple means larger\nenergy storage requirement.",
    "start": "517419",
    "end": "524410"
  },
  {
    "text": "Larger conversion ratio\nmeans larger energy storage requirement. And higher frequency means lower\nenergy storage requirements.",
    "start": "524410",
    "end": "531930"
  },
  {
    "text": "Any questions about that? ",
    "start": "531930",
    "end": "537590"
  },
  {
    "text": "OK. I'd like to keep talking about\nthis notion of conversion",
    "start": "537590",
    "end": "545380"
  },
  {
    "text": "and the ripple you\nsee in your converters because we haven't actually\ngotten to all possible cases",
    "start": "545380",
    "end": "552580"
  },
  {
    "text": "yet. And let's just go think\nabout this boost converter.",
    "start": "552580",
    "end": "557980"
  },
  {
    "text": "And what we'll do is let's think\nabout the inductor current, and I'll think about the\ninductor voltage V sub L here.",
    "start": "557980",
    "end": "566170"
  },
  {
    "text": "So if I'm switching\nmy converter, I'm going to have some switching\nsignal which is driving--",
    "start": "566170",
    "end": "573520"
  },
  {
    "text": "which is telling when this\ngate is turning on and off. So I'll have some\nswitching function.",
    "start": "573520",
    "end": "581319"
  },
  {
    "text": "I'm just doing this. So it's high for some time, DT,\nand then it's low for some time,",
    "start": "581320",
    "end": "588250"
  },
  {
    "text": "and then it's high for\nsome time after a period. And then I can say, OK, well\nwhat is my inductor voltage",
    "start": "588250",
    "end": "596050"
  },
  {
    "text": "do during that time? Well, my inductor\nvoltage is positive at V1",
    "start": "596050",
    "end": "603380"
  },
  {
    "text": "when I turn the switch on. So it looks like\nthis at value V1.",
    "start": "603380",
    "end": "613259"
  },
  {
    "text": "And then when I\nturn the switch off, I have V1 minus V2 across it,\nand I get some negative voltage.",
    "start": "613260",
    "end": "622610"
  },
  {
    "text": "And what we know is that\nin periodic steady state, this area must equal this area.",
    "start": "622610",
    "end": "632450"
  },
  {
    "text": "And this ends up\nbeing V1 minus V2. And if I were to\nplot the current",
    "start": "632450",
    "end": "641360"
  },
  {
    "text": "in the inductor, what would I\nsee over the same time period?",
    "start": "641360",
    "end": "648140"
  },
  {
    "text": "I have some DC value. In the inductor\ncurrent, which is I1.",
    "start": "648140",
    "end": "655829"
  },
  {
    "text": "The DC input current\nhere is the DC current coming from the source.",
    "start": "655830",
    "end": "662220"
  },
  {
    "text": "And that's my average value.",
    "start": "662220",
    "end": "668449"
  },
  {
    "text": "And what we'll have is in\nthe first part of the cycle, I store energy in\nthe inductor, and I get this positive\ntriangular ripple.",
    "start": "668450",
    "end": "674730"
  },
  {
    "text": "And in the second part of the\ncycle I get negative slope, and I have my periodic steady\nstate waveform like this.",
    "start": "674730",
    "end": "683460"
  },
  {
    "text": "And this is delta\nIL, peak to peak.",
    "start": "683460",
    "end": "695460"
  },
  {
    "text": "So that's what our\nwaveforms look like. So let's think about this\nin terms of ripple ratio.",
    "start": "695460",
    "end": "703310"
  },
  {
    "text": "OK, so what do I know? Delta IL, peak to\npeak is equal-- delta",
    "start": "703310",
    "end": "712490"
  },
  {
    "text": "I is V over L delta T. So V\nis V1 divided by L times DT.",
    "start": "712490",
    "end": "724760"
  },
  {
    "text": "So this is an expression\nof how much I rise. I'm applying V1 for time DT,\nso the delta I is V1 over L DT.",
    "start": "724760",
    "end": "731630"
  },
  {
    "text": " What is the input current?",
    "start": "731630",
    "end": "738019"
  },
  {
    "text": "I1. OK, well, what's I1 going to be? Well, the DC output\ncurrent is going",
    "start": "738020",
    "end": "747380"
  },
  {
    "text": "to be V2 divided by\nwhatever this resistor is. So if I wanted I2, I would have\nV2 divided by R. But this is I2.",
    "start": "747380",
    "end": "760810"
  },
  {
    "text": "How does I2 relate to I1? I2 is going to be\nI1 over 1 minus D.",
    "start": "760810",
    "end": "774880"
  },
  {
    "text": "because I1 is bigger than I2. That's just-- this factor is I2.",
    "start": "774880",
    "end": "781830"
  },
  {
    "text": "And then this gives me-- 1 over 1 minus D gives\nme the conversion to I2.",
    "start": "781830",
    "end": "787840"
  },
  {
    "text": "Any question about that?  So then if I were to\nwrite the ripple ratio,",
    "start": "787840",
    "end": "795460"
  },
  {
    "text": "the ripple ratio in the\ninductor in this example is simply equal to delta IL peak\nto peak over 2 divided by IL.",
    "start": "795460",
    "end": "807340"
  },
  {
    "text": "And this is also equal to IL. And so this is going\nto give me V1DT over L.",
    "start": "807340",
    "end": "816480"
  },
  {
    "text": "So this is going to be 2L-- I sub L is V2 R times 1 minus D.",
    "start": "816480",
    "end": "831880"
  },
  {
    "text": "And I can rewrite\nthis in terms of--",
    "start": "831880",
    "end": "840695"
  },
  {
    "text": " I can get rid of V1 and V2 here.",
    "start": "840695",
    "end": "847209"
  },
  {
    "text": "Why? Because V2 is going to\nbe V1 over 1 minus D.",
    "start": "847210",
    "end": "857720"
  },
  {
    "text": "So I could rewrite this as-- V1 over 1 minus D is V2.",
    "start": "857720",
    "end": "863730"
  },
  {
    "text": "Or V2 times 1 minus D is v one. So I could rewrite this as D\ntimes 1 minus D quantity squared",
    "start": "863730",
    "end": "875930"
  },
  {
    "text": "TR over 2L. ",
    "start": "875930",
    "end": "888728"
  },
  {
    "text": "And what does this tell me? Well, this says how--",
    "start": "888728",
    "end": "895880"
  },
  {
    "text": "essentially, I'm asking,\nwhat's this ripple compared to the average\nvalue of my current?",
    "start": "895880",
    "end": "903620"
  },
  {
    "text": "And we can see that the\nripple ratio goes up as what?",
    "start": "903620",
    "end": "910100"
  },
  {
    "text": "It goes up when either R\ngoes up or L goes down.",
    "start": "910100",
    "end": "920209"
  },
  {
    "text": "Those are two things that will\nmake the ripple ratio bigger. And that makes sense.",
    "start": "920210",
    "end": "927580"
  },
  {
    "text": "Making L smaller is going to\nmake the ripple ratio bigger because I have a higher\nripple on the inductor.",
    "start": "927580",
    "end": "934470"
  },
  {
    "text": "Any questions about that? Yeah.",
    "start": "934470",
    "end": "940220"
  },
  {
    "text": "AUDIENCE: The DC\nvalues of the currents are being-- ignoring\nlosses and that. DAVID PERREAULT: The DC values\nof the current ignoring loss?",
    "start": "940220",
    "end": "946450"
  },
  {
    "text": "AUDIENCE: Loss. DAVID PERREAULT:\nYeah, there's no loss. This is a perfect converter. Everything's lossless.",
    "start": "946450",
    "end": "952160"
  },
  {
    "text": "You throw in loss,\nand things happen, Right now, I'm treating\neverything as being perfect. ",
    "start": "952160",
    "end": "960560"
  },
  {
    "text": "So let's start to think\nabout the impact of changing resistance and inductance.",
    "start": "960560",
    "end": "972399"
  },
  {
    "text": "So let me replot this. So let me plot IL again. ",
    "start": "972400",
    "end": "983350"
  },
  {
    "text": "And we said, OK, maybe I\nhave some average value, and I have some ripple that\ndoes this, and so forth.",
    "start": "983350",
    "end": "998624"
  },
  {
    "text": "And this is at some\nresistance value. What would happen if I\nincrease my resistance value?",
    "start": "998624",
    "end": "1006110"
  },
  {
    "text": "Well, up here, I see if I\nincrease my resistance value, I increase the ripple ratio. But how does it change\nthe IL waveforms?",
    "start": "1006110",
    "end": "1013110"
  },
  {
    "text": "This is IL. But if I used a\nbigger resistance value, what might happen\nis it might look like this.",
    "start": "1013110",
    "end": "1020790"
  },
  {
    "text": "I will have some lower current\nto supply the same voltage",
    "start": "1020790",
    "end": "1027470"
  },
  {
    "text": "at the output. If I doubled my resistance,\nI need half the current",
    "start": "1027470",
    "end": "1033560"
  },
  {
    "text": "to get to the same\noutput voltage. If my output current halves,\nmy input current halves.",
    "start": "1033560",
    "end": "1038689"
  },
  {
    "text": "And that means my inductor\ncurrent, on average, halves. So OK-- I reduce the\naverage inductor current,",
    "start": "1038690",
    "end": "1045619"
  },
  {
    "text": "but V1 and V2 have\nstayed the same. And if V1 and V2 have stayed the\nsame, the slope on the ripple",
    "start": "1045619",
    "end": "1052550"
  },
  {
    "text": "has stayed the same. So my inductor current,\nat a higher resistance, might look like this.",
    "start": "1052550",
    "end": "1059690"
  },
  {
    "text": "This is parallel. This is parallel, and so forth. And I get this.",
    "start": "1059690",
    "end": "1065320"
  },
  {
    "text": "So this is IL. This is IL at R small. ",
    "start": "1065320",
    "end": "1072600"
  },
  {
    "text": "This is IL at RL medium. ",
    "start": "1072600",
    "end": "1079350"
  },
  {
    "text": "What would happen if I kept\nincreasing my resistance value? Well, all we saw is the waveform\ndoesn't-- the waveform shape",
    "start": "1079350",
    "end": "1086920"
  },
  {
    "text": "just doesn't change. The average just moves down. The ripple is the\nsame, but the DC value",
    "start": "1086920",
    "end": "1092320"
  },
  {
    "text": "is changing because I need\nmore or less average current to support the output and\nmore or less average power",
    "start": "1092320",
    "end": "1098530"
  },
  {
    "text": "draw to support the output. So eventually, what's\ngoing to happen is we're going to\nget something that--",
    "start": "1098530",
    "end": "1104820"
  },
  {
    "text": "we hit another\nmode of operation. We're going to get something\nwhere it does this.",
    "start": "1104820",
    "end": "1110520"
  },
  {
    "text": "I'm going to turn my\nswitch on, and then it's going to come down\nand then stop.",
    "start": "1110520",
    "end": "1121880"
  },
  {
    "text": "So here, this is supposed\nto be the same DT, and here is the same\nT. But I'm going",
    "start": "1121880",
    "end": "1129170"
  },
  {
    "text": "to get this time period where\nthe current comes down to 0. Now, why am I not drawing the\ncurrent as going negative?",
    "start": "1129170",
    "end": "1134460"
  },
  {
    "text": " I can't really get a negative\ncurrent through the diode,",
    "start": "1134460",
    "end": "1143380"
  },
  {
    "text": "So once the inductor\ncurrent ramps down to zero, the diode is going to turn off,\nwhereas the diode was conducting",
    "start": "1143380",
    "end": "1151750"
  },
  {
    "text": "before. So I could build a converter\nwhere this was an active switch and allowed bidirectional\ncurrent, and people do that.",
    "start": "1151750",
    "end": "1159620"
  },
  {
    "text": "But if I'm going to\nbuild it with a diode, I'm going to get this\nalternative state. So in this alternative\nstate, what do I have?",
    "start": "1159620",
    "end": "1170530"
  },
  {
    "text": "Here, I have the switch on.  Here, I have the diode on.",
    "start": "1170530",
    "end": "1179059"
  },
  {
    "text": "And in this time period,\neverything is off. ",
    "start": "1179060",
    "end": "1185490"
  },
  {
    "text": "So we haven't considered\nthis mode of operation, We always assumed it was either\nthe switch or the diode that",
    "start": "1185490",
    "end": "1190830"
  },
  {
    "text": "was conducting. Now I'm telling you,\nhey, if I make R big--",
    "start": "1190830",
    "end": "1197620"
  },
  {
    "text": " and how big is big? We'll get into that.",
    "start": "1197620",
    "end": "1203630"
  },
  {
    "text": "But if I make RL big\nenough, the average current goes down to the fact\nthat my current ripple is going to make\nme hit 0 current,",
    "start": "1203630",
    "end": "1210309"
  },
  {
    "text": "and I'm going to get\nthis new funny state. Does that make\nsense to everybody?",
    "start": "1210310",
    "end": "1218470"
  },
  {
    "text": "So this is what happens with\nvariations, with resistance. ",
    "start": "1218470",
    "end": "1224980"
  },
  {
    "text": "What happens with\nvariations in inductance? Well, slightly different.",
    "start": "1224980",
    "end": "1232390"
  },
  {
    "text": "Maybe what I have is this. I will have, again,\nsome value, IL.",
    "start": "1232390",
    "end": "1239620"
  },
  {
    "start": "1239620",
    "end": "1244890"
  },
  {
    "text": "Actually, maybe make\nit a little smaller. I have some average value\nIL that I'm generating.",
    "start": "1244890",
    "end": "1250090"
  },
  {
    "text": "And if I have some\nbig inductance-- maybe my ripple is\nsmall, so it does this.",
    "start": "1250090",
    "end": "1256700"
  },
  {
    "text": " So this is IL at L big.",
    "start": "1256700",
    "end": "1266565"
  },
  {
    "text": "I have a big\ninductance in there. The ripple is relatively small. If I got a smaller inductor--",
    "start": "1266565",
    "end": "1272500"
  },
  {
    "text": "I turned off my converter;\nI pull out one inductor; I put in a new inductor\nthat's half the value.",
    "start": "1272500",
    "end": "1278240"
  },
  {
    "text": "What would happen? Well, the ripple would\nincrease, And I would get something that did this.",
    "start": "1278240",
    "end": "1285049"
  },
  {
    "text": "The delta IL peak to peak is\ninversely proportional to L. So my ripple current would--",
    "start": "1285050",
    "end": "1292054"
  },
  {
    "text": "so it's a terrible drawing. My ripple current\nwould increase. ",
    "start": "1292055",
    "end": "1297230"
  },
  {
    "text": "If I turn the\nconverter off and then I put in even a smaller\ninductor, what would happen?",
    "start": "1297230",
    "end": "1302240"
  },
  {
    "text": "If I get a really\nsmall inductor-- I pull out the smallest\ninductor I can find in my kit, maybe I get a waveform\nthat does this.",
    "start": "1302240",
    "end": "1310600"
  },
  {
    "text": "It starts at 0, comes down,\nhits 0, and then stays at 0.",
    "start": "1310600",
    "end": "1317039"
  },
  {
    "text": "So I'm going to get, again, a\ncase where I have the diode on.",
    "start": "1317040",
    "end": "1325590"
  },
  {
    "text": "And then I have-- I'm sorry, I have the switch on. In this case-- and this is\nonly pertaining to this bottom",
    "start": "1325590",
    "end": "1335429"
  },
  {
    "text": "picture-- the diode's on. And then I get a time\nperiod where both are off.",
    "start": "1335430",
    "end": "1341360"
  },
  {
    "text": " And this is a different\nmode of operation.",
    "start": "1341360",
    "end": "1348140"
  },
  {
    "text": " Any questions about that? ",
    "start": "1348140",
    "end": "1358789"
  },
  {
    "text": "This mode of operation is known\nas discontinuous conduction",
    "start": "1358790",
    "end": "1364370"
  },
  {
    "text": "mode. ",
    "start": "1364370",
    "end": "1375910"
  },
  {
    "text": "It's often abbreviated, DCM. Now, when we say,\ndiscontinuous, there's",
    "start": "1375910",
    "end": "1381880"
  },
  {
    "text": "nothing discontinuous about the\ninductor current, obviously. The inductor current is\nalways a continuous waveform.",
    "start": "1381880",
    "end": "1387909"
  },
  {
    "text": "But what it's what's\nmeant by that is it's not continuously flowing\npositive and negative.",
    "start": "1387910",
    "end": "1393789"
  },
  {
    "text": "It has this third state,\nwhere both devices are off. And keep in mind that that's\nall the possible cases because I",
    "start": "1393790",
    "end": "1401500"
  },
  {
    "text": "cannot have a case where both\nthe switch and the diode are on and the voltage is positive. That can't exist.",
    "start": "1401500",
    "end": "1407150"
  },
  {
    "text": "So we exercise all the\nthings that can happen.",
    "start": "1407150",
    "end": "1413780"
  },
  {
    "text": "Any questions about that?  So when does this happen?",
    "start": "1413780",
    "end": "1421330"
  },
  {
    "text": "Well, the ripple ratio-- if I were right at the edge\nof discontinuous conduction,",
    "start": "1421330",
    "end": "1428660"
  },
  {
    "text": "you could imagine\na situation where I pick some intermediate\nvalue of resistance,",
    "start": "1428660",
    "end": "1438000"
  },
  {
    "text": "for example, in this case,\nwhere it does exactly this.",
    "start": "1438000",
    "end": "1443240"
  },
  {
    "text": " Oops, I didn't draw\nthat very well.",
    "start": "1443240",
    "end": "1451660"
  },
  {
    "text": "I'm sitting right at the\nedge, where, yes, my waveforms",
    "start": "1451660",
    "end": "1457660"
  },
  {
    "text": "are continuous. My diode never turns\noff, but only barely so.",
    "start": "1457660",
    "end": "1462950"
  },
  {
    "text": "In that case, the\npeak-to-peak ripple is exactly twice\nthe average current.",
    "start": "1462950",
    "end": "1469870"
  },
  {
    "text": "Or this case is ripple\nratio equal to 1.",
    "start": "1469870",
    "end": "1477940"
  },
  {
    "text": "It's rippling up from 0 to twice\nthe average and back down to 0. It's still a triangle wave.",
    "start": "1477940",
    "end": "1483919"
  },
  {
    "text": "It's not this funny\nclipped triangle wave. It's still a pure triangle wave.",
    "start": "1483920",
    "end": "1489310"
  },
  {
    "text": "And that's exactly the\nripple ratio equal to 1 case. Does that make\nsense to everybody?",
    "start": "1489310",
    "end": "1494830"
  },
  {
    "text": "So what do I get from that? Well, we can come back and\njust calculate what happens.",
    "start": "1494830",
    "end": "1503490"
  },
  {
    "text": "I have my expression for\nripple ratio is equal to 1, so I can write that again here.",
    "start": "1503490",
    "end": "1508870"
  },
  {
    "text": "I get R sub L is equal to D\ntimes 1 minus D quantity squared",
    "start": "1508870",
    "end": "1518050"
  },
  {
    "text": "TR over 2L. ",
    "start": "1518050",
    "end": "1523420"
  },
  {
    "text": "and that's equal to\n1 at the edge of DCM. ",
    "start": "1523420",
    "end": "1531970"
  },
  {
    "text": "That's where I transition\nbetween the two modes. So from this, we can say that\nDCM happens for R is greater",
    "start": "1531970",
    "end": "1543990"
  },
  {
    "text": "than 2L over D times 1 minus D\nquantity squared T or for L is",
    "start": "1543990",
    "end": "1563210"
  },
  {
    "text": "less than D times 1 minus\nD squared T R over 2.",
    "start": "1563210",
    "end": "1573565"
  },
  {
    "text": " This value of L is sometimes\ncalled the critical inductance",
    "start": "1573565",
    "end": "1585280"
  },
  {
    "text": "in the literature. There's nothing very\ncritical about it. But all it's saying is\nif I go out and pick a big inductor,\nbigger than this,",
    "start": "1585280",
    "end": "1592150"
  },
  {
    "text": "for the specified\noperating conditions, I'm not going to run into\ndiscontinuous conduction. ",
    "start": "1592150",
    "end": "1599158"
  },
  {
    "text": "But understand, in a lot of\ncases, for some operating mode, you're going to have to run\ninto discontinuous conduction.",
    "start": "1599158",
    "end": "1606470"
  },
  {
    "text": "Why? Because think about it this way. I have to run for\ndifferent load resistances,",
    "start": "1606470",
    "end": "1614130"
  },
  {
    "text": "Mostly, in a power converter,\nyou build the converter, and then people\nhook loads up to it, and you don't know what\nload they hook up to it.",
    "start": "1614130",
    "end": "1620480"
  },
  {
    "text": "There's some maximum\npower rating, but maybe they want to put very\nlittle load on it sometimes, Maybe sometimes your\nmicroprocessor is running.",
    "start": "1620480",
    "end": "1626610"
  },
  {
    "text": "Maybe sometimes it's not. And so you might have to deal\nwith a very wide range of load",
    "start": "1626610",
    "end": "1633510"
  },
  {
    "text": "currents, up to some maximum. Well, if you have to deal\nwith a very high load resistance or a very low\nload or a light load,",
    "start": "1633510",
    "end": "1641360"
  },
  {
    "text": "that means your average is going\nto come down and down and down. And the only way\nto keep it into CCM would be to use smaller\nand smaller and smaller",
    "start": "1641360",
    "end": "1649070"
  },
  {
    "text": "ripple so you never\nhit that mode. And the only way to do\nthat is to get a bigger and bigger and bigger inductor.",
    "start": "1649070",
    "end": "1654380"
  },
  {
    "text": "But guess what? You've got to run\nat high load, too. And you run into this case where\nsuddenly, if you've done that",
    "start": "1654380",
    "end": "1662450"
  },
  {
    "text": "by a much bigger\ninductor, suddenly you've gotten to the point where\nyou've got a lot of inductor",
    "start": "1662450",
    "end": "1668000"
  },
  {
    "text": "energy storage.  If your ripple ratio\nis small at light load,",
    "start": "1668000",
    "end": "1674490"
  },
  {
    "text": "it's really tiny at high load,\nand this factor will kill you. You just have way\ntoo big a component.",
    "start": "1674490",
    "end": "1680400"
  },
  {
    "text": "So as a practical\nmatter, if you're going to run over a\nreally wide power range, you might have to deal with DCM.",
    "start": "1680400",
    "end": "1686520"
  },
  {
    "text": "So we often design\nour converters for continuous conduction\nmode at full power,",
    "start": "1686520",
    "end": "1692310"
  },
  {
    "text": "but they might go into DCM if\nyou're at very light load power.",
    "start": "1692310",
    "end": "1697880"
  },
  {
    "text": "Any questions about that? ",
    "start": "1697880",
    "end": "1705732"
  },
  {
    "text": "So what can we say about\noperating in this new switch",
    "start": "1705732",
    "end": "1710960"
  },
  {
    "text": "state? Well, let's think about that.",
    "start": "1710960",
    "end": "1717350"
  },
  {
    "text": "What do our waveforms look like? Let's recreate our\nswitching waveforms.",
    "start": "1717350",
    "end": "1722559"
  },
  {
    "text": "We said we were going to have\nsome duty ratio for our switch.",
    "start": "1722560",
    "end": "1728200"
  },
  {
    "text": "And we were always focusing on\nthe duty ratio of the switch. And that's useful in\nCCM because the diode",
    "start": "1728200",
    "end": "1733800"
  },
  {
    "text": "does exactly the opposite\nof what the switch does. But now, if we're going\nto talk about DCM, we can't talk about that.",
    "start": "1733800",
    "end": "1739390"
  },
  {
    "text": "So here's q of T. And q\nof T is doing something.",
    "start": "1739390",
    "end": "1746650"
  },
  {
    "text": "So here's T DT. Here's q of t for the switch.",
    "start": "1746650",
    "end": "1753570"
  },
  {
    "text": "But I might have-- then think, OK, maybe\nwhat I have is some q sub",
    "start": "1753570",
    "end": "1759629"
  },
  {
    "text": "D. This is the switching period\nfor the diode, q sub D of T.",
    "start": "1759630",
    "end": "1770500"
  },
  {
    "text": "The purple waveform tells me\nwhen the diode is on because now I have a time where the switch\nis on, when the diode is on,",
    "start": "1770500",
    "end": "1776440"
  },
  {
    "text": "and when neither are on. And maybe this happens\nfor some time--",
    "start": "1776440",
    "end": "1782230"
  },
  {
    "text": "this time period might be D plus\nD2 times T, so the diode runs",
    "start": "1782230",
    "end": "1790179"
  },
  {
    "text": "with some duty ratio of D2. And to be a DCM,\nD2 is less than 1",
    "start": "1790180",
    "end": "1797799"
  },
  {
    "text": "minus D. Make\nsense to everybody?",
    "start": "1797800",
    "end": "1803790"
  },
  {
    "text": "So-- OK, we have\nthis additional mode. What does the voltage on\nthe inductor look like?",
    "start": "1803790",
    "end": "1813180"
  },
  {
    "text": "We had the voltage\non the inductor here. What does he look like? ",
    "start": "1813180",
    "end": "1822980"
  },
  {
    "text": "Well, in the first part\nof the cycle, he's at V1. ",
    "start": "1822980",
    "end": "1828870"
  },
  {
    "text": "Here's the voltage\non the inductor. He started at V1 in the\nfirst part of the cycle.",
    "start": "1828870",
    "end": "1834960"
  },
  {
    "text": "Then when the switch turns\noff and the diode turns on, he's at V1 minus V2.",
    "start": "1834960",
    "end": "1840720"
  },
  {
    "text": "And then he's on for a\nwhile, until this second time",
    "start": "1840720",
    "end": "1846340"
  },
  {
    "text": "period, D plus D2, ends. What happens if both the\nswitch and the diode are off?",
    "start": "1846340",
    "end": "1854279"
  },
  {
    "text": "Well, if both the switch\nand the diode are off, there's no current\nin the inductor, or there's no DI\nDT in the inductor.",
    "start": "1854280",
    "end": "1860970"
  },
  {
    "text": "If there's no DI\nDT in the inductor, then there can be no\nvoltage across the inductor. And ideally, this voltage\nacross the inductor",
    "start": "1860970",
    "end": "1867870"
  },
  {
    "text": "would have to go to 0. So then I'm going\nto get a time period where the inductor voltage is\n0 until the end of the cycle.",
    "start": "1867870",
    "end": "1876180"
  },
  {
    "text": "So this is the ideal waveforms\nfor a discontinuous conduction",
    "start": "1876180",
    "end": "1886590"
  },
  {
    "text": "mode where I'm\nplotting V sub L of T.",
    "start": "1886590",
    "end": "1891690"
  },
  {
    "text": "And what do I have for periodic\nsteady state requirement? The average voltage across the\ninductor still has to be 0.",
    "start": "1891690",
    "end": "1899260"
  },
  {
    "text": "That means that this area now\nbalances against this area.",
    "start": "1899260",
    "end": "1906080"
  },
  {
    "text": "So the average-- the integral\nof this over the cycle still has to be 0.",
    "start": "1906080",
    "end": "1911200"
  },
  {
    "text": "Does that make\nsense to everybody? ",
    "start": "1911200",
    "end": "1917220"
  },
  {
    "text": "And if I just plotted the\ncurrent to complete everything, in this case, the current\nstarts at 0 and ramps up.",
    "start": "1917220",
    "end": "1930220"
  },
  {
    "text": "And the second part of\nthe cycle, it ramps down, and then it sits at 0 for the\nrest of the cycle until T.",
    "start": "1930220",
    "end": "1937809"
  },
  {
    "text": "And so this is I sub L.",
    "start": "1937810",
    "end": "1942841"
  },
  {
    "text": "So this is what we're\ngoing to have in DCM. ",
    "start": "1942841",
    "end": "1949790"
  },
  {
    "text": "What is the conversion\nratio in DCM? And I say, well, why do I\nhave to ask that question?",
    "start": "1949790",
    "end": "1956110"
  },
  {
    "text": "Because previously, how did\nI find the conversion ratio? The way we got that voltage\nconversion ratio is--",
    "start": "1956110",
    "end": "1962720"
  },
  {
    "text": "what we did was we said that\nV1 DT is actually equal-- has got to be equal to V2\nminus V1 times 1 minus DT.",
    "start": "1962720",
    "end": "1970769"
  },
  {
    "text": "The average voltage\nacross the inductor is 0. But that was based\non this waveform. Our waveforms are now\ndifferent, so now we've",
    "start": "1970770",
    "end": "1977420"
  },
  {
    "text": "got to recalculate it. But we can find the conversion\nratio the same way we do it.",
    "start": "1977420",
    "end": "1984350"
  },
  {
    "text": "We know that the average voltage\nacross the inductor has to be 0. So let's just calculate that.",
    "start": "1984350",
    "end": "1990110"
  },
  {
    "text": "In PSS, what do I get?",
    "start": "1990110",
    "end": "1998470"
  },
  {
    "text": "I get the average voltage across\nthe inductor is equal to 0, and that's got to be equal\nto D times V1 plus D2",
    "start": "1998470",
    "end": "2012880"
  },
  {
    "text": "times V1 minus V2, and\nthat has to equal 0. So what I get is if I\nrearrange this equation-- what",
    "start": "2012880",
    "end": "2020500"
  },
  {
    "text": "I should get is D plus D2\ntimes V1 is equal to D2V2.",
    "start": "2020500",
    "end": "2027583"
  },
  {
    "text": " Or V2 over V1 is equal\nto D plus D2 over D2V1,",
    "start": "2027583",
    "end": "2042730"
  },
  {
    "text": "or D2 plus D over D2, which is\nalso equal to 1 plus D over D2.",
    "start": "2042730",
    "end": "2053060"
  },
  {
    "text": " So that's not exactly an\nanswer in terms of it,",
    "start": "2053060",
    "end": "2060760"
  },
  {
    "text": "because it depends on the\nduty ratio of the switch. But then I got to\ngo figure out what the duty ratio of that\ndiode is going to look like.",
    "start": "2060760",
    "end": "2068559"
  },
  {
    "text": "But what do I know? I know that D2 is less\nthan 1 minus D. Whatever",
    "start": "2068560",
    "end": "2078010"
  },
  {
    "text": "it is, it's less than 1 minus D\nbecause this is the duration D2,",
    "start": "2078010",
    "end": "2083550"
  },
  {
    "text": "or D2T. Right. And that's less than 1 minus DT.",
    "start": "2083550",
    "end": "2089580"
  },
  {
    "text": "So if I took the CCM-- what is it-- this is DCM.",
    "start": "2089580",
    "end": "2097770"
  },
  {
    "text": "What is it in CCM? In CCM, V2 over V1\nis equal to 1 over 1",
    "start": "2097770",
    "end": "2106720"
  },
  {
    "text": "minus D, which I could\nrewrite as 1 minus D plus D",
    "start": "2106720",
    "end": "2113260"
  },
  {
    "text": "over 1 minus D. All I did was add a minus D\nand a plus D in the numerator.",
    "start": "2113260",
    "end": "2121450"
  },
  {
    "text": "And then I could rewrite this\nas 1 plus D over 1 minus D.",
    "start": "2121450",
    "end": "2130524"
  },
  {
    "text": "So here, we can say that\nthe conversion ratio in CCM can be rewritten.",
    "start": "2130524",
    "end": "2136190"
  },
  {
    "text": "It's a less convenient form, but\nit's 1 plus D over 1 minus D. So it's clear for\nany value of D,",
    "start": "2136190",
    "end": "2142880"
  },
  {
    "text": "the conversion ratio is\ngoing to be greater than 1. Here-- because D2 is less\nthan 1 minus D, V2 over V1",
    "start": "2142880",
    "end": "2151920"
  },
  {
    "text": "is bigger in discontinuous\nconduction mode than it would be in\ncontinuous conduction mode. ",
    "start": "2151920",
    "end": "2159010"
  },
  {
    "text": "So what's going to happen is\nfor a given duty ratio, whatever",
    "start": "2159010",
    "end": "2164710"
  },
  {
    "text": "I get for my V2,\nit's going to be bigger than I would get in\ncontinuous conduction mode.",
    "start": "2164710",
    "end": "2170320"
  },
  {
    "text": "The output voltage is going\nto get pumped up a bit. ",
    "start": "2170320",
    "end": "2176204"
  },
  {
    "text": "So I can tell that.  That's pretty straightforward.",
    "start": "2176205",
    "end": "2185490"
  },
  {
    "text": "It's a little bit messy. But we can go figure this\nout because I have the means",
    "start": "2185490",
    "end": "2192420"
  },
  {
    "text": "to calculate what\nD2 is because I know exactly what these\nripple waveforms look like.",
    "start": "2192420",
    "end": "2198600"
  },
  {
    "text": "If I write the\nexact expression-- if I basically eliminate\nD2 from this expression,",
    "start": "2198600",
    "end": "2205050"
  },
  {
    "text": "here's what you get. You get V2 over V1 is equal to\na half plus 1/2 the square root",
    "start": "2205050",
    "end": "2217710"
  },
  {
    "text": "of 1 plus 2D\nsquared RT over 2L--",
    "start": "2217710",
    "end": "2228540"
  },
  {
    "text": "or RT over L, for DCM boost. ",
    "start": "2228540",
    "end": "2236870"
  },
  {
    "text": "So I'm just writing what this\nis for a boost converter.",
    "start": "2236870",
    "end": "2243918"
  },
  {
    "text": "It would be different for\ndifferent kind of converters. This is just an example. But what's the difference?",
    "start": "2243918",
    "end": "2249540"
  },
  {
    "text": "Well, we said,\nlook, if I'm in CCM, the voltage conversion ratio is\njust a function of duty ratio.",
    "start": "2249540",
    "end": "2256829"
  },
  {
    "text": "It doesn't matter\nthe inductance. It doesn't matter\nthe load resistance. It's just going to-- very straightforward\nrelationship.",
    "start": "2256830",
    "end": "2263690"
  },
  {
    "text": "Suddenly, when I get into\nDCM, it depends on everything. It depends on my load resistor. It depends on my\nswitching period.",
    "start": "2263690",
    "end": "2269630"
  },
  {
    "text": "It depends on my inductance. It's a mess. It doesn't mean you can't do it. It's just not a simple\nrelationship anymore.",
    "start": "2269630",
    "end": "2277380"
  },
  {
    "text": "So suddenly, it's a\nlot more complicated",
    "start": "2277380",
    "end": "2283589"
  },
  {
    "text": "than it was in continuous\nconduction mode. And it also affects the\nconverter's dynamics,",
    "start": "2283590",
    "end": "2289530"
  },
  {
    "text": "as we'll see.  Any questions about that?",
    "start": "2289530",
    "end": "2294770"
  },
  {
    "text": " But that said, we\ncan't avoid it. Yeah, go ahead.",
    "start": "2294770",
    "end": "2301200"
  },
  {
    "text": "AUDIENCE: How do we know that\nwe stay in periodic steady state when we go through these\ndifferent modes of operation?",
    "start": "2301200",
    "end": "2307230"
  },
  {
    "text": "DAVID PERREAULT:\nThat's a good question. It's a question of, will it\nreach periodic steady state?",
    "start": "2307230",
    "end": "2314200"
  },
  {
    "text": "That's the same analysis you go\ndo, You can go do this analysis and find out whether it'll end\nup in periodic steady state.",
    "start": "2314200",
    "end": "2323140"
  },
  {
    "text": "It generally will settle-- I mean, because you can\nsolve for these things, the boost converter will end\nup in periodic steady state",
    "start": "2323140",
    "end": "2330730"
  },
  {
    "text": "unless-- suppose I disconnected this\nload resistor in this case.",
    "start": "2330730",
    "end": "2336760"
  },
  {
    "text": "That's equivalent to\nmaking R equal to infinity. If I come over here and I make\nR equal to infinity, V2 over V1",
    "start": "2336760",
    "end": "2349420"
  },
  {
    "text": "goes to infinity. That means it's just going\nto wander off to infinity.",
    "start": "2349420",
    "end": "2355025"
  },
  {
    "text": "The output will wander\noff to infinity. Why would that happen? Because look, this is IL\nin DCM, So every cycle,",
    "start": "2355025",
    "end": "2362040"
  },
  {
    "text": "I take energy out of the\ninput, put it in the inductor, turn off the switch, and that\nenergy goes to the output.",
    "start": "2362040",
    "end": "2369630"
  },
  {
    "text": "And I build up some\nenergy on the capacitor. And the feedback mechanism\nthat gets you to steady state",
    "start": "2369630",
    "end": "2375650"
  },
  {
    "text": "is the resistor drains\nsome of that energy. But if you don't ever\ndrain the energy, this just wanders\noff to infinity.",
    "start": "2375650",
    "end": "2381313"
  },
  {
    "text": "I actually had a\nconverter explode on me once because of that. The electrolytic capacitor\nliterally blew up in my face.",
    "start": "2381313",
    "end": "2388362"
  },
  {
    "text": "AUDIENCE: Were you\nwearing glasses? DAVID PERREAULT: What's that? AUDIENCE: Were you\nwearing glasses? DAVID PERREAULT: You're\ndamn right I was-- I can still see.",
    "start": "2388362",
    "end": "2393725"
  },
  {
    "text": "[LAUGHTER] I always wear glasses when I'm\nworking on a higher powered",
    "start": "2393725",
    "end": "2399892"
  },
  {
    "text": "thing these days. And I should on any\nconverter because literally-- I was looking down to it. And I bumped the connection\nto the load with my elbow,",
    "start": "2399892",
    "end": "2407310"
  },
  {
    "text": "and the capacitor just\nliterally exploded in my face. They often don't\nvent so dramatically.",
    "start": "2407310",
    "end": "2414520"
  },
  {
    "text": "They're not supposed to, but\nin this case, it exploded. So, yes, wearing\nglasses is a good idea",
    "start": "2414520",
    "end": "2421200"
  },
  {
    "text": "in these kind of things. I actually did that this morning\non our demo converter, too, but that's not what happened.",
    "start": "2421200",
    "end": "2427440"
  },
  {
    "text": "But what happened was the\nMOSFET started breaking down.",
    "start": "2427440",
    "end": "2432462"
  },
  {
    "text": "In other words, it\nwould just start dumping energy into the MOSFET,\nwhich isn't good for the MOSFET.",
    "start": "2432462",
    "end": "2437670"
  },
  {
    "text": "So fortunately, I\ndidn't kill the demo because I was being stupid\nby taking off the load. But the point is you\ndon't necessarily",
    "start": "2437670",
    "end": "2443839"
  },
  {
    "text": "have to get to periodic steady\nstate in all converters. And this is an example where you\ncan get to really high voltage. And in fact, if you look\nat little photo flash",
    "start": "2443840",
    "end": "2451070"
  },
  {
    "text": "chargers for those\nlittle cameras that you use at weddings,\nthe actual film cameras,",
    "start": "2451070",
    "end": "2458270"
  },
  {
    "text": "yielding cameras, they often\nuse a boost or a flyback in DCM to charge the output voltage\nup from a volt and a half",
    "start": "2458270",
    "end": "2465859"
  },
  {
    "text": "up to a few 100 volts. Same trick because you can\nget a very large conversion ratios this way.",
    "start": "2465860",
    "end": "2471180"
  },
  {
    "text": " So your DCM is harder to model.",
    "start": "2471180",
    "end": "2478830"
  },
  {
    "text": "How would I think\nabout modeling it? And I'll let Monsi\nstart to set up",
    "start": "2478830",
    "end": "2485349"
  },
  {
    "text": "and roll down screens and stuff. One way I could think about\nthis is the following.",
    "start": "2485350",
    "end": "2495070"
  },
  {
    "text": "Maybe I would think about-- if I looked at my\nconverter here,",
    "start": "2495070",
    "end": "2500619"
  },
  {
    "text": "this is my inductor\ncurrent waveform.  What does my diode current\nwaveform look like--",
    "start": "2500620",
    "end": "2508420"
  },
  {
    "text": "I sub D? ",
    "start": "2508420",
    "end": "2514210"
  },
  {
    "text": "I sub D is 0 in the\nfirst part of the cycle. Then it conducts in the\nsecond part of the cycle,",
    "start": "2514210",
    "end": "2522050"
  },
  {
    "text": "until D plus D2, and then it's\n0 for the rest of the cycle. So this is DT.",
    "start": "2522050",
    "end": "2527690"
  },
  {
    "text": "This is D plus D2,\nT, and so forth. So maybe, I could think\nabout modeling my converter",
    "start": "2527690",
    "end": "2538230"
  },
  {
    "text": "from a control\nperspective as just whatever this current\nID is into the output,",
    "start": "2538230",
    "end": "2543510"
  },
  {
    "text": "So maybe I would\nmodel it by saying, OK, let me think of my converter\nas this current ID, which",
    "start": "2543510",
    "end": "2553470"
  },
  {
    "text": "looks like this--  DT D plus D2 T and\nT, and just repeats--",
    "start": "2553470",
    "end": "2564500"
  },
  {
    "text": " into my output\ncapacitor and resistor.",
    "start": "2564500",
    "end": "2575840"
  },
  {
    "text": "So maybe I would start to\nstart to think of my converter as some sort of\nfunny current source.",
    "start": "2575840",
    "end": "2581990"
  },
  {
    "text": "And maybe I can relate\nthis current source back to the component\nvalues and just start",
    "start": "2581990",
    "end": "2588170"
  },
  {
    "text": "thinking about my converter\nas a current source because that's really\nwhat I've turned it into. I'm going to be squirting\nsome current into that output",
    "start": "2588170",
    "end": "2594272"
  },
  {
    "text": "capacitor every cycle. Well, what does that look like?",
    "start": "2594272",
    "end": "2600260"
  },
  {
    "text": "What I know here is that\nthis current, I peak--",
    "start": "2600260",
    "end": "2606560"
  },
  {
    "text": "I peak is equal to V1DT over\nL. And this time period--",
    "start": "2606560",
    "end": "2618400"
  },
  {
    "text": " let me call this time\nperiod to discharge delta",
    "start": "2618400",
    "end": "2624780"
  },
  {
    "text": "T, which is just D2 T. What do I know?",
    "start": "2624780",
    "end": "2631440"
  },
  {
    "text": "I know that V is\nequal to L DI DT. So delta T is equal\nto D2 T is equal to L",
    "start": "2631440",
    "end": "2643790"
  },
  {
    "text": "I peak divided by\nL I peak divided",
    "start": "2643790",
    "end": "2652220"
  },
  {
    "text": "by V, which is V2 minus V1. ",
    "start": "2652220",
    "end": "2659504"
  },
  {
    "text": "And I can put in I peak here. So that's just going\nto be V1 DT V1DT",
    "start": "2659504",
    "end": "2672860"
  },
  {
    "text": "over L divided by V2 minus V1.",
    "start": "2672860",
    "end": "2678800"
  },
  {
    "text": "That make sense to everybody? And so let me ask, what\nis the average-- what's",
    "start": "2678800",
    "end": "2683850"
  },
  {
    "text": "important over the\nswitching cycle is what's the average\ncurrent that I'm sticking into the output?",
    "start": "2683850",
    "end": "2689740"
  },
  {
    "text": "I should ask, each cycle,\nhow much on average am I squirting into the output?",
    "start": "2689740",
    "end": "2695860"
  },
  {
    "text": "Well, I sub D-- the average\nvalue of I sub D is basically the area there, which would\nbe 1/2 the base of that,",
    "start": "2695860",
    "end": "2705130"
  },
  {
    "text": "which is this delta T,\nV1D2 over V2 minus V1.",
    "start": "2705130",
    "end": "2712089"
  },
  {
    "text": " 1/2 the base times the\nheight, which is IP,",
    "start": "2712090",
    "end": "2718880"
  },
  {
    "text": "which is V1DT over L. This is the area\nunder that triangle--",
    "start": "2718880",
    "end": "2726230"
  },
  {
    "text": "1/2 base times height-- times 1\nover T. If I rewrite that, then,",
    "start": "2726230",
    "end": "2732740"
  },
  {
    "text": "what I'm going to get is 1/2 V1\nT V1 squared T over 2 V2 minus",
    "start": "2732740",
    "end": "2748430"
  },
  {
    "text": "V1 L times D squared. ",
    "start": "2748430",
    "end": "2757940"
  },
  {
    "text": "Let me just see-- double check to make sure\nI did my math right here. It's something\nlike this, anyways.",
    "start": "2757940",
    "end": "2763470"
  },
  {
    "text": "V1 squared T over 2L. V2 minus V1 D squared. OK, yeah.",
    "start": "2763470",
    "end": "2768480"
  },
  {
    "text": "So really what I have is, now-- I can think of all the converter\nleading up to the output cap",
    "start": "2768480",
    "end": "2774980"
  },
  {
    "text": "as just a current source that's\na function of the duty ratio I control.",
    "start": "2774980",
    "end": "2780620"
  },
  {
    "text": "So I've turned this thing into\na current source that squirts current into the output. And I think about it that\nway and control it that way.",
    "start": "2780620",
    "end": "2786770"
  },
  {
    "text": "And if I know what\nmy load resistor is and the voltage I\nwant, I know how much averaged current I\nwant to stick into it.",
    "start": "2786770",
    "end": "2792730"
  },
  {
    "text": "So that's how I might\nmodel a DCM converter. It's more complicated,\nin some sense,",
    "start": "2792730",
    "end": "2798607"
  },
  {
    "text": "than my continuous\nconduction mode converter because it's a function\nof all this junk. My switching period and\nmy and my inductor value",
    "start": "2798607",
    "end": "2805869"
  },
  {
    "text": "and all that stuff matters,\nwhere it didn't before. But I have to live with\nthat because it's this more complicated operating rule.",
    "start": "2805870",
    "end": "2813640"
  },
  {
    "text": "Yeah. AUDIENCE: So does that mean\nwhen you go from CCM to DCM, you're probably going\nto change the duty cycle",
    "start": "2813640",
    "end": "2819670"
  },
  {
    "text": "to maintain a target voltage? DAVID PERREAULT: That's right. You're going to use a lower duty\ncycle than you would otherwise",
    "start": "2819670",
    "end": "2825174"
  },
  {
    "text": "use in the boost converter. Yes. That's right, because the\nconversion ratio goes up.",
    "start": "2825175",
    "end": "2830470"
  },
  {
    "text": "And so your controller-- and\nwe'll talk about this later-- your controller usually has\nto manage that boundary.",
    "start": "2830470",
    "end": "2835849"
  },
  {
    "text": "You have to have a controller\nthat works for either case. Let's just take a look at this.",
    "start": "2835850",
    "end": "2841660"
  },
  {
    "text": "So Monsi has set\nup an actual boost converter that's doing this. And let's take a look\nat the waveforms.",
    "start": "2841660",
    "end": "2849770"
  },
  {
    "text": "In yellow, you can see-- ",
    "start": "2849770",
    "end": "2855470"
  },
  {
    "text": "you can essentially see the\nswitch voltage waveform, which is essentially\nthis waveform moved up",
    "start": "2855470",
    "end": "2861829"
  },
  {
    "text": "where this is 0. So in the first\npart of the cycle, you get 0 in the yellow\nwave-- from the second part",
    "start": "2861830",
    "end": "2871710"
  },
  {
    "text": "of the cycle, it's at V2. And then you get\nthis time period where you see this voltage ring.",
    "start": "2871710",
    "end": "2878850"
  },
  {
    "text": "What the heck is that? Well, I said we had\nthis time period where both the switch\nand the diode were open,",
    "start": "2878850",
    "end": "2886680"
  },
  {
    "text": "and so that this voltage here\nought to be exactly at V1. But what really happens in the\nreal world is that-- guess what.",
    "start": "2886680",
    "end": "2896370"
  },
  {
    "text": "There's some switch capacitance\nand some diode capacitance.",
    "start": "2896370",
    "end": "2901600"
  },
  {
    "text": "And so what happens is this\nvoltage, instead of going to 0,",
    "start": "2901600",
    "end": "2907380"
  },
  {
    "text": "rings with those capacitance--\nthe inductor ring with the parasitic capacitances.",
    "start": "2907380",
    "end": "2913060"
  },
  {
    "text": "People don't like that. That's unpleasant, It\ncauses noise and stuff. But you can't do\nanything about it.",
    "start": "2913060",
    "end": "2918610"
  },
  {
    "text": "If you're going to\nhave both devices on. In some cases, actually,\npeople actually even put in another\nswitch to short it out.",
    "start": "2918610",
    "end": "2923722"
  },
  {
    "text": "But generally, you don't-- generally, you just let\nit ring, and that's life. ",
    "start": "2923722",
    "end": "2932069"
  },
  {
    "text": "But you can now see that\nyou have the rising inductor current, the falling\ninductor current at 0.",
    "start": "2932070",
    "end": "2937119"
  },
  {
    "text": "It's exactly doing what this\nyellow waveform is doing here.",
    "start": "2937120",
    "end": "2942811"
  },
  {
    "text": "Any questions about that? ",
    "start": "2942811",
    "end": "2948660"
  },
  {
    "text": "Yeah. AUDIENCE: Can you\nmention the source that caused that ring again? DAVID PERREAULT: It's\nbasically the inductor.",
    "start": "2948660",
    "end": "2954513"
  },
  {
    "text": " resonating with parasitic\ncapacitance at this node.",
    "start": "2954513",
    "end": "2962050"
  },
  {
    "text": "Yeah. It's an unfortunate thing. People don't like it. It causes noise. It's a little bit annoying.",
    "start": "2962050",
    "end": "2967650"
  },
  {
    "text": "That's life.  So I said-- sometimes you have\nto live with DCM operation,",
    "start": "2967650",
    "end": "2975850"
  },
  {
    "text": "especially if you operate\nover really wide load ranges or you want a finite value\nfor your inductor sizes.",
    "start": "2975850",
    "end": "2984220"
  },
  {
    "text": "Sometimes you actually\nwant DCM operation. People often design their\nconverters for DCM operation.",
    "start": "2984220",
    "end": "2990020"
  },
  {
    "text": "Why is that? Well, suppose I thought of--",
    "start": "2990020",
    "end": "2996700"
  },
  {
    "text": "I had a reference current. And in this case, since I'm\ntalking about a boost converter,",
    "start": "2996700",
    "end": "3002960"
  },
  {
    "text": "let me think-- suppose I had a\nreference current for current to draw to deliver the power\nI wanted from the output,",
    "start": "3002960",
    "end": "3008420"
  },
  {
    "text": "from the input. If I have a small\nripple converter",
    "start": "3008420",
    "end": "3013550"
  },
  {
    "text": "and I say, OK, ideally\nspeaking, to support the load, I had this low current\nreference and then",
    "start": "3013550",
    "end": "3021016"
  },
  {
    "text": "I stepped it up for this\nhigher current reference. So this is I ref for\nthe reference current--",
    "start": "3021017",
    "end": "3026510"
  },
  {
    "text": "for the inductor waveform, If I have a small\nripple converter",
    "start": "3026510",
    "end": "3034494"
  },
  {
    "text": "and it's rippling like this\nand then I step the reference-- I want much more\ncurrent to deliver",
    "start": "3034495",
    "end": "3039660"
  },
  {
    "text": "more power, what has to happen? Well, the inductor current\nis going to slew up,",
    "start": "3039660",
    "end": "3045565"
  },
  {
    "text": "and eventually,\nit can get there, and I can deliver this again. But you notice that\nthere's this time",
    "start": "3045565",
    "end": "3052040"
  },
  {
    "text": "period where the inductor\ncurrent takes a lot of time to change. If the ripple is small,\nthe inductor value is big,",
    "start": "3052040",
    "end": "3057750"
  },
  {
    "text": "it takes a lot of time to put\nthe voltage across the inductor to slew the current in it. And that means for\nall this time period,",
    "start": "3057750",
    "end": "3065000"
  },
  {
    "text": "you're not delivering\nthe right output power, or you're at least not\ndrawing the right input power.",
    "start": "3065000",
    "end": "3070970"
  },
  {
    "text": "So this converter-- its ability\nto change its operating point is limited by the small ripple.",
    "start": "3070970",
    "end": "3078340"
  },
  {
    "text": "Suppose I had a DCM converter. Well, maybe I have\nsomething like this,",
    "start": "3078340",
    "end": "3084600"
  },
  {
    "text": "and I-- again, I step my ripple. But maybe in a DCM converter,\nmy inductor current looks like this.",
    "start": "3084600",
    "end": "3089930"
  },
  {
    "text": " And the next cycle, I want more?",
    "start": "3089930",
    "end": "3096030"
  },
  {
    "text": "Fine. Boom.  I can deliver that\nalmost instantly.",
    "start": "3096030",
    "end": "3103000"
  },
  {
    "text": "In other words, the\nhigh ripple means that I can change the average\ncurrent in the inductor much",
    "start": "3103000",
    "end": "3109620"
  },
  {
    "text": "faster, maybe even\nwithin a cycle. So there's-- on the one hand,\nwe often want small ripple",
    "start": "3109620",
    "end": "3115320"
  },
  {
    "text": "because we want nice waveforms\nand not a lot of ripple and we got to filter it. On the other hand, the ability\nto change the energy storage",
    "start": "3115320",
    "end": "3123110"
  },
  {
    "text": "and the energy processing\nof the converter quickly might take you\ntowards using DCMs. But for a very high\ntransient response converter,",
    "start": "3123110",
    "end": "3131079"
  },
  {
    "text": "having high ripple and\npossibly DCM operation can be a good thing. ",
    "start": "3131080",
    "end": "3137358"
  },
  {
    "text": "Any last questions\nbefore we wrap up? ",
    "start": "3137358",
    "end": "3142570"
  },
  {
    "text": "OK. Next class, we're going to\nstart talking about, how do I actually do things like\ndesign our inductors?",
    "start": "3142570",
    "end": "3148490"
  },
  {
    "text": "Have a great day. ",
    "start": "3148490",
    "end": "3154000"
  }
]