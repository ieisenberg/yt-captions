[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "12310"
  },
  {
    "text": "BERTHOLD HORN: We're starting\na new part of the course where we'll be dealing with\nindustrial machine vision.",
    "start": "12310",
    "end": "19390"
  },
  {
    "text": "And in particular, we'll be\nlooking at patterns on that.",
    "start": "19390",
    "end": "28419"
  },
  {
    "text": "And we'll start off with one\nby Bill Silver at Cognex.",
    "start": "28420",
    "end": "35800"
  },
  {
    "text": "So Cognex is arguably the\nleading machine vision company.",
    "start": "35800",
    "end": "43290"
  },
  {
    "text": "And it's an early starter.",
    "start": "43290",
    "end": "48570"
  },
  {
    "text": "I tried very hard to persuade\nhim not to join a startup because the success rate wasn't\nvery high at the time and maybe",
    "start": "48570",
    "end": "58290"
  },
  {
    "text": "still isn't. Anyway, he joined anyway. And he's their technical guru.",
    "start": "58290",
    "end": "63840"
  },
  {
    "text": "And there's a bunch of patents\nthat describe what they did. At this point, you can't\nmanufacture integrated circuits",
    "start": "63840",
    "end": "72270"
  },
  {
    "text": "without machine vision. They're needed all over the show\nfor alignment and inspection.",
    "start": "72270",
    "end": "80790"
  },
  {
    "text": "And you can't manufacture\npharmaceuticals without machine vision. For example, there's a\nmandate that the label",
    "start": "80790",
    "end": "91320"
  },
  {
    "text": "should be readable. So what's the language\nof the mandate?",
    "start": "91320",
    "end": "97140"
  },
  {
    "text": "It's not, most of the\nlabels should be readable. It says, the mandate-- the labels should be readable.",
    "start": "97140",
    "end": "103470"
  },
  {
    "text": "That means every single\nlabel has to be inspected. Well, I don't think anyone\nwants people to do that.",
    "start": "103470",
    "end": "110740"
  },
  {
    "text": "So of course, it's done\nusing machine vision. And those are the\ntwo areas that Cognex",
    "start": "110740",
    "end": "116940"
  },
  {
    "text": "managed to capture\na large market, starting off with integrated\ncircuits mostly in Japan.",
    "start": "116940",
    "end": "125040"
  },
  {
    "text": "So most of the market was there. Anyway, let's dive\ninto this patent and learn a little\nbit about patents.",
    "start": "125040",
    "end": "131250"
  },
  {
    "text": "So first of all, why patents? So the basic idea\nis that you come up",
    "start": "131250",
    "end": "137790"
  },
  {
    "text": "with an idea to do something,\nproduce some chemical, build some machine.",
    "start": "137790",
    "end": "143849"
  },
  {
    "text": "And you set up to build\nsuch things and sell them.",
    "start": "143850",
    "end": "149580"
  },
  {
    "text": "And your neighbor looks over\nand says, oh, that's nice, you can make some\nmoney that way, and basically competes\nwith you without having",
    "start": "149580",
    "end": "158069"
  },
  {
    "text": "put in the effort of actually\ncoming up with the invention. And so the whole\nidea of a patent",
    "start": "158070",
    "end": "164610"
  },
  {
    "text": "is a compromise, whereby\nyou get a limited monopoly to use your invention in return\nfor explaining exactly how it",
    "start": "164610",
    "end": "175560"
  },
  {
    "text": "works so that after a\ncertain amount of time, anyone else can build it.",
    "start": "175560",
    "end": "180670"
  },
  {
    "text": "So it's a contract\nwith society where you get some benefit for a while.",
    "start": "180670",
    "end": "186960"
  },
  {
    "text": "And in return, there's some\nbenefit long-term for society.",
    "start": "186960",
    "end": "193310"
  },
  {
    "text": "And this is how they\nget you to explain in detail how things work.",
    "start": "193310",
    "end": "198379"
  },
  {
    "text": "And there are different\nopinions on various types of intellectual property.",
    "start": "198380",
    "end": "203959"
  },
  {
    "text": "And we won't get into that. There are obviously\nsome benefits and some disadvantages to this.",
    "start": "203960",
    "end": "210770"
  },
  {
    "text": "And it's changed over the years. There's a constant revision. And it's remotely possible\nthat some of the things I",
    "start": "210770",
    "end": "216650"
  },
  {
    "text": "tell you are no longer\ntrue because they were true two years ago and whatever.",
    "start": "216650",
    "end": "223790"
  },
  {
    "text": "So let's look at what's there. So first of all, then, we'll get\ninto the technical stuff later.",
    "start": "223790",
    "end": "229329"
  },
  {
    "text": "But the structure of\nthis and the metadata, so obviously,\nthere's the number.",
    "start": "229330",
    "end": "236150"
  },
  {
    "text": "So at this point, we're\nup to six million. I just got notice that one of\nour x-ray patents got issued.",
    "start": "236150",
    "end": "245710"
  },
  {
    "text": "And it's in the\n10 million range. So since 2002, we've\nadded a lot of patents.",
    "start": "245710",
    "end": "251349"
  },
  {
    "text": "And a lot of companies, large\ncompanies in particular, file patents at an\nincredible rate.",
    "start": "251350",
    "end": "259030"
  },
  {
    "text": "And why is that? Well, it's largely\nbecause they want ammunition in a patent war.",
    "start": "259030",
    "end": "265660"
  },
  {
    "text": "So say if you're IBM\nand there's Microsoft,",
    "start": "265660",
    "end": "271360"
  },
  {
    "text": "I hold 6,000 patents in my hand. And if you promise\nnot to sue me, you can use that technology\nif I can use your 8,000",
    "start": "271360",
    "end": "280030"
  },
  {
    "text": "patents, that, kind of, thing. So patents can stand in the\nway of doing useful stuff.",
    "start": "280030",
    "end": "287560"
  },
  {
    "text": "They can also sometimes prevent\nwasted money on litigation.",
    "start": "287560",
    "end": "293830"
  },
  {
    "text": "So here's the date\nof the patent. We have a title, apparatus,\nand method for detecting,",
    "start": "293830",
    "end": "300870"
  },
  {
    "text": "and subpixel location of\nedges in a digital image. So this is aimed at\nmostly a conveyor belt",
    "start": "300870",
    "end": "309150"
  },
  {
    "text": "world, where you're\nlooking down at things and you're measuring\npositions and attitudes.",
    "start": "309150",
    "end": "315879"
  },
  {
    "text": "And it's also aimed\nat integrated circuit world, where you're\nlargely dealing with two-dimensional images.",
    "start": "315880",
    "end": "322590"
  },
  {
    "text": "So one of the things we\nknow is that images often",
    "start": "322590",
    "end": "329250"
  },
  {
    "text": "have large homogeneous\nregions of uniform intensity. They aren't very interesting. The interesting stuff\nis where there's",
    "start": "329250",
    "end": "335820"
  },
  {
    "text": "a transition between\ndifferent brightness levels. And so edges are where it's at.",
    "start": "335820",
    "end": "342840"
  },
  {
    "text": "You can greatly reduce the bits\nneeded to describe something",
    "start": "342840",
    "end": "348540"
  },
  {
    "text": "by just focusing on the edges. So that's what this is about. And it's about finding\nthem to subpixel accuracy.",
    "start": "348540",
    "end": "355740"
  },
  {
    "text": "And that's very important,\nbecause you can always get more accuracy by adding more pixels. Instead of using a\nmillion pixel camera,",
    "start": "355740",
    "end": "363090"
  },
  {
    "text": "use 100 million pixel camera. And you get 10\ntimes the accuracy. And obviously, that's expensive.",
    "start": "363090",
    "end": "370290"
  },
  {
    "text": "And also, if you can\ndo that in software for relatively low-cost,\nthen that's a huge advantage.",
    "start": "370290",
    "end": "377669"
  },
  {
    "text": "Or if you have that 100\nmillion pixel camera, you now have 10 times the\nresolution of whoever else",
    "start": "377670",
    "end": "386190"
  },
  {
    "text": "is working in that field. What accuracy can you achieve? Well, it's fairly\nstraightforward",
    "start": "386190",
    "end": "393349"
  },
  {
    "text": "to get to 1/10 of a pixel. And at that point, you start\nto see all, kinds of, problems",
    "start": "393350",
    "end": "400190"
  },
  {
    "text": "that you didn't think of. If you push it hard, you\ncan get to maybe 1/40, which is what they claim.",
    "start": "400190",
    "end": "407389"
  },
  {
    "text": "And that's, obviously, huge. Two dimensions, that's a factor\nof 1,600 in terms of accuracy.",
    "start": "407390",
    "end": "414350"
  },
  {
    "text": "So that's what this is about. And then the authors are listed. And the assignee is listed.",
    "start": "414350",
    "end": "419659"
  },
  {
    "text": "That is, the authors don't\nnecessarily get the benefit. Typically, if you\nwork at a company,",
    "start": "419660",
    "end": "425600"
  },
  {
    "text": "they make you sign over\nsome piece of paper that says that whatever you\ninvent is theirs and so on.",
    "start": "425600",
    "end": "432930"
  },
  {
    "text": "And I guess MIT wasn't that\ncareful when I was hired.",
    "start": "432930",
    "end": "438139"
  },
  {
    "text": "And I don't think I\never signed that paper. But it didn't help me much. Anyway, then we have the date\nfiled and the fields of search.",
    "start": "438140",
    "end": "447419"
  },
  {
    "text": "So there are some\nnumbers there that tell you what area it is in. Those fields of search were\nestablished a long, long time",
    "start": "447420",
    "end": "454380"
  },
  {
    "text": "ago. And so there isn't even\nsomething for computers. It's a subpart of\nelectrical stuff.",
    "start": "454380",
    "end": "461430"
  },
  {
    "text": "If you're into\nrubber making, there are 10 categories for\ndifferent types of rubber. Of course, that was--",
    "start": "461430",
    "end": "467640"
  },
  {
    "text": "so those categories are\nthings that patent examiners know a lot about. But they're not\nparticularly interesting.",
    "start": "467640",
    "end": "476210"
  },
  {
    "text": "And what happens is that\nyou submit this thing. And it has to be in a\nform that's acceptable.",
    "start": "476210",
    "end": "483639"
  },
  {
    "text": "And there are lots of rules. It used to be you couldn't\nhave any equations in there. Well, this one has\nequations in it.",
    "start": "483640",
    "end": "490120"
  },
  {
    "text": "So that obviously is\nno longer the case. You couldn't use grade levels. It had to be black and\nwhite, line drawings.",
    "start": "490120",
    "end": "496780"
  },
  {
    "text": "And so the only way you could\nget something like grade levels was halftones, dots with varying\nsized dots and dot spacing.",
    "start": "496780",
    "end": "505180"
  },
  {
    "text": "You can't have color. The language is somewhat arcane.",
    "start": "505180",
    "end": "510189"
  },
  {
    "text": "There are particular terms\nthat you come into again and again, like\nplurality, I can never",
    "start": "510190",
    "end": "516309"
  },
  {
    "text": "pronounce that word,\nwhich means several, and things like comprise.",
    "start": "516309",
    "end": "523090"
  },
  {
    "text": "So one way to say the\napparatus contains",
    "start": "523090",
    "end": "528760"
  },
  {
    "text": "certain things is to say that. But that's not very accurate. So comprise means\nthere is at least one.",
    "start": "528760",
    "end": "535900"
  },
  {
    "text": "There may be more. And so the patent lawyers make\ntheir money knowing this stuff.",
    "start": "535900",
    "end": "546220"
  },
  {
    "text": "Then we have references. And there's a bunch of patents\nlisted along with their fields.",
    "start": "546220",
    "end": "553780"
  },
  {
    "text": "And the asterisk means that they\nwere added by the examiners. So it goes down. And the examiner sits\non it for a while.",
    "start": "553780",
    "end": "560860"
  },
  {
    "text": "And it used to be-- well, it changed in history. But in the '90s, when\nthis was submitted, 1996,",
    "start": "560860",
    "end": "569360"
  },
  {
    "text": "there was a multi-year delay. And at that point, Congress\nchanged the rules a little bit,",
    "start": "569360",
    "end": "575960"
  },
  {
    "text": "including charging\nyou for that process. And it speeded up a bit.",
    "start": "575960",
    "end": "582399"
  },
  {
    "text": "And the patent examiner will\nadd things that they think of. You can see here that\nthe inventors only",
    "start": "582400",
    "end": "589030"
  },
  {
    "text": "thought of this one patent by,\nwell, one of the inventors. It's like when you write\nyour technical paper,",
    "start": "589030",
    "end": "595962"
  },
  {
    "text": "there are probably\ngoing to be references to your own previous papers. So they didn't think of\nall these other people",
    "start": "595962",
    "end": "601900"
  },
  {
    "text": "as being relevant. And then there's more,\nother publications.",
    "start": "601900",
    "end": "607225"
  },
  {
    "text": "To these people,\npatents are important. Technical papers aren't. But they're still listed\nbecause the author",
    "start": "607225",
    "end": "614230"
  },
  {
    "text": "is from the scientific\nworld, in some sense. And it doesn't-- it says,\nlet's continue on next page,",
    "start": "614230",
    "end": "620470"
  },
  {
    "text": "because there wasn't\nenough on the front page, enough space on the front page\nto list all the papers that he",
    "start": "620470",
    "end": "626650"
  },
  {
    "text": "wanted to refer to. And then there's the abstract. And this patent is unusual\nin that it's understandable.",
    "start": "626650",
    "end": "636910"
  },
  {
    "text": "It's detailed. It's technical. There's not much-- and\nit's because it was",
    "start": "636910",
    "end": "642820"
  },
  {
    "text": "written by an engineer, mostly. So if you read the abstract,\nyou get a pretty good idea",
    "start": "642820",
    "end": "647830"
  },
  {
    "text": "of what it is. There's a figure. This figure is chosen by\nthe patent examiner out",
    "start": "647830",
    "end": "654600"
  },
  {
    "text": "of the figures that are\nsubmitted with a patent as somehow most\ndistinctive, most likely",
    "start": "654600",
    "end": "661380"
  },
  {
    "text": "to let you know what\nthe patent is all about.",
    "start": "661380",
    "end": "666470"
  },
  {
    "text": "So we'll get back to\nthe abstract later. So let me go to the next page.",
    "start": "666470",
    "end": "671480"
  },
  {
    "text": "So here, you can see a whole\nbunch of additional papers on edge detection.",
    "start": "671480",
    "end": "676720"
  },
  {
    "text": "Of course, edge detection is\nan old topic in machine vision. It goes back to the\n1950s, if you can believe,",
    "start": "676720",
    "end": "685870"
  },
  {
    "text": "when people first started\nscanning in images and finding a need\nto somehow compress",
    "start": "685870",
    "end": "694870"
  },
  {
    "text": "the information, measure\nthings, and so on. So one of the\nearly famous papers",
    "start": "694870",
    "end": "703270"
  },
  {
    "text": "is by Roberts, who was\nat Lincoln Labs in 1965.",
    "start": "703270",
    "end": "708670"
  },
  {
    "text": "And I guess his input\ndevice was a drum plotter. So in those days, one of\nthe exciting output devices",
    "start": "708670",
    "end": "717850"
  },
  {
    "text": "was a drum that rotated. And you had a ballpoint pen. And you could control its\nposition and, in some cases,",
    "start": "717850",
    "end": "727860"
  },
  {
    "text": "color. It might have multiple tips. And you could make great\nplots of circuit diagrams,",
    "start": "727860",
    "end": "734800"
  },
  {
    "text": "PC board layouts, and so on. And so what he did\nwas he replaced the pen with a photodetector,\na vacuum tube photo detector.",
    "start": "734800",
    "end": "744820"
  },
  {
    "text": "And then he scanned his\n8 by 11 black and white",
    "start": "744820",
    "end": "749980"
  },
  {
    "text": "glossy photographs. And then he came back\nthe next morning, and looked at the data, and\nhe had a very simple edge",
    "start": "749980",
    "end": "757930"
  },
  {
    "text": "detector, which was\nmisleading in the sense that he had a scanner\nthat produced incredibly",
    "start": "757930",
    "end": "767140"
  },
  {
    "text": "good images, because\nthere was just a single detector he\ncould afford to build,",
    "start": "767140",
    "end": "773770"
  },
  {
    "text": "a 12-bit a-to-d. He had much better\nquality images than we would get out of\nvidicons and other devices",
    "start": "773770",
    "end": "782320"
  },
  {
    "text": "later. And so his edge detector, which\nworked OK on his pictures,",
    "start": "782320",
    "end": "787570"
  },
  {
    "text": "wouldn't work for people\non other pictures. And so for a long time,\nthere was a competition, OK,",
    "start": "787570",
    "end": "793060"
  },
  {
    "text": "my edge detector is\nbetter than yours. And they all had names.",
    "start": "793060",
    "end": "799100"
  },
  {
    "text": "And I remember being\nat a conference, and standing in the passage,\nand trying to be social,",
    "start": "799100",
    "end": "805070"
  },
  {
    "text": "and chatting with this\nguy I'd never seen before. And we got on to edge detection. And I said, well, it's\ntoo bad that all the edge",
    "start": "805070",
    "end": "813889"
  },
  {
    "text": "detectors that have people's\nnames on them are worthless. Well, he was Irwin\nSobel, whose name is",
    "start": "813890",
    "end": "820190"
  },
  {
    "text": "on one of the edge detectors. And he's forgiven me since then. But he's still trying\nto claim his legacy",
    "start": "820190",
    "end": "828860"
  },
  {
    "text": "and make sure that\neveryone knows that he invented that edge detector. And he's blogging and whatever.",
    "start": "828860",
    "end": "834950"
  },
  {
    "text": "Anyway, so those are\nsome more papers. And then we get to the figures.",
    "start": "834950",
    "end": "843100"
  },
  {
    "text": "So the top one is the\nRoberts cross edge detector. And you can see that it's\na directional derivative.",
    "start": "843100",
    "end": "850620"
  },
  {
    "text": "The left-hand one\nis a derivative in the 45 degree direction. And the right-hand one is\nin the 135 degree direction.",
    "start": "850620",
    "end": "859290"
  },
  {
    "text": "And why that? Well, we'll talk\nabout the advantages of that type of operator later.",
    "start": "859290",
    "end": "866400"
  },
  {
    "text": "And then so Irwin\nSobel's operator is figure 1B, which is\nsomewhat advantageous.",
    "start": "866400",
    "end": "874260"
  },
  {
    "text": "It takes more computation,\nis somewhat more resistant to noise, is not as\nhigh-resolution, and so on.",
    "start": "874260",
    "end": "882279"
  },
  {
    "text": "And then Bill Silver,\nhaving been to my classes,",
    "start": "882280",
    "end": "888630"
  },
  {
    "text": "was interested in\nhexagonal teselations. And so he proposed these\nalternate operators, which",
    "start": "888630",
    "end": "896460"
  },
  {
    "text": "would work on a hexagonal grid. Unfortunately, no one ever\nbuilt hexagonal grid cameras.",
    "start": "896460",
    "end": "905220"
  },
  {
    "text": "They have some advantages\nin terms of resolution and rotational symmetry.",
    "start": "905220",
    "end": "911490"
  },
  {
    "text": "But it's not a huge advantage. It's like 4 over pi. So there's an\nadvantage of some sort.",
    "start": "911490",
    "end": "917710"
  },
  {
    "text": "But it's not huge. And so the extra trouble of\nworking with a hexagonal grid apparently was too\nmuch for engineers.",
    "start": "917710",
    "end": "926279"
  },
  {
    "text": "This one here goes off in three\ndifferent directions, which is appropriate for hexagonal grid.",
    "start": "926280",
    "end": "932220"
  },
  {
    "text": "But of course, that's redundant. If you have de dx and de\ndy, you've got everything.",
    "start": "932220",
    "end": "939370"
  },
  {
    "text": "So there are two\ndegrees of freedom to the brightness gradient. You don't really\nneed three numbers. So he came up with\nthis alternate pattern",
    "start": "939370",
    "end": "946170"
  },
  {
    "text": "here, where this\none is estimating the derivative in\nthe x direction and this one in the y direction.",
    "start": "946170",
    "end": "952650"
  },
  {
    "text": "And the square root of 3\nis because these cells are further apart than those cells.",
    "start": "952650",
    "end": "958030"
  },
  {
    "text": "So you have to\ncompensate for that. ",
    "start": "958030",
    "end": "963600"
  },
  {
    "text": "So a key step right up front\nis to convert from Cartesian",
    "start": "963600",
    "end": "969089"
  },
  {
    "text": "to polar coordinates,\nin that you want the magnitude of the\ngradient and its direction",
    "start": "969090",
    "end": "975660"
  },
  {
    "text": "rather than the brightness\ngradient itself, the x and y components. And so up there is a formula.",
    "start": "975660",
    "end": "982230"
  },
  {
    "text": "You could take the square\nroot of the sum of squares. And you take the arctangent.",
    "start": "982230",
    "end": "987270"
  },
  {
    "text": "And part of that is put out\nas a straw man, which is like, why on earth would you do this?",
    "start": "987270",
    "end": "993779"
  },
  {
    "text": "This is very expensive. Now maybe today, we\nwouldn't say that. But if you have\n100 million pixels",
    "start": "993780",
    "end": "1000440"
  },
  {
    "text": "and you're trying to do\nthings at 100 frames a second, you still don't\nwant to really take square roots and arctangents.",
    "start": "1000440",
    "end": "1007940"
  },
  {
    "text": "Actually, square roots,\ndepending on where you grew up, you might know that\nsquare roots are as",
    "start": "1007940",
    "end": "1015290"
  },
  {
    "text": "easy to calculate as divisions. It's just a slight\ntwiddle on the algorithm. And unfortunately,\nin the Western world,",
    "start": "1015290",
    "end": "1021589"
  },
  {
    "text": "we don't teach that. So people think of square roots\nas these really nasty things.",
    "start": "1021590",
    "end": "1026929"
  },
  {
    "text": "But unfortunately, the people\nwho design digital computers were also not from\nthis other world.",
    "start": "1026930",
    "end": "1032280"
  },
  {
    "text": "And so for us, square roots are\nmore expensive than division.",
    "start": "1032280",
    "end": "1037939"
  },
  {
    "text": "Anyway, the argument\nin the patent is, we can do it this way.",
    "start": "1037940",
    "end": "1043609"
  },
  {
    "text": "But it's expensive. So let's find a better\nway of doing it. Then figure 2B is an alternate\nsolution using lookup tables.",
    "start": "1043609",
    "end": "1053059"
  },
  {
    "text": "The idea there is\nthat you encode the x and y components\nof brightness",
    "start": "1053060",
    "end": "1058520"
  },
  {
    "text": "in a small number of bits. Then you stick\nthe bits together. And that's the address\nof a lookup table.",
    "start": "1058520",
    "end": "1063620"
  },
  {
    "text": "And it creates the table\nindex, lookup table. The lookup table gives you the\nmagnitude and the direction.",
    "start": "1063620",
    "end": "1070200"
  },
  {
    "text": "And that's a great solution\nif arithmetic operations are expensive, which\nwas true at the time,",
    "start": "1070200",
    "end": "1078750"
  },
  {
    "text": "and if memory access\nisn't a problem. Then, well, things\nkeep on changing.",
    "start": "1078750",
    "end": "1084990"
  },
  {
    "text": "So for a while there,\narithmetic operations became cheap,\nbecause people just",
    "start": "1084990",
    "end": "1091900"
  },
  {
    "text": "built 32 by 32 bit multipliers\nand be done with it.",
    "start": "1091900",
    "end": "1097255"
  },
  {
    "text": "And cash misses were a big deal. So you didn't really want\nto use large lookup tables.",
    "start": "1097255",
    "end": "1104049"
  },
  {
    "text": "And so for that\nreason, you might want to go back to a method\nthat does a lot of arithmetic",
    "start": "1104050",
    "end": "1111010"
  },
  {
    "text": "rather than have a\nlarge lookup table. And that's changing\nagain and so on.",
    "start": "1111010",
    "end": "1116059"
  },
  {
    "text": "So anyway, at the time, the\nidea of using a lookup table was also not\nparticularly attractive.",
    "start": "1116060",
    "end": "1124270"
  },
  {
    "text": "And so he came up with this\nmethod illustrated down here,",
    "start": "1124270",
    "end": "1129680"
  },
  {
    "text": "which we'll talk about, CORDIC. So CORDIC is a way of\nestimating the magnitude",
    "start": "1129680",
    "end": "1135460"
  },
  {
    "text": "and direction of a vector\nfrom its two coordinates. And it was actually\npioneered in World War II.",
    "start": "1135460",
    "end": "1143830"
  },
  {
    "text": "You probably know that a lot\nof early computing machineries were built for unpleasant\npurposes like war",
    "start": "1143830",
    "end": "1151240"
  },
  {
    "text": "and making sure that\nyou could aim your guns in the right direction. And being able to compute\narctangent and square roots",
    "start": "1151240",
    "end": "1158530"
  },
  {
    "text": "was very important. And so people came\nup with this method, which is an\niterative method that",
    "start": "1158530",
    "end": "1166929"
  },
  {
    "text": "rotates the coordinate\nsystem to bring it more into alignment with the\nbrightness gradient vector.",
    "start": "1166930",
    "end": "1172630"
  },
  {
    "text": "And at each step, it reduces\nthe error, the difference.",
    "start": "1172630",
    "end": "1177920"
  },
  {
    "text": "And when you then add\nup all the results, you can get the magnitude\nand the direction.",
    "start": "1177920",
    "end": "1185809"
  },
  {
    "text": "And amazingly, you can do\nit without much arithmetic. You only end up needing a shift,\nwhich costs next to nothing,",
    "start": "1185810",
    "end": "1195910"
  },
  {
    "text": "adders, and subtracters, and\nan absolute value operation. So if you think\nabout rotation, you",
    "start": "1195910",
    "end": "1201550"
  },
  {
    "text": "think of a matrix, cosine theta,\nsine theta, minus sine theta, cosine theta, and\nmultiplication.",
    "start": "1201550",
    "end": "1207170"
  },
  {
    "text": "So trigonometry,\nthat's expensive. Multiplication and\naddition, expensive.",
    "start": "1207170",
    "end": "1212350"
  },
  {
    "text": "Well, this is a method\nvery cleverly designed to not do any of that.",
    "start": "1212350",
    "end": "1218890"
  },
  {
    "text": "And it can be\nimplemented at low-level.",
    "start": "1218890",
    "end": "1226810"
  },
  {
    "text": "So in Intel architectures,\nyou have an assembly language. But you also have clever things\nyou can do with instructions",
    "start": "1226810",
    "end": "1236510"
  },
  {
    "text": "that access multiple bites. And so this can\nall be implemented extremely efficiently.",
    "start": "1236510",
    "end": "1243170"
  },
  {
    "text": "So that was the\nmotivation for that.",
    "start": "1243170",
    "end": "1248320"
  },
  {
    "text": "Then once we know the\nbrightness gradient in magnitude",
    "start": "1248320",
    "end": "1255000"
  },
  {
    "text": "and direction, one of\nthe things we want to do is find the places where\nthe gradient is large.",
    "start": "1255000",
    "end": "1260490"
  },
  {
    "text": "That's where the edge is. But we don't want to\njust take a local maximum because along an edge, the\ngradient is going to be large.",
    "start": "1260490",
    "end": "1269770"
  },
  {
    "text": "So there'll be some places\nthat are local maxima. But they're meaningless. They're arbitrary\npoints along the edge.",
    "start": "1269770",
    "end": "1275700"
  },
  {
    "text": "What we really want is\nto look across the edge and take the maximum\nin that direction.",
    "start": "1275700",
    "end": "1283140"
  },
  {
    "text": "It's 1D, not 2D. And so we need the\ndirection of the gradient so that we know which\ndirection to search in.",
    "start": "1283140",
    "end": "1290490"
  },
  {
    "text": "And we need to have this\nmaximum finding, which is called a nonmaximum\nsuppression, meaning",
    "start": "1290490",
    "end": "1297930"
  },
  {
    "text": "we'll ignore stuff\nother than the maximum. A funny term for\nfinding the maximum.",
    "start": "1297930",
    "end": "1303330"
  },
  {
    "text": "But that's what it was called. And since we're working\non a discrete grid,",
    "start": "1303330",
    "end": "1309000"
  },
  {
    "text": "we have some limitations. And particular on\na square grid, we",
    "start": "1309000",
    "end": "1315270"
  },
  {
    "text": "have to somehow\ndecide to quantize the possible directions\nof the gradients. We compute the\ngradient direction",
    "start": "1315270",
    "end": "1322080"
  },
  {
    "text": "with high-accuracy using\nany of the three methods we talked about. But then we're restricted to--",
    "start": "1322080",
    "end": "1329100"
  },
  {
    "text": "we only have those pixels. So what do we do? Well, we quantize it into\nthese different directions.",
    "start": "1329100",
    "end": "1336930"
  },
  {
    "text": "And for purposes of\nfinding the extremum, we pick one of eight\npossible compass directions.",
    "start": "1336930",
    "end": "1344399"
  },
  {
    "text": "On the hexagonal grid, we\nhave six possible directions. Same idea.",
    "start": "1344400",
    "end": "1351460"
  },
  {
    "text": "Now if we want to, we\ncan look further afield.",
    "start": "1351460",
    "end": "1360120"
  },
  {
    "text": "So the previous figure\nwas looking at a 3 by 3 area of the image.",
    "start": "1360120",
    "end": "1365340"
  },
  {
    "text": "So we just had 3 by 3\nvalues of gradient up there.",
    "start": "1365340",
    "end": "1371299"
  },
  {
    "text": "But if we're not\nhappy with that course quantization of direction,\nwe can go to 5 by 5.",
    "start": "1371300",
    "end": "1377630"
  },
  {
    "text": "And now we have a larger\nrange of directions. So they talk about this. But it's not what was\nactually implemented.",
    "start": "1377630",
    "end": "1385520"
  },
  {
    "text": "And of course, you\ncan go further. So the next step is,\nnow we're looking along a certain\ndirection in the image.",
    "start": "1385520",
    "end": "1392960"
  },
  {
    "text": "And we found the place\nwhere there's an extremum. And now we'd like to know\nwhere the actual peak is",
    "start": "1392960",
    "end": "1401890"
  },
  {
    "text": "to subpixel accuracy. And so one thing we\ncan do is, figure 4A,",
    "start": "1401890",
    "end": "1408340"
  },
  {
    "text": "those are the three values. So imagine that 0 is the pixel\nwhere you found the maximum.",
    "start": "1408340",
    "end": "1414100"
  },
  {
    "text": "And plus 1 is one over. And minus 1 is one over\nin the other direction. And those don't need to\nbe in the x direction.",
    "start": "1414100",
    "end": "1420980"
  },
  {
    "text": "They could be in the\ndiagonal direction. Or they could be up and down. But three values anyway.",
    "start": "1420980",
    "end": "1426220"
  },
  {
    "text": "And we can fit a\nparabola to that. Well, that's the best we can do.",
    "start": "1426220",
    "end": "1431800"
  },
  {
    "text": "We've got three numbers. We can only fit something\nwith three degrees of freedom.",
    "start": "1431800",
    "end": "1438050"
  },
  {
    "text": "And so ax squared plus bx\nplus c, we can fit that.",
    "start": "1438050",
    "end": "1443800"
  },
  {
    "text": "We could fit a cubic. But it would be\nambiguous because there would be one parameter\nthat was hanging loose.",
    "start": "1443800",
    "end": "1451150"
  },
  {
    "text": "We could make it\nanything we want. So we fit a parabola. And we know how to find\nthe peak of a parabola.",
    "start": "1451150",
    "end": "1457159"
  },
  {
    "text": "We just differentiate that\nthe result is equal to 0. And there we are. We can find a peak indicated\nby that dotted line.",
    "start": "1457160",
    "end": "1464830"
  },
  {
    "text": " Now if our model of the\nworld is Mondrian, i.e.",
    "start": "1464830",
    "end": "1472450"
  },
  {
    "text": "We have patches of\nequal brightness with sharp edges\nbetween them, then",
    "start": "1472450",
    "end": "1477760"
  },
  {
    "text": "we know that the brightness\nwill be constant in each patch.",
    "start": "1477760",
    "end": "1484450"
  },
  {
    "text": "And if the edge\nis very sharp, we might expect there's a\ndifferent local fitting, which",
    "start": "1484450",
    "end": "1491710"
  },
  {
    "text": "is shown on the right. So up to the edge, the\nbrightness is increased. The gradient is increasing.",
    "start": "1491710",
    "end": "1497679"
  },
  {
    "text": "And then it's going down. And it might seem\na little bit odd. But that will give us\na different result.",
    "start": "1497680",
    "end": "1506330"
  },
  {
    "text": "And again, we need those three\nnumbers to make that fit.",
    "start": "1506330",
    "end": "1511399"
  },
  {
    "text": "And we can find the\npeak, find where those two lines intersect. And we can find the\ndotted line in figure 4B.",
    "start": "1511400",
    "end": "1520990"
  },
  {
    "text": "And those two will\ngenerally be different. So which one do we take? Which one is more accurate?",
    "start": "1520990",
    "end": "1527660"
  },
  {
    "text": "And so we'll get to\nthat in a moment. Then there's something they\ncall the plane position",
    "start": "1527660",
    "end": "1535639"
  },
  {
    "text": "interpolation. So the idea is that when\nwe found the extremum, we quantize directions,\nhorizontal, 45 degrees,",
    "start": "1535640",
    "end": "1543920"
  },
  {
    "text": "vertical, et cetera. But the actual gradient\nto higher precision, we",
    "start": "1543920",
    "end": "1550730"
  },
  {
    "text": "know its real direction to\nmaybe 8 bits of accuracy. And so one step\nwe can perform is",
    "start": "1550730",
    "end": "1559550"
  },
  {
    "text": "to actually go in the gradient\ndirection from the center pixel",
    "start": "1559550",
    "end": "1564860"
  },
  {
    "text": "and find the place in that\ndirection where the edges. So the diagonal line is\nour quantized approximation",
    "start": "1564860",
    "end": "1574070"
  },
  {
    "text": "of gradient direction. And at 413, we found its peak\nusing the method of figure 4.",
    "start": "1574070",
    "end": "1584960"
  },
  {
    "text": "And the error of 410 is the\nactual gradient direction. And now what we do is\nwe draw a perpendicular",
    "start": "1584960",
    "end": "1592910"
  },
  {
    "text": "to that gradient direction\nand from going through 413.",
    "start": "1592910",
    "end": "1598340"
  },
  {
    "text": "And we see where\nit intersects 415. So the idea is that with the\nedge, when we find an edge",
    "start": "1598340",
    "end": "1605900"
  },
  {
    "text": "point, its position\nis well-defined in the direction of the gradient\nperpendicular to the edge.",
    "start": "1605900",
    "end": "1613429"
  },
  {
    "text": "But along the edge,\nof course, it isn't. We could be anywhere\non the edge. So this is just like our\naperture problem optical flow",
    "start": "1613430",
    "end": "1620870"
  },
  {
    "text": "discussion. And so which of those points\ndo we take along the edge?",
    "start": "1620870",
    "end": "1626750"
  },
  {
    "text": "Well, one argument might be, the\nfurther you get away from stuff that you really know, the less\naccurate it's going to be.",
    "start": "1626750",
    "end": "1633950"
  },
  {
    "text": "So let's find the closest point. So we've found an edge.",
    "start": "1633950",
    "end": "1640279"
  },
  {
    "text": "Which point on the\nedge do we actually record in the output data? Well, we pick the one that's\nas close as possible to G0.",
    "start": "1640280",
    "end": "1648800"
  },
  {
    "text": "And that's this point that\nwe constructed this way. So that's that construction.",
    "start": "1648800",
    "end": "1654620"
  },
  {
    "text": " So then we discover\nthat we can get",
    "start": "1654620",
    "end": "1661100"
  },
  {
    "text": "a pretty good subpixel\naccuracy, maybe 1/10 of a pixel. But to go further, we\nneed to take into account",
    "start": "1661100",
    "end": "1669500"
  },
  {
    "text": "the fact that our\nconstructions are based on some assumptions\nabout how the brightness",
    "start": "1669500",
    "end": "1676039"
  },
  {
    "text": "gradient varies with position. And we have those two models. And we could come\nup with some more.",
    "start": "1676040",
    "end": "1681920"
  },
  {
    "text": "And what is the real thing? Well, the real thing\nis going to depend on properties of the optics\nof the camera you're using.",
    "start": "1681920",
    "end": "1690890"
  },
  {
    "text": "It's going to depend on the\nfill factor of the chip that's sensing the image. It's going to depend on how\naccurately in focus the image",
    "start": "1690890",
    "end": "1699110"
  },
  {
    "text": "is. So the edge\ntransition, of course, is not a perfect\nstep transition,",
    "start": "1699110",
    "end": "1704640"
  },
  {
    "text": "which is a good thing. But its actual shape\nis not something",
    "start": "1704640",
    "end": "1711770"
  },
  {
    "text": "that you may be able to\npredict ahead of time. And it's the same for every\npossible camera and image",
    "start": "1711770",
    "end": "1721220"
  },
  {
    "text": "situation that you can think of. Now if it doesn't fit those\ntwo models, what happens?",
    "start": "1721220",
    "end": "1727460"
  },
  {
    "text": "We'll get the wrong answer,\nbut not hugely wrong. So there's a bias introduced\nby our choice of that model.",
    "start": "1727460",
    "end": "1737840"
  },
  {
    "text": "And we can calibrate\nout that bias. And so that's what\nhe's doing here.",
    "start": "1737840",
    "end": "1744360"
  },
  {
    "text": "So these are exaggerated curves. So S, one of them is the\nactually computed position",
    "start": "1744360",
    "end": "1753500"
  },
  {
    "text": "based on our little peak\nfinding and parabola fitting.",
    "start": "1753500",
    "end": "1758510"
  },
  {
    "text": "And S prime is the\nactual edge position. And ideally, it would\nbe an diagonal line",
    "start": "1758510",
    "end": "1764480"
  },
  {
    "text": "if you plot those two. And because of the\nfactors I mentioned, it's not a straight line.",
    "start": "1764480",
    "end": "1770230"
  },
  {
    "text": "It has a little\nbit of a bow to it. And as I mentioned, this\nis hugely exaggerated.",
    "start": "1770230",
    "end": "1775790"
  },
  {
    "text": "The bow is much less. But it shows that it might\nbe three different shapes",
    "start": "1775790",
    "end": "1781909"
  },
  {
    "text": "for three different cameras,\nor focused positions, or phase of the moon, whatever.",
    "start": "1781910",
    "end": "1788610"
  },
  {
    "text": "And so what do we do? Well, think of this. This is now just a correction\non top of a correction.",
    "start": "1788610",
    "end": "1795529"
  },
  {
    "text": "So we don't need to be\nhugely sophisticated. So he comes up with ways\nof removing that bias.",
    "start": "1795530",
    "end": "1803419"
  },
  {
    "text": "And in particular, you can\nthink of just powers of S. If you take S to the 1, then\nthat's our diagonal line.",
    "start": "1803420",
    "end": "1811970"
  },
  {
    "text": "If you take S 1.1, then\nit's a little bowed down.",
    "start": "1811970",
    "end": "1817549"
  },
  {
    "text": "If you take S 0.9, it's bowed\na little bit the other way. So that the idea here is that we\ncan increase the accuracy even",
    "start": "1817550",
    "end": "1826100"
  },
  {
    "text": "more by finding out for your\nparticular machine vision system, what the S is that\ngives you the best fit.",
    "start": "1826100",
    "end": "1835549"
  },
  {
    "text": "And while we're there,\nnotice that when our quantized gradient direction\nhappens to be diagonal,",
    "start": "1835550",
    "end": "1842600"
  },
  {
    "text": "45 degrees, then\nthe points we've got are actually further apart\nby the square root of 2 times",
    "start": "1842600",
    "end": "1849470"
  },
  {
    "text": "as far apart as when\nwe're horizontal. And so you would imagine that\nthe bias would be different.",
    "start": "1849470",
    "end": "1854929"
  },
  {
    "text": "And indeed, it is. And so another\nrefinement of the patent is that you make\nthis bias depend on",
    "start": "1854930",
    "end": "1862070"
  },
  {
    "text": "the gradient direction to\nget even higher accuracy, so. ",
    "start": "1862070",
    "end": "1870860"
  },
  {
    "text": "And so this is the overall\ndiagram of the whole thing. So we start with the image. We estimate the\nbrightness gradient,",
    "start": "1870860",
    "end": "1878460"
  },
  {
    "text": "which we call Ex Ey\nand he calls Gx Gy. Then we find the gradient\nmagnitude and direction, G0",
    "start": "1878460",
    "end": "1885950"
  },
  {
    "text": "and G theta. Then we do the\nnonmaximum suppression.",
    "start": "1885950",
    "end": "1893490"
  },
  {
    "text": "And we find the neighbors. We detect the peak\nin that direction.",
    "start": "1893490",
    "end": "1898760"
  },
  {
    "text": "And from that, we get a\nposition of the edge point. And we still know\nthe gradient there.",
    "start": "1898760",
    "end": "1904730"
  },
  {
    "text": "So we use that as well. And then we interpolate using\nthat parabola or the triangle.",
    "start": "1904730",
    "end": "1912440"
  },
  {
    "text": "We compensate for the bias. And we do that plane\nposition method",
    "start": "1912440",
    "end": "1919040"
  },
  {
    "text": "that finds us the closest\npoint to the maximum that",
    "start": "1919040",
    "end": "1924140"
  },
  {
    "text": "is on the edge.  So here's the patent itself.",
    "start": "1924140",
    "end": "1931090"
  },
  {
    "text": "This is, of course, part of\nthe materials in the course. So you can study this yourself. And I'm not going to go\nthrough it word-by-word.",
    "start": "1931090",
    "end": "1937750"
  },
  {
    "text": "But just focus on the sections. So it starts off as\nusual with the title.",
    "start": "1937750",
    "end": "1943270"
  },
  {
    "text": "And then the field\nof the invention, is this about making rubber\nfrom stuff coming out of trees?",
    "start": "1943270",
    "end": "1949210"
  },
  {
    "text": "Or is this about machine vision? So there's very short--",
    "start": "1949210",
    "end": "1954670"
  },
  {
    "text": "this invention relates generally\nto digital image processing and particularly to edge\ndetection in digital images.",
    "start": "1954670",
    "end": "1961630"
  },
  {
    "text": "Then we get to the background. So the background is where you\nacknowledge that people have",
    "start": "1961630",
    "end": "1967460"
  },
  {
    "text": "already done certain things. So that's considered a prior art\nin the terminology of patents.",
    "start": "1967460",
    "end": "1974540"
  },
  {
    "text": "And the main point\nof this section from the point of\nview of the inventor is that you end with where\nyou say, therefore, you",
    "start": "1974540",
    "end": "1983659"
  },
  {
    "text": "need this thing I invented\nbecause all this other stuff, it's great. But it doesn't really\nsolve the problem.",
    "start": "1983660",
    "end": "1989850"
  },
  {
    "text": "And so in this case,\nwhat do they say? Consequently,\nthere is a need for",
    "start": "1989850",
    "end": "1995549"
  },
  {
    "text": "an inexpensive\nand/or fast method of high-accuracy\nsubpixel edge detection. So most of this\ndiscussion is about,",
    "start": "1995550",
    "end": "2002270"
  },
  {
    "text": "why do you want to detect edges? Why is that important problem? And how have people\nbeen detecting edges?",
    "start": "2002270",
    "end": "2008810"
  },
  {
    "text": "There was Roberts'\ngradient operator. There was Irwin Sobel and so on.",
    "start": "2008810",
    "end": "2015299"
  },
  {
    "text": "And then it ends up\nwith, well, all of those are too slow, too\ninaccurate, blah, blah, blah.",
    "start": "2015300",
    "end": "2021710"
  },
  {
    "text": "And here's why you\nneed what I've got. And then there's a\nsummary of the invention,",
    "start": "2021710",
    "end": "2028440"
  },
  {
    "text": "which is a short version\nof what it's all about.",
    "start": "2028440",
    "end": "2033559"
  },
  {
    "text": "The invention provides\nan apparatus and method for accurate subpixel\nedge detection. So that's another\nthing about patents.",
    "start": "2033560",
    "end": "2040175"
  },
  {
    "text": " Originally, the people who came\nup with the idea of patents,",
    "start": "2040175",
    "end": "2047240"
  },
  {
    "text": "the way it's written\nin our Constitution, decided they didn't want to\npatent ideas, abstract ideas.",
    "start": "2047240",
    "end": "2055050"
  },
  {
    "text": "They didn't want to patent\nmathematical formula. And so they didn't\nknow about programming.",
    "start": "2055050",
    "end": "2063020"
  },
  {
    "text": "But the Supreme Court\nlater reinterpreted that to mean that you\ncan't patent programs.",
    "start": "2063020",
    "end": "2069649"
  },
  {
    "text": "Software is not patentable. And so for a long time,\npeople in machine vision",
    "start": "2069650",
    "end": "2078649"
  },
  {
    "text": "weren't able to patent their\nstuff because it was basically software. So then they came\nup with the idea,",
    "start": "2078650",
    "end": "2084289"
  },
  {
    "text": "well, what if the software\nlives in some physical object? You can patent that.",
    "start": "2084290",
    "end": "2090440"
  },
  {
    "text": "And so then they-- all this convoluted\nlanguage to try and make it",
    "start": "2090440",
    "end": "2097100"
  },
  {
    "text": "be a physical thing. And then for a\nwhile, what you did was, because it was unclear how\nthe Supreme Court would come",
    "start": "2097100",
    "end": "2105500"
  },
  {
    "text": "down on this, you chose both. So basically, you\ninvented an apparatus,",
    "start": "2105500",
    "end": "2111170"
  },
  {
    "text": "a box that has an SD card with\na program in it or whatever,",
    "start": "2111170",
    "end": "2116569"
  },
  {
    "text": "and the method separately. And then if someday, they\ndecide that methods are not",
    "start": "2116570",
    "end": "2121670"
  },
  {
    "text": "patentable, then you're\nOK because you've still patented the apparatus.",
    "start": "2121670",
    "end": "2126799"
  },
  {
    "text": "So this meant that in\nmany cases, as here, there are twice as\nmany claims at the end",
    "start": "2126800",
    "end": "2132500"
  },
  {
    "text": "as, really, there need to be\nbecause they had to basically use the same language, just with\napparatus replaced with method",
    "start": "2132500",
    "end": "2141650"
  },
  {
    "text": "and some other small changes. So it's apparatus and method.",
    "start": "2141650",
    "end": "2147700"
  },
  {
    "text": "There was a case in-- so patent cases are\nlitigated in various ways.",
    "start": "2147700",
    "end": "2155420"
  },
  {
    "text": "One special one is import. So if someone's trying\nto import something",
    "start": "2155420",
    "end": "2161020"
  },
  {
    "text": "that you think\nviolates your patent, you can go to a\nparticular patent court, which is in Washington.",
    "start": "2161020",
    "end": "2167260"
  },
  {
    "text": "And you can argue\nyour case there. And there was a case not\nrelated to this patent,",
    "start": "2167260",
    "end": "2173500"
  },
  {
    "text": "but a closely related patent. And there's a company in\nCanada, Matrox, which basically",
    "start": "2173500",
    "end": "2180550"
  },
  {
    "text": "didn't build a machine. But they had software\nthat implemented exactly",
    "start": "2180550",
    "end": "2186310"
  },
  {
    "text": "what was in that patent. And so the expert\nwitnesses for the two sides got up and presented all\ntheir very hairy theories",
    "start": "2186310",
    "end": "2195340"
  },
  {
    "text": "about how this might work. And by the way, the\nexpert witnesses",
    "start": "2195340",
    "end": "2200680"
  },
  {
    "text": "get to look at your code. So if you're trying\nto make an argument, you don't want to show the\nother side of the code.",
    "start": "2200680",
    "end": "2207820"
  },
  {
    "text": "But the expert witness\nfor the other side can look at the code. And so you put that\nperson in a room",
    "start": "2207820",
    "end": "2213970"
  },
  {
    "text": "where they can't copy things. They're not allow to bring their\nlittle USB sticks with them. And they can look\nat all of your code.",
    "start": "2213970",
    "end": "2221089"
  },
  {
    "text": "And so it was pathetic, because\nthe expert witnesses were being asked questions\nlike, well, isn't",
    "start": "2221090",
    "end": "2227560"
  },
  {
    "text": "finding a maximum\nof that function the same as finding the\nminimum of minus that function?",
    "start": "2227560",
    "end": "2233380"
  },
  {
    "text": "And the judges, they were\ncompletely out of their water. And in the end,\nfortunately, the judges",
    "start": "2233380",
    "end": "2239560"
  },
  {
    "text": "found a way out of it, which was\nto say, oh, it's all software. And that's not patentable.",
    "start": "2239560",
    "end": "2244869"
  },
  {
    "text": "So there were three\nweeks of people discussing cubic interpolation\nand stuff like that.",
    "start": "2244870",
    "end": "2252650"
  },
  {
    "text": "And then in the end, it was\nthrown out on a technicality, if you like. So anyway, so\nthat's part of that.",
    "start": "2252650",
    "end": "2259569"
  },
  {
    "text": "So the summary of the invention. Now in terms of patent\nlitigation, most of this",
    "start": "2259570",
    "end": "2265900"
  },
  {
    "text": "is irrelevant in the sense. That is, the lawyers\nimmediately go to the claims.",
    "start": "2265900",
    "end": "2271070"
  },
  {
    "text": "We will get to\nclaims in a second. So this is an unusually clear\nexplanation of the method.",
    "start": "2271070",
    "end": "2279769"
  },
  {
    "text": "Again, part of what you want\nto do when writing a patent is make it as broad as\npossible so you have",
    "start": "2279770",
    "end": "2287060"
  },
  {
    "text": "a clear idea of how to do it. But now someone\nelse, your opponent,",
    "start": "2287060",
    "end": "2292819"
  },
  {
    "text": "is going to figure out a way\nof not doing things exactly the way you describe, making\nsome small change so he can",
    "start": "2292820",
    "end": "2299869"
  },
  {
    "text": "say, oh, this isn't\nyour patent because I did that instead of that. So one of the jobs that\nyou and your lawyer have",
    "start": "2299870",
    "end": "2308090"
  },
  {
    "text": "is to figure out all the ways of\nmodifying it so that it's still the same idea.",
    "start": "2308090",
    "end": "2314430"
  },
  {
    "text": "So probably, things,\nas an inventor, you don't think of\nfirst because you just want to get it to\nwork and to work well.",
    "start": "2314430",
    "end": "2320599"
  },
  {
    "text": "And now you've got\nto think about, oh, what if I replace\nultraviolet with infrared, what if I use sound instead\nof radio waves, and so on.",
    "start": "2320600",
    "end": "2329340"
  },
  {
    "text": "And so as a result,\npatents written by lawyers",
    "start": "2329340",
    "end": "2334390"
  },
  {
    "text": "are almost impossible\nto read because they've generalized everything\nto such a large degree.",
    "start": "2334390",
    "end": "2339950"
  },
  {
    "text": "And so here, Bill Silver\nrefused to let them do that. He just wrote it himself.",
    "start": "2339950",
    "end": "2345380"
  },
  {
    "text": "And it's clear instructions. This is what you do. And it's great. It's very pleasant to read.",
    "start": "2345380",
    "end": "2353420"
  },
  {
    "text": "Then we get to the figures. And so there's first of\nall, a short section that",
    "start": "2353420",
    "end": "2358760"
  },
  {
    "text": "lists all the figures and\njust gives them names. And then there's the\ndetailed description of the drawings,\nwhich is actually",
    "start": "2358760",
    "end": "2365000"
  },
  {
    "text": "the detailed explanation\nof how the thing works. And the other\nconventions, for example,",
    "start": "2365000",
    "end": "2370579"
  },
  {
    "text": "all of the numbers\nthat appear in boldface refer to items in the figures.",
    "start": "2370580",
    "end": "2376310"
  },
  {
    "text": "And if they appear in\nmore than one figure, they better have the same\nnumber, rules like that.",
    "start": "2376310",
    "end": "2381830"
  },
  {
    "text": "Stuff can be rejected because\nyou didn't follow the rules, because your rectangular boxes\naren't quite rectangular.",
    "start": "2381830",
    "end": "2390890"
  },
  {
    "text": "And also, in one place,\nyou called the kernel 131.",
    "start": "2390890",
    "end": "2396349"
  },
  {
    "text": "And in another place,\nyou called it 141. You can't do that. ",
    "start": "2396350",
    "end": "2403620"
  },
  {
    "text": "And he has a formula for the\nCartesian to polar conversion,",
    "start": "2403620",
    "end": "2409320"
  },
  {
    "text": "equation 1A and 1B,\nwhich, as I mentioned, used to not be something\nthat you'd see in patents.",
    "start": "2409320",
    "end": "2417030"
  },
  {
    "text": "And really detailed. We're only up to\nfigure 2 at this point. So they're giving really\ndetailed explanations.",
    "start": "2417030",
    "end": "2424860"
  },
  {
    "text": "And we'll talk\nabout some of that. More formulas. These are the\nformulas for finding the peaks of the\nparabola in the top case",
    "start": "2424860",
    "end": "2432630"
  },
  {
    "text": "and of the triangular wave\nform in the second case.",
    "start": "2432630",
    "end": "2438420"
  },
  {
    "text": "And this is the formula\nfor the bias, which is probably very hard to read. But it's the\nabsolute value of 2S",
    "start": "2438420",
    "end": "2444780"
  },
  {
    "text": "raised to the B, where B\nis that thing that I said could be near 1.",
    "start": "2444780",
    "end": "2451319"
  },
  {
    "text": "And it explicitly says it has\nto be bigger than minus 1. But other than that,\nit can be any value.",
    "start": "2451320",
    "end": "2459240"
  },
  {
    "text": "Tables. Let's see. Oh, OK. So now we get to the\npart that the lawyers will find the most interesting.",
    "start": "2459240",
    "end": "2465300"
  },
  {
    "text": " Where is it? It starts up there.",
    "start": "2465300",
    "end": "2471400"
  },
  {
    "text": "What is claim biz? And for some reason, it's\nnot a separate section. It's just a convention.",
    "start": "2471400",
    "end": "2476560"
  },
  {
    "text": "The words what is claim appear. And now you list the claim. So those are the\nparticular things",
    "start": "2476560",
    "end": "2482650"
  },
  {
    "text": "that you think that you came up\nwith and you want to protect. And the other side\nis probably going",
    "start": "2482650",
    "end": "2491230"
  },
  {
    "text": "to argue that, well,\nactually, it's obvious. It was the end prior\nart, whatever, so.",
    "start": "2491230",
    "end": "2497680"
  },
  {
    "text": "So it starts off quite\na long first claim.",
    "start": "2497680",
    "end": "2503240"
  },
  {
    "text": "And I'll read it\nout because this is what we're actually going to\nstudy, the algorithm for that.",
    "start": "2503240",
    "end": "2509980"
  },
  {
    "text": " And an apparatus\nfor, that's claim 1.",
    "start": "2509980",
    "end": "2517980"
  },
  {
    "text": "And claim 11 is going\nto be the same thing. Sorry, claim 21 is going\nto be the same thing, which",
    "start": "2517980",
    "end": "2525180"
  },
  {
    "text": "says a method for. So this is apparatus 4. Detection and subpixel location\nof edges in a digital image,",
    "start": "2525180",
    "end": "2532560"
  },
  {
    "text": "Said digital image including\na plurality of pixel values, each pixel value\nhaving been associated",
    "start": "2532560",
    "end": "2539760"
  },
  {
    "text": "with respective pixel point on\na regularly spaced pixel grid, said apparatus comprising--\nand comprising,",
    "start": "2539760",
    "end": "2547589"
  },
  {
    "text": "remember, a special term\nhere in patent language. And then it lists three items.",
    "start": "2547590",
    "end": "2555269"
  },
  {
    "text": "For some reason,\nthey are all labeled. Well, they all start with A. So\nit looks like the they're all",
    "start": "2555270",
    "end": "2561690"
  },
  {
    "text": "labeled A. But they're not. So the first one is\na gradient estimator for estimating gradient\nmagnitude and gradient",
    "start": "2561690",
    "end": "2568050"
  },
  {
    "text": "direction at a plurality of\nregularly spaced gradient points in said digital\nimage, so as to provide",
    "start": "2568050",
    "end": "2574710"
  },
  {
    "text": "a plurality of estimates of\ngradient magnitude and gradient direction, each set estimate\nof gradient estimate",
    "start": "2574710",
    "end": "2580770"
  },
  {
    "text": "and gradient direction\nbeing associated with a respective gradient point\non a regularly spaced gradient",
    "start": "2580770",
    "end": "2586590"
  },
  {
    "text": "grid. You wouldn't think\nthat it would be so difficult to talk\nabout, OK, we're",
    "start": "2586590",
    "end": "2592890"
  },
  {
    "text": "going to compute the\nimage brightness gradient. But there it is. And I suppose the idea is\nthat, to us, it's obvious.",
    "start": "2592890",
    "end": "2601410"
  },
  {
    "text": "But this is supposed\nto be something that anyone could understand.",
    "start": "2601410",
    "end": "2607050"
  },
  {
    "text": "So that's one. We're going to get the gradient. And the second one is--",
    "start": "2607050",
    "end": "2613300"
  },
  {
    "text": "oh, and we're also going\nto get gradient magnitude and direction. So that that's component one.",
    "start": "2613300",
    "end": "2619420"
  },
  {
    "text": "Then component two\nis a peak detector, cooperative with set\ngradient estimate,",
    "start": "2619420",
    "end": "2624790"
  },
  {
    "text": "operating such that gradient\ndirection associated with each gradient point is used\nto select the respective set",
    "start": "2624790",
    "end": "2630550"
  },
  {
    "text": "of neighboring gradient points. So that's the quantization\nof the gradient direction. So we pick a certain set of--",
    "start": "2630550",
    "end": "2636910"
  },
  {
    "text": "certain direction,\nand operating such that gradient\nmagnitude associated with each gradient\npoint is compared",
    "start": "2636910",
    "end": "2643630"
  },
  {
    "text": "with each gradient magnitude\nof said respective set of neighboring\ngradient magnitudes as to determine which offset\ngradient magnitudes is",
    "start": "2643630",
    "end": "2650619"
  },
  {
    "text": "a local maximum of gradient\nmagnitude inappropriate said gradient direction. So in short words, it's\na nonmaximum suppression",
    "start": "2650620",
    "end": "2660190"
  },
  {
    "text": "in the quantized\ngradient directions. So that's two. And then the third and last\npart is a subpixel interpolator",
    "start": "2660190",
    "end": "2669070"
  },
  {
    "text": "cooperating with said peak\ndetector, operating such that said local maximum\nof gradient magnitude",
    "start": "2669070",
    "end": "2674350"
  },
  {
    "text": "and a set of neighboring\ngradient magnitudes are used to determine\nan interpolated edge position along a one-dimensional\ngradient magnitude profile,",
    "start": "2674350",
    "end": "2682779"
  },
  {
    "text": "including a gradient\npoint associated with said local maximum of\ngradient magnitude and so on.",
    "start": "2682780",
    "end": "2688089"
  },
  {
    "text": "So that's the interpolation\nstep, where we fit the parabola and we find the peak\nof the parabola.",
    "start": "2688090",
    "end": "2693220"
  },
  {
    "text": "And that's all of claim 1. So why do there need\nto be other claims? Well, the thing is that\nsomeone might come along later",
    "start": "2693220",
    "end": "2700660"
  },
  {
    "text": "and say, well, wait a minute. We already invented that. And so you would claim one\nis blown out of the water.",
    "start": "2700660",
    "end": "2709730"
  },
  {
    "text": "So what you then do is\nyou specialize it further. You add in other things that\nare in your specification",
    "start": "2709730",
    "end": "2717880"
  },
  {
    "text": "and refine it more, and\nmore, and more in the hope that if in litigation later\non, the early claims that",
    "start": "2717880",
    "end": "2724930"
  },
  {
    "text": "are very broad are thrown out,\nthen the narrow ones will still stand. So if they also violate\nall the other conditions,",
    "start": "2724930",
    "end": "2733240"
  },
  {
    "text": "then you're good. So for example, claim 2, so\nwe have claim one further",
    "start": "2733240",
    "end": "2740380"
  },
  {
    "text": "comprising a plain position. So that last step\nthat I described, that plane position\nstep where you",
    "start": "2740380",
    "end": "2746800"
  },
  {
    "text": "intersect the gradient and\nanother line, that isn't in",
    "start": "2746800",
    "end": "2752080"
  },
  {
    "text": "claim 1. So if supposing that\nclaim 1 gets thrown out, then if you were using this\nplane position feature,",
    "start": "2752080",
    "end": "2760750"
  },
  {
    "text": "then you are going\nto violate claim 2. So that's a conditional claim.",
    "start": "2760750",
    "end": "2766210"
  },
  {
    "text": "And it goes on like that. We won't, obviously, read\nthrough all of these.",
    "start": "2766210",
    "end": "2771880"
  },
  {
    "text": "Claim 3 is the\napparatus of claim 2. So claim 2 depends on 1. Claim 3 depends on 2,\nwhich in turn depends on 1.",
    "start": "2771880",
    "end": "2779890"
  },
  {
    "text": "And claim there has a\ngradient directional line.",
    "start": "2779890",
    "end": "2785890"
  },
  {
    "text": "So it's giving a\nparticular way of computing that plane position point.",
    "start": "2785890",
    "end": "2792309"
  },
  {
    "text": "And then there's a whole\nbunch more, obviously. And they get more\nand more detailed",
    "start": "2792310",
    "end": "2798839"
  },
  {
    "text": "so that you protect it in case\nit turns out that, well, claim",
    "start": "2798840",
    "end": "2804000"
  },
  {
    "text": "1, if you put together the\nwritings of Roberts and Irwin Sobel, it's there.",
    "start": "2804000",
    "end": "2810790"
  },
  {
    "text": "And so you need something else. Then let's see. Where does it get\ninteresting again?",
    "start": "2810790",
    "end": "2818150"
  },
  {
    "text": "Claim 11 starts all over again\nwhere claim 1 did with a change",
    "start": "2818150",
    "end": "2824329"
  },
  {
    "text": "that this is a function\nplus means claim. So here, instead\nof saying that you",
    "start": "2824330",
    "end": "2831650"
  },
  {
    "text": "have an apparatus for\ngradient estimation, gradient estimation means for\nestimating gradient magnitude,",
    "start": "2831650",
    "end": "2837770"
  },
  {
    "text": "peak detection means for\nsubpixel interpolation means. So it's not specific about\nwhether it's apparatus,",
    "start": "2837770",
    "end": "2844940"
  },
  {
    "text": "or method, or whatever. And again, this has to do\nwith the history of patterns, that they needed to do that.",
    "start": "2844940",
    "end": "2852600"
  },
  {
    "text": "And so everything is repeated. So we have claims 1 through 10. And then it's repeated in\nfunction plus means up to 21.",
    "start": "2852600",
    "end": "2862849"
  },
  {
    "text": "And then at 21, everything\nis repeated with apparatus replaced with method. So you end up with a\nrelatively simple problem.",
    "start": "2862850",
    "end": "2872960"
  },
  {
    "text": "And it ends up with 34 claims?",
    "start": "2872960",
    "end": "2878599"
  },
  {
    "text": "34 claims. Now these days, they\npenalize you for that, because you've have\nto pay extra if you",
    "start": "2878600",
    "end": "2884570"
  },
  {
    "text": "have more than 20 claims. So things change. So for example, at this time--",
    "start": "2884570",
    "end": "2891060"
  },
  {
    "text": "let's see. Before this, the rule\nwas that your patent",
    "start": "2891060",
    "end": "2899140"
  },
  {
    "text": "would be valid for seven and\n1/2 years after it issued. And that was different from\nthe way the rest of the world",
    "start": "2899140",
    "end": "2908170"
  },
  {
    "text": "did it. And also, it was unfair\nbecause things could be",
    "start": "2908170",
    "end": "2915820"
  },
  {
    "text": "delayed in the patent process. So something could issue 10\nyears after you submit it. And then you get\nanother 10 years",
    "start": "2915820",
    "end": "2922839"
  },
  {
    "text": "just because of that delay. And they were tricks\nof using that. For example, Jerome\nLemelson claimed",
    "start": "2922840",
    "end": "2931510"
  },
  {
    "text": "that he invented\nmachine vision in 1956. And he had a string of\npatents that documented that.",
    "start": "2931510",
    "end": "2940599"
  },
  {
    "text": "And some of them were\ncalled submarine patents, because you didn't know\nthey were in the pipeline.",
    "start": "2940600",
    "end": "2946240"
  },
  {
    "text": "But they depended\non earlier patents. And so anyway, so Congress\ndecided to ax that idea.",
    "start": "2946240",
    "end": "2954140"
  },
  {
    "text": "And so things changed. And I guess already,\nat this point, the rule was 20 years after\nfiling instead of seven and 1/2",
    "start": "2954140",
    "end": "2964240"
  },
  {
    "text": "after issue. Also, they removed the rule\nthat who gets priority.",
    "start": "2964240",
    "end": "2973369"
  },
  {
    "text": "So suppose you\nthink of some idea and someone else thinks of the\nidea, and you submit patents,",
    "start": "2973370",
    "end": "2979240"
  },
  {
    "text": "and then you have these\ntwo conflicting patents. Who gets the patent? Well, it used to be that\nwhoever invented first.",
    "start": "2979240",
    "end": "2986799"
  },
  {
    "text": "And so in the old\ndays, all engineers carried around books\nwith squares in them",
    "start": "2986800",
    "end": "2991880"
  },
  {
    "text": "and every page numbered. And every day, they would ask\ntheir buddies to sign out page.",
    "start": "2991880",
    "end": "2997599"
  },
  {
    "text": "Why? Well, because that\nway, you could document that you thought\nof this idea on April the 3.",
    "start": "2997600",
    "end": "3004380"
  },
  {
    "text": "You didn't have it\nfully fleshed out. But the pages were numbered. So you couldn't cheat and\ntear out pages or add pages.",
    "start": "3004380",
    "end": "3012090"
  },
  {
    "text": "And people's signature was on\nthere saying that, oh, yeah, I saw this. He actually wrote\nthis at that time.",
    "start": "3012090",
    "end": "3019120"
  },
  {
    "text": "And that was a giant\npain because everything you did, every time you\nthought of something, you immediately had\nto write it down.",
    "start": "3019120",
    "end": "3025569"
  },
  {
    "text": "And so they decided,\nno, forget that. Plus, it was very hard\nto prove sometimes.",
    "start": "3025570",
    "end": "3031090"
  },
  {
    "text": "And so the new\nrule is submission. When you send it\nin, that's the date.",
    "start": "3031090",
    "end": "3036330"
  },
  {
    "text": "And if you take your time\nsending it in, too bad. You lose.",
    "start": "3036330",
    "end": "3041820"
  },
  {
    "text": "So anyway, so that's\na typical patent. It's a relatively simple one.",
    "start": "3041820",
    "end": "3048540"
  },
  {
    "text": "But it has some interesting\nmachine vision aspects, which we'll talk about now.",
    "start": "3048540",
    "end": "3053880"
  },
  {
    "start": "3053880",
    "end": "3079009"
  },
  {
    "text": "So we mentioned\nthat in many cases, images are composed of\npatches that are pretty much",
    "start": "3079010",
    "end": "3089030"
  },
  {
    "text": "uniform in brightness. And the interesting stuff\nis at the transitions.",
    "start": "3089030",
    "end": "3096950"
  },
  {
    "text": "And I mentioned that this Dutch\nartist, Piet Cornelis Mondrian,",
    "start": "3096950",
    "end": "3103700"
  },
  {
    "text": "got rich by drawing\nthings that just had rectangular patches of color.",
    "start": "3103700",
    "end": "3110000"
  },
  {
    "text": "And is it art? I don't know. I'm not in that field.",
    "start": "3110000",
    "end": "3115130"
  },
  {
    "text": "But anyway, so I call this the\nMondrian model of the world. And so in that\nmodel of the world,",
    "start": "3115130",
    "end": "3121550"
  },
  {
    "text": "rather than have\nmillions of pixels, you can condense\nthings down into just talking about the edges.",
    "start": "3121550",
    "end": "3127675"
  },
  {
    "text": "Or if you want to find where\nsomething is on a conveyor belt, you just need the edges. If you're trying to\nline up different layers",
    "start": "3127675",
    "end": "3134660"
  },
  {
    "text": "of an integrated circuit mask,\nthen you just need edges.",
    "start": "3134660",
    "end": "3140510"
  },
  {
    "text": "So what's an edge? Well, and what is\nan edge detector? So again, unused,\nremarkably, this",
    "start": "3140510",
    "end": "3148460"
  },
  {
    "text": "is actually\nwell-pointed out here.",
    "start": "3148460",
    "end": "3153800"
  },
  {
    "text": "So edge detection can be\ndefined informally as a process for determining the location\nof boundaries between image",
    "start": "3153800",
    "end": "3160660"
  },
  {
    "text": "regions that are different and\nroughly uniform in brightness. So great. And then in more detail, an\nedge can be usefully defined",
    "start": "3160660",
    "end": "3170050"
  },
  {
    "text": "as a point in an image\nwhere the image gradient magnitude reaches a local\nmaximum in the image gradient",
    "start": "3170050",
    "end": "3176350"
  },
  {
    "text": "direction. So that's important. It's not just the local maximum.",
    "start": "3176350",
    "end": "3182560"
  },
  {
    "text": "It's in that direction. And by the way, they\nmentioned another one, which is where the second\nderivative of brightness",
    "start": "3182560",
    "end": "3189220"
  },
  {
    "text": "crosses 0 in the image\ngradient direction. So think about that. Now that makes sense.",
    "start": "3189220",
    "end": "3194690"
  },
  {
    "text": "So if the first derivative\nreaches a maximum, how do you find the maximum? Well, you differentiate\none more time",
    "start": "3194690",
    "end": "3200500"
  },
  {
    "text": "and set the result equal to 0. So an alternate\nway of determining where an edge is to look\nat second derivatives",
    "start": "3200500",
    "end": "3207490"
  },
  {
    "text": "and look at 0 crossings. And that was used as well.",
    "start": "3207490",
    "end": "3213440"
  },
  {
    "text": "And by the way, then\nthey mention multi-scale. Now remember, this is a\nwhile back, but even then.",
    "start": "3213440",
    "end": "3220260"
  },
  {
    "text": "Thus, it is known in the art\nto perform edge detection at a plurality of spatial\nfrequencies or length scales as",
    "start": "3220260",
    "end": "3227220"
  },
  {
    "text": "appropriate to the application. So we're just going to pretend\nthat we're working directly at the full resolution.",
    "start": "3227220",
    "end": "3234210"
  },
  {
    "text": "But imagine that for\nmany applications, you would not want\nto do that or you",
    "start": "3234210",
    "end": "3240809"
  },
  {
    "text": "would want to work at\nmultiple resolutions. And so for this\npatent, we're not",
    "start": "3240810",
    "end": "3246780"
  },
  {
    "text": "going to get into that,\nas they don't get into it. So we have an image transition.",
    "start": "3246780",
    "end": "3259260"
  },
  {
    "text": "So first of all,\nhere's an ideal edge. So this is a cross-section\nacross the edge.",
    "start": "3259260",
    "end": "3267839"
  },
  {
    "text": "It's a step function. Well, it turns out,\nactually, that's not good.",
    "start": "3267840",
    "end": "3273930"
  },
  {
    "text": "We don't want that. We don't want\ninfinite resolution. That seems crazy\nbecause you think",
    "start": "3273930",
    "end": "3279660"
  },
  {
    "text": "that the bit of the resolution,\nthe happier we should be. Well, the problem is,\nsuppose we now image",
    "start": "3279660",
    "end": "3286800"
  },
  {
    "text": "this onto a device that\nhas discrete pixels. ",
    "start": "3286800",
    "end": "3293530"
  },
  {
    "text": "So we're measuring the\nbrightness at those points.",
    "start": "3293530",
    "end": "3299180"
  },
  {
    "text": "Now can we tell\nwhere the edge is? Well, suppose I move\nthe edge a little bit.",
    "start": "3299180",
    "end": "3304780"
  },
  {
    "text": "Nothing changes in terms of\nthe brightness measurements at those points. So actually, in this\nvery idealized case,",
    "start": "3304780",
    "end": "3312550"
  },
  {
    "text": "I can move it a whole\npixel width back and forth. Nothing changes. So conversely, that\nmeans I can't measure it",
    "start": "3312550",
    "end": "3318550"
  },
  {
    "text": "where it is within the\nfull pixel position. So this is actually undesirable.",
    "start": "3318550",
    "end": "3323619"
  },
  {
    "text": "And basically, this\nis a form of aliasing.",
    "start": "3323620",
    "end": "3328730"
  },
  {
    "text": "So we don't want a\nperfect step edge. We want something\nthat's band limited",
    "start": "3328730",
    "end": "3334210"
  },
  {
    "text": "so that when we sample\nit, we're not introducing artificial frequency components,\nwhich is one way of thinking",
    "start": "3334210",
    "end": "3342310"
  },
  {
    "text": "about what's going wrong here. So we're looking for the edge.",
    "start": "3342310",
    "end": "3348049"
  },
  {
    "text": "And we've said that one method\nis to take the derivative and find the peak\nof the derivative.",
    "start": "3348050",
    "end": "3355250"
  },
  {
    "text": " And then we mentioned\nalso that possibly, you",
    "start": "3355250",
    "end": "3361760"
  },
  {
    "text": "might want to take\nthe second derivative",
    "start": "3361760",
    "end": "3368500"
  },
  {
    "text": "and look for zero crossing. ",
    "start": "3368500",
    "end": "3375280"
  },
  {
    "text": "So this was actually a\npopular game for a while, that we would be looking\nat second derivatives.",
    "start": "3375280",
    "end": "3381940"
  },
  {
    "text": "And in the case of images\nwhich are two-dimensional, what's the generalization\nof the second derivative?",
    "start": "3381940",
    "end": "3387550"
  },
  {
    "text": "It's Laplacian. So instead of these\nedge operators,",
    "start": "3387550",
    "end": "3393310"
  },
  {
    "text": "which give us an estimate\nof the brightness gradient, we'll take the Laplacian and\nwe find the zero crossings.",
    "start": "3393310",
    "end": "3401750"
  },
  {
    "text": "And one of the appealing\nideas about that was that, well, zero\ncrossings are closed curves.",
    "start": "3401750",
    "end": "3409400"
  },
  {
    "text": "It's like a contour map. So you have this-- we've talked about thinking of\nthe image as a surface in 3D,",
    "start": "3409400",
    "end": "3417529"
  },
  {
    "text": "where height is brightness. Well, then we can draw contours,\nisophotes, certain level.",
    "start": "3417530",
    "end": "3423380"
  },
  {
    "text": "And we can draw the 0. Well, not with\nimages themselves. But once we take\nthe Laplacian, we'll",
    "start": "3423380",
    "end": "3430430"
  },
  {
    "text": "have both positive\nand negative values. And we can draw\nthe contour at 0. Well, contours are\nclosed, other than you",
    "start": "3430430",
    "end": "3438480"
  },
  {
    "text": "won't know where they disappear\noff the edge of the image. So that was very appealing\nbecause a lot of times,",
    "start": "3438480",
    "end": "3443510"
  },
  {
    "text": "other edge detectors\nwould peter out. And then you wouldn't quite know\nwhere the edge was and so on.",
    "start": "3443510",
    "end": "3450450"
  },
  {
    "text": "So that was an interesting\ngame for a while. But it turns out that\nyou get worse performance",
    "start": "3450450",
    "end": "3458690"
  },
  {
    "text": "in the presence of noise. And we can discuss that in\nterms of convolution and so on. But we won't do\nthat for the moment.",
    "start": "3458690",
    "end": "3465540"
  },
  {
    "text": "So second derivative. And it's briefly\nmentioned in the patent. But it's not pursued.",
    "start": "3465540",
    "end": "3472400"
  },
  {
    "text": "And then what does that\ncorrespond to in the original?",
    "start": "3472400",
    "end": "3478039"
  },
  {
    "text": " E. So what we're\nreally doing is looking",
    "start": "3478040",
    "end": "3486890"
  },
  {
    "text": "for an inflection point. What's an inflection point? Well, imagine that you're\ndriving along this curve.",
    "start": "3486890",
    "end": "3492620"
  },
  {
    "text": "You're turning left. You're turning left. You're turning left. You're turning left. Oh, now I'm turning right. Now I'm turning right.",
    "start": "3492620",
    "end": "3498410"
  },
  {
    "text": "So the inflection point is where\nyou're changing directions. And in terms of\nderivatives, it's",
    "start": "3498410",
    "end": "3503810"
  },
  {
    "text": "the maximum of the derivatives. So those are\ndifferent ways that we",
    "start": "3503810",
    "end": "3509180"
  },
  {
    "text": "could define where the edge is.",
    "start": "3509180",
    "end": "3517680"
  },
  {
    "text": "So let's talk a little bit about\nbrightness gradient estimation.",
    "start": "3517680",
    "end": "3524349"
  },
  {
    "text": "So you saw in the figures\nthere a number of operators.",
    "start": "3524350",
    "end": "3530960"
  },
  {
    "start": "3530960",
    "end": "3544910"
  },
  {
    "text": "So this was Larry Roberts' idea. And it's very easy to compute,\nvery cheap to compute.",
    "start": "3544910",
    "end": "3553460"
  },
  {
    "text": "But it's a 45 degree angle. So what was the idea here? So why not operate in x and y?",
    "start": "3553460",
    "end": "3566290"
  },
  {
    "text": "Well, it turns out\nthat this makes it possible to have\nthe two operators refer",
    "start": "3566290",
    "end": "3574270"
  },
  {
    "text": "to the same reference point. So where are we\nestimating the derivative?",
    "start": "3574270",
    "end": "3580300"
  },
  {
    "text": "Well, you might say, OK, I'm\nestimating the derivative here by taking the difference\nbetween this value and that.",
    "start": "3580300",
    "end": "3587620"
  },
  {
    "text": "And someone else\nmight say, well, we're estimating\nthe derivative here because I'm taking the\ndifference of the value here",
    "start": "3587620",
    "end": "3593380"
  },
  {
    "text": "and the value there. And we'll see in a second\nthat neither of those is well-founded.",
    "start": "3593380",
    "end": "3599560"
  },
  {
    "text": "It's more reasonable\nto say I'm estimating the derivative there. And the resistance\nto that, of course,",
    "start": "3599560",
    "end": "3605720"
  },
  {
    "text": "is that's not a grid point. So it's not a pixel. It's halfway offset in pixels.",
    "start": "3605720",
    "end": "3611260"
  },
  {
    "text": "But who cares? Maybe it's a good place to\nestimate the derivative then.",
    "start": "3611260",
    "end": "3616569"
  },
  {
    "text": "And so Roberts used\nthese two operators. And then he used\nthe sum of squares",
    "start": "3616570",
    "end": "3628090"
  },
  {
    "text": "and noted that, conveniently,\nthat's actually the same as",
    "start": "3628090",
    "end": "3633640"
  },
  {
    "text": "if you'd computed\nthe sum of squares",
    "start": "3633640",
    "end": "3640539"
  },
  {
    "text": "of gradients in the\noriginal coordinate system. Because if you do the 45 degree\nrotation, cosine 45 degrees,",
    "start": "3640540",
    "end": "3648460"
  },
  {
    "text": "sine 45 degrees, it's 1\nover square root of 2.",
    "start": "3648460",
    "end": "3653530"
  },
  {
    "text": "You get the same thing except\nfor proportionality factor, because these are further\napart than the pixel",
    "start": "3653530",
    "end": "3660980"
  },
  {
    "text": "spacing by a square root of 2. So these aren't the same. But they're related\nby some number.",
    "start": "3660980",
    "end": "3669109"
  },
  {
    "text": "They're proportional\nto one another. So that is Roberts' gradient.",
    "start": "3669110",
    "end": "3675050"
  },
  {
    "text": "And then we had Irwin Sobel. Well, let's first address\nthis question about estimating",
    "start": "3675050",
    "end": "3685520"
  },
  {
    "text": "the derivatives. And we may have done a\nlittle bit of this already. But let's do it more carefully.",
    "start": "3685520",
    "end": "3692130"
  },
  {
    "text": "So we have this computational\nmolecule for E of x.",
    "start": "3692130",
    "end": "3702109"
  },
  {
    "text": "And we know from Taylor series. ",
    "start": "3702110",
    "end": "3717570"
  },
  {
    "text": "And so now, we can use that to-- ",
    "start": "3717570",
    "end": "3732589"
  },
  {
    "text": "so when we do that,\nthe f of x cancels out. And then we divide by delta x. So we get-- that's\nthe part we want.",
    "start": "3732590",
    "end": "3740359"
  },
  {
    "text": "We're trying to\nestimate the derivative. So that's perfect. And then we divide by delta x.",
    "start": "3740360",
    "end": "3745460"
  },
  {
    "text": "So we get delta x 2. ",
    "start": "3745460",
    "end": "3752130"
  },
  {
    "text": "So this is the lowest\norder error term. So that's what we want. And that's the\npart we don't want.",
    "start": "3752130",
    "end": "3760050"
  },
  {
    "text": "And when we talk about\nhow good a formula it is, we'll be looking at two things. One is the order of the\nlowest order error term,",
    "start": "3760050",
    "end": "3767349"
  },
  {
    "text": "which here is second order. And then the other\none is the multiplier. I suppose we have\ntwo methods that",
    "start": "3767350",
    "end": "3773550"
  },
  {
    "text": "have the same order over\nthe lowest error term. Then we can compare them based\non the size of this multiplier.",
    "start": "3773550",
    "end": "3781650"
  },
  {
    "text": "But the more important\none first is the order. So this one's not very good,\nbecause even it works perfectly",
    "start": "3781650",
    "end": "3788369"
  },
  {
    "text": "on a straight line. But even if there's a little\nbit of curvature to it, it's going to get the wrong\nanswer because of that.",
    "start": "3788370",
    "end": "3795700"
  },
  {
    "text": "So let's instead look at f of\nx plus f of x minus delta x.",
    "start": "3795700",
    "end": "3800954"
  },
  {
    "text": " So here, we said,\nOK, this is our x.",
    "start": "3800955",
    "end": "3810790"
  },
  {
    "text": "And this is x plus delta x. And we're obviously trying\nto get the derivative at x.",
    "start": "3810790",
    "end": "3817210"
  },
  {
    "text": "Now we're saying, OK, this is x.",
    "start": "3817210",
    "end": "3827510"
  },
  {
    "text": "That's x minus delta x. And we're trying to get\nthe derivative there. And if we go through\nthe same arithmetic,",
    "start": "3827510",
    "end": "3839390"
  },
  {
    "text": "we get the same size error. But the sign is flipped.",
    "start": "3839390",
    "end": "3845960"
  },
  {
    "text": "So well, what you might\nsay is, well, gee, let's just average these two. Then we can get rid of\nthat low order error term.",
    "start": "3845960",
    "end": "3854300"
  },
  {
    "text": " And then so if we\naverage them, which",
    "start": "3854300",
    "end": "3861640"
  },
  {
    "text": "means the sum of these\ntwo divided by 2, then we just get f of x.",
    "start": "3861640",
    "end": "3868750"
  },
  {
    "text": "That's what we want. And this cancels out. Well, but then they're\nhigher order terms.",
    "start": "3868750",
    "end": "3874310"
  },
  {
    "text": "So we better fill in\nthe higher order terms. So here, we got delta x squared\nover 6 f triple prime of x.",
    "start": "3874310",
    "end": "3882385"
  },
  {
    "start": "3882385",
    "end": "3900340"
  },
  {
    "text": "And so what we notice is that\nnow, we have a higher order",
    "start": "3900340",
    "end": "3905860"
  },
  {
    "text": "error term, which is desirable. So this formula will\nnot just work perfectly",
    "start": "3905860",
    "end": "3911020"
  },
  {
    "text": "for a straight line. But even if the straight\nline has a bit of curvature to it, a second derivative, as\nlong as the third derivative",
    "start": "3911020",
    "end": "3917619"
  },
  {
    "text": "isn't too large, we'll be OK. So what does averaging\nthese two actually mean?",
    "start": "3917620",
    "end": "3924650"
  },
  {
    "text": "Well, it means that we take-- ",
    "start": "3924650",
    "end": "3940610"
  },
  {
    "text": "that in effect, we've\nused that operator. All right? ",
    "start": "3940610",
    "end": "3947690"
  },
  {
    "text": "And that's a perfectly\nreasonable approximation to a derivative.",
    "start": "3947690",
    "end": "3953000"
  },
  {
    "text": "We're subtracting two things. And we're dividing between the\ndistance between where we've",
    "start": "3953000",
    "end": "3958579"
  },
  {
    "text": "measured those two things. ",
    "start": "3958580",
    "end": "3965500"
  },
  {
    "text": "And then you might say,\nwell, what if, instead, I",
    "start": "3965500",
    "end": "3972680"
  },
  {
    "text": "take this idea? But now I'm saying, I'm\ngoing to find an estimate",
    "start": "3972680",
    "end": "3986380"
  },
  {
    "text": "of the derivative there. And the objection\nwould be, well, it's not a pixel position.",
    "start": "3986380",
    "end": "3991810"
  },
  {
    "text": "But that doesn't matter. We can have even derivatives\nbe offset by 1/2 a pixel as",
    "start": "3991810",
    "end": "3997690"
  },
  {
    "text": "long as we just remember that,\nmentally, that's happened. Now I can go through\nand use Taylor's series,",
    "start": "3997690",
    "end": "4003600"
  },
  {
    "text": "blah, blah, blah. But actually, all I need to do\nis use this formula and divide delta x by 2, because\nthis is the same thing",
    "start": "4003600",
    "end": "4011190"
  },
  {
    "text": "with delta x divided by 2. So in this case,\nmy formula is going to be f plus and then delta x\nover 2 squared divided by 6.",
    "start": "4011190",
    "end": "4023130"
  },
  {
    "text": "So now I have to compare\ntwo operators that have the same lowest\norder error term.",
    "start": "4023130",
    "end": "4030060"
  },
  {
    "text": "And now I look at the\nmagnitude of the factor in front of the error term.",
    "start": "4030060",
    "end": "4035230"
  },
  {
    "text": "And obviously, this one is a\n1/4 of the size of that one. So this one has an\nadvantage in that respect.",
    "start": "4035230",
    "end": "4046470"
  },
  {
    "text": "I can get a relatively\nhigh order error term. And I can have a\nsmall multiplier",
    "start": "4046470",
    "end": "4055650"
  },
  {
    "text": "so that the error\nis actually smaller. And it makes sense. Over here, we're comparing\nthings that are relatively",
    "start": "4055650",
    "end": "4061590"
  },
  {
    "text": "far apart and seeing-- so obviously, they\nwill be affected more by higher order derivatives\nthan in this case, where",
    "start": "4061590",
    "end": "4069600"
  },
  {
    "text": "I'm looking at things\nthat are close together. ",
    "start": "4069600",
    "end": "4078250"
  },
  {
    "text": "Now that's fine for Ex. But how is this going\nto work with Ey?",
    "start": "4078250",
    "end": "4083710"
  },
  {
    "text": "Because if I take that\nidea in both directions,",
    "start": "4083710",
    "end": "4093839"
  },
  {
    "text": "so here is my Ex operator.",
    "start": "4093840",
    "end": "4100399"
  },
  {
    "text": "And then there's a\npotential Ey operator. Well, that's not going\nto work, because this one",
    "start": "4100399",
    "end": "4107630"
  },
  {
    "text": "is a good estimate of\nthe x derivative there. And this one is a good estimate\nof the x derivative-- y",
    "start": "4107630",
    "end": "4114470"
  },
  {
    "text": "derivative there. And those aren't consistent. And so what I do,\nwell, one way to deal",
    "start": "4114470",
    "end": "4123170"
  },
  {
    "text": "with it is that\nbecause these now,",
    "start": "4123170",
    "end": "4138109"
  },
  {
    "text": "if I go through that\nTaylor series story, these are good estimates\nof the x derivative here.",
    "start": "4138109",
    "end": "4145140"
  },
  {
    "text": "And this is a good estimate\nof the y derivative here. And oh, those are\nthe same point. So that's how we get to that.",
    "start": "4145140",
    "end": "4154700"
  },
  {
    "text": "And when we talked about\nfixed optical flow, we already mentioned that\nthat's the way you want",
    "start": "4154700",
    "end": "4160839"
  },
  {
    "text": "to compute the derivatives. And well, there, we needed\nnot just Ex, Ey, Et, we need",
    "start": "4160840",
    "end": "4168639"
  },
  {
    "text": "not just Ex and Ey,\nbut we needed Et. And so there, we're\ndealing with a whole cube.",
    "start": "4168640",
    "end": "4175929"
  },
  {
    "start": "4175929",
    "end": "4183580"
  },
  {
    "text": "And so, for example, to\ncompute the derivative in the y direction, we can do that.",
    "start": "4183580",
    "end": "4192974"
  },
  {
    "start": "4192974",
    "end": "4199400"
  },
  {
    "text": "And under materials, there's\nthe detailed explanation",
    "start": "4199400",
    "end": "4205489"
  },
  {
    "text": "of how to do the\nfixed optical flow. And that's in there.",
    "start": "4205490",
    "end": "4211500"
  },
  {
    "text": "So now the story doesn't\nend there, because now we",
    "start": "4211500",
    "end": "4216630"
  },
  {
    "text": "might talk about efficiency. And so for example, how much\nwork these operators-- well,",
    "start": "4216630",
    "end": "4226440"
  },
  {
    "text": "here we have three-- we can subtract these two. That's 1.",
    "start": "4226440",
    "end": "4231768"
  },
  {
    "text": "Subtract those two. That's 2. Then we add them up. So it's 3 operations for this\nand 3 operations for that.",
    "start": "4231768",
    "end": "4238260"
  },
  {
    "text": "But actually, they share\nthese subcomputations.",
    "start": "4238260",
    "end": "4245519"
  },
  {
    "text": " And this one's 1 operation.",
    "start": "4245520",
    "end": "4250540"
  },
  {
    "text": "And that one's 1 operation. So 3 plus 3 is 6. So 1 operation and 1 operation.",
    "start": "4250540",
    "end": "4259210"
  },
  {
    "text": "And then we combine them. We add them to get E sub x.",
    "start": "4259210",
    "end": "4264370"
  },
  {
    "text": "And we subtract\nthem to get E sub y. So that's 1 of plus 1 of. So a total of 4 ofs.",
    "start": "4264370",
    "end": "4272320"
  },
  {
    "text": "So by cleverly arranging\nthe computation, we can cut it back from\nsix operations before.",
    "start": "4272320",
    "end": "4279010"
  },
  {
    "text": "And you might say, who cares? Well, the thing is you're doing\nthis in each of a few million pixels.",
    "start": "4279010",
    "end": "4284180"
  },
  {
    "text": "So this is one place\nwhere, actually, efficiency does matter.",
    "start": "4284180",
    "end": "4289270"
  },
  {
    "text": "And I won't go through this. If you do this the obvious\nway, it takes, I don't know,",
    "start": "4289270",
    "end": "4294790"
  },
  {
    "text": "21 ofs to do this. If you get Ex, Ey, Et, the\nobvious way, you get 21 ofs.",
    "start": "4294790",
    "end": "4300760"
  },
  {
    "text": "And I'll leave it to you to-- and people sometimes come\nup with surprising solutions",
    "start": "4300760",
    "end": "4307000"
  },
  {
    "text": "that beat the obvious solution\nby a significant factor.",
    "start": "4307000",
    "end": "4313260"
  },
  {
    "text": "And by the way, there's\nRoberts' cross operator. So he was way ahead of his time.",
    "start": "4313260",
    "end": "4321870"
  },
  {
    "text": "And what about Irwin Sobel? So Irwin Sobel\nlooked at this stuff.",
    "start": "4321870",
    "end": "4328170"
  },
  {
    "text": "And this is where he got to. He said, well, this is obviously\na good way of doing it.",
    "start": "4328170",
    "end": "4334960"
  },
  {
    "text": "It's an estimate of the\nderivative at that pixel. And it doesn't have a\nlow order error term.",
    "start": "4334960",
    "end": "4341310"
  },
  {
    "text": "But then he needed\nto do it in 2D. So he replicated it. But why did he replicate it\nthe particular way he did?",
    "start": "4341310",
    "end": "4348420"
  },
  {
    "text": "Well, we can think\nof it in this way. ",
    "start": "4348420",
    "end": "4356949"
  },
  {
    "text": "I'm leaving out the consonants. But basically, we do an average.",
    "start": "4356950",
    "end": "4362360"
  },
  {
    "text": "So this is a convolution. So that's the\nunderlying operator.",
    "start": "4362360",
    "end": "4367929"
  },
  {
    "text": "And now we're going to smooth\nit by doing an average over a 2",
    "start": "4367930",
    "end": "4373180"
  },
  {
    "text": "by 2 block, which corresponds\nto convolution with this.",
    "start": "4373180",
    "end": "4378220"
  },
  {
    "text": "And if you like, we\ncan put in 1 over 4. ",
    "start": "4378220",
    "end": "4384525"
  },
  {
    "text": "I'm not concerned about those\nmultipliers at the moment. ",
    "start": "4384525",
    "end": "4389670"
  },
  {
    "text": "And what do we get? Well, hopefully, you remember\nsomething about convolution.",
    "start": "4389670",
    "end": "4395400"
  },
  {
    "text": "So we flip one of these. Well, it doesn't do anything to\nthis because it's symmetrical. And then we shift it\nover the other one.",
    "start": "4395400",
    "end": "4401770"
  },
  {
    "text": "So the first position where\nwe get something non-zero is when we have it\nin this position.",
    "start": "4401770",
    "end": "4409590"
  },
  {
    "text": "And what do we get? We get minus 1. So then I take this operator\nand move it one to the right.",
    "start": "4409590",
    "end": "4417469"
  },
  {
    "text": "Now it's overlapping\nin two places. I get minus 1 times 1 is\nminus 1 plus 1 times 1.",
    "start": "4417470",
    "end": "4425840"
  },
  {
    "text": "That's 0. Shift it over one more time.",
    "start": "4425840",
    "end": "4431150"
  },
  {
    "text": "Now it's only\noverlapping over here. And I get plus 1. ",
    "start": "4431150",
    "end": "4438929"
  },
  {
    "text": "Then I move it one row down. And now I line it up over here.",
    "start": "4438930",
    "end": "4445500"
  },
  {
    "text": "And I get 1 1 times\nminus 1 minus 1. That's minus 2.",
    "start": "4445500",
    "end": "4451780"
  },
  {
    "text": "I shift it one to the right. They all cancel out, 0. Shifted one to the right, I\nget 1 1 times 1 1 is plus 2.",
    "start": "4451780",
    "end": "4463140"
  },
  {
    "text": "Shift it down one more,\nI get minus 1 0 plus 1.",
    "start": "4463140",
    "end": "4469770"
  },
  {
    "text": "And there's Irwin\nSobel's ex operator. Same in the y direction.",
    "start": "4469770",
    "end": "4476230"
  },
  {
    "text": "So we can think of it as\njust a way of smoothing.",
    "start": "4476230",
    "end": "4483720"
  },
  {
    "text": "And smoothing has the\neffect of reducing noise. So unfortunately, it\nalso has the effect",
    "start": "4483720",
    "end": "4490140"
  },
  {
    "text": "of blurring things,\nmaking them-- so there's a\ntrade-off obviously. We can reduce the edge\ngradient at the same time",
    "start": "4490140",
    "end": "4501690"
  },
  {
    "text": "as we're cutting\ndown on the noise. And so Irwin Sobel managed\nto avoid the 1/2 pixel offset",
    "start": "4501690",
    "end": "4511710"
  },
  {
    "text": "problem by having two\noperators, each of which is 1/2 pixel offset. And when you convolve them\ntogether, you get 0, or 1,",
    "start": "4511710",
    "end": "4519330"
  },
  {
    "text": "or minus 1 offset. So that's the very front\nend of this operation.",
    "start": "4519330",
    "end": "4529610"
  },
  {
    "text": "And they discuss--\nthey don't say, you should use this or that. They just give various\nformulas and the preferred one.",
    "start": "4529610",
    "end": "4539000"
  },
  {
    "text": "So a lot of times, it will say\nthe preferred implementation. And that's a tricky one because\nlater on, if someone says,",
    "start": "4539000",
    "end": "4549719"
  },
  {
    "text": "oh, but I didn't implement\nyour preferred implementation, the lawyer will\nsay, well, you're",
    "start": "4549720",
    "end": "4555560"
  },
  {
    "text": "talking about an\nexemplary implementation, not what's claimed\nin the patent.",
    "start": "4555560",
    "end": "4561230"
  },
  {
    "text": "What's claimed in the\npatent is in the claims. What you say in\nthe specification is just a way for somebody\nto implement this.",
    "start": "4561230",
    "end": "4569580"
  },
  {
    "text": "And just because yours\ndoesn't implement it exactly the same way is irrelevant. What's relevant is\nwhether it violates",
    "start": "4569580",
    "end": "4577010"
  },
  {
    "text": "infringes on the claims. And so a lot of times,\nthere'll be verbiage about,",
    "start": "4577010",
    "end": "4582850"
  },
  {
    "text": "in a preferred implementation,\nthe gain is 10 or whatever. So if your gain is 11,\nthat doesn't excuse you,",
    "start": "4582850",
    "end": "4589480"
  },
  {
    "text": "because the important part is\nwhether the claims cover it or not. So that's the very front end.",
    "start": "4589480",
    "end": "4596530"
  },
  {
    "text": "And then we're going to\ntalk about the next step.",
    "start": "4596530",
    "end": "4602445"
  },
  {
    "start": "4602445",
    "end": "4609829"
  },
  {
    "text": "So the next step\nis the conversion from Cartesian to\npolar coordinates",
    "start": "4609830",
    "end": "4620220"
  },
  {
    "text": "for the brightness gradient. And we'll do this\nmostly next time.",
    "start": "4620220",
    "end": "4628020"
  },
  {
    "text": "But for programming\npeople, we'll",
    "start": "4628020",
    "end": "4648380"
  },
  {
    "text": "call it atan2 of\nthose two arguments. And the reason is that we\ndon't want to have division",
    "start": "4648380",
    "end": "4653810"
  },
  {
    "text": "by 0, which we can avoid\nby using the two argument version of atan.",
    "start": "4653810",
    "end": "4660699"
  },
  {
    "text": "So now we have a\ngradient magnitude. And we have a direction.",
    "start": "4660700",
    "end": "4666580"
  },
  {
    "text": "And the next step is to\nquantize the direction. So what we're trying\nto find is a maximum",
    "start": "4666580",
    "end": "4673510"
  },
  {
    "text": "in the direction\nacross the edge. So suppose the edge is running\nthis way, brightness E1, E2.",
    "start": "4673510",
    "end": "4682750"
  },
  {
    "text": "Then we want to\nscan across the edge and look for a maximum, E0.",
    "start": "4682750",
    "end": "4696530"
  },
  {
    "text": "And the direction\nis given by E theta.",
    "start": "4696530",
    "end": "4702199"
  },
  {
    "text": "So that's why we\nneed E theta and e0. And unfortunately, we don't\nhave points in all places",
    "start": "4702200",
    "end": "4710820"
  },
  {
    "text": "in the plane, only on this grid. So we can only easily deal\nwith quantized directions.",
    "start": "4710820",
    "end": "4718870"
  },
  {
    "text": "So we got compass directions,\neight possible directions.",
    "start": "4718870",
    "end": "4725010"
  },
  {
    "text": "And we're looking for a maximum. And now on a different\ngrid, we would",
    "start": "4725010",
    "end": "4730980"
  },
  {
    "text": "have different quantization. But we would still\nhave a problem. ",
    "start": "4730980",
    "end": "4738469"
  },
  {
    "text": "So the center one\nis going to be G0.",
    "start": "4738470",
    "end": "4745040"
  },
  {
    "text": "And then, so suppose this is our\nquantized gradient direction.",
    "start": "4745040",
    "end": "4753110"
  },
  {
    "text": "And then we'll call the\ngradient here G plus and the gradient there G minus.",
    "start": "4753110",
    "end": "4758960"
  },
  {
    "text": " And so we have\nthose three values.",
    "start": "4758960",
    "end": "4766260"
  },
  {
    "text": "And clearly, the center\npixel is an important one.",
    "start": "4766260",
    "end": "4771409"
  },
  {
    "text": "It's on the edge but\nquantized to pixel positions.",
    "start": "4771410",
    "end": "4777120"
  },
  {
    "text": "So it doesn't give\nus subpixel accuracy. So now, first of all,\nwe keep only if--",
    "start": "4777120",
    "end": "4788730"
  },
  {
    "start": "4788730",
    "end": "4793960"
  },
  {
    "text": "so we step through the image. And we ignore nonmaxima.",
    "start": "4793960",
    "end": "4800510"
  },
  {
    "text": "And now what we actually want is\nsomething that is asymmetrical.",
    "start": "4800510",
    "end": "4805969"
  },
  {
    "text": " So it could happen that\nG0 is equal to G plus",
    "start": "4805970",
    "end": "4812869"
  },
  {
    "text": "or equal to G minus. And we could say, well, that\nmeans it's not a maximum. And just throw it out.",
    "start": "4812870",
    "end": "4818910"
  },
  {
    "text": "But of course, that's\nwrong, because we have to keep one of\nthose two points.",
    "start": "4818910",
    "end": "4824210"
  },
  {
    "text": "But we don't want to keep\nboth, because then we have two points on the edge\nthat are put on the edge that",
    "start": "4824210",
    "end": "4829610"
  },
  {
    "text": "are a pixel apart. So that's no good either. So we have to have\na tie breaker. So it's important that this\ncondition is asymmetrical.",
    "start": "4829610",
    "end": "4840270"
  },
  {
    "text": "We can make it\nasymmetrical the other way. That will also work. But we need to have\na way of dealing",
    "start": "4840270",
    "end": "4845810"
  },
  {
    "text": "with a case, where G0 is equal\nto G plus or equal to G minus.",
    "start": "4845810",
    "end": "4852980"
  },
  {
    "text": "And then we're trying\nto find the peak. Now how does the curve go?",
    "start": "4852980",
    "end": "4860360"
  },
  {
    "text": "Well, we don't know. But we can imagine various--",
    "start": "4860360",
    "end": "4866170"
  },
  {
    "text": "well, it's not a\nvery good parabola. But so we have-- ",
    "start": "4866170",
    "end": "4874381"
  },
  {
    "text": "here's our parabola. We take its derivative. ",
    "start": "4874381",
    "end": "4881790"
  },
  {
    "text": "And there's the peak. And in terms of these\nquantities here,",
    "start": "4881790",
    "end": "4904360"
  },
  {
    "text": "if you go through\nand substitute, if you fit a, b, and c,\nthen you get this formula.",
    "start": "4904360",
    "end": "4912640"
  },
  {
    "text": "And well, here I've used x. Here I'm using S.",
    "start": "4912640",
    "end": "4919060"
  },
  {
    "text": "And we can show\nimportantly that S",
    "start": "4919060",
    "end": "4928350"
  },
  {
    "text": "computed this way is 1/2, is\nlimited in magnitude to a 1/2.",
    "start": "4928350",
    "end": "4935010"
  },
  {
    "text": "Why is that? Well, if it was,\nlet's say, 3/4, that would mean that we'd be\ncloser to this point.",
    "start": "4935010",
    "end": "4943450"
  },
  {
    "text": "And then this should\nbe the maximum. So you can actually\nshow that can't happen.",
    "start": "4943450",
    "end": "4948570"
  },
  {
    "text": "So that's its\nrange of solutions, provided G0 is the maxim.",
    "start": "4948570",
    "end": "4954900"
  },
  {
    "text": "And you can understand\nwhat's going on here. So if G plus is the\nsame as G minus, S is 0.",
    "start": "4954900",
    "end": "4964559"
  },
  {
    "text": "We have a balanced parabola. We have this situation. ",
    "start": "4964560",
    "end": "4970840"
  },
  {
    "text": "And in this case, of\ncourse you would say, oh, that's it if these\ntwo are the same.",
    "start": "4970840",
    "end": "4977140"
  },
  {
    "text": "And then it gets\nshifted the more there's a difference\nbetween the two sides.",
    "start": "4977140",
    "end": "4983700"
  },
  {
    "text": "And how much does\nit get shifted by? Well, we look at the\nsecond derivative,",
    "start": "4983700",
    "end": "4989440"
  },
  {
    "text": "which is this difference here. Well, it's not the\nsecond derivative,",
    "start": "4989440",
    "end": "4994860"
  },
  {
    "text": "but proportional to\nthe second derivative. So we're looking at the\naverage of G plus and G",
    "start": "4994860",
    "end": "5000620"
  },
  {
    "text": "minus and comparing\nit to this point. And the larger\nthat difference is,",
    "start": "5000620",
    "end": "5006440"
  },
  {
    "text": "the higher the\nsecond derivative. So it just corresponds to-- b is the first derivative.\na is the second.",
    "start": "5006440",
    "end": "5016679"
  },
  {
    "text": "So that's one way of getting\nthe subpixel accuracy. And then the other\nway they mention",
    "start": "5016680",
    "end": "5023280"
  },
  {
    "text": "is the little triangle model. And that just seems weird. But for some reason,\nthere are circumstances",
    "start": "5023280",
    "end": "5031800"
  },
  {
    "text": "where it's a pretty good model. ",
    "start": "5031800",
    "end": "5036970"
  },
  {
    "text": "So again, we have\nG0, G plus, G minus. ",
    "start": "5036970",
    "end": "5047800"
  },
  {
    "text": "Let's see. So [INAUDIBLE]. ",
    "start": "5047800",
    "end": "5053600"
  },
  {
    "text": "So again, with\nthree measurements, we have just enough\ninformation to fit this model.",
    "start": "5053600",
    "end": "5060170"
  },
  {
    "text": "The assumption of the model\nis that the slopes of the two lines are the same.",
    "start": "5060170",
    "end": "5065370"
  },
  {
    "text": "And then we just need\nto vertical position in the horizontal position. And in this case,\nS comes out to be--",
    "start": "5065370",
    "end": "5071895"
  },
  {
    "start": "5071895",
    "end": "5081540"
  },
  {
    "text": "and again, that formula\nis in the patent. And it's pretty easy to derive. ",
    "start": "5081540",
    "end": "5091690"
  },
  {
    "text": "So we'll talk about\nthis patent some more. But there's some\ninteresting technical issues",
    "start": "5091690",
    "end": "5102100"
  },
  {
    "text": "aside from the patentees\nthat we'll get to.",
    "start": "5102100",
    "end": "5110400"
  },
  {
    "text": "For example, one reason an edge\nmight not be a unit step edge",
    "start": "5110400",
    "end": "5119100"
  },
  {
    "text": "is because of defocus. And so the question is, what\nis the shape of that curve?",
    "start": "5119100",
    "end": "5124560"
  },
  {
    "text": "Because this whole\nbusiness here, we're just making up stuff. We're saying, oh,\nmaybe it's a parabola.",
    "start": "5124560",
    "end": "5130800"
  },
  {
    "text": "Or maybe it's a triangle. Well, can't we just figure\nout exactly what it is?",
    "start": "5130800",
    "end": "5136680"
  },
  {
    "text": "Particularly in the\ncase of defocus, we should be able to\nfigure out just what-- obviously, it's not going\nto be a step edge anymore.",
    "start": "5136680",
    "end": "5143490"
  },
  {
    "text": "It's going to be smeared\nout because it's blurred. It's out of focus. But what is that? So we'll talk about\nthat and see how",
    "start": "5143490",
    "end": "5151920"
  },
  {
    "text": "that affects our method of\nrecovering the actual edge position. And then we'll talk\nabout some alternatives",
    "start": "5151920",
    "end": "5161070"
  },
  {
    "text": "to what's in the patent. In particular, this quantization\nof a gradient direction",
    "start": "5161070",
    "end": "5168900"
  },
  {
    "text": "is problematic, particularly\non the square grid, where we've only got eight directions.",
    "start": "5168900",
    "end": "5174120"
  },
  {
    "text": "And so we'll talk about\nother ways of proceeding that do not have that\nvery cause quantization.",
    "start": "5174120",
    "end": "5181470"
  },
  {
    "text": "Like here, we're finding a\nmaximum in that direction or in this direction. But if the gradient is\nactually in-between, it's not.",
    "start": "5181470",
    "end": "5190140"
  },
  {
    "text": "Anyway, so there's more. And it seems like a\nvery simple problem. But it shows how, if you\nwant really good performance,",
    "start": "5190140",
    "end": "5199560"
  },
  {
    "text": "there are a lot of\ndetails to figure out, like this business\nabout, what's a good way to compute the derivatives?",
    "start": "5199560",
    "end": "5206720"
  },
  {
    "start": "5206720",
    "end": "5214436"
  }
]