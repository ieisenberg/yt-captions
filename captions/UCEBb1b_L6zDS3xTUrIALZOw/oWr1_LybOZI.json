[
  {
    "text": "The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6330"
  },
  {
    "text": "continue to offer high-quality\neducational resources for free. To make a donation or\nview additional materials",
    "start": "6330",
    "end": "13320"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu.",
    "start": "13320",
    "end": "18370"
  },
  {
    "text": " RUSS TEDRAKE: OK,\nso last time we",
    "start": "18370",
    "end": "23735"
  },
  {
    "text": "talked about\nnon-linear dynamics. We drew phase plots. We talked about\nbasins of attraction. We talked about fixed points.",
    "start": "23735",
    "end": "31380"
  },
  {
    "text": "And we hinted at control, and\nI tried to motivate control not as some nice matrix\nmanipulation of equations,",
    "start": "31380",
    "end": "39780"
  },
  {
    "text": "but actually by thinking\nabout phase plots and saying, you're going to move that\nphase plot a little bit.",
    "start": "39780",
    "end": "44880"
  },
  {
    "text": "You're going to\nreshape it in order to bend the system\nto your will right-- but just a little bend. You're only allowed a little\nbuilding in this class.",
    "start": "44880",
    "end": "51600"
  },
  {
    "text": "OK, so today we're going\nto make good on that idea, but we're going to do it on an\neven simpler system first, just",
    "start": "51600",
    "end": "57960"
  },
  {
    "text": "today. We're going to do it on the\ndouble integrator, which is q double dot equals u-- ",
    "start": "57960",
    "end": "69710"
  },
  {
    "text": "because here I can do everything\nanalytically on the board. If you want a physical\ninterpretation of that--",
    "start": "69710",
    "end": "76910"
  },
  {
    "text": "which I always like-- you can think of this\nas a brick of unit mass",
    "start": "76910",
    "end": "85790"
  },
  {
    "text": "on ice, where you provide\nas a control input a force, like this.",
    "start": "85790",
    "end": "91970"
  },
  {
    "text": "[INAUDIBLE] force equals\nu, and there's no friction, and mass equals 1. ",
    "start": "91970",
    "end": "98840"
  },
  {
    "text": "What we're going to try to do\nwith this double integrator is roughly, we're going to\ntry to drive it to some--",
    "start": "98840",
    "end": "105920"
  },
  {
    "text": "to the origin. We're going to try to\ndrive it to zero position-- ",
    "start": "105920",
    "end": "113457"
  },
  {
    "text": "I guess that's negative\nx in this picture-- and with 0 velocity.",
    "start": "113458",
    "end": "118760"
  },
  {
    "text": "It turns out there's\nlots of ways to do that.",
    "start": "118760",
    "end": "123860"
  },
  {
    "text": "And the goal here is to\nmake you think about ways to do that that involve\ninvoking optimality,",
    "start": "123860",
    "end": "129500"
  },
  {
    "text": "because that's going to be\nour computational crutch for the rest of the term.",
    "start": "129500",
    "end": "134520"
  },
  {
    "text": "OK.  I've been trying\nto bring the tools",
    "start": "134520",
    "end": "142219"
  },
  {
    "text": "from the different\ndisciplines all together. So let me start by doing\njust a quick pole placement",
    "start": "142220",
    "end": "148610"
  },
  {
    "text": "analysis, for those of you\nthat don't think about poles and linear systems that much.",
    "start": "148610",
    "end": "155790"
  },
  {
    "text": "So if I want to write the-- a state space form\nthis equation-- again,",
    "start": "155790",
    "end": "162710"
  },
  {
    "text": "I've always tried to use q\njust to be my coordinates, and I'll use x to\nbe my state vector.",
    "start": "162710",
    "end": "169140"
  },
  {
    "text": "So a state space form of this\nis going to use vector x to be,",
    "start": "169140",
    "end": "178667"
  },
  {
    "text": "in this case, q and q dot.  And that dynamics there is\nthe simplest state space",
    "start": "178667",
    "end": "186680"
  },
  {
    "text": "form you're going to see, but\na state space linear equation",
    "start": "186680",
    "end": "193379"
  },
  {
    "text": "will have the form Ax plus Bu. In our case, it's going to be\nthe trivial 0,1' 0, 0; and x",
    "start": "193380",
    "end": "208760"
  },
  {
    "text": "plus 0, 1 times u.",
    "start": "208760",
    "end": "215431"
  },
  {
    "text": "OK, it's not going to\nget easier than that, but we're going\nto use that form, because that's going to help. ",
    "start": "215432",
    "end": "223250"
  },
  {
    "text": "OK, our goal now is to design u. We want to come up with\na control action u--",
    "start": "223250",
    "end": "230692"
  },
  {
    "text": "which you can think of as\nbeing a force on the brick, let's say-- which drives the system to 0.",
    "start": "230692",
    "end": "237640"
  },
  {
    "text": "So in general, our goal is\nto design some feedback law--",
    "start": "237640",
    "end": "245380"
  },
  {
    "text": "I use pi for my\ncontrol policies-- which is a function of x.",
    "start": "245380",
    "end": "250540"
  },
  {
    "text": " Let's start by doing\nthe linear thing.",
    "start": "250540",
    "end": "257430"
  },
  {
    "text": "Let's start with\nconsidering [INAUDIBLE]",
    "start": "257430",
    "end": "263479"
  },
  {
    "text": "of the form of negative\nkx, where k is a matrix.",
    "start": "263480",
    "end": "269735"
  },
  {
    "text": "Well, actually, what\nis k in this case?  AUDIENCE: [INAUDIBLE]",
    "start": "269735",
    "end": "276160"
  },
  {
    "text": "RUSS TEDRAKE: 1 by 2, right? So it's going to be k1, k2\ntimes x, which is my q, q dot--",
    "start": "276160",
    "end": "293020"
  },
  {
    "text": "equivalent of saying\nnegative k1q minus k2 q dot. So many of you\nwill recognize this",
    "start": "293020",
    "end": "299410"
  },
  {
    "text": "as a proportional\nderivative controller form. ",
    "start": "299410",
    "end": "307060"
  },
  {
    "text": "OK, so if I take this\nu equals negative x and I start thinking about\nwhat that-- if I change k,",
    "start": "307060",
    "end": "312910"
  },
  {
    "text": "what happens to\nmy control system? That's easy to do\nin linear systems.",
    "start": "312910",
    "end": "318169"
  },
  {
    "text": "So if I stick that gain\nmatrix in, then what I get",
    "start": "318170",
    "end": "323290"
  },
  {
    "text": "is a closed loop system,\nwhich is A minus-- sorry-- minus Bk x, which\nis just the system 0, 1;",
    "start": "323290",
    "end": "343910"
  },
  {
    "text": "negative k1, negative k2; x. ",
    "start": "343910",
    "end": "350040"
  },
  {
    "text": "OK, and if you've had a class\non differential equations, you know how to solve that. ",
    "start": "350040",
    "end": "358789"
  },
  {
    "text": "The solution uses the\neigenvalues of the system. You can quickly take the\neigenvalues of that matrix.",
    "start": "358790",
    "end": "364294"
  },
  {
    "start": "364295",
    "end": "371754"
  },
  {
    "text": "Characteristic equation out to\nbe k squared minus 4k1 over 2,",
    "start": "371754",
    "end": "383500"
  },
  {
    "text": "with eigenvectors-- v1 is this, v2 is this.",
    "start": "383500",
    "end": "394330"
  },
  {
    "start": "394330",
    "end": "400220"
  },
  {
    "text": "That's just the eigenvalues and\neigenvectors of this matrix.",
    "start": "400220",
    "end": "405770"
  },
  {
    "start": "405770",
    "end": "414099"
  },
  {
    "text": "So what are the conditions\non the eigenvalues to make sure the\nsystem's stable?",
    "start": "414100",
    "end": "419344"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: [INAUDIBLE]\nboth negative.",
    "start": "419344",
    "end": "425610"
  },
  {
    "text": "Potentially, we care about\nwhether the system has any oscillations or not, which\nmanifest themselves and whether that's--",
    "start": "425610",
    "end": "431340"
  },
  {
    "text": "whether the thing's complex-- [INAUDIBLE] complex eigenvalues. This is all things you've\nseen in plenty of classes,",
    "start": "431340",
    "end": "437910"
  },
  {
    "text": "but the only way it's\ngoing to be complex is if this thing\ngoes negative, right? ",
    "start": "437910",
    "end": "444570"
  },
  {
    "text": "OK. So we want a couple of things. We want both of them to be--",
    "start": "444570",
    "end": "449639"
  },
  {
    "text": "both of these to be less than 0,\nwhich we can get pretty easily.",
    "start": "449640",
    "end": "455460"
  },
  {
    "text": "And we want k2 squared\nto be bigger than 4k1. ",
    "start": "455460",
    "end": "463170"
  },
  {
    "text": "k2 squared is bigger than 4k1-- then the system is\nactually overdamped.",
    "start": "463170",
    "end": "468750"
  },
  {
    "text": " If it equals 4k1, it's\ncritically damped.",
    "start": "468750",
    "end": "475560"
  },
  {
    "start": "475560",
    "end": "481660"
  },
  {
    "text": "And it's underdamped\nif it's less than 4k1. ",
    "start": "481660",
    "end": "491550"
  },
  {
    "text": "For stability, we want lambda\n1 and 2 to be less than 0",
    "start": "491550",
    "end": "499310"
  },
  {
    "text": "for stability. ",
    "start": "499310",
    "end": "509949"
  },
  {
    "text": "OK, so just to connect this to\nthe phase plots we were talking about yesterday, you've seen--",
    "start": "509950",
    "end": "515379"
  },
  {
    "text": "you might have seen phase\nplots first in this context, in the linear systems. context .",
    "start": "515380",
    "end": "522010"
  },
  {
    "text": "The reason to do this\neigenvalue decomposition is that you have these beautiful\ngraphical interpretations",
    "start": "522010",
    "end": "527920"
  },
  {
    "text": "of the solutions to the system. Let's choose a particular case.",
    "start": "527920",
    "end": "534670"
  },
  {
    "text": "What did I pick? So let's say k1 is 1.",
    "start": "534670",
    "end": "539788"
  },
  {
    "text": "That means I'm going\nto want to think about an overdamped system.",
    "start": "539788",
    "end": "545620"
  },
  {
    "text": "I want k2 to be at\nleast greater than 2. ",
    "start": "545620",
    "end": "559390"
  },
  {
    "text": "So I'm going to\nchoose k2 equals 4. If I do that, then\nmy eigenvalues",
    "start": "559390",
    "end": "569770"
  },
  {
    "text": "work out to be negative 4\nplus or minus 16 minus 4",
    "start": "569770",
    "end": "578650"
  },
  {
    "text": "over 2, which is negative 2 plus\nor minus the square root of 3.",
    "start": "578650",
    "end": "584620"
  },
  {
    "text": "Square root of 3 is about 1.75. So I get negative\n0.25 and negative 3.75",
    "start": "584620",
    "end": "595120"
  },
  {
    "text": "for my eigenvalues. ",
    "start": "595120",
    "end": "602860"
  },
  {
    "text": "OK. And the eigenvectors are\ngoing to be just this form.",
    "start": "602860",
    "end": "609797"
  },
  {
    "text": "So what that allows me to do\nis make my same state space plots we were making yesterday\nwhere now I have q and q dot.",
    "start": "609797",
    "end": "619530"
  },
  {
    "start": "619530",
    "end": "633850"
  },
  {
    "text": "And my first eigenvector is\ngoing to be 1, negative 0.25.",
    "start": "633850",
    "end": "645940"
  },
  {
    "text": "I'll use these as quarters. So I go minus 0.25\n[INAUDIBLE] 1 here,",
    "start": "645940",
    "end": "651519"
  },
  {
    "text": "so I get a line that\nlooks like this. ",
    "start": "651520",
    "end": "658600"
  },
  {
    "text": "That's v1. ",
    "start": "658600",
    "end": "664690"
  },
  {
    "text": "And I get a line that goes\nalmost 1, negative 4--",
    "start": "664690",
    "end": "670330"
  },
  {
    "text": "so a little bit under that here. ",
    "start": "670330",
    "end": "680139"
  },
  {
    "text": "v2 is over here. ",
    "start": "680140",
    "end": "685510"
  },
  {
    "text": "OK. And the eigenvalues\non this-- if you've seen these plots before,\nwe typically [INAUDIBLE]",
    "start": "685510",
    "end": "692020"
  },
  {
    "text": "They're both negative,\nso we're going to draw an arrow like this. Systems-- initial conditions\nthat start on this",
    "start": "692020",
    "end": "698980"
  },
  {
    "text": "will just get smaller. Initial conditions that start\non this will also get smaller, but they can actually get\nsmaller a lot quicker.",
    "start": "698980",
    "end": "705660"
  },
  {
    "start": "705660",
    "end": "714399"
  },
  {
    "text": "Just to say a few\nof the subtleties, so I an overdamp\nsystem so I don't have repeated eigenvalues.",
    "start": "714400",
    "end": "720730"
  },
  {
    "text": "I chose a overdamped system\nso I don't have oscillations, because I can make\nthe same plots. But for the overdamped\nsystem, this",
    "start": "720730",
    "end": "725970"
  },
  {
    "text": "is a great way to\nthink about things.  When I don't have repeated\neigenvalues, the--",
    "start": "725970",
    "end": "731800"
  },
  {
    "text": " any initial condition\nof the system can be written as a\nlinear combination.",
    "start": "731800",
    "end": "738880"
  },
  {
    "text": "That means that, when\nthe system doesn't have repeated eigenvalues, the\neigenvectors span the space.",
    "start": "738880",
    "end": "746529"
  },
  {
    "text": "Any initial conditions can be\nwritten as a linear combination of the two eigenvalues. ",
    "start": "746530",
    "end": "753250"
  },
  {
    "text": "And the dynamics from\nthis point are just the exponential\ndynamics on the--",
    "start": "753250",
    "end": "761510"
  },
  {
    "text": "of the two components. I don't know. Tell me if you want me to\nsay that again in a more--",
    "start": "761510",
    "end": "767130"
  },
  {
    "text": " it's not really the focus,\nbut if you understand that,",
    "start": "767130",
    "end": "775600"
  },
  {
    "text": "you got the whole thing here. So what it means is you could\ntake any initial condition-- it",
    "start": "775600",
    "end": "781360"
  },
  {
    "text": "turns out, any initial condition\nwhen I have eigen vectors which span the space. I'm guaranteed to have that,\nif I have unique eigenvalues.",
    "start": "781360",
    "end": "789460"
  },
  {
    "text": " Then I can write this as a\ncombination of these vectors.",
    "start": "789460",
    "end": "795700"
  },
  {
    "start": "795700",
    "end": "800840"
  },
  {
    "text": "I've got one component like this\nand one component like this. This initial condition--\nif I say this is x0--",
    "start": "800840",
    "end": "806170"
  },
  {
    "text": " so I can say x0 is alpha 1\ntimes v1 plus alpha 2 times v2.",
    "start": "806170",
    "end": "816610"
  },
  {
    "text": " We know that initial conditions\nthat are just on the line v1",
    "start": "816610",
    "end": "827950"
  },
  {
    "text": "go e to the negative lambda-- or e to the lambda t\nv1, so the whole system",
    "start": "827950",
    "end": "838269"
  },
  {
    "text": "goes alpha 1 e to the\nnegative lamb-- oh, sorry. I've got negative eigenvalues--\nto the lambda t v1 plus alpha 2",
    "start": "838270",
    "end": "847690"
  },
  {
    "text": "e to the lambda 2 t v2. ",
    "start": "847690",
    "end": "855460"
  },
  {
    "text": "That's the great thing about\nall these linear systems.",
    "start": "855460",
    "end": "861110"
  },
  {
    "text": "So what that means is, if\nI've drawn the eigenvectors, then I know exactly the entire\nphase plot of the system.",
    "start": "861110",
    "end": "868030"
  },
  {
    "text": "So we're connecting\nback to the pendulum. I went through in all\nthe different places.",
    "start": "868030",
    "end": "873190"
  },
  {
    "text": "I thought about what\nthe contributions were and mapped it out. Here I don't have to do that. I know that this system is\ngoing to-- the component--",
    "start": "873190",
    "end": "881379"
  },
  {
    "text": "the space that has--\nin this eigenvalue is going to decay\nquickly towards 0.",
    "start": "881380",
    "end": "886425"
  },
  {
    "text": "And it's going to decay\nfaster than this one, which means an initial condition like\nthis is going to go like this.",
    "start": "886425",
    "end": "892240"
  },
  {
    "text": "I should have used one of my\nmany other colors to do that. ",
    "start": "892240",
    "end": "899079"
  },
  {
    "text": "Looks like a blue-- so trajectories from\nthat initial condition",
    "start": "899080",
    "end": "905860"
  },
  {
    "text": "are going to do that. And trajectories from\nthis initial condition",
    "start": "905860",
    "end": "913210"
  },
  {
    "text": "are going to-- what\nare they going to do, if I start over here? ",
    "start": "913210",
    "end": "919810"
  },
  {
    "text": "They're going to go mostly\ndown, and eventually we think it's stable, so it's\ngoing to get to the origin. I can even do my\nfilled in circle there.",
    "start": "919810",
    "end": "929777"
  },
  {
    "text": "When are they going to start\nbending towards the origin? ",
    "start": "929777",
    "end": "935097"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Later-- they\nhave to pass this before--",
    "start": "935098",
    "end": "940899"
  },
  {
    "text": "they have to pass that and\nget the negative velocities before they can hook back in. So the trajectories look\nlike this, and go in.",
    "start": "940900",
    "end": "951400"
  },
  {
    "text": "Yeah? And likewise, so all\nthese trajectories--",
    "start": "951400",
    "end": "957310"
  },
  {
    "text": "you can map out the entire\nphase portrait of the space",
    "start": "957310",
    "end": "965140"
  },
  {
    "text": "pretty quickly just by\nunderstanding the eigenvalues and eigenvectors.",
    "start": "965140",
    "end": "970745"
  },
  {
    "text": " Same thing's true over here. ",
    "start": "970745",
    "end": "984566"
  },
  {
    "text": "OK, so there's another example\nof a phase plot that we have. In the linear systems,\nit works out to be clean.",
    "start": "984566",
    "end": "989840"
  },
  {
    "text": "You can just do these\neigenvalues, eigenvectors. OK, now, control-- we're\nallowed to change k1 and k2.",
    "start": "989840",
    "end": "1000339"
  },
  {
    "text": "Changing k1 and k2 is going\nto change the phase portrait. It's going to change\nthose vectors.",
    "start": "1000340",
    "end": "1006745"
  },
  {
    "text": " I want to change them to\nmake it do whatever I want.",
    "start": "1006745",
    "end": "1015148"
  },
  {
    "text": "The first discussion is, what\ndo we want to make it do? ",
    "start": "1015148",
    "end": "1023200"
  },
  {
    "text": "Maybe even before that,\nI should observe that, without thinking about\noptimality at all,",
    "start": "1023200",
    "end": "1030880"
  },
  {
    "text": "it would be easy to\nstop here, because I-- if I look at this carefully,\nas long as I choose k squared--",
    "start": "1030880",
    "end": "1040480"
  },
  {
    "text": "k2 squared greater than 4, K1. I know I'm going\nto not oscillate.",
    "start": "1040480",
    "end": "1046420"
  },
  {
    "text": "And I can just\nstart driving k1-- and correspondingly, k2--\nup as high as I like,",
    "start": "1046420",
    "end": "1054700"
  },
  {
    "text": "and make the system get to\nthe origin as fast as I want, and it won't oscillate. ",
    "start": "1054700",
    "end": "1061330"
  },
  {
    "text": "Why not just drive them\nall the way to infinity? AUDIENCE: [INAUDIBLE]",
    "start": "1061330",
    "end": "1067450"
  },
  {
    "text": "RUSS TEDRAKE: You can't--\ndon't have a motive to do that. That's the first\nunsatisfying thing-- absolutely. Probably there's\nsome unmodeled thing.",
    "start": "1067450",
    "end": "1073840"
  },
  {
    "text": "Even if I did have a\nmotive that could do that, there's probably\nsome unmodeled things that I might excite, and cause\nbad things to happen anyways.",
    "start": "1073840",
    "end": "1080309"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: You could melt\nthe ice and it'll break. That's right. That's right. I guess I could\nhave said wheels,",
    "start": "1080310",
    "end": "1085835"
  },
  {
    "text": "and then maybe they'd\nmelt the tires. OK.",
    "start": "1085835",
    "end": "1092500"
  },
  {
    "text": "And you can see\nthat here, actually. Remember?  What is the unactuated phase\nplot of the system look like?",
    "start": "1092500",
    "end": "1101290"
  },
  {
    "text": "I can just draw that. If u was just uniformally\n0, if k1 and k2 were 0,",
    "start": "1101290",
    "end": "1107230"
  },
  {
    "text": "what would the phase\nhave looked like there? AUDIENCE: [INAUDIBLE]",
    "start": "1107230",
    "end": "1115808"
  },
  {
    "text": "RUSS TEDRAKE: It\nwould have just been x dot equals A of x,\nwhere A is this guy.",
    "start": "1115808",
    "end": "1122090"
  },
  {
    "text": " So it wouldn't have\nbeen as interesting.",
    "start": "1122090",
    "end": "1129350"
  },
  {
    "text": "Every point would have just\nhad a vector like this. It would have been a little\nbigger with bigger velocities,",
    "start": "1129350",
    "end": "1137960"
  },
  {
    "text": "but it's just-- it would just be\na flow like that,",
    "start": "1137960",
    "end": "1143179"
  },
  {
    "text": "which I hope is what\nyou'd expect it to do, since it's an integrator. Things are just going to--",
    "start": "1143180",
    "end": "1149450"
  },
  {
    "text": "off into the ether. OK.",
    "start": "1149450",
    "end": "1155539"
  },
  {
    "text": "So if I consider-- I started with this, and\nI'm getting out things that look like this, I'm already--",
    "start": "1155540",
    "end": "1162320"
  },
  {
    "text": "in my unitless cartoon\nhere, it's sort of already looks like I'm using a lot of\ntorque to do what I'm doing.",
    "start": "1162320",
    "end": "1168710"
  },
  {
    "text": "I'm using a lot of force. I'm really\nsignificantly changing those dynamics in order\nto bend this thing",
    "start": "1168710",
    "end": "1175430"
  },
  {
    "text": "to come around like that. That's OK, but we can do better. ",
    "start": "1175430",
    "end": "1182720"
  },
  {
    "text": "So today I want to\nuse this system, which I think it's quite easy to\nhave strong intuition for,",
    "start": "1182720",
    "end": "1191779"
  },
  {
    "text": "to start designing optimal\nfeedback controllers. ",
    "start": "1191780",
    "end": "1199240"
  },
  {
    "text": "So let's address the we\ndon't have infinite torque problem first. ",
    "start": "1199240",
    "end": "1223770"
  },
  {
    "text": "One more comment on this-- I didn't actually\ncall them poles-- there's a pole placement\nversion of this too.",
    "start": "1223770",
    "end": "1230460"
  },
  {
    "text": "It's exactly the same thing. If you were to\ndraw a root locus, what would the system look like? ",
    "start": "1230460",
    "end": "1239279"
  },
  {
    "text": "The typical root\nlocus would be you're multiplying the entire\nfeedback by some linear term.",
    "start": "1239280",
    "end": "1246299"
  },
  {
    "text": "You're not scaling them\nin some squared law, so what you get is, for\nvery small feedback gains,",
    "start": "1246300",
    "end": "1252840"
  },
  {
    "text": "you get oscillations. As you crank it up, the poles\nconnect in the left half plane,",
    "start": "1252840",
    "end": "1259289"
  },
  {
    "text": "and then they separate. And as I keep turning\nup my gains, one of them creeps towards the origin.",
    "start": "1259290",
    "end": "1264753"
  },
  {
    "text": "The other one goes off\nreally far to infinity. So just those of you think\nabout poles and zeros, this is exactly the\nsame way to say that.",
    "start": "1264753",
    "end": "1272220"
  },
  {
    "text": "I didn't do a root locus because\nI was changing two parameters, but it all connects. ",
    "start": "1272220",
    "end": "1281809"
  },
  {
    "text": "OK, so now, let's say I\nhave a hard constraint on what u I can provide.",
    "start": "1281810",
    "end": "1287825"
  },
  {
    "text": " Let's just say that I have an\nadditional constraint that's,",
    "start": "1287825",
    "end": "1304580"
  },
  {
    "text": "let's say, the absolute value\nof u has got to be less than 1. ",
    "start": "1304580",
    "end": "1314580"
  },
  {
    "text": "Well, that changes\na lot of things.",
    "start": "1314580",
    "end": "1319870"
  },
  {
    "text": "My linear system analysis\nis impoverished now.",
    "start": "1319870",
    "end": "1326100"
  },
  {
    "text": "If you want a graphical version\nof what that's doing, that's-- my zero input looked like that.",
    "start": "1326100",
    "end": "1334070"
  },
  {
    "text": "I wanted to go like this\nwith my linear controller, but maybe it's capped\nat something like this. ",
    "start": "1334070",
    "end": "1341073"
  },
  {
    "text": "OK, so what's that going\nto do to your system? ",
    "start": "1341073",
    "end": "1349505"
  },
  {
    "text": "If I just ran the policy\nu is some saturation, say,",
    "start": "1349505",
    "end": "1355730"
  },
  {
    "text": "on negative kx, I took my same\nfeedback-- linear feedback controller and I just said,\nif it's greater than 1 it's 1;",
    "start": "1355730",
    "end": "1363440"
  },
  {
    "text": "if it's less than negative\n1, it's negative 1,",
    "start": "1363440",
    "end": "1368470"
  },
  {
    "text": "I think you're still OK. Trajectories are still\ngoing to get to the origin. They might take fairly\nlong routes to the origin.",
    "start": "1368470",
    "end": "1377163"
  },
  {
    "text": "You're not going\nto lose stability in this case because\nof that, but it",
    "start": "1377163",
    "end": "1382419"
  },
  {
    "text": "starts to feel like,\nman, I should really be thinking about\nthose hard constraints when I design my controller.",
    "start": "1382420",
    "end": "1389120"
  },
  {
    "text": "All right. So how do we do that? One way to do that\nis optimal control. It's not the only way to do it.",
    "start": "1389120",
    "end": "1395231"
  },
  {
    "text": " Let's formulate an\noptimal control problem. ",
    "start": "1395232",
    "end": "1402580"
  },
  {
    "text": "Let me sync up with my notes\nso I don't go too far afield. ",
    "start": "1402580",
    "end": "1410350"
  },
  {
    "text": "OK. Let's say my goal in life is\nto get to the origin as fast",
    "start": "1410350",
    "end": "1417340"
  },
  {
    "text": "as possible in minimum time. But I'm subject to\nthis constraint.",
    "start": "1417340",
    "end": "1424248"
  },
  {
    "text": "So that's the famous\nminimum time problem-- ",
    "start": "1424248",
    "end": "1455240"
  },
  {
    "text": "subject to that constraint. ",
    "start": "1455240",
    "end": "1461750"
  },
  {
    "text": "OK. AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Yes. What do we want? Both the position and\nthe velocity to be 0.",
    "start": "1461750",
    "end": "1467022"
  },
  {
    "text": " Turns out you need\nthis constraint for it",
    "start": "1467022",
    "end": "1472220"
  },
  {
    "text": "to be a well-posed problem. If I didn't have constraints\non u, then, like I said, I would just use as\nmuch u as possible.",
    "start": "1472220",
    "end": "1478813"
  },
  {
    "text": "I would get there\ninfinitely fast, and we haven't\nlearned a whole lot. ",
    "start": "1478813",
    "end": "1484430"
  },
  {
    "text": "There are other ways to penalize\nu or something like that,",
    "start": "1484430",
    "end": "1489960"
  },
  {
    "text": "but we're going to put a\nhard constraint on it here. OK, now, muster all your\nintuition about bricks and ice",
    "start": "1489960",
    "end": "1496670"
  },
  {
    "text": "and tell me-- if I've got limited\nforce to give and I want to get to the\norigin as fast as possible,",
    "start": "1496670",
    "end": "1505100"
  },
  {
    "text": "what should I do? AUDIENCE: Bang-bang. RUSS TEDRAKE: Bang-bang.",
    "start": "1505100",
    "end": "1510610"
  },
  {
    "text": "Good. He knows the answer. What should I do? People haven't thought about\nit and don't know bang-bang is.",
    "start": "1510610",
    "end": "1516660"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Right.",
    "start": "1516660",
    "end": "1522710"
  },
  {
    "text": "Right. So if I want to get there\nas fast as possible, I'm going to hit\nthe accelerator,",
    "start": "1522710",
    "end": "1528770"
  },
  {
    "text": "go as fast as I can until\nsome critical point, where I'm going\nto hit the brakes.",
    "start": "1528770",
    "end": "1534170"
  },
  {
    "text": "And I'm going to skid\nstop right into the goal. There's nothing better\nI can do than that. We're going to prove\nthat, but I want",
    "start": "1534170",
    "end": "1541910"
  },
  {
    "text": "to see-- that's a fairly\ncomplicated thing. It's something you can guess\nfor the double integrator.",
    "start": "1541910",
    "end": "1547610"
  },
  {
    "text": "You can't guess for a\nwalking robot, for instance. But we want to get that out\nof some machinery that's",
    "start": "1547610",
    "end": "1554210"
  },
  {
    "text": "going to be more general\nthan double integrators. OK, so the proposition\nwas bang-bang control.",
    "start": "1554210",
    "end": "1572320"
  },
  {
    "start": "1572320",
    "end": "1581299"
  },
  {
    "text": "You might hear\npeople casually say, bang-bang control's\noptimal, and that is--",
    "start": "1581300",
    "end": "1588230"
  },
  {
    "text": "if you have hard limits\non your actuators, it's very common that\nthe best thing to do",
    "start": "1588230",
    "end": "1594950"
  },
  {
    "text": "is to be at those\nlimits all the time. If that's the way you've\ndefined the problem, bang-bang control solutions\nare pretty ubiquitous.",
    "start": "1594950",
    "end": "1602970"
  },
  {
    "text": " They don't always work\nthat well in real robots,",
    "start": "1602970",
    "end": "1608780"
  },
  {
    "text": "because actuators don't\nlike to produce zero-- infinite force and then-- or max force and\nthen negative max",
    "start": "1608780",
    "end": "1615110"
  },
  {
    "text": "force within a single time step. ",
    "start": "1615110",
    "end": "1634409"
  },
  {
    "text": "Good-- OK, so I think the\nonly subtle part about it",
    "start": "1634410",
    "end": "1649370"
  },
  {
    "text": "is figuring out when I\nneed to switch from hitting the gas to hitting the brakes.",
    "start": "1649370",
    "end": "1656405"
  },
  {
    "text": "So let's see if we can\nfigure that out first. ",
    "start": "1656405",
    "end": "1662683"
  },
  {
    "text": "I think a pretty\ngood way to do it is to think about what\nhappens if you hit the brakes. ",
    "start": "1662683",
    "end": "1669649"
  },
  {
    "text": "And then you want\nto hit the brakes and arrive directly at the goal. There's only going to\nbe a handful of states",
    "start": "1669650",
    "end": "1676340"
  },
  {
    "text": "from which, if I was\ngoing at some-- if I was some position and some velocity\nand I hit the brakes full now,",
    "start": "1676340",
    "end": "1682640"
  },
  {
    "text": "I'm going to land\nexactly at the goal. Let's see if we can figure\nout that set of states first.",
    "start": "1682640",
    "end": "1688070"
  },
  {
    "start": "1688070",
    "end": "1695120"
  },
  {
    "text": "Let's think about the case\nwhere q is greater than 0 first. Just pick a side.",
    "start": "1695120",
    "end": "1701870"
  },
  {
    "text": "So in that case,\nhitting the brakes--",
    "start": "1701870",
    "end": "1710615"
  },
  {
    "text": " is that positive\n1 or negative 1?",
    "start": "1710615",
    "end": "1717885"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Negative 1-- no, it's positive 1. You almost got me.",
    "start": "1717885",
    "end": "1723152"
  },
  {
    "text": " If q is greater than\n0, it's positive.",
    "start": "1723152",
    "end": "1732690"
  },
  {
    "text": "q is greater than 0-- then u is positive. I want to be pushing\nback in the direction",
    "start": "1732690",
    "end": "1740520"
  },
  {
    "text": "I'm already coming from,\nso u is positive 1. ",
    "start": "1740520",
    "end": "1745550"
  },
  {
    "text": "All right, so now, we're going\nto have some math ahead of us. See if we can integrate\nthis equation.",
    "start": "1745550",
    "end": "1751560"
  },
  {
    "text": " I can do that on\nthe board for you.",
    "start": "1751560",
    "end": "1758500"
  },
  {
    "text": "q dot of t-- I better get it right. [LAUGHTER]",
    "start": "1758500",
    "end": "1763786"
  },
  {
    "text": " ut-- so in this case, it was 1--",
    "start": "1763786",
    "end": "1768899"
  },
  {
    "text": "plus q dot of 0. ",
    "start": "1768900",
    "end": "1774850"
  },
  {
    "text": "I'll just make it a little bit\nmore [INAUDIBLE] This case, it was 1, and q\ndouble dot of t is--",
    "start": "1774850",
    "end": "1783870"
  },
  {
    "text": "sorry-- switch orders-- q0 plus\nq dot 0 t plus 1/2 ut squared.",
    "start": "1783870",
    "end": "1791760"
  },
  {
    "start": "1791760",
    "end": "1797730"
  },
  {
    "text": "OK, I want to figure out-- AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Did I screw it up?",
    "start": "1797730",
    "end": "1803300"
  },
  {
    "text": "What? AUDIENCE: [INAUDIBLE] AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Oh, sorry.",
    "start": "1803300",
    "end": "1808560"
  },
  {
    "text": "Sorry. Thank you-- good. Thank you. ",
    "start": "1808560",
    "end": "1816510"
  },
  {
    "text": "OK, so let's figure out, if\nu is 1, what trajectories are going to get me so that q--",
    "start": "1816510",
    "end": "1823500"
  },
  {
    "text": "at some t final, qt\nand q dot of t are 0--",
    "start": "1823500",
    "end": "1828600"
  },
  {
    "text": "simple enough--\nlittle manipulation. ",
    "start": "1828600",
    "end": "1841530"
  },
  {
    "text": "So it turns out I'm going\nto solve for q0 and q dot 0.",
    "start": "1841530",
    "end": "1847965"
  },
  {
    "start": "1847965",
    "end": "1861850"
  },
  {
    "text": "So q dot 0-- looks like that's going\nto be negative u of t. ",
    "start": "1861850",
    "end": "1873270"
  },
  {
    "text": "It's a little bit\nweird, my notation here. I'm saying that the\ninitial conditions are moving backwards.",
    "start": "1873270",
    "end": "1880277"
  },
  {
    "text": "The equations are simple enough. I hope it's OK. And q0 t had better be--",
    "start": "1880277",
    "end": "1886350"
  },
  {
    "text": " it turns out to\nbe 1/2 ut squared.",
    "start": "1886350",
    "end": "1891760"
  },
  {
    "text": "So q dot of t is negative ut.",
    "start": "1891760",
    "end": "1897210"
  },
  {
    "text": "Add those together. q0 is going to be\n1/2 ut squared.",
    "start": "1897210",
    "end": "1902760"
  },
  {
    "text": " If I solve for t-- solve out t--",
    "start": "1902760",
    "end": "1908220"
  },
  {
    "text": " in this case, u is 1 so t,\nsay, is just negative q dot.",
    "start": "1908220",
    "end": "1919800"
  },
  {
    "start": "1919800",
    "end": "1924960"
  },
  {
    "text": "So q of 0 is just 1/2--",
    "start": "1924960",
    "end": "1931372"
  },
  {
    "text": "let's keep that. This is just 1 t\nsquared q dot 0 squared.",
    "start": "1931373",
    "end": "1938121"
  },
  {
    "text": "If I plot that, what I've\ngot in my state space--",
    "start": "1938121",
    "end": "1947760"
  },
  {
    "text": "q, q dot-- is a manifold of\nsolutions, which starts at 0.",
    "start": "1947760",
    "end": "1958200"
  },
  {
    "text": "And then I said that I did\nthis for u is positive. ",
    "start": "1958200",
    "end": "1966809"
  },
  {
    "text": "And it goes like this. ",
    "start": "1966810",
    "end": "1974960"
  },
  {
    "text": "This one's not a solution. Where did I get that out? And one of my\nassumptions here when",
    "start": "1974960",
    "end": "1981230"
  },
  {
    "text": "I inverted t or something that\nI-- that solution disappears. You can't have negative time.",
    "start": "1981230",
    "end": "1986870"
  },
  {
    "start": "1986870",
    "end": "1992690"
  },
  {
    "text": "In fact, in my notes, I did it. I solved for the other t,\nwhich would have been better. Sorry. OK, so there's a line\nof solutions here--",
    "start": "1992690",
    "end": "2003440"
  },
  {
    "text": "which, if I started this\nq-- this is actually the positive queue,\nnegative q velocities.",
    "start": "2003440",
    "end": "2010030"
  },
  {
    "text": "I hit the brakes. I go coasting into the\nstop at the origin. ",
    "start": "2010030",
    "end": "2017830"
  },
  {
    "text": "Turns out, if I do-- if I think\nabout the negative q case, I get a similar line--",
    "start": "2017830",
    "end": "2023110"
  },
  {
    "text": "similar curve. [INAUDIBLE] quadratic\ncurve over here. ",
    "start": "2023110",
    "end": "2030122"
  },
  {
    "text": "You know what-- let me be\na little bit more careful. Let me make that one pink,\nbecause this is the now u",
    "start": "2030123",
    "end": "2037465"
  },
  {
    "text": "is negative 1 case. ",
    "start": "2037465",
    "end": "2049489"
  },
  {
    "text": "Good. ",
    "start": "2049489",
    "end": "2055120"
  },
  {
    "text": "We figured out the\nline of solutions where, if I hit the brakes,\nthey get to the origin.",
    "start": "2055120",
    "end": "2061480"
  },
  {
    "text": "Harness your intuition again. What do I do if I'm here? ",
    "start": "2061480",
    "end": "2069353"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Right. This was the stopping\nall the way to the goal.",
    "start": "2069353",
    "end": "2075300"
  },
  {
    "text": "So pretty much, from anywhere\nelse, I want to accelerate. So what does accelerating\nlook like when I'm here?",
    "start": "2075300",
    "end": "2082082"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: It's going\nto put me going up. ",
    "start": "2082082",
    "end": "2087215"
  },
  {
    "text": "And what happens is, any\ntime I'm below this curve,",
    "start": "2087215",
    "end": "2095210"
  },
  {
    "text": "I'm going to drive myself up. I can't go backwards like that\nand drive myself up, hit that,",
    "start": "2095210",
    "end": "2103160"
  },
  {
    "text": "and ride it in. And if I'm above the\ncurve, what do I do?",
    "start": "2103160",
    "end": "2108350"
  },
  {
    "text": " AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Have to\novershoot a little bit--",
    "start": "2108350",
    "end": "2114950"
  },
  {
    "text": "I can't bend down\nmore than this, so I'm going to ride it\nall the way over to here,",
    "start": "2114950",
    "end": "2120650"
  },
  {
    "text": "connect up to this\nsurface, and ride it in. And it turns out, any time I'm\nover here, the best thing to do",
    "start": "2120650",
    "end": "2129380"
  },
  {
    "text": "is to--  did I get my colors wrong? Got my colors wrong--",
    "start": "2129380",
    "end": "2136730"
  },
  {
    "text": "let me fix that. Sorry.  It's confusing.",
    "start": "2136730",
    "end": "2143870"
  },
  {
    "text": "This is the accelerate,\nand then break. And this is the break.",
    "start": "2143870",
    "end": "2149450"
  },
  {
    "start": "2149450",
    "end": "2161440"
  },
  {
    "text": "Let me just recolor it for you\nto make it a little more clear. Sorry about that. ",
    "start": "2161440",
    "end": "2179465"
  },
  {
    "text": "So let's say I'm pink\nover here, blue over here.",
    "start": "2179465",
    "end": "2185685"
  },
  {
    "text": "OK.  I want to be pink. I want to decelerate\njust like this",
    "start": "2185685",
    "end": "2191440"
  },
  {
    "text": "if I'm above it because I\nwant to take these curves that are almost there. ",
    "start": "2191440",
    "end": "2202035"
  },
  {
    "text": "If I've got extra\ntime, I'm going to accelerate to the point\nwhere I decelerate again, so down here should be blue.",
    "start": "2202035",
    "end": "2207434"
  },
  {
    "text": "And then this is,\nagain, the case where I decelerate as much as I\ncan until I take the pink line. ",
    "start": "2207435",
    "end": "2216549"
  },
  {
    "text": "This was the u\nequals negative 1, and this was the u\nequals positive 1.",
    "start": "2216550",
    "end": "2222690"
  },
  {
    "start": "2222690",
    "end": "2228990"
  },
  {
    "text": "OK. Is that at all satisfying? We can now connect this back\nagain to your phase plot",
    "start": "2228990",
    "end": "2237480"
  },
  {
    "text": "pictures. We had our initial lines\nthat looked like this.",
    "start": "2237480",
    "end": "2243000"
  },
  {
    "text": "[INAUDIBLE] allowed to apply\na bounded amount of torque.",
    "start": "2243000",
    "end": "2248370"
  },
  {
    "text": "So the best thing I can\ndo, if I'm right here, is I can warp this thing\ndown to the point where I get right there.",
    "start": "2248370",
    "end": "2254790"
  },
  {
    "start": "2254790",
    "end": "2260310"
  },
  {
    "text": "And if I'm here,\nI can warp it up to push me here, and\nthen ride it down. ",
    "start": "2260310",
    "end": "2267519"
  },
  {
    "text": "The hard part is actually\nshowing that that's optimal. And the reason I'm going to go\nthrough it is because it's-- it",
    "start": "2267520",
    "end": "2272559"
  },
  {
    "text": "forms the basis for all the\nalgorithms that are going to be more general. ",
    "start": "2272560",
    "end": "2279040"
  },
  {
    "text": "So let me show you\nthat that's optimal. ",
    "start": "2279040",
    "end": "2287560"
  },
  {
    "text": "To do that, I need to\nintroduce our first optimality",
    "start": "2287560",
    "end": "2292900"
  },
  {
    "text": "ideas for the course.  Are people OK with the--",
    "start": "2292900",
    "end": "2299200"
  },
  {
    "text": "that picture? AUDIENCE: [INAUDIBLE]\nbelow the line. RUSS TEDRAKE: Mm-hmm.",
    "start": "2299200",
    "end": "2304776"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: So tell me where.",
    "start": "2304777",
    "end": "2310300"
  },
  {
    "text": "Bottom right? OK. So this is the place\nwhere, if I decelerate,",
    "start": "2310300",
    "end": "2316180"
  },
  {
    "text": "I get to the origin. If I'm here, then I have\na little bit more velocity",
    "start": "2316180",
    "end": "2321250"
  },
  {
    "text": "in the same position. So if I hit the brakes, I'm\nnot going to stop in time.",
    "start": "2321250",
    "end": "2327070"
  },
  {
    "text": " I don't quite\ndecelerate fast enough",
    "start": "2327070",
    "end": "2333490"
  },
  {
    "text": "to get here, because\nthere's limited torque, so I just slip past it until my\nchance to come in the other way",
    "start": "2333490",
    "end": "2339880"
  },
  {
    "text": "again. ",
    "start": "2339880",
    "end": "2348319"
  },
  {
    "text": "The only separation\nis that curve. AUDIENCE: [INAUDIBLE]",
    "start": "2348320",
    "end": "2355837"
  },
  {
    "text": "RUSS TEDRAKE: Everywhere\nup here, you want to be-- top left you said? AUDIENCE: [INAUDIBLE]",
    "start": "2355837",
    "end": "2363260"
  },
  {
    "text": "RUSS TEDRAKE: Here, you're blue. The same way, you want to\naccelerate as much as you can,",
    "start": "2363260",
    "end": "2368870"
  },
  {
    "text": "because you want\nto get to the place where you have to\nhit the brakes. This is me.",
    "start": "2368870",
    "end": "2374030"
  },
  {
    "text": "I'm at some position. I don't have enough\nvelocity that I have to just hit\nmy brakes, so I'm going to gun it until I'm\nat the velocity where I just",
    "start": "2374030",
    "end": "2382010"
  },
  {
    "text": "have to hit my brakes,\nand then ride it in. Up here, I'm at the point\nwhere I have too much velocity.",
    "start": "2382010",
    "end": "2388760"
  },
  {
    "text": "Even if I hit my\nbrakes, I'm still going to overshoot\na little bit, which means I'm going to have to-- and so you could\nthink of it as now--",
    "start": "2388760",
    "end": "2395090"
  },
  {
    "text": "the word brakes maybe flips\nwhen you flip that cross across. Maybe that's the right thing. But the action I take\nis only changing based",
    "start": "2395090",
    "end": "2403100"
  },
  {
    "text": "on that switching surface-- ",
    "start": "2403100",
    "end": "2408700"
  },
  {
    "text": "which, as you know,\nwill be a nightmare for a lot of our reinforcement\nlearning algorithms. This is a hard cusp.",
    "start": "2408700",
    "end": "2414280"
  },
  {
    "start": "2414280",
    "end": "2419830"
  },
  {
    "text": "So if you have a control system\nthat has a hard non-linearity like this, which is-- I'm doing one thing here,\nand I'm immediately,",
    "start": "2419830",
    "end": "2427150"
  },
  {
    "text": "at some discrete place,\ndoing a different thing-- that's a very non-linear event.",
    "start": "2427150",
    "end": "2434859"
  },
  {
    "text": "And it's hard to\nget analytically when you're doing\nsomething more complicated than a double\nintegrator, and it can",
    "start": "2434860",
    "end": "2441130"
  },
  {
    "text": "be hard to get computationally. But we'll talk about\nthat when the time comes.",
    "start": "2441130",
    "end": "2446170"
  },
  {
    "text": "OK, so how the heck do I make an\noptimality argument about this?",
    "start": "2446170",
    "end": "2453410"
  },
  {
    "text": "I want to introduce\nPontryagin's minimum principle. ",
    "start": "2453410",
    "end": "2475010"
  },
  {
    "text": "OK. ",
    "start": "2475010",
    "end": "2494070"
  },
  {
    "text": "This is going to be a load\nof equations real quick, and we're going\nto tease them out.",
    "start": "2494070",
    "end": "2503130"
  },
  {
    "text": "In general, optimal control\nproblems are going to go-- are going to be formulated\nby designing a cost function.",
    "start": "2503130",
    "end": "2511050"
  },
  {
    "text": "That cost function is\nsome scalar quantity",
    "start": "2511050",
    "end": "2518430"
  },
  {
    "text": "that I want to minimize. ",
    "start": "2518430",
    "end": "2532300"
  },
  {
    "text": "I'm going to use the\nsymbols g of x you as an instantaneous\ncost function.",
    "start": "2532300",
    "end": "2537430"
  },
  {
    "start": "2537430",
    "end": "2545849"
  },
  {
    "text": "I'll use h of x to\nmean final costs.",
    "start": "2545850",
    "end": "2552540"
  },
  {
    "text": "I'm going to show you what\nthis means in a second. And I'm going to use J\nof x to be a cost-to-go.",
    "start": "2552540",
    "end": "2560240"
  },
  {
    "start": "2560240",
    "end": "2568050"
  },
  {
    "text": "It's very important-- all\nof these are scalars-- not vectors at all,\njust a scalar quantity.",
    "start": "2568050",
    "end": "2575160"
  },
  {
    "text": " So a typical optimal\ncontrol problem",
    "start": "2575160",
    "end": "2583200"
  },
  {
    "text": "will be formulated as\nsomething like h of x capital T",
    "start": "2583200",
    "end": "2589320"
  },
  {
    "text": "plus integral from 0 to T g of\nx u dt, subject to x dot of t",
    "start": "2589320",
    "end": "2601650"
  },
  {
    "text": "is f of xu. Let's say the dynamics\nand x0 t is some--",
    "start": "2601650",
    "end": "2609220"
  },
  {
    "text": "let me it call it x0 here-- x0. ",
    "start": "2609220",
    "end": "2620440"
  },
  {
    "text": "This is a general\ncost function-- cost-to-go function form\nfor optimal control.",
    "start": "2620440",
    "end": "2627160"
  },
  {
    "text": "We're going to use it a lot. There's just a couple of\nthings to note about it.",
    "start": "2627160",
    "end": "2632970"
  },
  {
    "text": "So just to get some\nintuition, so g of xu-- that's things I'm penalizing\nthroughout the trajectory. So maybe I want to do\nsmall actions in general,",
    "start": "2632970",
    "end": "2648309"
  },
  {
    "text": "in which case, I could\nput some term in here, which penalizes\nme for having a u.",
    "start": "2648310",
    "end": "2653769"
  },
  {
    "text": "I could put a u squared in\nhere or something like that. Or maybe I want to\njust worry about being",
    "start": "2653770",
    "end": "2661630"
  },
  {
    "text": "a long way from the origin. Maybe I'll put an x squared in\nhere or something like this. ",
    "start": "2661630",
    "end": "2668710"
  },
  {
    "text": "h is a final cost. It's some function\nthat only penalizes",
    "start": "2668710",
    "end": "2674050"
  },
  {
    "text": "the final state of the system. So maybe I don't care what I'm\ndoing for the first capital T",
    "start": "2674050",
    "end": "2679390"
  },
  {
    "text": "seconds, but at\ntime capital T, I",
    "start": "2679390",
    "end": "2684670"
  },
  {
    "text": "want to penalize it\nfor being away from 0-- x squared here or\nsomething like that. There's lots of different forms.",
    "start": "2684670",
    "end": "2691276"
  },
  {
    "text": "The only thing that's\nreally important to note about this, the only\nreally restriction in the forms that you can play\nwith, is that we",
    "start": "2691277",
    "end": "2696940"
  },
  {
    "text": "do tend to assume this\nform, which is additive. It's integrable-- integrates\nsome scalar cost g.",
    "start": "2696940",
    "end": "2706269"
  },
  {
    "text": "So I don't look at\nmultiplicative contributions of-- from x at time 1 and x time\n4 or something like that.",
    "start": "2706270",
    "end": "2713170"
  },
  {
    "text": "I'm only looking at\nadditive cost functions. Assuming that form--\nthat additive cost form",
    "start": "2713170",
    "end": "2720880"
  },
  {
    "text": "will make all the\nderivations work, roughly. OK, so for the minimum time\nproblem, what is that form?",
    "start": "2720880",
    "end": "2730930"
  },
  {
    "text": " You could formulate it a\ncouple of different ways.",
    "start": "2730930",
    "end": "2736990"
  },
  {
    "start": "2736990",
    "end": "2761565"
  },
  {
    "text": "In this case, I could actually\nhave g of xu equals 1,",
    "start": "2761565",
    "end": "2768510"
  },
  {
    "text": "and have capital T\ndefined as the time,",
    "start": "2768510",
    "end": "2783720"
  },
  {
    "text": "and have h of x equal 0.  That's a perfectly reasonable\noptimal control formulation.",
    "start": "2783720",
    "end": "2794550"
  },
  {
    "text": "So it certainly fits in this\ngeneral optimal control form.",
    "start": "2794550",
    "end": "2799860"
  },
  {
    "text": " OK, so now we need\nto know how to--",
    "start": "2799860",
    "end": "2805980"
  },
  {
    "text": "we've got this guess. I'm going to leave that\nhard-earned picture up there. ",
    "start": "2805980",
    "end": "2813569"
  },
  {
    "text": "I like this one too, but-- ",
    "start": "2813570",
    "end": "2838109"
  },
  {
    "text": "let me just say what\nPontryagin's minimum principle is first, and then we'll\nmake sure it makes sense.",
    "start": "2838110",
    "end": "2843600"
  },
  {
    "text": "So for this general form, J\nof x is h of xT plus integral",
    "start": "2843600",
    "end": "2855150"
  },
  {
    "text": "from 0 to T g x,\nu dt, subject to--",
    "start": "2855150",
    "end": "2860609"
  },
  {
    "text": "and I'm going to try to be\nvery careful about writing these all every time.",
    "start": "2860610",
    "end": "2868500"
  },
  {
    "start": "2868500",
    "end": "2878780"
  },
  {
    "text": "Let's assume for-- to begin\nwith, capital T is fixed, just a parameter somebody chose.",
    "start": "2878780",
    "end": "2884650"
  },
  {
    "text": " Let's say u is\nbounded to some set u.",
    "start": "2884650",
    "end": "2892217"
  },
  {
    "text": "In our problem right now, it\nwas negative 1 to 1, right? ",
    "start": "2892217",
    "end": "2902800"
  },
  {
    "text": "The minimum principle\ngoes like this. ",
    "start": "2902800",
    "end": "2936010"
  },
  {
    "text": "We're going to define this\nnew auxiliary function, the Hamiltonian, capital H. If I\nhave found some optimal control",
    "start": "2936010",
    "end": "2973830"
  },
  {
    "text": "solution-- ",
    "start": "2973830",
    "end": "2982410"
  },
  {
    "text": "I'll think of it in\nterms of-- the solution right now in terms of\na trajectory, which",
    "start": "2982410",
    "end": "2988800"
  },
  {
    "text": "is some sequence x\nstar of t, u star of t.",
    "start": "2988800",
    "end": "2994546"
  },
  {
    "text": " Then it must satisfy the\nfollowing conditions.",
    "start": "2994546",
    "end": "3004384"
  },
  {
    "start": "3004384",
    "end": "3010320"
  },
  {
    "text": "First of all, we know it must\nsatisfy f of x star u star.",
    "start": "3010320",
    "end": "3015950"
  },
  {
    "text": "That was already one\nof our conditions.",
    "start": "3015950",
    "end": "3021380"
  },
  {
    "text": "And it has to satisfy the-- ",
    "start": "3021380",
    "end": "3030470"
  },
  {
    "text": "OK. There's a significantly\nless trivial one, which is that p dot of t has got\nto equal to negative partial h,",
    "start": "3030470",
    "end": "3042080"
  },
  {
    "text": "partial x evaluated\nat x star, u star, p--",
    "start": "3042080",
    "end": "3049970"
  },
  {
    "text": " which, if h is what\nI had up there,",
    "start": "3049970",
    "end": "3057599"
  },
  {
    "text": "works out to be\npartial g, partial x,",
    "start": "3057600",
    "end": "3062850"
  },
  {
    "text": "plus partial f, partial x. Transpose p. ",
    "start": "3062850",
    "end": "3081390"
  },
  {
    "text": "And this auxillary\nvariable that we had has to be the gradient of\npartial h evaluated x star t.",
    "start": "3081390",
    "end": "3091140"
  },
  {
    "start": "3091140",
    "end": "3096990"
  },
  {
    "text": "One last condition--\nthis is 1, 2, 3.",
    "start": "3096990",
    "end": "3104340"
  },
  {
    "text": " u star t had better\nbe the argmin",
    "start": "3104340",
    "end": "3112260"
  },
  {
    "text": "over u of h of x star, u, p.",
    "start": "3112260",
    "end": "3120030"
  },
  {
    "start": "3120030",
    "end": "3128200"
  },
  {
    "text": "OK. Sorry. Cut that out. We're going to make\nsense of it now. ",
    "start": "3128200",
    "end": "3139180"
  },
  {
    "text": "OK, before we derive it-- and I'll just do a sketch\nof the derivation-- but before we derive\nit, let's just think about the implications.",
    "start": "3139180",
    "end": "3146123"
  },
  {
    "text": " First of all, this says the\noptimal control trajectory must",
    "start": "3146123",
    "end": "3154060"
  },
  {
    "text": "satisfy, which means it's\na necessary condition",
    "start": "3154060",
    "end": "3160630"
  },
  {
    "text": "for optimality. ",
    "start": "3160630",
    "end": "3168130"
  },
  {
    "text": "If I found some\noptimal trajectory x star, u star, some trajectory\nx, u, I can verify that--",
    "start": "3168130",
    "end": "3177430"
  },
  {
    "text": "a necessary condition is that\nall these things are hold, but that's actually not\na sufficient condition in general.",
    "start": "3177430",
    "end": "3184420"
  },
  {
    "text": "For linear systems\nthat are convex-- linear dynamics that are\nconvex and the cost function,",
    "start": "3184420",
    "end": "3190160"
  },
  {
    "text": "it turns out it's OK,\nbut in general, it's not always sufficient. ",
    "start": "3190160",
    "end": "3202970"
  },
  {
    "text": "And it says that, if I take my\nx and I integrate it forward in time, solving x by\nintegrating my dynamics",
    "start": "3202970",
    "end": "3209440"
  },
  {
    "text": "forward, and then I take\nthis other function-- this new set of variables p,\nwhich happens to have the same",
    "start": "3209440",
    "end": "3216340"
  },
  {
    "text": "size as x-- we'll see that-- and integrate\nit effectively backwards in time, because I have\nfinal condition on p--",
    "start": "3216340",
    "end": "3226560"
  },
  {
    "text": "if I do both of those things,\nand I can write down u as being the argument of\nwhat's left-- h, x--",
    "start": "3226560",
    "end": "3233890"
  },
  {
    "text": "then I've satisfied a necessary\ncondition for optimality.",
    "start": "3233890",
    "end": "3239246"
  },
  {
    "text": "Let's try to make sense of that. ",
    "start": "3239247",
    "end": "3264810"
  },
  {
    "text": "How many people have done\noptimization before at all? ",
    "start": "3264810",
    "end": "3270740"
  },
  {
    "text": "How many people have seen\nLagrange multipliers before? ",
    "start": "3270740",
    "end": "3275960"
  },
  {
    "text": "OK, good-- so let me say a\nfew things but not dwell.",
    "start": "3275960",
    "end": "3282800"
  },
  {
    "text": "And there's a lot of\ninformation in the notes-- as fast as I can type.",
    "start": "3282800",
    "end": "3287960"
  },
  {
    "start": "3287960",
    "end": "3307330"
  },
  {
    "text": "All right, in general,\nwhat I'm trying to do is I'm trying to\nminimize some function. In this case, I'm\ntrying to minimize",
    "start": "3307330",
    "end": "3312500"
  },
  {
    "text": "J. I'm trying to\nminimize this J of x",
    "start": "3312500",
    "end": "3318010"
  },
  {
    "text": "by finding the u [INAUDIBLE]\nwhich minimizes then.",
    "start": "3318010",
    "end": "3323793"
  },
  {
    "text": "But let's make it\na little simpler just to make sure we\nget the basic idea. Let me just say J is some\nfunction of some parameter",
    "start": "3323793",
    "end": "3330579"
  },
  {
    "text": "alpha. I'm trying to minimize J-- ",
    "start": "3330580",
    "end": "3337060"
  },
  {
    "text": "I can even do it even simpler. Let's just say\nminimize over x J of x. ",
    "start": "3337060",
    "end": "3344319"
  },
  {
    "text": "So if I have some\nfunction of x--",
    "start": "3344320",
    "end": "3349720"
  },
  {
    "text": "J of x looks like this-- I want to find the minimum.",
    "start": "3349720",
    "end": "3355390"
  },
  {
    "text": "The first condition,\nthe necessary condition, is that, at the minimum,\nthe derivative of that thing",
    "start": "3355390",
    "end": "3361390"
  },
  {
    "text": "better be 0. ",
    "start": "3361390",
    "end": "3367460"
  },
  {
    "text": "So I can check by just checking\nif partial J, partial x equals",
    "start": "3367460",
    "end": "3372530"
  },
  {
    "text": "0, that I've got a necessary\ncondition for a minimum.",
    "start": "3372530",
    "end": "3378860"
  },
  {
    "start": "3378860",
    "end": "3391340"
  },
  {
    "text": "That's actually a lot of it. The second part is the\nLagrange multiplier part. ",
    "start": "3391340",
    "end": "3400610"
  },
  {
    "text": "Let's say x is a vector now-- a two-dimensional vector. Let's say I want to\ndo the optimization",
    "start": "3400610",
    "end": "3408470"
  },
  {
    "text": "min J of x, subject to the\nconstraint that x1 equals x2--",
    "start": "3408470",
    "end": "3418820"
  },
  {
    "text": "or let's do something\nslightly more interesting. x1 plus x2 is 3.",
    "start": "3418820",
    "end": "3425340"
  },
  {
    "start": "3425340",
    "end": "3432750"
  },
  {
    "text": "Turns out, thanks to\nthe method of Lagrange-- one of his many methods-- ",
    "start": "3432750",
    "end": "3440220"
  },
  {
    "text": "solving this problem is no\nmore difficult than solving this problem-- finding necessary\nconditions for this problem.",
    "start": "3440220",
    "end": "3447990"
  },
  {
    "text": "By just making an\naugmented function,",
    "start": "3447990",
    "end": "3454710"
  },
  {
    "text": "you can now minimize x and\nlambda of J of x plus lambda",
    "start": "3454710",
    "end": "3465089"
  },
  {
    "text": "times this constraint--\nwhich, in this case, is x1 plus x2 minus 3--",
    "start": "3465090",
    "end": "3474732"
  },
  {
    "text": "has to equal 0. ",
    "start": "3474732",
    "end": "3481540"
  },
  {
    "text": "It turns out, if partial\nJ, partial lambda equals 0,",
    "start": "3481540",
    "end": "3488333"
  },
  {
    "text": "then that means the\nconstraint is enforced. ",
    "start": "3488333",
    "end": "3497120"
  },
  {
    "text": "Partial J, partial lambda in\nthis is x1 plus x2 minus 3.",
    "start": "3497120",
    "end": "3504560"
  },
  {
    "text": "If that equals 0, which\nis the condition I'm looking for anyways for the\nminimum, then I've now--",
    "start": "3504560",
    "end": "3511880"
  },
  {
    "text": "not only have I satisfied my\nconstraint, but the remaining minima--",
    "start": "3511880",
    "end": "3518540"
  },
  {
    "text": "the minimization of this is\nthis constrained solution to that optimization.",
    "start": "3518540",
    "end": "3523819"
  },
  {
    "text": "The Lagrange multiplier\nmethod is very, very useful. If you don't know\nit, look it up. It's very good. ",
    "start": "3523820",
    "end": "3537750"
  },
  {
    "text": "Yeah? AUDIENCE: So in the\npartial J, partial lambda, that J [INAUDIBLE]\npartial is this new J-- RUSS TEDRAKE: Oh, sorry.",
    "start": "3537750",
    "end": "3543650"
  },
  {
    "text": "Thank you. Thank you. Yep. Good catch, good\ncatch-- thank you. Partial of-- I don't\nknow-- that whole thing--",
    "start": "3543650",
    "end": "3550233"
  },
  {
    "text": "partial lambda-- thank\nyou-- good catch. ",
    "start": "3550233",
    "end": "3559270"
  },
  {
    "text": "And in the method of\nLagrange multipliers, lambda has an interpretation\nof a constraint force.",
    "start": "3559270",
    "end": "3566349"
  },
  {
    "text": " What you're about to see\nis that all I'm saying",
    "start": "3566350",
    "end": "3574569"
  },
  {
    "text": "in Pontryagin's\nminimum principle-- which is an absolute\nstaple in optimal control--",
    "start": "3574570",
    "end": "3582940"
  },
  {
    "text": "is all I'm saying\nis that J of x is-- which is my cost function--\nmy cost-to-go function--",
    "start": "3582940",
    "end": "3590470"
  },
  {
    "text": "is at a stationary point\nwith a Lagrange multiplier which enforces this dynamic.",
    "start": "3590470",
    "end": "3598150"
  },
  {
    "text": "And that Lagrange\nmultiplier happens to p.",
    "start": "3598150",
    "end": "3603180"
  },
  {
    "text": "OK? So let's just see\nhow that plays out. ",
    "start": "3603180",
    "end": "3613320"
  },
  {
    "text": "OK, so this is a sketch\nof the derivation",
    "start": "3613320",
    "end": "3619710"
  },
  {
    "text": "of Pontryagin's minimum\nprinciple, which, I think-- I'm just going to\ndo enough so you see where those\nthings are and have some intuition about them--",
    "start": "3619710",
    "end": "3625655"
  },
  {
    "text": "a sketch of it based on\nthe calculus of variations. So there's many\nother ways to do it-- ",
    "start": "3625655",
    "end": "3635790"
  },
  {
    "text": "calculus of variations,\nwhich is a scary name",
    "start": "3635790",
    "end": "3641580"
  },
  {
    "text": "for a very simple thing. ",
    "start": "3641580",
    "end": "3654150"
  },
  {
    "text": "This is the problem solving-- J of x0 is h of x\nplus integral over g,",
    "start": "3654150",
    "end": "3660180"
  },
  {
    "text": "subject to those constraints. So how do I write that in\nterms of a Lagrange multiplier?",
    "start": "3660180",
    "end": "3666480"
  },
  {
    "text": "I'm going to do a\nsecond function, which I won't make the mistake\nof calling J again here. Let's call it S. Some function\nS is going to be h of xT",
    "start": "3666480",
    "end": "3679500"
  },
  {
    "text": "plus the integral from\n0 to T of g of xt,",
    "start": "3679500",
    "end": "3686520"
  },
  {
    "text": "ut plus some Lagrange\nmultipliers--",
    "start": "3686520",
    "end": "3691710"
  },
  {
    "text": "p in this case-- times my constraint, which\nis x dot minus f of xu.",
    "start": "3691710",
    "end": "3700549"
  },
  {
    "text": "I was trying to\nuse T's everywhere. [INAUDIBLE]",
    "start": "3700550",
    "end": "3727580"
  },
  {
    "text": "OK, so now I can explicitly\ntry to find the place where S--",
    "start": "3727580",
    "end": "3733520"
  },
  {
    "text": "which is my Lagrange multiplayer\nversion of my problem, which has the explicit cost\nthat I'm trying to minimize--",
    "start": "3733520",
    "end": "3741590"
  },
  {
    "text": "subject to the constraints\nthat x better be-- satisfy my dynamics--\nexactly the same",
    "start": "3741590",
    "end": "3747440"
  },
  {
    "text": "as that two-second Lagrange\nmultiplayer introduction. ",
    "start": "3747440",
    "end": "3754650"
  },
  {
    "text": "Now, getting it right\nis a little bit funny. So S is now--",
    "start": "3754650",
    "end": "3761070"
  },
  {
    "text": "you could think of S as\na functional [INAUDIBLE] a function of functions.",
    "start": "3761070",
    "end": "3767040"
  },
  {
    "text": "If I take a variation,\nthis is just-- it's going to be exactly\nlike your basic calculus,",
    "start": "3767040",
    "end": "3772710"
  },
  {
    "text": "but the calculus of\nvariations uses these symbols for a variation on\na function is just",
    "start": "3772710",
    "end": "3779760"
  },
  {
    "text": "going to be partial h, partial\nx times the variation in x",
    "start": "3779760",
    "end": "3786760"
  },
  {
    "text": "of T plus the integral 0 dt",
    "start": "3786760",
    "end": "3796850"
  },
  {
    "text": "Notice quickly that this\nthing inside here is just h. ",
    "start": "3796850",
    "end": "3803599"
  },
  {
    "text": "That's my Hamiltonian. So that thing inside\nthere I can just--",
    "start": "3803600",
    "end": "3808880"
  },
  {
    "start": "3808880",
    "end": "3834567"
  },
  {
    "text": "OK, this says this is a\nvariational analysis of S that says, if my function changes by\nsome small amount in x tilde,",
    "start": "3834568",
    "end": "3843360"
  },
  {
    "text": "this is the result of--\nin changing S-- in S. Similarly, if my thing\nchanges by a little bit in xt,",
    "start": "3843360",
    "end": "3850650"
  },
  {
    "text": "or in ut, or pt,\nor in all of them simultaneously, this tells\nme what the variation's going to be in S.",
    "start": "3850650",
    "end": "3859680"
  },
  {
    "text": "The stationary conditions\nthen-- if I'm at an optima, what I care about is that-- if I change u a little bit,\nif I change x a little bit,",
    "start": "3859680",
    "end": "3867990"
  },
  {
    "text": "if I change p a little\nbit, S better not change. That's my condition--\nmy necessary condition for optimality. ",
    "start": "3867990",
    "end": "3880349"
  },
  {
    "text": "If partial h, partial\np is 0, then I",
    "start": "3880350",
    "end": "3885780"
  },
  {
    "text": "know that changing p isn't\ngoing to change the solution, so I can look for stationary\npoints with respect to p.",
    "start": "3885780",
    "end": "3892020"
  },
  {
    "text": " Partial h, partial\np better be 0.",
    "start": "3892020",
    "end": "3897870"
  },
  {
    "text": "What's partial h, partial p? Well, it turns out it's\njust x dot minus f of xu,",
    "start": "3897870",
    "end": "3905880"
  },
  {
    "text": "which is my forward dynamics.  So if I've integrated my\nsystem forward in time,",
    "start": "3905880",
    "end": "3914549"
  },
  {
    "text": "then this thing's\ngoing to be true, and [INAUDIBLE] steady state\nwith respect to changes in p.",
    "start": "3914550",
    "end": "3919680"
  },
  {
    "start": "3919680",
    "end": "3943609"
  },
  {
    "text": "OK, let's look at the\nchanges with respect to x. So to get the contributions\nfrom x correct,",
    "start": "3943610",
    "end": "3953000"
  },
  {
    "text": "we first need to worry\nabout this x dot. We don't want to have that x\ndot floating around in there, so let's integrate by parts\nto get that out of there.",
    "start": "3953000",
    "end": "3959758"
  },
  {
    "text": " We're going to look at\nthis partial h, partial x--",
    "start": "3959758",
    "end": "3969230"
  },
  {
    "text": "the variations-- but\nfirst, integrate by parts. ",
    "start": "3969230",
    "end": "3990890"
  },
  {
    "text": "The integral of my p of\nt x dot t dt from 0 to t",
    "start": "3990890",
    "end": "3999260"
  },
  {
    "text": "is just going to be p\nof T, x of T minus p0,",
    "start": "3999260",
    "end": "4007600"
  },
  {
    "text": "[? x0 ?] minus the integral\ncapital T of p dot t x of t--",
    "start": "4007600",
    "end": "4018520"
  },
  {
    "text": "I forgot my transpose--  dt-- basic integration by parts.",
    "start": "4018520",
    "end": "4027710"
  },
  {
    "text": "OK, if I now take my variation\nin partial x, having used that,",
    "start": "4027710",
    "end": "4034839"
  },
  {
    "text": "then what I get is-- ",
    "start": "4034840",
    "end": "4061080"
  },
  {
    "text": "which gives me-- which, in\nthis case, was partial g,",
    "start": "4061080",
    "end": "4071190"
  },
  {
    "text": "partial x transpose plus partial\nf, partial x transpose p of t.",
    "start": "4071190",
    "end": "4076665"
  },
  {
    "start": "4076665",
    "end": "4087772"
  },
  {
    "text": "My goal is to show you\nenough of the derivation that you understand\nwhat these terms are, and not so much to get\ncompletely bogged down in it.",
    "start": "4087772",
    "end": "4094260"
  },
  {
    "text": "If you want a good treatment,\na careful treatment, you should see Bertsekas\noptimal control book.",
    "start": "4094260",
    "end": "4106479"
  },
  {
    "start": "4106479",
    "end": "4115702"
  },
  {
    "text": "When I say careful\ntreatment there, it's going to be 5\npages or more at least. ",
    "start": "4115702",
    "end": "4123430"
  },
  {
    "text": "OK, so Pontryagin's minimum\nprinciple says that,",
    "start": "4123430",
    "end": "4130420"
  },
  {
    "text": "if my constraint is\nsatisfied to x dot, and if I can just integrate back\nto this p dot backwards in time",
    "start": "4130420",
    "end": "4139600"
  },
  {
    "text": "from some final conditions--\nwhich are the same basic variation argument\nthat drives this--",
    "start": "4139600",
    "end": "4145659"
  },
  {
    "text": "then I found Lagrange\nmultipliers which satisfies that constraint.",
    "start": "4145660",
    "end": "4151740"
  },
  {
    "text": "And the final variation\nsays that u had better be the minimum of h of x.",
    "start": "4151740",
    "end": "4157770"
  },
  {
    "text": "That puts me at\na local minima in my constrained optimization-- ",
    "start": "4157770",
    "end": "4166000"
  },
  {
    "text": "big pill to swallow,\nbut this is the way we're going to show that the\nbrick solution is optimal.",
    "start": "4166000",
    "end": "4176535"
  },
  {
    "text": "People are much\nmore enthusiastic when there's bricks.",
    "start": "4176535",
    "end": "4182643"
  },
  {
    "text": "It's OK. I understand. ",
    "start": "4182643",
    "end": "4206100"
  },
  {
    "text": "OK, so let's turn the crank and\nuse this tool now to see what",
    "start": "4206100",
    "end": "4212010"
  },
  {
    "text": "the heck-- see if we can verify our\noriginal bang-bang policy",
    "start": "4212010",
    "end": "4218519"
  },
  {
    "text": "is optimal. ",
    "start": "4218520",
    "end": "4232060"
  },
  {
    "text": "So for the bang--  Pontryagin bang-bang\ndouble integrator--",
    "start": "4232060",
    "end": "4244931"
  },
  {
    "start": "4244932",
    "end": "4260550"
  },
  {
    "text": "what's the [INAUDIBLE]\nlook like for this thing? ",
    "start": "4260550",
    "end": "4265840"
  },
  {
    "text": "g of xu we said was just 1-- ",
    "start": "4265840",
    "end": "4274040"
  },
  {
    "text": "and p transpose times\nx dot minus f of xu.",
    "start": "4274040",
    "end": "4279050"
  },
  {
    "start": "4279050",
    "end": "4286112"
  },
  {
    "text": "I'll just write it\nout in elements forms. It's so simple. It's p1 times q dot\nplus p2 times u.",
    "start": "4286112",
    "end": "4297850"
  },
  {
    "text": " OK? ",
    "start": "4297850",
    "end": "4318110"
  },
  {
    "text": "If we had derived our bang-bang\ncontroller just like this, then we could actually\nimmediately say,",
    "start": "4318110",
    "end": "4323810"
  },
  {
    "text": "what's the optimal\ncontrol solution? If I want to take u star as\nthe argmin, u in negative 1",
    "start": "4323810",
    "end": "4341020"
  },
  {
    "text": "of 1 of h x, u, p--",
    "start": "4341020",
    "end": "4351020"
  },
  {
    "text": "and what's it going to\nbe, just looking at what I've got on the board here? ",
    "start": "4351020",
    "end": "4360600"
  },
  {
    "text": "This is a good time to\nmake sure you get it. ",
    "start": "4360600",
    "end": "4373215"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] RUSS TEDRAKE: Yeah-- good. So these terms are--",
    "start": "4373215",
    "end": "4381411"
  },
  {
    "text": "have no impact. If p2 is positive, and I\nwant to minimize this thing,",
    "start": "4381411",
    "end": "4387550"
  },
  {
    "text": "then u better be negative-- as negative as possible. Negative as possible\nmeans negative 1.",
    "start": "4387550",
    "end": "4395250"
  },
  {
    "text": "And if p2 is negative,\nthen you should be as positive as possible\nto minimize that thing.",
    "start": "4395250",
    "end": "4403740"
  },
  {
    "text": "So it turns out our same\npolicy that we worked hard for in the Pontryagin, in terms\nof the Lagrange multipliers,",
    "start": "4403740",
    "end": "4411570"
  },
  {
    "text": "works out to just be p2-- sine of p2 of t--",
    "start": "4411570",
    "end": "4417675"
  },
  {
    "text": "negative sine, sorry.  So the sine function is just\n1 if it's greater than 0,",
    "start": "4417675",
    "end": "4425128"
  },
  {
    "text": "negative 1 if it's less than 0. ",
    "start": "4425128",
    "end": "4431310"
  },
  {
    "text": "My equations for p-- which, if I didn't use the\nword adjoint equations yet, I should have--",
    "start": "4431310",
    "end": "4437969"
  },
  {
    "text": "these equations for p are\ncalled the adjoint equations. ",
    "start": "4437970",
    "end": "4457199"
  },
  {
    "text": "My equations for p\nare pretty painless. So p1 dot is negative\npartial h, partial x1.",
    "start": "4457200",
    "end": "4468792"
  },
  {
    "text": " x1 is q, so--",
    "start": "4468792",
    "end": "4474293"
  },
  {
    "text": "doesn't appear at all. That's 0. So that Lagrange multiplier\nisn't going to change at all.",
    "start": "4474293",
    "end": "4479340"
  },
  {
    "text": "That's pretty painless. And p2 dot is negative\npartial h, partial x2,",
    "start": "4479340",
    "end": "4492120"
  },
  {
    "text": "and that's negative p1 t. ",
    "start": "4492120",
    "end": "4510440"
  },
  {
    "text": "OK, so it turns out that p1--",
    "start": "4510440",
    "end": "4518870"
  },
  {
    "text": "my Lagrange multiplier's just\ngoing to be some constant. And p2-- t is just going to be\nthe interval of that constant--",
    "start": "4518870",
    "end": "4528770"
  },
  {
    "text": "c2 plus c1 times t. ",
    "start": "4528770",
    "end": "4537820"
  },
  {
    "text": "Try and debate how\nmuch to squeeze in the next few minutes--",
    "start": "4537820",
    "end": "4543199"
  },
  {
    "start": "4543200",
    "end": "4565540"
  },
  {
    "text": "you know what, let's-- let me do it tomorrow for\nreal-- or on Thursday for real, because I don't-- because\nit's going to take 10 minutes",
    "start": "4565540",
    "end": "4571930"
  },
  {
    "text": "to finish, but it's\nworth doing it right. So for homework, to yourself,\nsee if you can work it through.",
    "start": "4571930",
    "end": "4579170"
  },
  {
    "text": "Take the equations\nthat we had and show that these-- those four\nconditions are satisfied, and I'll spend the first 10\nminutes of class doing it",
    "start": "4579170",
    "end": "4586270"
  },
  {
    "text": "properly on Thursday. I don't want to rush through\nit and have it mean nothing. ",
    "start": "4586270",
    "end": "4593410"
  },
  {
    "text": "Sorry. I wrote 3 here. There's a condition-- a\nfinal condition on p2-- so three conditions\nby this number.",
    "start": "4593410",
    "end": "4600880"
  },
  {
    "text": "Awesome. ",
    "start": "4600880",
    "end": "4603000"
  }
]