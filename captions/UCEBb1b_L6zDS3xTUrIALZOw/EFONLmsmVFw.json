[
  {
    "text": "[SQUEAKING] [RUSTLING]  [CLICKING] ",
    "start": "0",
    "end": "9047"
  },
  {
    "text": "DAVID PERREAULT: OK. Why don't we get started. We've been talking\nabout DC to AC",
    "start": "9047",
    "end": "14320"
  },
  {
    "text": "power conversion or inverters. And we've been talking\nabout the full bridge--",
    "start": "14320",
    "end": "20170"
  },
  {
    "text": "what we would call the full\nbridge inverter or, more generally, you could call it\nthe full bridge converter.",
    "start": "20170",
    "end": "26830"
  },
  {
    "text": "So we have four switches. ",
    "start": "26830",
    "end": "37460"
  },
  {
    "text": "And we can use this. And depending upon\nhow we switch them, we can use them to generate\nan AC output voltage.",
    "start": "37460",
    "end": "46370"
  },
  {
    "text": "So we've been drawing a\ngeneric element that we're",
    "start": "46370",
    "end": "54710"
  },
  {
    "text": "going to have as a filter. But imagine you constructed\nthe structure like this.",
    "start": "54710",
    "end": "59850"
  },
  {
    "text": "Suppose I did this. Suppose I had an inductor, a\nresistor, another inductor.",
    "start": "59850",
    "end": "66770"
  },
  {
    "text": "Then I could consider\nthat I'm synthesizing on this side of the\ncircuit if I have",
    "start": "66770",
    "end": "72049"
  },
  {
    "text": "q of 1 of t and its\ncomplement, so I have a duty",
    "start": "72050",
    "end": "77090"
  },
  {
    "text": "ratio of the top switch on\nthis side of the circuit, I could generate\nsome output v x1.",
    "start": "77090",
    "end": "84570"
  },
  {
    "text": "And that might be filtered\nthrough this inductor. Might generate me v o1.",
    "start": "84570",
    "end": "89909"
  },
  {
    "text": "And likewise on this circuit,\nif I have q2 and q prime 2,",
    "start": "89910",
    "end": "94980"
  },
  {
    "text": "I might generate if this is\nd1, this side I'm running with duty ratio d2 of t.",
    "start": "94980",
    "end": "103570"
  },
  {
    "text": "And so I'm going to have an\noutput voltage v x2 and v o3",
    "start": "103570",
    "end": "110530"
  },
  {
    "text": "And if I thought of then\nthis load network here,",
    "start": "110530",
    "end": "115990"
  },
  {
    "text": "maybe if I thought of\nv x, I would have v",
    "start": "115990",
    "end": "123189"
  },
  {
    "text": "x is equal to v x1 minus v x2.",
    "start": "123190",
    "end": "129610"
  },
  {
    "text": "And I could then\nthink of v out 1--",
    "start": "129610",
    "end": "137680"
  },
  {
    "text": "I'm sorry. I could think of my\noutput voltage v out across the resistor as\nbeing v out as being",
    "start": "137680",
    "end": "144670"
  },
  {
    "text": "equal to v o1 minus v o2. So another way to think\nabout the full bridge",
    "start": "144670",
    "end": "154150"
  },
  {
    "text": "is as a pair of back to\nback buck converters.",
    "start": "154150",
    "end": "159680"
  },
  {
    "text": "Here's one synchronous\nbuck converter switch pair and his filter and\nanother synchronous bucks switch",
    "start": "159680",
    "end": "168520"
  },
  {
    "text": "pair and his filter. And really what I'm\ndoing is I'm taking the difference between the two\noutputs to get the AC output.",
    "start": "168520",
    "end": "177819"
  },
  {
    "text": "Right. So, for example, if I made\nthe average value of v x1,",
    "start": "177820",
    "end": "185080"
  },
  {
    "text": "which I get to control anywhere\nbetween zero and v DC by how I switch these switches\nover a PWM cycle,",
    "start": "185080",
    "end": "193960"
  },
  {
    "text": "I could make that equal to v\ntimes 1/2 plus cosine of omega",
    "start": "193960",
    "end": "201740"
  },
  {
    "text": "AC t and maybe I can control v\nx2 to be equal to some voltage v",
    "start": "201740",
    "end": "209360"
  },
  {
    "text": "times 1/2 cosine of 1/2--",
    "start": "209360",
    "end": "215330"
  },
  {
    "text": "sorry, minus cosine 1/2.",
    "start": "215330",
    "end": "220530"
  },
  {
    "text": "This should be 1/2\nplus 1/2 cosine. This should be 1 minus\n1/2 cosine of omega AC t,",
    "start": "220530",
    "end": "227780"
  },
  {
    "text": "which would then give me v x. If this is v x1\nand this is v x2,",
    "start": "227780",
    "end": "233120"
  },
  {
    "text": "v x is just the\ndifference of those two and the DC part\ncancels out and I just get the difference in these\nAC parts, which gives me",
    "start": "233120",
    "end": "241489"
  },
  {
    "text": "v cosine of omega AC t.",
    "start": "241490",
    "end": "246950"
  },
  {
    "text": "So by basically\nsynthesizing something with a DC component from\nthe left buck converter",
    "start": "246950",
    "end": "253310"
  },
  {
    "text": "and something with\nthe same DC component, but a complementary AC component\nfrom the right hand buck",
    "start": "253310",
    "end": "259910"
  },
  {
    "text": "converter, I generate\nan AC output voltage. So you could really think\nof a full bridge inverter",
    "start": "259910",
    "end": "267620"
  },
  {
    "text": "as being two synchronous\nbuck converters back to back. Any questions about that?",
    "start": "267620",
    "end": "273085"
  },
  {
    "text": " Now the average voltage that\nwe get is just due to PWM.",
    "start": "273085",
    "end": "282848"
  },
  {
    "text": "So I can control\nthis average voltage and this average voltage. The details of how\nmuch ripple I get",
    "start": "282848",
    "end": "289260"
  },
  {
    "text": "and what its high\nfrequency AC components are depend upon\nhow we do the PWM.",
    "start": "289260",
    "end": "295050"
  },
  {
    "text": "And we talked last time about\ndifferent ways we could do that. But it's the same exact concept.",
    "start": "295050",
    "end": "301530"
  },
  {
    "text": "All right. Why do I mention that one? Just because it's another\nway to look at what",
    "start": "301530",
    "end": "307260"
  },
  {
    "text": "a full bridge inverter does. Another, just as an aside, which\nwe're not going to dive into,",
    "start": "307260",
    "end": "313170"
  },
  {
    "text": "is just because I\nused buck cells here doesn't mean that's the\nonly converter I could use.",
    "start": "313170",
    "end": "320510"
  },
  {
    "text": "So I could take two synchronous\nflyback converters, for example,",
    "start": "320510",
    "end": "326190"
  },
  {
    "text": "and use each of\nthose as a half cell and take the difference\nof their outputs and get a flyback-based\ninverter or a flyback inverter.",
    "start": "326190",
    "end": "334360"
  },
  {
    "text": "And people do that. So people use different\ntopologies to do this.",
    "start": "334360",
    "end": "339490"
  },
  {
    "text": "This full bridge\nstructure is, generally, the most preferred\nbecause buck converters",
    "start": "339490",
    "end": "346830"
  },
  {
    "text": "are really low stress. They're really\nsimple to control. They have a whole\nbunch of benefits. And it's about as simple as\nyou can get to do the job.",
    "start": "346830",
    "end": "354110"
  },
  {
    "text": "But if I had to put an AC\ntransformer in the middle, maybe I'd think about something\nlike a flyback inverter",
    "start": "354110",
    "end": "360900"
  },
  {
    "text": "to give me isolation, and large\nstep up, and everything else. Any questions about that?",
    "start": "360900",
    "end": "366495"
  },
  {
    "text": " The second point\nI'd like to make is I've talked about power\ngoing from AC to DC--",
    "start": "366495",
    "end": "375560"
  },
  {
    "text": "I'm sorry-- DC to AC. And what the power\nflow looks like",
    "start": "375560",
    "end": "381889"
  },
  {
    "text": "depends upon this current iL. What I'm really limited\nin this circuit by is what range of v x1 and\nv x2 I can synthesize.",
    "start": "381890",
    "end": "391690"
  },
  {
    "text": "There's nothing wrong\nwith using this circuit to flow power AC to\nDC so long as I have",
    "start": "391690",
    "end": "398230"
  },
  {
    "text": "a source that could support it. So one thing I could think about\nis coming along and building",
    "start": "398230",
    "end": "407050"
  },
  {
    "text": "the same basic structure. So here's v DC, And I'll\nput a pair of switches here.",
    "start": "407050",
    "end": "418300"
  },
  {
    "text": "And I'll put a pair\nof switches here. And there's nothing that says\nI can't combine the filter",
    "start": "418300",
    "end": "423660"
  },
  {
    "text": "elements. So here's iL again. I'll just combine those two\ninductors as one element.",
    "start": "423660",
    "end": "431160"
  },
  {
    "text": "And maybe here I have v AC.",
    "start": "431160",
    "end": "436470"
  },
  {
    "text": "Right. There's absolutely\nnothing that says that I can't now\nuse this circuit",
    "start": "436470",
    "end": "441870"
  },
  {
    "text": "to run power from AC to DC. It's just a question of what the\nphase of iL is compared to v AC.",
    "start": "441870",
    "end": "448389"
  },
  {
    "text": " And in fact, if I\nthink about it then,",
    "start": "448390",
    "end": "456060"
  },
  {
    "text": "that's very much\nlike from AC to DC, this acting as a pair of back\nto back boost converters.",
    "start": "456060",
    "end": "462490"
  },
  {
    "text": "It's taking energy from\nhere, boosting it up to a higher DC output voltage.",
    "start": "462490",
    "end": "468090"
  },
  {
    "text": "So just like we talked\non early in the lecture, I can either think of this\nas a buck inverter or a boost",
    "start": "468090",
    "end": "475500"
  },
  {
    "text": "rectifier. Any questions about that?",
    "start": "475500",
    "end": "481840"
  },
  {
    "text": "And in fact, people\noften do this. Where might you do this?",
    "start": "481840",
    "end": "487910"
  },
  {
    "text": "Well, imagine for a second\nthat this whole thing--",
    "start": "487910",
    "end": "493440"
  },
  {
    "text": "this box-- maybe this is\nthe back EMF and winding",
    "start": "493440",
    "end": "499320"
  },
  {
    "text": "of a generator. So I can then extract\nenergy from the generator",
    "start": "499320",
    "end": "505080"
  },
  {
    "text": "so there's a\nmechanical input in. It generates a back EMF\nvoltage and I take power out",
    "start": "505080",
    "end": "510120"
  },
  {
    "text": "and throw it out to the DC side\nor maybe this is a motor drive.",
    "start": "510120",
    "end": "515159"
  },
  {
    "text": "And sometimes I'm driving power\ninto the back EMF of the motor to generate torque.",
    "start": "515159",
    "end": "521229"
  },
  {
    "text": "And sometimes I'm regeneratively\nbraking and absorbing power from the AC side\nback to the DC side.",
    "start": "521230",
    "end": "527490"
  },
  {
    "text": "So I can either generate\npositive torque with respect to speed and deliver mechanical\npower or absorb mechanical power",
    "start": "527490",
    "end": "536400"
  },
  {
    "text": "and slow down. Any questions about that? So just because I often\ncall this an inverter,",
    "start": "536400",
    "end": "544740"
  },
  {
    "text": "we might really think of it\nas a converter, meaning it can be an inverter\nor a rectifier,",
    "start": "544740",
    "end": "551310"
  },
  {
    "text": "depending upon how\nI'm controlling it. And this is very common.",
    "start": "551310",
    "end": "557399"
  },
  {
    "text": "The other places it\ncould be is the AC grid. So if I had a solar\npanel stack here",
    "start": "557400",
    "end": "564080"
  },
  {
    "text": "and I wanted to shove\nenergy out into the AC grid, perhaps I use exactly\nthis structure.",
    "start": "564080",
    "end": "571920"
  },
  {
    "text": "OK. So there's another\nplace you might do it. ",
    "start": "571920",
    "end": "577550"
  },
  {
    "text": "And that's just many\napplications of an inverter. Yeah.",
    "start": "577550",
    "end": "582860"
  },
  {
    "text": "STUDENT: When you're\ngenerating breaking, do you have to use the switch\nthe way the switches are switching [INAUDIBLE]?",
    "start": "582860",
    "end": "590360"
  },
  {
    "text": "DAVID PERREAULT: Well,\nwe talked last time about how I might control current.",
    "start": "590360",
    "end": "595940"
  },
  {
    "text": "So I could think to\nmeasure the current here. And I could either generate\nthe PWM to generate",
    "start": "595940",
    "end": "605779"
  },
  {
    "text": "the average voltage vx. If the current is\ntoo low, I turn up vx",
    "start": "605780",
    "end": "611570"
  },
  {
    "text": "to make the current high. And I put a closed loop so\nI can control the current or I could use a hysteretic\ncurrent controller",
    "start": "611570",
    "end": "617420"
  },
  {
    "text": "is another way we talked about. So really, it's\nreally a question of whether a power is flowing AC\nto DC is just me deciding, well,",
    "start": "617420",
    "end": "626120"
  },
  {
    "text": "relative to this\nvoltage, what do I want the phase of\nthat current to be. It could be exactly\nin phase and then",
    "start": "626120",
    "end": "633860"
  },
  {
    "text": "I'm just purely\ndelivering DC to AC. It could be iL could have the\nexact opposite sign to v AC",
    "start": "633860",
    "end": "639660"
  },
  {
    "text": "and then I'm just purely\ndelivering energy AC-DC or something in between. So yes, it's exactly how I\ncontrol the switches determines",
    "start": "639660",
    "end": "648180"
  },
  {
    "text": "the power flow direction in\nthis generalized picture, understanding that there's\nlimits on what the load can do.",
    "start": "648180",
    "end": "654220"
  },
  {
    "text": "Now if I had a current\nsource inverter, here I'm talking about deciding\npower flow direction based",
    "start": "654220",
    "end": "661920"
  },
  {
    "text": "on the sign of this current\nwhere the voltages I apply are the same sign. If I had a current source\ninverter, I'd do the reverse.",
    "start": "661920",
    "end": "668410"
  },
  {
    "text": "The current would have\nthe same direction. I'd do it at a different\nvoltage polarity. ",
    "start": "668410",
    "end": "675190"
  },
  {
    "text": "Any other questions? Yeah. STUDENT: I have a question\non the one on the top. You have the average voltages,\nbut they have the cosine omega t",
    "start": "675190",
    "end": "684010"
  },
  {
    "text": "term. So is that some\nspecial AC average that gives you the\nfundamentals here? DAVID PERREAULT: Yeah. That's a very good question.",
    "start": "684010",
    "end": "690470"
  },
  {
    "text": "What I meant to convey here--\nand I wasn't very clear about it--",
    "start": "690470",
    "end": "695620"
  },
  {
    "text": "is imagine I have a really\nhigh switching frequency, 100 kilohertz, but\nomega AC is maybe",
    "start": "695620",
    "end": "702850"
  },
  {
    "text": "some lower frequency, 60 hertz. So from the perspective of\nthe switching frequency, maybe",
    "start": "702850",
    "end": "710740"
  },
  {
    "text": "omega AC is really low\nand so think about as DC. So instead of being,\nyou know, average",
    "start": "710740",
    "end": "718600"
  },
  {
    "text": "over infinite time, it's\naverage over just some time this long compared to the PWM\ncycle, hundreds or thousands",
    "start": "718600",
    "end": "724780"
  },
  {
    "text": "of PWM cycles. So I slowly vary my\nduty cycle, d of t,",
    "start": "724780",
    "end": "730089"
  },
  {
    "text": "not within a switching\ncycle but slowly compared to the switching\nperiod of the inverter",
    "start": "730090",
    "end": "737860"
  },
  {
    "text": "and on the time scale of the\nAC output I want to synthesize.",
    "start": "737860",
    "end": "743390"
  },
  {
    "text": "So if I want to\nsynthesize music, I'd better have a\nswitching frequency that's much higher than 20 kilohertz\nbandwidth you can hear",
    "start": "743390",
    "end": "750400"
  },
  {
    "text": "kind of thing or, in my\ncase, 8 or 10 kilohertz, but that's life.",
    "start": "750400",
    "end": "757550"
  },
  {
    "text": "Any other questions? Yeah.",
    "start": "757550",
    "end": "762570"
  },
  {
    "text": "STUDENT: Can the top\none be used to excite the excitation of the\n[INAUDIBLE] for rectification?",
    "start": "762570",
    "end": "774150"
  },
  {
    "text": "DAVID PERREAULT:\nFor rectification. Yeah. I don't see why not. Yeah. As long as you have\na DC voltage that's",
    "start": "774150",
    "end": "781550"
  },
  {
    "text": "greater than whatever the\nAC output in amplitude is. Right. This thing, because it's\nbased on a buck converter,",
    "start": "781550",
    "end": "787460"
  },
  {
    "text": "I can't synthesize\nan AC waveform to drive current that's\nbigger than the thing",
    "start": "787460",
    "end": "792590"
  },
  {
    "text": "I'm trying to drive. STUDENT: If you were to have\nthe stator in the middle and then use that to excite\nthe rotor field winding.",
    "start": "792590",
    "end": "803247"
  },
  {
    "text": "DAVID PERREAULT: Oh. Could I? Yes. You can play games like that,\nbut maybe that's better.",
    "start": "803247",
    "end": "809360"
  },
  {
    "text": "Yeah. That would require\nmore explanation than I have time to\ngive, unfortunately. But yes, you can.",
    "start": "809360",
    "end": "815155"
  },
  {
    "text": " So that's-- whether I think\nabout this as an inverter,",
    "start": "815155",
    "end": "822840"
  },
  {
    "text": "or rectifier, or just a\nconverter is up to you.",
    "start": "822840",
    "end": "829910"
  },
  {
    "text": "But I would like\nto note that there are some times when I only\nreally want to go one direction. In fact, there's\ntimes when I only",
    "start": "829910",
    "end": "836870"
  },
  {
    "text": "want to take power from the wall\nand put it out to the DC side. If I'm building a\ncomputer power supply,",
    "start": "836870",
    "end": "845120"
  },
  {
    "text": "at least in ones today,\nthere's no real reason for me to do anything except absorb\npower from the AC side",
    "start": "845120",
    "end": "852200"
  },
  {
    "text": "and put it to the DC side. Right. And if that's the only\nthing I want to do,",
    "start": "852200",
    "end": "858140"
  },
  {
    "text": "I can do the conversion. I could do that\nwith this circuit. I could connect\nthis to the AC grid.",
    "start": "858140",
    "end": "863290"
  },
  {
    "start": "863290",
    "end": "869149"
  },
  {
    "text": "I could connect this\nthing to the AC grid, and control the\nswitches, and dump energy",
    "start": "869150",
    "end": "875350"
  },
  {
    "text": "into the DC side, which then\nI'd use to power my computer, for example. Right. But if that's all\nI want to do, this",
    "start": "875350",
    "end": "882070"
  },
  {
    "text": "is kind of a more complicated\ncircuit than you need to do it. So for things like computer\npower supplies, which",
    "start": "882070",
    "end": "889630"
  },
  {
    "text": "are kind of ubiquitous\nthese days, or something like my laptop\nadapter there, that's",
    "start": "889630",
    "end": "895990"
  },
  {
    "text": "a pretty expensive circuit to\nbe using because it has way more capability than we need.",
    "start": "895990",
    "end": "902920"
  },
  {
    "text": "So mostly if we're going to\ndeliver power from AC or DC,",
    "start": "902920",
    "end": "908139"
  },
  {
    "text": "we use simpler circuits. One way to do this and the\noldie-fashioned way to do is to use what's known as a\nphase controlled rectifier.",
    "start": "908140",
    "end": "915310"
  },
  {
    "text": "And there's a chapter\nin the book on it. At high powers, it's still done. But I'm going to skip\nover that as an approach",
    "start": "915310",
    "end": "921070"
  },
  {
    "text": "because it's less relevant\nto high frequency converters",
    "start": "921070",
    "end": "928270"
  },
  {
    "text": "and also because, if you think\nabout things like computer power supplies, not so much\nin the sub-75 watt range",
    "start": "928270",
    "end": "936580"
  },
  {
    "text": "but higher power\nlike your desktop, there are very strict\nrequirements in how it looks to the AC grid.",
    "start": "936580",
    "end": "943340"
  },
  {
    "text": "So we talked about\nuncontrolled rectifiers at the beginning of the term. And they tend to have\nugly AC waveforms.",
    "start": "943340",
    "end": "950589"
  },
  {
    "text": "And that means they\nhave low power factor. So a goal of many\nswitch mode rectifiers",
    "start": "950590",
    "end": "956950"
  },
  {
    "text": "is to take energy\nfrom AC to DC only, but to do it at a very\ngood power factor.",
    "start": "956950",
    "end": "962770"
  },
  {
    "text": "OK. So let's think about\nhow we might do that. Maybe I might draw\nthis generalized box",
    "start": "962770",
    "end": "968829"
  },
  {
    "text": "as something like this. I have some AC voltage, v AC.",
    "start": "968830",
    "end": "974370"
  },
  {
    "text": "Right. That's the line\nvoltage typically. Maybe I'll call it v line. ",
    "start": "974370",
    "end": "982900"
  },
  {
    "text": "It goes into a box. OK. That box is a rectifier.",
    "start": "982900",
    "end": "990590"
  },
  {
    "text": "And maybe it just feeds-- I'll put a capacitor here. And we'll talk more about\nthis capacitor later.",
    "start": "990590",
    "end": "996879"
  },
  {
    "text": "But maybe it feeds\nsome load v DC. And I would like, generally,\nthis line current i line",
    "start": "996880",
    "end": "1006630"
  },
  {
    "text": "to have very nice waveforms. OK. What would nice be defined as?",
    "start": "1006630",
    "end": "1013660"
  },
  {
    "text": "Well, you know, here is v line. ",
    "start": "1013660",
    "end": "1025640"
  },
  {
    "text": "This is the line frequency. This is 60hz or 50hz,\ndepending upon where you are.",
    "start": "1025640",
    "end": "1033150"
  },
  {
    "text": "The best I can do in\nterms of power factor is to make my whole converter\nlook like a resistor.",
    "start": "1033150",
    "end": "1041089"
  },
  {
    "text": "So my goal might be to have a\ncurrent waveform that looks just like this.",
    "start": "1041089",
    "end": "1046584"
  },
  {
    "text": " Here's i line. ",
    "start": "1046584",
    "end": "1053240"
  },
  {
    "text": "And maybe I would make i line\nsomething like i line of t",
    "start": "1053240",
    "end": "1062929"
  },
  {
    "text": "is just equal to some\nconstant g times v line of t.",
    "start": "1062930",
    "end": "1069140"
  },
  {
    "text": "Now, clearly, the amount\nof power I'm going to get is going to vary with g.",
    "start": "1069140",
    "end": "1074750"
  },
  {
    "text": "But for any value of g, I'll get\nsome amount of average power out of the line. And this is about as good as I\ncan do in terms of power factor.",
    "start": "1074750",
    "end": "1082730"
  },
  {
    "text": "OK. So done that way, this is called\na unity power factor rectifier",
    "start": "1082730",
    "end": "1087980"
  },
  {
    "text": "because the line\ncurrent, ideally, just",
    "start": "1087980",
    "end": "1093049"
  },
  {
    "text": "looks like-- it makes the\nconverter look like a resistor. It's a variable resistor\ndepending upon this constant.",
    "start": "1093050",
    "end": "1102600"
  },
  {
    "text": "So as I vary the g to vary\nthe amount of power I draw, I vary the equivalent\nresistance.",
    "start": "1102600",
    "end": "1109289"
  },
  {
    "text": "But nonetheless, at any given\nload, it looks like a resistor. OK. Does that make\nsense to everybody?",
    "start": "1109290",
    "end": "1115940"
  },
  {
    "text": "So that's called a unity power\nfactor rectifier or a UPF rectifier. More generally, in\nmodern terms, people",
    "start": "1115940",
    "end": "1123200"
  },
  {
    "text": "talk about a PFC or power\nfactor corrected rectifier. And what's meant by\nthat is I've shown",
    "start": "1123200",
    "end": "1130940"
  },
  {
    "text": "you the idealized case where\nthis draws a perfect sinusoid. You may have converters that\ndon't draw perfect sinusoids",
    "start": "1130940",
    "end": "1137840"
  },
  {
    "text": "but are close enough that the\npower factor is very, very high. And so that would be\ncalled a PFC converter.",
    "start": "1137840",
    "end": "1143640"
  },
  {
    "text": "And if you look at many\napplications like computer power supplies or for\ndifferent kinds of tools, they all have slightly different\nrequirements put together.",
    "start": "1143640",
    "end": "1152190"
  },
  {
    "text": "But generally, the power\nfactor has to be pretty high. They limit the\ndistortion in the current or they limit how non-sinusoidal\nthe line current looks.",
    "start": "1152190",
    "end": "1161929"
  },
  {
    "text": "So what I'm going to do is\nI'm going to tell you now-- I'll give you as in\none example of this, I'll show you what's at the\nfront end or some variant",
    "start": "1161930",
    "end": "1169048"
  },
  {
    "text": "of what's at the front\nend of most computer power supplies for single phase. And this is the idea.",
    "start": "1169048",
    "end": "1175710"
  },
  {
    "text": "OK. Whereas we had all\nthese active switches, it turns out I don't need\nall those active switches.",
    "start": "1175710",
    "end": "1181610"
  },
  {
    "text": "And the active switches,\nand their controllers, and all that stuff\nare expensive. Maybe I could do\nsomething like this.",
    "start": "1181610",
    "end": "1187440"
  },
  {
    "text": "Maybe I could come in. And here's my v AC.",
    "start": "1187440",
    "end": "1193160"
  },
  {
    "start": "1193160",
    "end": "1198950"
  },
  {
    "text": "Here's my AC line voltage. I'll run that into\na diode rectifier.",
    "start": "1198950",
    "end": "1205290"
  },
  {
    "text": "OK. ",
    "start": "1205290",
    "end": "1212625"
  },
  {
    "text": "So if I plotted v\nline of t here--",
    "start": "1212625",
    "end": "1219010"
  },
  {
    "start": "1219010",
    "end": "1224060"
  },
  {
    "text": "and again, I'm plotting things\non the line frequency time scale so I'm going to have a\nswitching circuit that",
    "start": "1224060",
    "end": "1229130"
  },
  {
    "text": "runs much faster than that. So this time period t line\nmight be 1 over 60 hertz.",
    "start": "1229130",
    "end": "1239120"
  },
  {
    "text": "So I have v line here.",
    "start": "1239120",
    "end": "1244309"
  },
  {
    "text": "Maybe what I will get\nthen is a voltage vx, depending upon how I make the\nrest of the circuit look like,",
    "start": "1244310",
    "end": "1250970"
  },
  {
    "text": "vx that looks like this. So this is vx of t. I will make vx of t.",
    "start": "1250970",
    "end": "1256640"
  },
  {
    "text": "When v line is positive,\nthese two diodes are on and v line equals--",
    "start": "1256640",
    "end": "1262100"
  },
  {
    "text": "vx equals v line. And when v line is negative,\nthese two diodes are on and vx equals minus v line.",
    "start": "1262100",
    "end": "1267240"
  },
  {
    "text": "So now I get something\nthat does this. ",
    "start": "1267240",
    "end": "1276240"
  },
  {
    "text": "OK. That's a pretty\nbad half sine wave. So right. So here's v line. ",
    "start": "1276240",
    "end": "1286210"
  },
  {
    "text": "Here's v x.  Does that make\nsense to everybody?",
    "start": "1286210",
    "end": "1292370"
  },
  {
    "text": "Now. The beauty of this is\nI've made it unipolar. And so then I can build\nthe rest of my circuit.",
    "start": "1292370",
    "end": "1300347"
  },
  {
    "text": "And maybe one way I'd build\nthe rest of my circuit is just to build\na boost converter. So here we go. I only have one active switch.",
    "start": "1300347",
    "end": "1306990"
  },
  {
    "text": "q of t runs this switch. And he's now referenced\nto this node. And then I can put a diode and\na capacitor and get v DC out.",
    "start": "1306990",
    "end": "1317670"
  },
  {
    "text": " And what's my goal?",
    "start": "1317670",
    "end": "1324170"
  },
  {
    "text": "My goal might be to control\nmy input current i x.",
    "start": "1324170",
    "end": "1333410"
  },
  {
    "text": "And maybe I'll make\nthis current i x. ",
    "start": "1333410",
    "end": "1342049"
  },
  {
    "text": "And i x maybe I'll control to\nlook like this, on average.",
    "start": "1342050",
    "end": "1347470"
  },
  {
    "text": "There's going to be some\nswitching component to it. But maybe I'll make i x,\nif this is a voltage v s--",
    "start": "1347470",
    "end": "1357530"
  },
  {
    "text": "peak voltage v s, maybe I'll\nmake his peak g times v s. All right.",
    "start": "1357530",
    "end": "1362760"
  },
  {
    "text": "So it's going to have a\nsinusoidal reference current. And I'm going to track it.",
    "start": "1362760",
    "end": "1367880"
  },
  {
    "text": "OK. Well, if this is\nthe current i x, it has to ultimately come\nfrom the diode bridge.",
    "start": "1367880",
    "end": "1375809"
  },
  {
    "text": "So when these two\ndiodes are on, which happens when v line is positive,\nit goes through one way",
    "start": "1375810",
    "end": "1382430"
  },
  {
    "text": "and then i x goes\nthrough the other when the other two\ndiodes are positive. So then if I plotted i line,\nwhat would i line look like?",
    "start": "1382430",
    "end": "1393059"
  },
  {
    "text": "i line would look like this. So this is i x.",
    "start": "1393060",
    "end": "1398570"
  },
  {
    "text": "And i line would look like this. It would look like i x in the\npositive half cycle minus x",
    "start": "1398570",
    "end": "1406165"
  },
  {
    "text": "in the negative half cycle. And this would be i line. So suddenly, what\nhappens is I only",
    "start": "1406165",
    "end": "1413370"
  },
  {
    "text": "have to control this simple\nDC to DC boost converter",
    "start": "1413370",
    "end": "1419220"
  },
  {
    "text": "to generate a time varying\ncurrent over the line cycle. And the diode bridge\nnaturally unfolds that.",
    "start": "1419220",
    "end": "1426750"
  },
  {
    "text": "Give me a sinusoidal\ninput current.  Any questions about that?",
    "start": "1426750",
    "end": "1434840"
  },
  {
    "text": "This is kind of\ncool because I've thrown out four active\nswitches and a bunch of control",
    "start": "1434840",
    "end": "1440950"
  },
  {
    "text": "for basically one active switch. And yeah, I got some\ndiodes, but so what.",
    "start": "1440950",
    "end": "1446470"
  },
  {
    "text": "Those diodes don't\nrequire any control. They're cheap. They're simple. Life is good.",
    "start": "1446470",
    "end": "1451929"
  },
  {
    "text": "OK. Now this kind of\nboost rectifier-- this would be called\na boost rectifier--",
    "start": "1451930",
    "end": "1457760"
  },
  {
    "text": " is very much in the\nspirit of my full bridge.",
    "start": "1457760",
    "end": "1466160"
  },
  {
    "text": "I just don't have to worry\nabout all the phase shift. Now, that said, it\ncan only rectify.",
    "start": "1466160",
    "end": "1471800"
  },
  {
    "text": "Power is only going to flow\nthis way because of these four diodes. That's the price I paid. I can't phase shift my current\nwith respect to the line",
    "start": "1471800",
    "end": "1479470"
  },
  {
    "text": "or do any other fancy things. But, generally, I don't want to. I don't want to get\nenergy out of the line and put it into a power\nsupply for my computer.",
    "start": "1479470",
    "end": "1487240"
  },
  {
    "text": "The other thing about\nthis, of course, is this particular circuit\nis a boost converter.",
    "start": "1487240",
    "end": "1493900"
  },
  {
    "text": "Like if I look at it from here,\nthat just looks like a boost DC to DC converter. That means that this DC\noutput voltage must be bigger",
    "start": "1493900",
    "end": "1502460"
  },
  {
    "text": "than the peak line voltage. OK. Now what that means practically\nis most places in the US",
    "start": "1502460",
    "end": "1509420"
  },
  {
    "text": "the peak line\nvoltage is 170 but it can be plus 10%, minus 15%,\naround that in practice",
    "start": "1509420",
    "end": "1518390"
  },
  {
    "text": "or sometimes even worse. But then I also have to make\nit run in some places in Japan where the line voltage might\ngo down to like 90 VACRMS.",
    "start": "1518390",
    "end": "1528380"
  },
  {
    "text": "And I got to make it\nrun in Europe where it can get much higher. So most of the time,\nwhat people will do",
    "start": "1528380",
    "end": "1534560"
  },
  {
    "text": "is they'll make\nthis like 400 volts for a single phase\nline, which means it can take anywhere in the\nworld's single phase AC voltage.",
    "start": "1534560",
    "end": "1544600"
  },
  {
    "text": " The other thing I\nshould point out is notice that if this is\nhot and this is neutral,",
    "start": "1544600",
    "end": "1554440"
  },
  {
    "text": "which is near ground,\nnotice that this node is not referenced to this node.",
    "start": "1554440",
    "end": "1562539"
  },
  {
    "text": "So don't make the\nmistake of saying, OK, I'm going to connect\nmy ground clip here",
    "start": "1562540",
    "end": "1567910"
  },
  {
    "text": "because grounds are neutral and\nbad things are going to happen. Usually, bad things means\nyour circuit explodes.",
    "start": "1567910",
    "end": "1573910"
  },
  {
    "text": "And I've been there. Let me just illustrate\nthis for you.",
    "start": "1573910",
    "end": "1580160"
  },
  {
    "text": "This is a simulation. So here's my sine wave\nvoltage source, four diodes.",
    "start": "1580160",
    "end": "1586440"
  },
  {
    "text": "Here's my boost converter. OK.",
    "start": "1586440",
    "end": "1591640"
  },
  {
    "text": "Let me run it. This is just a\nsimulation we can run. ",
    "start": "1591640",
    "end": "1605929"
  },
  {
    "text": "OK. Let's take a look at\nsome of the waveforms. Let me look at the-- ",
    "start": "1605930",
    "end": "1612320"
  },
  {
    "text": "actually, let me\ntake a look at-- ",
    "start": "1612320",
    "end": "1620110"
  },
  {
    "text": "let me take a look at\nthe AC input voltage.",
    "start": "1620110",
    "end": "1625590"
  },
  {
    "text": "Right. Looks like that's\nthe AC input voltage. Let me look at the\nAC input current.",
    "start": "1625590",
    "end": "1632799"
  },
  {
    "text": "And actually, I looked at\nthem with the wrong phase. Let me just change\nthe phase here. Minus 1 times that current.",
    "start": "1632800",
    "end": "1640540"
  },
  {
    "text": "So this is very much generating\na very sinusoidal looking input.",
    "start": "1640540",
    "end": "1647080"
  },
  {
    "text": "If I looked at this\ncurrent, for example, the current in the inductor,\nhe is the rectified version",
    "start": "1647080",
    "end": "1654330"
  },
  {
    "text": "of that. So it's exactly what I said. But of course,\nkeep in mind, we're looking at a long time scale.",
    "start": "1654330",
    "end": "1659929"
  },
  {
    "text": "This is 60 hertz. If I zoomed in close,\nwhat I would see is a lot of PWM switching.",
    "start": "1659930",
    "end": "1667580"
  },
  {
    "text": "So I have a switching frequency. Actually, I don't remember\nwhat it is in this example, but it's probably like\n500 kilohertz or something",
    "start": "1667580",
    "end": "1673250"
  },
  {
    "text": "like that. And I'm using it to create\na 60 hertz rectification and drawing energy from the\nline at essentially unity power",
    "start": "1673250",
    "end": "1681320"
  },
  {
    "text": "factor. Any questions about that?",
    "start": "1681320",
    "end": "1686720"
  },
  {
    "text": "Yeah. STUDENT: So I may have missed\nthis, but why isn't there a way you could introduce [INAUDIBLE]?",
    "start": "1686720",
    "end": "1693200"
  },
  {
    "text": "DAVID PERREAULT: Ah,\nthat's a very good question because what I'm doing is if I\nhad some passive kind of thing",
    "start": "1693200",
    "end": "1700630"
  },
  {
    "text": "going on, I might. But what I'm really\ndoing is I'm-- I can do this control\nin a bunch of ways,",
    "start": "1700630",
    "end": "1706840"
  },
  {
    "text": "but I'm sensing this current. And then I'm chopping this--",
    "start": "1706840",
    "end": "1713230"
  },
  {
    "text": "I'm chopping the switch in\norder to regulate the current in the inductor i x.",
    "start": "1713230",
    "end": "1719670"
  },
  {
    "text": "So this would be like what\ni x is doing according to following a reference\nwhich is exactly in phase",
    "start": "1719670",
    "end": "1726900"
  },
  {
    "text": "with the input voltage. OK. Any phase shift that would\ngo on I can deal with.",
    "start": "1726900",
    "end": "1732820"
  },
  {
    "text": "And keep in mind this\ninductor at the line frequency is really small so this doesn't\nhave much impedance at the line",
    "start": "1732820",
    "end": "1740850"
  },
  {
    "text": "frequency. It has impedance at the\nswitching frequency. So I need to switch way faster\nthan the line frequency.",
    "start": "1740850",
    "end": "1746920"
  },
  {
    "text": " STUDENT: How is it\npossible to control both i x and DC [INAUDIBLE]?",
    "start": "1746920",
    "end": "1755800"
  },
  {
    "text": "DAVID PERREAULT: So\nI'm not controlling-- oh, v DC? STUDENT: Yeah. Like if the output\npower is set by the load",
    "start": "1755800",
    "end": "1762669"
  },
  {
    "text": "and you're trying to\nmaintain the DC at 400 volts while also having a\n[INAUDIBLE] on it.",
    "start": "1762670",
    "end": "1768580"
  },
  {
    "text": "How do you control that\nwith the one switch? DAVID PERREAULT:\nExcellent question. Let me put that on hold. I'm going to answer that\nin about two minutes.",
    "start": "1768580",
    "end": "1775077"
  },
  {
    "text": "But it's a perfect question.  How do we do that?",
    "start": "1775077",
    "end": "1782110"
  },
  {
    "text": "Let's think about that. I mean that's a\nvery good question. In fact, that's the\nmain thing I want to convey in the next\nsection of the lecture.",
    "start": "1782110",
    "end": "1789885"
  },
  {
    "text": " How would I control that? Well, here's the scheme\nthat we'll generally use.",
    "start": "1789885",
    "end": "1798140"
  },
  {
    "text": "The magic thing I have\nis this constant g.",
    "start": "1798140",
    "end": "1803610"
  },
  {
    "text": "So this constant g is\nessentially what sets the power.",
    "start": "1803610",
    "end": "1809270"
  },
  {
    "text": "So what does the power-- what does the power\nlook like here? p of t is equal\nto i line times v",
    "start": "1809270",
    "end": "1821110"
  },
  {
    "text": "line, which is ultimately\nequal to g times v line",
    "start": "1821110",
    "end": "1829780"
  },
  {
    "text": "square root of t. Right. So if this is-- this could be then g times v s\nsquared sine squared of omega",
    "start": "1829780",
    "end": "1840100"
  },
  {
    "text": "t, which I could also write\nas g vs squared over 2 times 1",
    "start": "1840100",
    "end": "1852520"
  },
  {
    "text": "minus cosine of 2 omega t. So if I were to draw\nthat out for you,",
    "start": "1852520",
    "end": "1863500"
  },
  {
    "text": "what the power would\nlook like is this. So this is p of t.",
    "start": "1863500",
    "end": "1870410"
  },
  {
    "text": " It would have an average value\nthat's gvs squared over 2.",
    "start": "1870410",
    "end": "1881101"
  },
  {
    "text": "Right.  And then it would pulsate\nup and down like this.",
    "start": "1881101",
    "end": "1891280"
  },
  {
    "text": "That's all that equation says. Why does it pulsate up and down? Because when v and\ni are equal to zero,",
    "start": "1891280",
    "end": "1897970"
  },
  {
    "text": "when the line voltage is zero,\nyou're not drawing any power from the line. When the line\nvoltage is really big",
    "start": "1897970",
    "end": "1904030"
  },
  {
    "text": "and the current's really big,\nyou're drawing a lot of power from the line. And on average, you\nget gvs squared over 2. OK.",
    "start": "1904030",
    "end": "1909430"
  },
  {
    "text": "So the whole magic\nof the control is controlling\nwhat g is because I",
    "start": "1909430",
    "end": "1914440"
  },
  {
    "text": "get to pick g because\nI'm picking how big I'm",
    "start": "1914440",
    "end": "1919539"
  },
  {
    "text": "tracking my current to be. So here's how you'd go do it.",
    "start": "1919540",
    "end": "1924670"
  },
  {
    "text": "You might say, OK, let me come\nin and let me take v line of t.",
    "start": "1924670",
    "end": "1935680"
  },
  {
    "text": "OK. And I'm going to multiply v line\nof t, the instantaneous value,",
    "start": "1935680",
    "end": "1941200"
  },
  {
    "text": "or, actually, maybe\nI just measure v x",
    "start": "1941200",
    "end": "1948260"
  },
  {
    "text": "as the magnitude of v line of t. And I multiply it\nby some constant g.",
    "start": "1948260",
    "end": "1955300"
  },
  {
    "text": "And this gives me\ni ref, which then I feed to my current controller\nfor my boost converter.",
    "start": "1955300",
    "end": "1963550"
  },
  {
    "text": "So an input to my control is\nwhat I chose g of t to be.",
    "start": "1963550",
    "end": "1970210"
  },
  {
    "text": "Now what I'll do is\nI will measure v out.",
    "start": "1970210",
    "end": "1975260"
  },
  {
    "text": "I'll have an output\nreference v ref. You know, maybe that's 400v.",
    "start": "1975260",
    "end": "1980980"
  },
  {
    "text": "I will measure v out. So I'll go to the output\nof the boost converter.",
    "start": "1980980",
    "end": "1986960"
  },
  {
    "text": "Or I called it v DC so\nlet me call it v DC. I'll take the difference\nbetween these two",
    "start": "1986960",
    "end": "1992860"
  },
  {
    "text": "and I'll have an error voltage. And then I'm going to run that\ninto a compensator h of s.",
    "start": "1992860",
    "end": "1999555"
  },
  {
    "text": " OK. h of s.",
    "start": "1999555",
    "end": "2005140"
  },
  {
    "text": "And this is a high gain. ",
    "start": "2005140",
    "end": "2010240"
  },
  {
    "text": "And that's going\nto give me g of t. So if v DC falls below\nvref, v error gets bigger.",
    "start": "2010240",
    "end": "2020139"
  },
  {
    "text": "I amplify that and\nI increase g of t. So I'm going to pick\ng of t big enough",
    "start": "2020140",
    "end": "2027790"
  },
  {
    "text": "that I get enough power that\nthe output voltage matches whatever I want, in this\ncase, as I said, 400 volts.",
    "start": "2027790",
    "end": "2036385"
  },
  {
    "text": "Does that make sense?  So this is a typical kind of\ncontroller for a PFC control.",
    "start": "2036385",
    "end": "2044180"
  },
  {
    "text": "Let me explain a\ncouple of things here. Keep in mind what's the\nbandwidth of this thing?",
    "start": "2044180",
    "end": "2051713"
  },
  {
    "text": "Well, g is supposed to be\na constant over a cycle so that the AC\ncurrent that I draw",
    "start": "2051714",
    "end": "2059629"
  },
  {
    "text": "isn't wildly varying\nover half a line cycle. So the bandwidth\nof this controller",
    "start": "2059630",
    "end": "2065090"
  },
  {
    "text": "tends to be really\nslow, like less than-- it shouldn't vary\nits output voltage",
    "start": "2065090",
    "end": "2071750"
  },
  {
    "text": "very much over half a line cycle\nbecause if it starts doing that, then the current no\nlonger looks sinusoidal.",
    "start": "2071750",
    "end": "2077899"
  },
  {
    "text": "And it can only respond\nto slow variations. But as we'll see,\nwhat that mainly",
    "start": "2077900",
    "end": "2084679"
  },
  {
    "text": "implies is because the\nbandwidth of this loop is low, this capacitor size\nhere needs to be",
    "start": "2084679",
    "end": "2092029"
  },
  {
    "text": "pretty big to hold things up. All right. And in fact, we're going to\ntalk about that in a minute.",
    "start": "2092030",
    "end": "2098610"
  },
  {
    "text": "That size of this\ncapacitor right here tends to be very dominant\nthings in most PFC rectifiers.",
    "start": "2098610",
    "end": "2107130"
  },
  {
    "text": "Just to illustrate that,\nI've got one with me here.",
    "start": "2107130",
    "end": "2112440"
  },
  {
    "text": "This part on your very left\nis basically the line filter,",
    "start": "2112440",
    "end": "2117480"
  },
  {
    "text": "because we're switching and I\ngot to keep the PWM junk out of the line.",
    "start": "2117480",
    "end": "2122830"
  },
  {
    "text": "Has a fan. Then you'll see if\nyou look carefully, you'll see these\nfour diodes here. One, two, three, four.",
    "start": "2122830",
    "end": "2128320"
  },
  {
    "text": "Those are the four diodes.  The inductor is\na little bit hard",
    "start": "2128320",
    "end": "2135230"
  },
  {
    "text": "to see because it's\nburied in here. ",
    "start": "2135230",
    "end": "2140620"
  },
  {
    "text": "Then the main thing that you\nsee is this block right here, which is all these capacitors.",
    "start": "2140620",
    "end": "2147579"
  },
  {
    "text": "And that's this guy right here. So we're going to come\nback and talk to that. And then the rest of this thing\nis this top board is essentially",
    "start": "2147580",
    "end": "2160240"
  },
  {
    "text": "this first stage. Then we got to talk about\nwhat we do after that.",
    "start": "2160240",
    "end": "2165315"
  },
  {
    "start": "2165315",
    "end": "2170454"
  },
  {
    "text": "It's a little bit hard\nto see the inductor. But does that answer your\nquestion about control?",
    "start": "2170455",
    "end": "2176810"
  },
  {
    "text": "So we need a very low bandwidth\ncontroller but we modulate that.",
    "start": "2176810",
    "end": "2181930"
  },
  {
    "text": "We ultimately\nmodulate one switch to control the current that\nthen controls the output. Multiple loops.",
    "start": "2181930",
    "end": "2188100"
  },
  {
    "text": "Yeah. STUDENT: I don't\nunderstand how [INAUDIBLE] remaining half cycle.",
    "start": "2188100",
    "end": "2195562"
  },
  {
    "text": "DAVID PERREAULT: Because\nI'm telling it to you? In some sense, right? ",
    "start": "2195562",
    "end": "2202000"
  },
  {
    "text": "Suppose this compensator\nis acting really slowly so that g is,\nroughly speaking,",
    "start": "2202000",
    "end": "2208420"
  },
  {
    "text": "a constant for some time period. Then all I'm doing is I'm\nmeasuring the line voltage.",
    "start": "2208420",
    "end": "2213940"
  },
  {
    "text": "I'm making a multiple of it and\ncreating a current reference. And then I have another\ninner loop, maybe",
    "start": "2213940",
    "end": "2220720"
  },
  {
    "text": "a hysteretic current\ncontrol, that switch-- if the inductor current\nis too far below i ref,",
    "start": "2220720",
    "end": "2227619"
  },
  {
    "text": "I turn the switch on\nuntil it ramps up. And once it gets a little\nbit too big, I turn it off and then the diode turns on\nand the current ramps down.",
    "start": "2227620",
    "end": "2234490"
  },
  {
    "text": "And I'll get this\nkind of choppy current that roughly follows i ref.",
    "start": "2234490",
    "end": "2240820"
  },
  {
    "text": "That make sense? That's all happening at some\nhigh frequency, the switching frequency. The component I care about\nfor power factor purposes",
    "start": "2240820",
    "end": "2249280"
  },
  {
    "text": "is the local average\nof that current because that's what's\nbeing fed back.",
    "start": "2249280",
    "end": "2254900"
  },
  {
    "text": "And there's some\nadditional filtering here to get rid of the ripple.  Any other questions?",
    "start": "2254900",
    "end": "2261180"
  },
  {
    "text": " So that's the basic idea\nof a PFC rectifier control.",
    "start": "2261180",
    "end": "2270510"
  },
  {
    "text": "Now note one thing. I mentioned this before. This node is nothing\nlike this node.",
    "start": "2270510",
    "end": "2277370"
  },
  {
    "text": "These aren't at\nthe same potential. So it's a little bit hard\nto use because if I'm plugging into the wall and\none of one of the sides",
    "start": "2277370",
    "end": "2284580"
  },
  {
    "text": "of this thing that I'm\nplugging into is neutral, that's very close to the ground. It's ultimately a DC\nconnected to ground.",
    "start": "2284580",
    "end": "2292100"
  },
  {
    "text": "Yeah. I better not connect\nthis node to ground because bad things will happen. But on the other\nhand, my computer--",
    "start": "2292100",
    "end": "2298070"
  },
  {
    "text": "first of all, it\ndoesn't need 400 volts. It needs, ultimately,\none volt. Right.",
    "start": "2298070",
    "end": "2303750"
  },
  {
    "text": "But intermediate in\nyour desktop machine, it probably steps\nit down to 12 volts and then there's\nanother converter",
    "start": "2303750",
    "end": "2310700"
  },
  {
    "text": "that goes from 12 volts to\n1 volt to run the processor. So ultimately, we need,\nfirst of all, isolation,",
    "start": "2310700",
    "end": "2320830"
  },
  {
    "text": "because this node isn't\ngalvanically isolated from here. And we do need our\nmicroprocessor really",
    "start": "2320830",
    "end": "2326627"
  },
  {
    "text": "referenced to ground\nbecause you don't want to touch the case of\nyour computer and get shocked. So you need some isolation.",
    "start": "2326627",
    "end": "2333150"
  },
  {
    "text": "We also need a large\nvoltage conversion. So usually, after\nthis PFC stage,",
    "start": "2333150",
    "end": "2339940"
  },
  {
    "text": "the thing I drew\nas a resistor here is some other DC to DC stage. So what does that DC\nto DC stage look like?",
    "start": "2339940",
    "end": "2348109"
  },
  {
    "text": "It could look like any kind\nof isolated DC to DC converter we're talking about. It could be just maybe\nI split the bus in two",
    "start": "2348110",
    "end": "2357310"
  },
  {
    "text": "and I have a pair of\nswitches and a transformer, and then I run the other\nside of this transformer",
    "start": "2357310",
    "end": "2364780"
  },
  {
    "text": "into a diode rectifier. ",
    "start": "2364780",
    "end": "2369790"
  },
  {
    "text": "And that comes out to my\n12 volts, for example. And that powers my\nnext power supply.",
    "start": "2369790",
    "end": "2376710"
  },
  {
    "text": "Or maybe I have multiple\noutputs from next stage. You have plus and minus 12\nand plus 5, whatever I need.",
    "start": "2376710",
    "end": "2385160"
  },
  {
    "text": "But I will usually have\nsome subsequent stage. And in fact, the other part of\nthat converter, the other board",
    "start": "2385160",
    "end": "2391010"
  },
  {
    "text": "I'm passing around, is\nthe subsequent stages to provide from the\nhigh voltage rectifier",
    "start": "2391010",
    "end": "2396530"
  },
  {
    "text": "down to lower voltage loads. And 400 volts is\nkind of standard, A,",
    "start": "2396530",
    "end": "2403730"
  },
  {
    "text": "because it matches\nacross what all the different universal\ninput voltages across",
    "start": "2403730",
    "end": "2409280"
  },
  {
    "text": "around the world for line\ninputs and, as a consequence, you can get really\ngood energy storage",
    "start": "2409280",
    "end": "2414890"
  },
  {
    "text": "capacitors and a bunch of other\nreally good cheap elements to build your converter there.",
    "start": "2414890",
    "end": "2420270"
  },
  {
    "text": "And so then you have two stages. You have a first stage\nthat does that, then you have a transformation and\nisolation stage, which gives you",
    "start": "2420270",
    "end": "2426440"
  },
  {
    "text": "some low voltage,\ntypically 12 volts, but it can be other voltages,\nand servers, and things like that.",
    "start": "2426440",
    "end": "2431840"
  },
  {
    "text": "And then you have\nusually another converter that gets like this more or less\na buck converter or some variant that gets you very\nhigh bandwidth control",
    "start": "2431840",
    "end": "2438260"
  },
  {
    "text": "over your microprocessor supply. So hence you can see we're going\nthrough lots of power conversion stages here.",
    "start": "2438260",
    "end": "2446210"
  },
  {
    "text": "Questions?  STUDENT: What do you refer\nto by bandwidth in this case?",
    "start": "2446210",
    "end": "2453300"
  },
  {
    "text": "DAVID PERREAULT: So\nwhat I mean by bandwidth is this gain stage--",
    "start": "2453300",
    "end": "2460182"
  },
  {
    "text": "maybe that's an\nintegrator or maybe it's a PI controller--\noughtn't vary this signal",
    "start": "2460183",
    "end": "2466560"
  },
  {
    "text": "on a time scale that approaches\nhalf of a line cycle.",
    "start": "2466560",
    "end": "2473040"
  },
  {
    "text": "So maybe if half of a\nline cycle is 120 hertz, maybe this thing varies only\nlike 10 hertz or something",
    "start": "2473040",
    "end": "2479930"
  },
  {
    "text": "like that or it\ncan be very slow. OK. That means you need a\nlot of energy storage",
    "start": "2479930",
    "end": "2487390"
  },
  {
    "text": "to hold things up in\nthe intermediate time but that's necessary.",
    "start": "2487390",
    "end": "2492930"
  },
  {
    "text": "OK. That brings me to my next\npoint, which is the following.",
    "start": "2492930",
    "end": "2500530"
  },
  {
    "text": "When we talked about-- even when we talked\nabout inverters, I kind of brushed over--",
    "start": "2500530",
    "end": "2508430"
  },
  {
    "text": "I just said, oh, I have\na perfect DC source and he's going to\nprovide whatever I want.",
    "start": "2508430",
    "end": "2516340"
  },
  {
    "text": "But I didn't worry how\nmuch power pulsations were coming from this DC source. Right.",
    "start": "2516340",
    "end": "2521700"
  },
  {
    "text": "In reality, I almost always\nhave some capacitor here. ",
    "start": "2521700",
    "end": "2528630"
  },
  {
    "text": "In this application, I\nsaid I'm going to have--",
    "start": "2528631",
    "end": "2534460"
  },
  {
    "text": "this isn't really necessarily\nexactly going to be a resistor. This is going to be\nanother power supply stage.",
    "start": "2534460",
    "end": "2539569"
  },
  {
    "text": "But this next power\nsupply stage, really, it wants a DC voltage.",
    "start": "2539570",
    "end": "2544750"
  },
  {
    "text": "It wants to draw a DC current. So really, this\ncapacitor is going",
    "start": "2544750",
    "end": "2553329"
  },
  {
    "text": "to take the difference\nbetween instantaneous-- whatever power this thing is\ngoing to provide instantaneously",
    "start": "2553330",
    "end": "2558460"
  },
  {
    "text": "and whatever the next stage\ninstantaneously wants. OK. So if we thought of--",
    "start": "2558460",
    "end": "2564289"
  },
  {
    "text": "let's see. Where's my original drawing? If we thought of\nthis box over here as being an AC to\nDC rectifier, I just",
    "start": "2564290",
    "end": "2572590"
  },
  {
    "text": "plotted for you what\nthe power versus",
    "start": "2572590",
    "end": "2578860"
  },
  {
    "text": "time that is coming out of--",
    "start": "2578860",
    "end": "2585310"
  },
  {
    "text": "that's the power versus time\nthat's crossing this node. This p of t is basically what's\ncoming out of this device",
    "start": "2585310",
    "end": "2594560"
  },
  {
    "text": "into this network. And what you can see is\nit's actually pulsating at twice the line frequency.",
    "start": "2594560",
    "end": "2600240"
  },
  {
    "text": "So this basically\nevery half cycle--",
    "start": "2600240",
    "end": "2606930"
  },
  {
    "text": "maybe I'll move this up.  Every half cycle, both the line\ncurrent and the line voltage",
    "start": "2606930",
    "end": "2615480"
  },
  {
    "text": "go back to zero. And when the line current\nand line voltage are zero, there's no power\ncoming from the line.",
    "start": "2615480",
    "end": "2620663"
  },
  {
    "text": "In fact, it doesn't\nmatter what current I want to draw from the line. If there's no line voltage,\nI can't get any current.",
    "start": "2620663",
    "end": "2625690"
  },
  {
    "text": "I can't get any power out of it. So that's why I have this\nsquare law power versus time.",
    "start": "2625690",
    "end": "2633030"
  },
  {
    "text": "OK. Now if I imagined that the\norange is what's being sourced--",
    "start": "2633030",
    "end": "2643559"
  },
  {
    "text": "so that's what power\nis coming to here. If I imagined what I want\ngoing to my load is DC power,",
    "start": "2643560",
    "end": "2655380"
  },
  {
    "text": "what does that look like? Well, if I have a DC voltage\nand a DC current drawn by my next stage,\nmy next converter",
    "start": "2655380",
    "end": "2661290"
  },
  {
    "text": "stage-- it's not\nreally a resistor-- it basically wants\nto look like this. That's what I'm\ncontrolling is I'm",
    "start": "2661290",
    "end": "2667620"
  },
  {
    "text": "controlling the average power\ngoing to the load right here.",
    "start": "2667620",
    "end": "2672850"
  },
  {
    "text": "So what about the difference\nbetween the instantaneous power and the average power?",
    "start": "2672850",
    "end": "2677930"
  },
  {
    "text": "Where is that being stored? Conservation of energy\nis flowing in one place",
    "start": "2677930",
    "end": "2683680"
  },
  {
    "text": "and flowing out the other. If they're not equal, it's\ngot to be stored somewhere. And precisely where it's\nstored is in that capacitor.",
    "start": "2683680",
    "end": "2692140"
  },
  {
    "text": "OK. Now the most common\nplace on a PFC converter is to store it across this\nhigh voltage DC output",
    "start": "2692140",
    "end": "2699510"
  },
  {
    "text": "because you can buy very\ngood capacitors there. But what I'm trying to tell\nyou is the energy going",
    "start": "2699510",
    "end": "2707910"
  },
  {
    "text": "into that capacitor,\nbasically, in the first part of the line cycle, I said\nthis is kind of t over 2.",
    "start": "2707910",
    "end": "2715559"
  },
  {
    "text": "This is t over 4.  In the first part of the line\ncycle-- and if I went negative,",
    "start": "2715560",
    "end": "2722640"
  },
  {
    "text": "it would do this. So this is, in this time\nperiod, basically, the line",
    "start": "2722640",
    "end": "2736180"
  },
  {
    "text": "isn't sourcing enough energy. It's sourcing less\nthan the average.",
    "start": "2736180",
    "end": "2741890"
  },
  {
    "text": "So during this\ntime period, energy is coming out of the capacitor. And then in this\ntime period, I'm",
    "start": "2741890",
    "end": "2750010"
  },
  {
    "text": "drawing more energy out of\nthe line than my load's using. And I'm recharging\nthe capacitor. So at twice the line frequency,\nI'm charging and discharging",
    "start": "2750010",
    "end": "2758080"
  },
  {
    "text": "that capacitor. So that capacitor has to\nbe physically big enough or it has to be energy\nstorage-wise big enough",
    "start": "2758080",
    "end": "2764680"
  },
  {
    "text": "to store that much energy. And that sets a bound on the\nenergy storage requirement.",
    "start": "2764680",
    "end": "2772210"
  },
  {
    "text": "Now the same thing is\ntrue in the inverter. Suppose this was the AC grid\nand this was a solar panel.",
    "start": "2772210",
    "end": "2782070"
  },
  {
    "text": "I don't want my solar\npanel pulsating. I don't want my solar panel--",
    "start": "2782070",
    "end": "2788520"
  },
  {
    "text": "he doesn't want it\ndelivering 100 watts in one time frame and 0 watts in\nthe next for an average of 50.",
    "start": "2788520",
    "end": "2795310"
  },
  {
    "text": "He wants to source DC\ncurrent and DC voltage. So that means-- but if I'm going\nto deliver energy into the grid",
    "start": "2795310",
    "end": "2804930"
  },
  {
    "text": "at unity power factor,\nwhich is what I want to do, that means this power into\nthe AC grid is pulsating.",
    "start": "2804930",
    "end": "2811930"
  },
  {
    "text": "It's just the reverse\nof that waveform. So I still need some big\ncapacitor to buffer the energy.",
    "start": "2811930",
    "end": "2819350"
  },
  {
    "text": "So whether I'm\ngoing AC to DC or DC to AC, if I have pure DC power\nflow on one side and unity power",
    "start": "2819350",
    "end": "2828200"
  },
  {
    "text": "factor AC on the other, there\nis no way around the fact that I got to store\nsome energy somewhere. And you'll find\npeople that say, I",
    "start": "2828200",
    "end": "2834410"
  },
  {
    "text": "got this magic technique\nthat's going to do it, except that conservation of\nenergy rather forbids that.",
    "start": "2834410",
    "end": "2841762"
  },
  {
    "text": "And I have feel like I got\nthis magic way around it. No, you don't because, you know,\nconservation of energy holds.",
    "start": "2841762",
    "end": "2848400"
  },
  {
    "text": "So somewhere in your circuit-- it doesn't have to be across\nthe input or the output, but if you're going to have\nAC voltage and AC current",
    "start": "2848400",
    "end": "2863360"
  },
  {
    "text": "on the other side that's at\nunity power factor and a DC voltage on the other\nand a DC current--",
    "start": "2863360",
    "end": "2874500"
  },
  {
    "text": "so this is i AC\nand this is i DC-- somewhere in your\ncircuit you either need",
    "start": "2874500",
    "end": "2880430"
  },
  {
    "text": "an inductor or a capacitor. You need some third\nplace that's going to store the instantaneous\npower between v DC i DC,",
    "start": "2880430",
    "end": "2889970"
  },
  {
    "text": "and the pulsating\nAC power v AC i AC. Does that make\nsense to everybody?",
    "start": "2889970",
    "end": "2897700"
  },
  {
    "text": "Now I'm running\nout of time here, but it's very clear if I\nbasically just integrate,",
    "start": "2897700",
    "end": "2905110"
  },
  {
    "text": "if I take the integral\nof this right, that's an amount of energy.",
    "start": "2905110",
    "end": "2910450"
  },
  {
    "text": "And that's how much energy\nthat capacitor has to store. If I work through the\nintegral, what I get is e store is exactly equal\nto p average, the DC power,",
    "start": "2910450",
    "end": "2923620"
  },
  {
    "text": "divided by the AC\nline frequency. So it's worse at 50 hertz\nthan 60 hertz by a little bit",
    "start": "2923620",
    "end": "2930460"
  },
  {
    "text": "because I have to\nstore it for longer. OK. So when we said I want\nto increase the switching",
    "start": "2930460",
    "end": "2938530"
  },
  {
    "text": "frequency of my converter to\nmake the components smaller, That's all well and good,\nbut if I'm delivering energy",
    "start": "2938530",
    "end": "2944170"
  },
  {
    "text": "to the line at\nunity power factor, I need to store a\ncertain amount of energy inside my converter for\nunity power factor anyways",
    "start": "2944170",
    "end": "2953410"
  },
  {
    "text": "that's related to\nthe line frequency. And that's going to set a\nminimum size on the capacitors,",
    "start": "2953410",
    "end": "2960460"
  },
  {
    "text": "or inductors, or whatever I use. Most people use capacitors\nbecause they have better energy",
    "start": "2960460",
    "end": "2966040"
  },
  {
    "text": "density, at least\nat small scales, like the single\nphase line scales. So any scheme you're\ngoing to come up with,",
    "start": "2966040",
    "end": "2974766"
  },
  {
    "text": "you're going to have to do this. Now it turns out that\nthis stored energy is the minimum that I need\nif I have unity power factor.",
    "start": "2974767",
    "end": "2981290"
  },
  {
    "text": "If you allow me to\ncheat a little bit, maybe I don't have perfect\nunity power factor, you can effectively\nreduce that a bit.",
    "start": "2981290",
    "end": "2988280"
  },
  {
    "text": "And essentially,\nyou're using the line as your storage mechanism, which\nis allowed over a limited range.",
    "start": "2988280",
    "end": "2994210"
  },
  {
    "text": "Real computer power\nsupplies don't have to have perfect power factor.",
    "start": "2994210",
    "end": "2999320"
  },
  {
    "text": "They just have to have\ngood enough power factor. And so you can reduce this maybe\nby a factor of 2 or something",
    "start": "2999320",
    "end": "3005440"
  },
  {
    "text": "if you're willing to let your\nline waveforms distort a bit. But generally,\nit's on this scale.",
    "start": "3005440",
    "end": "3014100"
  },
  {
    "text": "And the details of\nhow much you can do depend very much on what power\nlevel, what your application",
    "start": "3014100",
    "end": "3019960"
  },
  {
    "text": "space is. There's rules regarding\nhow much distortion you can have in line connected\nequipment depending upon, like I",
    "start": "3019960",
    "end": "3027730"
  },
  {
    "text": "said, application\nand power level. But what that\nmeans is you've got to get clever in\nhow you store this.",
    "start": "3027730",
    "end": "3033313"
  },
  {
    "text": "And by the way, this is\nthe amount of energy-- this is the swing in energy. So if I'm going to store that\nwith very small ripple on that",
    "start": "3033313",
    "end": "3040420"
  },
  {
    "text": "capacitor, that's 1/2 cv max\nsquared by minus 1/2 cv min squared.",
    "start": "3040420",
    "end": "3045840"
  },
  {
    "text": "If my ripple on my capacitor\nvoltage becomes smaller, the energy storage\nrating of that capacitor is even bigger than\nthis number by a lot.",
    "start": "3045840",
    "end": "3053260"
  },
  {
    "text": "So there are pretty--",
    "start": "3053260",
    "end": "3058420"
  },
  {
    "text": "there are games you\ncan play, but this is a minimum energy storage\nyou're going to need to store.",
    "start": "3058420",
    "end": "3064310"
  },
  {
    "text": "And generally, if you want\nsmall ripple on the capacitor, you even need much\nmore than that. And the lecture\nnotes and the text",
    "start": "3064310",
    "end": "3070210"
  },
  {
    "text": "go into the details\nof those calculations. So I'm out of time\nto talk about this.",
    "start": "3070210",
    "end": "3075640"
  },
  {
    "text": "Are there any final questions\nbefore we wrap up and move on to a new topic? ",
    "start": "3075640",
    "end": "3081890"
  },
  {
    "text": "OK, great. So next class, we'll\nhave a little fun. And then when we come\nback after spring break,",
    "start": "3081890",
    "end": "3088275"
  },
  {
    "text": "we're going to start\nto talk about what happens when I go up\nin power and we start to use three phase systems. So have a great-- if I don't\nsee you, have a great break.",
    "start": "3088275",
    "end": "3095930"
  },
  {
    "text": "And hope to see you tomorrow. ",
    "start": "3095930",
    "end": "3101000"
  }
]