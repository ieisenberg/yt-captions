[
  {
    "start": "4710",
    "end": "4710"
  },
  {
    "text": "In this video, we'll see how\nto color our points by region",
    "start": "4710",
    "end": "8720"
  },
  {
    "text": "and how to add a linear\nregression line to our plot.",
    "start": "8720",
    "end": "12830"
  },
  {
    "text": "Here we have our plot\nfrom the last video,",
    "start": "12830",
    "end": "15360"
  },
  {
    "text": "where we've colored\nthe points dark red.",
    "start": "15360",
    "end": "18300"
  },
  {
    "text": "Now, let's color the\npoints by region instead.",
    "start": "18300",
    "end": "22019"
  },
  {
    "text": "This time, we want to add a\ncolor option to our aesthetic,",
    "start": "22020",
    "end": "25910"
  },
  {
    "text": "since we're assigning a variable\nin our data set to the colors.",
    "start": "25910",
    "end": "30360"
  },
  {
    "text": "To do this, we can type\nggplot, and then first give",
    "start": "30360",
    "end": "34540"
  },
  {
    "text": "the name of our\ndata, like before,",
    "start": "34540",
    "end": "36750"
  },
  {
    "text": "WHO, and then in our aesthetic,\nwe again specify that x = GNI",
    "start": "36750",
    "end": "43870"
  },
  {
    "text": "and y = FertilityRate.",
    "start": "43870",
    "end": "47719"
  },
  {
    "text": "But then we want to add\nthe option color = Region,",
    "start": "47720",
    "end": "52620"
  },
  {
    "text": "which will color the points\nby the Region variable.",
    "start": "52620",
    "end": "56129"
  },
  {
    "text": "And then we just want to add\nthe geom_point function and hit",
    "start": "56130",
    "end": "60840"
  },
  {
    "text": "Enter.",
    "start": "60840",
    "end": "62760"
  },
  {
    "text": "Now, in our plot, we should\nsee that each point is colored",
    "start": "62760",
    "end": "66630"
  },
  {
    "text": "corresponding to the region\nthat country belongs in.",
    "start": "66630",
    "end": "70320"
  },
  {
    "text": "So the countries in\nAfrica are colored red,",
    "start": "70320",
    "end": "73580"
  },
  {
    "text": "the countries in the\nAmericas are colored gold,",
    "start": "73580",
    "end": "77070"
  },
  {
    "text": "the countries in the\nEastern Mediterranean",
    "start": "77070",
    "end": "79350"
  },
  {
    "text": "are colored green, etc.",
    "start": "79350",
    "end": "82320"
  },
  {
    "text": "This really helps\nus see something",
    "start": "82320",
    "end": "83960"
  },
  {
    "text": "that we didn't see before.",
    "start": "83960",
    "end": "85940"
  },
  {
    "text": "The points from the\ndifferent regions",
    "start": "85940",
    "end": "88210"
  },
  {
    "text": "are really located in\ndifferent areas on the plot.",
    "start": "88210",
    "end": "92789"
  },
  {
    "text": "Let's now instead\ncolor the points",
    "start": "92789",
    "end": "94970"
  },
  {
    "text": "according to the\ncountry's life expectancy.",
    "start": "94970",
    "end": "97970"
  },
  {
    "text": "To do this, we just\nhave to hit the up arrow",
    "start": "97970",
    "end": "100509"
  },
  {
    "text": "to get back to our\nggplot line, and then",
    "start": "100509",
    "end": "103520"
  },
  {
    "text": "delete Region and\ntype LifeExpectancy.",
    "start": "103520",
    "end": "107409"
  },
  {
    "text": "Now, we should see that each\npoint is colored according",
    "start": "111080",
    "end": "114250"
  },
  {
    "text": "to the life expectancy\nin that country.",
    "start": "114250",
    "end": "117630"
  },
  {
    "text": "Notice that before,\nwe were coloring",
    "start": "117630",
    "end": "119570"
  },
  {
    "text": "by a factor variable, Region.",
    "start": "119570",
    "end": "121930"
  },
  {
    "text": "So we had exactly\nseven different colors",
    "start": "121930",
    "end": "124800"
  },
  {
    "text": "corresponding to the\nseven different regions.",
    "start": "124800",
    "end": "128070"
  },
  {
    "text": "Here, we're coloring by\nLifeExpectancy instead,",
    "start": "128070",
    "end": "130929"
  },
  {
    "text": "which is a numerical variable,\nso we get a gradient of colors,",
    "start": "130930",
    "end": "134719"
  },
  {
    "text": "like this.",
    "start": "134720",
    "end": "136090"
  },
  {
    "text": "Lighter blue corresponds to\na higher life expectancy,",
    "start": "136090",
    "end": "140019"
  },
  {
    "text": "and darker blue corresponds\nto a lower life expectancy.",
    "start": "140020",
    "end": "145350"
  },
  {
    "text": "Let's take a look at\na different plot now.",
    "start": "145350",
    "end": "147740"
  },
  {
    "text": "Suppose we were interested in\nseeing whether the fertility",
    "start": "147740",
    "end": "150870"
  },
  {
    "text": "rate of a country was a good\npredictor of the percentage",
    "start": "150870",
    "end": "154129"
  },
  {
    "text": "of the population under 15.",
    "start": "154130",
    "end": "156850"
  },
  {
    "text": "Intuitively, we would\nexpect these variables",
    "start": "156850",
    "end": "159450"
  },
  {
    "text": "to be highly correlated.",
    "start": "159450",
    "end": "161260"
  },
  {
    "text": "But before trying any\nstatistical models,",
    "start": "161260",
    "end": "163980"
  },
  {
    "text": "let's explore our\ndata with a plot.",
    "start": "163980",
    "end": "166800"
  },
  {
    "text": "So now, let's use the ggplot\nfunction on the WHO data again,",
    "start": "166800",
    "end": "171640"
  },
  {
    "text": "but we're going to\nspecify in our aesthetic",
    "start": "171640",
    "end": "173730"
  },
  {
    "text": "that the x variable\nshould be FertilityRate,",
    "start": "173730",
    "end": "177750"
  },
  {
    "text": "and the y variable should\nbe the variable, Under15.",
    "start": "177750",
    "end": "182390"
  },
  {
    "text": "Again, we want to\nadd geom_point,",
    "start": "182390",
    "end": "184720"
  },
  {
    "text": "since we want a scatterplot.",
    "start": "184720",
    "end": "185890"
  },
  {
    "text": "This is really interesting.",
    "start": "189250",
    "end": "190620"
  },
  {
    "text": "It looks like the variables\nare certainly correlated,",
    "start": "190620",
    "end": "193709"
  },
  {
    "text": "but as the fertility rate\nincreases, the variable,",
    "start": "193710",
    "end": "197340"
  },
  {
    "text": "Under15 starts increasing less.",
    "start": "197340",
    "end": "201769"
  },
  {
    "text": "So this doesn't really look\nlike a linear relationship.",
    "start": "201770",
    "end": "204720"
  },
  {
    "text": "But we suspect that a log\ntransformation of FertilityRate",
    "start": "204720",
    "end": "208390"
  },
  {
    "text": "will be better.",
    "start": "208390",
    "end": "209740"
  },
  {
    "text": "Let's give it a shot.",
    "start": "209740",
    "end": "211390"
  },
  {
    "text": "So go ahead and scroll\nup in your R console",
    "start": "211390",
    "end": "213840"
  },
  {
    "text": "to the previous line, and\ninstead of x = FertilityRate,",
    "start": "213840",
    "end": "218260"
  },
  {
    "text": "we want x = log(FertilityRate).",
    "start": "218260",
    "end": "219680"
  },
  {
    "text": "And hit Enter.",
    "start": "222990",
    "end": "225180"
  },
  {
    "text": "Now this looks like a\nlinear relationship.",
    "start": "225180",
    "end": "228159"
  },
  {
    "text": "Let's try building in a\nsimple linear regression model",
    "start": "228160",
    "end": "231000"
  },
  {
    "text": "to predict the percentage\nof the population under 15,",
    "start": "231000",
    "end": "234320"
  },
  {
    "text": "using the log of\nthe fertility rate.",
    "start": "234320",
    "end": "236960"
  },
  {
    "text": "So let's call our model,\nmodel, and use the lm function",
    "start": "236960",
    "end": "241700"
  },
  {
    "text": "to predict Under15 using\nas an independent variable",
    "start": "241700",
    "end": "246400"
  },
  {
    "text": "log(FertilityRate).",
    "start": "246400",
    "end": "247189"
  },
  {
    "text": "And our data set will be WHO.",
    "start": "249810",
    "end": "253870"
  },
  {
    "text": "Let's look at the\nsummary of our model.",
    "start": "253870",
    "end": "255519"
  },
  {
    "text": "It looks like the\nlog of FertilityRate",
    "start": "258190",
    "end": "260190"
  },
  {
    "text": "is indeed a great\npredictor of Under15.",
    "start": "260190",
    "end": "262890"
  },
  {
    "text": "The variable is\nhighly significant,",
    "start": "262890",
    "end": "265230"
  },
  {
    "text": "and our R-squared is 0.9391.",
    "start": "265230",
    "end": "269320"
  },
  {
    "text": "Visualization was\na great way for us",
    "start": "269320",
    "end": "271370"
  },
  {
    "text": "to realize that the log\ntransformation would be better.",
    "start": "271370",
    "end": "274830"
  },
  {
    "text": "If we instead had just\nused the FertilityRate,",
    "start": "274830",
    "end": "277599"
  },
  {
    "text": "the R-squared would\nhave been 0.87.",
    "start": "277600",
    "end": "280650"
  },
  {
    "text": "That's a pretty significant\ndecrease in R-squared.",
    "start": "280650",
    "end": "284610"
  },
  {
    "text": "So now, let's add this\nregression line to our plot.",
    "start": "284610",
    "end": "287800"
  },
  {
    "text": "This is pretty easy in ggplot.",
    "start": "287800",
    "end": "289729"
  },
  {
    "text": "We just have to\nadd another layer.",
    "start": "289730",
    "end": "292420"
  },
  {
    "text": "So use the up arrow in\nyour R console to get back",
    "start": "292420",
    "end": "295030"
  },
  {
    "text": "to the plotting line, and then\nadd stat_smooth(method = \"lm\"),",
    "start": "295030",
    "end": "306639"
  },
  {
    "text": "and hit Enter.",
    "start": "306640",
    "end": "308620"
  },
  {
    "text": "Now, you should see a blue\nline going through the data.",
    "start": "308620",
    "end": "312120"
  },
  {
    "text": "This is our regression line.",
    "start": "312120",
    "end": "314320"
  },
  {
    "text": "By default, ggplot will\ndraw a 95% confidence",
    "start": "314320",
    "end": "318200"
  },
  {
    "text": "interval shaded around the line.",
    "start": "318200",
    "end": "320760"
  },
  {
    "text": "We can change this\nby specifying options",
    "start": "320760",
    "end": "323600"
  },
  {
    "text": "within the statistics layer.",
    "start": "323600",
    "end": "325730"
  },
  {
    "text": "So go ahead and scroll\nup in the R console,",
    "start": "325730",
    "end": "328920"
  },
  {
    "text": "and after method = \"lm\", type\nlevel = 0.99, and hit Enter.",
    "start": "328920",
    "end": "336330"
  },
  {
    "text": "This will give a 99%\nconfidence interval.",
    "start": "336330",
    "end": "340060"
  },
  {
    "text": "We could instead take away the\nconfidence interval altogether",
    "start": "340060",
    "end": "344430"
  },
  {
    "text": "by deleting level = 0.99\nand typing se = FALSE.",
    "start": "344430",
    "end": "352669"
  },
  {
    "text": "Now, we just have the\nregression line in blue.",
    "start": "352670",
    "end": "356270"
  },
  {
    "text": "We could also change the\ncolor of the regression line",
    "start": "356270",
    "end": "359919"
  },
  {
    "text": "by typing as an option,\ncolor = \"orange\".",
    "start": "359920",
    "end": "367130"
  },
  {
    "text": "Now, we have an orange\nlinear regression line.",
    "start": "367130",
    "end": "371250"
  },
  {
    "text": "As we've seen in this\nlecture, scatterplots",
    "start": "371250",
    "end": "373980"
  },
  {
    "text": "are great for exploring data.",
    "start": "373980",
    "end": "376340"
  },
  {
    "text": "However, there are\nmany other ways",
    "start": "376340",
    "end": "378300"
  },
  {
    "text": "to represent data visually,\nsuch as box plots, line charts,",
    "start": "378300",
    "end": "382650"
  },
  {
    "text": "histograms, heat maps,\nand geographic maps.",
    "start": "382650",
    "end": "386520"
  },
  {
    "text": "In some cases, it may\nbe better to choose",
    "start": "386520",
    "end": "388919"
  },
  {
    "text": "one of these other ways\nof visualizing your data.",
    "start": "388920",
    "end": "391980"
  },
  {
    "text": "Luckily, ggplot\nmakes it easy to go",
    "start": "391980",
    "end": "394550"
  },
  {
    "text": "from one type of visualization\nto another, simply",
    "start": "394550",
    "end": "397900"
  },
  {
    "text": "by adding the appropriate\nlayer to the plot.",
    "start": "397900",
    "end": "400860"
  },
  {
    "text": "We'll learn more about other\ntypes of visualizations",
    "start": "400860",
    "end": "403439"
  },
  {
    "text": "and how to create them\nin the next lecture.",
    "start": "403440",
    "end": "407050"
  },
  {
    "text": "So what is the edge\nof visualizations?",
    "start": "407050",
    "end": "410419"
  },
  {
    "text": "The WHO data that\nwe used here is",
    "start": "410420",
    "end": "412720"
  },
  {
    "text": "used by citizens,\npolicymakers, and organizations",
    "start": "412720",
    "end": "416600"
  },
  {
    "text": "around the world.",
    "start": "416600",
    "end": "418300"
  },
  {
    "text": "Visualizing the data\nfacilitates the understanding",
    "start": "418300",
    "end": "421599"
  },
  {
    "text": "of global health\ntrends at a glance.",
    "start": "421600",
    "end": "424730"
  },
  {
    "text": "By using ggplot in R, we're\nable to visualize data",
    "start": "424730",
    "end": "428820"
  },
  {
    "text": "for exploration, modeling,\nand sharing analytics results.",
    "start": "428820",
    "end": "434110"
  }
]