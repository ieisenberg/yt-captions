[
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6060"
  },
  {
    "text": "continue to offer high quality\neducational resources for free. To make a donation or to\nview additional materials",
    "start": "6060",
    "end": "12690"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "12690",
    "end": "25634"
  },
  {
    "text": "PROFESSOR: All\nright, are you guys ready for some more\nhardness proofs? Let's do it.",
    "start": "25634",
    "end": "32770"
  },
  {
    "text": "So today, we start the\nuniverse of 3 partition. ",
    "start": "32770",
    "end": "38780"
  },
  {
    "text": "And in general, we're\ngoing to see today",
    "start": "38780",
    "end": "44110"
  },
  {
    "text": "2 plus problems, which\nare useful for dealing with numbers for reducing\nto number problems.",
    "start": "44110",
    "end": "57879"
  },
  {
    "text": "Numbers here are going to be\nintegers for the most part.",
    "start": "57880",
    "end": "65610"
  },
  {
    "text": "Usually in complexity,\nit's a lot easier to think of all your\nnumbers being integers. If they're not integers, use\nfixed point or rationals,",
    "start": "65610",
    "end": "71720"
  },
  {
    "text": "and then they're\nbasically integers. So we're going to talk. My favorite is 3 partition.",
    "start": "71720",
    "end": "77790"
  },
  {
    "text": "And pretty much all the proofs\nwe'll do in the number context will be reduction\nfrom 3 partition.",
    "start": "77790",
    "end": "84187"
  },
  {
    "text": "This is all about\nNP-hardness, I should say. ",
    "start": "84187",
    "end": "91840"
  },
  {
    "text": "But before we get\nto e partition, I'm going to talk about\nanother problem, which is called 2 partition. ",
    "start": "91840",
    "end": "105726"
  },
  {
    "text": "First, I'll just have to define\nall these problems, which will take a little while. Then we'll get to all\nthe fun reductions.",
    "start": "105726",
    "end": "111400"
  },
  {
    "text": "So in 2 partition,\nyour given n integers. ",
    "start": "111400",
    "end": "119470"
  },
  {
    "text": "We'll call the set\nof them capital A and we'll call the integers\nthemselves little a sub i--",
    "start": "119470",
    "end": "127016"
  },
  {
    "text": "i from 1 to n, let's say. And what we'd like to do is\npartition them into two groups.",
    "start": "127016",
    "end": "134980"
  },
  {
    "text": " Let's say A1 and A2\nequals A of equal sum.",
    "start": "134980",
    "end": "147500"
  },
  {
    "start": "147500",
    "end": "153710"
  },
  {
    "text": "We want the sum of\nthe integers in A1 to equal the sum of\nthe integers in A2.",
    "start": "153710",
    "end": "158870"
  },
  {
    "text": "And therefore, they will\nequal one half the total sum. OK, so we just want to find\nour choice for each number.",
    "start": "158870",
    "end": "166970"
  },
  {
    "text": "Should it go in A1 or A2? So this problem is NP-hard. And it's one of the\noriginal Karp problems.",
    "start": "166970",
    "end": "174650"
  },
  {
    "text": "There's this famous\npaper by Karp in 1972. Before that, there\nwas a paper by Cook",
    "start": "174650",
    "end": "179984"
  },
  {
    "text": "that proved SAT is NP-complete. And then Karp wrote a paper\nwith a zillion-- not literally,",
    "start": "179985",
    "end": "185990"
  },
  {
    "text": "but dozens of NP-hardness\nproofs from SAT to things like 2 partition.",
    "start": "185990",
    "end": "191446"
  },
  {
    "text": "I will not cover the proof here. If you're interested in\nit, read Garey and Johnson. There's some nice coverage\nof this problem and all",
    "start": "191447",
    "end": "198630"
  },
  {
    "text": "the problems we'll be\ntalking about today. OK. As a sideline, I'll mention\nthere is a generalization",
    "start": "198630",
    "end": "210810"
  },
  {
    "text": "of this problem. So it's also NP-hard. Any generalization is\ngoing to be even harder.",
    "start": "210810",
    "end": "217610"
  },
  {
    "text": "But it's useful to know about. It's called subset sum. Occasionally it's\neasier to think",
    "start": "217610",
    "end": "222620"
  },
  {
    "text": "about subset sum\ninstead of partition, although it's a generalization. So if you can reduce\nfrom subset sum, you can also reduce\nfrom partition.",
    "start": "222620",
    "end": "230140"
  },
  {
    "text": "And here the set up is similar. You're given n integers\nagain, just like before.",
    "start": "230140",
    "end": "237299"
  },
  {
    "text": " And you're given a target sum. This is one other integer.",
    "start": "237300",
    "end": "244400"
  },
  {
    "text": "We'll call the target sum t. I'll also call this t. And what we'd like to do is find\na subset S of A whose sum is t.",
    "start": "244400",
    "end": "257539"
  },
  {
    "start": "257540",
    "end": "264790"
  },
  {
    "text": "OK, this is a strict\ngeneralization here. You're not given a number\nt, but you're essentially choosing a subset A1, whose\nsum equals the sum of A over 2.",
    "start": "264790",
    "end": "276010"
  },
  {
    "text": "So this is really just a\nparticular choice of t. This is the general case\nwhere you're given t.",
    "start": "276010",
    "end": "281300"
  },
  {
    "text": "So this is harder than that. But it's worth knowing about. In particular, there's\na problem set problem,",
    "start": "281300",
    "end": "287700"
  },
  {
    "text": "the problem set will be\nout in a couple of hours. And it's a little easier\nto think about subset sum,",
    "start": "287700",
    "end": "293490"
  },
  {
    "text": "we think. You don't have to.  All right, so let's\ngo to 3 partition,",
    "start": "293490",
    "end": "304010"
  },
  {
    "text": "my favorite NP-complete problem. So start is the same,\ngiven integers A1 up to An.",
    "start": "304010",
    "end": "318020"
  },
  {
    "text": " We're not given a target sum.",
    "start": "318020",
    "end": "324210"
  },
  {
    "text": "What we'd like to\ndo is partition them-- partition that set\nA into how many pieces?",
    "start": "324210",
    "end": "333720"
  },
  {
    "text": "AUDIENCE: 3. PROFESSOR: 3. Nope. n over 3. ",
    "start": "333720",
    "end": "339980"
  },
  {
    "text": "Kind of like 3. Not quite. Let's say sets A1,\nn over 3 equals",
    "start": "339980",
    "end": "352680"
  },
  {
    "text": "A. I'm using union with a dot\nto indicate it's disjoint union. So that's what a\npartition means.",
    "start": "352680",
    "end": "359060"
  },
  {
    "text": "That's redundant. This is old fashioned notation. You probably haven't seen it,\nbut when I was growing up, that was the\nnotation of the day.",
    "start": "359060",
    "end": "366630"
  },
  {
    "text": "Then we have n over 3 sets.",
    "start": "366630",
    "end": "373220"
  },
  {
    "text": "Cool, yeah, assume\nn is divisible by 3. Otherwise the answer is no. ",
    "start": "373220",
    "end": "379160"
  },
  {
    "text": "And then this is the\neasy case of equal sum. ",
    "start": "379160",
    "end": "387259"
  },
  {
    "text": "So we want the sum of\neach Ai to be equal to t,",
    "start": "387260",
    "end": "392810"
  },
  {
    "text": "which is to the same thing. They're just going to be the sum\nof the A's divided by n over 3.",
    "start": "392810",
    "end": "398750"
  },
  {
    "text": " OK, if this problem were\nabout partitioning to 3 sets,",
    "start": "398750",
    "end": "404580"
  },
  {
    "text": "it would not be\nvery interesting. It would be basically\nidentical to 2 partition. With n over 3 sets, things\nare quite a bit different.",
    "start": "404580",
    "end": "411530"
  },
  {
    "text": "And we will get to that\ndifference in a moment. But first, let me tell\nyou about some fun",
    "start": "411530",
    "end": "417880"
  },
  {
    "text": "facts about 3 partition. So we're partitioning\ninto n over 3 sets, so you would expect, on\naverage, most of these sets",
    "start": "417880",
    "end": "424680"
  },
  {
    "text": "will have size 3. In fact, you could make all\nthe sets have size exactly 3, because if you look at the\nreduction for this problem,",
    "start": "424680",
    "end": "434060"
  },
  {
    "text": "you can assume that each Ai\nis strictly between t over 4",
    "start": "434060",
    "end": "447980"
  },
  {
    "text": "and t over 2. OK, if you're going to\nhave a set of numbers",
    "start": "447980",
    "end": "453390"
  },
  {
    "text": "that's summed to exactly\nt and each of them is strictly bigger\nthan t over 4,",
    "start": "453390",
    "end": "458950"
  },
  {
    "text": "then that means you\ncan't have 4 of them because you would\nsum to too much. And they're strictly\nless than t over 2.",
    "start": "458950",
    "end": "464299"
  },
  {
    "text": "And you can't just have 2 of\nthem and hope to get to t. So you have to have\nexactly 3 in every set. ",
    "start": "464299",
    "end": "476181"
  },
  {
    "text": "You don't have to assume that. In some situations, it's\nuseful to just say, well, the Ai's are sum sets that\nsum to the right things.",
    "start": "476181",
    "end": "481830"
  },
  {
    "text": "Sometimes it useful to\nassume that they're triples. It's up to you\nwhether you consider that part of the\nproblem statement,",
    "start": "481830",
    "end": "487990"
  },
  {
    "text": "to ask for the Ai's\nto have size 3 or not. And it's useful to have both. In fact, once you\nhave this, you can",
    "start": "487990",
    "end": "496020"
  },
  {
    "text": "make all the Ai's\nvery, very close to t over 3 using a trick,\nwhich we'll see a bunch of times",
    "start": "496020",
    "end": "502480"
  },
  {
    "text": "today. So let's say you could add--\nI'll call it infinity--",
    "start": "502480",
    "end": "511820"
  },
  {
    "text": "to each Ai.  In that case, of course, any\nsolution that you had before",
    "start": "511820",
    "end": "519299"
  },
  {
    "text": "is still a solution. Just think of infinity\nis a really large number,",
    "start": "519299",
    "end": "525209"
  },
  {
    "text": "something like n\nto the 100 times maximum item in A.\nSomething like that.",
    "start": "525210",
    "end": "533470"
  },
  {
    "text": "That's really maybe to the\n100th power, if you want, but a really big number.",
    "start": "533470",
    "end": "538610"
  },
  {
    "text": "This will preserve\nall solutions, because all solutions, every\nset has size exactly 3. So if you had 3 times\ninfinity, they'll",
    "start": "538610",
    "end": "544430"
  },
  {
    "text": "still have the same sums. And when you do that,\nthen all the Ai's are basically equal\nto each other,",
    "start": "544430",
    "end": "550240"
  },
  {
    "text": "which means they're\nroughly equal to t over 3. The leading term is\nthe same for everybody.",
    "start": "550240",
    "end": "555942"
  },
  {
    "text": "And then there's\nthis little noise, which was the original integer\nthat you're adding onto,",
    "start": "555942",
    "end": "561770"
  },
  {
    "text": "that infinity. So then all the adds\nare roughly t over 3.",
    "start": "561770",
    "end": "567060"
  },
  {
    "text": "Cool. Let me tell you about a\ncouple related problems",
    "start": "567060",
    "end": "572090"
  },
  {
    "text": "to 3 partition. And then I'll tell\nyou why we're even bothering to talk about two\nproblems instead of just one.",
    "start": "572090",
    "end": "580040"
  },
  {
    "start": "580040",
    "end": "594310"
  },
  {
    "text": "So next problem has a funny\nname, especially when you don't know what 3 dimensional\nmatching is, but we will get to that second.",
    "start": "594310",
    "end": "600680"
  },
  {
    "text": "Don't worry about the\nname for the moment. This is a closely\nrelated problem.",
    "start": "600680",
    "end": "605800"
  },
  {
    "text": "It's really a specialization\nof 3 partition. ",
    "start": "605800",
    "end": "617836"
  },
  {
    "text": "In this case, we're going to\nbe given 3 sets of integers. ",
    "start": "617836",
    "end": "628050"
  },
  {
    "text": "And what we'd like to\ndo is-- it's basically the same problem. Just think of taking\nthe union of those",
    "start": "628050",
    "end": "633215"
  },
  {
    "text": "sets, but each of these\nsets that we're choosing, the Ai's, should consist of\none element from A, one element",
    "start": "633215",
    "end": "639790"
  },
  {
    "text": "from B, one element from c. So how did I formalize that? Let's say a partition.",
    "start": "639790",
    "end": "645630"
  },
  {
    "start": "645630",
    "end": "653220"
  },
  {
    "text": "This is a disjoint union into\ntriples, Si, and cross product",
    "start": "653220",
    "end": "668040"
  },
  {
    "text": "ABC. So you're choosing one from\neach of these guys in each Si,",
    "start": "668040",
    "end": "673339"
  },
  {
    "text": "and they should be of equal sum. ",
    "start": "673340",
    "end": "680450"
  },
  {
    "text": "And so the sum will be sum of A\nplus the sum of B plus sum of C",
    "start": "680450",
    "end": "686220"
  },
  {
    "text": "divided by n , I think,\nbecause there's 3 of them.",
    "start": "686220",
    "end": "691879"
  },
  {
    "text": " Cool. OK, so almost the\nsame problem, I just",
    "start": "691880",
    "end": "697720"
  },
  {
    "text": "changed what n was\nby a factor of 3. That's why there's n over\n3 here and then here.",
    "start": "697720",
    "end": "704090"
  },
  {
    "text": "But here, we're\nspecializing in a sense to say that we're giving\ndifferent types of numbers--",
    "start": "704090",
    "end": "711560"
  },
  {
    "text": "the red integers,\nthe green integers, and the blue integers. You have to choose\none of each color.",
    "start": "711560",
    "end": "716790"
  },
  {
    "text": "OK, for fun, let me show you why\nthis problem is, in some sense,",
    "start": "716790",
    "end": "726449"
  },
  {
    "text": "simpler. ",
    "start": "726450",
    "end": "737090"
  },
  {
    "text": "This also gives you\na useful technique for playing with\nthese number problems.",
    "start": "737090",
    "end": "742130"
  },
  {
    "text": "So I want to reduce from\nthis numerical 3 dimensional matching problem, which\nyou might also call the ABC version of 3 partition.",
    "start": "742130",
    "end": "749740"
  },
  {
    "text": "I will reduce it to 3 partition. So I'm given an\ninstance, these numbers.",
    "start": "749740",
    "end": "756794"
  },
  {
    "text": "So the basic idea is to take\nthese numbers just throw them into one big set, A prime.",
    "start": "756794",
    "end": "761870"
  },
  {
    "text": "But I want to force\nthis ABC property that I choose one from each.",
    "start": "761870",
    "end": "767170"
  },
  {
    "text": "Maybe any suggestions how? Yeah. AUDIENCE: Well, I\njust have a question. You define these all as sets. You can't have\nduplicates of an integer?",
    "start": "767170",
    "end": "773614"
  },
  {
    "text": "PROFESSOR: I didn't\nsay the word set. I actually meant multiset. Yeah, so this is a multiset.",
    "start": "773614",
    "end": "781190"
  },
  {
    "text": "Good question. All of them are multisets. So it makes the notion of\ndisunion a little bit weird.",
    "start": "781190",
    "end": "787920"
  },
  {
    "text": "But you know what I mean. Yeah. AUDIENCE: Could you add a\nreally big number to all",
    "start": "787920",
    "end": "793968"
  },
  {
    "text": "the B's and twice that really\nbig number to all the C's? PROFESSOR: OK, add a--\nhadn't thought about this. So add a really big number to\nall the B's, and then twice",
    "start": "793968",
    "end": "801480"
  },
  {
    "text": "that big number to all the C's.  And then the target sum would\nbe three times the big number,",
    "start": "801480",
    "end": "809800"
  },
  {
    "text": "plus-- AUDIENCE: I'm sorry, so\nmake it three instead, so you can't do three\nthings from each side.",
    "start": "809800",
    "end": "814902"
  },
  {
    "text": "PROFESSOR: Yeah, right. So you don't want take two B's\nand then that looks like a C.",
    "start": "814902",
    "end": "821360"
  },
  {
    "text": "So maybe you want three\ntimes a big number here and nine times a\nbig number here.",
    "start": "821360",
    "end": "829696"
  },
  {
    "text": "Something like that. I think actually one times\na big number and three times a big number would do it. Yeah, cool.",
    "start": "829697",
    "end": "835930"
  },
  {
    "text": "So the way I did it in the\nnotes was adding a small number, but either way, it works. Let's do it with the big\nnumber, because that's fun.",
    "start": "835930",
    "end": "843069"
  },
  {
    "start": "843070",
    "end": "849040"
  },
  {
    "text": "So we will construct, I'll\ncall it A prime to consist",
    "start": "849040",
    "end": "854940"
  },
  {
    "text": "of a overall little a and big\nA. And then we'll say a plus--",
    "start": "854940",
    "end": "862010"
  },
  {
    "text": "usually big number I\nwrite with a capital B, but that's not very good\nbecause we already have a couple of B's.",
    "start": "862010",
    "end": "867210"
  },
  {
    "text": "So I'll call it X. Or I\nshould call it infinity",
    "start": "867210",
    "end": "872460"
  },
  {
    "text": "for consistency. So for each b and B, I\nwill add infinity to it.",
    "start": "872460",
    "end": "879680"
  },
  {
    "text": "And then c is going to be is\n3 times-- let's do 4 times",
    "start": "879680",
    "end": "888171"
  },
  {
    "text": "infinity. It makes me feel a\nlittle safer somehow, because we're constructing\na set of size 3.",
    "start": "888171",
    "end": "894420"
  },
  {
    "text": "So if you take 3 of these,\nI worry that looks like a C. It's not enough,\nbut we'll be safe.",
    "start": "894420",
    "end": "900439"
  },
  {
    "text": "Why not? We can choose pretty\nbig numbers here. So happy?",
    "start": "900440",
    "end": "907635"
  },
  {
    "text": "No? AUDIENCE: You might be\nable to do a couple A's in a single set.",
    "start": "907635",
    "end": "912840"
  },
  {
    "text": "The set should be small, because\nthey're not-- [INAUDIBLE]. PROFESSOR: OK.",
    "start": "912840",
    "end": "917930"
  },
  {
    "text": "a is our problem. You could maybe do\nmore than 3 total. So let's do 1 infinity,\nthen get a proper eraser.",
    "start": "917930",
    "end": "928620"
  },
  {
    "text": "It's a good thing we have Sarah\nhere to correct our proofs. 3 infinity 9.",
    "start": "928620",
    "end": "937672"
  },
  {
    "text": "AUDIENCE: I think it's\nenough, because then we need-- PROFESSOR: 6 would be bad,\nbecause then 2 of these would be 1 of those.",
    "start": "937672",
    "end": "943074"
  },
  {
    "text": "AUDIENCE: 13 infinities\non [INAUDIBLE]. PROFESSOR: Right, so this\nmeans the new target sum should",
    "start": "943075",
    "end": "951660"
  },
  {
    "text": "be the old target sum, which\nwas the sum of these divided",
    "start": "951660",
    "end": "957160"
  },
  {
    "text": "by n, plus 13 infinity. ",
    "start": "957160",
    "end": "964757"
  },
  {
    "text": "AUDIENCE: Isn't infinity\na function of the n's? PROFESSOR: Infinity\nI should define. Let's make it, I think,\njust like 10 times max",
    "start": "964757",
    "end": "976087"
  },
  {
    "text": "of A ought to do it.  You could be it as\na function of n.",
    "start": "976087",
    "end": "981395"
  },
  {
    "text": "I don't think that's necessary\nhere, because all of our sets are size 3. But if you're doing something\nlike this for 2 partition,",
    "start": "981395",
    "end": "987700"
  },
  {
    "text": "you'd want to multiply\nby n or n squared. This is a common trick to\ndo this kind of scaling",
    "start": "987700",
    "end": "994110"
  },
  {
    "text": "or offsets or things like that. Instead of infinity\nhere, you can write epsilon, where epsilon\nis much smaller than 1.",
    "start": "994110",
    "end": "1000561"
  },
  {
    "text": "I think that would also work. And that's what's done in this. AUDIENCE: So we just\nmake it the max of the A as opposed to A prime?",
    "start": "1000562",
    "end": "1007184"
  },
  {
    "text": "PROFESSOR: Oops, this should\nprobably be max of ABC. ",
    "start": "1007184",
    "end": "1013079"
  },
  {
    "text": "Yeah, you can't make\nit max of A prime. That would be cyclic. That infinity would\nactually be infinite. ",
    "start": "1013080",
    "end": "1020530"
  },
  {
    "text": "Good. So I think that works. There are things to\ncheck here, obviously. We need to check\nthat whenever we",
    "start": "1020530",
    "end": "1026182"
  },
  {
    "text": "have a solution to\nthe original instance, we have a solution\nto this instance. That's pretty clear. You just take the same choices\nof the Ai's, Bi's, and Ci's.",
    "start": "1026182",
    "end": "1034030"
  },
  {
    "text": "And the infinities will\nalways add up to 13. The tricky part is\nto show that if you",
    "start": "1034030",
    "end": "1039804"
  },
  {
    "text": "have a solution to this\n3 partition instance, you can convert that back into\na solution to the numerical 3",
    "start": "1039805",
    "end": "1045079"
  },
  {
    "text": "dimensional matching instance. And that's where\nyou essentially want to show that the infinities\ncan be treated algebraically.",
    "start": "1045079",
    "end": "1050865"
  },
  {
    "text": "Because they're so\nhuge, you could never construct an infinity\nin another way. ",
    "start": "1050865",
    "end": "1057090"
  },
  {
    "text": "But I'll leave that as an\nexercise to actually proof, because we're not really going\nto use this problem too much.",
    "start": "1057090",
    "end": "1062410"
  },
  {
    "text": "You're welcome to,\nmaybe on problem sets, maybe on open problems\nit would be good. But most the time, I would\nsay we use 3 partition.",
    "start": "1062410",
    "end": "1070289"
  },
  {
    "text": "I want you to know about\nthis in particular, because it's related to\nanother problem, which is called 3 dimensional matching.",
    "start": "1070290",
    "end": "1075770"
  },
  {
    "text": " Yes?",
    "start": "1075770",
    "end": "1081220"
  },
  {
    "text": "AUDIENCE: Is the\nassumption that the Ai is all a cardinality of 3 built\ninto the problem specification",
    "start": "1081220",
    "end": "1086760"
  },
  {
    "text": "here? PROFESSOR: You get a choice. You can either make\nthis part of the problem specification or not. It won't matter.",
    "start": "1086760",
    "end": "1091824"
  },
  {
    "text": "AUDIENCE: OK, well I\nthink in this case, if you don't know\nthe problem specs, can you take 12\nA's for something?",
    "start": "1091824",
    "end": "1098320"
  },
  {
    "text": "And then you get 12\ninfinities and then they add up to another infinity? PROFESSOR: Yes,\nwe definitely want",
    "start": "1098320",
    "end": "1103616"
  },
  {
    "text": "to take this as part\nof the specification for this reduction. Yeah. Good point. ",
    "start": "1103616",
    "end": "1112070"
  },
  {
    "text": "OK, so here's a problem. You've probably heard\nof the matching problem.",
    "start": "1112070",
    "end": "1119440"
  },
  {
    "text": "Let's say the perfect matching\nproblem is you're given a graph and you want to find a set\nof edges which are disjoint,",
    "start": "1119440",
    "end": "1124480"
  },
  {
    "text": "meaning no two edges\nshare a vertex, that covers all the vertices. So if you have n\nvertices, you'd like",
    "start": "1124480",
    "end": "1130669"
  },
  {
    "text": "to find n over 2 edges that\nare disjoint from each other. That's perfect matching. You might call it 2\ndimensional matching,",
    "start": "1130670",
    "end": "1135880"
  },
  {
    "text": "because an edge has 2 ends. 3 dimensional matching takes\nplace in a hyper graph.",
    "start": "1135880",
    "end": "1141470"
  },
  {
    "text": "And in this case, it's going\nto be a tripartite hyper graph.",
    "start": "1141470",
    "end": "1147740"
  },
  {
    "start": "1147740",
    "end": "1155970"
  },
  {
    "text": "You may not have seen\nhyper graphs before. They're just like\ngraphs, but edges can have more than 2 endpoints. In this case, they\nwill have exactly 3.",
    "start": "1155970",
    "end": "1163960"
  },
  {
    "text": "So let's say the vertices are\nA disjoining in B disjoining",
    "start": "1163960",
    "end": "1171279"
  },
  {
    "text": "in C. And let's say they\nall have like size n. ",
    "start": "1171280",
    "end": "1179190"
  },
  {
    "text": "And the hyper edge is E.",
    "start": "1179190",
    "end": "1193769"
  },
  {
    "text": "OK, maybe it's worth\ndrawing a picture. ",
    "start": "1193770",
    "end": "1200820"
  },
  {
    "text": "So you have this set A, set B--\nthey're all the same size-- set",
    "start": "1200820",
    "end": "1209570"
  },
  {
    "text": "C. And an edge might look like\nthis or like this or so on.",
    "start": "1209570",
    "end": "1217850"
  },
  {
    "text": "OK, you take one from each. And then your goal is to\nfind n disjoint edges.",
    "start": "1217850",
    "end": "1229190"
  },
  {
    "text": " If we find that many\nand they're disjoint,",
    "start": "1229190",
    "end": "1235120"
  },
  {
    "text": "that means they will\ncover all of the vertices. Every vertex will be hit\nby exactly one hyper edge.",
    "start": "1235120",
    "end": "1241230"
  },
  {
    "text": " OK, so this is the 3 dimensional\nversion of bipartite matching,",
    "start": "1241230",
    "end": "1249870"
  },
  {
    "text": "I guess. There's also the\nnon-bipartite version. For extra completeness,\nthere's something",
    "start": "1249870",
    "end": "1255960"
  },
  {
    "text": "called exact cover by 3 sets,\n3 meaning the cardinality.",
    "start": "1255960",
    "end": "1264399"
  },
  {
    "text": "This is called X3C. You do see 3DM\nand X3C frequently in the literature and\nespecially in Garey and Johnson.",
    "start": "1264400",
    "end": "1271360"
  },
  {
    "text": "So they're good\nproblems to know about. Here is sort of the generalized\nversion, where you're given",
    "start": "1271360",
    "end": "1280910"
  },
  {
    "text": "non-tripartite, just a\n3 uniform hyper graph.",
    "start": "1280910",
    "end": "1287880"
  },
  {
    "text": "3 uniform just means every\nedge has cardinality 3. ",
    "start": "1287880",
    "end": "1295010"
  },
  {
    "text": "And your goal is to find--\nlet's say it has n vertices--",
    "start": "1295010",
    "end": "1307430"
  },
  {
    "text": "n over 3 disjoin hyper edges. ",
    "start": "1307430",
    "end": "1317960"
  },
  {
    "text": "OK, many times the\nalmost same problem. How do these relate? Well, certainly if you take\na numerical 3 dimensional",
    "start": "1317960",
    "end": "1326290"
  },
  {
    "text": "matching problem, that is a 3\ndimensional matching problem. You can convert it\ninto a graph like this.",
    "start": "1326290",
    "end": "1331919"
  },
  {
    "text": "You're just forgetting the\nfact that there's numbers. But then when you\ndraw the edge, you draw one of these hyper edges\nexactly when Ai plus Bi plus Ci",
    "start": "1331920",
    "end": "1341640"
  },
  {
    "text": "equals the targets sum. So numerical 3\ndimensional matching",
    "start": "1341640",
    "end": "1346730"
  },
  {
    "text": "is a special case of 3\ndimensional matching. Occasionally it's\nuseful to start from 3 dimensional matching. Not for number problems though.",
    "start": "1346730",
    "end": "1353380"
  },
  {
    "text": "If you have a number problem,\nyou like the numerical version. Personally I prefer 3 partition,\nbut these two are pretty close.",
    "start": "1353380",
    "end": "1361920"
  },
  {
    "text": "We saw one connection\nbetween them. Exact cover by 3 sets\nis, in some sense, even more general than\n3 dimensional matching.",
    "start": "1361920",
    "end": "1369335"
  },
  {
    "text": " Yeah, it is more general,\nbecause tripartite hyper graph",
    "start": "1369335",
    "end": "1376669"
  },
  {
    "text": "like this is 3 uniform. So this is a strict\ngeneralization of that. But they all appear\nsomewhat, so I",
    "start": "1376670",
    "end": "1383730"
  },
  {
    "text": "thought it'd good for\nyou to know about them. Again, 3 partition is\nwhere the action is.",
    "start": "1383730",
    "end": "1390580"
  },
  {
    "text": "All right, let me go\nback to this issue of 2 partition versus 3 partition.",
    "start": "1390580",
    "end": "1397320"
  },
  {
    "text": "These are the two main\nproblems I want to talk about.",
    "start": "1397320",
    "end": "1402700"
  },
  {
    "text": "And they relate to an important\ndistinction in NP-hardness,",
    "start": "1402700",
    "end": "1413480"
  },
  {
    "text": "which is weak versus\nstrong NP-hardness. So there are two\ntypes of NP-hardness",
    "start": "1413480",
    "end": "1422850"
  },
  {
    "text": "for number problems. If your input is a graph,\nthese two notions are the same,",
    "start": "1422850",
    "end": "1428460"
  },
  {
    "text": "so you don't need\nto worry about it. But when your problem\nhas integers as input,",
    "start": "1428460",
    "end": "1437290"
  },
  {
    "text": "then there are two types. ",
    "start": "1437290",
    "end": "1448660"
  },
  {
    "text": "Weakly NP-hard\nis, in some sense, the type you\nalready know, if you think about it in the right\nway, in the intended way.",
    "start": "1448660",
    "end": "1456420"
  },
  {
    "text": "We haven't been super\nformal about how numbers getting encoded, but\nusually we think of NP-hardness",
    "start": "1456420",
    "end": "1466680"
  },
  {
    "text": "in terms of how\nhard your problem is",
    "start": "1466680",
    "end": "1472260"
  },
  {
    "text": "in terms of the encoding\nsize, which we usually call n, the encoding of your input.",
    "start": "1472260",
    "end": "1477500"
  },
  {
    "text": "OK, so in the usual\nform, what this means",
    "start": "1477500",
    "end": "1482680"
  },
  {
    "text": "is that you allow numbers\nto have exponential value,",
    "start": "1482680",
    "end": "1496120"
  },
  {
    "text": "because even when their\nvalue is exponential, the encoding of that\nvalue is polynomial. ",
    "start": "1496120",
    "end": "1506280"
  },
  {
    "text": "Coding length of such a number\nis, if you read it in binary, that's log base 2 of the number\nif the number is 2 to the n",
    "start": "1506280",
    "end": "1513340"
  },
  {
    "text": "to the c, which is our\ndefinition of exponential. That's going to be n to the c. And that's polynomial.",
    "start": "1513340",
    "end": "1518655"
  },
  {
    "text": " OK, for here, I'm\ngoing to let n be",
    "start": "1518655",
    "end": "1526330"
  },
  {
    "text": "the number of numbers to\navoid circular definitions",
    "start": "1526330",
    "end": "1531820"
  },
  {
    "text": "or something. So I'm saying there are\nn different numbers. If each of them is at most\n2 to the n to the c in value",
    "start": "1531820",
    "end": "1537760"
  },
  {
    "text": "and they're integers, then I can\nencode them in this many bits. And that's a polynomial\nnumber of bits. So I consider that a\nreasonable encoding.",
    "start": "1537760",
    "end": "1546920"
  },
  {
    "text": "And sometimes that's just fine. But there's a\nstronger notion, which is really useful, especially\nfor a lot of problems",
    "start": "1546920",
    "end": "1554220"
  },
  {
    "text": "we will see today\nand next class, which is called strongly NP-hard.",
    "start": "1554220",
    "end": "1561480"
  },
  {
    "text": "And this is NP-hard even when\nyour problem is restricted",
    "start": "1561480",
    "end": "1578740"
  },
  {
    "text": "to numbers of polynomial value. ",
    "start": "1578740",
    "end": "1587860"
  },
  {
    "text": "So polynomial here\nis with respect to n and is the number of\nintegers-- number of numbers.",
    "start": "1587860",
    "end": "1595340"
  },
  {
    "text": "OK, so strongly NP-hard is\nstronger than weakly NP-hard. If you're NP-hard even\nwhen your numbers are",
    "start": "1595340",
    "end": "1602700"
  },
  {
    "text": "only polynomial in\nsize, then of course your NP-hard when\nyou allow the numbers to be as large as exponential. This is a weaker\nconstraint on the problem.",
    "start": "1602700",
    "end": "1611450"
  },
  {
    "text": "So to cut to the chase,\n2 partition up here and subset sum are\nweakly NP-hard.",
    "start": "1611450",
    "end": "1618390"
  },
  {
    "text": " And if you believe that\nthe P does not equal NP,",
    "start": "1618390",
    "end": "1625810"
  },
  {
    "text": "then it's not strongly NP-hard. That's the best we can\nhope for, whereas 3",
    "start": "1625810",
    "end": "1630950"
  },
  {
    "text": "partition in every other\nproblem we talked about is strongly NP-hard. ",
    "start": "1630950",
    "end": "1643507"
  },
  {
    "text": "AUDIENCE: I have a question. What do you mean\nexactly by numbers having exponential value?",
    "start": "1643508",
    "end": "1650020"
  },
  {
    "text": "PROFESSOR: So again, exponential\nis like 2 to the n to the c. n is the number of\nnumbers in your input.",
    "start": "1650020",
    "end": "1656570"
  },
  {
    "text": "AUDIENCE: OK. PROFESSOR: Yeah. So that's what I allow.",
    "start": "1656570",
    "end": "1661679"
  },
  {
    "text": "I mean, this is what would\nbe allowed if you didn't say anything, if you interpret\ncomplexity theory in a way",
    "start": "1661679",
    "end": "1667080"
  },
  {
    "text": "that I haven't\nnecessarily told you, but generally you want to\nassume that all your inputs are reasonably encoded\nin an efficient way",
    "start": "1667080",
    "end": "1673680"
  },
  {
    "text": "that most possible input\nstrings are valid inputs. And so if you're encoding,\nthen in particular,",
    "start": "1673680",
    "end": "1680445"
  },
  {
    "text": "you should encode\nyour numbers in binary or ternary or quaternary\nor hexadecimal-- anything",
    "start": "1680446",
    "end": "1686960"
  },
  {
    "text": "bigger than one is good. OK? And you should know\nif you're writing that number, don't use unary.",
    "start": "1686960",
    "end": "1692450"
  },
  {
    "text": "But today we're going\nto use unary a lot. So this is the same thing\nas saying encode in unary.",
    "start": "1692450",
    "end": "1700420"
  },
  {
    "text": "Strong NP-hardness\nis like saying, well, my problem is so\nhard that even if I",
    "start": "1700420",
    "end": "1708210"
  },
  {
    "text": "encode my numbers in unary,\nit's still hard in the resulting input size. The input size would\nbe if you write down",
    "start": "1708210",
    "end": "1714290"
  },
  {
    "text": "every number in unary and\nadd up all the numbers. That's your input size.",
    "start": "1714290",
    "end": "1719720"
  },
  {
    "text": "3-partition is that hard. 2-partition is not. OK?",
    "start": "1719720",
    "end": "1724990"
  },
  {
    "text": "So if you can prove strong\nNP-hardness, you should. It's better. If you can only prove\nweak NP-hardness, it's OK.",
    "start": "1724990",
    "end": "1731470"
  },
  {
    "text": "It's still hard. Now you should know, there\nare corresponding notions",
    "start": "1731470",
    "end": "1737630"
  },
  {
    "text": "on the algorithm side. So let's talk about\nthat a little bit.",
    "start": "1737630",
    "end": "1743380"
  },
  {
    "text": "So corresponding algorithms\nare-- there are actually three of them. The main ones are\npseudopolynomial",
    "start": "1743380",
    "end": "1750340"
  },
  {
    "text": "and weakly polynomial. Sorry. The weaklies are unrelated to\neach other, but that's life.",
    "start": "1750340",
    "end": "1756549"
  },
  {
    "start": "1756550",
    "end": "1762510"
  },
  {
    "text": "There's also a notion called\nstrongly polynomial-- unrelated to strongly NP-hard.",
    "start": "1762510",
    "end": "1767936"
  },
  {
    "text": "Well, there you go. ",
    "start": "1767936",
    "end": "1779910"
  },
  {
    "text": "OK.  So weakly polynomial is the\nusual notion of polynomial",
    "start": "1779910",
    "end": "1786690"
  },
  {
    "text": "I should mention. When I say I have a polynomial\ntime algorithm, what you mean is weakly, meaning\nthat, let's say,",
    "start": "1786690",
    "end": "1795125"
  },
  {
    "text": "I'll write it as polynomial in\nn-- the number of integers--",
    "start": "1795125",
    "end": "1800510"
  },
  {
    "text": "and let's say, log of\nthe largest integer--",
    "start": "1800510",
    "end": "1808710"
  },
  {
    "text": "largest number in the input. OK? That's a reasonable\nencoding size.",
    "start": "1808710",
    "end": "1813870"
  },
  {
    "text": "You write them in binary. You add them all up. So you'd multiply\nthat by n or whatever. And the polynomial in that\nvalue is weakly polynomial.",
    "start": "1813870",
    "end": "1822730"
  },
  {
    "text": "Pseudopolynomial\nyou omit the log. OK. So I want polynomial on\nn and the largest number.",
    "start": "1822730",
    "end": "1829870"
  },
  {
    "start": "1829870",
    "end": "1836230"
  },
  {
    "text": "And strongly polynomial, you\nomit that term altogether. So you just polynomial\nn the number of numbers.",
    "start": "1836230",
    "end": "1843270"
  },
  {
    "text": "OK? So there's a different world\nof algorithms which we're not going to talk about\nhere, which is weakly polynomial algorithms versus\nstrongly polynomial algorithms.",
    "start": "1843270",
    "end": "1850520"
  },
  {
    "text": "I'm not aware of any\nlower bounds about that, but there are famous\nopen questions like, can you solve linear programming\nin strongly polynomial time?",
    "start": "1850520",
    "end": "1857700"
  },
  {
    "text": "We don't know. There's no hardness\nnotion there. So we're not going to talk\nabout it any more than that.",
    "start": "1857700",
    "end": "1863580"
  },
  {
    "text": "What we care about more\nis this distinction between pseudopolynomial. This is polynomial when the\nnumbers are written in unary,",
    "start": "1863580",
    "end": "1870170"
  },
  {
    "text": "and this polynomial when the\nnumbers are written in binary. So these two notions correspond\nto these two notions.",
    "start": "1870170",
    "end": "1876950"
  },
  {
    "text": "So in particular, if you\nbelieve p does not equal NP, then weakly NP-hard\nmeans there is",
    "start": "1876950",
    "end": "1883640"
  },
  {
    "text": "no weakly polynomial algorithm. But there might be a\npseudopolynomial algorithm.",
    "start": "1883640",
    "end": "1890889"
  },
  {
    "text": "Strongly NP-hard means there's\nno M polynomial algorithm, and so therefore there's no\nweakly polynomial algorithm.",
    "start": "1890890",
    "end": "1896890"
  },
  {
    "text": "Adam. AUDIENCE: So the difference\nbetween weakly polynomial and strongly polynomial is that\nwe don't even necessarily give",
    "start": "1896890",
    "end": "1903260"
  },
  {
    "text": "ourselves time to read all the\nnumbers and put it in binary? PROFESSOR: I didn't want\nto get too much into models",
    "start": "1903260",
    "end": "1909900"
  },
  {
    "text": "of computation, but the\nmodel of computation here is that you're allowed to\nread an entire number in one",
    "start": "1909900",
    "end": "1916180"
  },
  {
    "text": "time step. So if you've taken 6851\nAdvanced Data Structures, this is like a word RAM.",
    "start": "1916180",
    "end": "1921929"
  },
  {
    "text": "So that's the only reason\nthis would be reasonable. Otherwise you couldn't\nread the input. That would be pretty hard.",
    "start": "1921930",
    "end": "1927350"
  },
  {
    "text": "So the model is you could\ntake a constant number of your numbers, do\nsomething with them, output another number\nof the same type",
    "start": "1927350",
    "end": "1933840"
  },
  {
    "text": "roughly in constant time. And you want to do a polynomial\nnumber of such steps, usually arithmetic operations.",
    "start": "1933840",
    "end": "1941270"
  },
  {
    "text": "Here you don't have to be\nso careful about the model because any reasonable\nencoding, you",
    "start": "1941270",
    "end": "1947730"
  },
  {
    "text": "could read it and do\nwhatever you want with it. If you don't care about the\nexponent in the polynomial, like all models are equivalent.",
    "start": "1947730",
    "end": "1953590"
  },
  {
    "text": "If you believe the Strong Church\n[INAUDIBLE] Thesis-- anyway. This one you have to\nbe a little bit more",
    "start": "1953590",
    "end": "1958660"
  },
  {
    "text": "careful what the model is. Good. So let me draw my\nfavorite diagram",
    "start": "1958660",
    "end": "1965880"
  },
  {
    "text": "with the difficulty axis. ",
    "start": "1965880",
    "end": "1971039"
  },
  {
    "text": "But now instead of p,\nI'm going to distinguish between weakly polynomial,\npseudopolynomial,",
    "start": "1971040",
    "end": "1976180"
  },
  {
    "text": "and strongly polynomial. So these things are pseudopoly.",
    "start": "1976180",
    "end": "1981690"
  },
  {
    "text": " These things are weakly poly.",
    "start": "1981690",
    "end": "1987890"
  },
  {
    "text": " And these things\nare strongly poly.",
    "start": "1987890",
    "end": "1996940"
  },
  {
    "text": "This is on the\nalgorithm side, upper bounds-- be on the left of\nthe particular position.",
    "start": "1996940",
    "end": "2003160"
  },
  {
    "text": "And then on the hardness side\nwe have-- let me use red.",
    "start": "2003160",
    "end": "2010070"
  },
  {
    "text": "It's more dramatic. This thing is weakly NP-hard.",
    "start": "2010070",
    "end": "2016380"
  },
  {
    "text": " This is if p does\nnot equal NP then",
    "start": "2016380",
    "end": "2026540"
  },
  {
    "text": "you're strictly to the\nright of pseudopoly. So there's no\npseudopoly problem. There's also weakly NP-hard.",
    "start": "2026540",
    "end": "2032910"
  },
  {
    "text": "And then strongly\nNP-hard excludes even a weakly polynomial\nalgorithm, so strictly",
    "start": "2032910",
    "end": "2045650"
  },
  {
    "text": "to the right of that position. So obviously, strongly\nNP-hard is a better result because it's smaller\nthan this class.",
    "start": "2045650",
    "end": "2051350"
  },
  {
    "text": " But for example, 2-partition,\nwhich is only weakly NP-hard,",
    "start": "2051350",
    "end": "2058020"
  },
  {
    "text": "has a pseudopolynomial\nalgorithm. You've probably even seen\none in your algorithms class if you've ever done\nanything like Knapsack",
    "start": "2058020",
    "end": "2065059"
  },
  {
    "text": "as a dynamic program. That is a dynamic program\nprobably originally done",
    "start": "2065060",
    "end": "2070516"
  },
  {
    "text": "for a 2-partition. ",
    "start": "2070516",
    "end": "2079960"
  },
  {
    "text": "OK. So that problem is\nsomewhere right in here. ",
    "start": "2079960",
    "end": "2086559"
  },
  {
    "text": "Weakly NP-hard-- whoops. AUDIENCE: I think the\ndiagram that's is backward,",
    "start": "2086560",
    "end": "2091728"
  },
  {
    "text": "but I don't-- AUDIENCE: Yeah. Diagram is-- AUDIENCE: If a\nproblem is strongly polynomial it ends [INAUDIBLE]\na weakly polynomial. PROFESSOR: So the\nmiddle one's right.",
    "start": "2091728",
    "end": "2099470"
  },
  {
    "text": "Thank you. That seemed funny. But strongly polynomial\nis this tightest class.",
    "start": "2099470",
    "end": "2105710"
  },
  {
    "text": "That's the best result. And pseudopoly is\nthe worst result. Did I get my arrows\nin the right place?",
    "start": "2105710",
    "end": "2114408"
  },
  {
    "text": "AUDIENCE: You've\ngot to shift over. PROFESSOR: Shift over one.",
    "start": "2114408",
    "end": "2120040"
  },
  {
    "text": "Strongly NP-hard. Whoops. ",
    "start": "2120040",
    "end": "2128359"
  },
  {
    "text": "So weakly NP-hard is here. Strongly NP-hard is there. OK.",
    "start": "2128360",
    "end": "2135280"
  },
  {
    "text": "Cool. So let's check. So 2-partition\nshould be pseudopoly,",
    "start": "2135280",
    "end": "2140860"
  },
  {
    "text": "so left of this line,\nbut weakly NP-hard still right of that line. That looks good.",
    "start": "2140860",
    "end": "2146131"
  },
  {
    "text": "So this is 2-partition. 3-partition is out here. ",
    "start": "2146132",
    "end": "2154905"
  },
  {
    "text": "I mean, I'd draw\nthis is a region, but it's more like a\npoint in my old diagram",
    "start": "2154905",
    "end": "2159990"
  },
  {
    "text": "because 3-partitions\nare actually E and NP. So it's strongly NP-complete. So it's like right\nat the edge there.",
    "start": "2159990",
    "end": "2166180"
  },
  {
    "text": "Anyway, there's no\npseudopolynomial algorithm for 3-partition,\nunlike 2-partition.",
    "start": "2166180",
    "end": "2171320"
  },
  {
    "text": "That's the point of all that. Let's do some. Shall we?",
    "start": "2171320",
    "end": "2176700"
  },
  {
    "text": "NP-hardcore time. So that'll be over here.",
    "start": "2176700",
    "end": "2182674"
  },
  {
    "start": "2182675",
    "end": "2194030"
  },
  {
    "text": "OK. The first reduction is\ngoing to be pretty-- AUDIENCE: May I ask a\nquestion before we move on? PROFESSOR: Yeah. AUDIENCE: So why is there\na no corresponding notion",
    "start": "2194030",
    "end": "2201210"
  },
  {
    "text": "for problems are not numeric? Like why can't for a\ngraph problem we say, well, we're going to examine\nthis graph problem assuming",
    "start": "2201210",
    "end": "2208180"
  },
  {
    "text": "we're using an inefficient\nencoding of our graph to see how hard it is? PROFESSOR: I guess you could\ntry to define this in terms",
    "start": "2208180",
    "end": "2215150"
  },
  {
    "text": "for graphs, but I\ndon't think there is such an obvious\ninefficient notion of graphs.",
    "start": "2215150",
    "end": "2220486"
  },
  {
    "text": "I mean, the obvious\ninefficient notion is like use a matrix instead\nof an adjacency list. But that's polynomially\nequivalent.",
    "start": "2220487",
    "end": "2226280"
  },
  {
    "text": "So I mean there certainly\nare other notions you could imagine, but there\naren't any in the literature.",
    "start": "2226280",
    "end": "2235860"
  },
  {
    "text": "All right. So just to warn you, the\nfirst reduction we do is going to be a\nlittle bit trivial.",
    "start": "2235861",
    "end": "2241349"
  },
  {
    "text": "So don't get too excited yet. But this is where\n3-partition comes from.",
    "start": "2241350",
    "end": "2247260"
  },
  {
    "text": "Then we'll do lots of cool ones. So multiprocessor scheduling.",
    "start": "2247260",
    "end": "2255350"
  },
  {
    "text": "Let's say I have n jobs, and\nthey have completion times.",
    "start": "2255350",
    "end": "2263070"
  },
  {
    "text": "And that's it. You can start them\nwhenever you want. ",
    "start": "2263070",
    "end": "2269674"
  },
  {
    "text": "And then on the\nother hand, I have p processors to run those jobs.",
    "start": "2269674",
    "end": "2274740"
  },
  {
    "text": "Each processor is\nsequential and identical. So the model is you\nassign jobs to processors.",
    "start": "2274740",
    "end": "2280279"
  },
  {
    "text": "Job can only be\non one processor, and it runs to completion. Then it can run\nanother job, and so on.",
    "start": "2280280",
    "end": "2285770"
  },
  {
    "text": "My goal-- I'll state\nthe decision version-- is to finish all jobs in\ntime less than or equal to t.",
    "start": "2285770",
    "end": "2300234"
  },
  {
    "text": " OK? So I claim this problem is\nNP-hard of some variety.",
    "start": "2300235",
    "end": "2308850"
  },
  {
    "text": "Let's start with a\nreduction from partition.",
    "start": "2308850",
    "end": "2315830"
  },
  {
    "start": "2315830",
    "end": "2320950"
  },
  {
    "text": "Sorry. Partition is a synonym\nfor 2-partition. Usually we omit the two.",
    "start": "2320950",
    "end": "2326510"
  },
  {
    "text": " So reduction from partition.",
    "start": "2326510",
    "end": "2333609"
  },
  {
    "text": "This problem over here. So now I'm given some integers. I want to split them\nin half basically.",
    "start": "2333610",
    "end": "2340140"
  },
  {
    "text": "Any suggestions\non what I could do to turn that into a\nmultiprocessor scheduling problem?",
    "start": "2340140",
    "end": "2345232"
  },
  {
    "text": "AUDIENCE: Two processors. PROFESSOR: Two processors. Yeah. p equals 2.",
    "start": "2345232",
    "end": "2350290"
  },
  {
    "text": "That is the reduction. I guess, technically, I also\nhave to specify what t is, but it's over there.",
    "start": "2350290",
    "end": "2355920"
  },
  {
    "text": "So you set t to be the\nsum of the A's over 2. And you don't change A.\nYou just leave it alone.",
    "start": "2355920",
    "end": "2362819"
  },
  {
    "text": "So you just feed in the same\nA i's into this problem. And that is 2-partition. OK.",
    "start": "2362820",
    "end": "2368030"
  },
  {
    "text": "Let's do a reduction\nfrom-- so now we know the problem is at\nleast weakly NP-hard, but in fact, it is strongly\nNP-hard, because we",
    "start": "2368030",
    "end": "2375090"
  },
  {
    "text": "can reduce from 3-partition. What do you do? AUDIENCE: P equals n over 3.",
    "start": "2375090",
    "end": "2381401"
  },
  {
    "text": "PROFESSOR: P equals n over 3. That's it. You set t accordingly.",
    "start": "2381401",
    "end": "2386740"
  },
  {
    "text": "Sum of the A's over p. Done. OK.",
    "start": "2386740",
    "end": "2392480"
  },
  {
    "text": "So this problem\ncomes from the paper that introduces\n3-partition, which is by Gary and Johnson, the\nsame people who wrote the book.",
    "start": "2392480",
    "end": "2400050"
  },
  {
    "text": "So, I mean, this\nbasically is 3-partition. That's why they cared about it. But here's a practical\nmotivation for it.",
    "start": "2400050",
    "end": "2406732"
  },
  {
    "text": " Cool. Let's do something\nmore interesting.",
    "start": "2406732",
    "end": "2413129"
  },
  {
    "text": "And I kind of want a projector. ",
    "start": "2413129",
    "end": "2423280"
  },
  {
    "text": "Any questions about--\nI think you've asked enough questions\nabout pseudopoly,",
    "start": "2423280",
    "end": "2429310"
  },
  {
    "text": "weakly poly, strongly\npoly, as I erase them. Don't forget them. ",
    "start": "2429310",
    "end": "2435710"
  },
  {
    "text": "But I think for\nthe rest of today we're just going to be doing\nstrong polynomial reductions",
    "start": "2435710",
    "end": "2441210"
  },
  {
    "text": "from 3-partition. I think next class we\nmight do some weak ones, but today we're going\nto really use the fact",
    "start": "2441210",
    "end": "2449570"
  },
  {
    "text": "that it-- use the strongness. And you'll see why,\nbecause we really want to encode some\nnumbers in unary.",
    "start": "2449570",
    "end": "2455931"
  },
  {
    "text": "OK. Let's start with a\nproblem-- rectangle packing.",
    "start": "2455931",
    "end": "2461130"
  },
  {
    "text": "And this is going to lead us\nto a whole bunch of other types of packing problems. So this is what you might\ncall packing rectangles",
    "start": "2461130",
    "end": "2467420"
  },
  {
    "text": "into a rectangle. So I'm given n rectangles, and\nI'm given a target rectangle.",
    "start": "2467420",
    "end": "2478360"
  },
  {
    "start": "2478360",
    "end": "2483789"
  },
  {
    "text": "So when I say I'm given a\nrectangle, what I really mean is I'm given the dimensions--\nthe width and the height-- as integers. We are usually going to assume\nall our numbers are integers,",
    "start": "2483789",
    "end": "2491230"
  },
  {
    "text": "as I said.  Do they fit? ",
    "start": "2491230",
    "end": "2498650"
  },
  {
    "text": "So what I'd like, in a solution,\nis to rotate and translate",
    "start": "2498650",
    "end": "2503809"
  },
  {
    "text": "the given rectangles\nso that they're disjointed from each\nother, they can't overlap, and they all fit inside\nthe target rectangle.",
    "start": "2503810",
    "end": "2511090"
  },
  {
    "text": "All right. So this might be the\ntarget rectangle. And then, I don't\nknow, maybe this",
    "start": "2511090",
    "end": "2516240"
  },
  {
    "text": "is my set of rectangles\nappropriately packed. ",
    "start": "2516240",
    "end": "2524810"
  },
  {
    "text": "So here maybe the answer is yes. If they don't fit inside\nthe target rectangle, the answer is no. This problem is\nstrongly NP-hard,",
    "start": "2524810",
    "end": "2532130"
  },
  {
    "text": "but I'm pretty sure we don't\nknow whether it's E and NP. ",
    "start": "2532130",
    "end": "2538880"
  },
  {
    "text": "So there are lots\nof open problems. I don't mean to indicate\neverything is known.",
    "start": "2538880",
    "end": "2544680"
  },
  {
    "text": "I should double check that\nthis is definitely not known, but I'm pretty sure it's open. Because of this\nrotation issue there",
    "start": "2544680",
    "end": "2550140"
  },
  {
    "text": "are kind of a lot of\nthings to worry about. So it's not clear\nhow efficiently you can encode a solution. Maybe you need a ton\nof bits of precision",
    "start": "2550140",
    "end": "2556710"
  },
  {
    "text": "to say how things are rotated. Here they're all rotated\nat the same angle. They may not be. Who knows.",
    "start": "2556710",
    "end": "2562170"
  },
  {
    "text": "So we will consider a special\ncase, which is exact packing.",
    "start": "2562170",
    "end": "2572290"
  },
  {
    "text": "This also makes for a\nstronger hardness result. So exact packing means\nthere are no gaps.",
    "start": "2572290",
    "end": "2578655"
  },
  {
    "text": " None of this stuff.",
    "start": "2578655",
    "end": "2585320"
  },
  {
    "text": "That's forbidden. So if you have no\ngaps and you look at a corner of the\nrectangle, that must mean there is a\nrectangle right there filling",
    "start": "2585320",
    "end": "2591903"
  },
  {
    "text": "the corner, which means\nthere's no rotation. Well, you could rotate\nby multiples of 90.",
    "start": "2591903",
    "end": "2597520"
  },
  {
    "text": "But just know there\nare four rotations. Well, I guess two for\nrectangles-- integer",
    "start": "2597520",
    "end": "2606809"
  },
  {
    "text": "times 90 degrees.  So then the problem is an\nNP, because also then you",
    "start": "2606810",
    "end": "2613946"
  },
  {
    "text": "can show at that\npoint-- because you have integer rectangles packing\ninto an integer rectangle-- by induction, the\ntranslations are integers.",
    "start": "2613946",
    "end": "2620960"
  },
  {
    "text": "Therefore, there are\nsuccinct encodings of them. ",
    "start": "2620960",
    "end": "2630099"
  },
  {
    "text": "OK. We don't have to do this,\nbut just to point out, this is one way to make\nthe problem in E and NP.",
    "start": "2630100",
    "end": "2635450"
  },
  {
    "text": "Now they are\nassisting solutions. So we're going to prove\nboth of these problems are strongly NP-hard.",
    "start": "2635450",
    "end": "2641280"
  },
  {
    "text": " I think I'll skip\nthe weak NP-hardness",
    "start": "2641280",
    "end": "2646570"
  },
  {
    "text": "proof because it's not really\nany harder-- no pun unintended.",
    "start": "2646570",
    "end": "2651810"
  },
  {
    "text": "So let's go there. ",
    "start": "2651810",
    "end": "2671029"
  },
  {
    "text": "So the basic idea again, we're\nreducing from 3-partition. ",
    "start": "2671030",
    "end": "2686940"
  },
  {
    "text": "So that means we're\ngiven, on any instance of 3-partition, n integers. We want to represent those\nintegers as rectangles.",
    "start": "2686940",
    "end": "2694160"
  },
  {
    "text": "So kind of the obvious way to\ndo that is we take each a i and we convert it\ninto a rectangle.",
    "start": "2694160",
    "end": "2699420"
  },
  {
    "text": "Let's say it's a i by 1. That seems pretty obvious. This is what you might call\nthe a i gadget, since we're",
    "start": "2699420",
    "end": "2706840"
  },
  {
    "text": "going to map this feature\nof our given instance to this feature of our\nconstructed instance.",
    "start": "2706840",
    "end": "2713961"
  },
  {
    "text": "All that would be\nleft at this point is what is the target rectangle,\nwhich I didn't give a name.",
    "start": "2713961",
    "end": "2721119"
  },
  {
    "text": "So let me call the\ntarget rectangle",
    "start": "2721120",
    "end": "2726330"
  },
  {
    "text": "B. I think that's what\nI used in my notes. Yep. ",
    "start": "2726330",
    "end": "2732890"
  },
  {
    "text": "So let's say B is going\nto be a rectangle.",
    "start": "2732890",
    "end": "2738444"
  },
  {
    "text": " What is the height\nof the rectangle?",
    "start": "2738445",
    "end": "2744411"
  },
  {
    "text": "AUDIENCE: n over 3. PROFESSOR: n over 3. Yes. Right.",
    "start": "2744412",
    "end": "2750039"
  },
  {
    "text": "And then the width? AUDIENCE: The sum\ndivided by n over 3. PROFESSOR: The target sum, t.",
    "start": "2750040",
    "end": "2756660"
  },
  {
    "start": "2756660",
    "end": "2764721"
  },
  {
    "text": "Cool. So the intent is that the\nrectangles will look something",
    "start": "2764721",
    "end": "2771660"
  },
  {
    "text": "like this. And always, however, if I\nfit three in here-- or maybe",
    "start": "2771660",
    "end": "2779190"
  },
  {
    "text": "I could do more\nthan three, but we know that won't happen with the\nactual 3-partition instances we get, because we can\nassume there are always",
    "start": "2779190",
    "end": "2785980"
  },
  {
    "text": "three of them-- but anyway,\nwe're not constraining there are only three. You put in however\nmany rectangles. Add up to exactly\nthe target sum.",
    "start": "2785980",
    "end": "2792371"
  },
  {
    "text": "Boom. You've got the target sum. And there's just enough\nspace for all of them if you pack them this way.",
    "start": "2792371",
    "end": "2798650"
  },
  {
    "text": "Question? AUDIENCE: Shouldn't we\nspecify that the a i rectangle is a i times n over 3 plus\n1 to make sure that we",
    "start": "2798650",
    "end": "2806394"
  },
  {
    "text": "can't accidentally rotate them? PROFESSOR: Yeah. So part of my confusion in\ndrawing this-- and I worry--",
    "start": "2806394",
    "end": "2812070"
  },
  {
    "text": "is you could take one of these\nrectangles and rotate it. And then this\nreduction is wrong. So this reduction is wrong.",
    "start": "2812070",
    "end": "2818920"
  },
  {
    "text": "So I will cheat and\nmake this epsilon, and then multiply\nthis by epsilon.",
    "start": "2818920",
    "end": "2825019"
  },
  {
    "text": "This is one way to fix it. Of course, now I have\nto scale everything up by 1 over epsilon. And I have to tell\nyou what epsilon is.",
    "start": "2825020",
    "end": "2830950"
  },
  {
    "text": "You were suggesting\nsome multiple of n, which is a good suggestion. I think as long as we make\nthis much smaller than 1,",
    "start": "2830950",
    "end": "2838510"
  },
  {
    "text": "then it's not\npossible to rotate, because these guys\nare length at least 1, because they're integers.",
    "start": "2838510",
    "end": "2844050"
  },
  {
    "text": "So if I tried to rotate, it has\nto be a multiple 90 degrees. So I think as long as this\nis strictly less than 1,",
    "start": "2844050",
    "end": "2849340"
  },
  {
    "text": "we are OK. I didn't change the\nintended solution. I just made everything narrower.",
    "start": "2849340",
    "end": "2856160"
  },
  {
    "text": "And so I just need to set\nepsilon less than 3 over n.",
    "start": "2856160",
    "end": "2862030"
  },
  {
    "text": "It would be that inequality. But I want integers, so I\nshould scale everything up",
    "start": "2862030",
    "end": "2868340"
  },
  {
    "text": "by n over 3. So just multiply all the numbers\nby n over 3, and you're done.",
    "start": "2868340",
    "end": "2874470"
  },
  {
    "text": "In fact, you can be\na little simpler. And I drew this\ndiagram long ago, so I might as well\nshow it to you.",
    "start": "2874470",
    "end": "2880545"
  },
  {
    "text": "You can just add n over\n3 to all your integers. That will also work,\nunder the assumption",
    "start": "2880545",
    "end": "2886240"
  },
  {
    "text": "that you can only take three\nnumbers and add them up. Then you will always be adding\n3 times n over 3 horizontally.",
    "start": "2886240",
    "end": "2893055"
  },
  {
    "text": " So they a i's here\nare the yellow part of these rectangles,\nand then we're",
    "start": "2893055",
    "end": "2899510"
  },
  {
    "text": "just adding this fixed\nn over 3 to all of them. So this is a 4, a 4, a\n4, a 4, a 5, 5, 5, 6, 7.",
    "start": "2899510",
    "end": "2906880"
  },
  {
    "text": "And that happens to\nbe a positive instance of 3-partition. There is a solution. This is one way to do it.",
    "start": "2906880",
    "end": "2913360"
  },
  {
    "text": "So we're just adding\nn overall here, because we have\n3 times n over 3. And the length of these\nis always smaller.",
    "start": "2913360",
    "end": "2924845"
  },
  {
    "text": " Rotation should not be possible,\nbecause each of these guys",
    "start": "2924845",
    "end": "2932340"
  },
  {
    "text": "is going to be length\nstrictly larger than n over 3 because we add\nan integer to n over 3-- a positive integer-- and\nthe height here is n over 3.",
    "start": "2932340",
    "end": "2939630"
  },
  {
    "text": "So that just barely works. Same thing, more\nor less, just this is scaling by a\nmultiplicative factor here.",
    "start": "2939630",
    "end": "2945700"
  },
  {
    "text": "We're doing an additive\nthing, because we have this luxury of\nknowing there are three items in every triple.",
    "start": "2945700",
    "end": "2951000"
  },
  {
    "text": "Cool. Rectangle packet. Question. AUDIENCE: This is a\nquestion about 3-partition. Is it assuming that they\nare positive integers?",
    "start": "2951000",
    "end": "2957170"
  },
  {
    "text": "PROFESSOR: Yes. All the integers are positive. ",
    "start": "2957170",
    "end": "2962730"
  },
  {
    "text": "You don't have to, but we can. So we will. Makes our life a lot easier.",
    "start": "2962730",
    "end": "2969434"
  },
  {
    "text": "Other questions?  OK.",
    "start": "2969434",
    "end": "2975710"
  },
  {
    "text": "Time for some puzzles. So I think I'll show you\nsome real life puzzles first.",
    "start": "2975710",
    "end": "2983050"
  },
  {
    "text": "There's this notion of\nan edge-matching puzzle, which goes back to the 1890s.",
    "start": "2983050",
    "end": "2988600"
  },
  {
    "text": "I believe this one is from\nthe late 1890s, early 1900s.",
    "start": "2988600",
    "end": "2993870"
  },
  {
    "text": "So it's one of the older ones. At least when I was growing\nup, we had these puzzle all over the place. So what's going on here is\nyou have physical triangles,",
    "start": "2993870",
    "end": "3002300"
  },
  {
    "text": "and these half frogs are drawn\non the edges of the triangles. And your goal is to pack\nall of these triangles",
    "start": "3002300",
    "end": "3008609"
  },
  {
    "text": "into the big triangle. That's easy. It's a regular triangulation.",
    "start": "3008610",
    "end": "3014410"
  },
  {
    "text": "But you need to half\nfrogs to match up. ",
    "start": "3014410",
    "end": "3019699"
  },
  {
    "text": "I don't know. The hind end of the white-- I'm\nsorry-- yellow-speckled frog",
    "start": "3019699",
    "end": "3026130"
  },
  {
    "text": "matches the front end of the\nyellow-black-speckled frog, as drawn here.",
    "start": "3026130",
    "end": "3032210"
  },
  {
    "text": "This is a valid solution, but\nif I rotated this tile 120 degrees, it's not\na valid solution",
    "start": "3032210",
    "end": "3038369"
  },
  {
    "text": "even though it's all hinds\nmatching to fronts and so on. OK? Rules clear?",
    "start": "3038370",
    "end": "3043770"
  },
  {
    "text": "So these are\nedge-matching puzzles. This is formulated\nin a different way. This is not a valid solution. The goal is to get these\ncolors to all match up.",
    "start": "3043770",
    "end": "3050650"
  },
  {
    "text": "So in general, you can think of\nthere being a color on an edge. And here it happens to be\ncomposed of these two colors.",
    "start": "3050650",
    "end": "3058020"
  },
  {
    "text": "And it would have to\nmatch both of the colors on the other side. So it's essentially like\nhaving a color on each edge.",
    "start": "3058020",
    "end": "3063574"
  },
  {
    "text": "Here, we also have a\ncolor on each edge, but we also have a sign, which\nis the front or the hind part of the frog.",
    "start": "3063574",
    "end": "3069440"
  },
  {
    "text": "There's the yellow frog, the\nred frog, the green frog, the orange frog. So in general, we're\ngoing to formulate this.",
    "start": "3069440",
    "end": "3079310"
  },
  {
    "text": "I'll get over here. ",
    "start": "3079310",
    "end": "3089280"
  },
  {
    "text": "OK. There are many types of these\npuzzles I'll try to capture.",
    "start": "3089280",
    "end": "3095140"
  },
  {
    "text": "It's not exactly\neither one of those. ",
    "start": "3095140",
    "end": "3104240"
  },
  {
    "text": "If you've ever studied\nsomething called Wang tiles, this is exactly that model.",
    "start": "3104240",
    "end": "3109810"
  },
  {
    "text": "So I'll just throw\nin the word there. But what we have\nare n unit squares.",
    "start": "3109810",
    "end": "3121789"
  },
  {
    "text": "Those are called the tiles. ",
    "start": "3121790",
    "end": "3126800"
  },
  {
    "text": "Each one has four\ncolors-- a, b, c, d.",
    "start": "3126800",
    "end": "3134740"
  },
  {
    "text": "So one per edge.",
    "start": "3134740",
    "end": "3149630"
  },
  {
    "text": " And you are also given\na target rectangle.",
    "start": "3149630",
    "end": "3160665"
  },
  {
    "text": "It's going to be integer,\nbecause these are unit squares. ",
    "start": "3160665",
    "end": "3167690"
  },
  {
    "text": "And you want to pack-- probably\nexactly pack so there are not going be any gaps-- the squares\ninto the rectangle with colors",
    "start": "3167690",
    "end": "3180910"
  },
  {
    "text": "matching. ",
    "start": "3180910",
    "end": "3187380"
  },
  {
    "text": "So whenever I have two\nsquares that share an edge,",
    "start": "3187380",
    "end": "3193289"
  },
  {
    "text": "the color that's\nwritten here better be the same color\nthat's written there. Those are the rules. If you're on the\nboundary, no restriction.",
    "start": "3193290",
    "end": "3200870"
  },
  {
    "text": "But if you're an interior\nedge, you restrict in that way. OK? This actually closely\nmatches what is currently",
    "start": "3200870",
    "end": "3207500"
  },
  {
    "text": "maybe the most famous\nedge-matching puzzle called Eternity II. This one is still unsolved.",
    "start": "3207500",
    "end": "3213750"
  },
  {
    "text": "Well, the creator\nhas a solution. And if you ever find it, or one\nof the many other solutions-- who knows-- you\nwin $2 million US.",
    "start": "3213750",
    "end": "3222089"
  },
  {
    "text": "So time to get rich. AUDIENCE: [INAUDIBLE]. ",
    "start": "3222090",
    "end": "3227580"
  },
  {
    "text": "PROFESSOR: Well, yeah. I guess that's the way\nto make the most money is first solve p equals NP.",
    "start": "3227580",
    "end": "3233455"
  },
  {
    "text": "And then solve\nEternity II, I guess. But you could easily solve this\npuzzle without p equals NP.",
    "start": "3233455",
    "end": "3239300"
  },
  {
    "text": "There are actually a lot of\nalmost solutions out there. I believe this is\none of the leaders.",
    "start": "3239300",
    "end": "3246210"
  },
  {
    "text": "This guy, Louis\nVerhaad, got-- so this is a complete solution\nwith all the pieces,",
    "start": "3246210",
    "end": "3253430"
  },
  {
    "text": "but not all the edges match. So it's hard to find\nthem, but here's one, for example, that mismatches. So I didn't explain, but\neverything is a square tile",
    "start": "3253430",
    "end": "3260220"
  },
  {
    "text": "here, and there's a\ndifferent shape and color. But it's basically a color from\na mathematical perspective. Have to match them all up.",
    "start": "3260220",
    "end": "3266020"
  },
  {
    "text": "Here he got 467 matches\nout of the 480 edges. And that won him\nalready $10,000.",
    "start": "3266020",
    "end": "3271490"
  },
  {
    "text": "And I believe it's found\nwith a computer-aided search. AUDIENCE: Is that-- AUDIENCE: [INTERPOSING VOICES].",
    "start": "3271490",
    "end": "3276581"
  },
  {
    "text": "AUDIENCE: That's\nnot the person who-- PROFESSOR: I don't\nknow for sure. I would guess that\nit's Louis's daughter.",
    "start": "3276581",
    "end": "3284069"
  },
  {
    "text": "Here's a different\nalmost solution where there are some missing\ntiles but everything matches.",
    "start": "3284070",
    "end": "3289160"
  },
  {
    "text": "And then at the bottom\nof his web page, you should check it out. It's funny. It says, \"And here is a\nsolution to Eternity II.\"",
    "start": "3289160",
    "end": "3294540"
  },
  {
    "text": "I looked at this\nfor a long time, and I was like I don't see any\nedge matches, but you guys are",
    "start": "3294540",
    "end": "3299890"
  },
  {
    "text": "smart, so you\nprobably know there's one other cheat you could\npossibly do in this puzzle.",
    "start": "3299890",
    "end": "3307735"
  },
  {
    "text": "AUDIENCE: Add Different tiles? PROFESSOR: Add different tiles? Maybe. Although these are\nnicely-printed tiles.",
    "start": "3307735",
    "end": "3313340"
  },
  {
    "text": "So I would guess he bought two\nsets and just mixed some parts.",
    "start": "3313340",
    "end": "3318540"
  },
  {
    "text": "I wrote a program to\ncheck yes, indeed, some tiles are repeated here. I forget exactly how many. 10 or 20 or something.",
    "start": "3318540",
    "end": "3325060"
  },
  {
    "text": "It's still pretty cool. It looks like it's done. AUDIENCE: [INAUDIBLE]. PROFESSOR: But there's no\ncomplete actual solution",
    "start": "3325060",
    "end": "3331549"
  },
  {
    "text": "using each piece exactly once. It's probably clear\nhere, but you only get one version of each square.",
    "start": "3331550",
    "end": "3340030"
  },
  {
    "text": "OK. So there's your motivation\nfor solving edge-matching. So you might wonder, oh, can\nI solve it in polynomial time?",
    "start": "3340030",
    "end": "3347790"
  },
  {
    "text": "And the answer is no\nunless p equals NP. And here we're going to use\nessentially rectangle packing",
    "start": "3347790",
    "end": "3356130"
  },
  {
    "text": "and this reduction. So how could I--\nagain, we're going",
    "start": "3356130",
    "end": "3361240"
  },
  {
    "text": "to reduce from 3-partition. How could I convert a\nnumber a i into something",
    "start": "3361240",
    "end": "3366500"
  },
  {
    "text": "like a rectangle\nusing edge-matching? ",
    "start": "3366500",
    "end": "3374579"
  },
  {
    "text": "I should probably copy over\nthe one that we had in the end, which was a i goes to\nn over 3 plus a i by 1,",
    "start": "3374580",
    "end": "3384859"
  },
  {
    "text": "because we want integers.  Yeah. AUDIENCE: So you make it so\nthat there is sort of one color,",
    "start": "3384859",
    "end": "3394563"
  },
  {
    "text": "and that's for\n[INAUDIBLE] most things. And that's [INAUDIBLE]\nkind of on the outside of each rectangle.",
    "start": "3394563",
    "end": "3400431"
  },
  {
    "text": "And then put together\neach rectangle. If you need like-- if the\nrectangle is like a i by 1,",
    "start": "3400431",
    "end": "3408869"
  },
  {
    "text": "you're going to need a i\nsquares, such that there's like one color for\nthat rectangle that is only used to join the other\nsquares of that rectangle.",
    "start": "3408870",
    "end": "3418384"
  },
  {
    "text": "PROFESSOR: Good. So we're going to convert this\nsomething by one rectangle into something\ndifferent squares.",
    "start": "3418384",
    "end": "3425060"
  },
  {
    "text": "And we're just going to\nsub-divide like that. And we're going to\nsurround all these edges",
    "start": "3425060",
    "end": "3430340"
  },
  {
    "text": "with the same color.  That will work.",
    "start": "3430340",
    "end": "3436020"
  },
  {
    "text": "AUDIENCE: And the interior\nedges [INAUDIBLE]. PROFESSOR: The interior\nedges-- all right. So we're going to\ntake a i, and we're",
    "start": "3436020",
    "end": "3442460"
  },
  {
    "text": "going to convert it into-- OK.",
    "start": "3442460",
    "end": "3451349"
  },
  {
    "text": "Don't make me draw all of them--\nthe width here, let's say, will be n over 3 plus a i.",
    "start": "3451350",
    "end": "3460105"
  },
  {
    "text": "And we're going to use\na special color-- I'll call it black-- on the outside. And this color I'm\ngoing to call--",
    "start": "3460105",
    "end": "3467060"
  },
  {
    "text": "I need some red so it's slightly\nvisible-- I'm going to call i.",
    "start": "3467060",
    "end": "3472770"
  },
  {
    "text": "This is going to be a\ndifferent color for each a i. ",
    "start": "3472770",
    "end": "3482121"
  },
  {
    "text": "This will require a\nlittle bit more work. You could also use a different--\nyou could use i1, i2, i3-- but I would really force this\nto go together in this way.",
    "start": "3482122",
    "end": "3491869"
  },
  {
    "text": "If I'm trying to be\nconservative on colors-- only use n of them-- then\nI will put those all i.",
    "start": "3491870",
    "end": "3498089"
  },
  {
    "text": "And then as long as none of\nthese matched to the boundary, I'm OK.",
    "start": "3498090",
    "end": "3503860"
  },
  {
    "text": "I guess even if I\nused the i1, i2, i3, it's possible some of\nthose match the boundary. And then weird\nstuff could happen.",
    "start": "3503860",
    "end": "3510450"
  },
  {
    "text": "But as long as\nall these i colors match up with each other, you\nhave to build this rectangle. And then we don't care about\nhow the rectangles are assembled",
    "start": "3510450",
    "end": "3517730"
  },
  {
    "text": "with respect to each other. So we're basically simulating\nthis reduction rectangle packing.",
    "start": "3517730",
    "end": "3523580"
  },
  {
    "text": "OK. The one I have drawn here\nis slightly different. I don't remember why\nwe did it this way.",
    "start": "3523580",
    "end": "3530360"
  },
  {
    "text": "This is [INAUDIBLE] work with\nMarty Dumaine, the cameramen. And here, just I guess to\nbe as simple as possible,",
    "start": "3530360",
    "end": "3539640"
  },
  {
    "text": "we made the width of each\nof the rectangles just a i. That has a problem\nthat you could rotate.",
    "start": "3539640",
    "end": "3545170"
  },
  {
    "text": "But to prevent rotation,\nwe use a different color horizontal and vertical. So the top edges and\nthe bottom edges all have the colored percent sign.",
    "start": "3545170",
    "end": "3551865"
  },
  {
    "text": "I think this is a limitation\nof the drawing program I was using at\nthe time actually. And dollar signs on the\nleft and right side.",
    "start": "3551865",
    "end": "3558170"
  },
  {
    "text": "And then we're going\nto build frame. This is what you might call\ninfrastructure for the proof. This is one gadget happens.",
    "start": "3558170",
    "end": "3564950"
  },
  {
    "text": "You just execute it once. This we execute for\neach of the a i's. We're just going to have\none copy of this big frame.",
    "start": "3564950",
    "end": "3570750"
  },
  {
    "text": "The goal the frame is to hide\nthe boundary so that none of these tiles could\nmatch with the boundary,",
    "start": "3570750",
    "end": "3576610"
  },
  {
    "text": "because when they\nmatch the boundary then you're breaking a rectangle\nin half and bad things could happen.",
    "start": "3576610",
    "end": "3582190"
  },
  {
    "text": "So instead, what\nwe're going to do is all of these capital\nletters on the outside-- and I ran out of letters and\nused a couple of symbols--",
    "start": "3582190",
    "end": "3589160"
  },
  {
    "text": "appear exactly once\nin the reduction. So they can't\nmatch anyone, which means they have to\nbe on the boundary.",
    "start": "3589160",
    "end": "3595670"
  },
  {
    "text": "So those guys have to\nbe on the boundary. And then all these other\ncolors appear exactly twice,",
    "start": "3595670",
    "end": "3603070"
  },
  {
    "text": "so you have to join these tiles\ntogether in exactly this way. And now the boundary is gone.",
    "start": "3603070",
    "end": "3609079"
  },
  {
    "text": "And we have set up dollar\nsigns on the left side and the right side, and\npercent signs on the top and the bottom sides.",
    "start": "3609080",
    "end": "3615530"
  },
  {
    "text": "In reality, these would\nbe whatever t wide and n",
    "start": "3615530",
    "end": "3620940"
  },
  {
    "text": "over 3 tall. This is just some\ndifferent notation. And that's it.",
    "start": "3620940",
    "end": "3626704"
  },
  {
    "text": "Now you're simulating\nrectangle packing. Question? AUDIENCE: Why do you need\ntwo rows at the bottom? PROFESSOR: So this two rows\nis to indicate, for whatever",
    "start": "3626704",
    "end": "3633982"
  },
  {
    "text": "reason, because in\nedge-matching puzzles, usually the target shape is\nnot a rectangle, but a square. And we wanted the\nstronger result",
    "start": "3633982",
    "end": "3639710"
  },
  {
    "text": "at packing unit\nsquares into a square with edge-matching\nresults E as NP-hard. So the point here is\nyou just add however",
    "start": "3639710",
    "end": "3646690"
  },
  {
    "text": "many rows or columns you\nneed to make it a square. Yep. Good question. Jason? AUDIENCE: So your different\nsymbols, I believe,",
    "start": "3646690",
    "end": "3653810"
  },
  {
    "text": "are also to let you build this\ninto the rectangle later on. Otherwise, you'll run into\nissues with rotating things.",
    "start": "3653810",
    "end": "3660660"
  },
  {
    "text": "PROFESSOR: We'll get there. Yeah. So I have different\nsymbols here and here in order to prevent rotation.",
    "start": "3660660",
    "end": "3666020"
  },
  {
    "text": "That's right. Instead of making them longer. I could've, instead,\nmade these longer like we had with\nthe rectangle thing, but I guess, at the\ntime, I wasn't thinking",
    "start": "3666020",
    "end": "3672809"
  },
  {
    "text": "of teaching a class about this. So I didn't reuse my previous\nreduction for this one. But oh, well.",
    "start": "3672809",
    "end": "3679626"
  },
  {
    "text": "Yeah. But the reason there are\ndollar signs in there like red or some actual\ncolor is because probably",
    "start": "3679626",
    "end": "3689510"
  },
  {
    "text": "black and white printing\nwas more common then. OK. Cool.",
    "start": "3689510",
    "end": "3695030"
  },
  {
    "text": "That was one puzzle. And now key point. What if we did this\nreduction from partition?",
    "start": "3695030",
    "end": "3702560"
  },
  {
    "text": "So with partition, instead\nof having n over three groups here, we just have two groups?",
    "start": "3702560",
    "end": "3708010"
  },
  {
    "text": "And same thing. Why not do that? AUDIENCE: So that would\nbe a weakly NP-hard.",
    "start": "3708010",
    "end": "3713317"
  },
  {
    "text": "PROFESSOR: That would be\na weak NP-hard reduction. Now, this problem here--\nedge-matching puzzle, n unit squares of four\ncolors-- are there",
    "start": "3713317",
    "end": "3720000"
  },
  {
    "text": "any numbers in this problem? AUDIENCE: 4 PROFESSOR: Other than 4 and n?",
    "start": "3720000",
    "end": "3727110"
  },
  {
    "text": "Are there any numbers\nthat are inputs? AUDIENCE: I guess\nthe colors have to be represented as numbers.",
    "start": "3727110",
    "end": "3732460"
  },
  {
    "text": "PROFESSOR: The\ncolors do you have to be represented as numbers,\nbut this is sort of a sideline.",
    "start": "3732460",
    "end": "3739190"
  },
  {
    "text": "Usually, when we're\ntalking about colors, all we care about is whether\nthe colors are equal or not. So you don't normally\nthink of those as numbers.",
    "start": "3739190",
    "end": "3747270"
  },
  {
    "text": "You can think of\nthem as vertices in a graph or something. I mean, they're more like\ncombinatorial objects. You're never adding\ntwo colors together.",
    "start": "3747270",
    "end": "3754600"
  },
  {
    "text": "Yes? AUDIENCE: The other\npoint is that the number of different colors\nthat you can get is at most 4 times n\nbecause [INAUDIBLE].",
    "start": "3754600",
    "end": "3759965"
  },
  {
    "text": "PROFESSOR: The number of\ncolors is in most 4 times n. Yeah, you could write down\na color as 2 to 2 to the n, but why?",
    "start": "3759965",
    "end": "3766319"
  },
  {
    "text": "It's supposed to be\nan efficient encoding. So there are really\nno numbers here. So it doesn't even make\nsense to say this problem is",
    "start": "3766320",
    "end": "3772290"
  },
  {
    "text": "strongly NP-hard. But even worse, if I\nstarted with 2-partition, and I did this reduction exactly\nas drawn but not as tall,",
    "start": "3772290",
    "end": "3780680"
  },
  {
    "text": "I could still make it a square,\nbut everything would break.",
    "start": "3780680",
    "end": "3786210"
  },
  {
    "text": "Because for 2-partition to\nbe hard, those numbers-- the a i's-- have to be\nexponential in value.",
    "start": "3786210",
    "end": "3792890"
  },
  {
    "text": "If I have an\nexponential value a i, when I convert it\ninto a rectangle, or actually I convert it\ninto a bunch of tiles,",
    "start": "3792890",
    "end": "3800260"
  },
  {
    "text": "I will have\nexponentially many tiles. This construction will\nbe of exponential size.",
    "start": "3800260",
    "end": "3805509"
  },
  {
    "text": "So I will get exponentially\nmany different colors on the boundary. So that's very bad.",
    "start": "3805509",
    "end": "3810514"
  },
  {
    "text": "Even if you're\nclever and you say, oh, well, these tiles\nare all the same, so maybe I'll encode\nthem efficiently and say there's an exponentially\nmany of this one tile.",
    "start": "3810514",
    "end": "3817849"
  },
  {
    "text": "The ones in the boundary\nare all different. So it's not a valid reduction. You should always\ntake a problem that's",
    "start": "3817849",
    "end": "3822950"
  },
  {
    "text": "supposed to run\nin polynomial time and produce a result\nof polynomial size. So if I start with\nsomething where",
    "start": "3822950",
    "end": "3828910"
  },
  {
    "text": "the input is\npolynomial size but it has exponentially\nlarge a i's, I'd get an exponential size puzzle,\nwhich is boring to solve.",
    "start": "3828910",
    "end": "3838670"
  },
  {
    "text": "I don't know. It's not a valid\nNP-hardness reduction. This is why we want to\nstart from 3-partition.",
    "start": "3838670",
    "end": "3845200"
  },
  {
    "text": "Because then I know even\nif what I'm doing here is representing\nthe a i's in unary. I take the a i and\nsaid, OK, I'm going",
    "start": "3845200",
    "end": "3850850"
  },
  {
    "text": "to have that many square tiles. But that is exactly\nunary representation. And we know with 3-partition\nthat will have polynomial size.",
    "start": "3850850",
    "end": "3857520"
  },
  {
    "text": "And so we're good. This is why we care\nabout strong NP-hardness so much, because a lot\nof puzzles you can only",
    "start": "3857520",
    "end": "3863550"
  },
  {
    "text": "represent numbers in unary. Then you're forced to\nwork with 3-partition. ",
    "start": "3863550",
    "end": "3869589"
  },
  {
    "text": "OK. Next puzzle is signed\nedge-matching puzzles",
    "start": "3869590",
    "end": "3876069"
  },
  {
    "text": "like the lizards. Suppose same set up,\nbut now the colors",
    "start": "3876070",
    "end": "3881193"
  },
  {
    "text": "aren't supposed to be equal. They're supposed\nto be opposites. So I'm just going to\nmodify this diagram,",
    "start": "3881194",
    "end": "3886839"
  },
  {
    "text": "and I will use capital letters\nto denote tails of lizards, and lowercase letters to\nrepresent heads of lizards.",
    "start": "3886840",
    "end": "3893660"
  },
  {
    "text": "And little b only\nmatches capital B. It does not match little b. You can't put two heads\ntogether or two tails together.",
    "start": "3893660",
    "end": "3899630"
  },
  {
    "text": "Well, you can\nreduce these things, which are called unsigned\nedge-matching puzzles,",
    "start": "3899630",
    "end": "3906470"
  },
  {
    "text": "to these things,\nwhich are called signed edge-matching puzzles,\nwith this easy gadget.",
    "start": "3906470",
    "end": "3914840"
  },
  {
    "text": "If you have a tile\nwith, let's just say, colors ABCD-- some\nof them might be equal-- I'm going to replace\nthat one tile with these four",
    "start": "3914840",
    "end": "3923560"
  },
  {
    "text": "tiles and scale everything\nup by a factor of 2-- scale the target shape\nby a factor of 2.",
    "start": "3923560",
    "end": "3929250"
  },
  {
    "text": "These colors appear exactly once\nwith each sign, and so again,",
    "start": "3929250",
    "end": "3936160"
  },
  {
    "text": "because there's a frame and\nall the boundary is eaten up, you're forced to match\nthese guys to each other.",
    "start": "3936160",
    "end": "3941990"
  },
  {
    "text": "And therefore you're forced\nto make this 2 by 2 tile. And so that 2 by\n2 tile is supposed",
    "start": "3941990",
    "end": "3948730"
  },
  {
    "text": "to represent this 1 by 1 tile. And the claim is signs\nno longer matter,",
    "start": "3948730",
    "end": "3953820"
  },
  {
    "text": "because we put little a, big\nA, little b, big B, little c big C, and so on.",
    "start": "3953820",
    "end": "3958850"
  },
  {
    "text": "So if I took another\ntile like over here, and it has something\nlike capital D,",
    "start": "3958850",
    "end": "3965010"
  },
  {
    "text": "lowercase d, that's\ngoing to match with this lowercase b lowercase\nb, if and only if b equals d.",
    "start": "3965010",
    "end": "3971430"
  },
  {
    "text": "So if the original\ncolors are equal, the resulting colors will\nbe equal and opposite.",
    "start": "3971430",
    "end": "3976950"
  },
  {
    "text": "So it'll be the same\nletter of the alphabet, but with opposite signs, and\nso everything will match up,",
    "start": "3976950",
    "end": "3982960"
  },
  {
    "text": "because this capital\nletter match here, and this lowercase\nletter will match there. Is that clear?",
    "start": "3982960",
    "end": "3988890"
  },
  {
    "text": "So it really becomes\nthe same puzzle, and this one's going to be\nsolvable only if this one is.",
    "start": "3988890",
    "end": "3994010"
  },
  {
    "text": "So we get strong--\nwell, just NP-hardness of signed edge-matching puzzles.",
    "start": "3994010",
    "end": "3999290"
  },
  {
    "text": "Cool. Next puzzle. These were all on\nthe same paper. It was a fun paper.",
    "start": "3999290",
    "end": "4005010"
  },
  {
    "text": "This is even older. Jigsaw puzzles. This is not the\noldest jigsaw puzzles. It's one of the newest.",
    "start": "4005010",
    "end": "4010200"
  },
  {
    "text": "It's our course poster\nturned into a jigsaw puzzle. If you want to make your own\njigsaw puzzles, go there. They go back to the\n1760s when they were made",
    "start": "4010200",
    "end": "4017230"
  },
  {
    "text": "with jigsaws, hence the name. But basically, we\nhave square pieces,",
    "start": "4017230",
    "end": "4023200"
  },
  {
    "text": "and each side of\nthe-- I'll assume that's a special kind\nof jigsaw puzzle, most common-- each edge\ncan either be straight.",
    "start": "4023200",
    "end": "4030400"
  },
  {
    "text": "That means it's on the boundary. It can be a pocked or a tab. And each pocket and tab is\nslightly differently shaped,",
    "start": "4030400",
    "end": "4038710"
  },
  {
    "text": "although maybe not on this\npicture, usually they are. I'm going to allow that some\nof the pockets and the tabs",
    "start": "4038710",
    "end": "4045820"
  },
  {
    "text": "have the same shape. That's what you might\ncall ambiguous mates. Most jigsaw puzzles\nsold in the world do not",
    "start": "4045820",
    "end": "4051510"
  },
  {
    "text": "have ambiguous mates,\nbut let's say they do. And to make it\nNP-hardcore, there",
    "start": "4051510",
    "end": "4056915"
  },
  {
    "text": "is no image on the pieces. It's just a white puzzle. Now those are sold. You can buy all white or are\nall single color puzzles.",
    "start": "4056915",
    "end": "4065779"
  },
  {
    "text": " But usually they don't\nhave ambiguous mates. That's like the ultimate combo.",
    "start": "4065780",
    "end": "4071709"
  },
  {
    "text": "If you don't assume\neither of those things, then the problem is easy. So we don't care about that. But our paper is about how\nto solve jigsaw puzzles",
    "start": "4071709",
    "end": "4077880"
  },
  {
    "text": "in the practical case. But in our situation,\nI mean, that basically",
    "start": "4077880",
    "end": "4083450"
  },
  {
    "text": "is edge-matching\npuzzles with science. This is actually probably why\nI care about signed puzzles",
    "start": "4083450",
    "end": "4089340"
  },
  {
    "text": "the most. I have lowercase letters. Those are going to\ncorrespond to pockets. I have uppercase letters.",
    "start": "4089340",
    "end": "4095070"
  },
  {
    "text": "Those are going to\ncorrespond to tabs. And of course, a tab\nmust meet a pocket, same as a lowercase letter\nmust be an uppercase letter.",
    "start": "4095070",
    "end": "4102278"
  },
  {
    "text": "And so that is the same thing. I would like my\ntarget shape to be a square because that's clean.",
    "start": "4102279",
    "end": "4109068"
  },
  {
    "text": "So whenever I have a\nunique color, which is one that I know has to\nbe on the boundary, I'm going to make\nit a flat thing.",
    "start": "4109069",
    "end": "4114666"
  },
  {
    "text": "And then I know in this\nseries of reductions, I should draw this\nseries of reductions, because it's kind of fun. ",
    "start": "4114666",
    "end": "4126080"
  },
  {
    "text": "So far I kind of started\nwith rectangle packing.",
    "start": "4126080",
    "end": "4131460"
  },
  {
    "text": "I guess technically we\nstarted with 3-partition. I'll draw it like this. ",
    "start": "4131460",
    "end": "4139259"
  },
  {
    "text": "We reduce that to\nedge-matching puzzles.",
    "start": "4139260",
    "end": "4147989"
  },
  {
    "text": "Then we reduce that to\nsigned edge-matching puzzles.",
    "start": "4147990",
    "end": "4153633"
  },
  {
    "start": "4153634",
    "end": "4160859"
  },
  {
    "text": "Then we reduced that\nto jigsaw puzzles. And if you follow this\nseries of reductions",
    "start": "4160859",
    "end": "4167318"
  },
  {
    "text": "and see what you get, we\nknow that the boundary shape will be a square because that\nframe gadget is a square.",
    "start": "4167319",
    "end": "4173710"
  },
  {
    "text": "And if we make all the\nunique things flat, then the shape will\nactually be square. There's a reason I'm drawing\nit this way, because we",
    "start": "4173710",
    "end": "4179920"
  },
  {
    "text": "have another one. So the next puzzle--\nyou might ask well,",
    "start": "4179920",
    "end": "4186645"
  },
  {
    "text": "if Eternity II was an\nedge-matching puzzle, what was Eternity I? Well, it's something called\na polyform packing puzzle.",
    "start": "4186645",
    "end": "4194159"
  },
  {
    "text": "These are-- if you take\nan equilateral triangle and cut in half like\nthat, that's a shape.",
    "start": "4194160",
    "end": "4200980"
  },
  {
    "text": "If you take k copies\nof that shape, join them edge to edge\nalong matching edge lengths,",
    "start": "4200980",
    "end": "4209132"
  },
  {
    "text": "you can get all these shapes. It's like Tetris, but\ninstead of the squares you start with that shape and\nyou join a bunch more of them",
    "start": "4209132",
    "end": "4215400"
  },
  {
    "text": "together. I don't know exactly how many. They may not even be\nall the same area. And your goal is to fit\ninside this big dodecagon",
    "start": "4215400",
    "end": "4222770"
  },
  {
    "text": "or something. This was solved. One million pounds were\nacquired by two people.",
    "start": "4222770",
    "end": "4231735"
  },
  {
    "text": "I think they were\nmathematicians, Alex and Oliver, in 2000.",
    "start": "4231735",
    "end": "4237000"
  },
  {
    "text": "So actually quite soon\nafter the puzzle was posed, I think within less than a year.",
    "start": "4237000",
    "end": "4242270"
  },
  {
    "text": "So there were articles about how\nthe insurance company was not",
    "start": "4242270",
    "end": "4247610"
  },
  {
    "text": "happy. That's why you get insured\nagainst a puzzle being solved, I guess. But in Eternity II, as a\nconsequence, it is much harder.",
    "start": "4247610",
    "end": "4255830"
  },
  {
    "text": "So no one had solved\nit yet, but it will happen someday I'm sure. So this gives you a clear sense\nof what the shapes look like.",
    "start": "4255830",
    "end": "4263300"
  },
  {
    "text": "So I want to prove these puzzles\nare NP-hard also by reduction from jigsaw puzzles.",
    "start": "4263300",
    "end": "4270840"
  },
  {
    "text": "So let's just bring\nup the picture. So we just did this reduction. It actually works in both ways.",
    "start": "4270840",
    "end": "4277260"
  },
  {
    "text": "They're really the same puzzle. This does not work so\neasily in both ways. But I'm going to\ntake a jigsaw piece.",
    "start": "4277260",
    "end": "4283920"
  },
  {
    "text": "I'm going to turn it into\nroughly a square made up of little squares. I'm not going to work\non the half triangles,",
    "start": "4283920",
    "end": "4289979"
  },
  {
    "text": "although I think it\nwouldn't be any harder. It's a lot easier to\nthink about square puzzles more like Tetris.",
    "start": "4289979",
    "end": "4295159"
  },
  {
    "text": "These are polyominos. So polyomino packing\nis this type of puzzle. They also exist, but no one\nhas won one million pounds",
    "start": "4295160",
    "end": "4302520"
  },
  {
    "text": "from them. So that's why I showed Eternity. So almost a square, but then\nin the middle of the edge",
    "start": "4302520",
    "end": "4308020"
  },
  {
    "text": "we're going to write in binary\nwhat this shape was here. I mean, if there was a color\nover here and a shape here,",
    "start": "4308020",
    "end": "4318440"
  },
  {
    "text": "all we care about is whether\nthey're the same or different. So there's only 4n\ndifferent colors out there.",
    "start": "4318440",
    "end": "4325920"
  },
  {
    "text": "So we're going to\ntake log of 4n bits and write them in this way. And if it was indented,\nwhenever we have a 1,",
    "start": "4325920",
    "end": "4332900"
  },
  {
    "text": "we're going to indent here. And if it's a tab instead of a\npocket, wherever we have a 1,",
    "start": "4332900",
    "end": "4338530"
  },
  {
    "text": "we're going to outdent. OK. So these are all\ndifferent codes.",
    "start": "4338530",
    "end": "4345860"
  },
  {
    "text": "And so none of them fit\ntogether, for example. And let's see.",
    "start": "4345860",
    "end": "4352750"
  },
  {
    "text": "Does anything match up? AUDIENCE: Yes. PROFESSOR: This one\nmatches with this one,",
    "start": "4352750",
    "end": "4358920"
  },
  {
    "text": "because if I rotate it around,\nstick it on, it will match up. So you have to make sure you get\nthe orientations to the codes",
    "start": "4358920",
    "end": "4365230"
  },
  {
    "text": "all right, but you can do this. And two things will\nfit together and make a nice clean seem, if and only\nif the original colors matched.",
    "start": "4365230",
    "end": "4373620"
  },
  {
    "text": "And so this\nrepresents that puzzle where we've blown everything\nup by like a logarithmic factor",
    "start": "4373620",
    "end": "4382099"
  },
  {
    "text": "in each dimension. But the number of pieces is\nstaying the same, in a sense.",
    "start": "4382100",
    "end": "4389780"
  },
  {
    "text": "So that was this reduction\nto polyomino packing. ",
    "start": "4389780",
    "end": "4399640"
  },
  {
    "text": "For fun, we close the loop, and\nreduce from polyomino packing to edge-matching in this way.",
    "start": "4399640",
    "end": "4406480"
  },
  {
    "text": "So we're going to\ntake our polyomino, carve it up into\nlittle squares, turn them into edge-matching puzzle.",
    "start": "4406480",
    "end": "4411940"
  },
  {
    "text": "And here I actually\nwant to allow rotation, so I'm going to change these\ncolors to all percent signs.",
    "start": "4411940",
    "end": "4418080"
  },
  {
    "text": "And now it's just the\nsame puzzle again. So we have to use\nthe frame again. And so if you want,\nyou could just",
    "start": "4418080",
    "end": "4424266"
  },
  {
    "text": "keep following these reductions\nover and over and over. I think every time you do it,\nyou increase the scale factor by like a log factor.",
    "start": "4424266",
    "end": "4431350"
  },
  {
    "text": "But it's kind of fun. I mean, it really\nshows these puzzles are very close to\nidentical in that",
    "start": "4431350",
    "end": "4437730"
  },
  {
    "text": "we didn't have to blow up\nthe puzzle size by very much to go from one\npuzzle to the next. So usually we're just thinking\nabout polynomial blow up here.",
    "start": "4437730",
    "end": "4445137"
  },
  {
    "text": "We have a very small\nnotion of blowup, which is some tight sense\nin which these puzzles are almost the same.",
    "start": "4445137",
    "end": "4452040"
  },
  {
    "text": "OK. End of paper. A fun open problem\nis this reduction",
    "start": "4452040",
    "end": "4461720"
  },
  {
    "text": "used log n by log n-- order\nlog n by log n pieces. What if your pieces\nonly have area log n?",
    "start": "4461720",
    "end": "4470020"
  },
  {
    "text": "So maybe they're root log n by\nroot log n or something that. I'm sure it should still be in\nNP-hard, but you never know.",
    "start": "4470020",
    "end": "4477210"
  },
  {
    "text": "For example, they're\nconstant size. ",
    "start": "4477210",
    "end": "4484239"
  },
  {
    "text": "Actually, well, let's say,\nif they're size 2, its easy. Leave it at that even if\nthe shape is very messy.",
    "start": "4484240",
    "end": "4490340"
  },
  {
    "text": "But if there are also 2\nby 2 blocks it's easy. So clearly small\nshapes are too easy. But probably logarithmic\narea is where",
    "start": "4490340",
    "end": "4496460"
  },
  {
    "text": "it starts to get interesting. I don't know. What about log, log area? That's probably neither NP-hard\nnor polynomial, but oh, well.",
    "start": "4496460",
    "end": "4504966"
  },
  {
    "text": "Cool. ",
    "start": "4504966",
    "end": "4510219"
  },
  {
    "text": "So I want to talk about one\nmore problem-- one more hardness",
    "start": "4510220",
    "end": "4515710"
  },
  {
    "text": "proof in this similar vein.",
    "start": "4515710",
    "end": "4520870"
  },
  {
    "text": "It's about packing. I already erased\npacking rectangles into rectangles or\nrectangles into a square.",
    "start": "4520870",
    "end": "4528030"
  },
  {
    "text": "What about squares\ninto a square? I don't know if you can tell\nif that's a square and not",
    "start": "4528030",
    "end": "4533700"
  },
  {
    "text": "a rectangle. OK. This is a nice paper. We've used it for other hardness\nproofs, which we'll probably",
    "start": "4533700",
    "end": "4540855"
  },
  {
    "text": "talk about next class. So I'm given a bunch of squares,\nand I'm given a target square. Do these squares fit in there?",
    "start": "4540855",
    "end": "4546870"
  },
  {
    "text": "And again, we will\nprobably use exact-- well, initially we won't\nbe exact packing.",
    "start": "4546870",
    "end": "4552400"
  },
  {
    "text": "But let's say that\nthe squares can only rotate by a multiple of 90. In other words,\nthey can't rotate.",
    "start": "4552400",
    "end": "4559090"
  },
  {
    "text": "We will fix that by\nmaking exact packing. Why don't I jump\nto the reduction?",
    "start": "4559090",
    "end": "4567530"
  },
  {
    "text": "The heart of the reduction\nis this idea-- we're just going to add a big number here. I am going to use capital\nB for the big number.",
    "start": "4567530",
    "end": "4574310"
  },
  {
    "text": "That's what's in the paper. This is a paper from 1990. Motivation here is you have a\nbig grid supercomputer, which",
    "start": "4574310",
    "end": "4582200"
  },
  {
    "text": "were popular in\nthe '80s and '90s. And you have a job, which was\na square grid of processors,",
    "start": "4582200",
    "end": "4588550"
  },
  {
    "text": "let's say. And you want to execute\nthem all in parallel, but they're not\nallowed to overlap, because that would slow\nyour supercomputing down.",
    "start": "4588550",
    "end": "4595520"
  },
  {
    "text": "But you are allowed\ngaps, let's say. So I'm just going to take\neach of my a i numbers,",
    "start": "4595520",
    "end": "4602930"
  },
  {
    "text": "add this huge number to it. So they're all\nroughly the same size. This is the trick we did\nat the beginning of class",
    "start": "4602930",
    "end": "4609053"
  },
  {
    "text": "with the 3-partition. All right. All these numbers-- all these\nsizes are almost the same. I've drawn them quite different,\nbut imagine they're just",
    "start": "4609053",
    "end": "4615485"
  },
  {
    "text": "like tiny fluctuations. And then I make the\nheight of this rectangle. For whatever reason I\ntransposed my image.",
    "start": "4615485",
    "end": "4622010"
  },
  {
    "text": "That's probably why I\nwas confused earlier. And I just make the height\nthree times the big number--",
    "start": "4622010",
    "end": "4628050"
  },
  {
    "text": "because I want three pieces\nto come together-- plus t, my target sum of the a i's. So this is a huge thing\nplus a super tiny thing.",
    "start": "4628050",
    "end": "4635659"
  },
  {
    "text": "But what it's saying is\nwell, you could have slop. They're almost the\nsame size, but there's that little bit of extra.",
    "start": "4635660",
    "end": "4641510"
  },
  {
    "text": "And that little bit of extra\nhas to add up to exactly t. So this is one triple with\nthe desired target sum.",
    "start": "4641510",
    "end": "4647989"
  },
  {
    "text": "And then I want to get\nn over three of them. Now here's where things\nget a little dicey.",
    "start": "4647990",
    "end": "4653160"
  },
  {
    "text": "You say, OK, let's just\nsay I take the largest one, or actually I'll go all\nthe way up to B plus t.",
    "start": "4653160",
    "end": "4659155"
  },
  {
    "text": "I know that every number\nI have is smaller than t, because I just saw the\nsum of three of them is t.",
    "start": "4659155",
    "end": "4664850"
  },
  {
    "text": "So I'm always going\nto have a gap here. And let's say I just\npacked the next three there and then the next three there.",
    "start": "4664850",
    "end": "4670600"
  },
  {
    "text": "And so I'll leave enough\nroom that even with the slop I could fit everything in. So each one is B plus t, and\nthe number of them is n over 3.",
    "start": "4670600",
    "end": "4677870"
  },
  {
    "text": "So that'll be the\nwidth of my rectangle. Looks like a lot\nof slop, but that's because I drew this with the\nsquares very different in size.",
    "start": "4677870",
    "end": "4685050"
  },
  {
    "text": "If we compute the\namount of slop,",
    "start": "4685050",
    "end": "4690579"
  },
  {
    "text": "the maximum, if you\nlook at this distance,",
    "start": "4690580",
    "end": "4696110"
  },
  {
    "text": "it's at most t, certainly. Even if a i were 0,\nwhich is not allowed,",
    "start": "4696110",
    "end": "4701260"
  },
  {
    "text": "then this distance would be t. So it's going to be\neven smaller than that. But the gaps here\nare always at most t.",
    "start": "4701260",
    "end": "4708170"
  },
  {
    "text": "So we can take-- so\nthis is total slop",
    "start": "4708170",
    "end": "4717650"
  },
  {
    "text": "is t times the height.",
    "start": "4717650",
    "end": "4723640"
  },
  {
    "text": "So that was like the width\nof one sliver of slop, and then the height\nis 3B plus t.",
    "start": "4723640",
    "end": "4728659"
  },
  {
    "start": "4728660",
    "end": "4734234"
  },
  {
    "text": "And then times n over\n3, because there's n over 3 of those things. And hopefully this works.",
    "start": "4734234",
    "end": "4741320"
  },
  {
    "text": "I want to say this is\nless than B squared if B is bigger than t times n.",
    "start": "4741320",
    "end": "4753710"
  },
  {
    "text": "3s cancel. So if B is, I think\nthis term won't matter, because B is going\nto be bigger than t.",
    "start": "4753710",
    "end": "4759870"
  },
  {
    "text": "So maybe put a 2 there\nfor extra safety.",
    "start": "4759870",
    "end": "4765210"
  },
  {
    "text": "Then you're totally dwarfed. So just dividing\nboth sides by B we're getting 3 times t\ntimes n over part 3.",
    "start": "4765210",
    "end": "4772050"
  },
  {
    "text": "That's 2 times n. OK. Cool. So the point is the\ntotal area of slop",
    "start": "4772050",
    "end": "4778544"
  },
  {
    "text": "that I have here is less\nthan a single square, because a single square\nis even bigger than this. So you're not going to\nbe able to pack anymore",
    "start": "4778544",
    "end": "4784910"
  },
  {
    "text": "squares, and that's\na vague argument, but enough hand-waving\nlater, and you've",
    "start": "4784910",
    "end": "4791710"
  },
  {
    "text": "proved that, in fact, any\npacking of these squares will give you 3-partition. That requires more\nwork, but this is",
    "start": "4791710",
    "end": "4799600"
  },
  {
    "text": "some intuition why it is true. OK.",
    "start": "4799600",
    "end": "4804800"
  },
  {
    "text": "So this was actually packing\nsquares into a rectangle. But that wasn't the\nproblem I started with.",
    "start": "4804800",
    "end": "4810130"
  },
  {
    "text": "I wanted to pack\nsquares into a square. So for that you need an\ninfrastructure gadget",
    "start": "4810130",
    "end": "4815579"
  },
  {
    "text": "like the frame that\nwe made before. And this is kind of acute\nnumber theory-ish trick.",
    "start": "4815580",
    "end": "4822920"
  },
  {
    "text": "I'm going to take\nsome integer x. We'll choose it later. It's just going to be big\nenough-- something like n.",
    "start": "4822920",
    "end": "4829190"
  },
  {
    "text": "And we have one\ngiant square, which is x times x plus 1 minus 1.",
    "start": "4829190",
    "end": "4835080"
  },
  {
    "text": "But they're all squares,\nso by the same amount. And then we're going to take\nthese medium-sized squares",
    "start": "4835080",
    "end": "4840305"
  },
  {
    "text": "of size x plus 1 and the\nsmall squares-- so much smaller-- of size x.",
    "start": "4840305",
    "end": "4845469"
  },
  {
    "text": "And because this\nis just one smaller than what it's supposed\nto be-- I mean, if it was x times x plus 1 it\nwould sort of come to here.",
    "start": "4845470",
    "end": "4855300"
  },
  {
    "text": "So when you pack these guys up\nyou go just one too far there. But there's exactly\nenough room for one more.",
    "start": "4855300",
    "end": "4861940"
  },
  {
    "text": "If I put x plus one\nextra, this is x. That's the one, and so on.",
    "start": "4861940",
    "end": "4868110"
  },
  {
    "text": "So this leaves, as\na gap, a rectangle. Now this is not\nthe only solution",
    "start": "4868110",
    "end": "4873810"
  },
  {
    "text": "these guys could\nslide down, but you can show that will only\nmake your life harder. And the paper does that.",
    "start": "4873810",
    "end": "4879770"
  },
  {
    "text": "That's sort of the\neasy part of the proof. And so now you're\nleft with a rectangle, which is 1 by this thing.",
    "start": "4879770",
    "end": "4887210"
  },
  {
    "text": "You multiply everything\nby the 3B plus t,",
    "start": "4887210",
    "end": "4895020"
  },
  {
    "text": "because that was what we\nwanted one of our dimensions to be-- the smaller one. So that scaled up the rectangle.",
    "start": "4895020",
    "end": "4901530"
  },
  {
    "text": "And then the horizontal-- the\nwidth may not match exactly. But if there's too\nmuch space here,",
    "start": "4901530",
    "end": "4907592"
  },
  {
    "text": "and let me just set\nx to be large enough, then there will be extra space. And just throw in a\nbunch of B by B blocks",
    "start": "4907592",
    "end": "4912946"
  },
  {
    "text": "there to fill up\nthe extra space. So you can figure out how\nmuch extra space there is and fill it in.",
    "start": "4912946",
    "end": "4917960"
  },
  {
    "text": "So they you go-- packing\nsquares into a square. And this is strong\nNP-hardness of this. Even when the squares are\nonly of polynomial area,",
    "start": "4917960",
    "end": "4925770"
  },
  {
    "text": "this problem is hard,\nwhich is actually the case you care about when\neach of these 1 by 1 squares is a processor.",
    "start": "4925770",
    "end": "4931940"
  },
  {
    "text": "Now this is not exact packing,\nand so you might wonder oh, what if I rotate the squares,\nand then crazy things",
    "start": "4931940",
    "end": "4937040"
  },
  {
    "text": "could happen. Probably not, but you\ncould also just compute how much extra slop\nthere is, because you",
    "start": "4937040",
    "end": "4943013"
  },
  {
    "text": "know the area of\nthe input squares, and you know the area\nof the target square. And just add a whole bunch\nof 1 by 1 little chips,",
    "start": "4943013",
    "end": "4950519"
  },
  {
    "text": "and that will fill\nin exactly the space. Then you have exact packing. Then you don't even have\nto worry about rotation.",
    "start": "4950520",
    "end": "4955560"
  },
  {
    "text": "So that makes\nproof even cleaner. I think that wasn't\nin the original paper, but it's a nice little addition.",
    "start": "4955560",
    "end": "4961280"
  },
  {
    "text": "And that is our packing\nthrough 3-partition. Next class we'll\ndo more 3-partition",
    "start": "4961280",
    "end": "4967800"
  },
  {
    "text": "for different types of problems. So in case you lose lots of\npieces in your jigsaw puzzle,",
    "start": "4967800",
    "end": "4973220"
  },
  {
    "text": "we have the one-piece\njigsaw puzzle. This is all the pieces are\nin one giant connected mess.",
    "start": "4973220",
    "end": "4981190"
  },
  {
    "text": "And still it is not\nso trivial to solve.",
    "start": "4981190",
    "end": "4987511"
  },
  {
    "text": "Wow.  AUDIENCE: [INTERPOSING VOICES]",
    "start": "4987512",
    "end": "4993150"
  },
  {
    "text": "PROFESSOR: All right. This is the one-piece jigsaw\npuzzle in solve state. It's the Simpson's addition.",
    "start": "4993150",
    "end": "4999845"
  },
  {
    "text": "It's-- you get it. AUDIENCE: [INTERPOSING VOICES] AUDIENCE: And then\nyou put that in.",
    "start": "4999845",
    "end": "5005290"
  },
  {
    "text": "And then you put\nit in your slop. AUDIENCE: Yep. [INAUDIBLE]. PROFESSOR: Ta-da. ",
    "start": "5005290",
    "end": "5014187"
  }
]