[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "5808"
  },
  {
    "start": "5808",
    "end": "11870"
  },
  {
    "text": "BERTHOLD HORN: We'll\nstart off today by talking a little\nbit about noise gain.",
    "start": "11870",
    "end": "17570"
  },
  {
    "text": "In other words, the relationship\nbetween errors in measurement and errors in\nestimation of quantities",
    "start": "17570",
    "end": "24500"
  },
  {
    "text": "you're interested in\nabout the environment. And I just happen to have\nthis example on my computer.",
    "start": "24500",
    "end": "31620"
  },
  {
    "text": "It's not vision-related but\nillustrates some of the points.",
    "start": "31620",
    "end": "39360"
  },
  {
    "text": "So what is this? This is a indoor\nequivalent of GPS",
    "start": "39360",
    "end": "48290"
  },
  {
    "text": "where instead of using\nthe timing of signals",
    "start": "48290",
    "end": "53360"
  },
  {
    "text": "from satellites, we use\nthe timing of signals from Wi-Fi access points.",
    "start": "53360",
    "end": "59060"
  },
  {
    "text": "And it's been in the\nworks for several years, but it doesn't really exist yet.",
    "start": "59060",
    "end": "65570"
  },
  {
    "text": "For example, at this\npoint, you need Android 9. And the only phone that\nruns Android 9 is Pixel.",
    "start": "65570",
    "end": "72950"
  },
  {
    "text": "And most of the Wi-Fi\naccess points don't-- well, all of the access\npoints don't support it.",
    "start": "72950",
    "end": "79050"
  },
  {
    "text": "I've been driving\naround looking for them. I've registered thousands,\nand I found one.",
    "start": "79050",
    "end": "84380"
  },
  {
    "text": "Anyway, the idea is\nthat in the future, we will be able to measure\ndistances to access points.",
    "start": "84380",
    "end": "91400"
  },
  {
    "text": "And of course, you can imagine\nthat the accuracy is somewhat limited, because electromagnetic\nradiation travels",
    "start": "91400",
    "end": "98840"
  },
  {
    "text": "at a nanosecond per foot. So you have to really measure\nthese round-trip times",
    "start": "98840",
    "end": "105200"
  },
  {
    "text": "from phone to access point and\nback with very high precision.",
    "start": "105200",
    "end": "111170"
  },
  {
    "text": "But suppose you do. So you have a bunch\nof access points. I mean, we've got four\nright here in this room.",
    "start": "111170",
    "end": "117950"
  },
  {
    "text": "And then, your job\nis to determine the accuracy of your location.",
    "start": "117950",
    "end": "126150"
  },
  {
    "text": "And just as in GPS, you\nmay be able to measure the distance to the satellite\nto, let's say, 10 meters.",
    "start": "126150",
    "end": "136130"
  },
  {
    "text": "That doesn't mean that the\naccuracy you can expect of your x, y, z coordinates--\nlatitude, longitude,",
    "start": "136130",
    "end": "142605"
  },
  {
    "text": "and altitude-- is 10 meters. In fact, it's\ntypically a lot worse.",
    "start": "142605",
    "end": "147620"
  },
  {
    "text": "And in GPS terminology, that's\ncalled dilution of precision.",
    "start": "147620",
    "end": "153950"
  },
  {
    "text": "And in GPS, it's different for\nhorizontal than for vertical. That's another\ninteresting point,",
    "start": "153950",
    "end": "159620"
  },
  {
    "text": "that you can determine\nyour horizontal position with higher accuracy than\nyour vertical position.",
    "start": "159620",
    "end": "165560"
  },
  {
    "text": "So like this morning,\nmy phone's GPS said I was at minus 36 meters.",
    "start": "165560",
    "end": "170880"
  },
  {
    "text": "And I know Boston\nis at sea level and the water level is rising,\nbut that's probably not",
    "start": "170880",
    "end": "176360"
  },
  {
    "text": "accurate. So point of that is that\nwhen we do this noise gain",
    "start": "176360",
    "end": "183800"
  },
  {
    "text": "analysis of some\nmachine vision process, it's probably going\nto be different in different directions.",
    "start": "183800",
    "end": "189599"
  },
  {
    "text": "So it's not just a\nsingle number that says your accuracy is 1 meter. So back to this one here.",
    "start": "189600",
    "end": "194850"
  },
  {
    "text": "So the green points are\nfor Wi-Fi access points-- nicely, symmetrically placed.",
    "start": "194850",
    "end": "201890"
  },
  {
    "text": "The red points are\npossible places where your cell phone can be. And the circles, or\nellipses, are areas of--",
    "start": "201890",
    "end": "209820"
  },
  {
    "text": "or contours of constant error. So in other words, if you\nmove out to that curve,",
    "start": "209820",
    "end": "217250"
  },
  {
    "text": "you will be in\nerror with respect to the distances\nyou can measure.",
    "start": "217250",
    "end": "223370"
  },
  {
    "text": "And so turning that around,\nit tells you the accuracy you can expect.",
    "start": "223370",
    "end": "229160"
  },
  {
    "text": "And it looks very nice\nin the middle there. They're small\ncircles, meaning, A, that you will be able to\ndetermine your location pretty",
    "start": "229160",
    "end": "236930"
  },
  {
    "text": "accurately and B, that\nthere isn't a difference in different directions. It's not like you can\ndetermine x better than y.",
    "start": "236930",
    "end": "244970"
  },
  {
    "text": "But then, when you go\noutside the convex hole of the responders, you'll see\nthat things become elongated.",
    "start": "244970",
    "end": "254840"
  },
  {
    "text": "We have these ellipses, and\nthey get larger down here. What does that mean?",
    "start": "254840",
    "end": "260100"
  },
  {
    "text": "Well, it's that you won't be\nable to measure your accuracy very well in this direction.",
    "start": "260100",
    "end": "266360"
  },
  {
    "text": "But you can still determine it\npretty well in that direction. And why is that? Well, if you think about the\ndistances to the responders",
    "start": "266360",
    "end": "273800"
  },
  {
    "text": "and how it changes\nas you move around, if you move in this direction,\nyou're moving at right angles,",
    "start": "273800",
    "end": "280070"
  },
  {
    "text": "pretty much, to those vectors. And so you're not changing\nthe length of those vectors by much.",
    "start": "280070",
    "end": "285620"
  },
  {
    "text": "And so correspondingly,\nyou won't see a big change in the signal. And so correspondingly,\nyou won't",
    "start": "285620",
    "end": "291650"
  },
  {
    "text": "be able to accurately\ndetermine the position. Whereas if you move radially,\nif I move in this direction,",
    "start": "291650",
    "end": "298460"
  },
  {
    "text": "I directly have an impact\non the distance to that one and the one up there.",
    "start": "298460",
    "end": "304100"
  },
  {
    "text": "And with this one,\nI'm at an angle. But it's like 45 degrees,\nso that's square root of 2--",
    "start": "304100",
    "end": "309410"
  },
  {
    "text": "1 over square root\nof 2, so that's 70%. Yeah, right. It's the latter. So the idea is that the\nred is a possible position",
    "start": "309410",
    "end": "318800"
  },
  {
    "text": "for my sensing equipment and\nthe circle around the red is how far I have to\ngo before the error is",
    "start": "318800",
    "end": "328220"
  },
  {
    "text": "a certain threshold value. So in other words, if I'm here\nand I measure these distances",
    "start": "328220",
    "end": "335360"
  },
  {
    "text": "and there is no\nmeasurement error, then the sum of squares\nof errors will be 0.",
    "start": "335360",
    "end": "340880"
  },
  {
    "text": "If I move a little bit away,\nmy distance from the responders is wrong. And I can-- in this case, I\nhave four of those numbers.",
    "start": "340880",
    "end": "349010"
  },
  {
    "text": "And I look at how big they are,\nand I add up the sum of squares as a overall measure of error.",
    "start": "349010",
    "end": "354840"
  },
  {
    "text": "So when I'm drawing\nthe circle, that's the locus of all the points\nthat have the same size error.",
    "start": "354840",
    "end": "362300"
  },
  {
    "text": "And out here, you\ncan see that I have to go further away\nbefore I see that error.",
    "start": "362300",
    "end": "368870"
  },
  {
    "text": "And conversely, I'm less\nsensitive to the error and I will be able to not\ndetermine the position as",
    "start": "368870",
    "end": "376880"
  },
  {
    "text": "accurately. So that one's kind\nof pretty clean. But let's suppose that we\nhave three transponders.",
    "start": "376880",
    "end": "391460"
  },
  {
    "text": "Now, you can see it gets a bit\nmessier and slightly surprising",
    "start": "391460",
    "end": "397639"
  },
  {
    "text": "results. One is that out here, these\nthings that look like ellipses become non-elliptical,\nbecause they",
    "start": "397640",
    "end": "406310"
  },
  {
    "text": "are ellipses in the limit\nof very small displacements. But for larger displacements,\nthe curve can have any shape.",
    "start": "406310",
    "end": "414320"
  },
  {
    "text": "But in most cases,\nwe'll be focusing on the infinitesimal case-- make life simple.",
    "start": "414320",
    "end": "420995"
  },
  {
    "text": "So what's interesting\nabout this? Well, one of the things is that\nit's pretty accurate down here, which is away from\nthe responders",
    "start": "420995",
    "end": "428420"
  },
  {
    "text": "and it's away from the centroid. You'd think, well,\nmaybe it should be pretty good at the centroid,\nor at the intersection",
    "start": "428420",
    "end": "436280"
  },
  {
    "text": "of the bisectors of the\nangle, or the intersection of the perpendiculars\ndrop on the other side",
    "start": "436280",
    "end": "441740"
  },
  {
    "text": "of the triangle--\nsomething like that. But that's not the case. And so this is\ninteresting, because it means that you may be\nable to do things away",
    "start": "441740",
    "end": "449930"
  },
  {
    "text": "from where the responders are. So the responders could\nbe like down a hallway, and it'll still give you\ngood accuracy away from that.",
    "start": "449930",
    "end": "458540"
  },
  {
    "text": "At the same time, we can show\nthat if you put them in a line, that's a really bad idea. And of course, that's what\nthey are here-- everywhere.",
    "start": "458540",
    "end": "465590"
  },
  {
    "text": "They're just-- anyway. And again, the idea here\nis that if I'm over here",
    "start": "465590",
    "end": "471230"
  },
  {
    "text": "and I move a little\nbit to the side, I'm not changing the distance\nto those three responders much,",
    "start": "471230",
    "end": "477620"
  },
  {
    "text": "because I'm moving pretty\nmuch at right angles to those three vectors. And therefore, I won't really\nnotice that I've moved.",
    "start": "477620",
    "end": "484280"
  },
  {
    "text": "And therefore, conversely I\ncan't determine my accuracy in that direction, as well.",
    "start": "484280",
    "end": "490500"
  },
  {
    "text": "So that's with three. And let's go one more. ",
    "start": "490500",
    "end": "500240"
  },
  {
    "text": "So that's with two responders. And you can see that\nthere are some areas where",
    "start": "500240",
    "end": "506150"
  },
  {
    "text": "it's working just fine over\nhere, but in between them, not so good.",
    "start": "506150",
    "end": "511250"
  },
  {
    "text": "Why? Well, because if I\nmove horizontally, I'm not really changing\nthe distance very much.",
    "start": "511250",
    "end": "516830"
  },
  {
    "text": "It would be second--\nit would be quadratic. It will be moving,\nchanging as x squared.",
    "start": "516830",
    "end": "522140"
  },
  {
    "text": "And so for small x, it's\na very small change. And even worse out here. And then, you start\nto see something.",
    "start": "522140",
    "end": "531680"
  },
  {
    "text": "Maybe you can see\na locus of places where it's working pretty well. And their property is that\nfrom each of those positions",
    "start": "531680",
    "end": "541820"
  },
  {
    "text": "where it's working\nwell, the two responders seem to be at right\nangles to each other.",
    "start": "541820",
    "end": "546839"
  },
  {
    "text": "And that makes sense, because\nbasically you're saying, OK, I have a constraint\nin a direction",
    "start": "546840",
    "end": "552800"
  },
  {
    "text": "and a direction at right angles. If I rotate the\ncoordinate system, I can make that x and y. I have a constraint in x,\nand I have a constraint in y.",
    "start": "552800",
    "end": "560420"
  },
  {
    "text": "That's like the ideal condition. If the two directions\nare very similar,",
    "start": "560420",
    "end": "565700"
  },
  {
    "text": "then I can move at right\nangles to the average and not change things very much.",
    "start": "565700",
    "end": "572570"
  },
  {
    "text": "So it turns out\nthat points where the responders appear 90 degrees\napart are particularly good.",
    "start": "572570",
    "end": "582080"
  },
  {
    "text": "And what is the locus\nof all such points? ",
    "start": "582080",
    "end": "589149"
  },
  {
    "text": "Geometry, theorems\nabout circles--",
    "start": "589150",
    "end": "594450"
  },
  {
    "text": "so the points on the\nperiphery of a circle",
    "start": "594450",
    "end": "600180"
  },
  {
    "text": "have the diameter, the\nendpoints of the diameter, at a right angle apart.",
    "start": "600180",
    "end": "607470"
  },
  {
    "text": "That's not the way\nto say the theorem, but I think what I mean. So if I draw a circle with\nthe line connecting the two",
    "start": "607470",
    "end": "615870"
  },
  {
    "text": "responders as diameter,\npoints on that circle will have that property. And so not surprisingly,\nthose are the points",
    "start": "615870",
    "end": "622920"
  },
  {
    "text": "where I'm getting good accuracy,\neven in this simple case.",
    "start": "622920",
    "end": "628110"
  },
  {
    "text": "OK, enough of that. ",
    "start": "628110",
    "end": "633540"
  },
  {
    "text": "Let's go back to-- ",
    "start": "633540",
    "end": "643480"
  },
  {
    "text": "So the idea really\nis very simple. It's that we have some sort\nof forward transformation",
    "start": "643480",
    "end": "650200"
  },
  {
    "text": "that takes us from a\nquantity and environment we want to measure-- I don't know, distance,\nvelocity, whatever--",
    "start": "650200",
    "end": "656140"
  },
  {
    "text": "to something that we can observe\nin our instrument, the camera, say.",
    "start": "656140",
    "end": "661420"
  },
  {
    "text": "And so the forward problem\nis that we-- let's just take the simple case of a scalar.",
    "start": "661420",
    "end": "668470"
  },
  {
    "text": "There's an x. And we don't observe x directly. We can measure f of x.",
    "start": "668470",
    "end": "674680"
  },
  {
    "text": "And of course, in vision, our\nproblem is to go the other way.",
    "start": "674680",
    "end": "680589"
  },
  {
    "text": "If I measure f of x, what is x? And if f is inevitable--",
    "start": "680590",
    "end": "688240"
  },
  {
    "text": "nice, smooth, monotonic\nfunction, we can do that. But then the second question\nis, OK, my measurements",
    "start": "688240",
    "end": "694990"
  },
  {
    "text": "aren't perfect,\nso I don't really know f of x perfectly well. What does that mean about x?",
    "start": "694990",
    "end": "701110"
  },
  {
    "text": "And OK, that means\nx won't be accurate, which isn't catastrophic, but\nhow much bigger is the error?",
    "start": "701110",
    "end": "707889"
  },
  {
    "text": "And of course, the\nanswer is very simple. ",
    "start": "707890",
    "end": "716430"
  },
  {
    "text": "So here's our function. And let's say we\nhave a certain x.",
    "start": "716430",
    "end": "721910"
  },
  {
    "text": "Then the forward\ndirection is we take the x, we go up to the graph,\nwe read off a certain value, y.",
    "start": "721910",
    "end": "729830"
  },
  {
    "text": "And what we're doing\nis we're getting y from our camera or\nwhatever, and we",
    "start": "729830",
    "end": "736460"
  },
  {
    "text": "go in the opposite direction. So we invert that function.",
    "start": "736460",
    "end": "746110"
  },
  {
    "text": "Of course, there'll be\nproblems if it's multi-valued. Then there won't\nbe a unique answer. But for the moment, let's\nassume that we can invert it.",
    "start": "746110",
    "end": "754630"
  },
  {
    "text": "OK, so then the\nnext question is, what if there is some error? Well, in the forward direction,\nit's pretty straightforward.",
    "start": "754630",
    "end": "763780"
  },
  {
    "text": "Suppose that I take\na second value here,",
    "start": "763780",
    "end": "773740"
  },
  {
    "text": "then there will be\nsome error up here-- delta y.",
    "start": "773740",
    "end": "779199"
  },
  {
    "text": "And what's the relationship\nbetween delta x and delta y?",
    "start": "779200",
    "end": "784540"
  },
  {
    "text": " Calculus, derivatives-- OK,\nyou know what the answer is.",
    "start": "784540",
    "end": "793790"
  },
  {
    "text": "It's delta y over\ndelta x is basically the derivative of f of x,\nor at least in the limit",
    "start": "793790",
    "end": "800899"
  },
  {
    "text": "as we make those very small. So the relationship\nbetween the noise",
    "start": "800900",
    "end": "807170"
  },
  {
    "text": "in the quantity\nwe're interested in and the noise in the measurement\nis just the derivative of that transfer function.",
    "start": "807170",
    "end": "813800"
  },
  {
    "text": "And so conversely, we're trying\nto go the other way around. ",
    "start": "813800",
    "end": "820190"
  },
  {
    "text": "We'll just turn\nthis on its head. And now we see that\nthe noise in our result",
    "start": "820190",
    "end": "829089"
  },
  {
    "text": "is related to the noise\nin the measurement by this 1 over f prime. So clearly, f prime\nequals 0 is bad.",
    "start": "829090",
    "end": "839319"
  },
  {
    "text": "And that's not too surprising. If this continues\nand becomes flat, that means that the\nthing we're measuring",
    "start": "839320",
    "end": "846010"
  },
  {
    "text": "is not responding to the\nquantity we're interested in. So no surprise we\ncan't recover it.",
    "start": "846010",
    "end": "851260"
  },
  {
    "text": "But also, if f prime of x is\nsmall, that's not so good.",
    "start": "851260",
    "end": "856990"
  },
  {
    "text": "Because if we're up\nhere, and we make some change in x, that's going\nto be an almost imperceptibly",
    "start": "856990",
    "end": "865040"
  },
  {
    "text": "small change in y. And conversely, if there's\nany noise in the measurement,",
    "start": "865040",
    "end": "872270"
  },
  {
    "text": "I don't really know where I am. Because suppose the\nnoise in measurement is that, well, that\nmeans they have",
    "start": "872270",
    "end": "879590"
  },
  {
    "text": "an uncertainty of that\nsize in the quantity I'm trying to estimate.",
    "start": "879590",
    "end": "885470"
  },
  {
    "text": "And that's it. It's just-- this\nis the noise gain. ",
    "start": "885470",
    "end": "891080"
  },
  {
    "text": "In a lot of situations, we\ndon't worry about it too much. We have to worry about\nit in machine vision,",
    "start": "891080",
    "end": "897560"
  },
  {
    "text": "as I mentioned, because of\nthe noise in the measurements. OK, so that's real simple case.",
    "start": "897560",
    "end": "904730"
  },
  {
    "text": "We just got scalar quantity. Let's extend this a little bit. ",
    "start": "904730",
    "end": "914779"
  },
  {
    "text": "We're recovering a vector. So let's suppose-- so this\nis the forward direction.",
    "start": "914780",
    "end": "923440"
  },
  {
    "text": " There's something we're\ntrying to measure, like the location of a robot\nmanipulator arm endpoint",
    "start": "923440",
    "end": "932140"
  },
  {
    "text": "in space-- x, y, z. And we're using a camera or a\ncouple of cameras to image it.",
    "start": "932140",
    "end": "940540"
  },
  {
    "text": "And so we're measuring\nsomething in the image that we'll call x, which is a\ntransformation of the quantity",
    "start": "940540",
    "end": "948040"
  },
  {
    "text": "we want. Now, in that case, it\nwon't often be that linear,",
    "start": "948040",
    "end": "953199"
  },
  {
    "text": "but let's suppose we'd have\na simple case where there's a linear transformation. Well, then of course,\nwe just do that.",
    "start": "953200",
    "end": "960954"
  },
  {
    "text": " If we can invert that\nmatrix, that's our answer.",
    "start": "960955",
    "end": "969480"
  },
  {
    "text": "We've estimated where\nthe endpoint of the robot manipulator is.",
    "start": "969480",
    "end": "974522"
  },
  {
    "text": "But of course, we are\nalso interested in, how good is that answer? And so we'd want to know\nif I change x a little bit,",
    "start": "974522",
    "end": "983470"
  },
  {
    "text": "how much does b change? And so a crude way\nof talking about gain",
    "start": "983470",
    "end": "989610"
  },
  {
    "text": "would be just to\ntake the magnitude",
    "start": "989610",
    "end": "997560"
  },
  {
    "text": "of the change in the\nresult and divide it by the magnitude of the\nchange in the measurement.",
    "start": "997560",
    "end": "1007430"
  },
  {
    "text": "But that's not-- it doesn't\ntake into account anisotropy.",
    "start": "1007430",
    "end": "1013580"
  },
  {
    "text": "Like we saw in those\ndiagrams, the error may be very low if you go\nin a certain direction.",
    "start": "1013580",
    "end": "1019040"
  },
  {
    "text": "But it might be quite\nlarge in another direction. So the answer is a\nlittle bit more nuanced. We should be a little\nbit more careful.",
    "start": "1019040",
    "end": "1026819"
  },
  {
    "text": "So let's say a little\nbit more about this. ",
    "start": "1026819",
    "end": "1038220"
  },
  {
    "text": "How do we solve\nlinear equations? We use Gaussian elimination. And if you do that, you\ncome up with some formula,",
    "start": "1038220",
    "end": "1046480"
  },
  {
    "text": "which includes the inverse\nof the determinant. ",
    "start": "1046480",
    "end": "1056299"
  },
  {
    "text": "And so the conclusion\nis that determinant equals 0 is really bad,\nbecause then you can't do this.",
    "start": "1056300",
    "end": "1064490"
  },
  {
    "text": "And actually, the magnitude\nof the determinant being small is also not that good.",
    "start": "1064490",
    "end": "1071330"
  },
  {
    "text": "Why? Well, because you're going to\ntake 1 over some small number, gives you a large number.",
    "start": "1071330",
    "end": "1077150"
  },
  {
    "text": "And then multiply your\nexperimental measurements by that large number.",
    "start": "1077150",
    "end": "1082860"
  },
  {
    "text": "And so any tiny, little\ndeviation in that is going to be magnified by\nthe inverse of the determinant.",
    "start": "1082860",
    "end": "1093340"
  },
  {
    "text": "And let's just go\nback to an example",
    "start": "1093340",
    "end": "1100559"
  },
  {
    "text": "that we did do, which was 2D. So our matrix in\nthis case is 2 by 2.",
    "start": "1100560",
    "end": "1109390"
  },
  {
    "text": "So as a start, just to\nrefresh your memory-- and I did this last\ntime, but I think",
    "start": "1109390",
    "end": "1115660"
  },
  {
    "text": "I got a lot of blank looks,\nand so I'll do it again.",
    "start": "1115660",
    "end": "1120790"
  },
  {
    "text": "So what's the inverse\nof this 2 by 2 matrix? ",
    "start": "1120790",
    "end": "1130550"
  },
  {
    "text": "It's that. And how do I know that,\nor how can I verify that?",
    "start": "1130550",
    "end": "1135620"
  },
  {
    "text": "Well you just need to multiply. And what do you get?",
    "start": "1135620",
    "end": "1141980"
  },
  {
    "text": "ad minus bc, and then\nab minus ab plus ab.",
    "start": "1141980",
    "end": "1150919"
  },
  {
    "text": "And here we get cd minus cd. And then finally, we\nget minus bc plus ad.",
    "start": "1150920",
    "end": "1161870"
  },
  {
    "text": "So these, of course, are 0. And these are the same as that.",
    "start": "1161870",
    "end": "1169230"
  },
  {
    "text": "And so for 2 by 2 matrices,\nwe think it can explicitly get an inverse.",
    "start": "1169230",
    "end": "1174920"
  },
  {
    "text": "And of course, we've got a lot\nof interest in that quantity. Because if that quantity is\nsmall, than our calculation",
    "start": "1174920",
    "end": "1182360"
  },
  {
    "text": "is subject to\namplification of error. And this came up because we\nwere looking at computing image",
    "start": "1182360",
    "end": "1193250"
  },
  {
    "text": "motion. So we had-- at two pixels-- we had our constraint equation,\nwhich looked like that.",
    "start": "1193250",
    "end": "1204460"
  },
  {
    "text": "So he had two of these. ",
    "start": "1204460",
    "end": "1211420"
  },
  {
    "text": "And now, we're solving for\nthe motion u and v. And so",
    "start": "1211420",
    "end": "1217780"
  },
  {
    "text": "of course, we just get-- ",
    "start": "1217780",
    "end": "1237060"
  },
  {
    "text": "just using the formula\nup here and so on.",
    "start": "1237060",
    "end": "1242380"
  },
  {
    "text": "So we just plug that in. So there's an example where we\ncan apply this idea of noise",
    "start": "1242380",
    "end": "1250770"
  },
  {
    "text": "gain directly. And we know that if\nthis quantity is small,",
    "start": "1250770",
    "end": "1258360"
  },
  {
    "text": "we're going to be\namplifying noise a lot. And we already went\nthrough the argument",
    "start": "1258360",
    "end": "1264929"
  },
  {
    "text": "that means that the brightness\ngradients at those two pixels are similar. They are oriented in the same\nor almost the same direction.",
    "start": "1264930",
    "end": "1272830"
  },
  {
    "text": "And so that means\nthey're not providing very different information.",
    "start": "1272830",
    "end": "1278350"
  },
  {
    "text": "It's almost as if you'd\nonly made one measurement. So no wonder the answer's flaky.",
    "start": "1278350",
    "end": "1283649"
  },
  {
    "text": "And we can go into the\nvelocity space diagram.",
    "start": "1283650",
    "end": "1289080"
  },
  {
    "text": "Each of these constraints--\nthis is a straight line. Why? Well, because it's a linear\nfunction of u and v equal to 0.",
    "start": "1289080",
    "end": "1297600"
  },
  {
    "text": "So that's going to give\nus a straight line. This is going to give\nus a straight line.",
    "start": "1297600",
    "end": "1302610"
  },
  {
    "text": "We're basically looking for\na point in the plane that's on both lines. So we're looking for the\nintersection of the two lines.",
    "start": "1302610",
    "end": "1309180"
  },
  {
    "text": "If the two lines\nare at right angles, that's a very\nwell-defined point. If the two lines\nare almost parallel,",
    "start": "1309180",
    "end": "1315540"
  },
  {
    "text": "then you can imagine\nthat any small shift can move the point of\nintersection a lot.",
    "start": "1315540",
    "end": "1323039"
  },
  {
    "text": "So this is the case\nthat's not so good. And if I move this\none a little bit, say",
    "start": "1323040",
    "end": "1330000"
  },
  {
    "text": "I'll move it over here,\nthere's a huge change in the intersection point.",
    "start": "1330000",
    "end": "1337750"
  },
  {
    "text": "So that corresponds to the\ncase where the two gradients",
    "start": "1337750",
    "end": "1343110"
  },
  {
    "text": "are almost parallel, and that\nmakes this quantity small. Notice that not\nall hope is lost.",
    "start": "1343110",
    "end": "1351210"
  },
  {
    "text": "It's true that the component\nin this direction-- we don't really know very well. But we've got very good\nconstraint in that direction.",
    "start": "1351210",
    "end": "1358480"
  },
  {
    "text": "So that's another\nlesson, which is we may have a situation\nwhere the noise gain is high,",
    "start": "1358480",
    "end": "1364590"
  },
  {
    "text": "but it may not be equally\nhigh in all directions, as we saw in the\ndiagrams I showed you.",
    "start": "1364590",
    "end": "1369790"
  },
  {
    "text": "And it's good to know which\ncomponent can you trust. If I'm going to have my robot\nmove over and pick up a part,",
    "start": "1369790",
    "end": "1377850"
  },
  {
    "text": "that's a useful thing to know. OK. ",
    "start": "1377850",
    "end": "1387660"
  },
  {
    "text": "So let's review a\nlittle bit, and I want to go on to something\ncalled time to contact.",
    "start": "1387660",
    "end": "1396350"
  },
  {
    "text": "We're kind of cutting across\nthe material in a diagonal way.",
    "start": "1396350",
    "end": "1402049"
  },
  {
    "text": "I mean, it would be nice to\npresent all of this stuff first and all of that stuff second.",
    "start": "1402050",
    "end": "1408540"
  },
  {
    "text": "But you'd probably fall asleep. I want to motivate\nyou by showing you that if you put these\npieces together,",
    "start": "1408540",
    "end": "1414710"
  },
  {
    "text": "you can get some pretty\npowerful results. So let's go there. Let's see if we\ncan, first of all,",
    "start": "1414710",
    "end": "1420470"
  },
  {
    "text": "review what we've done so far. ",
    "start": "1420470",
    "end": "1427440"
  },
  {
    "text": "So we have this idea-- the constant\nbrightness assumption.",
    "start": "1427440",
    "end": "1435890"
  },
  {
    "text": "And we have that\nimage solid, which was a function of x, y, and t.",
    "start": "1435890",
    "end": "1445370"
  },
  {
    "text": "And we followed some curve\nthrough here, which is perhaps the image of some particular\nthing in the environment",
    "start": "1445370",
    "end": "1453570"
  },
  {
    "text": "that moves or the camera moves. But we're assuming\nthat as it moves,",
    "start": "1453570",
    "end": "1460740"
  },
  {
    "text": "its physical properties\ndon't change, so it's still going to be\nimaged with the same brightness.",
    "start": "1460740",
    "end": "1467550"
  },
  {
    "text": "So along this curve, this holds\ntrue-- the total derivative.",
    "start": "1467550",
    "end": "1474540"
  },
  {
    "text": "And from that, we got\nour constraint equation.",
    "start": "1474540",
    "end": "1479892"
  },
  {
    "text": "You're going to\nget probably pretty tired of seeing that one. And so this is the constant\nbrightness assumption.",
    "start": "1479892",
    "end": "1486600"
  },
  {
    "text": "And from it, by\njust chain rule, we get this constraint,\nwhich is also",
    "start": "1486600",
    "end": "1493980"
  },
  {
    "text": "called the brightness\nchange constraint equation. ",
    "start": "1493980",
    "end": "1501600"
  },
  {
    "text": "And we use this in\nmany different ways. I mean, it's fundamental to\nwhat's happening in an image",
    "start": "1501600",
    "end": "1509130"
  },
  {
    "text": "when there's motion. And then, we looked\nin particular at the optical\nmouse problem, which",
    "start": "1509130",
    "end": "1517580"
  },
  {
    "text": "is a simplified\nversion of things we'll be looking at later. It's simplified in\nthe sense that we're",
    "start": "1517580",
    "end": "1524600"
  },
  {
    "text": "assuming that the optical mouse\nis working on a flat surface and that the whole\nimage is moving as one.",
    "start": "1524600",
    "end": "1530390"
  },
  {
    "text": "In other words, u and v is\nthe same for the whole image. And that's obviously a\nvery nice and simple case.",
    "start": "1530390",
    "end": "1537275"
  },
  {
    "text": " And we said that one\nway of dealing with that",
    "start": "1537275",
    "end": "1543740"
  },
  {
    "text": "is to turn it into a\nleast squares problem. So we're going to add up\nover the whole image in x",
    "start": "1543740",
    "end": "1553730"
  },
  {
    "text": "and y direction, we're\ngoing to integrate-- or in the discrete case, take\nsome of the rows and columns--",
    "start": "1553730",
    "end": "1560660"
  },
  {
    "text": "of this quantity,\nwhich supposedly is 0. So we should get 0. Why might it not be 0?",
    "start": "1560660",
    "end": "1566110"
  },
  {
    "text": "Well, if you plug in the wrong\nvalues for the velocity, u and v, you won't get 0. And so one way of trying\nto find the right velocity",
    "start": "1566110",
    "end": "1573679"
  },
  {
    "text": "is to find the minimum\nof that integral. Now, in practice,\nyour measurements--",
    "start": "1573680",
    "end": "1579590"
  },
  {
    "text": "Ex, Ey, and Et-- will be corrupted by noise. And so you'll never actually\nget this integral to be 0.",
    "start": "1579590",
    "end": "1588230"
  },
  {
    "text": "So the answer isn't we're going\nto find the place where it's 0. The answer is, we're going to\nmake it as small as possible.",
    "start": "1588230",
    "end": "1594050"
  },
  {
    "text": "And that's our estimate of\nthe correct value for u and v. And we could justify that\nby some hairy, probabilistic",
    "start": "1594050",
    "end": "1603410"
  },
  {
    "text": "statistical argument,\nbut I think it probably is not beneficial to go there.",
    "start": "1603410",
    "end": "1610310"
  },
  {
    "text": "We'll just-- it seems like an\nintuitively right thing to do.",
    "start": "1610310",
    "end": "1615480"
  },
  {
    "text": "OK, so that's what\nwe're going to minimize. And we only have two\nparameters, so clearly this",
    "start": "1615480",
    "end": "1622840"
  },
  {
    "text": "is a calculus problem. We just take the derivative\nand set the result equal to 0.",
    "start": "1622840",
    "end": "1633010"
  },
  {
    "text": "So we're assuming that this is\nvarying smoothly with u and v, as it obviously is.",
    "start": "1633010",
    "end": "1640060"
  },
  {
    "text": "Yeah? Well, OK, so let's\nput it this way. So suppose that I have\nmade it Ex, Ey, Et,",
    "start": "1640060",
    "end": "1646750"
  },
  {
    "text": "and now you tell me\nu is 1 and v is 2. And I can plug it\nin to the equation,",
    "start": "1646750",
    "end": "1653350"
  },
  {
    "text": "and I get some large number. I'm likely to say, I\ndon't think you're right. And then he says, well\nu is 1 and v is 3.",
    "start": "1653350",
    "end": "1662005"
  },
  {
    "text": "And I plug it into\nthis equation, I get a smaller number. Which one would you trust?",
    "start": "1662005",
    "end": "1668509"
  },
  {
    "text": "So it's-- ideally, this should\nbe a very small, or even 0.",
    "start": "1668510",
    "end": "1675410"
  },
  {
    "text": "And-- AUDIENCE: And why\nis that the case? BERTHOLD HORN: Sorry? AUDIENCE: Why do you want\na smaller number for that?",
    "start": "1675410",
    "end": "1681597"
  },
  {
    "text": "BERTHOLD HORN: Oh, well, because\nif there was no measurement error-- if there was no error\neither in the measurement",
    "start": "1681597",
    "end": "1688090"
  },
  {
    "text": "or in your knowledge\nof u and v, then it would be 0 at every pixel\nand so then integrating over",
    "start": "1688090",
    "end": "1694600"
  },
  {
    "text": "the whole image. OK. All right, and I'm\nnot going to do that,",
    "start": "1694600",
    "end": "1701679"
  },
  {
    "text": "because that's too close to\nwhat you did in the homework problem. So we'll stop there.",
    "start": "1701680",
    "end": "1708010"
  },
  {
    "text": "OK, what are we going to do? Well, a very simple\ncase is where",
    "start": "1708010",
    "end": "1715900"
  },
  {
    "text": "the velocity is the same\neverywhere-- optical flow case. And we did that.",
    "start": "1715900",
    "end": "1721059"
  },
  {
    "text": "The other other simple cases\nwhere u and v are not constant, but they vary in a very\npredictable way in the image.",
    "start": "1721060",
    "end": "1728600"
  },
  {
    "text": "And we saw that last\ntime when we were talking about the focus of expansion.",
    "start": "1728600",
    "end": "1734740"
  },
  {
    "text": "And so let's, again,\nreview and go back to all the way to\nperspective projection.",
    "start": "1734740",
    "end": "1741850"
  },
  {
    "text": " Right, so we had a relationship\nbetween world coordinates",
    "start": "1741850",
    "end": "1752409"
  },
  {
    "text": "and image coordinates. So the capital letters are\ncoordinates in the world,",
    "start": "1752410",
    "end": "1758950"
  },
  {
    "text": "and the small ones are\ncorresponding in the image. So that was perspective\nprojection, again,",
    "start": "1758950",
    "end": "1765580"
  },
  {
    "text": "in a camera-centric\ncoordinate system. And then we said, well, now\nsuppose things are moving--",
    "start": "1765580",
    "end": "1772600"
  },
  {
    "text": "big X, big Y, bz are changing. And how are little x\nand little y changing?",
    "start": "1772600",
    "end": "1778150"
  },
  {
    "text": "Well, we just differentiate\nwith respect to time. And we get 1 over f, dx\ndt is 1 over z big X dt.",
    "start": "1778150",
    "end": "1791020"
  },
  {
    "text": "And then, unfortunately,\nwe have this one as well. ",
    "start": "1791020",
    "end": "1799620"
  },
  {
    "text": "Or written in a\nslightly nicer form-- ",
    "start": "1799620",
    "end": "1814540"
  },
  {
    "text": "right? Because dx dt is the\nvelocity in the x direction.",
    "start": "1814540",
    "end": "1820200"
  },
  {
    "text": "And that's what we've been\nusing the symbol u for. And similarly in 3D,\nwe'll use the big U stand",
    "start": "1820200",
    "end": "1828900"
  },
  {
    "text": "for the velocity in the\nx direction in the world.",
    "start": "1828900",
    "end": "1833940"
  },
  {
    "text": "And similarly, so we have that.",
    "start": "1833940",
    "end": "1843240"
  },
  {
    "text": "And then, we looked at\nthe situation where u is 0 and v is 0, and we called\nthat the focus of expansion",
    "start": "1843240",
    "end": "1853490"
  },
  {
    "text": "for that particular motion. And so if we plug\nin little u is 0,",
    "start": "1853490",
    "end": "1860539"
  },
  {
    "text": "we get a relationship\nhere that is-- ",
    "start": "1860540",
    "end": "1866780"
  },
  {
    "text": "oh, where's my x0? So let's do it. So we got 0 is 1 over zu minus--",
    "start": "1866780",
    "end": "1873590"
  },
  {
    "text": "and now the big X over\nbig Z we know is x over F.",
    "start": "1873590",
    "end": "1883450"
  },
  {
    "text": "so And this is x0. This is where the velocity is 0.",
    "start": "1883450",
    "end": "1890470"
  },
  {
    "text": "And similarly, for\nthe y direction,",
    "start": "1890470",
    "end": "1897350"
  },
  {
    "text": "so we get x0 is f\nover z, u over w.",
    "start": "1897350",
    "end": "1904130"
  },
  {
    "start": "1904130",
    "end": "1910720"
  },
  {
    "text": "So we have relationship between\nthe velocities, the distances,",
    "start": "1910720",
    "end": "1919600"
  },
  {
    "text": "and where the focus\nof expansion is. ",
    "start": "1919600",
    "end": "1926009"
  },
  {
    "text": "And then, we talked\nabout that quantity that occurs there, which is\nw over z, and what is that?",
    "start": "1926010",
    "end": "1935159"
  },
  {
    "text": "Well, easier maybe if\nwe turn it on its head, as we did last time.",
    "start": "1935160",
    "end": "1941850"
  },
  {
    "text": "And of course, big\nW is the component of motion in the z direction.",
    "start": "1941850",
    "end": "1946960"
  },
  {
    "text": "So it's dz over here. So this is a\ndistance over speed.",
    "start": "1946960",
    "end": "1954830"
  },
  {
    "text": "And so we last time said the\nunits would be meter over meter",
    "start": "1954830",
    "end": "1960620"
  },
  {
    "text": "per second or second. So this is actually\nthe time to contact--",
    "start": "1960620",
    "end": "1966440"
  },
  {
    "text": "how long it's going to take\nbefore we crash into that object if nothing changes.",
    "start": "1966440",
    "end": "1972340"
  },
  {
    "text": "And that's obviously a useful\nquantity to try and find.",
    "start": "1972340",
    "end": "1978100"
  },
  {
    "text": "And so we'll try and\nfind it from a sequence of image measurements.",
    "start": "1978100",
    "end": "1984720"
  },
  {
    "text": "Now, actually, we're\ngoing to call this-- we're going to\ngive this a name c. And c is actually 1 over\nthe time to contact.",
    "start": "1984720",
    "end": "1993790"
  },
  {
    "text": "And the reason\nfor that is mostly to make the algebra simpler. After we find c, of course,\nwe can just find its inverse.",
    "start": "1993790",
    "end": "2000180"
  },
  {
    "start": "2000180",
    "end": "2005380"
  },
  {
    "text": "But it has the advantage that\nif the motion is very slight, then the time to contact\ncan be huge, where c just",
    "start": "2005380",
    "end": "2014409"
  },
  {
    "text": "becomes close to 0. Yeah, sorry. No, I hesitated, because\nit didn't look right. But thank you.",
    "start": "2014410",
    "end": "2019720"
  },
  {
    "text": "OK. OK, so let's start real simple.",
    "start": "2019720",
    "end": "2025029"
  },
  {
    "text": "Let's suppose that there's\nonly motion in the z direction. So I'm moving towards the wall.",
    "start": "2025030",
    "end": "2030429"
  },
  {
    "text": "And of course, the\nimage is expanding as I approach the wall. And what is the\nfocus of expansion?",
    "start": "2030430",
    "end": "2039580"
  },
  {
    "text": "Well, if I'm moving\nstraight to the wall, the focus of the expansion\nwill be right down the barrel.",
    "start": "2039580",
    "end": "2044650"
  },
  {
    "text": "It'll be at 0, 0. So let's take a special case.",
    "start": "2044650",
    "end": "2050395"
  },
  {
    "start": "2050395",
    "end": "2058408"
  },
  {
    "text": "And then, according to the\nformulas for x0 and y0-- ",
    "start": "2058409",
    "end": "2067850"
  },
  {
    "text": "and if I draw the diagram\nfor the motion field,",
    "start": "2067850",
    "end": "2094489"
  },
  {
    "text": "it's going to look like that. ",
    "start": "2094489",
    "end": "2103640"
  },
  {
    "text": "And so a couple of things. One is, well, if I can measure\nthose vectors, then I'm done.",
    "start": "2103640",
    "end": "2111099"
  },
  {
    "text": "Why do I need to do\nall this other stuff? Well, the thing is, we\ndon't know those vectors. All we have are images.",
    "start": "2111100",
    "end": "2117220"
  },
  {
    "text": "Images are brightness patterns. Images are brightness as\na function of x and y.",
    "start": "2117220",
    "end": "2123490"
  },
  {
    "text": "There are no vectors in there. So one approach might be\nwe'll find the vectors,",
    "start": "2123490",
    "end": "2129160"
  },
  {
    "text": "and then we can intersect them\nto find where that point is. ",
    "start": "2129160",
    "end": "2135520"
  },
  {
    "text": "So for us, this vector\nfield is a useful tool to visualize what's going on.",
    "start": "2135520",
    "end": "2140589"
  },
  {
    "text": "But the actual experimental\ndata is there's an image,",
    "start": "2140590",
    "end": "2145600"
  },
  {
    "text": "and then we take another image. And the other image is\neither expanded or shrunk. And our job is to\nsolve this problem.",
    "start": "2145600",
    "end": "2153460"
  },
  {
    "text": "Then, I had the arrows\npointing inwards,",
    "start": "2153460",
    "end": "2159200"
  },
  {
    "text": "which means that that's\nactually a focus of compression, rather than the\nfocus of expansion. But of course,\nthey're just depending",
    "start": "2159200",
    "end": "2165910"
  },
  {
    "text": "on the direction of motion. If I'm standing here\nand the wall is receding",
    "start": "2165910",
    "end": "2171850"
  },
  {
    "text": "with a positive\nvelocity, then it's going to compress in the\nimage, and I get this.",
    "start": "2171850",
    "end": "2179320"
  },
  {
    "text": "On the other hand--\nand there's no danger. The time to contact is negative.",
    "start": "2179320",
    "end": "2184390"
  },
  {
    "text": "I left the surface a while ago. But the case we're going\nto be more interested in",
    "start": "2184390",
    "end": "2190450"
  },
  {
    "text": "is where the velocity of\nthe wall relative to me is negative. And then this\ndiagram is reversed,",
    "start": "2190450",
    "end": "2197200"
  },
  {
    "text": "and there is a\nfocus of expansion. OK.",
    "start": "2197200",
    "end": "2203380"
  },
  {
    "text": "So what can we do with this? ",
    "start": "2203380",
    "end": "2209200"
  },
  {
    "text": "So in this case, we go back\nto the same old equation. ",
    "start": "2209200",
    "end": "2216440"
  },
  {
    "text": "And now, in this\nparticular case, U and V--",
    "start": "2216440",
    "end": "2223470"
  },
  {
    "text": " we've made we've made the\ncapital U and the capital V 0.",
    "start": "2223470",
    "end": "2230300"
  },
  {
    "text": "So all that's left\nis that second term. And so U and V take this form.",
    "start": "2230300",
    "end": "2238670"
  },
  {
    "text": "OK, so stick that in there. We get, let's see, U--",
    "start": "2238670",
    "end": "2246260"
  },
  {
    "text": "we get cx, Ex plus\ny, Ey plus Et is 0.",
    "start": "2246260",
    "end": "2253970"
  },
  {
    "text": " So I've just combined\nthese two terms.",
    "start": "2253970",
    "end": "2260700"
  },
  {
    "text": "And so if I wanted to-- ",
    "start": "2260700",
    "end": "2269920"
  },
  {
    "text": "Just as what we\ndid before, we can measure one-dimensional\nmotion from a pixel.",
    "start": "2269920",
    "end": "2278380"
  },
  {
    "text": "Similarly, here we can measure\nthe inverse of the time to contact just from\nbrightness derivatives",
    "start": "2278380",
    "end": "2287109"
  },
  {
    "text": "at one point in the image. Of course, it's not\nlikely to be very good, because all of these quantities\nare subject to noise.",
    "start": "2287110",
    "end": "2294820"
  },
  {
    "text": "And in fact, of course,\nestimating derivatives makes things worse. So we've got two numbers\nthat are subject to noise.",
    "start": "2294820",
    "end": "2302020"
  },
  {
    "text": "We subtract them. If they're similar in\nmagnitude, about all you got left is the noise. So this is not going to\nbe a very accurate method.",
    "start": "2302020",
    "end": "2312400"
  },
  {
    "text": "Before we go on, though, let's\nlook at this term over here. And I'm going to call\nthis the radial gradient.",
    "start": "2312400",
    "end": "2319855"
  },
  {
    "text": " And I put it in quotation\nmarks, because it's not",
    "start": "2319855",
    "end": "2326430"
  },
  {
    "text": "the greatest notation. But we use it so much,\nwe need some notation.",
    "start": "2326430",
    "end": "2333250"
  },
  {
    "text": "And we can think of it\nas that dot product. ",
    "start": "2333250",
    "end": "2339210"
  },
  {
    "text": "We've got two vectors. ",
    "start": "2339210",
    "end": "2347130"
  },
  {
    "text": "And what are those? Well, this vector is\nthe brightness gradient. And we keep on seeing\nthe brightness gradient.",
    "start": "2347130",
    "end": "2353100"
  },
  {
    "text": "And it's just pointing\nin the direction of the most rapid change\nof brightness in the image.",
    "start": "2353100",
    "end": "2360100"
  },
  {
    "text": "One way to think about\nimages, E of x and y, is as a topographic map.",
    "start": "2360100",
    "end": "2368260"
  },
  {
    "text": "So if you think of translating\nbrightness into height, then you can visualize the\nthree-dimensional thing.",
    "start": "2368260",
    "end": "2375309"
  },
  {
    "text": "And the image is some surface\nin the three-dimensional thing. And the brightness\ngradient is just",
    "start": "2375310",
    "end": "2381579"
  },
  {
    "text": "the gradient of the surface. It's a vector in the\ndirection of steepest ascent.",
    "start": "2381580",
    "end": "2387940"
  },
  {
    "text": "If I want to get to this\nmountain as fast as possible, I go up the gradient.",
    "start": "2387940",
    "end": "2393050"
  },
  {
    "text": "And if I want to get\ndown as fast as possible, I go in the opposite direction.",
    "start": "2393050",
    "end": "2399140"
  },
  {
    "text": "So that's Ex, Ey. It's the gradient\nof the brightness.",
    "start": "2399140",
    "end": "2404500"
  },
  {
    "text": "And then what's x and y? Well, that's radial vector. It's like in the polar\ncoordinate system.",
    "start": "2404500",
    "end": "2411099"
  },
  {
    "text": "I could imagine erecting\na polar coordinate system in the image with the\norigin at the center,",
    "start": "2411100",
    "end": "2416860"
  },
  {
    "text": "and that's that vector. And so what this is\ndoing is it's taking",
    "start": "2416860",
    "end": "2422230"
  },
  {
    "text": "the dot product of those two. So for example, if\nthey're at right angles,",
    "start": "2422230",
    "end": "2429710"
  },
  {
    "text": "then this is going to be 0. And if they're\nparallel, then they",
    "start": "2429710",
    "end": "2436710"
  },
  {
    "text": "will be as large as possible. Now, we could-- let's see,\nwhich way do I want to go?",
    "start": "2436710",
    "end": "2443430"
  },
  {
    "text": "Let's try this. We could normalize\nthis, and turn this one",
    "start": "2443430",
    "end": "2449280"
  },
  {
    "text": "into a unit vector. ",
    "start": "2449280",
    "end": "2460930"
  },
  {
    "text": "So first of all, you\nrecognize that by dividing by the square root of x\nsquared plus y squared, I turn it into a unit vector.",
    "start": "2460930",
    "end": "2467290"
  },
  {
    "text": "Because now, if you take a dot\nproduct with itself, you get 1. OK, that clear?",
    "start": "2467290",
    "end": "2473000"
  },
  {
    "text": "So there's a unit vector. Unit vectors are useful\nfor indicating direction. So this doesn't have--",
    "start": "2473000",
    "end": "2479590"
  },
  {
    "text": "well, magnitude's\n1, so the magnitude doesn't tell me anything useful. But it's a way of talking\nabout different directions.",
    "start": "2479590",
    "end": "2485770"
  },
  {
    "text": "And then, taking the dot product\nwith another vector does what? Well, it gives you the\ncomponent of that vector",
    "start": "2485770",
    "end": "2491859"
  },
  {
    "text": "in that direction. So here's a vector.",
    "start": "2491860",
    "end": "2497640"
  },
  {
    "text": "And I'm interested\nin how much of it is going in this direction.",
    "start": "2497640",
    "end": "2503000"
  },
  {
    "text": "I take the dot product,\nand I get that component.",
    "start": "2503000",
    "end": "2508590"
  },
  {
    "text": "So what this is really computing\nis how much of the gradient is in this radial direction.",
    "start": "2508590",
    "end": "2516059"
  },
  {
    "text": "And that's why we use that\nterm, radial gradient. And the reason I am putting\nit in quotation marks",
    "start": "2516060",
    "end": "2523290"
  },
  {
    "text": "is because it isn't quite right,\nbecause there's this factor that I've left out--",
    "start": "2523290",
    "end": "2528630"
  },
  {
    "text": "that it's not just\nthe radial gradient, but it's multiplied\nby the radius. But it's basically\nmeasuring how much",
    "start": "2528630",
    "end": "2536309"
  },
  {
    "text": "of the brightness variation\nis in the output direction from the center of the image.",
    "start": "2536310",
    "end": "2542595"
  },
  {
    "text": " OK. ",
    "start": "2542595",
    "end": "2548900"
  },
  {
    "text": "And now I'm ready to\nsolve the problem.",
    "start": "2548900",
    "end": "2555710"
  },
  {
    "text": "Because I have\nthis equation here, and I've solved it for\na single point, except I",
    "start": "2555710",
    "end": "2562340"
  },
  {
    "text": "don't really trust that. So what I'm going to do is\nas before, use least squares. ",
    "start": "2562340",
    "end": "2569500"
  },
  {
    "text": "So we're going to minimize--  and this is over\nthe whole image.",
    "start": "2569500",
    "end": "2576375"
  },
  {
    "start": "2576375",
    "end": "2586610"
  },
  {
    "text": "And again, keep\nin mind that we're dealing with very simple cases\nwhere the motion in the image",
    "start": "2586610",
    "end": "2591790"
  },
  {
    "text": "is not some arbitrary\nvector field, but it's defined by a\nsmall number of parameters.",
    "start": "2591790",
    "end": "2598270"
  },
  {
    "text": "Yeah? This here? Oh, so that comes out of\nthe equation up there. So there's an\nequation for 1 over f",
    "start": "2598270",
    "end": "2605590"
  },
  {
    "text": "u is 1 over z big U minus\nwz x over y-- over z.",
    "start": "2605590",
    "end": "2612340"
  },
  {
    "text": "And first of all, [AUDIO OUT]\nis now assumed to be 0. We're assuming that there's\nno motion in x or y direction,",
    "start": "2612340",
    "end": "2624170"
  },
  {
    "text": "so those terms drop out. And the other term-- we've defined c to b w over z.",
    "start": "2624170",
    "end": "2634080"
  },
  {
    "text": "And then, the big\nX over z little x over F, because of\nperspective projection equation.",
    "start": "2634080",
    "end": "2642480"
  },
  {
    "text": "OK, so yeah, there's\nprobably more than one step going from up there\nto down there.",
    "start": "2642480",
    "end": "2648930"
  },
  {
    "text": "But it's applying the\nperspective projection of the equation in\nthe special case",
    "start": "2648930",
    "end": "2654089"
  },
  {
    "text": "that there's only motion\nalong the optical axis. There's no motion\nin other directions.",
    "start": "2654090",
    "end": "2660750"
  },
  {
    "text": " OK, so again,\nwhat's going on here",
    "start": "2660750",
    "end": "2666960"
  },
  {
    "text": "is if we had the\ncorrect value of c and there was no\nmeasurement noise,",
    "start": "2666960",
    "end": "2672630"
  },
  {
    "text": "this would be 0 at every pixel. And so if we add it up\nover all the pixels, it should still be 0.",
    "start": "2672630",
    "end": "2678930"
  },
  {
    "text": "If we plug in the\nwrong value of c, it ought to be non-zero--\ngrow with our error in c.",
    "start": "2678930",
    "end": "2686850"
  },
  {
    "text": "And so finding the c that\nmakes this as small as possible is our way of\nestimating what it is.",
    "start": "2686850",
    "end": "2695460"
  },
  {
    "text": "And yeah, it can be\njustified in terms of-- if you assume\nthe noise is Gaussian",
    "start": "2695460",
    "end": "2701790"
  },
  {
    "text": "and do all that statistical,\nprobabilistic stuff. But I don't want to do that. I think it's\nintuitive that if this",
    "start": "2701790",
    "end": "2709740"
  },
  {
    "text": "is supposed to be 0 when I\nhave the correct information, then making it as\nsmall as possible",
    "start": "2709740",
    "end": "2715650"
  },
  {
    "text": "in the presence of noise\nis a sensible thing to do. Now, I just-- calculus.",
    "start": "2715650",
    "end": "2724720"
  },
  {
    "text": "There's only one\nunknown in there, only one knob I can tweak. So I'm just going to see\nwhere that has a 0 derivative.",
    "start": "2724720",
    "end": "2735240"
  },
  {
    "text": "And so well, what do I get? I get 2 times-- ",
    "start": "2735240",
    "end": "2746640"
  },
  {
    "text": "there's a square in there. So I'm going to get twice\nwhatever is under the square.",
    "start": "2746640",
    "end": "2752400"
  },
  {
    "text": "And then I have to differentiate\nthat term, as well. So multiplied by-- and\nnow, the derivative",
    "start": "2752400",
    "end": "2757650"
  },
  {
    "text": "of this with respect to c is,\nof course, just that part. So multiply by-- and\nif it's equal to 0,",
    "start": "2757650",
    "end": "2773040"
  },
  {
    "text": "I don't really care about\nthe 2, so get rid of that. And now, I can split this\nup into two integrals.",
    "start": "2773040",
    "end": "2781440"
  },
  {
    "start": "2781440",
    "end": "2802050"
  },
  {
    "text": "And I'm going to leave\nout the dx dy pretty soon, because it's implied if I\nhave the double integral",
    "start": "2802050",
    "end": "2809580"
  },
  {
    "text": "over the image. OK, so I can solve for\nc is the integral of--",
    "start": "2809580",
    "end": "2818860"
  },
  {
    "text": "let's call this G squared. And this is G-- oh, sorry, minus G\nEt G squared, where",
    "start": "2818860",
    "end": "2828070"
  },
  {
    "text": "G is this radial gradient,\nwhich will occur so often that I",
    "start": "2828070",
    "end": "2834580"
  },
  {
    "text": "get tired of writing it out. ",
    "start": "2834580",
    "end": "2844970"
  },
  {
    "text": "So there's a way of\nestimating time to contact,",
    "start": "2844970",
    "end": "2852210"
  },
  {
    "text": "because c is the inverse\nof the time to contact. And it's kind of\ninteresting, because there's",
    "start": "2852210",
    "end": "2861180"
  },
  {
    "text": "no high-level stuff in here. We're not detecting\nedges, or tracking points,",
    "start": "2861180",
    "end": "2866700"
  },
  {
    "text": "or doing anything\nsophisticated-- recognizing poodles behind palm trees.",
    "start": "2866700",
    "end": "2872130"
  },
  {
    "text": "We're just doing this brute\nforce number crunching. And it's very effective.",
    "start": "2872130",
    "end": "2879850"
  },
  {
    "text": "We got a million or 10 million\npoints, each of which is lousy. But we combine them this\nway, and the good to one",
    "start": "2879850",
    "end": "2887530"
  },
  {
    "text": "part in 1,000. So what when you implement\nthis, what do you actually do?",
    "start": "2887530",
    "end": "2894520"
  },
  {
    "text": "Well, you have to take\nthe image and estimate the brightness gradient,\nwhich is trivial.",
    "start": "2894520",
    "end": "2901539"
  },
  {
    "text": "We just take neighboring pixels\nin x direction, subtract them. There's our Ex.",
    "start": "2901540",
    "end": "2906873"
  },
  {
    "text": "And then take neighboring\npixels in the y direction, subtract them. That's Ey. And we need Et, so we take two\nframes, one after the other,",
    "start": "2906873",
    "end": "2915460"
  },
  {
    "text": "and we take corresponding\npixels and subtract them. That's our Et. Or there may be some scaling,\nbut that's the basic idea.",
    "start": "2915460",
    "end": "2923230"
  },
  {
    "text": "From those, we then compute\nthis radial gradient, which is easy to do. x and y are\nthe position in the image",
    "start": "2923230",
    "end": "2930910"
  },
  {
    "text": "relative to the\ncenter of the image. We'll talk about\nthat some more later.",
    "start": "2930910",
    "end": "2936110"
  },
  {
    "text": "And then, we just\ncompute these to sums. So these double\nintegrals are just",
    "start": "2936110",
    "end": "2942100"
  },
  {
    "text": "sums over all of the pixels. We just run through all of the\npixels adding up these things.",
    "start": "2942100",
    "end": "2948590"
  },
  {
    "text": "And so really, well, if you\nwant to do it sequentially, you need two accumulators.",
    "start": "2948590",
    "end": "2953710"
  },
  {
    "text": "You set them to 0, then you\nrun through the image row by row, pixel by pixel.",
    "start": "2953710",
    "end": "2959530"
  },
  {
    "text": "And at each pixel,\nyou compute G. You're computing x Ey from it. You compute G.",
    "start": "2959530",
    "end": "2965050"
  },
  {
    "text": "And then one accumulator--\nyou multiply G by et. add that to that accumulator.",
    "start": "2965050",
    "end": "2970390"
  },
  {
    "text": "The other accumulator,\nyou take G squared, and you dump it into that one. And then, when you've come\nall the way through the image,",
    "start": "2970390",
    "end": "2975880"
  },
  {
    "text": "you've got these two sums. You divide them,\nand you're done. So it's totally brainless.",
    "start": "2975880",
    "end": "2980980"
  },
  {
    "text": "There's no intelligence there,\nartificial or otherwise. And I call this a quote,\n\"direct computation.\"",
    "start": "2980980",
    "end": "2990430"
  },
  {
    "text": "Because there are\nlots of other ways of approaching this problem. For example, you might\nmeasure the size of--",
    "start": "2990430",
    "end": "2998470"
  },
  {
    "text": "like you're coming\nout of a parking lot and there's an MIT\nbus in front of you.",
    "start": "2998470",
    "end": "3003900"
  },
  {
    "text": "Then you can measure\nin the image, how many pixels is\nthe image of the bus? And how many pixels per frame in\ntime is it changing, and so on?",
    "start": "3003900",
    "end": "3013770"
  },
  {
    "text": "You can do that. But it means you have\nto detect the bus. You have to find the edges. You have to estimate the\nbeginning and end of the bus.",
    "start": "3013770",
    "end": "3020130"
  },
  {
    "text": "And you better measure it\nwith very high precision, like a hundredth of a pixel.",
    "start": "3020130",
    "end": "3025260"
  },
  {
    "text": "And it's not too hard to find\nout where the edge of the bus is in terms of pixels,\nbut hundredth of--",
    "start": "3025260",
    "end": "3031140"
  },
  {
    "text": "and why do you have to\nmeasure that accurately? Because it doesn't change much\nfrom one frame to the next. So there are other\nways of doing this.",
    "start": "3031140",
    "end": "3040020"
  },
  {
    "text": "But this is-- it's brute\nforce, mindless, and elegant.",
    "start": "3040020",
    "end": "3045930"
  },
  {
    "text": "That's my view of it. OK, now of course, this\nis very specialized. We're only dealing with a case\nwhere we are running straight",
    "start": "3045930",
    "end": "3052650"
  },
  {
    "text": "into the wall. And so we'll look at more\ninteresting cases in a minute.",
    "start": "3052650",
    "end": "3058180"
  },
  {
    "text": "But what I'm hoping\nto do, if I can get the projector going again,\nis to demonstrate some of this.",
    "start": "3058180",
    "end": "3064650"
  },
  {
    "start": "3064650",
    "end": "3086710"
  },
  {
    "text": "So what I'll show you is\na little program called",
    "start": "3086710",
    "end": "3094619"
  },
  {
    "text": "MontyVision, which allows you\nto create image processing",
    "start": "3094620",
    "end": "3102030"
  },
  {
    "text": "applications by a graphical\nprocess of basically plugging",
    "start": "3102030",
    "end": "3107070"
  },
  {
    "text": "together quote, \"filters.\" So let me bring this\nover here and show",
    "start": "3107070",
    "end": "3114240"
  },
  {
    "text": "that to you for a second. So this is what it looks like. And plug together the left most\nthing is a file source, which,",
    "start": "3114240",
    "end": "3124240"
  },
  {
    "text": "in this case, is\n.avi file, video.",
    "start": "3124240",
    "end": "3129820"
  },
  {
    "text": "Then it goes into\na splitter that cuts it up into\nstreams, including",
    "start": "3129820",
    "end": "3135240"
  },
  {
    "text": "going from color to gray level. There's a decompressor, because\nall the video is compressed,",
    "start": "3135240",
    "end": "3141910"
  },
  {
    "text": "otherwise it would be\nridiculously large. And then it goes into\nthe time to contact box,",
    "start": "3141910",
    "end": "3147870"
  },
  {
    "text": "and it comes out the\nvideo renderer over there.",
    "start": "3147870",
    "end": "3153150"
  },
  {
    "text": "And this time to\ncontact box has a set",
    "start": "3153150",
    "end": "3160210"
  },
  {
    "text": "of parameters that show up\nsomewhere off screen right now. OK, so I'll put this back where\nI can see it on my screen.",
    "start": "3160210",
    "end": "3170080"
  },
  {
    "text": "And let's hope this works. Oh. OK, so I'll run\nthis several times,",
    "start": "3170080",
    "end": "3176170"
  },
  {
    "text": "because this goes\nby pretty fast. So here we are running\ninto a truck that's",
    "start": "3176170",
    "end": "3181510"
  },
  {
    "text": "used in the mining industry. It's kind of a large truck. And what we're seeing\nare a whole number",
    "start": "3181510",
    "end": "3189310"
  },
  {
    "text": "of different things. I'll also try and\nget rid of this. Well, let me just run it again.",
    "start": "3189310",
    "end": "3196240"
  },
  {
    "text": " So you be seeing a circle--",
    "start": "3196240",
    "end": "3202930"
  },
  {
    "text": "red circle-- that\ndenotes the focus of expansion, the estimate\nof the focus of expansion.",
    "start": "3202930",
    "end": "3208069"
  },
  {
    "text": "And you can see that we're going\nto hit that tire or that wheel.",
    "start": "3208070",
    "end": "3213580"
  },
  {
    "text": "And then, you will see the\nthree bars on the right.",
    "start": "3213580",
    "end": "3223220"
  },
  {
    "text": "So the third one is c, the\nthing we just calculated. And you can see that\nit's red meaning bad,",
    "start": "3223220",
    "end": "3230260"
  },
  {
    "text": "and it's growing\nupwards as we approach. It's the inverse of\nthe time to contact.",
    "start": "3230260",
    "end": "3235900"
  },
  {
    "text": "And the other things,\nlike the time to contact is over there in frames.",
    "start": "3235900",
    "end": "3241960"
  },
  {
    "text": "And we can plot to see how\naccurate it is compared to when we actually hit the target.",
    "start": "3241960",
    "end": "3249010"
  },
  {
    "text": "So this is slightly\ndifferent from what we did, because this allows some motion\nin the x and the y direction,",
    "start": "3249010",
    "end": "3255370"
  },
  {
    "text": "and we'll do that in a second. And as a result, it has three\nqualities its computing,",
    "start": "3255370",
    "end": "3260560"
  },
  {
    "text": "which we'll call a, b, and c. And those are the three\nbars you see on the right. And if we were going\nstraight down the barrel,",
    "start": "3260560",
    "end": "3267670"
  },
  {
    "text": "the first two would be 0. They wouldn't be either up\nor down, but they're not.",
    "start": "3267670",
    "end": "3272920"
  },
  {
    "text": "There's an x component and\na small y component that-- and of course, this is noisy.",
    "start": "3272920",
    "end": "3278390"
  },
  {
    "text": "So it's not perfect. OK, let's look at a\ndifferent one then.",
    "start": "3278390",
    "end": "3285135"
  },
  {
    "text": "Newman-- ",
    "start": "3285135",
    "end": "3300860"
  },
  {
    "text": "Well, I guess I'm obsessed\nwith running into trucks-- one of my nightmares. So here's another truck\nwe're running into.",
    "start": "3300860",
    "end": "3306800"
  },
  {
    "text": "The circle, again, indicates\nthe focus of expansion. The three bars are a, b, and c.",
    "start": "3306800",
    "end": "3312590"
  },
  {
    "text": "And the rightmost one\nis the one that we now know how to calculate. And I'll show there's\na couple more times.",
    "start": "3312590",
    "end": "3320210"
  },
  {
    "text": "And it's growing as we go,\nbecause the time to contact is getting shorter so 1\nover the time to contact",
    "start": "3320210",
    "end": "3326150"
  },
  {
    "text": "is getting larger. The time to contact computed\nis down on the right-hand side.",
    "start": "3326150",
    "end": "3331430"
  },
  {
    "text": "Now, it turns out that if we\nwere to do this frame-by-frame, you would notice that near\nthe end it just is wrong.",
    "start": "3331430",
    "end": "3340350"
  },
  {
    "text": "And so why is that? Well, there's a whole\nbunch of different reasons. One of them is that the\nimage becomes out of focus",
    "start": "3340350",
    "end": "3348960"
  },
  {
    "text": "and so the information\nis changing. We're kind of assuming that\nthe image is just zooming,",
    "start": "3348960",
    "end": "3356510"
  },
  {
    "text": "but in the system that\nhas a lens, unless we adjust the lens\nto stay in focus,",
    "start": "3356510",
    "end": "3362390"
  },
  {
    "text": "we're going to go out of focus. Another point is that initially,\nthe image motion is very small.",
    "start": "3362390",
    "end": "3368720"
  },
  {
    "text": "It's a fraction of a\npixel between frames. But then, of course, as we\nget close to the object, things are really exploding.",
    "start": "3368720",
    "end": "3375170"
  },
  {
    "text": "And so our whole assumption\nabout estimating derivatives by taking neighboring\npixels and subtracting them",
    "start": "3375170",
    "end": "3381500"
  },
  {
    "text": "and all of that stuff is\nnot working very well. And so how do you\ndeal with that?",
    "start": "3381500",
    "end": "3387360"
  },
  {
    "text": "Well, one way is\nto combine pixels",
    "start": "3387360",
    "end": "3392520"
  },
  {
    "text": "so that on the super\npixels, the motion is a small number of pixels.",
    "start": "3392520",
    "end": "3398550"
  },
  {
    "text": "And we know that's\nwhen this works. So what we could do is run\nthis at multiple scales. So you have the full\nresolution of the image.",
    "start": "3398550",
    "end": "3405400"
  },
  {
    "text": "And when things are\nfar away, that's the one that's going to give\nus the best information. Then we, for example, average\n2-by-2 blocks of pixels.",
    "start": "3405400",
    "end": "3414990"
  },
  {
    "text": "Now we have an image which\nhas a quarter as many pixels. And it can cope\nwith twice the image",
    "start": "3414990",
    "end": "3420660"
  },
  {
    "text": "motion, because a\ncertain amount of image motion in the original\nimage now corresponds",
    "start": "3420660",
    "end": "3425700"
  },
  {
    "text": "to half as many pixels\nin this reduced one. And then, we do that again. We take that reduced\npicture, we again--",
    "start": "3425700",
    "end": "3433260"
  },
  {
    "text": "2-by-2, average and now\nwe're down to a 16th.",
    "start": "3433260",
    "end": "3438810"
  },
  {
    "text": "So this gets very\ncheap to compute compared to the original image. And so there's no real cost--",
    "start": "3438810",
    "end": "3446430"
  },
  {
    "text": "additional cost to this. Well, some. So what is 1 plus a\nquarter, plus a sixteenth,",
    "start": "3446430",
    "end": "3452579"
  },
  {
    "text": "plus a sixty-fourth plus-- OK, well, you know how\nto sum geometric series.",
    "start": "3452580",
    "end": "3458140"
  },
  {
    "text": "And the answer is-- I don't know-- 4/3 or something. So yes, it costs more,\nbut it's not a huge cost.",
    "start": "3458140",
    "end": "3463690"
  },
  {
    "text": "You can afford to do\nthis at multiple scales. And that allows\nyou, then, to cope with all of the\nvelocities, starting off",
    "start": "3463690",
    "end": "3471370"
  },
  {
    "text": "with a very slow\nsub-pixel motion to where things are\nreally blowing up.",
    "start": "3471370",
    "end": "3477640"
  },
  {
    "text": "OK, well let me\ndo one more thing and hook this up to the camera.",
    "start": "3477640",
    "end": "3483270"
  },
  {
    "text": "Hopefully that'll work. ",
    "start": "3483270",
    "end": "3492820"
  },
  {
    "text": "Oh, don't do that to me. ",
    "start": "3492820",
    "end": "3500770"
  },
  {
    "text": "OK, so here's a web camera. And I guess it's\nrelatively dark in here.",
    "start": "3500770",
    "end": "3508750"
  },
  {
    "text": "Let me try the paper. Out the focus. ",
    "start": "3508750",
    "end": "3518080"
  },
  {
    "text": "Trying to find something that\nwill give it a nice texture to work with. I guess there's a chair which\nhas lots of holes in it.",
    "start": "3518080",
    "end": "3525990"
  },
  {
    "text": "Let's try that.  OK, so I'll try and hold\nit as still as possible.",
    "start": "3525990",
    "end": "3534740"
  },
  {
    "text": "So again, the three\nbars are a, b, and c. And they're all over the\nshow, but relatively small.",
    "start": "3534740",
    "end": "3542420"
  },
  {
    "text": "Now, if I move the\ncamera up, that third bar should go down and\nbe green for safe,",
    "start": "3542420",
    "end": "3547910"
  },
  {
    "text": "meaning the time to\ncontact is negative. If I move it down,\nthat third bar",
    "start": "3547910",
    "end": "3553900"
  },
  {
    "text": "will go up and be\nred, meaning I'm about to crash into something.",
    "start": "3553900",
    "end": "3559700"
  },
  {
    "text": "And I think the reason it's got\nthis jerky motion is because it",
    "start": "3559700",
    "end": "3565130"
  },
  {
    "text": "doesn't like this projector. So it's got a very\nslow cycle time. It should be running at\n28 frames per second,",
    "start": "3565130",
    "end": "3572120"
  },
  {
    "text": "and it's obviously not. OK. ",
    "start": "3572120",
    "end": "3581430"
  },
  {
    "text": "Now, if I try to move in x--\nlet me see if I can move in x-- that first bar should go up.",
    "start": "3581430",
    "end": "3590490"
  },
  {
    "text": "Oh, I'm not holding it\nstraight, so I'm getting the crosstalk between x and y.",
    "start": "3590490",
    "end": "3596130"
  },
  {
    "text": "Right now I'm moving in y. And I'm moving in the\nopposite direction in y. So that second bar goes up,\nand the second ball goes down.",
    "start": "3596130",
    "end": "3605250"
  },
  {
    "text": "And here, I can move\nin the x direction-- the first bar goes up, and\nthe first bar goes down.",
    "start": "3605250",
    "end": "3612380"
  },
  {
    "text": "And I mean, to me,\nthis is fascinating, because it's such\na neat instrument. And it doesn't have\nany magic in it,",
    "start": "3612380",
    "end": "3620750"
  },
  {
    "text": "and we can understand\nits limitations. We can calculate what\nthe error is and so on.",
    "start": "3620750",
    "end": "3626329"
  },
  {
    "text": "It's not like something\nthat's very elaborate and has some hidden code in it.",
    "start": "3626330",
    "end": "3633930"
  },
  {
    "text": "So let me show you that version.",
    "start": "3633930",
    "end": "3639359"
  },
  {
    "text": "Let's see. ",
    "start": "3639360",
    "end": "3645210"
  },
  {
    "text": "Oh. Oh, OK. Oh, I see. It's closed.",
    "start": "3645210",
    "end": "3652450"
  },
  {
    "text": "So one of the\nfeatures of this code is it can show you some\nintermediate results.",
    "start": "3652450",
    "end": "3660210"
  },
  {
    "text": "I need to look at the\ncontrol panel for this to see what it's\nshowing right now.",
    "start": "3660210",
    "end": "3666040"
  },
  {
    "text": "So right now, it's\nsub-sampling 2 by 2. And let me show Ex.",
    "start": "3666040",
    "end": "3672330"
  },
  {
    "text": "Let's get rid of this. OK, so Ex is just the\nderivative in the x direction.",
    "start": "3672330",
    "end": "3679550"
  },
  {
    "text": "And positive is shown\ngreen, negative in black.",
    "start": "3679550",
    "end": "3686370"
  },
  {
    "text": "And it's fairly weak in\nmost parts of the image, except where the black line is.",
    "start": "3686370",
    "end": "3692009"
  },
  {
    "text": "There, on one side\nof the black line, there's a rapid change\nin brightness up. And on the other side\nof the black line,",
    "start": "3692010",
    "end": "3698280"
  },
  {
    "text": "there's a rapid change\nin brightness down. So that gives you the\ngreen and the red fringes",
    "start": "3698280",
    "end": "3703859"
  },
  {
    "text": "in the x direction. Now, if I turn it so that that\nblack line runs horizontally,",
    "start": "3703860",
    "end": "3709170"
  },
  {
    "text": "there'll be less, because the\nx derivative now is very small.",
    "start": "3709170",
    "end": "3715290"
  },
  {
    "text": "I see that, because\nit's more or less constant in the x direction. Whereas, if I look\nat the y derivative--",
    "start": "3715290",
    "end": "3724670"
  },
  {
    "text": "oh, I can actually\nshow x and y together in a slightly\ndifferent presentation. So here, the x derivative\nis controlling red,",
    "start": "3724670",
    "end": "3734750"
  },
  {
    "text": "and the y derivative\nis controlling green.",
    "start": "3734750",
    "end": "3740760"
  },
  {
    "text": "And you get this\nfunny kind of almost three-dimensional\nfeeling about the result.",
    "start": "3740760",
    "end": "3747130"
  },
  {
    "text": "But the gradient is\nshowing the direction of most rapid variation.",
    "start": "3747130",
    "end": "3753339"
  },
  {
    "text": "So think again of what\nwe said about the analogy with a surface-- a topographic map.",
    "start": "3753340",
    "end": "3760920"
  },
  {
    "text": "And that's why this\nlooks a little bit to us like it's three-dimensional.",
    "start": "3760920",
    "end": "3766410"
  },
  {
    "text": "OK, so those are the\nbasic things we compute. I can also show, instead, Et.",
    "start": "3766410",
    "end": "3773100"
  },
  {
    "text": "Now, Et, if I was solid as a\nrock, would be 0 everywhere.",
    "start": "3773100",
    "end": "3779540"
  },
  {
    "text": "And obviously, I'm not. Let's see if I can\nhold on to something to make it more constant.",
    "start": "3779540",
    "end": "3785865"
  },
  {
    "text": " So you can see it\ndecreasing in magnitude,",
    "start": "3785865",
    "end": "3792540"
  },
  {
    "text": "although I can't seem-- OK. So that's a time direction.",
    "start": "3792540",
    "end": "3798030"
  },
  {
    "text": "We're subtracting\nsuccessive images. And let's see, let's look at G.",
    "start": "3798030",
    "end": "3807020"
  },
  {
    "text": "So G is that radial\nderivative, x. ",
    "start": "3807020",
    "end": "3813870"
  },
  {
    "text": "And what can you say? Well, it goes outwards.",
    "start": "3813870",
    "end": "3820320"
  },
  {
    "text": "You see that square box?",
    "start": "3820320",
    "end": "3828300"
  },
  {
    "text": "It's green all the way around,\nwhich is not what Ex would do, because Ex would be\nopposite on the two sides.",
    "start": "3828300",
    "end": "3835650"
  },
  {
    "text": "But because we're\nmultiplying by the vector from the center of\nthe image, it actually ends up being green\nall the way around.",
    "start": "3835650",
    "end": "3844340"
  },
  {
    "text": "Now, we can do one\nmore thing, which is to multiply it by\nthe time derivative Et.",
    "start": "3844340",
    "end": "3850100"
  },
  {
    "text": "So in that formula,\nyou may remember that there's a product of ET\nin this brightness gradient.",
    "start": "3850100",
    "end": "3855590"
  },
  {
    "text": "And obviously, if that is 0,\nit will say there is no motion.",
    "start": "3855590",
    "end": "3861800"
  },
  {
    "text": "If there is motion,\nthen it'll be non-zero. And in particular-- hmm.",
    "start": "3861800",
    "end": "3871029"
  },
  {
    "text": "It's unfortunate that it's not-- oh, OK. So here you can see\nthat in most places--",
    "start": "3871030",
    "end": "3877700"
  },
  {
    "text": "I wish it was running faster,\nbecause it's very hard to-- in most places it's\nnow green, because I'm",
    "start": "3877700",
    "end": "3885170"
  },
  {
    "text": "moving away from the surface. When I do this, in most\nplaces, it'll be red. And the reason the other\nareas is because it's",
    "start": "3885170",
    "end": "3892760"
  },
  {
    "text": "jiggling back and forth. I'm not a very good manipulator. If I had a robotic manipulator,\nwe could do this better.",
    "start": "3892760",
    "end": "3902510"
  },
  {
    "text": "OK, so anyway, anything\nelse we want to see on this?",
    "start": "3902510",
    "end": "3908280"
  },
  {
    "text": "So before I put that away,\nare there any questions? Yeah. You've got a very limited,\nvery constrained problem,",
    "start": "3908280",
    "end": "3916240"
  },
  {
    "text": "which is the problem of the\nfly landing on the surface or someone running into a wall.",
    "start": "3916240",
    "end": "3923819"
  },
  {
    "text": "If there are multiple motions,\nthis isn't going to work. And we're going to do that.",
    "start": "3923820",
    "end": "3931010"
  },
  {
    "text": " So we're slowly expanding.",
    "start": "3931010",
    "end": "3940590"
  },
  {
    "text": "We started off with\none unknown, which was just the inverse\nof the time to contact.",
    "start": "3940590",
    "end": "3947430"
  },
  {
    "text": "And now we're going to\ndo a little bit more. But ultimately,\nwhat we'd like to do is deal with arbitrary\nmotions, where u and v are not",
    "start": "3947430",
    "end": "3958260"
  },
  {
    "text": "constrained by just\na few parameters, but they could be different\nall over the image.",
    "start": "3958260",
    "end": "3964410"
  },
  {
    "text": "So u and v, right now,\nare some simple function of some constant.",
    "start": "3964410",
    "end": "3971520"
  },
  {
    "text": "Where is the equation? Over here. And what we'd like\nto eventually get to,",
    "start": "3971520",
    "end": "3977340"
  },
  {
    "text": "after a few more\nstages, is where u and v can vary arbitrarily\nover the whole image.",
    "start": "3977340",
    "end": "3982830"
  },
  {
    "text": "And you can see how that's\ngoing to be problematic, right? Because at every pixel, we have\nour magic equation up there,",
    "start": "3982830",
    "end": "3992220"
  },
  {
    "text": "the brightness change\nconstraint equation. At every pixel, we\nget one constraint. So if we have a million pixels,\nwe have a million equations.",
    "start": "3992220",
    "end": "3998759"
  },
  {
    "text": "But we have 2 million unknowns,\nbecause at every pixel, we'd like to know u and v. So\nthat doesn't sound very good.",
    "start": "3998760",
    "end": "4009079"
  },
  {
    "text": "So we'll have to introduce some\nadditional assumptions to solve that problem.",
    "start": "4009080",
    "end": "4014120"
  },
  {
    "text": "Because right now, it looks\nlike we have a million equations and two million unknowns.",
    "start": "4014120",
    "end": "4019740"
  },
  {
    "text": "We know what the\nanswer to that one is. But fortunately, in\nmost cases, there",
    "start": "4019740",
    "end": "4025550"
  },
  {
    "text": "is additional information. For a start, when I'm\nmoving around the room and you're moving in your seats,\nin most places in the image,",
    "start": "4025550",
    "end": "4033890"
  },
  {
    "text": "neighboring points are moving\nnot the same, but very similar. And so if they were\nmoving the same,",
    "start": "4033890",
    "end": "4040400"
  },
  {
    "text": "then we could easily integrate\nthat with our approach. If they're similar, it's\na little bit harder.",
    "start": "4040400",
    "end": "4045890"
  },
  {
    "text": "But that's what\nwe're going to do. We're going to say that we're\ntrying to recover this vector",
    "start": "4045890",
    "end": "4050960"
  },
  {
    "text": "field in the situation where\nthings can move independently",
    "start": "4050960",
    "end": "4056060"
  },
  {
    "text": "but there is some-- it's\nnot like you're looking at-- oh, you don't remember this. But it used to be that\nlate at night TV stations",
    "start": "4056060",
    "end": "4063740"
  },
  {
    "text": "would go off the air,\nand there was no signal. And then the radio receiver\nwould be basically putting",
    "start": "4063740",
    "end": "4070850"
  },
  {
    "text": "white noise on your screen. So you'd just see this--\nevery pixel is totally unrelated to every other pixel.",
    "start": "4070850",
    "end": "4077670"
  },
  {
    "text": "So that's a situation\nwe're not going to be dealing with, because\nthat's not a natural situation.",
    "start": "4077670",
    "end": "4083720"
  },
  {
    "text": "As I'm doing my daily business\nof eating and whatever,",
    "start": "4083720",
    "end": "4089000"
  },
  {
    "text": "I'm dealing with\na situation where neighboring pixels typically\nhave almost the same velocity.",
    "start": "4089000",
    "end": "4094830"
  },
  {
    "text": "OK, well let's go back to\nthis and try and generalize",
    "start": "4094830",
    "end": "4101370"
  },
  {
    "text": "it a bit. So the next most\ngeneral thing to do",
    "start": "4101370",
    "end": "4107509"
  },
  {
    "text": "is to say, OK, let's\nhave motion in U and V in the x and y\ndirection, as well.",
    "start": "4107510",
    "end": "4114770"
  },
  {
    "text": "So no longer will U and V-- big U and big V up there-- be 0.",
    "start": "4114770",
    "end": "4121159"
  },
  {
    "text": "But there'll be-- we'll\nallow them to vary, as well. So let's see.",
    "start": "4121160",
    "end": "4127278"
  },
  {
    "start": "4127279",
    "end": "4132389"
  },
  {
    "text": "Before I go there, let me\njust say something about--",
    "start": "4132390",
    "end": "4138270"
  },
  {
    "text": "I totally missed this. But everything we did so\nfar, we got the answer, and then I said, oh, but\nhow is this going to fail?",
    "start": "4138270",
    "end": "4144818"
  },
  {
    "text": "We haven't done that here. So you remember that\nthis was c equals the ratio of two integrals.",
    "start": "4144819",
    "end": "4150299"
  },
  {
    "text": "And of course,\nit's going to fail if the integral of G\nsquared is 0, for example. That's one way it can fail.",
    "start": "4150300",
    "end": "4156520"
  },
  {
    "text": "So what does that mean? Well, that means that there's\n0 radial gradient everywhere",
    "start": "4156520",
    "end": "4161580"
  },
  {
    "text": "in the image. And one way for that to happen\nis you're in a coal mine",
    "start": "4161580",
    "end": "4167549"
  },
  {
    "text": "without lights. E is 0. That's not a particularly\ninteresting case.",
    "start": "4167550",
    "end": "4172859"
  },
  {
    "text": "The other one is\nthat the brightness-- the radial derivative--\nis 0 everywhere.",
    "start": "4172859",
    "end": "4178170"
  },
  {
    "text": "That means that the\ncomponent of the gradient in the radial direction is 0.",
    "start": "4178170",
    "end": "4185278"
  },
  {
    "text": "So we have this\nexpression over here. This is 0.",
    "start": "4185279",
    "end": "4190528"
  },
  {
    "text": "And that means that-- let's see. That means that the radial\ndirection and the gradient",
    "start": "4190529",
    "end": "4196500"
  },
  {
    "text": "are at right angles\nto one another. That's how we get the\ndot product to be 0. So let's try and draw\na picture like that.",
    "start": "4196500",
    "end": "4203440"
  },
  {
    "text": "So here's an image. And say we're there. Then the radial\ndirection is that.",
    "start": "4203440",
    "end": "4210989"
  },
  {
    "text": "And we're saying\nthat the gradient has to be at right angles to it\nso that the brightness can",
    "start": "4210990",
    "end": "4219380"
  },
  {
    "text": "change in that direction, but it\ncan't change in this direction.",
    "start": "4219380",
    "end": "4225290"
  },
  {
    "text": "So in this direction\nwe can change. We can't change in that. And similarly for\nany other direction--",
    "start": "4225290",
    "end": "4231739"
  },
  {
    "text": "we can have the\nbrightness change this way but not radially.",
    "start": "4231740",
    "end": "4238220"
  },
  {
    "text": "So what sort of\npattern would do that? ",
    "start": "4238220",
    "end": "4246570"
  },
  {
    "text": "How about a bullseye? Is that-- it will have variation\nin the radial direction.",
    "start": "4246570",
    "end": "4251880"
  },
  {
    "text": "So that doesn't work. So if it's not a bullseye,\nturn it 90 degrees everywhere.",
    "start": "4251880",
    "end": "4261110"
  },
  {
    "text": "An x will do. Sorry, what did you say? AUDIENCE: Rotate it.",
    "start": "4261110",
    "end": "4266190"
  },
  {
    "text": "BERTHOLD HORN: If\nwe rotate it-- hmm. If we draw a slice\nand rotate it--",
    "start": "4266190",
    "end": "4273360"
  },
  {
    "text": "pie charts. So if we have a pie chart,\nthen everywhere the gradient",
    "start": "4273360",
    "end": "4281610"
  },
  {
    "text": "is in the rotating\ndirection, there's no variation in brightness\ninwards and outwards.",
    "start": "4281610",
    "end": "4289739"
  },
  {
    "text": "So this whole pie\nsector is one color. This is another\ncolor, and so on. And so that's a case\nwhere this will fail.",
    "start": "4289740",
    "end": "4298320"
  },
  {
    "text": "And does that make sense? I mean, would you\nexpect it to fail?",
    "start": "4298320",
    "end": "4303480"
  },
  {
    "text": "Why-- could you do better? So you're looking at--",
    "start": "4303480",
    "end": "4308510"
  },
  {
    "text": "you see nothing else in the\nworld except this pie chart, and you're moving towards it. ",
    "start": "4308510",
    "end": "4315600"
  },
  {
    "text": "Well, the-- shaking of heads. The image doesn't change. I mean, we're\nmaking assumptions,",
    "start": "4315600",
    "end": "4322050"
  },
  {
    "text": "like you can't see fine, little\nspecks on the surface that would give you a clue.",
    "start": "4322050",
    "end": "4327150"
  },
  {
    "text": "Assuming it's perfectly\nsmooth and you just have these, if you\nmagnified by a factor of 2,",
    "start": "4327150",
    "end": "4332340"
  },
  {
    "text": "it looks the same. So that's perfectly consistent. This method isn't going to work.",
    "start": "4332340",
    "end": "4337590"
  },
  {
    "text": "And it can't. It doesn't-- there's no\ninformation there for it to work on. So we'll come back to this\nissue when we generalize it.",
    "start": "4337590",
    "end": "4346380"
  },
  {
    "text": "Again, looking at the case\nwhere it'll fail, and is it reasonable for it to fail?",
    "start": "4346380",
    "end": "4352830"
  },
  {
    "text": "Could we do better? Now, in a lot of\ncases, we can do better, just because, if I\nlook at a piece of paper,",
    "start": "4352830",
    "end": "4360060"
  },
  {
    "text": "it's not perfectly smooth. They're tiny fluctuations,\nthere are little fibers. And so this overall pattern\nmight look like this,",
    "start": "4360060",
    "end": "4369660"
  },
  {
    "text": "but there are tiny\nlittle specks in there, and I can pay\nattention to those. And similarly, this\nalgorithm could,",
    "start": "4369660",
    "end": "4377040"
  },
  {
    "text": "if the contrast is high\nenough of those little specks,",
    "start": "4377040",
    "end": "4382200"
  },
  {
    "text": "it would pick up\na non-zero Ex, Ey and it would calculate\nthe time to contact.",
    "start": "4382200",
    "end": "4390430"
  },
  {
    "text": "OK, so more general-- slightly more general case. ",
    "start": "4390430",
    "end": "4398010"
  },
  {
    "text": "OK, so now we're allowing\nu and v to be non-zero.",
    "start": "4398010",
    "end": "4403949"
  },
  {
    "text": "And so we've got u of f is-- I'm just copying the\nequation from over there.",
    "start": "4403950",
    "end": "4410145"
  },
  {
    "start": "4410145",
    "end": "4423750"
  },
  {
    "text": "And for convenience, I'm going\nto multiply through by f. ",
    "start": "4423750",
    "end": "4443320"
  },
  {
    "text": "OK. ",
    "start": "4443320",
    "end": "4453679"
  },
  {
    "text": "So I'm just defining\ntwo new variables. So we've already had\nc was w over z, which",
    "start": "4453680",
    "end": "4460310"
  },
  {
    "text": "is the inverse of\nthe time to contact. And now, we're\ndefining two more,",
    "start": "4460310",
    "end": "4466460"
  },
  {
    "text": "which are fu over z,\nwhich is f times x0.",
    "start": "4466460",
    "end": "4472880"
  },
  {
    "text": "And fv over z,\nwhich is f over y0.",
    "start": "4472880",
    "end": "4479800"
  },
  {
    "text": "Why is that? What does that mean? Well, what we're going to find\nis time to contact and FOE.",
    "start": "4479800",
    "end": "4490060"
  },
  {
    "text": "But it's more convenient to\ndefine these variables that are functions of time\nto contact and FOE,",
    "start": "4490060",
    "end": "4498340"
  },
  {
    "text": "because then the\nequations are simple. We only have a\nfew terms in them.",
    "start": "4498340",
    "end": "4503389"
  },
  {
    "text": "So this one here is just\nf times the x component of the focus of expansion,\nand this one is just",
    "start": "4503390",
    "end": "4510070"
  },
  {
    "text": "f times the y component. So once we know a and\nb, we can calculate",
    "start": "4510070",
    "end": "4515260"
  },
  {
    "text": "where the focus of expansion\nis, assuming that we know f. ",
    "start": "4515260",
    "end": "4523150"
  },
  {
    "text": "One thing that I didn't\nmention is in our formula here for c, f doesn't show up.",
    "start": "4523150",
    "end": "4529360"
  },
  {
    "text": "So that's kind of\ninteresting, because it means that we don't need\nto certain properties",
    "start": "4529360",
    "end": "4534850"
  },
  {
    "text": "of the camera in order to\ndo that computation, which is surprising, because for many\npurposes, you do need to know.",
    "start": "4534850",
    "end": "4542770"
  },
  {
    "text": "For example, if you take the\napproach, OK, time to contact is distance divided by velocity. Well, to compute the\ndistance, you need f.",
    "start": "4542770",
    "end": "4550000"
  },
  {
    "text": "To compute the\nvelocity, you need f. So it's a very pleasant surprise\nthat to compute the time",
    "start": "4550000",
    "end": "4557680"
  },
  {
    "text": "to contact, we don't need it. Intuitively, what's going on\nis that if I approach a wall,",
    "start": "4557680",
    "end": "4565780"
  },
  {
    "text": "it's going to loom outward. And if I approach it\nwith a telephoto lens,",
    "start": "4565780",
    "end": "4572440"
  },
  {
    "text": "it's still going\nto loom outward. And if you actually go through\nthe perspective projection equation, it's going to increase\nin size at the same rate.",
    "start": "4572440",
    "end": "4580480"
  },
  {
    "text": "And you're right that\nthat is big X over big Z.",
    "start": "4580480",
    "end": "4586810"
  },
  {
    "text": "So I've applied the perspective\nprojection equation here. ",
    "start": "4586810",
    "end": "4593180"
  },
  {
    "text": "OK, so now we have u\nand b as functional",
    "start": "4593180",
    "end": "4599900"
  },
  {
    "text": "[INAUDIBLE] unknowns,\nand we plug them into our favorite equation. ",
    "start": "4599900",
    "end": "4611429"
  },
  {
    "text": "And let's see. We get-- ",
    "start": "4611430",
    "end": "4628010"
  },
  {
    "text": "So that's our brightness\nchange constraint equation. And I'm going to, again,\ncall this G to cut down",
    "start": "4628010",
    "end": "4638050"
  },
  {
    "text": "on the amount of writing\nthe radial gradient. And I'll use the same method\nto try and find the answer.",
    "start": "4638050",
    "end": "4646330"
  },
  {
    "start": "4646330",
    "end": "4659930"
  },
  {
    "text": "OK, so we have this\nexpression, which, if we had the correct values\nfor a, b, and c, is 0.",
    "start": "4659930",
    "end": "4667880"
  },
  {
    "text": "If we integrate over the\nimage, it should still be 0. If we have the wrong values\nof a, b, and c, it won't be 0.",
    "start": "4667880",
    "end": "4675170"
  },
  {
    "text": "And so we formulate the\nproblem as making this as small as possible.",
    "start": "4675170",
    "end": "4681580"
  },
  {
    "text": "Now, in the absence\nof measurement noise, we could actually make it 0. In practice, Ex,\nEy, and ET will be",
    "start": "4681580",
    "end": "4688050"
  },
  {
    "text": "subject to measurement\nnoise, so we won't be able to quite make it 0. But it's still a valid\napproach to pose it",
    "start": "4688050",
    "end": "4699570"
  },
  {
    "text": "as this kind of least\nsquares problem. OK, and of course, only a\nfinite number of parameters--",
    "start": "4699570",
    "end": "4709020"
  },
  {
    "text": "a, b, and c. So it's a calculus problem. I keep on saying that,\nbecause later on,",
    "start": "4709020",
    "end": "4717790"
  },
  {
    "text": "we're going to be looking for\nfunctions, not parameters.",
    "start": "4717790",
    "end": "4724710"
  },
  {
    "text": "And then we can't use calculus--\nso can't differentiate with respect to a function--",
    "start": "4724710",
    "end": "4730607"
  },
  {
    "text": "is the short version\nof that story. ",
    "start": "4730607",
    "end": "4737840"
  },
  {
    "text": "OK, so what happens if\nwe differentiate this?",
    "start": "4737840",
    "end": "4743960"
  },
  {
    "text": "Well, the derivative\nof that integral",
    "start": "4743960",
    "end": "4749739"
  },
  {
    "text": "is the integral of the\nderivative of the integrand. The integrand is\nthis square thing.",
    "start": "4749740",
    "end": "4755019"
  },
  {
    "text": "So we get 2 times that. So we're going to get 2 into--",
    "start": "4755020",
    "end": "4760600"
  },
  {
    "start": "4760600",
    "end": "4770270"
  },
  {
    "text": "So we have 2 times\nthat, and then we have to take the derivative\nof that term in here",
    "start": "4770270",
    "end": "4776690"
  },
  {
    "text": "with respect to a. And the only thing here that\ndepends on a is this part.",
    "start": "4776690",
    "end": "4782670"
  },
  {
    "text": "So that's just Ex. ",
    "start": "4782670",
    "end": "4790180"
  },
  {
    "text": "And then, we repeat that. ",
    "start": "4790180",
    "end": "4802329"
  },
  {
    "text": "And again, we take the\nderivative of the integrand. So we get twice this thing. And the derivative of the\nterm here with respect to b",
    "start": "4802330",
    "end": "4810850"
  },
  {
    "text": "is obviously just Ey. So and then the third step is--",
    "start": "4810850",
    "end": "4818270"
  },
  {
    "text": "I'm not going to\nwrite this out again. And the only thing that\ndepends on c is cG.",
    "start": "4818270",
    "end": "4827630"
  },
  {
    "text": "And so we take the\nderivative and we just get G. So we get three equations,\nand magically, we",
    "start": "4827630",
    "end": "4835340"
  },
  {
    "text": "can actually solve them. So these simple cases have a\nwonderful feature that there's",
    "start": "4835340",
    "end": "4840500"
  },
  {
    "text": "a closed-form solution. I can write out\nwhat the answer is. And that's invaluable,\nbecause yeah,",
    "start": "4840500",
    "end": "4848240"
  },
  {
    "text": "you can always numerically\ncalculate stuff. But it's very hard to say\nthings about the solution.",
    "start": "4848240",
    "end": "4855990"
  },
  {
    "text": "Like, suppose I want to tell you\nthat there's only one answer. Well, if you have some numerical\nway of finding the minimum,",
    "start": "4855990",
    "end": "4863060"
  },
  {
    "text": "there could be another\nminimum somewhere else. And if I have an\nanalytic solution,",
    "start": "4863060",
    "end": "4868970"
  },
  {
    "text": "the closed-form\nsolution, I can say things like, how\nsensitive is it to noise? Well, I can just\ndifferentiate with respect",
    "start": "4868970",
    "end": "4875180"
  },
  {
    "text": "to the thing that\nhas noise in it. If I do it numerically,\nI'll have to recompute.",
    "start": "4875180",
    "end": "4880850"
  },
  {
    "text": "And then you say,\nOK, that's fine. That answer is OK for\nthis set of parameters.",
    "start": "4880850",
    "end": "4885885"
  },
  {
    "text": "What about different\nset of parameters? You have to recompute. Whereas if it's analytic\nform, there's the formula.",
    "start": "4885885",
    "end": "4892820"
  },
  {
    "text": "There it is. So unfortunately that\ndoesn't happen all the time. Once we make things\ncomplicated enough,",
    "start": "4892820",
    "end": "4899000"
  },
  {
    "text": "we typically can't find\na closed-form solution. OK, so what do we do with this? Well, the integral of a sum\nis the sum of the integrals.",
    "start": "4899000",
    "end": "4907860"
  },
  {
    "text": "So we can rewrite\nthis like this.",
    "start": "4907860",
    "end": "4914590"
  },
  {
    "text": "I'm leaving out the 2,\nbecause that doesn't make any difference to anything.",
    "start": "4914590",
    "end": "4920140"
  },
  {
    "text": "So I'm just multiplying\nout this term by Ex",
    "start": "4920140",
    "end": "4925150"
  },
  {
    "text": "and then splitting it up\ninto several integrals, because the integral of a sum\nis the sum of the integrals.",
    "start": "4925150",
    "end": "4933293"
  },
  {
    "text": "So that's going to be GEx. ",
    "start": "4933293",
    "end": "4944350"
  },
  {
    "text": "OK, so that's one equation. And you'll notice it's\nan equation that's linear in a, b, and c.",
    "start": "4944350",
    "end": "4949900"
  },
  {
    "text": "So that right away gives\nus hope that we can solve this problem pretty easily.",
    "start": "4949900",
    "end": "4955250"
  },
  {
    "text": "And if I repeat for\nthe second equation-- ",
    "start": "4955250",
    "end": "4994190"
  },
  {
    "text": "So three linear equations\nand three unknowns. And before we go on,\na couple of things. One of them is, you should\nrecognize parts of this.",
    "start": "4994190",
    "end": "5003100"
  },
  {
    "start": "5003100",
    "end": "5008490"
  },
  {
    "text": "That's what we\nhad before when we were going straight down\nthe optical axis where a and b are 0.",
    "start": "5008490",
    "end": "5015330"
  },
  {
    "text": "Then we're just\nleft with this part. We just had one equation\nand one unknown, set that was nice and easy.",
    "start": "5015330",
    "end": "5021510"
  },
  {
    "text": "Another thing is that\nthe coefficient matrix is symmetrical. So this coefficient is\nthe same as that one.",
    "start": "5021510",
    "end": "5028570"
  },
  {
    "text": "And that coefficient\nthe same as that one. And this one is the\nsame as that one. And often having a\nsymmetrical matrix",
    "start": "5028570",
    "end": "5036719"
  },
  {
    "text": "gives some advantage in\nterms of understanding the stability of the solution.",
    "start": "5036720",
    "end": "5042730"
  },
  {
    "text": "So what are these things? Well, how do we do\nthis, before we even start to solve the equations? So let's look at the\ncoefficient of a up here.",
    "start": "5042730",
    "end": "5052800"
  },
  {
    "text": "Well it's just\nthe integral of Ex squared over the whole image. So we go through the\nimage, and at every pixel,",
    "start": "5052800",
    "end": "5058475"
  },
  {
    "text": "we look at the\nneighboring pixel. We subtract the gray\nlevels to estimate E sub x.",
    "start": "5058475",
    "end": "5064620"
  },
  {
    "text": "Square it and add it\nto an accumulator. And we do this for\nall the pixels.",
    "start": "5064620",
    "end": "5071409"
  },
  {
    "text": "Then we have another accumulator\nwhere we estimate Ex and Ey",
    "start": "5071410",
    "end": "5076740"
  },
  {
    "text": "by looking at neighboring\npixels in the y direction, multiplying those\ntwo differences.",
    "start": "5076740",
    "end": "5082199"
  },
  {
    "text": "And then we have a\nthird accumulator. And G, we have to do x\ntimes Ex plus y times Ey.",
    "start": "5082200",
    "end": "5091949"
  },
  {
    "text": "And then we take the\nresult, multiply by x. We throw that into\nthat accumulator.",
    "start": "5091950",
    "end": "5097720"
  },
  {
    "text": "Now, we don't need\nto do this one, because it's the same as that\none because of the symmetry",
    "start": "5097720",
    "end": "5103630"
  },
  {
    "text": "of the coefficient matrix. We do have to\naccumulate that one. We have to accumulate\nthis one and that one.",
    "start": "5103630",
    "end": "5110380"
  },
  {
    "text": "And again, these two,\nbecause of symmetry, we don't need to do those. So we run through the image,\nand we have six accumulators",
    "start": "5110380",
    "end": "5120880"
  },
  {
    "text": "that we just add to as we go. And of course, you\ncould parallelize this,",
    "start": "5120880",
    "end": "5126040"
  },
  {
    "text": "because they don't interact. I mean, the operation I do\non this pixel, in this case,",
    "start": "5126040",
    "end": "5131890"
  },
  {
    "text": "is completely independent of the\noperation I do on that pixel. So if you have a GPU, you can\ndo a whole bunch of pixels",
    "start": "5131890",
    "end": "5138489"
  },
  {
    "text": "at once. You can dramatically\nspeed this up. Although, you saw it\nrunning on a silly",
    "start": "5138490",
    "end": "5145480"
  },
  {
    "text": "ThinkPad, and I was not\ndoing anything fancy. It's using software\nthat's five years old.",
    "start": "5145480",
    "end": "5152199"
  },
  {
    "text": "So even with that, if it's not\nhooked up to this projector,",
    "start": "5152200",
    "end": "5158400"
  },
  {
    "text": "it gets 28 frames per second. So it's not critical\nthat you paralyze it,",
    "start": "5158400",
    "end": "5164320"
  },
  {
    "text": "but if you wanted to, you could. And then you could run\nit at thousands of frames a second, which, by the way,\nis what optical mice run at.",
    "start": "5164320",
    "end": "5171400"
  },
  {
    "text": "They're typically\nrunning at 1,800 frames per second, or in a\ngaming mouse, even higher.",
    "start": "5171400",
    "end": "5178250"
  },
  {
    "text": "But the images\ntend to be smaller. The images are\noften only 32 by 32.",
    "start": "5178250",
    "end": "5185020"
  },
  {
    "text": "OK, so we accumulate those six. Notice that these do not\ndepend on any changes in time.",
    "start": "5185020",
    "end": "5192340"
  },
  {
    "text": "These only depend on the\nbrightness pattern, the texture that's in the image. Then we need three more which\ndo depend on changes in time.",
    "start": "5192340",
    "end": "5202630"
  },
  {
    "text": "And that's it. So we have a total\nof, let's see, nine accumulators we\nhave to keep track of.",
    "start": "5202630",
    "end": "5208510"
  },
  {
    "text": "And then we get to\nthe end, and then we have to solve three\nequations and three unknowns.",
    "start": "5208510",
    "end": "5214810"
  },
  {
    "text": "And I guess I ran overtime. So are there any questions\nbefore we depart?",
    "start": "5214810",
    "end": "5221220"
  },
  {
    "start": "5221220",
    "end": "5225442"
  }
]