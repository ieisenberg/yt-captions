[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "6692"
  },
  {
    "text": " DAVID PERREAULT:\nOK, good afternoon. So last time, we started\ntalking about power electronics",
    "start": "6692",
    "end": "16110"
  },
  {
    "text": "with three-phase elements. We spent our time talking\nabout just diode rectifiers. And that's actually quite\nimportant because when you're",
    "start": "16110",
    "end": "23010"
  },
  {
    "text": "building really\nhigh-power systems, very often that's\nthe kind of thing",
    "start": "23010",
    "end": "28410"
  },
  {
    "text": "you have at your front\nend between your AC to convert to DC. At the same time, a\nlot of applications",
    "start": "28410",
    "end": "35700"
  },
  {
    "text": "require high-frequency\nswitching power conversion. So the kind of things\nwe were talking about single-phase\ninverters, the question",
    "start": "35700",
    "end": "43050"
  },
  {
    "text": "is, what do you do with\na three-phase inverter? And one possibility is\njust to, in some cases,",
    "start": "43050",
    "end": "51989"
  },
  {
    "text": "replicate a single-phase system. So you could imagine if I had,\nsay, a three-phase machine",
    "start": "51990",
    "end": "58500"
  },
  {
    "text": "with open-ended\nwindings, maybe I",
    "start": "58500",
    "end": "63750"
  },
  {
    "text": "would have something where I\nhad a phase A and a phase B",
    "start": "63750",
    "end": "70540"
  },
  {
    "text": "and a phase C. And each of\nthem have a pair of terminals.",
    "start": "70540",
    "end": "77660"
  },
  {
    "text": "And I say, OK, I can go build a\nthree-phase inverter basically by building three\nsingle-phase inverters.",
    "start": "77660",
    "end": "83110"
  },
  {
    "text": "So maybe I come in\nfrom my DC bus, VDC. ",
    "start": "83110",
    "end": "90220"
  },
  {
    "text": "And I could come in and\nsay, OK, let me just build",
    "start": "90220",
    "end": "96310"
  },
  {
    "text": "a single-phase inverter, which\nwould be, say, four power MOSFETs.",
    "start": "96310",
    "end": "101703"
  },
  {
    "start": "101703",
    "end": "106912"
  },
  {
    "text": "And I'll show the diodes on the\npower MOSFETs just for clarity. ",
    "start": "106912",
    "end": "113219"
  },
  {
    "text": "And I could come out,\nand here's one terminal, and here's the other. And I build this\nto drive phase A.",
    "start": "113220",
    "end": "121230"
  },
  {
    "text": "And then I build another copy.  This is phase A. I build\nanother copy, drive phase B.",
    "start": "121230",
    "end": "128459"
  },
  {
    "text": "And I bring it in from\nthe same terminals. And then I build another\ncopy, and I drive phase C.",
    "start": "128460",
    "end": "137580"
  },
  {
    "text": "And I could again\nbuild in same DC bus.",
    "start": "137580",
    "end": "142650"
  },
  {
    "text": "And away I go. So I have 12 devices. I just have single-phase\ninverters, and I run it,",
    "start": "142650",
    "end": "149430"
  },
  {
    "text": "And in fact, sometimes\npeople do this. And in fact, actually,\nat MIT right now,",
    "start": "149430",
    "end": "155220"
  },
  {
    "text": "we're building a\nmegawatt system that basically has this structure. It's sets of\nsingle-phase inverters",
    "start": "155220",
    "end": "162480"
  },
  {
    "text": "that drive a three-phase system,\nwhere the machine is a custom machine and has so-called\nopen-ended windings like this.",
    "start": "162480",
    "end": "169659"
  },
  {
    "text": "So it works perfectly well. However, the vast majority\nof, say, three-phase motors",
    "start": "169660",
    "end": "178659"
  },
  {
    "text": "are not just separate\nwindings connected like that. Typically, if, for example, I\nhave a three-phase motor, what",
    "start": "178660",
    "end": "189130"
  },
  {
    "text": "I will have is either something\nconnected in wye, where this is one motor winding, a second\nmotor winding, and a third motor",
    "start": "189130",
    "end": "197020"
  },
  {
    "text": "winding, where I'll\nhave A, B, and C.",
    "start": "197020",
    "end": "203230"
  },
  {
    "text": "I only have three terminals. Or maybe I have-- this\nis a wye connection.",
    "start": "203230",
    "end": "209360"
  },
  {
    "text": "Maybe I have a delta\nconnection where the machine is wound like this. ",
    "start": "209360",
    "end": "216220"
  },
  {
    "text": "And again, I have A,\nB, and C. In this case,",
    "start": "216220",
    "end": "222370"
  },
  {
    "text": "I might have a neutral. In this case, I have no neutral. So in this case, I can't just\narbitrarily apply voltages",
    "start": "222370",
    "end": "232060"
  },
  {
    "text": "from three independent\nsingle-phase inverters. Why? Because if I accidentally\nconnected phase A",
    "start": "232060",
    "end": "238750"
  },
  {
    "text": "to high with one\ninverter and phase A to low with another inverter,\nI'd out my DC bus and everything would blow up.",
    "start": "238750",
    "end": "245590"
  },
  {
    "text": "So if I'm going to\ndrive something that's connected as a three-phase\nload in wye or delta,",
    "start": "245590",
    "end": "253070"
  },
  {
    "text": "I need a different plan. OK, so what do people do?",
    "start": "253070",
    "end": "258579"
  },
  {
    "text": "It's very much the\nstructure that we saw with the three-phase\nbridge rectifier.",
    "start": "258579",
    "end": "264050"
  },
  {
    "text": "Instead of having\ndiodes, however, I will have active switches.",
    "start": "264050",
    "end": "269920"
  },
  {
    "text": "So maybe I would come up and\nbuild something like this. ",
    "start": "269920",
    "end": "276550"
  },
  {
    "text": "I'll have my DC bus come in. So I'll have two terminals, VDC. ",
    "start": "276550",
    "end": "284240"
  },
  {
    "text": "I will have a first\nbridge leg like this. And let me make sure and\nshow the diodes again.",
    "start": "284240",
    "end": "290790"
  },
  {
    "text": "And this can generate VA. A second one can generate VB.",
    "start": "290790",
    "end": "304130"
  },
  {
    "text": "And a third one can generate VC.",
    "start": "304130",
    "end": "311355"
  },
  {
    "text": " Maybe what I'll do\nis I will consider",
    "start": "311355",
    "end": "317169"
  },
  {
    "text": "the midpoint of this bus for\nreasons we'll talk about. And I'm going to call this\nnode V sub R. OK, that's",
    "start": "317170",
    "end": "329440"
  },
  {
    "text": "my reference voltage. It's just the center\npoint of the bus. Where I ground this thing,\nwe can discuss that.",
    "start": "329440",
    "end": "337160"
  },
  {
    "text": "But let me just pretend that\nthis is exactly in the middle. It's VDC over 2 from here. And we'll see why we're\ngoing to talk about that.",
    "start": "337160",
    "end": "344090"
  },
  {
    "text": "And that's my inverter. And maybe I would connect it\nup to some three-phase load.",
    "start": "344090",
    "end": "349490"
  },
  {
    "text": "So maybe it would\nlook like this. I would have my three phases.",
    "start": "349490",
    "end": "355000"
  },
  {
    "text": "Here's one. Here's two. And here's three.",
    "start": "355000",
    "end": "361610"
  },
  {
    "text": "And maybe I would\nconnect this point to what I call V sub N,\nor the neutral point.",
    "start": "361610",
    "end": "367340"
  },
  {
    "text": "That's this neutral point if\nit was a wye-connected load. Or I could just have line to\nlines if there's no neutral.",
    "start": "367340",
    "end": "377780"
  },
  {
    "text": "So what's the advantage here? Well, you'll notice that\nthis structure only requires",
    "start": "377780",
    "end": "385670"
  },
  {
    "text": "six stitches instead of my 12. So it's simpler. It also turns out that as\ncompared to that solution--",
    "start": "385670",
    "end": "395060"
  },
  {
    "text": "let's suppose I could connect\nmy motor either way I wanted. I could connect it\nin wye or delta,",
    "start": "395060",
    "end": "401900"
  },
  {
    "text": "or I could connect it as\nthree independent windings. Because this circuit,\nlike this phase leg--",
    "start": "401900",
    "end": "409697"
  },
  {
    "text": "whatever current goes out, it\nreturns through one of the other phase legs-- I get an advantage in terms of\nthe utilization of the devices.",
    "start": "409697",
    "end": "418590"
  },
  {
    "text": "So I will either require\nless semiconductor area to get a certain conduction\nloss in this structure,",
    "start": "418590",
    "end": "425370"
  },
  {
    "text": "or I will have lower loss\nfor the same semiconductor area-- lower conduction loss\nfor the same semiconductor area",
    "start": "425370",
    "end": "432570"
  },
  {
    "text": "as I will compared\nto the top solution. So this solution in most\nthree-phase applications",
    "start": "432570",
    "end": "439620"
  },
  {
    "text": "is vastly preferred. Where's the exception to that? It turns out that if I wanted\nto generate a certain ripple",
    "start": "439620",
    "end": "448710"
  },
  {
    "text": "in an inductive load, like\na motor inductive back emf kind of load, it\nturns out that you end up",
    "start": "448710",
    "end": "456240"
  },
  {
    "text": "having to switch this\nbridge at a higher frequency than you do the three\nsets of single phase.",
    "start": "456240",
    "end": "461950"
  },
  {
    "text": "So in a system where it's a\nreally high-frequency output and your switching losses\nare heavily dominated,",
    "start": "461950",
    "end": "467730"
  },
  {
    "text": "the top solution actually ends\nup starting to be advantageous. So in very specialized,\nhigh-speed machines,",
    "start": "467730",
    "end": "474330"
  },
  {
    "text": "for example, you might\ngo for the top solution of independent phase\ndrive if you're allowed. But the vast majority\nof three-phase inverters",
    "start": "474330",
    "end": "483600"
  },
  {
    "text": "or three-phase DC to\nAC converters, power could flow either direction. Where you have active control\nis with this three-phase bridge",
    "start": "483600",
    "end": "491880"
  },
  {
    "text": "structure.  Any questions about that so far?",
    "start": "491880",
    "end": "497975"
  },
  {
    "text": " So one thing I wanted\nto note about this",
    "start": "497975",
    "end": "505660"
  },
  {
    "text": "is that I want to pay attention\nthat these devices are--",
    "start": "505660",
    "end": "511690"
  },
  {
    "text": "especially if the load\nis going to be inductive, so I don't actually control\ninstantaneously, say, what the direction\nof that load is--",
    "start": "511690",
    "end": "518059"
  },
  {
    "text": "I usually have devices with\nreverse diodes on them, or I use MOSFETs, which have it\nbuilt in because that way when",
    "start": "518059",
    "end": "525279"
  },
  {
    "text": "I turn one device\noff, I can always guarantee there's a\npath for the current. So these are\nsingle-directional blocking,",
    "start": "525280",
    "end": "531790"
  },
  {
    "text": "bi-directional\ncarrying switches. So this is a kind of\nvoltage source inverter.",
    "start": "531790",
    "end": "537400"
  },
  {
    "text": "There are also three-phase\ncurrent source inverters just as there are\nwith single phase. But again, this is\nvastly the most common.",
    "start": "537400",
    "end": "546220"
  },
  {
    "text": "Just to illustrate this,\nI'll show you this guy here.",
    "start": "546220",
    "end": "552730"
  },
  {
    "text": "This is actually an inverter\nout of an older model Prius. You'll see the two in here.",
    "start": "552730",
    "end": "559460"
  },
  {
    "text": "That's the DC bus coming in. That's where the\ncapacitors and everything else would hook up and\ngo back to the battery.",
    "start": "559460",
    "end": "565200"
  },
  {
    "text": "And then there's phase A,\nphase B, phase C outputs.",
    "start": "565200",
    "end": "570890"
  },
  {
    "text": "Each of these, what you'll see\nis a pile of devices in parallel in order to provide\nthe required power. And when you look\nclosely at this,",
    "start": "570890",
    "end": "577250"
  },
  {
    "text": "you're going to see that\nthere are essentially three terminal devices that\ngo back to gate drivers.",
    "start": "577250",
    "end": "582540"
  },
  {
    "text": "Those are the IGBTs\nin this older model. Today, they use\nsilicon carbide FETs. And in antiparallel with\nthem, because the IGBT",
    "start": "582540",
    "end": "589910"
  },
  {
    "text": "can't carry reverse current,\nthey have actual diodes. So in their design,\nthe actual diode",
    "start": "589910",
    "end": "596570"
  },
  {
    "text": "is separate from\nthe actual switch. And so I'll pass this around.",
    "start": "596570",
    "end": "602310"
  },
  {
    "text": "You can look at it. And by the way, if\nyour Prius happens to be missing an\ninverter, I swear I had nothing to do with it.",
    "start": "602310",
    "end": "607860"
  },
  {
    "text": " So what can I do\nwith this inverter?",
    "start": "607860",
    "end": "616120"
  },
  {
    "text": "Keep in mind-- go ahead, Jack. AUDIENCE: I just have a\nquestion about the inverter? Why would they\nchoose to do IGBTs",
    "start": "616120",
    "end": "622480"
  },
  {
    "text": "with diodes instead of MOSFET? DAVID PERREAULT: Ah, that's\na very good question. Because if you think\nabout a MOSFET,",
    "start": "622480",
    "end": "629260"
  },
  {
    "text": "a MOSFET's on state\nlooks like a resistance, whereas an IGBT's on state\nlooks like a constant drop.",
    "start": "629260",
    "end": "636610"
  },
  {
    "text": "And it turns out that at\nthe time that was built, for a very high-voltage\ndevice, you",
    "start": "636610",
    "end": "642790"
  },
  {
    "text": "could get lower forward drop for\na given device area with an IGBT than you could with a FET.",
    "start": "642790",
    "end": "649250"
  },
  {
    "text": "And so maybe until 5\nyears ago or maybe 10,",
    "start": "649250",
    "end": "654410"
  },
  {
    "text": "it was most common to use IGBTs\nespecially at high voltage. More recently, with\nwide-band gap devices,",
    "start": "654410",
    "end": "662569"
  },
  {
    "text": "people are starting to move over\nto sometimes IGBTs but mainly",
    "start": "662570",
    "end": "668480"
  },
  {
    "text": "FET kind of structures because\nyou can get away with that. And it turns out\nto be lower loss.",
    "start": "668480",
    "end": "674070"
  },
  {
    "text": "So whichever switch\ngives you less loss is ultimately what you\nwant to choose to use. ",
    "start": "674070",
    "end": "680589"
  },
  {
    "text": "So let's think about\nwhat we can do with this. And keep in mind, we said\none of the big advantages",
    "start": "680590",
    "end": "688180"
  },
  {
    "text": "of having three phase is that we\nget natural cancellation of all",
    "start": "688180",
    "end": "694540"
  },
  {
    "text": "the triple-N harmonics. And we're going to see that\nwith this inverter structure. But essentially, if\nI think about it,",
    "start": "694540",
    "end": "701230"
  },
  {
    "text": "I have three bridge legs.  And each one of them, either\nthe top switch can be on",
    "start": "701230",
    "end": "709930"
  },
  {
    "text": "or the bottom switch can be on. So it's like there's 2 to\nthe 3, or 8, possible states",
    "start": "709930",
    "end": "716320"
  },
  {
    "text": "for these inverter switches to\nbe on, assuming one switch is always on in each bridge leg.",
    "start": "716320",
    "end": "721930"
  },
  {
    "text": "So eight possible states. If I come and show you what\nthose states look like,",
    "start": "721930",
    "end": "732010"
  },
  {
    "text": "they look like this. So if I think about\nthe three inputs, I can have bottom, bottom,\nbottom; top, bottom, bottom; et",
    "start": "732010",
    "end": "739830"
  },
  {
    "text": "cetera. There's eight possible states.  And these are what you get\nfor AR, BR, and CR normalized",
    "start": "739830",
    "end": "750880"
  },
  {
    "text": "to the DC bus voltage. And then this is what you\nget for VAB, VBC, and VCA",
    "start": "750880",
    "end": "757580"
  },
  {
    "text": "at the line-to-line voltages. And this is what you get for\nthe line-to-neutral voltages",
    "start": "757580",
    "end": "764440"
  },
  {
    "text": "on this load. And I want to emphasize\nthat in this structure,",
    "start": "764440",
    "end": "772330"
  },
  {
    "text": "I'm not proposing that\nwe connect this reference voltage to the neutral.",
    "start": "772330",
    "end": "777670"
  },
  {
    "text": "This neutral, if it's\na wye-connected system, we're typically leaving\nthis neutral floating.",
    "start": "777670",
    "end": "783490"
  },
  {
    "text": "So it's not connected\nto anything. Or in a delta-connected system--",
    "start": "783490",
    "end": "789070"
  },
  {
    "text": "I drew this as if it were\na wye-connected system. If it was a\ndelta-connected system, there wouldn't\neven be a neutral.",
    "start": "789070",
    "end": "796220"
  },
  {
    "text": "So the neutral is not connected\nto this reference voltage. So how do I figure out what\nthe voltage say between VA",
    "start": "796220",
    "end": "805220"
  },
  {
    "text": "and the neutral is? So this would be-- I'd call this VAN.",
    "start": "805220",
    "end": "810830"
  },
  {
    "text": "Well, if I imagined that my\nload, which might be a motor, acts like three\nidentical impedances,",
    "start": "810830",
    "end": "818420"
  },
  {
    "text": "then it's just a\nvoltage divider. So if I have one bottom switch\non and two top switches on, VN",
    "start": "818420",
    "end": "824540"
  },
  {
    "text": "goes to 2/3 of the way up. If two bottom switches are\non and one top switch is",
    "start": "824540",
    "end": "829700"
  },
  {
    "text": "on, it's 2/3 of the\nway to the bottom. If all the top switches\nare on, VN goes to the top.",
    "start": "829700",
    "end": "836120"
  },
  {
    "text": "So the neutral just goes\nup and down instantaneously based on voltage division\nfrom these individual values.",
    "start": "836120",
    "end": "844730"
  },
  {
    "text": "Now, I'm not saying\nyou could not tie the neutral back\nto the reference, the center of the bridge.",
    "start": "844730",
    "end": "850200"
  },
  {
    "text": "In fact, that would be just\nthis circuit with half bridges instead of full bridges. It's just not common to do\nbecause you lose the three-phase",
    "start": "850200",
    "end": "859910"
  },
  {
    "text": "harmonic-- the three-phase triple-N\ncancellation if you do that. You lose a lot of\nthe benefits if you",
    "start": "859910",
    "end": "865850"
  },
  {
    "text": "don't let the neutral float. So this just shows the\nvoltages I can synthesize.",
    "start": "865850",
    "end": "875930"
  },
  {
    "text": "Two of the eight states\nbasically short out the load. Because if all the\ntop switches are on,",
    "start": "875930",
    "end": "884120"
  },
  {
    "text": "basically I'm tying all of\nthese three nodes together. So they basically just short\nthe three terminals together.",
    "start": "884120",
    "end": "890279"
  },
  {
    "text": "If all the bottom switches\nare on, I do the same thing. And any other switch\nconfiguration,",
    "start": "890280",
    "end": "898340"
  },
  {
    "text": "I get some other set of\nstates on my inverter output. Any questions about that?",
    "start": "898340",
    "end": "905389"
  },
  {
    "text": "AUDIENCE: So where's the\nvoltage divider between again? DAVID PERREAULT: So for\nexample, suppose I took--",
    "start": "905390",
    "end": "913580"
  },
  {
    "text": "let me draw it this way. Here's VDC. Suppose I turn the\ntop switch on here.",
    "start": "913580",
    "end": "920360"
  },
  {
    "text": "So that means I tie\nthis guy to the top. If the top switch is on here,\nI tie this guy to the top.",
    "start": "920360",
    "end": "934090"
  },
  {
    "text": "And if the last guy has\nthe bottom switch on,",
    "start": "934090",
    "end": "939190"
  },
  {
    "text": "I tie him to the bottom. So if I have two to the\ntop and one to the bottom, this node voltage, if these\ngreen boxes are all equal,",
    "start": "939190",
    "end": "947230"
  },
  {
    "text": "impedances will be 2/3 of\nthe way to the top by voltage division. Does that make sense?",
    "start": "947230",
    "end": "952940"
  },
  {
    "text": "OK, so that's the way you\ntend to think about it. So one way I could\nrun this is very",
    "start": "952940",
    "end": "959699"
  },
  {
    "text": "much like the inverse\nof the diode rectifier I talked about last time.",
    "start": "959700",
    "end": "964980"
  },
  {
    "text": "If you remember last time,\nas the AC waveform happened",
    "start": "964980",
    "end": "970630"
  },
  {
    "text": "and drove the diode bridge, the\nindividual diodes turned on. If you remember, it was like 1,\n2; 2, 3; 3, 4; 4, 5; 5, 6; 6, 1.",
    "start": "970630",
    "end": "979580"
  },
  {
    "text": "So it just went around\nin this six-step pattern.",
    "start": "979580",
    "end": "984610"
  },
  {
    "text": "Well, I could actively control\nthese devices to follow through",
    "start": "984610",
    "end": "990519"
  },
  {
    "text": "those six patterns,\nignoring 000 and 111. So those are the\ntwo I wouldn't use.",
    "start": "990520",
    "end": "997040"
  },
  {
    "text": "And this is what it would\nlook like if you did that. You would see that, say, each\nhalf bridge in this inverter",
    "start": "997040",
    "end": "1006930"
  },
  {
    "text": "would be on half the time. So A might be on exactly\nlike a square in phase",
    "start": "1006930",
    "end": "1013290"
  },
  {
    "text": "with a sine wave. B would be on but\nshifted by 2 pi over 3.",
    "start": "1013290",
    "end": "1018690"
  },
  {
    "text": "And C would be on with high\nshifted by another 2 pi over 3.",
    "start": "1018690",
    "end": "1023700"
  },
  {
    "text": "So I'd have three square waves,\nVA, VB, and VC with respect",
    "start": "1023700",
    "end": "1028839"
  },
  {
    "text": "to the reference. What would happen at the load?",
    "start": "1028839",
    "end": "1036040"
  },
  {
    "text": "Well, if I looked at VAB, VBC,\nand VCA, that's these next--",
    "start": "1036040",
    "end": "1044680"
  },
  {
    "text": "the next three here-- and I apologize; it's not\nthe prettiest diagram-- are the line-to-line voltages.",
    "start": "1044680",
    "end": "1051550"
  },
  {
    "text": "So all I'm doing is\ninstead of looking at what this is with\nrespect to the reference,",
    "start": "1051550",
    "end": "1057910"
  },
  {
    "text": "I'm just looking at the\ndifference between VA and VB. And what you can see is\nthat these three suddenly",
    "start": "1057910",
    "end": "1065500"
  },
  {
    "text": "take on this six-step waveform,\nwhich looks just like what the diode rectifier was doing.",
    "start": "1065500",
    "end": "1071890"
  },
  {
    "text": "It's just that now I'm\nimposing a DC voltage with that six-step\npattern to say the machine",
    "start": "1071890",
    "end": "1077860"
  },
  {
    "text": "or whatever it is I'm driving. Any questions about that?",
    "start": "1077860",
    "end": "1084419"
  },
  {
    "text": "Now, if I do that, because\nthe line-to-line voltages--",
    "start": "1084420",
    "end": "1089940"
  },
  {
    "text": "these square waves, which is\nthe line to reference voltages, have third harmonic. But because I'm taking the\ndifference between two of them",
    "start": "1089940",
    "end": "1097529"
  },
  {
    "text": "to get the line-to-line voltage\nshifted by a third of a cycle, all the triple-N\ncomponents disappear.",
    "start": "1097530",
    "end": "1103290"
  },
  {
    "text": "So the line-to-line voltages\nhave no triple-N components.",
    "start": "1103290",
    "end": "1108450"
  },
  {
    "text": "So whatever my motor\nsees it's line to line, if I'm driving, say, a\ndelta-connected machine, it will see no triple-N drive.",
    "start": "1108450",
    "end": "1115420"
  },
  {
    "text": "And that's just free because I\nhave this three-phase inverter structure. If everything's balanced, it\ncan't generate three-phase line",
    "start": "1115420",
    "end": "1123420"
  },
  {
    "text": "to line. Any questions about that? ",
    "start": "1123420",
    "end": "1132380"
  },
  {
    "text": "What would it do as regards\nthe line-to-neutral voltages?",
    "start": "1132380",
    "end": "1140000"
  },
  {
    "text": "Well, if I did that, we\nsaid this thing is basically a voltage divider.",
    "start": "1140000",
    "end": "1145190"
  },
  {
    "text": "But I could think about\nit basically being-- the neutral voltage as being of\nthe average of VA, VB, and VC.",
    "start": "1145190",
    "end": "1155740"
  },
  {
    "text": "And what essentially happens\nis that each of VA, VB,",
    "start": "1155740",
    "end": "1162580"
  },
  {
    "text": "VC has a fundamental,\nand then it has, for example,\na third harmonic",
    "start": "1162580",
    "end": "1167590"
  },
  {
    "text": "because it's a square wave. The fundamentals are 120\ndegrees out of phase,",
    "start": "1167590",
    "end": "1173740"
  },
  {
    "text": "but that means that the third\nharmonics are exactly in phase. So the third harmonics of\neach of these square waves",
    "start": "1173740",
    "end": "1180250"
  },
  {
    "text": "add at the neutral, and\nyou get a neutral voltage that bops up and down\nat the third harmonic.",
    "start": "1180250",
    "end": "1186450"
  },
  {
    "text": "So this has-- the\nneutral contains the third harmonic and actually\nall the triple-N harmonics.",
    "start": "1186450",
    "end": "1195340"
  },
  {
    "text": "And so as a result,\njust as the line to line didn't have any\ntriple-N harmonics, neither did any of the\nline-to-neutral voltages.",
    "start": "1195340",
    "end": "1202540"
  },
  {
    "text": "So if it's\nwye-connected machine, the line-to-neutral\nvoltage, which is really what's driving\ncurrent in this thing,",
    "start": "1202540",
    "end": "1208620"
  },
  {
    "text": "no triple-N harmonics. Does that make\nsense to everybody? ",
    "start": "1208620",
    "end": "1215690"
  },
  {
    "text": "So this kind of\noperation is what's known as six-step operation.",
    "start": "1215690",
    "end": "1221360"
  },
  {
    "text": "At each AC cycle, I'm switching\nmy devices as minimum as I can.",
    "start": "1221360",
    "end": "1227690"
  },
  {
    "text": "And I just go through and step\nsequentially around in a cycle.",
    "start": "1227690",
    "end": "1235710"
  },
  {
    "text": "And in fact, the Tesla\negg demo that we brought, that's basically\nwhat it was doing.",
    "start": "1235710",
    "end": "1241110"
  },
  {
    "text": "It had six switches,\nand it was just boom, boom, boom,\nsix-stepping around to generate a rotating magnetic\nfield which spun up the egg.",
    "start": "1241110",
    "end": "1248875"
  },
  {
    "text": " That's a fine way to operate.",
    "start": "1248875",
    "end": "1255590"
  },
  {
    "text": "And in fact, it generates the\nlargest fundamental component you can generate out\nof this inverter.",
    "start": "1255590",
    "end": "1262289"
  },
  {
    "text": "Why? Because each half\nbridge is basically generating a square wave--",
    "start": "1262290",
    "end": "1268340"
  },
  {
    "text": "the largest\nfundamental component you can generate\nwhen you're not tying the neutral back to the\nreference point, I should say.",
    "start": "1268340",
    "end": "1275335"
  },
  {
    "text": " That's not the only way\nyou could drive this.",
    "start": "1275335",
    "end": "1280990"
  },
  {
    "text": "You could actually\nstart thinking about doing things like\nharmonic elimination waveforms.",
    "start": "1280990",
    "end": "1289740"
  },
  {
    "text": "Instead of generating\nsquare waves in between the top\nand bottom switching,",
    "start": "1289740",
    "end": "1296163"
  },
  {
    "text": "you could start thinking\nabout putting notches in those waveforms. Now, if you're going to put\nnotches in the waveforms,",
    "start": "1296163",
    "end": "1302910"
  },
  {
    "text": "you wouldn't try to\neliminate the third harmonic, because the third harmonic\nis going to go away. You might try to eliminate\nthe fifth and possibly",
    "start": "1302910",
    "end": "1309630"
  },
  {
    "text": "the seventh harmonic. So the same kind\nof games we talked about playing with a\nsingle-phase inverter,",
    "start": "1309630",
    "end": "1315540"
  },
  {
    "text": "you can play with\nthree-phase inverters. It's just that you're\ndoing each phase and then you're shifting\nthat by a third of a cycle",
    "start": "1315540",
    "end": "1323070"
  },
  {
    "text": "to get to the next phase. Any questions about that? ",
    "start": "1323070",
    "end": "1329780"
  },
  {
    "text": "So those are the\nkind of games you would play if you're\nat very high outputs",
    "start": "1329780",
    "end": "1334970"
  },
  {
    "text": "where you don't want to\nswitch your devices very much. But in a large part\nof the operating",
    "start": "1334970",
    "end": "1340760"
  },
  {
    "text": "range for modern\nelectric machines,",
    "start": "1340760",
    "end": "1346160"
  },
  {
    "text": "you don't have to do that. You can do a much nicer job of\nsynthesizing a waveform that",
    "start": "1346160",
    "end": "1352490"
  },
  {
    "text": "would look very close-- that would have a\nfundamental content",
    "start": "1352490",
    "end": "1358670"
  },
  {
    "text": "that follows very closely, for\nexample, a sine wave, if you were driving a machine that\nwanted sine wave voltages,",
    "start": "1358670",
    "end": "1365090"
  },
  {
    "text": "or that would generate\nthree-phase waveforms if you wanted to make a three-phase\nuninterruptible power",
    "start": "1365090",
    "end": "1372500"
  },
  {
    "text": "supply that would synthesize\na three-phase output that would look very much\nlike sine wave outputs.",
    "start": "1372500",
    "end": "1378860"
  },
  {
    "text": "How would you do that? Well, let's think about that.",
    "start": "1378860",
    "end": "1384360"
  },
  {
    "text": "What would I do? Well, what I could do is I could\nmake each of the phase outputs,",
    "start": "1384360",
    "end": "1391290"
  },
  {
    "text": "think about them independently,\ngenerate something that looked like a sine with\nrespect to the reference,",
    "start": "1391290",
    "end": "1396930"
  },
  {
    "text": "on average. Well, how would I do that? The same way we did things with\nDC-to-DC converters or DC-to-AC",
    "start": "1396930",
    "end": "1405540"
  },
  {
    "text": "converters and single-phase\nDC-to-AC converters. Maybe I would take\nand say, OK, suppose",
    "start": "1405540",
    "end": "1411630"
  },
  {
    "text": "I wanted VAR to\nfollow some sine wave. I could create\nsome triangle wave",
    "start": "1411630",
    "end": "1419490"
  },
  {
    "text": "that's a carrier wave that\ndoes something like this. ",
    "start": "1419490",
    "end": "1431075"
  },
  {
    "text": "And I'm going to exaggerate the\nratios between the switching",
    "start": "1431075",
    "end": "1438429"
  },
  {
    "text": "frequency and the line frequency\njust for visualization.",
    "start": "1438430",
    "end": "1443941"
  },
  {
    "text": " But here I have a triangle wave.",
    "start": "1443941",
    "end": "1449970"
  },
  {
    "text": "Maybe I'll call this\nminus VT max and VT max.",
    "start": "1449970",
    "end": "1458020"
  },
  {
    "text": "We might think of those as 1\nvolt, plus or minus 1 volt. And this is 0.",
    "start": "1458020",
    "end": "1464720"
  },
  {
    "text": "And this we might\nthink of as T switch. T switch is equal to 1 over\nthe switching frequency",
    "start": "1464720",
    "end": "1474480"
  },
  {
    "text": "that I'm going to switch at. And then what I could do\nis I could create a signal.",
    "start": "1474480",
    "end": "1483030"
  },
  {
    "text": "Let me call this-- ",
    "start": "1483030",
    "end": "1489270"
  },
  {
    "text": "I'll call this VAR ref.",
    "start": "1489270",
    "end": "1499960"
  },
  {
    "text": "This is the reference\nvoltage to which I want within a\nswitching cycle VA",
    "start": "1499960",
    "end": "1505540"
  },
  {
    "text": "to follow with respect\nto the reference.",
    "start": "1505540",
    "end": "1511260"
  },
  {
    "text": "So what would I do? I'd then put this\ninto a comparator if I called this V triangle.",
    "start": "1511260",
    "end": "1517184"
  },
  {
    "text": " So I could then just\ncreate a comparator",
    "start": "1517185",
    "end": "1522750"
  },
  {
    "text": "and say, OK, into this terminal,\nI'm going to put VAR ref.",
    "start": "1522750",
    "end": "1529290"
  },
  {
    "text": "Into this terminal, I'm\ngoing to put V triangle. And then out of this comes\nq1 of t, which is equal to--",
    "start": "1529290",
    "end": "1539130"
  },
  {
    "text": "which is equal to\n1 minus q4 of t. And this is q1, so q1 of t\ngoes here, and q4 goes here.",
    "start": "1539130",
    "end": "1551460"
  },
  {
    "text": "So whenever this\nswitch is high-- whenever this switch is on, this\nswitch is off and vice versa.",
    "start": "1551460",
    "end": "1557015"
  },
  {
    "text": " Why would I do that? If you think about it, if Vref\nis all the way at the top,",
    "start": "1557015",
    "end": "1567529"
  },
  {
    "text": "that means the top\nswitch is always on. If VA is near the\nbottom, that means",
    "start": "1567530",
    "end": "1573680"
  },
  {
    "text": "the bottom switch is always on. If the reference is\nright here in the middle, this triangle wave goes\nfrom a plus and minus,",
    "start": "1573680",
    "end": "1581880"
  },
  {
    "text": "I would have it\nswitching with 50% duty cycle between top and bottom.",
    "start": "1581880",
    "end": "1587220"
  },
  {
    "text": "And on average, with respect\nto VR, this would be 0. So I can linearly change the\naverage voltage synthesized",
    "start": "1587220",
    "end": "1594679"
  },
  {
    "text": "by VA with respect to VR over\none switching period based",
    "start": "1594680",
    "end": "1599750"
  },
  {
    "text": "on this triangle intercept PWM. Does that make\nsense to everybody?",
    "start": "1599750",
    "end": "1606490"
  },
  {
    "text": "Now, I should say I'm showing\nthis with balanced triangles. You could do this with any\nother kind of waveform,",
    "start": "1606490",
    "end": "1612940"
  },
  {
    "text": "like a sawtooth waveform\nor something like that, where at least there's a\nproportionality in time",
    "start": "1612940",
    "end": "1618010"
  },
  {
    "text": "between the height and how\nlong the comparator trips for. But balanced triangles\ntend to give you",
    "start": "1618010",
    "end": "1625299"
  },
  {
    "text": "better switching\nharmonic content than nonbalanced triangle waves.",
    "start": "1625300",
    "end": "1630940"
  },
  {
    "text": "Does that make\nsense to everybody? So suppose I had a\nmachine and I wanted",
    "start": "1630940",
    "end": "1640300"
  },
  {
    "text": "to create some waveform that\nlooked like something like VAR",
    "start": "1640300",
    "end": "1651340"
  },
  {
    "text": "on average. So I'm going to draw\nthis bar, meaning average over one switching cycle.",
    "start": "1651340",
    "end": "1657940"
  },
  {
    "text": "I would like this to be V\nsub m sine of omega line t,",
    "start": "1657940",
    "end": "1665860"
  },
  {
    "text": "for example, where I'm assuming\nthat omega line is much,",
    "start": "1665860",
    "end": "1671920"
  },
  {
    "text": "much less than 2 pi f switch. That is, this is a very\nslowly varying sine wave.",
    "start": "1671920",
    "end": "1678950"
  },
  {
    "text": "So what I'm saying is I have\nsome triangle wave like this.",
    "start": "1678950",
    "end": "1690226"
  },
  {
    "text": "Maybe I'll draw it bigger.  This is my PWM\nwaveform, and I'm trying",
    "start": "1690227",
    "end": "1697150"
  },
  {
    "text": "to generate a sine\nwave that maybe there's a hundred switching cycles\nor something like that",
    "start": "1697150",
    "end": "1705340"
  },
  {
    "text": "per line cycle. So this is 2 pi\nover omega switch.",
    "start": "1705340",
    "end": "1714040"
  },
  {
    "text": "And this is 2 pi over\nomega line versus time.",
    "start": "1714040",
    "end": "1720110"
  },
  {
    "text": "Does that make\nsense to everybody? And as long as--\nand I should say,",
    "start": "1720110",
    "end": "1725590"
  },
  {
    "text": "what I'm trying to\ndo is I need my-- ",
    "start": "1725590",
    "end": "1731799"
  },
  {
    "text": "if this is V sub m\nsine of omega lt,",
    "start": "1731800",
    "end": "1739760"
  },
  {
    "text": "I need V sub m scaled\nsuch that at least the--",
    "start": "1739760",
    "end": "1745870"
  },
  {
    "text": "I'm sorry, this is VA-- this is the reference voltage-- is less than VDC over 2.",
    "start": "1745870",
    "end": "1752779"
  },
  {
    "text": "So let me clarify how\nwe're going to do this.",
    "start": "1752780",
    "end": "1757870"
  },
  {
    "text": "And I apologize, that's\nprobably not very clear. What I'm going to\ndo is I'm going",
    "start": "1757870",
    "end": "1763509"
  },
  {
    "text": "to make VAR ref equal to V sub\nm divided by VDC over 2 times",
    "start": "1763510",
    "end": "1778840"
  },
  {
    "text": "V sub triangle.  And then I'll make\nthat sine of omega lt.",
    "start": "1778840",
    "end": "1789280"
  },
  {
    "text": "So this thing-- this\nthing is the thing-- this is VA ref that I'm\ngoing to compare to VT max.",
    "start": "1789280",
    "end": "1796930"
  },
  {
    "text": "So this is-- I'm sorry, this is VT max.",
    "start": "1796930",
    "end": "1802480"
  },
  {
    "text": "So if VT max was 1 volt,\njust for simplicity, I'm going to make\nV sub m over VDC",
    "start": "1802480",
    "end": "1809530"
  },
  {
    "text": "over 2 the height of\nmy reference waveform. ",
    "start": "1809530",
    "end": "1814735"
  },
  {
    "text": "So I can create-- if I do this, then\nwhat I'm going to get is VAR as a result of running\nthis thing into this comparator",
    "start": "1814735",
    "end": "1828020"
  },
  {
    "text": "network because this\nis my triangle away from my controller.",
    "start": "1828020",
    "end": "1833310"
  },
  {
    "text": "The peak of my voltage is\nswitching between plus VDC over 2 and minus VDC over 2.",
    "start": "1833310",
    "end": "1839400"
  },
  {
    "text": "So what I'm going to\nget is VAR is going",
    "start": "1839400",
    "end": "1845030"
  },
  {
    "text": "to be equal to Vm over VDC--",
    "start": "1845030",
    "end": "1851930"
  },
  {
    "text": "it's going to be equal\nto Vm sine of omega lt,",
    "start": "1851930",
    "end": "1863840"
  },
  {
    "text": "as long as V sub m is\nless than VDC over 2. ",
    "start": "1863840",
    "end": "1871940"
  },
  {
    "text": "Is that clear? Or should I try to\nexplain that better? ",
    "start": "1871940",
    "end": "1878690"
  },
  {
    "text": "I can modulate this\nthing up and down such that what would\nbe the biggest sine",
    "start": "1878690",
    "end": "1885020"
  },
  {
    "text": "wave I could create without\ndistortion with this scheme, or at least with what\nI've told you so far, would be if V sub m was\nactually equal to VDC",
    "start": "1885020",
    "end": "1894050"
  },
  {
    "text": "over 2, which would mean\nthe top of this waveform",
    "start": "1894050",
    "end": "1902070"
  },
  {
    "text": "would exactly touch the\ntop of the triangle wave. So I wouldn't have\nany period in which I'm exceeding duty ratio of 1.",
    "start": "1902070",
    "end": "1910470"
  },
  {
    "text": "The problem here is if my\nreference waveform exceeds",
    "start": "1910470",
    "end": "1918730"
  },
  {
    "text": "the height of the\ntriangle wave, then I'm going to get some time\nperiod where I stop switching, and I just have the top\nswitch on constantly",
    "start": "1918730",
    "end": "1928210"
  },
  {
    "text": "or the bottom switch\non constantly. And then I get some distortion. By keeping my reference always\nbelow the height of the triangle",
    "start": "1928210",
    "end": "1936520"
  },
  {
    "text": "wave, I kind of keep the no\ndistortion relative at least",
    "start": "1936520",
    "end": "1944710"
  },
  {
    "text": "over a switching cycle,\naveraged over a switching cycle. Any questions about that?",
    "start": "1944710",
    "end": "1950085"
  },
  {
    "text": " So when we do this,\nand I say, OK, I'm",
    "start": "1950085",
    "end": "1957549"
  },
  {
    "text": "going to do this for phase A, I\ndo the same thing for phase B,",
    "start": "1957550",
    "end": "1962710"
  },
  {
    "text": "except I shift it by a\nthird of a line cycle, and phase C is shifted by\na third of a line cycle,",
    "start": "1962710",
    "end": "1968270"
  },
  {
    "text": "then at least as far\nas the local averages, I'm creating a\nvoltage A with respect",
    "start": "1968270",
    "end": "1975130"
  },
  {
    "text": "to reference that\nfollows a sine wave, a voltage B that\nfollows a sine wave, a voltage C that\nfollows a sine wave.",
    "start": "1975130",
    "end": "1980150"
  },
  {
    "text": "And yes, each of these\nnodes is going up and down, but if this load is inductive,\nit will filter that,",
    "start": "1980150",
    "end": "1986679"
  },
  {
    "text": "and then the currents\nwill look very sinusoidal. Does that make\nsense to everybody?",
    "start": "1986680",
    "end": "1992240"
  },
  {
    "text": "So I can really\ngenerate something that looks like a sinusoidal,\nat least on average,",
    "start": "1992240",
    "end": "1997820"
  },
  {
    "text": "output, just the way I would do\nit with a single-phase inverter. So this is the same trick\nof triangle intercept of PWM",
    "start": "1997820",
    "end": "2005403"
  },
  {
    "text": "that we talked about before. ",
    "start": "2005403",
    "end": "2011460"
  },
  {
    "text": "Any questions?  OK, so that's nice.",
    "start": "2011460",
    "end": "2018650"
  },
  {
    "text": "This technique is\nvery good when we are trying to synthesize a\nwaveform with a lot of purity.",
    "start": "2018650",
    "end": "2027790"
  },
  {
    "text": "The six-step waveform\nI showed you before had a ton of harmonic\ncontent, a ton of low-frequency\nharmonic content in it.",
    "start": "2027790",
    "end": "2034150"
  },
  {
    "text": "This PWM waveform\nreally only has content as long as you stay\nwhere your reference never",
    "start": "2034150",
    "end": "2041250"
  },
  {
    "text": "exceeds the height\nof the triangle. It really only has of harmonic\ncontent near the switching",
    "start": "2041250",
    "end": "2048929"
  },
  {
    "text": "frequency and its harmonics. There's some difference with the\nline frequency and the carrier",
    "start": "2048929",
    "end": "2054810"
  },
  {
    "text": "frequency stuff, but\nit's all pushed up to the switching frequency. So if I have a high\nswitching frequency,",
    "start": "2054810",
    "end": "2059816"
  },
  {
    "text": "I get a very nice purity\nwaveform, at least averaged over a switching cycle. ",
    "start": "2059817",
    "end": "2066968"
  },
  {
    "text": "But I said, what's\nthe largest waveform I can synthesize that way, at\nleast with what I've told you",
    "start": "2066968",
    "end": "2073109"
  },
  {
    "text": "so far, is I can make\nthis voltage V sub m up",
    "start": "2073110",
    "end": "2078699"
  },
  {
    "text": "to VDC over 2. So this inverter can switch\nand it can synthesize--",
    "start": "2078699",
    "end": "2085840"
  },
  {
    "text": "I could think of-- I could think of this as\nsynthesizing VAR, VBR, and VCR,",
    "start": "2085840",
    "end": "2092199"
  },
  {
    "text": "which is going to also give me\nthe same thing for VAN, VBN, and VCN, because there's\nno triple-N content here,",
    "start": "2092199",
    "end": "2099280"
  },
  {
    "text": "of being V sub m sine omega line\nt so long as Vm is less than",
    "start": "2099280",
    "end": "2108670"
  },
  {
    "text": "or equal to VDC over 2. ",
    "start": "2108670",
    "end": "2114530"
  },
  {
    "text": "If I'm going to synthesize\na sine wave like that, we often define something called\nm or the modulation index.",
    "start": "2114530",
    "end": "2122533"
  },
  {
    "start": "2122533",
    "end": "2127670"
  },
  {
    "text": "Sometimes this is called\nthe depth of modulation also, which is essentially V\nsub m divided by VDC over 2.",
    "start": "2127670",
    "end": "2138530"
  },
  {
    "text": "This is how big a sine\nwave am I generating?",
    "start": "2138530",
    "end": "2143910"
  },
  {
    "text": "How big is this sine\nwave relative to VDC over 2 or relative\nto the maximum I can do without distorting?",
    "start": "2143910",
    "end": "2150370"
  },
  {
    "text": " If at least with what\nI've told you so far,",
    "start": "2150370",
    "end": "2155940"
  },
  {
    "text": "I make m greater than 1 or V\nsub m bigger than VDC over 2,",
    "start": "2155940",
    "end": "2162953"
  },
  {
    "text": "then what will\nhappen is I'll stop switching for part\nof the waveform, and I'll start distorting.",
    "start": "2162953",
    "end": "2168240"
  },
  {
    "text": "Any questions about that? ",
    "start": "2168240",
    "end": "2176530"
  },
  {
    "text": "Well, that's fine. And through this\nwhole period, at least",
    "start": "2176530",
    "end": "2181990"
  },
  {
    "text": "averaged over a\nswitching cycle, if I'm doing this sinusoidal\nor sine triangle PWM,",
    "start": "2181990",
    "end": "2188260"
  },
  {
    "text": "this neutral point averaged\nover switching cycle always has 0 average\nvoltage, in other words,",
    "start": "2188260",
    "end": "2193510"
  },
  {
    "text": "equal to the reference voltage,\nhalfway between the bus voltage. So I'm not getting\nany third harmonic",
    "start": "2193510",
    "end": "2200530"
  },
  {
    "text": "swinging around on the neutral. ",
    "start": "2200530",
    "end": "2207900"
  },
  {
    "text": "Why do I think about this? Because if you think\nabout an electric machine,",
    "start": "2207900",
    "end": "2213210"
  },
  {
    "text": "and this is a\ntypical application for this kind of\nthing, the back emf tends to be\nproportional to speed.",
    "start": "2213210",
    "end": "2219990"
  },
  {
    "text": "And how much current I want\nto drive in the motor-- if I want more\ncurrent, I try to drive",
    "start": "2219990",
    "end": "2226650"
  },
  {
    "text": "more voltage, which will drive\nmore current into the windings. So very often, the\namplitude of the voltage,",
    "start": "2226650",
    "end": "2233610"
  },
  {
    "text": "if I thought about some\nmachine, which is just sitting here connected like this--",
    "start": "2233610",
    "end": "2240810"
  },
  {
    "text": "and maybe I'm just\ntrying to generate-- I'm trying to use my inverter\nto generate essentially three",
    "start": "2240810",
    "end": "2248790"
  },
  {
    "text": "voltages, which are then\ngoing to drive current into these phases.",
    "start": "2248790",
    "end": "2254250"
  },
  {
    "text": "At low speeds, the back emf\nvoltage of the motor is low,",
    "start": "2254250",
    "end": "2259710"
  },
  {
    "text": "and I want low-- or\nI want low current. I want these voltage\nwaveforms-- these are now",
    "start": "2259710",
    "end": "2264869"
  },
  {
    "text": "at the line frequency. These are at V sub m\nsine of omega line t.",
    "start": "2264870",
    "end": "2272299"
  },
  {
    "text": "I want these\nvoltages to be small. But as speed goes up and the\nback emf internal to the machine",
    "start": "2272300",
    "end": "2279250"
  },
  {
    "text": "goes up, I want a bigger\nV sub m, for example. So very often I can--",
    "start": "2279250",
    "end": "2285040"
  },
  {
    "text": "basically, by\nchanging the V sub m, by changing the amplitude\nof my reference, I change these\nvoltages' amplitudes,",
    "start": "2285040",
    "end": "2291460"
  },
  {
    "text": "and then I change\nhow much current I'm driving into my load. So I often want\nto modulate that.",
    "start": "2291460",
    "end": "2296540"
  },
  {
    "text": "And typically, as\nI'm going up in speed or I'm going up\nin power or both, I'm trying to make\nV sub m bigger.",
    "start": "2296540",
    "end": "2303913"
  },
  {
    "text": "Does that make\nsense to everybody?  Now, the challenge is eventually\nI run out of headroom.",
    "start": "2303913",
    "end": "2313670"
  },
  {
    "text": "Suppose the internal\nback emf of these motors is getting really big. So I need a pretty\nbig voltage V sub m",
    "start": "2313670",
    "end": "2321410"
  },
  {
    "text": "to drive current into my load. Once V sub m equals VDC\nover 2, suddenly I'm",
    "start": "2321410",
    "end": "2327770"
  },
  {
    "text": "going to start\ndistorting, right? I'm not going to be\ngenerating just sine waves. I'm going to have low frequency\nharmonic content in my output.",
    "start": "2327770",
    "end": "2335980"
  },
  {
    "text": "So the question\nis, is there a way you can extend the\nrange over which",
    "start": "2335980",
    "end": "2343070"
  },
  {
    "text": "you can generate, if\nyou will, pure sine waves at the output\nof your motor",
    "start": "2343070",
    "end": "2349520"
  },
  {
    "text": "and generate like no\nlow frequency, line frequency harmonic content? And the answer is there's\na trick for doing this.",
    "start": "2349520",
    "end": "2357329"
  },
  {
    "text": "It can be done in a\nvariety of different ways, but I just thought I'd mention\nit because in the motors world,",
    "start": "2357330",
    "end": "2364070"
  },
  {
    "text": "this is a very common trick. And the idea is this.",
    "start": "2364070",
    "end": "2369420"
  },
  {
    "text": "Suppose if I thought-- ",
    "start": "2369420",
    "end": "2376850"
  },
  {
    "text": "if I thought of what\nthe duty ratio-- if I thought of this switch q1--",
    "start": "2376850",
    "end": "2382010"
  },
  {
    "text": "if I thought of this as q1, the\naverage value of q1 over a cycle as being the duty ratio of this\nswitch, so modulation index",
    "start": "2382010",
    "end": "2391340"
  },
  {
    "text": "of 1, the duty ratio\nof the top switch goes to 1, with what\nI've told you so far.",
    "start": "2391340",
    "end": "2397000"
  },
  {
    "text": "So I could talk about the duty\nratio of this half bridge, just like it was\na buck converter,",
    "start": "2397000",
    "end": "2403850"
  },
  {
    "text": "where I'm talking about on state\nfraction of the top switch. ",
    "start": "2403850",
    "end": "2410450"
  },
  {
    "text": "The way this would look if I did\nmy sine triangle PWM would be d1",
    "start": "2410450",
    "end": "2415460"
  },
  {
    "text": "of t would be equal to 1/2 plus\nm over 2 sine of omega line t.",
    "start": "2415460",
    "end": "2427710"
  },
  {
    "text": "So if I did my sine\ntriangle PWM, if m was one, duty ratio goes to 1 when\nthe sine wave is peak,",
    "start": "2427710",
    "end": "2434960"
  },
  {
    "text": "and it goes to 0 when\nsine wave is at minimum. Does that make\nsense to everybody?",
    "start": "2434960",
    "end": "2441299"
  },
  {
    "text": "And then if I was looking at d3,\nit would be this same three-- actually, it's not d3.",
    "start": "2441300",
    "end": "2447010"
  },
  {
    "text": "I forget what the\nmiddle switch-- top switch-- it is d3. d3 would be equal to 1/2 plus m\nover 2 sine omega lt minus 2 pi",
    "start": "2447010",
    "end": "2463530"
  },
  {
    "text": "over 3, for example. Does that make\nsense to everybody? And d5, which would be\nthe third bridge leg,",
    "start": "2463530",
    "end": "2471240"
  },
  {
    "text": "would have 1/2 plus m over 2\nsine omega lt plus 2 pi over 3.",
    "start": "2471240",
    "end": "2481080"
  },
  {
    "text": "So this is what would result\nwith this triangle intercept PWM done on the three phases.",
    "start": "2481080",
    "end": "2488400"
  },
  {
    "text": "And what we said was\nbasically the average voltage",
    "start": "2488400",
    "end": "2493950"
  },
  {
    "text": "is proportional-- the average voltage at that\nnode with respect to ground is proportional\nto the duty ratio.",
    "start": "2493950",
    "end": "2501120"
  },
  {
    "text": "With respect to the\nmidpoint, there's this one half of the\nbus voltage in there.",
    "start": "2501120",
    "end": "2506880"
  },
  {
    "text": "The question would be I have\na trouble that I'm limited",
    "start": "2506880",
    "end": "2513509"
  },
  {
    "text": "to making m less than 1. Because when m exactly\nequals one, the peak of this",
    "start": "2513510",
    "end": "2521869"
  },
  {
    "text": "drives the duty ratio of\none just touches the top. If I try to make m\n1.5, what would happen",
    "start": "2521870",
    "end": "2529789"
  },
  {
    "text": "is for some part of the\ncycle, duty ratio basically saturates at 1, the\ntop switches on, and I get a bunch of distortion.",
    "start": "2529790",
    "end": "2536150"
  },
  {
    "text": "Is that clear to everybody? So here's the trick people use.",
    "start": "2536150",
    "end": "2541540"
  },
  {
    "text": "It's kind of a cool trick. There's different ways\nto implement this trick.",
    "start": "2541540",
    "end": "2547530"
  },
  {
    "text": "So this isn't the way\nyou have to do it. But suppose I did this.",
    "start": "2547530",
    "end": "2552570"
  },
  {
    "text": "I could take and add m over\n12 sine of 3 omega line t",
    "start": "2552570",
    "end": "2567846"
  },
  {
    "text": "to each of these waveforms. ",
    "start": "2567846",
    "end": "2580020"
  },
  {
    "text": "Why would I do that? Well, because when I think about\nsine, if I looked at this duty",
    "start": "2580020",
    "end": "2589680"
  },
  {
    "text": "ratio, it would look like this. If I just took-- here, I would have a half, and\nI'm doing something like this.",
    "start": "2589680",
    "end": "2599050"
  },
  {
    "text": " What I can do is I can add in\na third harmonic component.",
    "start": "2599050",
    "end": "2607480"
  },
  {
    "text": "What does a third\nharmonic component do? It does something like this. ",
    "start": "2607480",
    "end": "2616000"
  },
  {
    "text": "So the sum of this piece, which\nis this, and this piece, which",
    "start": "2616000",
    "end": "2626020"
  },
  {
    "text": "is this, has some\ndistorted shape which does something like this. ",
    "start": "2626020",
    "end": "2635970"
  },
  {
    "text": "And what that means is I can\nturn up m just bigger than 1,",
    "start": "2635970",
    "end": "2644020"
  },
  {
    "text": "and it turns out\nto be about 1.15, before basically the\npeak will hit VDC over 2",
    "start": "2644020",
    "end": "2652920"
  },
  {
    "text": "or before my duty ratio\nwill saturate at 1. And so that gives me an extra\n15% of voltage I can synthesize.",
    "start": "2652920",
    "end": "2663140"
  },
  {
    "text": "And the way I'm\nsynthesizing it is I'm adding third harmonic\ndistortion in.",
    "start": "2663140",
    "end": "2668480"
  },
  {
    "text": "So I'm adding some third\nharmonic to VAR, to VBR, and VCR.",
    "start": "2668480",
    "end": "2674150"
  },
  {
    "text": "But why doesn't that matter? Because the third harmonic,\nthat third harmonic component",
    "start": "2674150",
    "end": "2679910"
  },
  {
    "text": "that I drew in yellow, just\nappears at the neutral. And the line-to-line\nvoltages don't have it. ",
    "start": "2679910",
    "end": "2687550"
  },
  {
    "text": "So that's a technique\nthat's sometimes called third-harmonic injection PWM. You can do it by adding\nthird harmonic onto your--",
    "start": "2687550",
    "end": "2697870"
  },
  {
    "text": "instead of doing this, you\nadd some third harmonic onto that thing, and\nthen you get an ability",
    "start": "2697870",
    "end": "2704290"
  },
  {
    "text": "to expand your duty\nratio range or expand",
    "start": "2704290",
    "end": "2709390"
  },
  {
    "text": "the fundamental voltage you can\nsynthesize without distortion. Any questions about that?",
    "start": "2709390",
    "end": "2716460"
  },
  {
    "text": "Yeah, Jack. AUDIENCE: Can you\nexplain again how it's-- like VDC is fixed. So how is this increasing--",
    "start": "2716460",
    "end": "2725010"
  },
  {
    "text": "overcoming back emf? DAVID PERREAULT: Right. Well, let's assume the back emf\nis at the fundamental, right?",
    "start": "2725010",
    "end": "2732990"
  },
  {
    "text": "So what I have to worry about\nis how much fundamental can I",
    "start": "2732990",
    "end": "2740040"
  },
  {
    "text": "create here? The vacuum is at\nthe fundamental. How much fundamental\ncan I create here?",
    "start": "2740040",
    "end": "2746880"
  },
  {
    "text": "And the problem with not doing\nthis third-harmonic distortion trick is that if I try to\nturn up the duty ratio more,",
    "start": "2746880",
    "end": "2753390"
  },
  {
    "text": "I get a lot of low\nfrequency harmonics. I get third and\nfifth, other content in here, which is then\ngoing to drive low frequency",
    "start": "2753390",
    "end": "2760170"
  },
  {
    "text": "content in the machine. This trick, what it lets\nme do is I basically",
    "start": "2760170",
    "end": "2767780"
  },
  {
    "text": "am going to create\nthe fundamental, plus I'm going to create\nsome third harmonic here,",
    "start": "2767780",
    "end": "2775260"
  },
  {
    "text": "third harmonic here,\nand third harmonic here. But the third harmonic\nelements all cancel. They just show up\nat the neutral,",
    "start": "2775260",
    "end": "2781370"
  },
  {
    "text": "and the neutral goes up and\ndown by the third harmonic. So I can keep this\ncomponent pure",
    "start": "2781370",
    "end": "2789470"
  },
  {
    "text": "because I'm not saturating\nmy comparison anymore. I'm not making this\nsignal go out of the range",
    "start": "2789470",
    "end": "2796460"
  },
  {
    "text": "just for that little bit,\nfor that extra roughly 15% of modulation index over 1.",
    "start": "2796460",
    "end": "2802200"
  },
  {
    "text": "So I can go up to m of 1.15. Does that make sense? ",
    "start": "2802200",
    "end": "2808760"
  },
  {
    "text": "Now, that gives me a\nlittle bit more head room",
    "start": "2808760",
    "end": "2815300"
  },
  {
    "text": "to synthesize a little\nbit more voltage. And we're often\nconstrained by how much voltage we can synthesize\nwith our inverter.",
    "start": "2815300",
    "end": "2822260"
  },
  {
    "text": "What do I do if I'm\nnot happy about that? Well, I could just keep\nturning up m beyond 1.",
    "start": "2822260",
    "end": "2830079"
  },
  {
    "text": "What happens if I\nturn up m beyond 1? Well, if I turn up m beyond\n1, and my reference waveform",
    "start": "2830080",
    "end": "2839690"
  },
  {
    "text": "was going to swing up here\nlike that, what I would do is I would get a\nbunch of PWM switching",
    "start": "2839690",
    "end": "2849200"
  },
  {
    "text": "until the middle of the cycle or\nsomething where I just flat top. And so my PWM waveform for each\nphase might look like this.",
    "start": "2849200",
    "end": "2858140"
  },
  {
    "text": "It's PWMing. And then it'll just\nsit at the top. And it'll start PWMing again.",
    "start": "2858140",
    "end": "2863840"
  },
  {
    "text": "And if I keep\npushing it up and I keep making my reference\nwaveform bigger",
    "start": "2863840",
    "end": "2869130"
  },
  {
    "text": "and bigger and bigger, the limit\nof that is m goes to infinity. It's just that I'm just going\nto generate a square wave.",
    "start": "2869130",
    "end": "2876579"
  },
  {
    "text": "He's going to be on\nfor half the cycle. He's going to be on\nfor half the cycle. And you're back to\nthe six-step waveform",
    "start": "2876580",
    "end": "2882240"
  },
  {
    "text": "that I talked about before. And in that case, then\nI really do generate",
    "start": "2882240",
    "end": "2888320"
  },
  {
    "text": "the maximum fundamental. The maximum fundamental is\nbasically VAR is a square wave.",
    "start": "2888320",
    "end": "2894440"
  },
  {
    "text": "It's VDC over 2\ntimes 4 over pi is the fundamental of a\nsquare wave, of amplitude",
    "start": "2894440",
    "end": "2902630"
  },
  {
    "text": "plus and minus VDC over 2. That's the biggest\nfundamental I can synthesize.",
    "start": "2902630",
    "end": "2908400"
  },
  {
    "text": "And that sets an upper bound\nof how the fundamental voltage",
    "start": "2908400",
    "end": "2914150"
  },
  {
    "text": "I can drive here. The only problem I get with\ndoing that is that waveform has third harmonic,\nwhich will cancel,",
    "start": "2914150",
    "end": "2920270"
  },
  {
    "text": "but it also has 5th and\n7th and 11th and 13th. And I will get harmonic currents\nflowing in these phase windings",
    "start": "2920270",
    "end": "2928367"
  },
  {
    "text": "when those harmonic\ncurrents probably aren't helping me drive the machine.",
    "start": "2928367",
    "end": "2933750"
  },
  {
    "text": "So I can synthesize\nsomething that gives me nice, effectively-- at least\non a local average basis,",
    "start": "2933750",
    "end": "2939240"
  },
  {
    "text": "average over switching\ncycle-- sine waves up until the amplitude\nequals VDC over 2.",
    "start": "2939240",
    "end": "2946320"
  },
  {
    "text": "If I use my third\nharmonic injection trick, I can get it up to\nVDC over 2 times 1.15.",
    "start": "2946320",
    "end": "2955660"
  },
  {
    "text": "And then if I don't\ncare about distortion, I'm going to let a bunch of\nlow frequency harmonics exist.",
    "start": "2955660",
    "end": "2962170"
  },
  {
    "text": "I can just drive up the\nmodulation index even further and get up to 4\nover pi VDC over 2.",
    "start": "2962170",
    "end": "2969270"
  },
  {
    "text": "And people do that. In fact, in the Prius,\nthe Toyota guys eventually",
    "start": "2969270",
    "end": "2974940"
  },
  {
    "text": "published a paper saying,\nyeah, we ran out of headroom and we wanted to\nrun our motor faster for higher speed, so we just\nlet it saturate and generate",
    "start": "2974940",
    "end": "2983640"
  },
  {
    "text": "the harmonics. And the motor still\nworked, and we were OK. But you pay a price for that.",
    "start": "2983640",
    "end": "2989910"
  },
  {
    "text": "So people do do this. But if you want your\nwaveforms to be pure and not have low frequency harmonics\nand generate that noise",
    "start": "2989910",
    "end": "2997398"
  },
  {
    "text": "in your load, whatever it is,\nwith that low frequency content in your load, you've got to\nkeep your modulation index down.",
    "start": "2997398",
    "end": "3002694"
  },
  {
    "text": " Any questions?",
    "start": "3002695",
    "end": "3007940"
  },
  {
    "text": "Yeah. AUDIENCE: Is it possible to\nstep up VDC with a [INAUDIBLE] before? DAVID PERREAULT: Absolutely.",
    "start": "3007940",
    "end": "3014000"
  },
  {
    "text": "And in fact, that's\nwhat people do. So why is this a concern? Because if you're in a Prius,\nyou've got this bus voltage.",
    "start": "3014000",
    "end": "3021740"
  },
  {
    "text": "And that bus voltage is\nyour battery voltage. And that might vary\nover some range.",
    "start": "3021740",
    "end": "3027208"
  },
  {
    "text": "And then you're trying to deal\nwith this motor whose back emf varies over some range\nand you need to drive it. If you don't like that,\nthen you put another stage",
    "start": "3027208",
    "end": "3034730"
  },
  {
    "text": "in between your battery\nand your converter, and you can control the DC\nbus voltage to go up higher.",
    "start": "3034730",
    "end": "3040050"
  },
  {
    "text": "And then you're only\nlimited by how high voltage these switches are.",
    "start": "3040050",
    "end": "3045140"
  },
  {
    "text": "So you're always\nlimited by that. But yes, people do actually\ncontrol this bus voltage",
    "start": "3045140",
    "end": "3050690"
  },
  {
    "text": "from the battery voltage, for\nexample, in an electric vehicle to be something higher. And they might control it\ndynamically if they had to,",
    "start": "3050690",
    "end": "3058490"
  },
  {
    "text": "depending upon the operating\ncondition they want. All right. Well, have a great day.",
    "start": "3058490",
    "end": "3065180"
  },
  {
    "text": "We will pick up a\nnew topic next class. ",
    "start": "3065180",
    "end": "3072000"
  }
]