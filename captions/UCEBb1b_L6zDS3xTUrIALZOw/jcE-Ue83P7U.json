[
  {
    "text": "[SQUEAKING]\n[RUSTLING] [CLICKING]",
    "start": "0",
    "end": "8830"
  },
  {
    "text": "DAVID PERREAULT: Which\ncapacitor converters, which is covered in Principles\nof Power Electronics chapter 6.",
    "start": "8830",
    "end": "16810"
  },
  {
    "text": " And we saw some very\ninteresting phenomena",
    "start": "16810",
    "end": "23680"
  },
  {
    "text": "in terms of the effective output\nresistance of a switch capacitor",
    "start": "23680",
    "end": "29170"
  },
  {
    "text": "converter. And I'd like to take\na few minutes just to talk about what are the\norigins of that behavior.",
    "start": "29170",
    "end": "36340"
  },
  {
    "text": "So let's just take a\nreally simple case. Suppose I have a voltage supply\nthat I'm going to call V sub s.",
    "start": "36340",
    "end": "46540"
  },
  {
    "text": "And I'm going to use it. And at t equals 0\nI'm going to close a switch through a resistor\nR to charge a capacitor, Vc.",
    "start": "46540",
    "end": "57879"
  },
  {
    "text": "And at t equals 0\nminus, we're going to say that has some\ninitial voltage V sub",
    "start": "57880",
    "end": "64989"
  },
  {
    "text": "i on the capacitor. So this capacitor I'm\ngoing to close the switch, and then I'm going to\ncharge the capacitor up",
    "start": "64989",
    "end": "70870"
  },
  {
    "text": "from V sub i to its\nfinal value, which is going to end up at V sub s. And if I plotted\nthe behavior here,",
    "start": "70870",
    "end": "79510"
  },
  {
    "text": "right, I could find, for\nexample, if I plotted i sub c,",
    "start": "79510",
    "end": "87510"
  },
  {
    "text": "what would I expect to happen? Well it's 0 before t\nequals 0, obviously. At t equals 0, it's going\nto be Vs minus Vc, which",
    "start": "87510",
    "end": "95960"
  },
  {
    "text": "is Vi over R, right? So I'd have some initial\nvalue, Vs minus Vi over R.",
    "start": "95960",
    "end": "106490"
  },
  {
    "text": "And then it will\nexponentially decay down to 0 with some time constant\ntau is equal to RC.",
    "start": "106490",
    "end": "115820"
  },
  {
    "text": "And so as we're charging\nup this capacitor, we dissipate some\nenergy in the resistor,",
    "start": "115820",
    "end": "122030"
  },
  {
    "text": "and we can calculate that. What would happen if I changed\nthe resistor value here?",
    "start": "122030",
    "end": "129720"
  },
  {
    "text": "Suppose I used a much\nsmaller resistor. So if I did that, what would\nhappen to the initial current?",
    "start": "129720",
    "end": "139659"
  },
  {
    "text": "Well, if I use a\nsmaller resistor, the initial current\nwould be higher. So here I'll pick-- this will be Vs minus\nVi over R smaller.",
    "start": "139660",
    "end": "149520"
  },
  {
    "text": "And then it will also decay\nwith the same RC time constant. So it'll go from 0. It'll jump up and it'll decay.",
    "start": "149520",
    "end": "156650"
  },
  {
    "text": "Now the RC time constant\nwill be shorter. So it'll do something like this. So tau is again equal\nto RC, but R is smaller",
    "start": "156650",
    "end": "165030"
  },
  {
    "text": "than-- the yellow R is\nsmaller than the pink R. So it starts with a higher\ncurrent and decays quicker.",
    "start": "165030",
    "end": "171700"
  },
  {
    "text": "All right? All right, well, let's calculate\nthis stuff just analytically.",
    "start": "171700",
    "end": "179015"
  },
  {
    "text": "So let's ask this. How much charge do I deliver\nin charging this capacitor?",
    "start": "179015",
    "end": "187860"
  },
  {
    "text": "How much charge do I\ndeliver from Vs to Vc? Or what's the equivalent, the\nintegral of i c here, all right?",
    "start": "187860",
    "end": "195035"
  },
  {
    "text": " So we could calculate\nthat as delta q is",
    "start": "195035",
    "end": "202560"
  },
  {
    "text": "the charge I'm going to\ndeliver to the capacitor, is the integral from 0 to\ninfinity of i cdt, right?",
    "start": "202560",
    "end": "211709"
  },
  {
    "text": "And I can calculate that\nin a number of ways.",
    "start": "211710",
    "end": "217410"
  },
  {
    "text": "I could write this i\ncdt as equal to dq,",
    "start": "217410",
    "end": "222960"
  },
  {
    "text": "which is also equal to\nthe integral of C dv, where this is--",
    "start": "222960",
    "end": "228743"
  },
  {
    "text": " where C dv is going\nfrom V sub i to V sub",
    "start": "228743",
    "end": "236590"
  },
  {
    "text": "s, which is my final--\nit charges up eventually to V sub s, right? So I could write this charge is\njust simply C times Vs minus Vi.",
    "start": "236590",
    "end": "249680"
  },
  {
    "text": "OK? That's the amount of\ncharge that flows out of the source on\nto the capacitor to get it from its initial\nvoltage up to its final voltage",
    "start": "249680",
    "end": "258410"
  },
  {
    "text": "Vs. OK? Any questions about that? ",
    "start": "258410",
    "end": "264199"
  },
  {
    "text": "So let's just ask, where's the\nenergy going in this circuit? I said qualitatively,\nyou know, we're",
    "start": "264200",
    "end": "269690"
  },
  {
    "text": "going to dissipate some\npower in the resistor to charge up the capacitor. Let's calculate that. How much energy comes\nfrom the source.",
    "start": "269690",
    "end": "276440"
  },
  {
    "text": "Delta E source-- and I'm talking\nabout the energy out coming out",
    "start": "276440",
    "end": "283250"
  },
  {
    "text": "of the source to\ncharge everything-- is simply going to be\nVs times delta q, which",
    "start": "283250",
    "end": "292710"
  },
  {
    "text": "is going to be C Vs\nsquared minus C Vs Vi.",
    "start": "292710",
    "end": "302120"
  },
  {
    "text": "OK. That's how much energy\ncomes out of the source to charge the capacitor.",
    "start": "302120",
    "end": "307850"
  },
  {
    "text": "How much energy goes\ninto the capacitor? We can again use-- oh, here we can use energy\nmethods very clearly.",
    "start": "307850",
    "end": "315230"
  },
  {
    "text": "Delta E cap is-- well, the energy that ends up\non the cap is 1/2 C Vs squared.",
    "start": "315230",
    "end": "326300"
  },
  {
    "text": "The energy we started on the cap\nbefore we close the switch was simply 1/2 C Vi\nquantity squared.",
    "start": "326300",
    "end": "335790"
  },
  {
    "text": "And that's how much energy, and\nthat's how much change in energy is existing on the cap.",
    "start": "335790",
    "end": "342150"
  },
  {
    "text": "Makes sense to everybody? So that means that the\nlost energy, delta E loss,",
    "start": "342150",
    "end": "350350"
  },
  {
    "text": "which, of course, some energy\nis coming out of the cap, some energy is coming\nout of the source,",
    "start": "350350",
    "end": "356320"
  },
  {
    "text": "and some energy is\nending up in the cap. The rest, obviously, delta E\nloss is in the resistor in this",
    "start": "356320",
    "end": "362290"
  },
  {
    "text": "model-- there's nowhere\nelse for it to go-- is going to be delta E\nsource minus delta E cap,",
    "start": "362290",
    "end": "373389"
  },
  {
    "text": "which I could write\nas this minus this,",
    "start": "373390",
    "end": "378420"
  },
  {
    "text": "which is going to be C Vs\nsquared minus C Vs Vi minus 1/2",
    "start": "378420",
    "end": "387300"
  },
  {
    "text": "C V squared C Vs squared\nplus 1/2 C Vi squared.",
    "start": "387300",
    "end": "394090"
  },
  {
    "text": "And if I collapse this down a\nlittle bit and rearrange it, what I get is 1/2 C times Vs\nminus Vi quantity squared.",
    "start": "394090",
    "end": "406310"
  },
  {
    "start": "406310",
    "end": "411452"
  },
  {
    "text": "OK?  And this is in the resistor?",
    "start": "411452",
    "end": "419380"
  },
  {
    "text": "OK? Any questions about that? ",
    "start": "419380",
    "end": "426340"
  },
  {
    "text": "Yeah. AUDIENCE: So in this\nmodel, like, you didn't assume that the\nresistor is in the circuit?",
    "start": "426340",
    "end": "433164"
  },
  {
    "text": "DAVID PERREAULT: No, I did. Of course I did. Right?",
    "start": "433165",
    "end": "438615"
  },
  {
    "text": "I mean, I still have\nconservation of energy, right? I didn't calculate an integral. Like, I didn't\nwrite the integral",
    "start": "438615",
    "end": "444370"
  },
  {
    "text": "in terms of the resistor. But I still, I didn't-- it's\nnot that I didn't assume it was there. AUDIENCE: I guess I think you\ncould have drawn the circuit",
    "start": "444370",
    "end": "451180"
  },
  {
    "text": "and written down\nthe same equations and arrived at the same result. DAVID PERREAULT:\nAbsolutely right.",
    "start": "451180",
    "end": "458259"
  },
  {
    "text": "Very good observation. So what's going on here? Did I cheat? No, I did not cheat.",
    "start": "458260",
    "end": "463910"
  },
  {
    "text": "I just-- I'm lazy and I don't\nlike doing hard integrals. Or even easy integrals,\nfor that matter. What's going on here?",
    "start": "463910",
    "end": "470030"
  },
  {
    "text": "It's exactly the picture I drew. OK. ",
    "start": "470030",
    "end": "476210"
  },
  {
    "text": "If I had some nominal\nvalue of resistor, 1 ohm, I'd get exactly this curve.",
    "start": "476210",
    "end": "481980"
  },
  {
    "text": "And if I squared this--\nthis is a current. If I squared this, I could\nwrite the exponential decay,",
    "start": "481980",
    "end": "487332"
  },
  {
    "text": "and then I could integrate\nit, and I'd get some loss. I would get exactly that loss.",
    "start": "487332",
    "end": "492910"
  },
  {
    "text": "And if I change the value of\nresistance, I'd get this curve, and I'd get exactly\nthe same loss.",
    "start": "492910",
    "end": "499090"
  },
  {
    "text": "So what's being\nnoticed here is the-- none of these answers,\nthe amount of energy that comes out of the\nsource, the amount of energy,",
    "start": "499090",
    "end": "504340"
  },
  {
    "text": "the one under the cap, and\nthe amount of energy I lose, don't depend on the\nresistance at all. You get the same answer.",
    "start": "504340",
    "end": "510889"
  },
  {
    "text": "The waveforms are different. It depends. The current waveform\nthat I get depends upon the value of the resistor.",
    "start": "510890",
    "end": "516830"
  },
  {
    "text": "What happens if I keep\nmaking that resistor smaller and smaller and smaller? What I get is currents that\nhave higher peaks and shorter",
    "start": "516830",
    "end": "525130"
  },
  {
    "text": "durations, until, like,\nas R approaches 0, this more or less becomes\na kind of impulse.",
    "start": "525130",
    "end": "531190"
  },
  {
    "text": "But it's an impulse with\nan amount of charge delta q that C Vs minus Vi.",
    "start": "531190",
    "end": "537410"
  },
  {
    "text": "And the amount of energy I\nlose in the resistor-- yeah, I have a smaller resistor.",
    "start": "537410",
    "end": "542832"
  },
  {
    "text": "It's going to 0, but its current\nthrough, it's going to infinity, and it goes through\nit in just such a way that I lose the same\namount of energy",
    "start": "542832",
    "end": "548761"
  },
  {
    "text": "no matter what\nthe resistance is. So it's not that I'm cheating. It's just that this\nis what happens when you take a limit of\na resistance, go to 0,",
    "start": "548762",
    "end": "555482"
  },
  {
    "text": "but you're getting a limit as\nthe current goes to infinity. And if I put that\ninto the circuit and I took that integral, and I\ntook the limit as R goes to 0,",
    "start": "555482",
    "end": "562910"
  },
  {
    "text": "I'd get the same answer. So I'm just lazy, and I kind\nof skip over the integral.",
    "start": "562910",
    "end": "568420"
  },
  {
    "text": "OK? Yeah. Go ahead. AUDIENCE: In the case that\nthere is a non-zero R, it makes sense that\nthe energy that",
    "start": "568420",
    "end": "573850"
  },
  {
    "text": "gets lost through the resistor\n[INAUDIBLE] R equals 0. Where is the energy lost?",
    "start": "573850",
    "end": "579519"
  },
  {
    "text": "DAVID PERREAULT:\nThe energy loss-- I mean, the actual distribution\nof the energy loss, now you're asking about\nidealized situations.",
    "start": "579520",
    "end": "587230"
  },
  {
    "text": "Somewhere in this loop, I've\ngot to dissipate energy.",
    "start": "587230",
    "end": "594620"
  },
  {
    "text": "And so there has to be some-- it's sort of like\nsaying if I connect a voltage source across a\nshort circuit, what happens?",
    "start": "594620",
    "end": "602000"
  },
  {
    "text": "Like, well, you've got to\nhave some approximation. You've got to have some\nlimiting resistance going to 0.",
    "start": "602000",
    "end": "607970"
  },
  {
    "text": "So in the real world, if\nthis switch and resistor were an ideal\nMOSFET or something,",
    "start": "607970",
    "end": "613057"
  },
  {
    "text": "where would the energy go? It would depend upon where\nthe actual resistance was distributed in the circuit.",
    "start": "613057",
    "end": "620650"
  },
  {
    "text": "And to the extent\nthat the resistance is in the plates\nof the capacitor, it will get dissipated there.",
    "start": "620650",
    "end": "626538"
  },
  {
    "text": "But if you want to if you\nwant to force ideality to where things are 0, then\nyou can get squirrely results",
    "start": "626538",
    "end": "634040"
  },
  {
    "text": "if you don't\naccount for the fact that you have infinite currents. OK. ",
    "start": "634040",
    "end": "641880"
  },
  {
    "text": "This kind of charge,\nor energy-- charge in energy methods are very\nconvenient for working things,",
    "start": "641880",
    "end": "649339"
  },
  {
    "text": "results out where you don't want\nto have to integrate things. And it turns out,\nin fact, it doesn't",
    "start": "649340",
    "end": "655279"
  },
  {
    "text": "matter what this element is. ",
    "start": "655280",
    "end": "660970"
  },
  {
    "text": "Basically, I could replace this\nwith a non-linear resistor.",
    "start": "660970",
    "end": "666110"
  },
  {
    "text": "Like, so, if the\nMOSFET was nonlinear, you'd get the same answer\nbecause it doesn't matter.",
    "start": "666110",
    "end": "671260"
  },
  {
    "text": "The time waveform, the\nfact that I drew this as a perfect exponential,\neven if this resistor was",
    "start": "671260",
    "end": "676550"
  },
  {
    "text": "a non-linear, so\nlong as I ended up with Vc at the\nsame voltage as Vs,",
    "start": "676550",
    "end": "684410"
  },
  {
    "text": "I'm going to get the\nsame dissipation. So in fact, even\nif this had some inductance, and it rang\nback and forth a little bit,",
    "start": "684410",
    "end": "689660"
  },
  {
    "text": "and then settled down. I get the same total loss. It just doesn't matter.",
    "start": "689660",
    "end": "695170"
  },
  {
    "text": "AUDIENCE: This is just a\nresult of the fact that this is in some sort of [INAUDIBLE]. DAVID PERREAULT:\nYeah, that's right.",
    "start": "695170",
    "end": "701270"
  },
  {
    "text": "I mean, it satisfies\nconservation of energy, and it satisfies the fact that\nthe change in the capacitor",
    "start": "701270",
    "end": "708880"
  },
  {
    "text": "voltage determines the charge\nflow both here and here. ",
    "start": "708880",
    "end": "715620"
  },
  {
    "text": "Excellent observation.  What does this imply?",
    "start": "715620",
    "end": "722280"
  },
  {
    "text": "Well, what is the efficiency\nof charging this capacitor? If I thought, OK, I\nbrought this capacitor",
    "start": "722280",
    "end": "727850"
  },
  {
    "text": "from some initial\nvoltage up to Vs. What fraction of the energy I\nsourced got to the load, right?",
    "start": "727850",
    "end": "735949"
  },
  {
    "text": "So if I thought of the\ncapacitor as the load. So I could think of\nthe charging efficiency",
    "start": "735950",
    "end": "741889"
  },
  {
    "text": "as being equal to the\nenergy delta E cap--",
    "start": "741890",
    "end": "749720"
  },
  {
    "text": "that's the energy that\nwent to the capacitor-- over delta E source. ",
    "start": "749720",
    "end": "756120"
  },
  {
    "text": "And what is that? Well, I could write that as\nequal to 1/2 C Vs squared minus",
    "start": "756120",
    "end": "765569"
  },
  {
    "text": "1/2 C Vi quantity squared\ndivided by delta E source is C",
    "start": "765570",
    "end": "774490"
  },
  {
    "text": "Vs squared minus C Vs Vi. ",
    "start": "774490",
    "end": "784424"
  },
  {
    "text": "And I can divide out the\ncapacitance here in this.",
    "start": "784424",
    "end": "791455"
  },
  {
    "text": "OK.  So I can write this as equal\nto-- if I factor out 1/2 Vs",
    "start": "791455",
    "end": "802990"
  },
  {
    "text": "squared, or if I divide top\nand bottom by Vs squared, I can write this as 1/2 times\n1 minus Vi over Vs quantity",
    "start": "802990",
    "end": "820530"
  },
  {
    "text": "squared divided by\n1 minus Vi over Vs,",
    "start": "820530",
    "end": "829065"
  },
  {
    "text": "which I could write as 1/2\ntimes 1 plus Vi over Vs.",
    "start": "829065",
    "end": "840230"
  },
  {
    "text": "That makes sense to everybody? And in fact, actually,\nyou can write it in a slightly different way.",
    "start": "840230",
    "end": "845880"
  },
  {
    "text": "If I thought of delta V as\nbeing equal to Vs minus Vi--",
    "start": "845880",
    "end": "854810"
  },
  {
    "text": "that's how much I'm\ncharging up the cap-- this can also be written-- and\nI won't go through the math-- this can also be written as 1--",
    "start": "854810",
    "end": "867380"
  },
  {
    "text": "sorry. 1 minus 1/2 of delta V over Vs.",
    "start": "867380",
    "end": "875522"
  },
  {
    "text": " So why am I dragging\nyou through this?",
    "start": "875522",
    "end": "881029"
  },
  {
    "text": "What I want to understand\nis how does this charging efficiency go? Well, if I charge\nthe capacitor from 0,",
    "start": "881030",
    "end": "890446"
  },
  {
    "text": "what would be the\ncharging efficiency? Well, if Vi was 0,\nthis would go to 0.",
    "start": "890446",
    "end": "895920"
  },
  {
    "text": "This would go to this. The numerator would go to\n1, the button denominator would go to 1. My charging efficiency\nwould be 50%.",
    "start": "895920",
    "end": "902670"
  },
  {
    "text": "So if I charge the capacitor\nup from 0 to final value, I put 1/2 C V squared\non the capacitor,",
    "start": "902670",
    "end": "908910"
  },
  {
    "text": "and I dissipate half C V\nsquared in the resistor. So it's not a very\nhappy energy transfer.",
    "start": "908910",
    "end": "915240"
  },
  {
    "text": "I lose half my energy in\ncharging up that capacitor. On the other hand,\nsuppose Vi was--",
    "start": "915240",
    "end": "923870"
  },
  {
    "text": "suppose the initial voltage on\nthe capacitor was half of Vs. If I do this calculation,\nthis is a half of 1 plus 0.5,",
    "start": "923870",
    "end": "932930"
  },
  {
    "text": "or it becomes 0.75. So if I charge half\nway up from Vs to Vs,",
    "start": "932930",
    "end": "940310"
  },
  {
    "text": "I have 75% energy\nefficiency in charging that. And in the limit as\nVi approaches Vs,",
    "start": "940310",
    "end": "948590"
  },
  {
    "text": "the efficiency goes to 1. So if I want to have\nhigh efficiency,",
    "start": "948590",
    "end": "954940"
  },
  {
    "text": "I only want to charge\nthe capacitor a little. And the way you could\nthink about that",
    "start": "954940",
    "end": "960279"
  },
  {
    "text": "is, what's this happening? When I have the capacitor\nvoltage is very small",
    "start": "960280",
    "end": "965590"
  },
  {
    "text": "and the Vs is very big,\nI've got a big voltage across this resistor, I'm\ndumping a lot of energy",
    "start": "965590",
    "end": "970660"
  },
  {
    "text": "in the resistor compared\nto the capacitor. Whereas, if Vc is\nvery close to Vs, I only have a tiny voltage\nacross the resistor.",
    "start": "970660",
    "end": "977839"
  },
  {
    "text": "Most of the energy goes\ninto the capacitor. So if I charge a capacitor\nonly a little bit,",
    "start": "977840",
    "end": "983620"
  },
  {
    "text": "I only lose a small\nfraction of the energy. Does that make\nsense to everybody?",
    "start": "983620",
    "end": "989060"
  },
  {
    "text": " I should have noted,\nby the way, that there",
    "start": "989060",
    "end": "1001080"
  },
  {
    "text": "is a way to make this circuit\nhave greater efficiency.",
    "start": "1001080",
    "end": "1007830"
  },
  {
    "text": "And what that would be is if I\nput an inductor in series here,",
    "start": "1007830",
    "end": "1013060"
  },
  {
    "text": "and I slosh charge\nfrom Vs onto Vc, but let Vc finish\nand then reopen",
    "start": "1013060",
    "end": "1020710"
  },
  {
    "text": "the switch when Vc is at some\nvoltage greater than Vs--",
    "start": "1020710",
    "end": "1025959"
  },
  {
    "text": "so this limit on the\nefficiency that it doesn't matter how I charge\nit is only true if Vc ends up",
    "start": "1025960",
    "end": "1033130"
  },
  {
    "text": "at Vs. If I make Vc somehow\nend up greater than Vs--",
    "start": "1033130",
    "end": "1038619"
  },
  {
    "text": "for example, through a\nresident sloshing of energy-- then I can get\nhigher efficiency.",
    "start": "1038619",
    "end": "1044709"
  },
  {
    "text": "But in a switch\ncapacitor converter, or in a converter\nwhere I'm going to let the final value of\nthe capacitor go to Vs,",
    "start": "1044709",
    "end": "1052750"
  },
  {
    "text": "the efficiency is\nfixed by the charge transfer in the initial value.",
    "start": "1052750",
    "end": "1058550"
  },
  {
    "text": "Any questions about that? ",
    "start": "1058550",
    "end": "1066136"
  },
  {
    "text": "So how does this relate to what\nwe were talking about last time? Let's remind ourselves of the\ncircuit that we saw last time.",
    "start": "1066136",
    "end": "1073620"
  },
  {
    "text": "And it was a two to one switch\ncapacitor step-down converter. When we say two to\none, we're referring",
    "start": "1073620",
    "end": "1079650"
  },
  {
    "text": "to voltage conversion,\nbecause that's just the way people do it. So here's the circuit\nwe're talking about.",
    "start": "1079650",
    "end": "1086075"
  },
  {
    "text": " Here's Vs. I'm going to\nhave a first switch 1.",
    "start": "1086075",
    "end": "1092445"
  },
  {
    "text": "I'm going to have a\ncapacitor where I'm going to have some voltage Vc on it. Another switch 1.",
    "start": "1092445",
    "end": "1099419"
  },
  {
    "text": "And then this is going to\ngo to some big capacitor. I'll call it C big. That's going to\nhold the voltage.",
    "start": "1099420",
    "end": "1107080"
  },
  {
    "text": "And he's loaded with\nsome current, I out. And then this is\none charging state,",
    "start": "1107080",
    "end": "1115380"
  },
  {
    "text": "and then the other charging\nstate looks like this.",
    "start": "1115380",
    "end": "1121230"
  },
  {
    "text": "This is switch 2. And switch 2. ",
    "start": "1121230",
    "end": "1127370"
  },
  {
    "text": "So what we do is, in,\nsay, the switch 2 state--",
    "start": "1127370",
    "end": "1135030"
  },
  {
    "text": "I'm sorry. In the switch 1 state,\nwe charge from Vs, charging this capacitor C up\nby the difference between Vs",
    "start": "1135030",
    "end": "1144030"
  },
  {
    "text": "and V out. ",
    "start": "1144030",
    "end": "1149136"
  },
  {
    "text": "And then in the 2 state, we\ndischarge C into the output so that the output\ncurrent is going",
    "start": "1149136",
    "end": "1155460"
  },
  {
    "text": "to be always twice the\naverage input current. And we came up with a model.",
    "start": "1155460",
    "end": "1161870"
  },
  {
    "text": "We derived a model for\neverything inside of this box. So I could take\neverything in here",
    "start": "1161870",
    "end": "1168910"
  },
  {
    "text": "and come up with an\nequivalent average circuit model, a DC average model. It would look like this.",
    "start": "1168910",
    "end": "1174760"
  },
  {
    "text": "I'd have V in. ",
    "start": "1174760",
    "end": "1180370"
  },
  {
    "text": "And the rest of it I can model\nwith a two to one transformer. ",
    "start": "1180370",
    "end": "1192650"
  },
  {
    "text": "And then a resistor, R eq. And in the slow-switching\nlimit, this",
    "start": "1192650",
    "end": "1202299"
  },
  {
    "text": "is 1 over 4 fc, where this\nis the switching frequency.",
    "start": "1202300",
    "end": "1208930"
  },
  {
    "text": "And this is everything\ninside that box. ",
    "start": "1208930",
    "end": "1215690"
  },
  {
    "text": "And then I can model\nthe output resistance. Output current, I out.",
    "start": "1215690",
    "end": "1222440"
  },
  {
    "text": "And this is V out. That makes sense to everybody? Everybody recall this?",
    "start": "1222440",
    "end": "1229763"
  },
  {
    "text": "So notice that this is\nthe slow switching limit, and the slow switching\nlimit, R eq on the log scale,",
    "start": "1229764",
    "end": "1241640"
  },
  {
    "text": "versus F switch on a log\nscale, goes as 1 over 4 F C.",
    "start": "1241640",
    "end": "1254730"
  },
  {
    "text": "And why does it do that?",
    "start": "1254730",
    "end": "1260590"
  },
  {
    "text": "Because for a\ngiven load current,",
    "start": "1260590",
    "end": "1267890"
  },
  {
    "text": "the charge transfer on and\noff of this capacitance is exactly determined\nby the load current.",
    "start": "1267890",
    "end": "1273610"
  },
  {
    "text": "I transfer a certain\namount of charge per cycle through the cap with\ndelta q coming out of Vs",
    "start": "1273610",
    "end": "1279090"
  },
  {
    "text": "and ultimately 2 delta\nq going to the output. And as I make that current\nbigger and bigger, that",
    "start": "1279090",
    "end": "1287660"
  },
  {
    "text": "capacitor, if I make the\ncurrent bigger and bigger, that capacitor has to\ncharge up and down more,",
    "start": "1287660",
    "end": "1293870"
  },
  {
    "text": "and my efficiency should droop. Or equivalently, as I\nmake C bigger and bigger, for a given charge transfer,\nhis voltage swing shrinks.",
    "start": "1293870",
    "end": "1301289"
  },
  {
    "text": " Or if I turn up\nswitching frequency, then the amount of time--",
    "start": "1301290",
    "end": "1307010"
  },
  {
    "text": "I have to transfer less charge\nin each switching cycle. And the capacitor voltage\ndoesn't move as much.",
    "start": "1307010",
    "end": "1313620"
  },
  {
    "text": "And the resistance goes down,\nthe charging loss goes down. Why? Because essentially,\nin each cycle,",
    "start": "1313620",
    "end": "1319460"
  },
  {
    "text": "I charge and discharge\nthat capacitor less. So this reflection that the\noutput resistance or the loss",
    "start": "1319460",
    "end": "1327320"
  },
  {
    "text": "due to charging and\ndischarging this resistance, this capacitor through the\nswitch resistance, is inversely",
    "start": "1327320",
    "end": "1333710"
  },
  {
    "text": "varied with frequency, or\nincreases with load current,",
    "start": "1333710",
    "end": "1339409"
  },
  {
    "text": "that the loss is exactly\nrelated to how much up and down I'm charging the capacitor.",
    "start": "1339410",
    "end": "1344430"
  },
  {
    "text": " Any questions about that? ",
    "start": "1344430",
    "end": "1353169"
  },
  {
    "text": "And then the only thing we\nsaid last time was, well, this isn't the slow\nswitching limit where I have",
    "start": "1353170",
    "end": "1359610"
  },
  {
    "text": "this kind of charging, right? The capacitor charges--\nthe capacitor current",
    "start": "1359610",
    "end": "1365130"
  },
  {
    "text": "does this, and gets to\nits final charge state, right, assuming that C big is so\nbig that it's staying constant.",
    "start": "1365130",
    "end": "1373950"
  },
  {
    "text": "If I turn up the switching\nfrequency enough, I get on to a time\nscale that's short",
    "start": "1373950",
    "end": "1379440"
  },
  {
    "text": "compared to this time constant. Maybe it's only doing this. The current never charging\nor discharging the capacitor",
    "start": "1379440",
    "end": "1387480"
  },
  {
    "text": "voltage very much. And the capacitor voltage\nisn't moving around very much. And in that case, I\nwould get to a new limit.",
    "start": "1387480",
    "end": "1395380"
  },
  {
    "text": "And we said the resistance\nin the fast switching limit-- so this is the SSL--",
    "start": "1395380",
    "end": "1400480"
  },
  {
    "text": " would look like this.",
    "start": "1400480",
    "end": "1405750"
  },
  {
    "text": "And in the FSL, R\neq ends up being 4--",
    "start": "1405750",
    "end": "1415970"
  },
  {
    "text": "I'm sorry-- 2R switch. And that makes sense, because\nin the fast-switching limit,",
    "start": "1415970",
    "end": "1424250"
  },
  {
    "text": "I'm basically always charging\nthe output through two switches. And so I ought to see\ntwo switch resistances",
    "start": "1424250",
    "end": "1431330"
  },
  {
    "text": "in the fast-switching limit. And if I said,\nwell, what does it look like across the switching\nfrequency for a given",
    "start": "1431330",
    "end": "1440990"
  },
  {
    "text": "load across the\nswitching frequency, it does something like this.",
    "start": "1440990",
    "end": "1446112"
  },
  {
    "text": "It's one thing in the\nfast-switching-- slow-switching limit. It's another thing in\nthe fast-switching limit.",
    "start": "1446112",
    "end": "1451682"
  },
  {
    "text": "Any questions about that? So if I'm going to\ndraw more current,",
    "start": "1451682",
    "end": "1457320"
  },
  {
    "text": "I'm going to get more droop. If I draw more current,\nthere's more droop across this\nequivalent resistance.",
    "start": "1457320",
    "end": "1464640"
  },
  {
    "text": "Or if I turn up frequency until\nI hit the fast-switching limit, I can make that\nresistance smaller",
    "start": "1464640",
    "end": "1470630"
  },
  {
    "text": "and make the droop smaller. Let's see a\ndemonstration of this. So I'm going to pass\nthis to Dave Otten, who's",
    "start": "1470630",
    "end": "1477750"
  },
  {
    "text": "built us a really beautiful demo\nto illustrate this property. ",
    "start": "1477750",
    "end": "1490179"
  },
  {
    "text": "DAVID OTTEN: OK. So right now, I'm going to--",
    "start": "1490180",
    "end": "1495280"
  },
  {
    "text": "the purple waveform which\nI'm about to turn off is my input supply,\nand the green waveform",
    "start": "1495280",
    "end": "1501160"
  },
  {
    "text": "is the output of this converter. And right now I have\nno load on it, OK? So let me turn off the\npurple so you can see it.",
    "start": "1501160",
    "end": "1509780"
  },
  {
    "text": "Now the yellow waveform is the\ntop of our flying capacitor. So you can see that it\nsometimes is up at the supply.",
    "start": "1509780",
    "end": "1516549"
  },
  {
    "text": "Sometimes it's at the output. And then the blue\nwaveform is the bottom",
    "start": "1516550",
    "end": "1522009"
  },
  {
    "text": "of the flying capacitor. Sometimes it's ground and\nsometimes it's at the middle, OK? So now I'm going to make\nsure we can see the green.",
    "start": "1522010",
    "end": "1530970"
  },
  {
    "text": "And I'm going to\nturn on a small load. And you can see that the output\nvoltage came down as a result.",
    "start": "1530970",
    "end": "1540340"
  },
  {
    "text": "And if you look at the\nyellow waveform, you know, you can sort of see an RC\nkind of a time constant on it.",
    "start": "1540340",
    "end": "1546039"
  },
  {
    "text": "And it looks like we\ncould switch sooner. If I increase the\nload a little bit--",
    "start": "1546040",
    "end": "1553620"
  },
  {
    "text": "so this is twice as much. You can see that that RC time\nconstant might be faster.",
    "start": "1553620",
    "end": "1559870"
  },
  {
    "text": "And you can also see that the\noutput changed by quite a bit in terms of its output droop. So now I'm going to start\nturning up the frequency.",
    "start": "1559870",
    "end": "1569070"
  },
  {
    "text": "And we can watch\nthe output increase. So there's the\nfrequency coming up.",
    "start": "1569070",
    "end": "1577980"
  },
  {
    "text": "Let me change the\ntimescale a little bit so we can see it better now. It's less clear, exactly, what\nthe RC time constant is here.",
    "start": "1577980",
    "end": "1587160"
  },
  {
    "text": "Maybe it's settling in\nthe time that we give it, but maybe it hasn't\nquite made it yet.",
    "start": "1587160",
    "end": "1592450"
  },
  {
    "text": "And you can see that the\noutput voltage is rising. Oops, went the wrong way.",
    "start": "1592450",
    "end": "1599970"
  },
  {
    "text": "So I can turn it\nup by quite a bit. And this is sort of-- so\nI went from 5 kilohertz",
    "start": "1599970",
    "end": "1606030"
  },
  {
    "text": "to 250 kilohertz. So-- whoops.",
    "start": "1606030",
    "end": "1611310"
  },
  {
    "text": "Sorry, I changed the wrong knob. Here we go. So at this high\nfrequency, you can",
    "start": "1611310",
    "end": "1619500"
  },
  {
    "text": "see that there really isn't\nmuch ripple on the output. We're doing a pretty\ngood job of switching it fast enough so that the\ncapacitor voltage doesn't",
    "start": "1619500",
    "end": "1627030"
  },
  {
    "text": "change. So this is the most efficient\npoint for this converter, particularly if you don't\ncount the power that",
    "start": "1627030",
    "end": "1634500"
  },
  {
    "text": "goes into the gate drives\nand the power that goes into switching the switches. That decreases the\nefficiency a little bit.",
    "start": "1634500",
    "end": "1642100"
  },
  {
    "text": "But in terms of the power part\nof it, this is its best shot. ",
    "start": "1642100",
    "end": "1650055"
  },
  {
    "text": "DAVID PERREAULT:\nSo any questions about the fact\nthat we can really get some benefit by turning\nup the switching frequency?",
    "start": "1650055",
    "end": "1656930"
  },
  {
    "text": "We drop the resistance,\nwhich increases our converter efficiency,\nneglecting gate charge",
    "start": "1656930",
    "end": "1662710"
  },
  {
    "text": "losses and that sort of thing. And we would keep doing that. We'd usually like to keep\ndoing that until we get up",
    "start": "1662710",
    "end": "1668110"
  },
  {
    "text": "here somewhere. So we're at maximum efficiency. We wouldn't want to go out here,\nbecause there are other losses",
    "start": "1668110",
    "end": "1674500"
  },
  {
    "text": "that I'm not counting. So there's always an\noptimum switching frequency. And the nice thing is\nis the load decreases.",
    "start": "1674500",
    "end": "1680328"
  },
  {
    "text": "We can often change\nthe switching frequency to keep efficiency really\nhigh in these converters across a very wide power range.",
    "start": "1680328",
    "end": "1687910"
  },
  {
    "text": "Any questions about that? ",
    "start": "1687910",
    "end": "1693160"
  },
  {
    "text": "So let's consider a few other\nthings about switch capacitor",
    "start": "1693160",
    "end": "1698230"
  },
  {
    "text": "converters. One thing I'd like you\nto notice is, in fact,",
    "start": "1698230",
    "end": "1703610"
  },
  {
    "text": "that if you have the right\nswitch implementation, switch capacitor converters are\nbi-directional in their power",
    "start": "1703610",
    "end": "1710020"
  },
  {
    "text": "flow capability, just\nlike other converters. Remember, we could run a buck\nconverter essentially backwards",
    "start": "1710020",
    "end": "1715419"
  },
  {
    "text": "and turn it into a boost\nConverter That same trick works with switching power\nconverters-- works with switch",
    "start": "1715420",
    "end": "1721960"
  },
  {
    "text": "capacitor converters. So let me just choose\nanother converter. And what I'm going to do is I'm\ngoing to go take the output,",
    "start": "1721960",
    "end": "1730060"
  },
  {
    "text": "put it over here, take the\nsource, put it over here. I'll draw it backwards.",
    "start": "1730060",
    "end": "1735730"
  },
  {
    "text": "And the only other thing is I'll\nchange the voltage polarity here just so you can-- just for clarity in the circuit.",
    "start": "1735730",
    "end": "1742309"
  },
  {
    "text": "And what would we\nget if I did that? It would look\nsomething like this.",
    "start": "1742310",
    "end": "1748520"
  },
  {
    "text": "So OK. Let me draw. I'll keep my source. And I'll keep my\nsource on my load",
    "start": "1748520",
    "end": "1755450"
  },
  {
    "text": "and I'll flip the\ncircuit around. So here we go. Here's Vs. OK.",
    "start": "1755450",
    "end": "1763550"
  },
  {
    "text": "I'm going to have-- I'm first going to go through\nwith a switch and a 1,",
    "start": "1763550",
    "end": "1769730"
  },
  {
    "text": "and then up, switch 2. And then I'm going\nto have a capacitor.",
    "start": "1769730",
    "end": "1778970"
  },
  {
    "text": "And I'm going to draw\nit as Vc, like this. And then I'm going to\nhave a switch that's a 1.",
    "start": "1778970",
    "end": "1785710"
  },
  {
    "text": "And I've got to\ncome to the output.",
    "start": "1785710",
    "end": "1793149"
  },
  {
    "text": "So I'm going to have a C big. ",
    "start": "1793150",
    "end": "1798596"
  },
  {
    "text": "And I'm going to have a\nload current on this side. ",
    "start": "1798597",
    "end": "1805448"
  },
  {
    "text": "And now-- so what am\nI going to get here?",
    "start": "1805448",
    "end": "1810980"
  },
  {
    "text": "I've got to draw\nmy other switch. So he's ending up on this side.",
    "start": "1810980",
    "end": "1816800"
  },
  {
    "text": "So let me get just\nget this right. Switch 1, and\nswitch 2 goes here. ",
    "start": "1816800",
    "end": "1827410"
  },
  {
    "text": "Switch 1 comes from the\nsource and comes here. Yes. So 2 and 2, like this. OK?",
    "start": "1827410",
    "end": "1833200"
  },
  {
    "text": "So what am I doing\nin this circuit? 1, 1, 2, 2.",
    "start": "1833200",
    "end": "1838310"
  },
  {
    "text": "It's the same thing. All I did was basically flip\nthe internal circuit around and kept the source and\nload in the same place.",
    "start": "1838310",
    "end": "1845620"
  },
  {
    "text": "So what are the two\nswitch states here? If I have 1 and 1,\nwhat I'm doing is this.",
    "start": "1845620",
    "end": "1854110"
  },
  {
    "text": "If switch 1s are on,\nwhat I got is this. ",
    "start": "1854110",
    "end": "1862280"
  },
  {
    "text": "And here's my C big. All right. And here's my I out. ",
    "start": "1862280",
    "end": "1871710"
  },
  {
    "text": "And if I have my switch,\nso this is state 1. ",
    "start": "1871710",
    "end": "1877200"
  },
  {
    "text": "If I have state 2,\nessentially, I am doing this.",
    "start": "1877200",
    "end": "1896860"
  },
  {
    "start": "1896860",
    "end": "1909420"
  },
  {
    "text": "OK. So what happens? Like how might I think\nabout the charge transfers here in states 1 and 2?",
    "start": "1909420",
    "end": "1915095"
  },
  {
    "text": " In this state, state\n2, what I'm going",
    "start": "1915095",
    "end": "1920520"
  },
  {
    "text": "to do, if I have a active\nload over here, I out,",
    "start": "1920520",
    "end": "1925830"
  },
  {
    "text": "is I'm basically in state 2,\nI'm basically just charging this capacitor from the input.",
    "start": "1925830",
    "end": "1931440"
  },
  {
    "text": "So this capacitor Vc is going\nto charge up to Vn or to Vs.",
    "start": "1931440",
    "end": "1938980"
  },
  {
    "text": " Then, in state 1,\nwhat I'm going to do",
    "start": "1938980",
    "end": "1944279"
  },
  {
    "text": "is I'm going to\ndischarge him like this. ",
    "start": "1944280",
    "end": "1951660"
  },
  {
    "text": "So I'm putting\nsomething that's charged to Vs, in series\nwith Vs, and I'm discharging it into the output.",
    "start": "1951660",
    "end": "1957720"
  },
  {
    "text": "So the output ideally\nought to charge up. If I had no load current,\nwhat will happen is the output will charge\nup to 2 Vs or 2 Vn--",
    "start": "1957720",
    "end": "1965490"
  },
  {
    "text": "let me call this Vn\njust for consistency. ",
    "start": "1965490",
    "end": "1973476"
  },
  {
    "text": "So this becomes a\n1 to 2 converter. All right? I can do the same kind of\nanalysis on this converter",
    "start": "1973476",
    "end": "1981149"
  },
  {
    "text": "that I did on the\nconverter from last class. And if I did that, we would get\nthis equivalent circuit model.",
    "start": "1981150",
    "end": "1987870"
  },
  {
    "text": "I would get Vn. The equivalent circuit\nmodel for this whole thing",
    "start": "1987870",
    "end": "1994020"
  },
  {
    "text": "would be like this.  1 to 2. ",
    "start": "1994020",
    "end": "2004100"
  },
  {
    "text": "And then I would have an R\neq that would be equal to 1",
    "start": "2004100",
    "end": "2013190"
  },
  {
    "text": "over F switch C in SSL.",
    "start": "2013190",
    "end": "2018860"
  },
  {
    "text": "And then here's my\nload current, I out.  It's the same kind of analysis.",
    "start": "2018860",
    "end": "2025360"
  },
  {
    "text": "We do the same charge\ntransfer thing. We get an equation. We see that this circuit model\nright here matches what goes on",
    "start": "2025360",
    "end": "2032950"
  },
  {
    "text": "in the slow-switching limit. Does that make\nsense to everybody?",
    "start": "2032950",
    "end": "2038054"
  },
  {
    "text": " The neat thing about this\nis that actually the model",
    "start": "2038055",
    "end": "2045010"
  },
  {
    "text": "hasn't changed. ",
    "start": "2045010",
    "end": "2050211"
  },
  {
    "text": "I'm using idealized switches. Let's just say I assume they're\nperfect switches that can block and carry bidirectionally.",
    "start": "2050212",
    "end": "2055690"
  },
  {
    "text": "So I have a full\nswitch implementation, full four-quadrant\nswitching implementation. ",
    "start": "2055690",
    "end": "2062629"
  },
  {
    "text": "I could take this circuit model\nand reflect this R equivalent through the transformer.",
    "start": "2062630",
    "end": "2070050"
  },
  {
    "text": "And what would I do when I\ngo through the transformer? I have to scale impedances by\nthe square of the terms ratio.",
    "start": "2070050",
    "end": "2077520"
  },
  {
    "text": "So another model I could\ndevelop for this, an equivalent to this model, is the following.",
    "start": "2077520",
    "end": "2084580"
  },
  {
    "text": "I could put a resistor here\nthat would be scaled by 1/4. So I'd have 1 over 4\nF switch C. 1 to 2.",
    "start": "2084580",
    "end": "2103470"
  },
  {
    "text": "And this would be my\nalternative circuit model. And now here I have I out. ",
    "start": "2103470",
    "end": "2113012"
  },
  {
    "text": "So here's my point. This is just another way to draw\nthe circuit model, same circuit model. I've just reflected\nthe resistance",
    "start": "2113012",
    "end": "2119440"
  },
  {
    "text": "through the transformer. And if you look at\nthis, you're going to see it's exactly equal\nto the one up there.",
    "start": "2119440",
    "end": "2125559"
  },
  {
    "text": "It's 1 over 4 F switch C. So the energy loss\ndoesn't really",
    "start": "2125560",
    "end": "2131870"
  },
  {
    "text": "depend upon which way\nwe're transferring power through the converter. In other words, am I\nsticking current in here",
    "start": "2131870",
    "end": "2137000"
  },
  {
    "text": "and delivering energy\nto here or vice versa? I'm going to get the same\nefficiency in either direction--",
    "start": "2137000",
    "end": "2142710"
  },
  {
    "text": "so long as my switch\nimplementations and so forth can support that.",
    "start": "2142710",
    "end": "2147779"
  },
  {
    "text": "Any questions about that? So once you've\nanalyzed the 2 to 1,",
    "start": "2147780",
    "end": "2153927"
  },
  {
    "text": "you've also analyzed the 1 to 2. You just don't know it yet. We could have just, like,\nswapped the source and the load",
    "start": "2153927",
    "end": "2159220"
  },
  {
    "text": "and been done, and then I would\nhave probably slid the resistor through the transformer just\nto put it into standard form,",
    "start": "2159220",
    "end": "2165408"
  },
  {
    "text": "and we would have been done. ",
    "start": "2165408",
    "end": "2173210"
  },
  {
    "text": "Let's talk about-- let's\ntalk about challenges",
    "start": "2173210",
    "end": "2180970"
  },
  {
    "text": "of this converter. If I thought about\nbuilding this converter, OK, let's think about where the\nphysical components are big.",
    "start": "2180970",
    "end": "2192980"
  },
  {
    "text": "This capacitor here is my\nenergy transfer capacitor.",
    "start": "2192980",
    "end": "2201119"
  },
  {
    "text": "And we've already said,\nif I can make him a bigger energy transfer capacitor,\nthe bigger C gets,",
    "start": "2201120",
    "end": "2208760"
  },
  {
    "text": "the smaller the resistance gets. So it's good to have\nthis capacitor be pretty big relative\nto the amount of power",
    "start": "2208760",
    "end": "2214543"
  },
  {
    "text": "I'm pulling out of it. So I can be close to the\nfast-switching limit. On the other hand, I've\ntreated this capacitor here",
    "start": "2214543",
    "end": "2221549"
  },
  {
    "text": "as if it was infinite. So if I do nothing else,\nusually this capacitor C",
    "start": "2221550",
    "end": "2226920"
  },
  {
    "text": "big is big compared to C. And his job here, if\nyou notice, is that he's",
    "start": "2226920",
    "end": "2232560"
  },
  {
    "text": "holding up the output. And one of the two\nstates, in this state, there really is nothing\nelse making V out",
    "start": "2232560",
    "end": "2239619"
  },
  {
    "text": "constant except for C big. He has to be big\nenough so that V out's",
    "start": "2239620",
    "end": "2245080"
  },
  {
    "text": "not going to droop while this\nguy is in his other state. Does that make\nsense to everybody?",
    "start": "2245080",
    "end": "2250859"
  },
  {
    "text": "So when you size the\ncapacitors in this thing, if I built this\ncircuit, usually C big would be substantially bigger\nthan C, which is in some sense",
    "start": "2250860",
    "end": "2258839"
  },
  {
    "text": "a shame, because I'm using\nC big only as a filter but not to transfer energy\nthrough the converter.",
    "start": "2258840",
    "end": "2264810"
  },
  {
    "text": "So the question is, is\nthere something clever I could do about this to make\nbetter use of my capacitor",
    "start": "2264810",
    "end": "2271380"
  },
  {
    "text": "energy storage? And the answer is, there is. And here's the trick.",
    "start": "2271380",
    "end": "2276420"
  },
  {
    "text": "Suppose I was to\nbuild this circuit. ",
    "start": "2276420",
    "end": "2281425"
  },
  {
    "text": "And let me just-- let me just draw-- I'll redraw this circuit.",
    "start": "2281425",
    "end": "2287539"
  },
  {
    "text": "So here's Vn. ",
    "start": "2287540",
    "end": "2294510"
  },
  {
    "text": "And here's my circuit. I'm going to redraw\nthis just up here. And I get-- here's 2 Vc.",
    "start": "2294510",
    "end": "2305940"
  },
  {
    "text": " Here's 1. I'm sorry.",
    "start": "2305940",
    "end": "2311520"
  },
  {
    "text": "This is switch 1. This is switch 1. I also have a switch 2. ",
    "start": "2311520",
    "end": "2318950"
  },
  {
    "text": "And I have a switch 2.  And he comes down to\nthis ground input, right?",
    "start": "2318950",
    "end": "2327359"
  },
  {
    "text": "And then, I have\nC big over here. ",
    "start": "2327360",
    "end": "2334940"
  },
  {
    "text": "And here's my output.  And I'm going to\ndeliver energy here.",
    "start": "2334940",
    "end": "2341370"
  },
  {
    "text": "What is this current? What does this\ncurrent look like? Let me call this-- I'll call this ix1.",
    "start": "2341370",
    "end": "2347122"
  },
  {
    "text": " What does ix1 look like?",
    "start": "2347122",
    "end": "2353090"
  },
  {
    "text": "Well, let me think about, in\nthe fast-switching limit, what",
    "start": "2353090",
    "end": "2358760"
  },
  {
    "text": "ix1 looks like. Well, when I'm in the\nfast-switching limit, I'm dumping some charge\noff of Vc into the output.",
    "start": "2358760",
    "end": "2367810"
  },
  {
    "text": "And in the fast-switching\nlimit, this capacitor is not charging or\ndischarging much. So the current flow is limited\nby these switch resistances.",
    "start": "2367810",
    "end": "2374940"
  },
  {
    "text": "So in the fast-switching\nlimit, ix1 looks like this. ",
    "start": "2374940",
    "end": "2385610"
  },
  {
    "text": "So this is state 1. ",
    "start": "2385610",
    "end": "2392850"
  },
  {
    "text": "And then in state 2, he's\njust 0 because in stage 2,",
    "start": "2392850",
    "end": "2398100"
  },
  {
    "text": "the switch is open. And so I dump a bunch of\ncharge into C big in state 1,",
    "start": "2398100",
    "end": "2404790"
  },
  {
    "text": "and then nothing in state 2. So C big's left to\ntake this total charge",
    "start": "2404790",
    "end": "2411450"
  },
  {
    "text": "and then deliver the average\ncurrent to the output. Well, what would happen\nif I came along and said,",
    "start": "2411450",
    "end": "2417859"
  },
  {
    "text": "you know what? Let me build a second converter. I'm going to build\nthe complement",
    "start": "2417860",
    "end": "2423550"
  },
  {
    "text": "to the first converter. So I'm going to build\nsomething that looks like this.",
    "start": "2423550",
    "end": "2429280"
  },
  {
    "text": "He'll be my orange converter. So maybe what I'll do is I'll\nbuild a second converter exactly",
    "start": "2429280",
    "end": "2434560"
  },
  {
    "text": "like this. And I'm going to make\nthis turn on in state 2.",
    "start": "2434560",
    "end": "2440290"
  },
  {
    "text": "I'm going to have another\ncapacitor, Vc prime. OK.",
    "start": "2440290",
    "end": "2446670"
  },
  {
    "text": "Here's state 2. ",
    "start": "2446670",
    "end": "2454309"
  },
  {
    "text": "And now I'll deliver his\ncharge to the output. And I'll call this ix2.",
    "start": "2454310",
    "end": "2460430"
  },
  {
    "text": "Now in state 1 I'm going\nto do the complement. So I'm going to do this.",
    "start": "2460430",
    "end": "2465990"
  },
  {
    "text": "And here's-- I'm going to have\nthis guy in state 1 and this guy in state 1. ",
    "start": "2465990",
    "end": "2473060"
  },
  {
    "text": "All right. So all I've done is I've\nbuilt a copy of this circuit, but I've switched the\nswitches exactly oppositely.",
    "start": "2473060",
    "end": "2480260"
  },
  {
    "text": "Does that make\nsense to everybody? So what is ix? Maybe I should call\nthem ix prime here.",
    "start": "2480260",
    "end": "2487859"
  },
  {
    "text": "What is ix prime? I guess I call them ix1. I guess I will call this ix2. I have ix1. ix2 is going to\nbe the exact complement of ix1",
    "start": "2487860",
    "end": "2498710"
  },
  {
    "text": "because he happens in the\nopposite portion of the cycle. And then if I said, well, what's\nthe total current coming in?",
    "start": "2498710",
    "end": "2508030"
  },
  {
    "text": "What is this current ix? Well, ix is just now doing this.",
    "start": "2508030",
    "end": "2514720"
  },
  {
    "text": "He's following ix1. He's following ix2. So he's almost a constant\ncurrent into the output.",
    "start": "2514720",
    "end": "2525160"
  },
  {
    "text": "And so this capacitor\nis only filtering the difference between\nthis and the load current. The load current I\nl, or I out, is just",
    "start": "2525160",
    "end": "2533170"
  },
  {
    "text": "the average of this current. So I out looks like\nthis, all right?",
    "start": "2533170",
    "end": "2539215"
  },
  {
    "text": " And so this circuit really\ndoesn't need C big anymore.",
    "start": "2539215",
    "end": "2547140"
  },
  {
    "text": "He only needs a\ntiny capacitor here. So I could take\nthis giant capacitor",
    "start": "2547140",
    "end": "2552280"
  },
  {
    "text": "and divvy them up among\nthis guy, if this is C prime and this guy is\nC. And basically,",
    "start": "2552280",
    "end": "2559540"
  },
  {
    "text": "instead of having an energy\ntransfer or capacitor and a giant filter capacitor, I\ncan have two pretty big energy",
    "start": "2559540",
    "end": "2567300"
  },
  {
    "text": "transfer capacitors and\na tiny filter capacitor. And I can get the same\nbehavior, the same performance,",
    "start": "2567300",
    "end": "2573780"
  },
  {
    "text": "for much less capacitance\nor lower output resistance for the same total capacitance.",
    "start": "2573780",
    "end": "2579599"
  },
  {
    "text": "Any questions about that? This trick is very\ncommonly used.",
    "start": "2579600",
    "end": "2585150"
  },
  {
    "text": "This is called interleaving.  So this is an interleaved 1\nto 2 step-up switch capacitor",
    "start": "2585150",
    "end": "2595590"
  },
  {
    "text": "converter. And it just has the benefit that\nyou can get the same performance for much less total\ncapacitance because I",
    "start": "2595590",
    "end": "2602200"
  },
  {
    "text": "don't need to have some\nfiltering-- any filtering going on. And I should say, by the way,\nthis is a 2-phase circuit,",
    "start": "2602200",
    "end": "2609535"
  },
  {
    "text": "with states 1 and states 2. You can have more phases. There are other\ngames you can play. But this is the basic one.",
    "start": "2609535",
    "end": "2614840"
  },
  {
    "text": "What's the penalty you pay? To do this, I more or less have\ntwice as many energy transfer capacitors and twice\nas many switches.",
    "start": "2614840",
    "end": "2621350"
  },
  {
    "text": "And in a world where the count\nof the components matters, that's a pain in the butt. On the other hand, if I cared\nabout the size of my energy",
    "start": "2621350",
    "end": "2629589"
  },
  {
    "text": "transfer capacitors,\nthis thing is wonderful. And this is a very\ncommon technique,",
    "start": "2629590",
    "end": "2635320"
  },
  {
    "text": "is interleaving your\nswitch capacitor converters to alleviate the need\nfor big either input",
    "start": "2635320",
    "end": "2641859"
  },
  {
    "text": "filter capacitors or\noutput filter capacitors. Questions?",
    "start": "2641860",
    "end": "2647040"
  },
  {
    "text": " From a DC perspective,\nall we do is basically",
    "start": "2647040",
    "end": "2654620"
  },
  {
    "text": "put two of those\ncircuits in parallel, and I get half the output\nresistance essentially. But what I've gotten rid\nof is the filter capacitor",
    "start": "2654620",
    "end": "2661849"
  },
  {
    "text": "that's not in that DC model. Now I should say, I've\nkind of spent all my time",
    "start": "2661850",
    "end": "2668460"
  },
  {
    "text": "talking about 2 to 1 or 1 to\n2 switch capacitor converters.",
    "start": "2668460",
    "end": "2674670"
  },
  {
    "text": "There are a lot of different\nkind of switch capacitor converters. You can expand out to almost\nany rational conversion ratio.",
    "start": "2674670",
    "end": "2683980"
  },
  {
    "text": "And keep in mind, as we\nsaid, the rational conversion ratio gives you perfect\nconversion in current--",
    "start": "2683980",
    "end": "2689250"
  },
  {
    "text": "you know, the this current is\nexactly twice this current, right? So you get a perfect\ncurrent conversion",
    "start": "2689250",
    "end": "2695435"
  },
  {
    "text": "ratio and an approximate\nvoltage conversion ratio. But you can almost\nget any ratio,",
    "start": "2695435",
    "end": "2701549"
  },
  {
    "text": "by picking the switching\nstates in the capacitors, you can get almost\nany ratio here",
    "start": "2701550",
    "end": "2707460"
  },
  {
    "text": "that's rational-- like 2 to\n1, 3 to 1, 4 to 1, 3 to 2, you name it, OK?",
    "start": "2707460",
    "end": "2714570"
  },
  {
    "text": "There are bounds, and\nthere's different ways to expand on this basic idea. Let me just show\nyou a couple for--",
    "start": "2714570",
    "end": "2722010"
  },
  {
    "text": "out of many. Here's one idea. Suppose I did this. Suppose I had my input\nsource Vn, and I did this.",
    "start": "2722010",
    "end": "2733849"
  },
  {
    "text": "I will transfer\nenergy to a capacitor",
    "start": "2733850",
    "end": "2738890"
  },
  {
    "text": "here, and then to\nhere, and then to here.",
    "start": "2738890",
    "end": "2745275"
  },
  {
    "start": "2745275",
    "end": "2752700"
  },
  {
    "text": "And then I'll have\nmy C big here. All right. So when I close this\nand switch 1, 1, 1, 1,",
    "start": "2752700",
    "end": "2761640"
  },
  {
    "text": "I'm going to charge\nthese capacitors in series between the\ninput and the output.",
    "start": "2761640",
    "end": "2768130"
  },
  {
    "text": "So I'll get a charge\nflow that does this. ",
    "start": "2768130",
    "end": "2773569"
  },
  {
    "text": "And I'll charge up all my\ncapacitors to the output. And then I can add another set\nof switches that are like this.",
    "start": "2773570",
    "end": "2781580"
  },
  {
    "start": "2781580",
    "end": "2789990"
  },
  {
    "text": "And then maybe these guys\nwill discharge in parallel",
    "start": "2789990",
    "end": "2799510"
  },
  {
    "text": "to the output. So I'll get charge flows that\nflow out of this capacitor like this out of this guy, like\nthis, out of this guy like this.",
    "start": "2799510",
    "end": "2808065"
  },
  {
    "text": "So I'll charge them in series\nand discharge them in parallel to the output.",
    "start": "2808065",
    "end": "2813140"
  },
  {
    "text": "So in the final state, these\ncapacitors will charge to V out.",
    "start": "2813140",
    "end": "2822279"
  },
  {
    "text": "And then so I would\nget, in the state 1, I would get V out plus V\nout plus V out plus V out.",
    "start": "2822280",
    "end": "2829340"
  },
  {
    "text": "So four V out at the input. So this is a 4 to 1 step-down\nseries parallel switch capacitor",
    "start": "2829340",
    "end": "2836960"
  },
  {
    "text": "converter. So we charge the\ncapacitors in series.",
    "start": "2836960",
    "end": "2842100"
  },
  {
    "text": "We discharge them in parallel. Or, if I turn this\naround and swap where the source and load were,\nit would be a 1 to 4 converter.",
    "start": "2842100",
    "end": "2850700"
  },
  {
    "text": "That's one kind.  There are many others.",
    "start": "2850700",
    "end": "2855960"
  },
  {
    "text": "And I'm kind out of time. So I'm not going to\ndraw any of those. There are others\nlisted in the book. And I show another one.",
    "start": "2855960",
    "end": "2861370"
  },
  {
    "text": "I show a ladder\nconverter in my notes. What distinguishes these\nconverters is how many switches",
    "start": "2861370",
    "end": "2869157"
  },
  {
    "text": "and how many capacitors do you\nneed to do a certain conversion function. Some are better than others. What are the voltage ratings\nof the switches and capacitors?",
    "start": "2869157",
    "end": "2877780"
  },
  {
    "text": "How much energy storage do you\nneed to do a given conversion function? And whether they're\nthe same or not.",
    "start": "2877780",
    "end": "2884410"
  },
  {
    "text": "So in this circuit, for\nexample, this switch has different ratings than the\nother switches for example.",
    "start": "2884410",
    "end": "2890470"
  },
  {
    "text": "So you might choose\nthis one if you really cared about all the capacitors\nhaving the same voltage,",
    "start": "2890470",
    "end": "2896640"
  },
  {
    "text": "but you weren't so worried about\nthe switches being different. You might choose a\ndifferent one if you",
    "start": "2896640",
    "end": "2902250"
  },
  {
    "text": "had different constraints. So there's a bunch of different\nconverters that are popular-- series, parallel like\nthis, one ladder, Dixon.",
    "start": "2902250",
    "end": "2909900"
  },
  {
    "text": "There's a whole variety\nof them, that you pick the one that matches\nthe design regime you're in.",
    "start": "2909900",
    "end": "2916310"
  },
  {
    "text": "If you're in an\nintegrated circuit, maybe you care about one thing. If you're really high\nvoltage, maybe you care about another thing.",
    "start": "2916310",
    "end": "2923700"
  },
  {
    "text": "Any questions about that? I should also say that while I'm\nshowing you DC to DC converters,",
    "start": "2923700",
    "end": "2933130"
  },
  {
    "text": "you can also make\nswitch-capacitor inverters or switch-capacitor rectifiers.",
    "start": "2933130",
    "end": "2938770"
  },
  {
    "text": "And in fact I haven't\ndrawn the right circuit. I'm kind out of time.",
    "start": "2938770",
    "end": "2943940"
  },
  {
    "text": "It's in the notes. But if you can take a circuit\nthat has an AC-driven input with",
    "start": "2943940",
    "end": "2949869"
  },
  {
    "text": "diodes, and charges the\ncapacitors in one part",
    "start": "2949870",
    "end": "2955240"
  },
  {
    "text": "of the cycle, and then\ndischarges them in the other in just such a manner that\nyou shuffle charge up and get",
    "start": "2955240",
    "end": "2961359"
  },
  {
    "text": "a rectifier that\nmultiplies the voltage-- The so-called famous\nCockcroft-Walton voltage",
    "start": "2961360",
    "end": "2967360"
  },
  {
    "text": "multiplier is one example of\na switch capacitor rectifier. And those are very often used\nin high-voltage power supplies",
    "start": "2967360",
    "end": "2974109"
  },
  {
    "text": "where you want to generate\nvery high voltages. And that's why, in\nfact, Cockcroft-Walton got the Nobel\nPrize for splitting",
    "start": "2974110",
    "end": "2979870"
  },
  {
    "text": "the atom with really huge\nvoltages generated by just such a rectifier. So while I've spent my time\ntalking about switch capacitor",
    "start": "2979870",
    "end": "2987050"
  },
  {
    "text": "DC to conversion, you can do\ninversion and rectification. And they all follow the\nsame fundamental principles.",
    "start": "2987050",
    "end": "2995690"
  },
  {
    "text": "So I'm kind out of time\nto talk about this, but I'd be happy to take\nany final questions. ",
    "start": "2995690",
    "end": "3005025"
  },
  {
    "text": "OK. In the next class we\nwill take up a new topic. Have a great day.",
    "start": "3005025",
    "end": "3011200"
  },
  {
    "start": "3011200",
    "end": "3015000"
  }
]