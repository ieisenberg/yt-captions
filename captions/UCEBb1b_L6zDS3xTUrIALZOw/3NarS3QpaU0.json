[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "8784"
  },
  {
    "text": " PROFESSOR: We started off\ntalking about the two aspects",
    "start": "8784",
    "end": "15380"
  },
  {
    "text": "of image formation,\nwhere and how bright. And where we talked about\nperspective projections.",
    "start": "15380",
    "end": "24710"
  },
  {
    "text": "And in a camera-centric\ncoordinate system, it's very easy to just get with\nthat, and the extent of that",
    "start": "24710",
    "end": "33920"
  },
  {
    "text": "to be able to talk about motion. And so we just\ndifferentiated that. ",
    "start": "33920",
    "end": "57070"
  },
  {
    "text": "And we had a slightly\ndifferent version of this where we made use of the\nperspective projection equation",
    "start": "57070",
    "end": "68530"
  },
  {
    "text": "in order to write it in. Then we introduced the idea\nof the focus of expansion.",
    "start": "68530",
    "end": "76060"
  },
  {
    "text": "That is the place where u is 0. And clearly, that's\nwhere this part is 0.",
    "start": "76060",
    "end": "82600"
  },
  {
    "text": "And so if you solve for\nx, we get x over there. It's u/w.",
    "start": "82600",
    "end": "89050"
  },
  {
    "start": "89050",
    "end": "95680"
  },
  {
    "text": "So the focus of the\nexpansion is the point in the image towards\nwhich you're moving.",
    "start": "95680",
    "end": "103000"
  },
  {
    "text": "And then we introduce\nthe [INAUDIBLE]",
    "start": "103000",
    "end": "109120"
  },
  {
    "text": "and talked about various\nways of estimating that. ",
    "start": "109120",
    "end": "115630"
  },
  {
    "text": "Then from a somewhat\ndifferent point of view,",
    "start": "115630",
    "end": "123700"
  },
  {
    "text": "we looked at the image solid. So we're thinking\nabout an image as--",
    "start": "123700",
    "end": "131760"
  },
  {
    "text": "brightness as a\nfunction of x and y, and sometimes x and y and t.",
    "start": "131760",
    "end": "139320"
  },
  {
    "text": "And so there's an\nimage solid video.",
    "start": "139320",
    "end": "149400"
  },
  {
    "text": "And in this case, we\nlooked at the possibility",
    "start": "149400",
    "end": "156220"
  },
  {
    "text": "that the brightness of\nan image of some point in the environment\ndoesn't change with time.",
    "start": "156220",
    "end": "164060"
  },
  {
    "text": "So we introduced the constant\nbrightness assumption. So as we follow some point and\nits image in successive frames,",
    "start": "164060",
    "end": "180040"
  },
  {
    "text": "we are saying that in\nmany circumstances, the brightness won't change. And we can exploit that.",
    "start": "180040",
    "end": "186319"
  },
  {
    "text": "So if we-- it's quite\ninteresting to look at this image solid and slice\nit in different directions.",
    "start": "186320",
    "end": "193760"
  },
  {
    "text": "And you'll see kind of a\nvery streaky nature because",
    "start": "193760",
    "end": "198909"
  },
  {
    "text": "of this phenomenon. So the slices, of course,\nare not independent.",
    "start": "198910",
    "end": "204160"
  },
  {
    "text": "And we see that\nthings are streaky, like extruding toothpaste with\nmultiple different colors in it",
    "start": "204160",
    "end": "214760"
  },
  {
    "text": "as things move in the image. And then from this, we got the\nbrightness change constraint",
    "start": "214760",
    "end": "224180"
  },
  {
    "text": "equation, which gives\nus a relationship",
    "start": "224180",
    "end": "229269"
  },
  {
    "text": "between the movement\nin the image and the brightness\ngradient and the time",
    "start": "229270",
    "end": "234909"
  },
  {
    "text": "rate of change of brightness. And we then\naddressed the problem",
    "start": "234910",
    "end": "242409"
  },
  {
    "text": "that this is not giving us\nthe ability to solve locally for velocity, because this is\na linear equation in u and v.",
    "start": "242410",
    "end": "254020"
  },
  {
    "text": "So it just defines a\nline in velocity space. So looking at a single pixel,\nwe can't recover the motion,",
    "start": "254020",
    "end": "269260"
  },
  {
    "text": "unlike the 1D case,\nwhere we could. And so we need more constraints.",
    "start": "269260",
    "end": "276130"
  },
  {
    "text": "Well, a very extreme\nform of constraint is where everything is\nmoving at the same speed.",
    "start": "276130",
    "end": "284410"
  },
  {
    "text": " And so as I announced, there's a\npaper under Materials on Stella",
    "start": "284410",
    "end": "299530"
  },
  {
    "text": "that goes into that. And it's doing the last part of\nthe previous homework problem.",
    "start": "299530",
    "end": "309430"
  },
  {
    "text": "And what it does is\nminimize some errors.",
    "start": "309430",
    "end": "314630"
  },
  {
    "text": "So if this applies\nat every pixel",
    "start": "314630",
    "end": "321670"
  },
  {
    "text": "and we have a constant u\nand v for the whole image, as in the optical\nmouse case, then we",
    "start": "321670",
    "end": "328360"
  },
  {
    "text": "can write the problem this way. ",
    "start": "328360",
    "end": "333530"
  },
  {
    "text": "And again, that integral\nshould be small, or it should be 0 if there\nwas no error in u and v,",
    "start": "333530",
    "end": "340129"
  },
  {
    "text": "and if there was no noise. But we're satisfied\njust to minimize that.",
    "start": "340130",
    "end": "347180"
  },
  {
    "text": "And that's going to be our\nbest estimate of u and v. And it's highly overconstrained.",
    "start": "347180",
    "end": "354500"
  },
  {
    "text": "We've got one of these\nequations for every pixel. And we're only looking\nfor two unknowns.",
    "start": "354500",
    "end": "359759"
  },
  {
    "text": "So this is a case where we\nhave millions of equations. And we've only got two unknowns. So that's very favorable.",
    "start": "359760",
    "end": "366169"
  },
  {
    "text": "That means that\nthe result is going to be much more accurate\nand reliable than it",
    "start": "366170",
    "end": "371600"
  },
  {
    "text": "would otherwise be. So doing that, we obtain\nthe linear equation",
    "start": "371600",
    "end": "380420"
  },
  {
    "text": "in the unknowns with a symmetric\n2 by 2 coefficient matrix.",
    "start": "380420",
    "end": "391420"
  },
  {
    "text": " So we just run\nthrough the image,",
    "start": "391420",
    "end": "399450"
  },
  {
    "text": "and we estimate\nthe gradient Ex Ey. We estimate the rate of\nchange of brightness, Et.",
    "start": "399450",
    "end": "406350"
  },
  {
    "text": "And then we just\naccumulate these totals. And when we're\ndone doing that, we",
    "start": "406350",
    "end": "413100"
  },
  {
    "text": "have two linear\nequations in u and v. And we all know how to\nsolve linear equations,",
    "start": "413100",
    "end": "418620"
  },
  {
    "text": "particularly if there\nare only two of them. Now, as usual, we need to\nlook at when that fails.",
    "start": "418620",
    "end": "427140"
  },
  {
    "text": "And so we did that. We said that, well, it\ndepends on the determinant.",
    "start": "427140",
    "end": "435039"
  },
  {
    "text": "So the problem is when that\ncoefficient matrix is singular.",
    "start": "435040",
    "end": "442170"
  },
  {
    "text": "So we have a problem if that is\n0, or if that's equal to that.",
    "start": "442170",
    "end": "454690"
  },
  {
    "text": "And we looked at various\nconditions, like e equals 0. Of course, if you have a black\nimage, then that won't work.",
    "start": "454690",
    "end": "464650"
  },
  {
    "text": "And also, if Ex is 0\nor Ey is 0 as well. And just let's look at one more.",
    "start": "464650",
    "end": "471819"
  },
  {
    "start": "471820",
    "end": "478240"
  },
  {
    "text": "Suppose that we have\nan image like this. And what we're trying\nto do is figure out whether this motion\nrecovery is going to work.",
    "start": "478240",
    "end": "487270"
  },
  {
    "text": "So how can we attack that? Well, in two ways, the one is\nwhat type of an image is that.",
    "start": "487270",
    "end": "495150"
  },
  {
    "text": "Can we intuitively\nsee why that's going to work or not work?",
    "start": "495150",
    "end": "500190"
  },
  {
    "text": "And the other one is just\nto break down and compute the derivatives.",
    "start": "500190",
    "end": "506460"
  },
  {
    "text": " So e sub x is going to be\nthe derivative of this thing",
    "start": "506460",
    "end": "516308"
  },
  {
    "text": "plus the derivative of\nthe argument with respect to x many times.",
    "start": "516309",
    "end": "522039"
  },
  {
    "text": "And so the derivative of this\nwith respect to x, of course, is just a. ",
    "start": "522039",
    "end": "528470"
  },
  {
    "text": "And take out the x so it doesn't\nlook confusingly like a times.",
    "start": "528470",
    "end": "534379"
  },
  {
    "text": "And then I can look\nat the y derivative. ",
    "start": "534380",
    "end": "541850"
  },
  {
    "text": "So this is a very\nparticular type of image. And in this case,\nI have Ex and Ey.",
    "start": "541850",
    "end": "550760"
  },
  {
    "text": "f may be some\ncomplicated function. But the important thing is that\nEx and Ey are in the same ratio",
    "start": "550760",
    "end": "557390"
  },
  {
    "text": "everywhere. And so in this integration,\nI can replace Ey",
    "start": "557390",
    "end": "563899"
  },
  {
    "text": "by b of a times Ex. And so this is going to be true.",
    "start": "563900",
    "end": "569600"
  },
  {
    "text": "This condition will be\ntrue, and it'll fail. So this is another way of\nsaying the condition under which",
    "start": "569600",
    "end": "577340"
  },
  {
    "text": "this method won't work. And then we can look at what\nkind of an image is that.",
    "start": "577340",
    "end": "583550"
  },
  {
    "text": "Well, as usual, I can't draw\ngray levels on the blackboard,",
    "start": "583550",
    "end": "589180"
  },
  {
    "text": "and not draw gradients. But I can draw contours of\nconstant brightness, isophotes,",
    "start": "589180",
    "end": "595630"
  },
  {
    "text": "which are perpendicular\nto the gradient. And so what are the isophotes?",
    "start": "595630",
    "end": "600670"
  },
  {
    "text": "Well, the isophotes are\nwhere E x, y is constant. That means where f of\nax plus by is constant.",
    "start": "600670",
    "end": "608079"
  },
  {
    "text": "That means where ax\nplus by is a constant. ",
    "start": "608080",
    "end": "618060"
  },
  {
    "text": "And that's the equation of what? It's a straight line, right?",
    "start": "618060",
    "end": "624060"
  },
  {
    "text": "So the isophotes\nare straight lines. Also, they're all\nparallel straight lines.",
    "start": "624060",
    "end": "630130"
  },
  {
    "text": "They only differ in C. a and\nb are fixed ahead of time.",
    "start": "630130",
    "end": "636230"
  },
  {
    "text": " So this is the kind of\nimage that gives us trouble.",
    "start": "636230",
    "end": "644639"
  },
  {
    "text": "Yeah, we know that, right? Because if it slides\nin this direction, we can't measure that.",
    "start": "644640",
    "end": "650820"
  },
  {
    "text": "There's no change in the image. If it slides in that\ndirection, we can. But it doesn't allow us to\ndetermine the other part of it.",
    "start": "650820",
    "end": "660550"
  },
  {
    "text": " So then that's the\noptical mouse problem.",
    "start": "660550",
    "end": "667670"
  },
  {
    "text": " So from that we went\nto time to contact.",
    "start": "667670",
    "end": "675600"
  },
  {
    "text": "And we looked at-- ",
    "start": "675600",
    "end": "682020"
  },
  {
    "text": "so we had this. ",
    "start": "682020",
    "end": "691520"
  },
  {
    "text": "There are various ways\nof rewriting that. Let's see. Which way around do\nI want to do this?",
    "start": "691520",
    "end": "696710"
  },
  {
    "start": "696710",
    "end": "707150"
  },
  {
    "text": "So w is the z component of\nthe motion in the world. So that's dZ dt.",
    "start": "707150",
    "end": "713580"
  },
  {
    "start": "713580",
    "end": "721100"
  },
  {
    "text": "And I don't know. That may or may not ring a bell. But that's a\nderivative of log of z.",
    "start": "721100",
    "end": "734560"
  },
  {
    "text": "So if I plot things on\na logarithmic scale, this is just the\nslope of the graph",
    "start": "734560",
    "end": "741820"
  },
  {
    "text": "on that logarithmic scale. So that's interesting. So it's all dependent on\nratios, fractional parts,",
    "start": "741820",
    "end": "752210"
  },
  {
    "text": "rather than absolute values. So what's important is by what\nfractional part does z change",
    "start": "752210",
    "end": "758540"
  },
  {
    "text": "in a certain time interval? Not by how many meters. And that's one reason\nwhy we could do this",
    "start": "758540",
    "end": "764930"
  },
  {
    "text": "without calibration. We didn't have to know what\nthe focal length of the camera is, for example,\nbecause it's only",
    "start": "764930",
    "end": "771920"
  },
  {
    "text": "the ratio, the fractional\npart that matters. And now another way to\nthink about time to contact",
    "start": "771920",
    "end": "783380"
  },
  {
    "text": "is in terms of image size.",
    "start": "783380",
    "end": "789860"
  },
  {
    "text": "So suppose here is some\nobject in the world of size S,",
    "start": "789860",
    "end": "795410"
  },
  {
    "text": "and here's its image\nof size little s. ",
    "start": "795410",
    "end": "803420"
  },
  {
    "text": "Then I can write an equation\nrelating those quantities based on the triangle,\nsimilar triangles,",
    "start": "803420",
    "end": "810860"
  },
  {
    "text": "this triangle on the\noutside, and this triangle in the camera. So I've got s/f\nis S/Z. It's just",
    "start": "810860",
    "end": "825470"
  },
  {
    "text": "the lateral magnification of\nthe camera, which in this case is much smaller than 1.",
    "start": "825470",
    "end": "831670"
  },
  {
    "text": "The image is much\nsmaller than the object. But we call it\nmagnification anyway.",
    "start": "831670",
    "end": "838580"
  },
  {
    "text": "Well, I can cross multiply. ",
    "start": "838580",
    "end": "846140"
  },
  {
    "text": "So I have that relationship. And why do I do that? Well, because now I'm going\nto differentiate that and see",
    "start": "846140",
    "end": "852440"
  },
  {
    "text": "how it changes with time. And so s is changing.",
    "start": "852440",
    "end": "857630"
  },
  {
    "text": "If we're approaching the object,\nthen s will be increasing. So s will be changing. So we're going to have Z ds dt.",
    "start": "857630",
    "end": "865730"
  },
  {
    "text": "And it's a product. So we also get Z.\nGet the other one.",
    "start": "865730",
    "end": "872930"
  },
  {
    "text": "We're going to\nget s times dZ dt. ",
    "start": "872930",
    "end": "882280"
  },
  {
    "text": "And then we need the\nderivative of this product. Well, the size of the object,\npresumably, is constant.",
    "start": "882280",
    "end": "890139"
  },
  {
    "text": "We aren't changing the\nimaging parameters. So this is the\nderivative of that is 0.",
    "start": "890140",
    "end": "895930"
  },
  {
    "text": "And the derivative of\n0, of course, is 0. So we get this relationship. And so this tells us that--",
    "start": "895930",
    "end": "903339"
  },
  {
    "text": "which way around did\nwe use it over here? ",
    "start": "903340",
    "end": "912470"
  },
  {
    "text": "S ds dt over S is Z\nover dZ dt over Z.",
    "start": "912470",
    "end": "922420"
  },
  {
    "text": "So the change in image size, in\nfractional change in image size",
    "start": "922420",
    "end": "928450"
  },
  {
    "text": "is exactly the fractional\nchange in distance.",
    "start": "928450",
    "end": "933730"
  },
  {
    "text": "And so for example, if the\npicture of the image of the bus",
    "start": "933730",
    "end": "939610"
  },
  {
    "text": "increases by 1% as\nyou go from one frame to the next in your\nvideo sequence,",
    "start": "939610",
    "end": "947080"
  },
  {
    "text": "then that implies\nthat the TTC is 100.",
    "start": "947080",
    "end": "956640"
  },
  {
    "text": "And so that's-- at\n20 frames a second,",
    "start": "956640",
    "end": "963010"
  },
  {
    "text": "that means it's\nonly 5 seconds away. So one conclusion\nis that in a lot",
    "start": "963010",
    "end": "969990"
  },
  {
    "text": "of important practical\ncases, the time to contact is not tens of frames,\nbut hundreds of thousands",
    "start": "969990",
    "end": "979110"
  },
  {
    "text": "of frames. Otherwise, you'd have a problem. You'd probably be just about\nready to crash into something",
    "start": "979110",
    "end": "987540"
  },
  {
    "text": "and may have trouble\ncompensating. So if the time to contact\nin many cases is thousands,",
    "start": "987540",
    "end": "993300"
  },
  {
    "text": "that means that the\nfractional change per frame is 1 over thousands.",
    "start": "993300",
    "end": "999600"
  },
  {
    "text": "And so the fractional change in\nthe image from frame to frame is relatively small.",
    "start": "999600",
    "end": "1006000"
  },
  {
    "text": "And so that means if we\nwere to use a method that's dependent on actually\nmeasuring the image size,",
    "start": "1006000",
    "end": "1012920"
  },
  {
    "text": "estimating how big the picture\nof the bus is in your image, it better be really\naccurate, like",
    "start": "1012920",
    "end": "1019640"
  },
  {
    "text": "one part in several thousand. And that means it's going\nto need subpixel accuracy,",
    "start": "1019640",
    "end": "1025730"
  },
  {
    "text": "that it won't be good\nenough to simply measure where the front and the back\nof the bus is in the image.",
    "start": "1025730",
    "end": "1033670"
  },
  {
    "text": "And that's why that turns out\nto be not a good way to estimate the time to contact, as\nopposed to the method",
    "start": "1033670",
    "end": "1042449"
  },
  {
    "text": "that we described. So that's one thing I\nwanted to get across, this very simple\nrelationship that if there's",
    "start": "1042450",
    "end": "1050330"
  },
  {
    "text": "a certain percentage change\nin size between frames, that translates directly\ninto a certain percentage",
    "start": "1050330",
    "end": "1056300"
  },
  {
    "text": "change in the distance. And that directly translates\ninto time to contact.",
    "start": "1056300",
    "end": "1062110"
  },
  {
    "text": "So it's a very easy\nway to understand that. Now, when we did\nthis, or you did it,",
    "start": "1062110",
    "end": "1074059"
  },
  {
    "text": "we had a very simple situation. We started off moving\ndirectly towards a wall",
    "start": "1074060",
    "end": "1081890"
  },
  {
    "text": "so that we had constraints on\nboth the direction of motion and on the surface\nwe're looking at.",
    "start": "1081890",
    "end": "1089100"
  },
  {
    "text": "So the very-- you may\nremember the very first thing we calculated was C, which\nwas the component in the Z",
    "start": "1089100",
    "end": "1099730"
  },
  {
    "text": "direction. And we had some simple\nratio of two integrals.",
    "start": "1099730",
    "end": "1105192"
  },
  {
    "text": "And that's the case where\nwe're moving straight towards the wall, the wall\nis-- what does it mean?",
    "start": "1105192",
    "end": "1112910"
  },
  {
    "text": "The optical axis is\nperpendicular to the wall. Z is constant on the wall.",
    "start": "1112910",
    "end": "1118650"
  },
  {
    "text": "It doesn't vary as\nwe go left and right. So that's a very simple case. So then we said, well, let's\nbe slightly more general.",
    "start": "1118650",
    "end": "1127770"
  },
  {
    "text": "Let's assume that we could\nalso be moving sideways as we're going along. And then we added the motion\nin x and the motion in y.",
    "start": "1127770",
    "end": "1136220"
  },
  {
    "text": "And we had the slightly\nmore interesting problem where we were looking for\nthree unknowns, A, B, and C.",
    "start": "1136220",
    "end": "1144140"
  },
  {
    "text": "And we ended up with three\nlinear equations and three",
    "start": "1144140",
    "end": "1149240"
  },
  {
    "text": "unknowns. And right now I remember\nwhat I was going to say. Again, this is all\nspelled out in the paper",
    "start": "1149240",
    "end": "1159500"
  },
  {
    "text": "that's on the website\non time to contact. I guess the full title\nis \"The Time to Contract",
    "start": "1159500",
    "end": "1166549"
  },
  {
    "text": "Relative to a Planar Surface.\" And now the paper discusses\nsome other things as well.",
    "start": "1166550",
    "end": "1173790"
  },
  {
    "text": "It's just like the other paper. The first half is exactly\nwhat we did in class, and then it goes off into\nsome other directions.",
    "start": "1173790",
    "end": "1181110"
  },
  {
    "text": "Same here. So is this the most\ngeneral we can get? Well, we're still making an\nassumption that Z is constant.",
    "start": "1181110",
    "end": "1190065"
  },
  {
    "start": "1190065",
    "end": "1195460"
  },
  {
    "text": "So we're approaching the\nwall, and the optical axis",
    "start": "1195460",
    "end": "1200970"
  },
  {
    "text": "is perpendicular to the wall. Well, what if our\ncamera is tilted, or conversely, we're\napproaching a wall that that's",
    "start": "1200970",
    "end": "1208410"
  },
  {
    "text": "tilted in the world? So a different\ngeneralization has",
    "start": "1208410",
    "end": "1216250"
  },
  {
    "text": "Z be a tilted plane so that\nit's no longer the case",
    "start": "1216250",
    "end": "1225660"
  },
  {
    "text": "that the depth is constant\nas I scan left and right or up and down in the image.",
    "start": "1225660",
    "end": "1231420"
  },
  {
    "text": "And well, what's the\nequation of a plane? Well, it's going to be some\nlinear equation in x and y.",
    "start": "1231420",
    "end": "1239679"
  },
  {
    "text": "So one way I could write\nit is in that form.",
    "start": "1239680",
    "end": "1250220"
  },
  {
    "text": "So this could be a more\ncomplicated model to look at.",
    "start": "1250220",
    "end": "1255950"
  },
  {
    "text": "And well, you might expect at\nsome point the equations get",
    "start": "1255950",
    "end": "1261190"
  },
  {
    "text": "pretty complicated. And in fact, there might not\nbe a closed form solution. And that's fine.",
    "start": "1261190",
    "end": "1267740"
  },
  {
    "text": "You can do it numerically. But in terms of\nunderstanding what's going on and the noise effect,\nit's nice to focus first",
    "start": "1267740",
    "end": "1276970"
  },
  {
    "text": "on cases where there is\na closed form solution. So what you can do,\nactually, is say, fine.",
    "start": "1276970",
    "end": "1283850"
  },
  {
    "text": "So now we will generalize\nit by allowing the plane to be tilted. But let's go back to the case\nwhere we were moving straight",
    "start": "1283850",
    "end": "1290860"
  },
  {
    "text": "down the barrel, straight\ndown the optical axis. And in that case, then we'll\nonly have these three unknowns.",
    "start": "1290860",
    "end": "1298520"
  },
  {
    "text": "So instead of having A,\nB, and C be the unknowns, we have these three or\nsome function of them.",
    "start": "1298520",
    "end": "1306460"
  },
  {
    "text": "And so we want to\ndo that because it's pretty straightforward,\nmore messy algebra.",
    "start": "1306460",
    "end": "1313610"
  },
  {
    "text": "We end up with three linear\nequations and three unknowns. And we can solve for that. So we can do the time\nto contact in the case",
    "start": "1313610",
    "end": "1322870"
  },
  {
    "text": "where the surface is tilted. So we're no longer\nmaking the assumption that we're driving into\nthe side of the truck",
    "start": "1322870",
    "end": "1331210"
  },
  {
    "text": "coming out of a parking lot. But we could be\ncoming at an angle.",
    "start": "1331210",
    "end": "1336370"
  },
  {
    "text": "So that's an interesting\ncase to consider. What if we do both?",
    "start": "1336370",
    "end": "1342320"
  },
  {
    "text": "What if we allow the\nsurface to be tilted as well as our\nmotion to be general?",
    "start": "1342320",
    "end": "1348220"
  },
  {
    "text": "Well, we can formulate\nthat problem pretty easily. And we end up with six unknowns.",
    "start": "1348220",
    "end": "1353950"
  },
  {
    "text": "Unfortunately, they are no\nlonger linear equations. And so from the\npoint of view of pain",
    "start": "1353950",
    "end": "1360700"
  },
  {
    "text": "and agony, they're not\nmuch fun to write down. And also, it's unsatisfying\nbecause we end up",
    "start": "1360700",
    "end": "1367000"
  },
  {
    "text": "with this mixed\nset of equations. Some of them are linear. Some of them are quadratic.",
    "start": "1367000",
    "end": "1372160"
  },
  {
    "text": "And it's very hard to say\nanything general about them. Whereas in these\nspecial cases, we",
    "start": "1372160",
    "end": "1378820"
  },
  {
    "text": "can do a full analysis\nof noise and so on.",
    "start": "1378820",
    "end": "1384230"
  },
  {
    "text": "So we're not going to do that. Just you know that it's there.",
    "start": "1384230",
    "end": "1390350"
  },
  {
    "text": "Then we get to why is\nthe surface planar? Well, the surface is\nplanar because it's going",
    "start": "1390350",
    "end": "1396130"
  },
  {
    "text": "to give us linear equations. So we start with\na planar surface. Now, real surfaces\nmay not be planar.",
    "start": "1396130",
    "end": "1403780"
  },
  {
    "text": "And then what? Well, we can approximate\nthem by polynomials,",
    "start": "1403780",
    "end": "1409420"
  },
  {
    "text": "some locally quadratic surface. And we go through\nthe same process.",
    "start": "1409420",
    "end": "1414470"
  },
  {
    "text": "We set up a least\nsquares problem. And we, unfortunately, won't\nfind closed form solutions.",
    "start": "1414470",
    "end": "1422410"
  },
  {
    "text": "But we can set it up so that\nsome numerical process gives us",
    "start": "1422410",
    "end": "1428770"
  },
  {
    "text": "a solution. Now, the reason\nwe're not doing that is mostly because it actually\ndoesn't buy you anything.",
    "start": "1428770",
    "end": "1435539"
  },
  {
    "text": "So in practice when\nyou implement this, you find that modeling\nthe surface as planar",
    "start": "1435540",
    "end": "1442920"
  },
  {
    "text": "gives you a very good estimate\nof the time to contact.",
    "start": "1442920",
    "end": "1448990"
  },
  {
    "text": "And if you model it as\nsomething more complicated, now you have more unknowns,\nwhich is good in a way,",
    "start": "1448990",
    "end": "1456090"
  },
  {
    "text": "because it allows you to model\nthe world more accurately. But at the same time, you\nlose that overconstraintness.",
    "start": "1456090",
    "end": "1463500"
  },
  {
    "text": "Every time you introduce\nmore variables, there is an opportunity for\nthe solution to squiggle off",
    "start": "1463500",
    "end": "1470490"
  },
  {
    "text": "in another direction. So there are some\npluses and minuses.",
    "start": "1470490",
    "end": "1475710"
  },
  {
    "text": "And overall, the only time you\nwant to even think about that",
    "start": "1475710",
    "end": "1480929"
  },
  {
    "text": "is if the object\nhas a shape in depth where the depth change is\nsimilar to the distance",
    "start": "1480930",
    "end": "1489950"
  },
  {
    "text": "from the object. So if the truck is over there-- I'm 50 meters away\nfrom the truck,",
    "start": "1489950",
    "end": "1495260"
  },
  {
    "text": "and the side of the\ntruck is-- one side is maybe 2 meters closer\nto me than the other, it makes no difference.",
    "start": "1495260",
    "end": "1501169"
  },
  {
    "text": "I mean, it's a 4%\nchange in distance. And that won't affect anything.",
    "start": "1501170",
    "end": "1506600"
  },
  {
    "text": "If I am right in front of\nthe truck, I'm 2 meters away and one side is 1 meter and\nthe other one is 4 meters,",
    "start": "1506600",
    "end": "1513830"
  },
  {
    "text": "then yes, then\nyou may need this. But we found in practice that\nwe don't need that extra level",
    "start": "1513830",
    "end": "1520280"
  },
  {
    "text": "of sophistication. These two things are\nsufficient in practice.",
    "start": "1520280",
    "end": "1525559"
  },
  {
    "start": "1525560",
    "end": "1532370"
  },
  {
    "text": "Then let me just briefly\ntalk about multi-scale.",
    "start": "1532370",
    "end": "1543700"
  },
  {
    "text": "So when I showed you\nthe implementation, when you got really close to impact,\nthings kind of just fell apart.",
    "start": "1543700",
    "end": "1552889"
  },
  {
    "text": "So the graph of time\nto contact estimated was quite similar to the\nactual time to contact.",
    "start": "1552890",
    "end": "1561490"
  },
  {
    "text": "So this was a\ncontrived situation",
    "start": "1561490",
    "end": "1567620"
  },
  {
    "text": "with constant velocity\nso that the time",
    "start": "1567620",
    "end": "1572780"
  },
  {
    "text": "to contact decreased\nlinearly as time went on, because we got closer\nand closer to the surface.",
    "start": "1572780",
    "end": "1578330"
  },
  {
    "text": "And then when we looked\nat the computed results, they were something\nlike that, noisy.",
    "start": "1578330",
    "end": "1586130"
  },
  {
    "text": "And that's partly because the\nmeasurement of the position was not very accurate.",
    "start": "1586130",
    "end": "1592250"
  },
  {
    "text": "It was eyeballing down\non the measuring tape. There was an interesting offset\nvertically, so there's a bias.",
    "start": "1592250",
    "end": "1600420"
  },
  {
    "text": "So it's not just noise. Actually, the estimated\ntime to contact was overestimated, which\nin itself isn't good,",
    "start": "1600420",
    "end": "1608360"
  },
  {
    "text": "because if you're about\nto crash into something, you don't want to be\ntold that actually it'll",
    "start": "1608360",
    "end": "1614750"
  },
  {
    "text": "take longer than the true time. On the other hand, since\nit's a systematic fixed bias,",
    "start": "1614750",
    "end": "1621470"
  },
  {
    "text": "you can compensate for it. It doesn't mean that you\nshouldn't try and figure out where it comes from.",
    "start": "1621470",
    "end": "1626929"
  },
  {
    "text": "But it's pretty simple to just\nfit a different slope to this.",
    "start": "1626930",
    "end": "1634100"
  },
  {
    "text": "But then at the end\nhere, we had some spikes.",
    "start": "1634100",
    "end": "1639440"
  },
  {
    "text": "And basically, the\nresults were not reliable. And we already mentioned\nsome reasons for that.",
    "start": "1639440",
    "end": "1646230"
  },
  {
    "text": "And one of them is that\nthe image motion is large. So earlier we said that\nwhen the bus is far away,",
    "start": "1646230",
    "end": "1653570"
  },
  {
    "text": "the image motion is very small. The image of the bus will tend\nto expand and contract and move",
    "start": "1653570",
    "end": "1661490"
  },
  {
    "text": "by a fraction of a pixel. And that's where these\nmethods really excel.",
    "start": "1661490",
    "end": "1669560"
  },
  {
    "text": "As we go along, we've been\nmaking some assumptions that certain distances,\nthe epsilons are small.",
    "start": "1669560",
    "end": "1675800"
  },
  {
    "text": "When we estimate E sub x, E\nsub y, E sub t, for example, we're taking a finite\ndifference and saying,",
    "start": "1675800",
    "end": "1681960"
  },
  {
    "text": "oh, this is almost a derivative,\nbecause epsilon is small. Well, that won't work if we\nhave a large jump in x, y, or t.",
    "start": "1681960",
    "end": "1690139"
  },
  {
    "text": "And so that's one reason\nthat this falls apart. I mean, there are other reasons.",
    "start": "1690140",
    "end": "1695340"
  },
  {
    "text": "One of them was that the\ncamera went out of focus. And so you didn't have a clear\npicture of the object anymore.",
    "start": "1695340",
    "end": "1701210"
  },
  {
    "text": "But this first part\nis easy to deal with. As I already mentioned\nbefore, I just",
    "start": "1701210",
    "end": "1707570"
  },
  {
    "text": "want to reiterate\nthat if we have an image with less resolution--",
    "start": "1707570",
    "end": "1713360"
  },
  {
    "text": "say we have half\nthe number of rows and half the number of\ncolumns in the image--",
    "start": "1713360",
    "end": "1718400"
  },
  {
    "text": "well, then the motion in\nterms of pixels per frame is half what it was before.",
    "start": "1718400",
    "end": "1725159"
  },
  {
    "text": "And so what was a large motion\nin the original raw image",
    "start": "1725160",
    "end": "1730520"
  },
  {
    "text": "is now half of that. And so that means that you'll\nstill have it falling apart,",
    "start": "1730520",
    "end": "1736340"
  },
  {
    "text": "but it will fall apart later. So this part will still be OK.",
    "start": "1736340",
    "end": "1741500"
  },
  {
    "text": "And then it'll fall\napart down there. And of course, then you\ncan repeat that process, and say, OK, so now\nin that image suddenly",
    "start": "1741500",
    "end": "1748730"
  },
  {
    "text": "the motion has gotten to be\nmore than a pixel per frame. So let's, again, subsample,\naverage and subsample.",
    "start": "1748730",
    "end": "1755919"
  },
  {
    "text": "And then we can continue it. And so multi-scale\njust means that we work in that set of images that\nbecome smaller and smaller.",
    "start": "1755920",
    "end": "1765659"
  },
  {
    "text": "And we can handle motions\nthat become quite large. And also, I mentioned that\nif we do the simple 2 by 2",
    "start": "1765660",
    "end": "1774740"
  },
  {
    "text": "block averaging, that means\nthe second image is only a quarter of the size\nof the first one. So the amount of work is 1 plus\n1/4 times what it would have",
    "start": "1774740",
    "end": "1784010"
  },
  {
    "text": "taken just on the raw image. And then we do it again, so\nthat's going to be a 16th.",
    "start": "1784010",
    "end": "1789220"
  },
  {
    "text": " And so the total\namount of work--",
    "start": "1789220",
    "end": "1794900"
  },
  {
    "text": "well, writing the\ncode, of course, takes a bit more effort. But in terms of the time,\nit's not a big penalty",
    "start": "1794900",
    "end": "1802820"
  },
  {
    "text": "to work at multiple scales. And you get hugely\nimproved results.",
    "start": "1802820",
    "end": "1809649"
  },
  {
    "text": "And we'll talk a little\nbit later about how to do the subsampling.",
    "start": "1809650",
    "end": "1815260"
  },
  {
    "text": "Those of you who've\ntaken 6003, of course, realize that you can't\nsample without getting",
    "start": "1815260",
    "end": "1821950"
  },
  {
    "text": "aliasing unless you've\nlow pass filtered first. So actually, what you want to\ndo is low pass filter, and then",
    "start": "1821950",
    "end": "1830650"
  },
  {
    "text": "subsample. And you don't necessarily need\nto subsample on the scale in x",
    "start": "1830650",
    "end": "1836080"
  },
  {
    "text": "by 2 and y by 2. You could subsample by-- I don't know-- square root of\n2, which is less aggressive",
    "start": "1836080",
    "end": "1842260"
  },
  {
    "text": "and introduces fewer artifacts. But for the moment we'll\nignore that and just",
    "start": "1842260",
    "end": "1848020"
  },
  {
    "text": "take the very simple idea of\n2 by 2 block averaging, which is a crude form of\nlow pass filtering.",
    "start": "1848020",
    "end": "1854740"
  },
  {
    "text": "And it doesn't do exactly\nwhat you need to do, but it removes-- it suppresses some of the\nhigh frequency content.",
    "start": "1854740",
    "end": "1861950"
  },
  {
    "text": "And while there will\nbe aliasing artifacts, they'll be greatly reduced. And that's such a simple\nmethod to implement.",
    "start": "1861950",
    "end": "1870460"
  },
  {
    "text": "And it works pretty well. Well, let's talk a little\nbit about what to do--",
    "start": "1870460",
    "end": "1876960"
  },
  {
    "text": "what do I do with\ntime to contact? So there's a number of\ninteresting applications.",
    "start": "1876960",
    "end": "1884649"
  },
  {
    "text": "Every year there are\nseveral incidents with airplanes on the runway\nwhere wingtips are taken off.",
    "start": "1884650",
    "end": "1896480"
  },
  {
    "text": "So these planes have\nvery long wings, and they're\ntypically swept back.",
    "start": "1896480",
    "end": "1902530"
  },
  {
    "text": "So they're not terribly visible. And so there's an opportunity\nto bang them into a building",
    "start": "1902530",
    "end": "1910270"
  },
  {
    "text": "or into another plane. And that's a really\nexpensive thing to deal with.",
    "start": "1910270",
    "end": "1915380"
  },
  {
    "text": "It's not life threatening\nin most cases, but it's something\nthat you try and avoid.",
    "start": "1915380",
    "end": "1922299"
  },
  {
    "text": "And as you approach the place\nthat you get on the plane,",
    "start": "1922300",
    "end": "1929200"
  },
  {
    "text": "there's often some person down\nthere with some red lighted stick. And they're called wingmen.",
    "start": "1929200",
    "end": "1935740"
  },
  {
    "text": "And the reason is they walk\nunder the tip of the wing so that the pilot\ncan look back and see",
    "start": "1935740",
    "end": "1942460"
  },
  {
    "text": "where's the ground\nprojection of the wing. And I'll try not to hit that\nstaircase with the wing.",
    "start": "1942460",
    "end": "1948250"
  },
  {
    "text": "So it looks like you could\nimplement time to contract.",
    "start": "1948250",
    "end": "1954140"
  },
  {
    "text": "I mean, you can implement it\neasily on Android, for example. So you could build a\nreally cheap little box.",
    "start": "1954140",
    "end": "1960340"
  },
  {
    "text": "The only purpose\nin life for it is to look out and see if something\nis rapidly approaching,",
    "start": "1960340",
    "end": "1966710"
  },
  {
    "text": "and then give you a warning. And so we've thought\nabout suggesting that",
    "start": "1966710",
    "end": "1972820"
  },
  {
    "text": "to airplane\nmanufacturers and such. And it didn't get anywhere.",
    "start": "1972820",
    "end": "1979770"
  },
  {
    "text": "But Boeing took the\nidea, and they came up with a $150,000 radar solution.",
    "start": "1979770",
    "end": "1986190"
  },
  {
    "text": "And that's obviously\ngoing to be much more fun for the corporation to\nimplement than something",
    "start": "1986190",
    "end": "1993030"
  },
  {
    "text": "as silly as this. So anyway, sour grapes.",
    "start": "1993030",
    "end": "1999195"
  },
  {
    "text": "The next project is\nNASA landing on Europa.",
    "start": "1999195",
    "end": "2005419"
  },
  {
    "text": "So Europa is a long way away. And we have some idea of what's\non there, but not a whole lot.",
    "start": "2005420",
    "end": "2012600"
  },
  {
    "text": "So it's not like\nwe have detailed topographic maps and imagery. And so they want something\nthat reliably brings down",
    "start": "2012600",
    "end": "2021860"
  },
  {
    "text": "a spacecraft. And so one idea is to use\ntime to contact in control.",
    "start": "2021860",
    "end": "2029400"
  },
  {
    "text": "So let's look at how we do that. So we have a typical\ncontrol system.",
    "start": "2029400",
    "end": "2044390"
  },
  {
    "text": "We input some desired\ntime to contact. Then we have an\nactual estimated,",
    "start": "2044390",
    "end": "2059419"
  },
  {
    "text": "and we subtract the two. And that gives us some\nkind of error signal. And we multiply that\nby a gain, and we",
    "start": "2059420",
    "end": "2066560"
  },
  {
    "text": "use that to control the jet,\nthe rocket engine to change",
    "start": "2066560",
    "end": "2072679"
  },
  {
    "text": "the acceleration. And then there's a\ndynamical system,",
    "start": "2072679",
    "end": "2079210"
  },
  {
    "text": "which is second\norder in the sense that we're controlling\nacceleration, not",
    "start": "2079210",
    "end": "2089179"
  },
  {
    "text": "height directly. Height is two integrals\ndown from the part",
    "start": "2089179",
    "end": "2094399"
  },
  {
    "text": "that we can control. And then there's\nan imaging system. ",
    "start": "2094400",
    "end": "2105720"
  },
  {
    "text": "And so this system does\nsomething very simple, which may not be\nthe best you can do, but it's easy to analyze,\nwhich is to try and maintain",
    "start": "2105720",
    "end": "2115369"
  },
  {
    "text": "the time to contact the same. ",
    "start": "2115370",
    "end": "2122460"
  },
  {
    "text": "So if your measurement says that\nat the current rate of descent",
    "start": "2122460",
    "end": "2131859"
  },
  {
    "text": "you're going to have a shorter\ntime to contact than desired,",
    "start": "2131860",
    "end": "2137020"
  },
  {
    "text": "then it'll add some more\nforce to the engine.",
    "start": "2137020",
    "end": "2143140"
  },
  {
    "text": "And conversely, if\nit looks like you're kind of hovering too much,\nyou should be dropping down,",
    "start": "2143140",
    "end": "2151540"
  },
  {
    "text": "then the time to contact\nwill appear large. And then the error\nsignal will cause you",
    "start": "2151540",
    "end": "2159310"
  },
  {
    "text": "to reduce the engine output. So a very simple system.",
    "start": "2159310",
    "end": "2164900"
  },
  {
    "text": "And we saw that time to contact\nis very easy to implement.",
    "start": "2164900",
    "end": "2170289"
  },
  {
    "text": "And it doesn't care what the\nimagery is to a large extent. So we don't really know\nwhat the surface of Europa",
    "start": "2170290",
    "end": "2178270"
  },
  {
    "text": "looks like, except\nfrom far away. But we're not depending on\nsome particular texture,",
    "start": "2178270",
    "end": "2185380"
  },
  {
    "text": "or calibration, or\ntopographic map of the surface or something.",
    "start": "2185380",
    "end": "2191620"
  },
  {
    "text": "This method works\nwith any texture. Well, except we saw that there\nwere certain special textures",
    "start": "2191620",
    "end": "2198520"
  },
  {
    "text": "where it would fail. But presumably,\nEuropa hasn't been painted in one of these\nunique stripy patterns.",
    "start": "2198520",
    "end": "2206575"
  },
  {
    "start": "2206575",
    "end": "2214099"
  },
  {
    "text": "What are the dynamics of this? Because this idea of\ntime to contact control",
    "start": "2214100",
    "end": "2219740"
  },
  {
    "text": "can be used in other situations\nas well, such as in autonomous cars.",
    "start": "2219740",
    "end": "2225410"
  },
  {
    "text": "But let's focus on\nthe descent here. ",
    "start": "2225410",
    "end": "2234500"
  },
  {
    "text": "Now, why constant\ntime to contact? Well, we don't really know\nhow to accurately, reliably,",
    "start": "2234500",
    "end": "2243950"
  },
  {
    "text": "easily compute height from\na monocular camera image,",
    "start": "2243950",
    "end": "2249260"
  },
  {
    "text": "unless we have some target,\nlike there's a Walmart, and we know what\nsize Walmarts are. So we can compute\nhow high we are.",
    "start": "2249260",
    "end": "2257120"
  },
  {
    "text": "Well, there aren't\nany on Europa. I hope so. That won't work for us.",
    "start": "2257120",
    "end": "2263010"
  },
  {
    "text": "So if we could separately\ncompute height and speed,",
    "start": "2263010",
    "end": "2269020"
  },
  {
    "text": "then we could do much\nmore sophisticated things. But we know that we can very\nrobustly get their ratio",
    "start": "2269020",
    "end": "2276369"
  },
  {
    "text": "in a very simple way. So that's the attraction there. So we've got Z/w is\nT. And now we are",
    "start": "2276370",
    "end": "2285850"
  },
  {
    "text": "assuming that T is constant. It's very curious\nthat when DARPA",
    "start": "2285850",
    "end": "2292410"
  },
  {
    "text": "had the grand\nchallenge, of course, MIT was involved in that. And we instrumented a car.",
    "start": "2292410",
    "end": "2297690"
  },
  {
    "text": "And there was one\nsequence that we thought would be interesting\nto compute after the fact.",
    "start": "2297690",
    "end": "2305890"
  },
  {
    "text": "They've recorded all this video. Let's do something with it. Let's compute time to contact.",
    "start": "2305890",
    "end": "2310920"
  },
  {
    "text": "And so there's the vehicle\ncoming out of a parking lot, and it's approaching the\nMIT transport little bus.",
    "start": "2310920",
    "end": "2319710"
  },
  {
    "text": "And if you plot the time to\ncontact, it's almost constant.",
    "start": "2319710",
    "end": "2325089"
  },
  {
    "text": "So the vehicle is slowing down. The closer it gets to the\nbus, the more it slows down.",
    "start": "2325090",
    "end": "2331110"
  },
  {
    "text": "And so I have no idea\nwhat in the control algorithm of that\nautonomous vehicle did that,",
    "start": "2331110",
    "end": "2339570"
  },
  {
    "text": "but it was\ninteresting to observe that it used a constant\ntime to contact control",
    "start": "2339570",
    "end": "2345809"
  },
  {
    "text": "to approach the bus\nwithout running into it. Well, here's an equation\nthat we can solve.",
    "start": "2345810",
    "end": "2353710"
  },
  {
    "text": "So it goes Z over dZ dt is\nT. And so dZ dt is 1/T Z.",
    "start": "2353710",
    "end": "2365550"
  },
  {
    "text": "And well, there's a ordinary\ndifferential equation",
    "start": "2365550",
    "end": "2371520"
  },
  {
    "text": "that you should know the\nsolution for, keeping in mind that T is a constant.",
    "start": "2371520",
    "end": "2378850"
  },
  {
    "text": "So dZ dt is proportional\nto Z. What sort of function",
    "start": "2378850",
    "end": "2384180"
  },
  {
    "text": "does that? ",
    "start": "2384180",
    "end": "2391230"
  },
  {
    "text": "Quadratic? ",
    "start": "2391230",
    "end": "2398180"
  },
  {
    "text": "Exponential? Anyone? OK. So we get Z is e to the minus\nt over T, something like that.",
    "start": "2398180",
    "end": "2408700"
  },
  {
    "text": "We differentiate that,\nand the derivative is proportional to\nthe function itself.",
    "start": "2408700",
    "end": "2414260"
  },
  {
    "text": "And so if we implement\nthis constant time",
    "start": "2414260",
    "end": "2420070"
  },
  {
    "text": "to contact control\nsystem, what we'll find is that we're going to get a\ndescent that looks like this.",
    "start": "2420070",
    "end": "2432290"
  },
  {
    "text": "So here's our Z0. ",
    "start": "2432290",
    "end": "2437670"
  },
  {
    "text": "So it's going to be nice\nand gradual and smooth, and it will never get there.",
    "start": "2437670",
    "end": "2443590"
  },
  {
    "text": "So that's the downside. So what do you do there?",
    "start": "2443590",
    "end": "2448630"
  },
  {
    "text": "Well, we can do what flies do. They use constant\ntime to contact",
    "start": "2448630",
    "end": "2454470"
  },
  {
    "text": "when landing on the ceiling. And when their legs touch\nthe ceiling, they stop.",
    "start": "2454470",
    "end": "2460620"
  },
  {
    "text": "So we can have wire hanging\ndown from our spacecraft,",
    "start": "2460620",
    "end": "2465690"
  },
  {
    "text": "and when it touches the ground,\nwe shut off the engines. And then it'll just fall\nthose last meter or 2.",
    "start": "2465690",
    "end": "2471150"
  },
  {
    "text": "And that method, of\ncourse, has been used in planetary spacecraft before. But we can just combine it\nhere with the time to contact.",
    "start": "2471150",
    "end": "2478829"
  },
  {
    "text": "So at a certain point, we\ndo have a distance measurer, an actual wire, and\nthen it just drops",
    "start": "2478830",
    "end": "2486900"
  },
  {
    "text": "under gravitational control\nuntil it hits the surface, I guess.",
    "start": "2486900",
    "end": "2493510"
  },
  {
    "text": "So that's one aspect of this. And we can go into\nan error analysis",
    "start": "2493510",
    "end": "2499030"
  },
  {
    "text": "of what will happen there.",
    "start": "2499030",
    "end": "2505130"
  },
  {
    "text": "Just for fun we can\ncompare this with a more traditional approach. So a more traditional\napproach would",
    "start": "2505130",
    "end": "2512570"
  },
  {
    "text": "be we run the engine\nat its rate of speed. And we decelerate.",
    "start": "2512570",
    "end": "2519170"
  },
  {
    "text": "And we only turn\nit on at the time where we need to\nturn it on so that we",
    "start": "2519170",
    "end": "2526640"
  },
  {
    "text": "don't crash into the surface. So now that method\nrequires that we",
    "start": "2526640",
    "end": "2533450"
  },
  {
    "text": "know the distance to the surface\nand we know the velocity. So we have to know\na lot of stuff, where with the time to\ncontact control, we don't.",
    "start": "2533450",
    "end": "2541760"
  },
  {
    "text": "You just keep the time\nto contact constant. ",
    "start": "2541760",
    "end": "2552280"
  },
  {
    "text": "So one advantage of\nthis alternate method is it's more energy efficient.",
    "start": "2552280",
    "end": "2557780"
  },
  {
    "text": "So here we'll be kind of going\nalmost into a hovering mode.",
    "start": "2557780",
    "end": "2563020"
  },
  {
    "text": "So we're kind of\nwasting fuel in a way. So there's a trade-off. ",
    "start": "2563020",
    "end": "2578269"
  },
  {
    "text": "So we're ignoring the fact\nthat the spacecraft is getting lighter as it's using fuel,\nand so the acceleration will",
    "start": "2578270",
    "end": "2585579"
  },
  {
    "text": "change. We'll just assume\nthat it's constant. And so we integrate\nthat once, and we get a constant of integration.",
    "start": "2585580",
    "end": "2597220"
  },
  {
    "text": "And we can apply the\nboundary conditions, which are that at some\npoint we reach the surface.",
    "start": "2597220",
    "end": "2603355"
  },
  {
    "start": "2603355",
    "end": "2614840"
  },
  {
    "text": "And then we integrate\na second time. We integrate that,\nand we get Z is 1/2",
    "start": "2614840",
    "end": "2621320"
  },
  {
    "text": "a t squared plus some other\nconstant of integration.",
    "start": "2621320",
    "end": "2626990"
  },
  {
    "text": "And again, we use the boundary\ncondition, and we end up with z is 1/2 a.",
    "start": "2626990",
    "end": "2633380"
  },
  {
    "text": " Of course, you can do\nthis the other way around.",
    "start": "2633380",
    "end": "2639770"
  },
  {
    "text": "It might be easier to\nstart off with that, and then just\ndifferentiate to get to the constant acceleration.",
    "start": "2639770",
    "end": "2647059"
  },
  {
    "text": " So why did I even\nbother doing this?",
    "start": "2647060",
    "end": "2653840"
  },
  {
    "text": "Well, because it's\ninteresting to ask, under that type of control,\nwhat is the time to contact?",
    "start": "2653840",
    "end": "2660260"
  },
  {
    "text": "And so how do we compute that? Well, we need Z and dZ dt. So we just take the\nratio of these two.",
    "start": "2660260",
    "end": "2669170"
  },
  {
    "text": "So T is-- and so\nthat's going to be 1/2.",
    "start": "2669170",
    "end": "2678040"
  },
  {
    "text": " So that's saying what\nthe time to contact",
    "start": "2678040",
    "end": "2686290"
  },
  {
    "text": "is during any part\nof this maneuver. And it's fascinating that it's a\nhalf of what you get over here.",
    "start": "2686290",
    "end": "2696160"
  },
  {
    "text": " Over here, of course, the time\nto contact would be T minus T0.",
    "start": "2696160",
    "end": "2703930"
  },
  {
    "text": "But because of this constant\nacceleration control, we get that result. Anyway,\nit's just a way of comparing",
    "start": "2703930",
    "end": "2714609"
  },
  {
    "text": "constant time to contact\ncontrol with a more traditional",
    "start": "2714610",
    "end": "2721760"
  },
  {
    "text": "approach. The more traditional approach\nis somewhat more fuel efficient.",
    "start": "2721760",
    "end": "2728210"
  },
  {
    "text": "But it's much\nharder to implement. It requires accurate estimations\nof distance and velocities.",
    "start": "2728210",
    "end": "2734660"
  },
  {
    "text": "Anyway, apparently, NASA\ndecided they can accurately estimate distance and velocity.",
    "start": "2734660",
    "end": "2739710"
  },
  {
    "text": "So these crazy machine\nvision programs, who knows whether they'll work?",
    "start": "2739710",
    "end": "2745550"
  },
  {
    "text": "So they're not going to do that. But you can imagine\nthat there are",
    "start": "2745550",
    "end": "2751670"
  },
  {
    "text": "other applications for this. Because this is a sensor\nthat's really dumb. I mean, it's simply a\nmatter of brute force",
    "start": "2751670",
    "end": "2761540"
  },
  {
    "text": "estimating gradients\nand accumulating totals, multiplying, and then\nsolving a bunch of equations.",
    "start": "2761540",
    "end": "2768930"
  },
  {
    "text": "So it's very straightforward. Now, before we go\non to another topic,",
    "start": "2768930",
    "end": "2773960"
  },
  {
    "text": "I want to point out\nanother generalization that we'll take up later,\nand that's optical flow.",
    "start": "2773960",
    "end": "2780650"
  },
  {
    "text": " So the paper on Stella that\ntalks about the optical mouse",
    "start": "2780650",
    "end": "2788780"
  },
  {
    "text": "problem primarily is-- what's the title?",
    "start": "2788780",
    "end": "2794390"
  },
  {
    "text": "\"Computational Fixed Flow,\nDetermining Fixed Flow.\" Fixed flow, what does that mean? Well, it means that the motion\nof all parts of the image",
    "start": "2794390",
    "end": "2803240"
  },
  {
    "text": "are the same. And as I explained,\nfor an optical mouse, that's a very good model.",
    "start": "2803240",
    "end": "2808369"
  },
  {
    "text": "That's very accurate. But as I'm walking\naround the room, the motion of different\nparts of the image",
    "start": "2808370",
    "end": "2814250"
  },
  {
    "text": "are not the same because\nyou're at different distances. And we saw how we can get that\nout of a perspective projection",
    "start": "2814250",
    "end": "2822170"
  },
  {
    "text": "equation by differentiating. And we get some terms that\nare affected by division by z,",
    "start": "2822170",
    "end": "2828410"
  },
  {
    "text": "and so on. And then, also, some of\nyou may be moving around, independent motion.",
    "start": "2828410",
    "end": "2834109"
  },
  {
    "text": "It's not that. So these problems\nare particularly easy to solve when there\nare only a few parameters.",
    "start": "2834110",
    "end": "2840869"
  },
  {
    "text": "So for the optical mouse there\nare two-- motion in x, motion and y. Well, you might be\nturning the mouse.",
    "start": "2840870",
    "end": "2848200"
  },
  {
    "text": "So it could be three. And we'll probably take that\nup in a homework problem.",
    "start": "2848200",
    "end": "2853430"
  },
  {
    "text": "So it'll be a slight\ngeneralization of what we did with\nthe added feature that you're not only tracking\nthe position of the mouse,",
    "start": "2853430",
    "end": "2861430"
  },
  {
    "text": "but if the user is turning it,\nyou also want to recover that. Maybe not because that's an\ninteresting input to your GUI,",
    "start": "2861430",
    "end": "2869410"
  },
  {
    "text": "but because it might screw up\nthe estimation of the x and y motion if you do rotate.",
    "start": "2869410",
    "end": "2876430"
  },
  {
    "text": "Anyway, so those\nare all cases where we have a fairly small\nnumber of unknowns,",
    "start": "2876430",
    "end": "2882309"
  },
  {
    "text": "and we have a hugely\noverdetermined system. We have some measurement\nat every pixel.",
    "start": "2882310",
    "end": "2887560"
  },
  {
    "text": "What if we don't have that? Well, that's going to be a\nproblem, because at every pixel",
    "start": "2887560",
    "end": "2900480"
  },
  {
    "text": "we have an equation like that. So we have a constraint. So if we have 10\nmillion pixels, we've",
    "start": "2900480",
    "end": "2906240"
  },
  {
    "text": "got 10 million constraints. Great. Except at every pixel now, we\nalso have an unknown velocity.",
    "start": "2906240",
    "end": "2914039"
  },
  {
    "text": " Whoa! Cheap chalk.",
    "start": "2914040",
    "end": "2920070"
  },
  {
    "text": "So that means that we have\ntwice as many unknowns",
    "start": "2920070",
    "end": "2925260"
  },
  {
    "text": "as there are equations. Well, that's a\nprescription for disaster.",
    "start": "2925260",
    "end": "2931130"
  },
  {
    "text": "So highly underconstrained,\nand it's an ill-posed problem.",
    "start": "2931130",
    "end": "2940714"
  },
  {
    "start": "2940715",
    "end": "2946150"
  },
  {
    "text": "And in this case, it's\nill posed in the sense that there's an infinite\nnumber of solutions.",
    "start": "2946150",
    "end": "2951630"
  },
  {
    "text": "And in fact, if you\ngive me a solution, I can easily construct\nanother solution,",
    "start": "2951630",
    "end": "2957600"
  },
  {
    "text": "because all I need to\ndo is at every pixel I need to obey this constraint. So at every pixel, I'm\nsomewhere along this line.",
    "start": "2957600",
    "end": "2968400"
  },
  {
    "text": "And now you give me the,\nquote, \"correct solution\" that says here for that pixel.",
    "start": "2968400",
    "end": "2973859"
  },
  {
    "text": "Well, the thing is\nthat I can go there. It doesn't change anything.",
    "start": "2973860",
    "end": "2980770"
  },
  {
    "text": "And so that's pretty dramatic. That means that I\ncan systematically",
    "start": "2980770",
    "end": "2987440"
  },
  {
    "text": "go through the image,\nand at every pixel I can give you an infinite\nnumber of other values that will work.",
    "start": "2987440",
    "end": "2994020"
  },
  {
    "text": "So we'll need some\nheavy constraint. And one constraint that we\ncan use and will use later",
    "start": "2994020",
    "end": "3001360"
  },
  {
    "text": "is that neighboring\npoints in the image do not move independently. They may not move at\nthe same velocity,",
    "start": "3001360",
    "end": "3008290"
  },
  {
    "text": "but they tend to move\nat a similar velocity. So that's a good\nthing and a bad thing.",
    "start": "3008290",
    "end": "3014500"
  },
  {
    "text": "I mean, it's good in\nthat, oh, here we've got some sort of constraint. And it's a bad thing,\nbecause it's not",
    "start": "3014500",
    "end": "3020290"
  },
  {
    "text": "like an equation that says u\nplus 3v is 15 or something. It's more vague.",
    "start": "3020290",
    "end": "3026020"
  },
  {
    "text": "It's like, oh, it's\nvarying smoothly. What does that mean? What's smoothly? What epsilon change\ncan you allow?",
    "start": "3026020",
    "end": "3034270"
  },
  {
    "text": "So that makes that problem very\ninteresting and non-trivial.",
    "start": "3034270",
    "end": "3041380"
  },
  {
    "text": "We'll get to that later. We don't have the tools\nat this point to do that, but it's just to\nalert you to the fact",
    "start": "3041380",
    "end": "3048250"
  },
  {
    "text": "that the fixed flow isn't\nthe be all and end all.",
    "start": "3048250",
    "end": "3053320"
  },
  {
    "text": "There's more to come. Now, suppose that you don't\nhave the tools to solve",
    "start": "3053320",
    "end": "3060190"
  },
  {
    "text": "that problem. Well, you can do\nsomething, which is divide the image\nup into pieces,",
    "start": "3060190",
    "end": "3068530"
  },
  {
    "text": "and then apply fix\nflow to each piece.",
    "start": "3068530",
    "end": "3078535"
  },
  {
    "text": " And the idea is\nthat, well, if we",
    "start": "3078535",
    "end": "3085070"
  },
  {
    "text": "make the pieces\nsmall enough, there won't be much variation in the\nvelocity within that piece.",
    "start": "3085070",
    "end": "3091140"
  },
  {
    "text": "And so the assumption\nthat u and v are constant in that little\narea isn't such a bad one.",
    "start": "3091140",
    "end": "3099320"
  },
  {
    "text": "And so now there are\nall kinds of trade-offs, because if we make\nthese boxes very large,",
    "start": "3099320",
    "end": "3106490"
  },
  {
    "text": "we get only a very\ncoarse image of the flow. We only have a flow vector\nfor each of these boxes.",
    "start": "3106490",
    "end": "3115720"
  },
  {
    "text": "On the other hand, if we make\nthe subimage areas very small,",
    "start": "3115720",
    "end": "3121660"
  },
  {
    "text": "we have much less constraint. And we have much less of that\nwonderful noise suppression",
    "start": "3121660",
    "end": "3128470"
  },
  {
    "text": "property of an\noverdetermined system. And also, when we look at\nsmall areas of an image,",
    "start": "3128470",
    "end": "3137200"
  },
  {
    "text": "they are much more likely to\nbe similar to the type of image that we talked about\nthat doesn't work.",
    "start": "3137200",
    "end": "3143830"
  },
  {
    "text": "If I look at a very\nsmall area of the image and it just has this\nedge in it, well, that's",
    "start": "3143830",
    "end": "3149620"
  },
  {
    "text": "exactly the kind of thing where\nthe aperture problem comes in. And I can't determine what the\nmotion is in that direction.",
    "start": "3149620",
    "end": "3156630"
  },
  {
    "text": "So yes, you can do this. You can use what we\nhave-- the fixed flow method on a grid of\na chopped up image.",
    "start": "3156630",
    "end": "3165670"
  },
  {
    "text": "But there are trade-offs, and\nthey're somewhat unpleasant. If you make these areas\nfairly small, some of them",
    "start": "3165670",
    "end": "3172150"
  },
  {
    "text": "may be even more or less\nuniform in brightness. If I'm looking at\nthat gray wall,",
    "start": "3172150",
    "end": "3177160"
  },
  {
    "text": "it's uniform in brightness. And if it moves, I can't tell. It's just the same.",
    "start": "3177160",
    "end": "3182690"
  },
  {
    "text": "So anyway, that's something\nthat has been done and works,",
    "start": "3182690",
    "end": "3189250"
  },
  {
    "text": "but it's not the solution\nthat we'll be looking for.",
    "start": "3189250",
    "end": "3195130"
  },
  {
    "text": " We're moving towards talking\nabout brightness more",
    "start": "3195130",
    "end": "3202760"
  },
  {
    "text": "than perspective projection. But I want to just\ndo one more thing",
    "start": "3202760",
    "end": "3210230"
  },
  {
    "text": "with perspective projection. And that has to do\nwith vanishing points.",
    "start": "3210230",
    "end": "3215270"
  },
  {
    "text": " And these play a role in\ncamera calibration or sometimes",
    "start": "3215270",
    "end": "3230550"
  },
  {
    "text": "finding the relative orientation\nof two coordinate systems. And just to make that\nsound less mysterious,",
    "start": "3230550",
    "end": "3238230"
  },
  {
    "text": "if we have man-made\nobjects, they often have planar surfaces.",
    "start": "3238230",
    "end": "3244050"
  },
  {
    "text": "And they often have right angles\nbetween their planar surfaces, unless you go over\nto start there.",
    "start": "3244050",
    "end": "3250800"
  },
  {
    "text": "And so when we\nlook in the images, we're going to find a lot\nof straight edges often.",
    "start": "3250800",
    "end": "3256950"
  },
  {
    "text": "And often, a lot of\nthem are parallel. ",
    "start": "3256950",
    "end": "3264060"
  },
  {
    "text": "And so we can\nactually exploit that. So if, for example, you're\nhovering above some building,",
    "start": "3264060",
    "end": "3272340"
  },
  {
    "text": "like the main buildings at MIT\nis all on a rectangular grid, you can determine from the\nimage certain vanishing points.",
    "start": "3272340",
    "end": "3279930"
  },
  {
    "text": "And from that, you can\ndetermine your rotation relative to the\ncoordinate system",
    "start": "3279930",
    "end": "3285840"
  },
  {
    "text": "of that rectangular block. And so that's something there.",
    "start": "3285840",
    "end": "3291510"
  },
  {
    "text": "Or if you look at a cube or\nsome other calibration object,",
    "start": "3291510",
    "end": "3297630"
  },
  {
    "text": "you may be able to recover\nparameters of the imaging system. So it's important in\nthe camera calibration,",
    "start": "3297630",
    "end": "3304450"
  },
  {
    "text": "which is, of course,\nimportant in robotics and other applications. So let's just see\nwhat this is about.",
    "start": "3304450",
    "end": "3311859"
  },
  {
    "text": "So in the first\nhomework problem, one of the questions\nyou were asked is, what's the\nprediction of a line?",
    "start": "3311860",
    "end": "3318960"
  },
  {
    "text": "And there are various ways of\napproaching that algebraically or geometrically. One geometric way is just\nto say, here's my line.",
    "start": "3318960",
    "end": "3328230"
  },
  {
    "text": "I'm going to connect it to\nthe center of projection.",
    "start": "3328230",
    "end": "3333240"
  },
  {
    "text": "And what do I get? Well, I get a plane. If I connect-- if I look at\nthe locus of all those lines",
    "start": "3333240",
    "end": "3341100"
  },
  {
    "text": "that connect that point to\nthe line, it forms a plane. And then what is the\nimage of it going to be?",
    "start": "3341100",
    "end": "3346530"
  },
  {
    "text": "Well, I'm going to intersect\nthat with the image plane. So what's the intersection of\none plane with another plane?",
    "start": "3346530",
    "end": "3354420"
  },
  {
    "text": "It's a straight line. So there's a simple way\nof seeing that line in 3D",
    "start": "3354420",
    "end": "3360329"
  },
  {
    "text": "projected into a line in 2D. It's a funny projection\nin that if you",
    "start": "3360330",
    "end": "3366059"
  },
  {
    "text": "were to mark this\nlike a measuring tape",
    "start": "3366060",
    "end": "3371220"
  },
  {
    "text": "with equal intervals,\nand then you look at the projection\nof those marks, they won't be equally spaced,\nbecause the part where",
    "start": "3371220",
    "end": "3379140"
  },
  {
    "text": "the measuring tape\nis close to you will image with\nlarger magnification",
    "start": "3379140",
    "end": "3384360"
  },
  {
    "text": "so the marks are\nfurther apart then.",
    "start": "3384360",
    "end": "3389370"
  },
  {
    "text": "So the fact that a\nline goes to a line is a little bit overconfident.",
    "start": "3389370",
    "end": "3395780"
  },
  {
    "text": "It's making us think that we\nunderstand the problem very well, when actually\nit's a little subtle.",
    "start": "3395780",
    "end": "3401700"
  },
  {
    "text": "So the other way is algebraic. And so one way we can do this\nis to say that a line in 3D",
    "start": "3401700",
    "end": "3413950"
  },
  {
    "text": "can be defined in various ways. One of them is we have\na point on the line,",
    "start": "3413950",
    "end": "3419110"
  },
  {
    "text": "and then we have a direction. And we might as well use a unit\nvector to define the direction.",
    "start": "3419110",
    "end": "3425650"
  },
  {
    "text": "So that's one way of\ntalking about a line in 3D. What are other ways?",
    "start": "3425650",
    "end": "3432040"
  },
  {
    "text": "Can you think of\nsome other ways? We can do a parametric\nrepresentation",
    "start": "3432040",
    "end": "3437589"
  },
  {
    "text": "where we have, for example, x is\nsome function of some parameter",
    "start": "3437590",
    "end": "3443740"
  },
  {
    "text": "T, and y is some\nfunction of parameter T, and z is some function\nof parameter T,",
    "start": "3443740",
    "end": "3449680"
  },
  {
    "text": "or we can have some\nimplicit representation, or we can intersect two planes.",
    "start": "3449680",
    "end": "3457210"
  },
  {
    "text": "And why is that convenient? Well, the equation of a\nplane is a linear equation.",
    "start": "3457210",
    "end": "3462230"
  },
  {
    "text": "And so when you\nintersect two planes, we're dealing with two\nlinear equations then. We've already seen that having\nlinear equations can be a plus.",
    "start": "3462230",
    "end": "3470890"
  },
  {
    "text": "But let's stay with this. And in component\nform, of course, that just means it's x0 plus s.",
    "start": "3470890",
    "end": "3477760"
  },
  {
    "text": "What did I call it,\nalpha or something? ",
    "start": "3477760",
    "end": "3483220"
  },
  {
    "text": "Alpha s. ",
    "start": "3483220",
    "end": "3492120"
  },
  {
    "text": "So then we're going\nto now project that into the image using\nperspective projection.",
    "start": "3492120",
    "end": "3502980"
  },
  {
    "text": "And we can, of course,\nuse the component form that we used up there, or\nwe can use the vector form.",
    "start": "3502980",
    "end": "3510630"
  },
  {
    "text": "And so we get-- ",
    "start": "3510630",
    "end": "3533530"
  },
  {
    "text": "so unfortunately,\nthis doesn't lead to some very\nelegant, nice result.",
    "start": "3533530",
    "end": "3542890"
  },
  {
    "text": "Or rather, it doesn't without-- sorry. I guess Z is dependent on gamma.",
    "start": "3542890",
    "end": "3550690"
  },
  {
    "text": "Unless we go quite a\nlong way further than I want to when it becomes\nnice and elegant again.",
    "start": "3550690",
    "end": "3558970"
  },
  {
    "text": "So that's our transformation. And so s is a parameter\nthat varies along the line.",
    "start": "3558970",
    "end": "3567670"
  },
  {
    "text": "So different points on the line\nhave different values of s. And if that's a\nunit vector, then s",
    "start": "3567670",
    "end": "3573819"
  },
  {
    "text": "is actually a measure\nof length along there. ",
    "start": "3573820",
    "end": "3579670"
  },
  {
    "text": "Because of that division\nby Z, it's kind of messy. But one thing that's\ninteresting to do is to look at what happens when\nwe go very far along the line.",
    "start": "3579670",
    "end": "3588835"
  },
  {
    "start": "3588835",
    "end": "3594599"
  },
  {
    "text": "So we go there. So we make s very big. Well, that means that\nwe can ignore s0,",
    "start": "3594600",
    "end": "3599609"
  },
  {
    "text": "and we can ignore z0. And we get alpha over gamma. ",
    "start": "3599610",
    "end": "3611320"
  },
  {
    "text": "Gamma, not beta. ",
    "start": "3611320",
    "end": "3618560"
  },
  {
    "text": "And that is called\nthe vanishing point. ",
    "start": "3618560",
    "end": "3624030"
  },
  {
    "text": "So as you move\nalong this line, you",
    "start": "3624030",
    "end": "3631220"
  },
  {
    "text": "start to go more and\nmore slowly in the image. And you approach, but\nnever reach this point.",
    "start": "3631220",
    "end": "3637950"
  },
  {
    "text": "And so actually the image\nof an infinitely long line is not an infinitely long\nline in the image plane.",
    "start": "3637950",
    "end": "3644660"
  },
  {
    "text": "It starts somewhere, and\nthis is where it starts. Then as we move\nalong the line in 3D,",
    "start": "3644660",
    "end": "3654040"
  },
  {
    "text": "we don't move along the\nline in 2D in a uniform way,",
    "start": "3654040",
    "end": "3659770"
  },
  {
    "text": "because when we're very far out,\nwe can move a long way in 3D.",
    "start": "3659770",
    "end": "3664930"
  },
  {
    "text": "And it only has a tiny\neffect in the image. So that's what makes\nit kind of awkward. ",
    "start": "3664930",
    "end": "3672720"
  },
  {
    "text": "Now, one thing that we\nshould immediately recognize is that parallel lines\nhave the same vanishing",
    "start": "3672720",
    "end": "3680650"
  },
  {
    "text": "point, because the offset x0,\ny0, Z0, the origin of our line,",
    "start": "3680650",
    "end": "3696020"
  },
  {
    "text": "they don't come\ninto this equation. It's only the\ndirection that matters.",
    "start": "3696020",
    "end": "3701280"
  },
  {
    "text": "And so that's\ninteresting, because that means that if we have a bunch\nof parallel lines in 3D,",
    "start": "3701280",
    "end": "3707390"
  },
  {
    "text": "they are all going to give rise\nto the same vanishing point. So if we're looking at\na rectangular building,",
    "start": "3707390",
    "end": "3716090"
  },
  {
    "text": "there are three sets of edges,\neach containing parallel lines.",
    "start": "3716090",
    "end": "3723770"
  },
  {
    "text": "And so we expect to see\nthree vanishing points. So let's see if I can do this.",
    "start": "3723770",
    "end": "3730510"
  },
  {
    "text": "This might be-- ",
    "start": "3730510",
    "end": "3749589"
  },
  {
    "text": "Now, this is a bit extreme\nbecause I picked the vanishing points pretty close.",
    "start": "3749590",
    "end": "3756250"
  },
  {
    "text": "So here's a cube. ",
    "start": "3756250",
    "end": "3770480"
  },
  {
    "text": "Well, not that good. But anyway, if it\nwas for real, there",
    "start": "3770480",
    "end": "3776510"
  },
  {
    "text": "would be three sets of parallel\nlines, which each give rise to a vanishing point.",
    "start": "3776510",
    "end": "3783080"
  },
  {
    "text": " And so what?",
    "start": "3783080",
    "end": "3788800"
  },
  {
    "text": "Well, the point is that if\nI can find those vanishing points in the image, I can\nuse them to my advantage",
    "start": "3788800",
    "end": "3795670"
  },
  {
    "text": "to learn something about the\ngeometry of the image taking situation.",
    "start": "3795670",
    "end": "3801520"
  },
  {
    "text": "And just to let\nyou know that this isn't some vague theoretical\nthing that nobody cares about,",
    "start": "3801520",
    "end": "3811420"
  },
  {
    "text": "here's an application. So every year a few people are\nkilled on the side of the road",
    "start": "3811420",
    "end": "3817870"
  },
  {
    "text": "because of distracted\ndrivers, even before texting.",
    "start": "3817870",
    "end": "3823180"
  },
  {
    "text": "And so there's an\ninterest in trying to warn whoever's stopped\nthere-- police officer,",
    "start": "3823180",
    "end": "3829900"
  },
  {
    "text": "construction worker,\nwhatever-- that there is a car on a trajectory\nthat may impact them.",
    "start": "3829900",
    "end": "3836809"
  },
  {
    "text": "So how do you do that? Well, you can stick a camera,\nmaybe an Android phone,",
    "start": "3836810",
    "end": "3842950"
  },
  {
    "text": "in the window of the cruiser. And it's watching-- this\nis mostly nighttime--",
    "start": "3842950",
    "end": "3848810"
  },
  {
    "text": "it's watching\nheadlights going by. And it's monocular, so it\ndoesn't have depth information.",
    "start": "3848810",
    "end": "3854950"
  },
  {
    "text": "But it can figure out whether\nthe trajectory is possibly",
    "start": "3854950",
    "end": "3860619"
  },
  {
    "text": "dangerous or not. But one of the\nthings it needs to do is to figure out the geometry\nof its coordinate system",
    "start": "3860620",
    "end": "3866799"
  },
  {
    "text": "and the road's\ncoordinate system. You don't want the\nperson who's using it to have to come out\nwith surveying equipment",
    "start": "3866800",
    "end": "3873130"
  },
  {
    "text": "and measure the\nangles and so on. So the camera has\nto, on its own,",
    "start": "3873130",
    "end": "3879980"
  },
  {
    "text": "try and determine the\nrotation of its camera-centric",
    "start": "3879980",
    "end": "3885130"
  },
  {
    "text": "coordinate system\nrelative to the line, to the road, x, y, and z.",
    "start": "3885130",
    "end": "3891520"
  },
  {
    "text": "And so one way to do that is\nto look for a vanishing point. So in the case that the\nroad section is straight,",
    "start": "3891520",
    "end": "3901150"
  },
  {
    "text": "you can use image processing\nmethods to find those lines. And then you can intersect them\nto find the vanishing points.",
    "start": "3901150",
    "end": "3907540"
  },
  {
    "text": "And then you can use those to\nrecover at least two parameters of the transformation.",
    "start": "3907540",
    "end": "3913360"
  },
  {
    "text": "One is how much is the\ncamera turned relative to the direction of the\nroad, and the other one",
    "start": "3913360",
    "end": "3919240"
  },
  {
    "text": "is how much is the camera\nturned relative to the line to the horizon. So we've got pan\nand tilt. And we",
    "start": "3919240",
    "end": "3925630"
  },
  {
    "text": "can get pan and tilt\nusing vanishing points. ",
    "start": "3925630",
    "end": "3934504"
  },
  {
    "text": "Ugh, I don't want to do that. So let's think about using\nthis in camera calibration,",
    "start": "3934504",
    "end": "3942670"
  },
  {
    "text": "another application. So in calibrating\na camera, there",
    "start": "3942670",
    "end": "3952350"
  },
  {
    "text": "are several parameters\nyou're looking for. The main ones are the\ncenter of projection.",
    "start": "3952350",
    "end": "3961680"
  },
  {
    "text": "So you say, well, yeah,\nthe center of projection is where the lens is. Yeah. But where's the lens?",
    "start": "3961680",
    "end": "3967770"
  },
  {
    "text": "And relative to what? So here's our integrated\ncircuit sensor.",
    "start": "3967770",
    "end": "3974430"
  },
  {
    "text": "And up here is the lens\nor pinhole for the moment.",
    "start": "3974430",
    "end": "3979859"
  },
  {
    "text": "And presumably, whoever\nbuilt this thing tries to put the\ncenter of projection",
    "start": "3979860",
    "end": "3990090"
  },
  {
    "text": "above the middle of the chip. But that's not necessarily\ngoing to be accurately done.",
    "start": "3990090",
    "end": "3995220"
  },
  {
    "text": "I mean, these things are\nmicroscopic in some cases, like this thing.",
    "start": "3995220",
    "end": "4001700"
  },
  {
    "text": "It had a focal length\nof 4 millimeters. And so we're dealing with\nvery small quantities.",
    "start": "4001700",
    "end": "4008630"
  },
  {
    "text": "Plus, the pixels here may be 10\nmicrons, or in the cell phone maybe only 5.",
    "start": "4008630",
    "end": "4014300"
  },
  {
    "text": "So it's very unlikely\nthat you would be able to position\nthe lens in such a way",
    "start": "4014300",
    "end": "4020150"
  },
  {
    "text": "that it was accurate\nto one sensor position. So we need to recover\nthat position.",
    "start": "4020150",
    "end": "4027050"
  },
  {
    "text": "And we also need to recover the\nheight of the center projection above the image plane.",
    "start": "4027050",
    "end": "4035030"
  },
  {
    "text": "And ultimately, we'll be using\na camera-centric system that's origin at the center\nof projection.",
    "start": "4035030",
    "end": "4041600"
  },
  {
    "text": "But to do that, we\nneed to understand how row and column in the image\nsensor translate into x and y",
    "start": "4041600",
    "end": "4049520"
  },
  {
    "text": "in that camera-centric\ncoordinate system. So the short answer\nis if you give me",
    "start": "4049520",
    "end": "4057049"
  },
  {
    "text": "a coordinate system in the chip,\nwhich is a, let's say, column",
    "start": "4057050",
    "end": "4063050"
  },
  {
    "text": "and row count, I want to\nknow where that point is.",
    "start": "4063050",
    "end": "4069140"
  },
  {
    "text": "And typically, the\nrow and column count won't be taken from\nthe center of the chip, but from one of the corners.",
    "start": "4069140",
    "end": "4076380"
  },
  {
    "text": "And when you give\nme the position of the center of projection,\nwhat units do I want?",
    "start": "4076380",
    "end": "4083000"
  },
  {
    "text": "The size of the pixel. It'd be nice to\nhave it in microns. But if you don't know\nthe size of the pixels,",
    "start": "4083000",
    "end": "4090609"
  },
  {
    "text": "you can't do that. And conversely, you don't\nneed to know the size of the pixels for projection.",
    "start": "4090610",
    "end": "4096160"
  },
  {
    "text": "We can express that. Like the focal length,\nwe can express it in terms of pixel\nsize, particularly easy",
    "start": "4096160",
    "end": "4104140"
  },
  {
    "text": "if the pixel is square. I mean, otherwise, you've\ngot to deal with the fact that the x and y dimensions\naren't on the same scale.",
    "start": "4104140",
    "end": "4112000"
  },
  {
    "text": "So that's the task. Tell me where that point is. And it may need to be\nrepeated, particularly if it's",
    "start": "4112000",
    "end": "4118299"
  },
  {
    "text": "a camera that has\nzoom capability, because then all of\nthat's going to change",
    "start": "4118300",
    "end": "4123519"
  },
  {
    "text": "as you zoom in and out. And you'd want to perform this\nkind of calibration again.",
    "start": "4123520",
    "end": "4129799"
  },
  {
    "text": "So there are various\nways of doing this. One is-- and we'll talk\nabout this some more later.",
    "start": "4129800",
    "end": "4135400"
  },
  {
    "text": " But here's a very simple one.",
    "start": "4135400",
    "end": "4141020"
  },
  {
    "text": "We use a calibration object. ",
    "start": "4141020",
    "end": "4149520"
  },
  {
    "text": "And so a calibration object is\nsomething with a known shape. And we already talked\nabout that when",
    "start": "4149520",
    "end": "4155160"
  },
  {
    "text": "I was showing the slides,\nwhere we used the sphere as a calibration object. So would a sphere be a useful\ncalibration object here?",
    "start": "4155160",
    "end": "4168389"
  },
  {
    "text": "So the image of the sphere,\nas you saw in homework problem one, is a conic section.",
    "start": "4168390",
    "end": "4173630"
  },
  {
    "start": "4173630",
    "end": "4180089"
  },
  {
    "text": "And so for example, if the\nsphere was directly above",
    "start": "4180090",
    "end": "4185909"
  },
  {
    "text": "on this line, its projection\nwould be a circle. The sphere is up here. And how do I know that?",
    "start": "4185910",
    "end": "4191859"
  },
  {
    "text": "Well, because I\nconnect the sphere to the center of projection. And I get a right circular cone.",
    "start": "4191859",
    "end": "4198390"
  },
  {
    "text": "And I extend that down here and\nintersect it with this plane, and intersect the right circular\ncone with a plane perpendicular",
    "start": "4198390",
    "end": "4205530"
  },
  {
    "text": "to its axis. And you get a circle. But when I move the\nsphere to the side,",
    "start": "4205530",
    "end": "4212010"
  },
  {
    "text": "it's going to become elliptical. It's going to become-- imagine-- take an extreme case\nwhere this is way down here.",
    "start": "4212010",
    "end": "4218739"
  },
  {
    "text": "And now you project\nit into the image, it becomes a very\nelongated ellipse. And if you move it down far\nenough, it'll be a hyperbola.",
    "start": "4218740",
    "end": "4228610"
  },
  {
    "text": "So yeah, you can do that. But it would then require\nthat you accurately determine the position\nof that figure,",
    "start": "4228610",
    "end": "4235270"
  },
  {
    "text": "whether it's an ellipse,\nor hyperbola, or circle, or parabola, and its parameters.",
    "start": "4235270",
    "end": "4242810"
  },
  {
    "text": "So that can be done. But the noise gain is high. It's not a very good method.",
    "start": "4242810",
    "end": "4248800"
  },
  {
    "text": "The big advantage\nof this is a sphere is easy to make, easy to obtain.",
    "start": "4248800",
    "end": "4254740"
  },
  {
    "text": "A cube isn't. So let's try a cube. I know that a cube isn't easy\nbecause when my father got",
    "start": "4254740",
    "end": "4263790"
  },
  {
    "text": "his master's in operating\nequipment to make objects,",
    "start": "4263790",
    "end": "4272010"
  },
  {
    "text": "his task was to make\na 1 centimeter cube. And it had to be\naccurate to a micron.",
    "start": "4272010",
    "end": "4278280"
  },
  {
    "text": "And it apparently\ntook him quite a while to do it because it had to\nbe accurate to a micron,",
    "start": "4278280",
    "end": "4283980"
  },
  {
    "text": "and the sides had to be at\nright angles, and so on. So making a sphere as\na calibration object",
    "start": "4283980",
    "end": "4290250"
  },
  {
    "text": "is somewhat easier\nthan making a cube. But the cube has\nsome huge advantages.",
    "start": "4290250",
    "end": "4296100"
  },
  {
    "text": "And one way of exploiting\nit is this diagram. So if we take an image of the\ncube, we can detect the edges.",
    "start": "4296100",
    "end": "4306000"
  },
  {
    "text": "We'll talk about that later. And then we can extend them\nto find the vanishing point.",
    "start": "4306000",
    "end": "4311199"
  },
  {
    "text": "And by the way, the\nvanishing points don't have to be in the image. It could be that the image you\nactually see is this thing.",
    "start": "4311200",
    "end": "4319199"
  },
  {
    "text": "The vanishing points are in that\nplane, but they, in many cases,",
    "start": "4319200",
    "end": "4324600"
  },
  {
    "text": "are not in the image. And that's why I\nstruggle in part. Aside from having\nno drawing ability,",
    "start": "4324600",
    "end": "4331890"
  },
  {
    "text": "I struggled with that diagram\nbecause in the real situation, they tend to be further out.",
    "start": "4331890",
    "end": "4336930"
  },
  {
    "text": "And so the perspective\ndistortion, as it's called, wouldn't be as extreme.",
    "start": "4336930",
    "end": "4344940"
  },
  {
    "text": "So what? So I have a calibration\nobject that's a cube. And then I take a picture of it.",
    "start": "4344940",
    "end": "4350880"
  },
  {
    "text": "And I find the vanishing points. What then? Well, one thing I know\nis that the cube has",
    "start": "4350880",
    "end": "4359250"
  },
  {
    "text": "three sets of parallel line.  And those are at right\nangles to each other.",
    "start": "4359250",
    "end": "4368530"
  },
  {
    "text": "If they weren't, then it\nwould be a parallelepiped, not a cube. So they're at right\nangles to each other.",
    "start": "4368530",
    "end": "4376070"
  },
  {
    "text": "And so that's very important\nbecause it brings me to the equations for\nthe vanishing points.",
    "start": "4376070",
    "end": "4383199"
  },
  {
    "text": "It means that the directions\nto the vanishing points are at right angles\nto each other.",
    "start": "4383200",
    "end": "4388970"
  },
  {
    "text": "So here's my center\nof projection, and then I have three\nvectors corresponding",
    "start": "4388970",
    "end": "4394810"
  },
  {
    "text": "to the three sets of lines. So there's one that's\ngoing up and down, and one from that side,\nand one from that side.",
    "start": "4394810",
    "end": "4401950"
  },
  {
    "text": "And I can draw them through\nthe center of projection. So here's one, here's another\none, and here's a third one.",
    "start": "4401950",
    "end": "4409760"
  },
  {
    "text": "And so what are those lines? Well, those are lines in the\ndirection of the 3D lines,",
    "start": "4409760",
    "end": "4420510"
  },
  {
    "text": "which I guess we've lost now. So we said that all of the\nlines in this parallel bundle",
    "start": "4420510",
    "end": "4430719"
  },
  {
    "text": "project into the\nsame vanishing point. But there's one\nthat's special, which",
    "start": "4430720",
    "end": "4436150"
  },
  {
    "text": "is the one that goes through\nthe center of projection. So think of this whole\nslew of parallel lines.",
    "start": "4436150",
    "end": "4441909"
  },
  {
    "text": "And they all end up at\nthe same vanishing point. But they can be represented\nby a single line.",
    "start": "4441910",
    "end": "4449230"
  },
  {
    "text": "We can just pick one. We pick the one that\ngoes through the center of projection. And so that's what this is.",
    "start": "4449230",
    "end": "4455105"
  },
  {
    "text": "So this is-- and then because\nof the way our projection works,",
    "start": "4455105",
    "end": "4465710"
  },
  {
    "text": "there's a point down\nhere and a point down here in the image plane. ",
    "start": "4465710",
    "end": "4474300"
  },
  {
    "text": "So if you tell me the\nthree vectors that point in 3D along the\nlines, I can tell you",
    "start": "4474300",
    "end": "4482970"
  },
  {
    "text": "where they will be imaged\njust by this construction, because here's the direction\nthat's going along one--",
    "start": "4482970",
    "end": "4490650"
  },
  {
    "text": "here all these parallel lines. They all going in\nthat direction. And all I need to do is follow\nthis backward into the image",
    "start": "4490650",
    "end": "4497250"
  },
  {
    "text": "plane, and that's going\nto be its vanishing point. So that's vanishing point\n1, vanishing point 2.",
    "start": "4497250",
    "end": "4502470"
  },
  {
    "text": "I called them something else. Sorry. I guess I called\nthem a, b, and c. ",
    "start": "4502470",
    "end": "4513610"
  },
  {
    "text": "Now, the neat thing is I\nknow that if my calibration objects is a cube, that these\nthree vectors up here aren't",
    "start": "4513610",
    "end": "4521320"
  },
  {
    "text": "just any old three vectors,\nbut they are all at right angles to one another. Hard to draw that, but there\nare three relationships",
    "start": "4521320",
    "end": "4529059"
  },
  {
    "text": "between them. So let's call the unknown\ncenter of projection p.",
    "start": "4529060",
    "end": "4534810"
  },
  {
    "text": "That's our task. Find p, given a, b, and c. Well, then I can say this.",
    "start": "4534810",
    "end": "4541559"
  },
  {
    "start": "4541560",
    "end": "4559990"
  },
  {
    "text": "So why is that? Well, p minus a is the\nvector along this line.",
    "start": "4559990",
    "end": "4565440"
  },
  {
    "text": "And p minus b is the\nvector along that line. And those are the same\nvectors as these two.",
    "start": "4565440",
    "end": "4570900"
  },
  {
    "text": "And we know they're\nat right angles. And the dot product\nof two vectors that are at right angles is 0.",
    "start": "4570900",
    "end": "4579800"
  },
  {
    "text": "So we get the\ncalibration, obviously. We take an image. We find the vanishing points.",
    "start": "4579800",
    "end": "4585620"
  },
  {
    "text": "And then we have\nthose three equations, and we have three unknowns,\nnamely the components",
    "start": "4585620",
    "end": "4592699"
  },
  {
    "text": "of p, the center of projection. Or another way of looking at it\nis we need to know this height.",
    "start": "4592700",
    "end": "4600500"
  },
  {
    "text": "Call it f. And we need to know where\nthis is on the image sensor. So there are two\ndegrees of freedom here,",
    "start": "4600500",
    "end": "4605960"
  },
  {
    "text": "one degree of freedom\nthere, three total. But simply speaking, we're\ntrying to find where this is.",
    "start": "4605960",
    "end": "4612320"
  },
  {
    "text": "And that's a vector in 3D, so\nit has three degrees of freedom. We've got three equations. Great.",
    "start": "4612320",
    "end": "4618980"
  },
  {
    "text": "Well, if you look\nat them, you'll see that they're\nsecond order in p. p is the unknown.",
    "start": "4618980",
    "end": "4625190"
  },
  {
    "text": "And they're second order. They're quadratic. So there's a finite\nnumber of solutions,",
    "start": "4625190",
    "end": "4631500"
  },
  {
    "text": "except for pathological cases. But what is the\nnumber of solutions?",
    "start": "4631500",
    "end": "4637960"
  },
  {
    "text": "So with a single\nquadratic, we know that there are possibly two. So maybe there are\nmore solutions.",
    "start": "4637960",
    "end": "4644390"
  },
  {
    "text": "So there's a thing here\ncalled Bzout's theorem,",
    "start": "4644390",
    "end": "4652640"
  },
  {
    "text": "which we'll use quite a bit. And it says that the\nmaximum number of solutions",
    "start": "4652640",
    "end": "4663000"
  },
  {
    "text": "is the product of the\norder of the equations.",
    "start": "4663000",
    "end": "4669510"
  },
  {
    "text": "So for example, if I\nhave two quadratics, it is possible there might\nbe four solutions, 2 times 2.",
    "start": "4669510",
    "end": "4676010"
  },
  {
    "text": "Here I've got three\nquadratics, so it's possible there could\nbe eight solutions.",
    "start": "4676010",
    "end": "4681320"
  },
  {
    "text": "So that's unpleasant, so we want\nto talk some more about that. By the way, it's called\nBzout's theorem after Bzout,",
    "start": "4681320",
    "end": "4688880"
  },
  {
    "text": "who wrote this up, and actually\nNewton used this result in his",
    "start": "4688880",
    "end": "4697550"
  },
  {
    "text": "Principia. But he didn't\nreally formalize it.",
    "start": "4697550",
    "end": "4702590"
  },
  {
    "text": "He just used it like\nanyone would know this, that kind of thing.",
    "start": "4702590",
    "end": "4708030"
  },
  {
    "text": "And when Bzout wrote it up,\nhe didn't actually rigorously prove it. So there's a whole lot of--",
    "start": "4708030",
    "end": "4714364"
  },
  {
    "text": "it's as usual. Someone ends up with\ntheir name on something, and there's a whole interesting\nstory behind it, like, OK,",
    "start": "4714365",
    "end": "4720772"
  },
  {
    "text": "he didn't-- he wasn't\nactually the first, or he didn't actually get\nit right, or something. Anyway, it's an\nimportant theorem for us.",
    "start": "4720772",
    "end": "4727250"
  },
  {
    "text": "Now, with linear equations,\nthe product is always 1, right? 1 to the whatever power is 1.",
    "start": "4727250",
    "end": "4732980"
  },
  {
    "text": "So with linear\nequations, as long as we can match constraints\nwith unknowns, we're done.",
    "start": "4732980",
    "end": "4739340"
  },
  {
    "text": "Unfortunately, in other cases\nit's not quite that simple. But we can do something,\nwhich is notice",
    "start": "4739340",
    "end": "4749090"
  },
  {
    "text": "that these aren't just any\nold quadratic equations. They have a very\nspecial structure. And we can subtract\nthem pairwise to get rid",
    "start": "4749090",
    "end": "4756050"
  },
  {
    "text": "of the second order term. So we can get-- ",
    "start": "4756050",
    "end": "4773120"
  },
  {
    "text": "so let's see. If we subtract the first and\nthe second, we end up with this.",
    "start": "4773120",
    "end": "4778360"
  },
  {
    "text": "This is 0. And then we can get a few more. ",
    "start": "4778360",
    "end": "4797280"
  },
  {
    "text": "So terrific. We've reduced it to\nthree linear equations. And we know that they\nhave only one solution.",
    "start": "4797280",
    "end": "4804389"
  },
  {
    "text": " Well, not so fast.",
    "start": "4804390",
    "end": "4809500"
  },
  {
    "text": "Are those three linear\nequations linearly independent?",
    "start": "4809500",
    "end": "4814860"
  },
  {
    "text": "We have to worry\nabout that edge case where the matrix is\nsingular, and so on. Well, the truth is that\nif we add two of these,",
    "start": "4814860",
    "end": "4824889"
  },
  {
    "text": "we get the third one. So they're not\nindependent equations. So actually, when we get to\nthe third one, we should stop.",
    "start": "4824890",
    "end": "4832869"
  },
  {
    "text": "So yes, we can reduce it\nto two linear equations. But we're still left\nwith one quadratic.",
    "start": "4832870",
    "end": "4839110"
  },
  {
    "text": "And so the answer is that\nthere are two solutions. ",
    "start": "4839110",
    "end": "4850550"
  },
  {
    "text": "And we won't actually\ndo the algebra, but it's pretty straightforward. ",
    "start": "4850550",
    "end": "4863860"
  },
  {
    "text": "I'm not quite done with this. I wanted to say something more,\nbut we're sort out of time.",
    "start": "4863860",
    "end": "4869780"
  },
  {
    "text": "So one thing that I\nwanted to still say is that those linear\nequations, what",
    "start": "4869780",
    "end": "4875469"
  },
  {
    "text": "do they define in 3D space? Planes. So each of them defines a plane.",
    "start": "4875470",
    "end": "4881949"
  },
  {
    "text": "And what we're\nreally doing is we're intersecting those planes. And it turns out that two\nplanes intersect in a line.",
    "start": "4881950",
    "end": "4892310"
  },
  {
    "text": "And it turns out in\nthis case that that line contains the third plane. So the third plane\ndoesn't get you anything.",
    "start": "4892310",
    "end": "4898820"
  },
  {
    "text": "And then just to summarize\nhow this works, and we'll",
    "start": "4898820",
    "end": "4905500"
  },
  {
    "text": "finish this next time,\noften, we are in need of calibrating a camera.",
    "start": "4905500",
    "end": "4911619"
  },
  {
    "text": "Time to contact is one of the\nfew places where we didn't need a calibrated camera. And to calibrate a camera, we\noften use calibration objects.",
    "start": "4911620",
    "end": "4920289"
  },
  {
    "text": "I mean, it doesn't\nhave to be a cube. It could be, for example,\nthe corner of a room, as long as you know\nthe geometry of it.",
    "start": "4920290",
    "end": "4927820"
  },
  {
    "text": "And then in that case, often\nvanishing points are helpful.",
    "start": "4927820",
    "end": "4933460"
  },
  {
    "text": "And we can work out the geometry\nof the vanishing points, which lead us to a set of equations.",
    "start": "4933460",
    "end": "4939770"
  },
  {
    "text": "And when we solve them,\nwe find the position of the center of projection. Now, if lenses were\nperfect, that would be it.",
    "start": "4939770",
    "end": "4947929"
  },
  {
    "text": "So this would be it\nfor camera calibration. And we'll talk more about\ncamera calibration later.",
    "start": "4947930",
    "end": "4954235"
  },
  {
    "text": "Our lenses have\nradial distortion, and there are reasons why\npeople don't completely",
    "start": "4954235",
    "end": "4960159"
  },
  {
    "text": "get rid of that. So actually in practice\nwhen you do real robotics camera calibration, it's this\nplus the radial distortion",
    "start": "4960160",
    "end": "4968470"
  },
  {
    "text": "parameter. So OK. That's it for today.",
    "start": "4968470",
    "end": "4973500"
  },
  {
    "start": "4973500",
    "end": "4976000"
  }
]