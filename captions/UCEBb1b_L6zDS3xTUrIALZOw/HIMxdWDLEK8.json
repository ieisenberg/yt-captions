[
  {
    "start": "0",
    "end": "22000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help MIT\nOpenCourseWare continue to",
    "start": "0",
    "end": "6910"
  },
  {
    "text": "offer high quality educational\nresources for free. To make a donation or view\nadditional materials from",
    "start": "6910",
    "end": "13460"
  },
  {
    "text": "hundreds of MIT courses, visit\nMIT OpenCourseWare at ocw.mit.edu.",
    "start": "13460",
    "end": "18640"
  },
  {
    "text": " JOHN TSITSIKLIS: So what we're\ngoing to do is to review what",
    "start": "18640",
    "end": "25930"
  },
  {
    "start": "22000",
    "end": "48000"
  },
  {
    "text": "we have discussed last time. Then we're going to talk about\nthe classic application of",
    "start": "25930",
    "end": "32380"
  },
  {
    "text": "Markov chains to analyze\nhow do you dimension a phone system.",
    "start": "32380",
    "end": "39130"
  },
  {
    "text": "And finally, there will be\ntwo new things today. We will see how we can calculate\ncertain interesting",
    "start": "39130",
    "end": "44940"
  },
  {
    "text": "quantities that have to\ndo with Markov chains. So let us start.",
    "start": "44940",
    "end": "50200"
  },
  {
    "start": "48000",
    "end": "96000"
  },
  {
    "text": " We've got our Markov chain and\nlet's make the assumption that",
    "start": "50200",
    "end": "56680"
  },
  {
    "text": "our chain is kind of nice. And by nice we mean that\nwe've got maybe some transient states.",
    "start": "56680",
    "end": "62800"
  },
  {
    "text": " And then we've got a single\nrecurrent class",
    "start": "62800",
    "end": "71579"
  },
  {
    "text": "of recurrent states. So this is a single recurrent\nclass in the sense that from",
    "start": "71580",
    "end": "78600"
  },
  {
    "text": "any state in that class you can\nget to any other state. So once you're in here you're\ngoing to circulate and keep",
    "start": "78600",
    "end": "84790"
  },
  {
    "text": "visiting all of those states. Those states appear transient. The trajectory may move around\nhere, but eventually one of",
    "start": "84790",
    "end": "92020"
  },
  {
    "text": "these transitions will happen\nand you're going to end up in this lump. ",
    "start": "92020",
    "end": "98640"
  },
  {
    "start": "96000",
    "end": "906000"
  },
  {
    "text": "Let's make the assumption that\nthe single recurrent class is not periodic.",
    "start": "98640",
    "end": "103930"
  },
  {
    "text": " These are the nicest kind\nof Markov chains.",
    "start": "103930",
    "end": "111740"
  },
  {
    "text": "And they're nicest because\nthey have the following property, the probability that\nyou find yourself at some",
    "start": "111740",
    "end": "118900"
  },
  {
    "text": "particular state j at\nthe time n when that time is very large.",
    "start": "118900",
    "end": "124799"
  },
  {
    "text": "That probability settles to a\nsteady state value that we denote by pi sub j.",
    "start": "124800",
    "end": "130139"
  },
  {
    "text": "And there are two parts\nin the statement. One part is that this\nlimit exists.",
    "start": "130139",
    "end": "135470"
  },
  {
    "text": "So the probability of state j\nsettles to something, and furthermore that probability\nis not affected by i.",
    "start": "135470",
    "end": "143080"
  },
  {
    "text": "It doesn't matter where you\nstarted, no matter where you started, the probability of\nstate j is going to be the",
    "start": "143080",
    "end": "148310"
  },
  {
    "text": "same in the long run. Maybe a clearer notation\ncould be of this form.",
    "start": "148310",
    "end": "154990"
  },
  {
    "text": "The probability of being at\nstate j given the initial state being i is equal to\npi(j) in the limit.",
    "start": "154990",
    "end": "162569"
  },
  {
    "text": "Now, if I don't tell you where\nyou started and you look at the unconditional probability\nof being at state i, you can",
    "start": "162570",
    "end": "172520"
  },
  {
    "text": "average over the initial\nstates, use the total expectation theorem and you're\ngoing to get the same answer",
    "start": "172520",
    "end": "181560"
  },
  {
    "text": "pi(j) in the limit. So this tells you that to the\nconditional probability given",
    "start": "181560",
    "end": "189400"
  },
  {
    "text": "the initial state in the limit\nis the same as the unconditional probability. And that's a situation that we\nrecognize as being one where",
    "start": "189400",
    "end": "197200"
  },
  {
    "text": "we have independence. So what this result tells\nus is that Xn and Xi are",
    "start": "197200",
    "end": "204970"
  },
  {
    "text": "approximately independent. They become independent in the\nlimit as n goes to infinity.",
    "start": "204970",
    "end": "212690"
  },
  {
    "text": "So that's what the steady\nstate theorem tells us. The initial conditions don't\nmatter, so your state at some",
    "start": "212690",
    "end": "218860"
  },
  {
    "text": "large time n has nothing to do,\nis not affected by what your initial state was.",
    "start": "218860",
    "end": "225350"
  },
  {
    "text": "Knowing the initial state\ndoesn't tell you anything about your state at time\nn, therefore the",
    "start": "225350",
    "end": "230829"
  },
  {
    "text": "states at the times-- sorry that should be a 1,\nor it should be a 0 --",
    "start": "230830",
    "end": "236580"
  },
  {
    "text": "so the state is not affected by\nwhere the process started.",
    "start": "236580",
    "end": "242350"
  },
  {
    "text": "So if the Markov chain is to\noperate for a long time and we're interested in the question\nwhere is the state,",
    "start": "242350",
    "end": "248520"
  },
  {
    "text": "then your answer would be, I\ndon't know, it's random. But it's going to be a\nparticular j with this",
    "start": "248520",
    "end": "254020"
  },
  {
    "text": "particular probability. So the steady state\nprobabilities are interesting to us and that raises\nthe question of how",
    "start": "254020",
    "end": "261060"
  },
  {
    "text": "do we compute them. The way we compute them is by\nsolving a linear system of equations, which are called\nthe balance equations,",
    "start": "261060",
    "end": "268580"
  },
  {
    "text": "together with an extra equation,\nthe normalization equation that has to be\nsatisfied by probability,",
    "start": "268580",
    "end": "273690"
  },
  {
    "text": "because probabilities must\nalways add up to 1. We talked about the\ninterpretation of this",
    "start": "273690",
    "end": "280660"
  },
  {
    "text": "equation last time. It's basically a conservation\nof probability flow in some sense.",
    "start": "280660",
    "end": "287400"
  },
  {
    "text": "What comes in must get out. The probability of finding\nyourself at state j at a",
    "start": "287400",
    "end": "293190"
  },
  {
    "text": "particular time is the total\nprobability of the last transition taking\nme into state j.",
    "start": "293190",
    "end": "301389"
  },
  {
    "text": "The last transition takes me\ninto state j in various ways. It could be that the previous\ntime I was at the particular",
    "start": "301390",
    "end": "307889"
  },
  {
    "text": "state, j and i made a transition\nfrom k into j. So this number here, we\ninterpret as the frequency",
    "start": "307890",
    "end": "315610"
  },
  {
    "text": "with which transitions\nof these particular type k to j, occur.",
    "start": "315610",
    "end": "321900"
  },
  {
    "text": "And then by adding over all k's\nwe consider transitions of all types that lead\nus inside state j.",
    "start": "321900",
    "end": "329770"
  },
  {
    "text": "So the probability of being at\nthe j is the sum total of the probabilities of\ngetting into j.",
    "start": "329770",
    "end": "338690"
  },
  {
    "text": "What if we had multiple\nrecurrent classes? So if we take this picture\nand change it to this.",
    "start": "338690",
    "end": "348645"
  },
  {
    "text": " So here we got a secondary\nrecurrent class.",
    "start": "348645",
    "end": "355920"
  },
  {
    "text": "If you're here, you\ncannot get there. If you are here, you\ncannot get there. What happens in the long run?",
    "start": "355920",
    "end": "362370"
  },
  {
    "text": "Well, in the long run, if you\nstart from here you're going to make a transition eventually,\neither of this",
    "start": "362370",
    "end": "369360"
  },
  {
    "text": "type and you would end up\nhere, or you will make a transitional of that type and\nyou will end up there.",
    "start": "369360",
    "end": "376210"
  },
  {
    "text": "If you end up here, the long\nterm statistics of your chain,",
    "start": "376210",
    "end": "381740"
  },
  {
    "text": "that is, the probabilities of\nthe different states, will be the steady state probabilities\nof this",
    "start": "381740",
    "end": "387080"
  },
  {
    "text": "chain regarded in isolation. So you go ahead and you solve\nthis system of equations just",
    "start": "387080",
    "end": "394440"
  },
  {
    "text": "for this chain, and these will\nbe your steady state probabilities. If you happened to\nget in here.",
    "start": "394440",
    "end": "401660"
  },
  {
    "text": "If, on the other hand, it\nhappens that you went there, given that event, then what\nhappens in the long run has to",
    "start": "401660",
    "end": "409710"
  },
  {
    "text": "do with just this chain\nrunning by itself. So you find the steady\nstate probabilities",
    "start": "409710",
    "end": "415610"
  },
  {
    "text": "inside that sub chain. So you solve the linear system,\nthe steady state equations, for this chain\nseparately and for that chain",
    "start": "415610",
    "end": "423520"
  },
  {
    "text": "separately. If you happen to start inside\nhere then the steady state probabilities for this sub\nchain are going to apply.",
    "start": "423520",
    "end": "432650"
  },
  {
    "text": "Now of course this raises the\nquestion, if I start here, how do I know whether I'm going\nto get here or there?",
    "start": "432650",
    "end": "439500"
  },
  {
    "text": "Well, you don't know,\nit's random. It may turn out that you get to\nhere, it may turn out that you get there.",
    "start": "439500",
    "end": "444760"
  },
  {
    "text": "So we will be interested in\ncalculating the probabilities that eventually you end up here\nversus the probability",
    "start": "444760",
    "end": "451240"
  },
  {
    "text": "that eventually you\nend up there. This is something that we're\ngoing to do towards the end of",
    "start": "451240",
    "end": "456590"
  },
  {
    "text": "today's lecture. ",
    "start": "456590",
    "end": "463730"
  },
  {
    "text": "So, as a warm up, just to see\nhow we interpret those steady state probabilities, let us look\nat our familiar example.",
    "start": "463730",
    "end": "472710"
  },
  {
    "text": "This is a 2-state\nMarkov chain. Last time we did write down the\nbalance equations for this",
    "start": "472710",
    "end": "477860"
  },
  {
    "text": "chain and we found the steady\nstate probabilities to be 2/7 and 5/7 respectively.",
    "start": "477860",
    "end": "484250"
  },
  {
    "text": "So let us try to calculate\nsome quantities. Suppose that you start at\nstate 1, and you want to",
    "start": "484250",
    "end": "490520"
  },
  {
    "text": "calculate to this particular\nprobability. So since we're assuming that\nwe're starting at state 1,",
    "start": "490520",
    "end": "495620"
  },
  {
    "text": "essentially here we are\nconditioning on the initial state being equal to 1.",
    "start": "495620",
    "end": "501790"
  },
  {
    "text": "Now the conditional probability\nof two things happening is the probability\nthat the first thing happens.",
    "start": "501790",
    "end": "510370"
  },
  {
    "text": "But we're living in the world\nwhere we said that the initial state was 1.",
    "start": "510370",
    "end": "515719"
  },
  {
    "text": "And then given that this thing\nhappened, the probability that the second thing happens.",
    "start": "515720",
    "end": "523530"
  },
  {
    "text": "But again, we're talking about\nconditional probabilities given that the initial\nstate was 1.",
    "start": "523530",
    "end": "530150"
  },
  {
    "text": "So what is this quantity? This one is the transition\nprobability from state 1 to",
    "start": "530150",
    "end": "537040"
  },
  {
    "text": "state 1, so it's P11. How about the second\nprobability?",
    "start": "537040",
    "end": "544730"
  },
  {
    "text": "So given that you started at 1\nand the next time you were at 1, what's the probability that\nat the time 100 you are at 1?",
    "start": "544730",
    "end": "551980"
  },
  {
    "text": "Now because of the Markov\nproperty, if I tell you that at this time you are\nat 1, it doesn't",
    "start": "551980",
    "end": "557519"
  },
  {
    "text": "matter how you get there. So this part of the conditioning\ndoesn't matter.",
    "start": "557520",
    "end": "562560"
  },
  {
    "text": "And what we have is the 99 step\ntransition probability",
    "start": "562560",
    "end": "569650"
  },
  {
    "text": "from state 1 to state 1.",
    "start": "569650",
    "end": "574820"
  },
  {
    "text": "So the probability that you\nget to 1 and then 99 steps later you find yourself again at\none is the probability that",
    "start": "574820",
    "end": "582339"
  },
  {
    "text": "the first transition takes you\nto 1 times the probability that over the next 99\ntransitions starting from 1,",
    "start": "582340",
    "end": "591810"
  },
  {
    "text": "after 99 steps you end\nup again at state 1. Now, 99 is possibly a big\nnumber, and so we approximate",
    "start": "591810",
    "end": "600720"
  },
  {
    "text": "this quantity. We're using the steady state\nprobability of state 1.",
    "start": "600720",
    "end": "605810"
  },
  {
    "text": "And that gives us an\napproximation for this particular expression. We can do the same thing\nto calculate",
    "start": "605810",
    "end": "614790"
  },
  {
    "text": "something of the same kind. So you start at state 1. What's the probability that 100\nsteps later you are again",
    "start": "614790",
    "end": "623230"
  },
  {
    "text": "at state 1? So that's going to be P11-- ",
    "start": "623230",
    "end": "628970"
  },
  {
    "text": "not P -- R11. ",
    "start": "628970",
    "end": "634830"
  },
  {
    "text": "The 100 step transition\nprobability that starting from 1 you get to 1, and then after\nyou get to 1 at time 100",
    "start": "634830",
    "end": "643980"
  },
  {
    "text": "what's the probability that\nthe next time you find yourself at state 2? This is going to be the\nprobability P12.",
    "start": "643980",
    "end": "650580"
  },
  {
    "text": "And approximately, since 100\nis a large number, this is approximately pi(1) times P12.",
    "start": "650580",
    "end": "657890"
  },
  {
    "start": "657890",
    "end": "666230"
  },
  {
    "text": "OK. So that's how we can use steady\nstate probabilities to",
    "start": "666230",
    "end": "672180"
  },
  {
    "text": "make approximations. Or you could, for example, if\nyou continue doing examples of",
    "start": "672180",
    "end": "679090"
  },
  {
    "text": "this kind, you could ask for\nwhat's the probability that X at time 100 is 1, and also X\nat time 200 is equal to 1.",
    "start": "679090",
    "end": "692170"
  },
  {
    "text": "Then this is going to be the\ntransition probability from 1 to 1 in 100 steps, and then over\nthe next 100 steps from 1",
    "start": "692170",
    "end": "703140"
  },
  {
    "text": "you get again to 1. And this is going to be",
    "start": "703140",
    "end": "708750"
  },
  {
    "text": "approximately pi(1) times pi(1). ",
    "start": "708750",
    "end": "717550"
  },
  {
    "text": "So we approximate multi-step\ntransition probabilities by the steady state probabilities\nwhen the number n that's",
    "start": "717550",
    "end": "725120"
  },
  {
    "text": "involved in here is big. Now I said that's 99\nor 100 is big.",
    "start": "725120",
    "end": "731270"
  },
  {
    "text": "How do we know that it's big\nenough so that the limit has taken effect, and that our\napproximation is good?",
    "start": "731270",
    "end": "739560"
  },
  {
    "text": "This has something to do with\nthe time scale of our Markov chain, and by time scale, I mean\nhow long does it take for",
    "start": "739560",
    "end": "747460"
  },
  {
    "text": "the initial states\nto be forgotten. How long does it take for there\nto be enough randomness",
    "start": "747460",
    "end": "755080"
  },
  {
    "text": "so that things sort of\nmix and it doesn't matter where you started? So if you look at this chain, it\ntakes on the average, let's",
    "start": "755080",
    "end": "763720"
  },
  {
    "text": "say 5 tries to make a transition\nof this kind. It takes on the average 2 tries\nfor a transition of that",
    "start": "763720",
    "end": "771970"
  },
  {
    "text": "kind to take place. So every 10 time steps or so\nthere's a little bit of",
    "start": "771970",
    "end": "778839"
  },
  {
    "text": "randomness. Over 100 times steps there's\na lot of randomness, so you expect that the initial state\nwill have been forgotten.",
    "start": "778840",
    "end": "786420"
  },
  {
    "text": "It doesn't matter. There's enough mixing and\nrandomness that happens over 100 time steps.",
    "start": "786420",
    "end": "791870"
  },
  {
    "text": "And so this approximation\nis good. On the other hand, if the\nnumbers were different, the",
    "start": "791870",
    "end": "799079"
  },
  {
    "text": "story would have\nbeen different. Suppose that this number is\n0.999 and that number is",
    "start": "799080",
    "end": "806620"
  },
  {
    "text": "something like 0.998, so that\nthis number becomes 0.002, and",
    "start": "806620",
    "end": "813570"
  },
  {
    "text": "that number becomes 0.001. Suppose that the numbers\nwere of this kind.",
    "start": "813570",
    "end": "820620"
  },
  {
    "text": "How long does it take to forget\nthe initial state? If I start here, there's a\nprobability of 1 in 1,000 that",
    "start": "820620",
    "end": "828840"
  },
  {
    "text": "next time I'm going\nto be there. So on the average it's going\nto take me about a thousand tries just to leave\nthat state.",
    "start": "828840",
    "end": "838330"
  },
  {
    "text": "So, over roughly a thousand time\nsteps my initial state",
    "start": "838330",
    "end": "843390"
  },
  {
    "text": "really does matter. If I tell you that you started\nhere, you're pretty certain",
    "start": "843390",
    "end": "848550"
  },
  {
    "text": "that, let's say over the next\n100 time steps, you will still be here. So the initial state\nhas a big effect.",
    "start": "848550",
    "end": "855580"
  },
  {
    "text": "In this case we say that this\nMarkov chain has a much slower time scale.",
    "start": "855580",
    "end": "861029"
  },
  {
    "text": "It takes a much longer time to\nmix, it takes a much longer time for the initial state to\nbe forgotten, and this means",
    "start": "861030",
    "end": "869149"
  },
  {
    "text": "that we cannot do this kind of\napproximation if the number of steps is just 99.",
    "start": "869150",
    "end": "874870"
  },
  {
    "text": "Here we might need n to be as\nlarge as, let's say, 10,000 or so before we can start using\nthe approximation.",
    "start": "874870",
    "end": "883320"
  },
  {
    "text": "So when one uses that\napproximation, one needs to have some sense of how quickly\ndoes the state move around and",
    "start": "883320",
    "end": "890830"
  },
  {
    "text": "take that into account. So there's a whole sub-field\nthat deals with estimating or",
    "start": "890830",
    "end": "896100"
  },
  {
    "text": "figuring out how quickly\ndifferent Markov chains mix, and that's the question of\nwhen can you apply those",
    "start": "896100",
    "end": "902460"
  },
  {
    "text": "steady state approximations.  So now let's get a little closer\nto the real world.",
    "start": "902460",
    "end": "912180"
  },
  {
    "start": "906000",
    "end": "1044000"
  },
  {
    "text": "We're going to talk about a\nfamous problem that was posed, started, and solved by\na Danish engineer",
    "start": "912180",
    "end": "919220"
  },
  {
    "text": "by the name of Erlang. This is the same person whose\nname is given to the Erlang",
    "start": "919220",
    "end": "925180"
  },
  {
    "text": "distribution that we\nsaw in the context of the Poisson processes. So this was more than 100 years\nago, when phones had",
    "start": "925180",
    "end": "933950"
  },
  {
    "text": "just started existing. And he was trying to figure out\nwhat it would take to set",
    "start": "933950",
    "end": "942900"
  },
  {
    "text": "up a phone system that how many\nlines should you set up for a community to be\nable to communicate",
    "start": "942900",
    "end": "949920"
  },
  {
    "text": "to the outside world. So here's the story. You've got a village, and that\nvillage has a certain",
    "start": "949920",
    "end": "957730"
  },
  {
    "text": "population, and you want\nto set up phone lines.",
    "start": "957730",
    "end": "963704"
  },
  {
    "text": " So you want to set up a number\nof phone lines, let's say that",
    "start": "963705",
    "end": "969720"
  },
  {
    "text": "number is B, to the\noutside world. ",
    "start": "969720",
    "end": "977710"
  },
  {
    "text": "And how do you want\nto do that? Well, you want B to\nbe kind of small. You don't want to set\nup too many wires",
    "start": "977710",
    "end": "984130"
  },
  {
    "text": "because that's expensive. On the other hand, you want to\nhave enough wires so that if a",
    "start": "984130",
    "end": "990300"
  },
  {
    "text": "reasonable number of people\nplace phone calls simultaneously, they will all\nget a line and they will be",
    "start": "990300",
    "end": "998000"
  },
  {
    "text": "able to talk. So if B is 10 and 12 people want\nto talk at the same time,",
    "start": "998000",
    "end": "1005220"
  },
  {
    "text": "then 2 of these people would get\na busy signal, and that's not something that we like. We would like B to be large\nenough so that there's a",
    "start": "1005220",
    "end": "1013009"
  },
  {
    "text": "substantial probability, that\nthere's almost certainty that, under reasonable conditions,\nno one is going",
    "start": "1013010",
    "end": "1020120"
  },
  {
    "text": "to get a busy signal. So how do we go about modeling\na situation like this?",
    "start": "1020120",
    "end": "1026720"
  },
  {
    "text": "Well, to set up a model you\nneed two pieces, one is to describe how do phone calls\nget initiated, and once a",
    "start": "1026720",
    "end": "1037000"
  },
  {
    "text": "phone call gets started, how\nlong does it take until the phone call is terminated?",
    "start": "1037000",
    "end": "1044530"
  },
  {
    "text": "So we're going to make the\nsimplest assumptions possible. Let's assume that phone\ncalls originate",
    "start": "1044530",
    "end": "1049890"
  },
  {
    "text": "as a Poisson process. That is, out of that population\npeople do not really coordinate.",
    "start": "1049890",
    "end": "1055289"
  },
  {
    "text": "At completely random times,\ndifferent people with decide to pick up the phone. There's no dependencies between\ndifferent people,",
    "start": "1055290",
    "end": "1062320"
  },
  {
    "text": "there's nothing special about\ndifferent times, different times are independent. So a Poisson model is a\nreasonable way of modeling",
    "start": "1062320",
    "end": "1070549"
  },
  {
    "text": "this situation. And it's going to be a Poisson\nprocess with some rate lambda.",
    "start": "1070550",
    "end": "1075870"
  },
  {
    "text": "Now, the rate lambda would be\neasy to estimate in practice. You observe what happens in\nthat village just over a",
    "start": "1075870",
    "end": "1082760"
  },
  {
    "text": "couple of days, and you figure\nout what's the rate at which people attempt to place\nphone calls.",
    "start": "1082760",
    "end": "1089550"
  },
  {
    "text": "Now, about phone calls\nthemselves, we're going to make the assumption that the\nduration of a phone call is a",
    "start": "1089550",
    "end": "1095120"
  },
  {
    "text": "random variable that has an\nexponential distribution with a certain parameter mu.",
    "start": "1095120",
    "end": "1100630"
  },
  {
    "text": "So 1/mu is the mean duration\nof a phone call. So the mean duration, , again,\nis easy to estimate.",
    "start": "1100630",
    "end": "1107570"
  },
  {
    "text": "You just observe what's\nhappening, see on the average how long these phone\ncalls are.",
    "start": "1107570",
    "end": "1113679"
  },
  {
    "text": "Is the exponential assumption\na good assumption? Well, it's means that most phone\ncalls will be kind of",
    "start": "1113680",
    "end": "1119990"
  },
  {
    "text": "short, but there's going to be a\nfraction of phone calls that are going to be larger, and\nthen a very small fraction",
    "start": "1119990",
    "end": "1125640"
  },
  {
    "text": "that are going to\nbe even larger. So it sounds plausible. It's not exactly realistic, that\nis, phone calls that last",
    "start": "1125640",
    "end": "1137960"
  },
  {
    "text": "short of 15 seconds are\nnot that common. So either nothing happens\nor you have to say a few",
    "start": "1137960",
    "end": "1144890"
  },
  {
    "text": "sentences and so on. Also, back into the days when\npeople used to connect to the",
    "start": "1144890",
    "end": "1150200"
  },
  {
    "text": "internet using dial up modems,\nthat assumption was completely",
    "start": "1150200",
    "end": "1155429"
  },
  {
    "text": "destroyed, because people would\ndial up and then keep their phone line busy for a few\nhours, if the phone call",
    "start": "1155430",
    "end": "1165730"
  },
  {
    "text": "was a free one. So at those times the\nexponential assumption for the phone call duration was\ncompletely destroyed.",
    "start": "1165730",
    "end": "1173260"
  },
  {
    "text": "But leaving that detail aside,\nit's sort of a reasonable assumption to just get started\nwith this problem.",
    "start": "1173260",
    "end": "1181000"
  },
  {
    "start": "1180000",
    "end": "1364000"
  },
  {
    "text": "All right, so now that we have\nthose assumptions, let's try to come up with the model.",
    "start": "1181000",
    "end": "1186510"
  },
  {
    "text": "And we're going to set up\na Markov process model. Now the Poisson process runs in\ncontinuous time, and call",
    "start": "1186510",
    "end": "1192990"
  },
  {
    "text": "durations being exponential\nrandom variables also are continuous random variables, so\nit seems that we are in a",
    "start": "1192990",
    "end": "1199330"
  },
  {
    "text": "continuous time universe. But we have only started\nMarkov chains for the discrete time case.",
    "start": "1199330",
    "end": "1205309"
  },
  {
    "text": "What are we going to do? We can either develop the theory\nof continuous time",
    "start": "1205310",
    "end": "1210470"
  },
  {
    "text": "Markov chains, which\nis possible. But we are not going to\ndo that in this class.",
    "start": "1210470",
    "end": "1216299"
  },
  {
    "text": "Or we can discretize time\nand work with a discrete time model.",
    "start": "1216300",
    "end": "1222070"
  },
  {
    "text": "So we're going to discretize\ntime in the familiar way, the way we did it when we started\nthe Poisson process.",
    "start": "1222070",
    "end": "1227350"
  },
  {
    "text": "We're going to take the time\naxis and split it into little discrete mini slots, where\nevery mini slot",
    "start": "1227350",
    "end": "1235130"
  },
  {
    "text": "has a duration delta. So this delta is supposed to\nbe a very small number.",
    "start": "1235130",
    "end": "1241520"
  },
  {
    "text": "So what is the state\nof the system? So, you look at the situation\nin the system at some",
    "start": "1241520",
    "end": "1247290"
  },
  {
    "text": "particular time and I ask you\nwhat is going on right now, what's the information\nyou would tell me?",
    "start": "1247290",
    "end": "1253679"
  },
  {
    "text": "Well, you would tell me that\nright now out of these capital B lines, 10 of them are busy,\nor 12 of them are busy.",
    "start": "1253680",
    "end": "1262160"
  },
  {
    "text": "That describes the state of\nthe system, that tells me what's happening\nat this point. So we set up our states base by\nbeing the numbers from 0 to",
    "start": "1262160",
    "end": "1270800"
  },
  {
    "text": "B. 0 corresponds to a state in\nwhich all the phone lines are free, no one is talking.",
    "start": "1270800",
    "end": "1277260"
  },
  {
    "text": "Capital B corresponds to\na case where all the phone lines are busy. And then you've got\nstates in between.",
    "start": "1277260",
    "end": "1284019"
  },
  {
    "text": "And now let's look at the\ntransition probabilities. Suppose that right so now we\nhave i-1 lines that are busy.",
    "start": "1284020",
    "end": "1292580"
  },
  {
    "text": " Or maybe, let me look here.",
    "start": "1292580",
    "end": "1298380"
  },
  {
    "text": "Suppose that there's i\nlines that are busy. What can happen the next time?",
    "start": "1298380",
    "end": "1304770"
  },
  {
    "text": "What can happen is that the new\nphone call gets placed, in which case my state moves up\nby 1, or an existing call",
    "start": "1304770",
    "end": "1313670"
  },
  {
    "text": "terminates, in which case my\nstate goes down by 1, or none",
    "start": "1313670",
    "end": "1319060"
  },
  {
    "text": "of the two happens, in which\ncase I stay at the same state. Well, it's also possible that\nthe phone call gets terminated",
    "start": "1319060",
    "end": "1326930"
  },
  {
    "text": "and a new phone call gets placed\nsort of simultaneously. But when you take your time\nslots to be very, very small,",
    "start": "1326930",
    "end": "1334080"
  },
  {
    "text": "this is going to have a\nnegligible probability order of delta squared, so\nwe ignore this.",
    "start": "1334080",
    "end": "1339850"
  },
  {
    "text": "So what's the probability of\nan upwards transition? That's the probability that the\nPoisson process records an",
    "start": "1339850",
    "end": "1345159"
  },
  {
    "text": "arrival during a mini slot\nof duration delta. By the definition of the\nPoisson process, the",
    "start": "1345160",
    "end": "1351270"
  },
  {
    "text": "probability of this happening\nis just lambda delta. So each one of these upwards\ntransitions has the same",
    "start": "1351270",
    "end": "1359200"
  },
  {
    "text": "probability of lambda delta. So you've got lambda deltas\neverywhere in this diagram.",
    "start": "1359200",
    "end": "1365220"
  },
  {
    "start": "1364000",
    "end": "1571000"
  },
  {
    "text": "How about, now, phone\ncall terminations? If you had the single call that\nwas active, so if you",
    "start": "1365220",
    "end": "1373630"
  },
  {
    "text": "were here, what's the\nprobability that the phone call terminates? So the phone call has an\nexponential duration with",
    "start": "1373630",
    "end": "1380840"
  },
  {
    "text": "parameter mu. And we discussed before that an\nexponential random variable",
    "start": "1380840",
    "end": "1385860"
  },
  {
    "text": "can be thought of as the\nfirst arrival time in a Poisson process. So the probability that you get\nthis event to happen over",
    "start": "1385860",
    "end": "1394750"
  },
  {
    "text": "a delta time interval is\njust mu times delta. So if you have a single phone\ncall that's happening right",
    "start": "1394750",
    "end": "1402279"
  },
  {
    "text": "now, with probability\nmu times delta, that call is going to terminate. But suppose that we have\ni phone calls that",
    "start": "1402280",
    "end": "1410019"
  },
  {
    "text": "are currently active. Each one of them has a\nprobability of mu delta, of terminating, but collectively\nthe probability that one of",
    "start": "1410020",
    "end": "1419200"
  },
  {
    "text": "them terminates becomes\ni times mu delta.",
    "start": "1419200",
    "end": "1425850"
  },
  {
    "text": "So that's because you get the\nmu delta contribution -- the probability of termination\nfrom each one of the different",
    "start": "1425850",
    "end": "1431539"
  },
  {
    "text": "phone calls. OK, now this is an approximate\ncalculation, because it",
    "start": "1431540",
    "end": "1438290"
  },
  {
    "text": "ignores the possibility that two\nphone calls terminate at the same time. Again, the way to think of why\nthis is the correct rate, when",
    "start": "1438290",
    "end": "1449130"
  },
  {
    "text": "you have i phone calls that are\nsimultaneously running and waiting for one of them to\nterminate, this is like having",
    "start": "1449130",
    "end": "1457250"
  },
  {
    "text": "i separate Poisson processes\nthat are running in parallel, and you ask for the probability\nthat one of those",
    "start": "1457250",
    "end": "1463720"
  },
  {
    "text": "processes records an event. Now when you put all those\nprocess together, it's like having a Poisson process with\ntotal rate i times mu, and so",
    "start": "1463720",
    "end": "1472970"
  },
  {
    "text": "i times mu delta is the overall\nprobability that something happens in terms of\nphone call terminations at",
    "start": "1472970",
    "end": "1479580"
  },
  {
    "text": "those times. So in any case, this is the\ntransition probability for downwards transitions.",
    "start": "1479580",
    "end": "1486280"
  },
  {
    "text": "Now that we've got this, we\ncan analyze this chain. This chain has the birth death\nform that we discussed towards",
    "start": "1486280",
    "end": "1493220"
  },
  {
    "text": "the end of last lecture. And for birth death chains, it's\neasy to write it out to",
    "start": "1493220",
    "end": "1498360"
  },
  {
    "text": "find the steady state\nprobabilities. Instead of writing down the\nbalance equations in the general form, we think in terms\nof a conservation of",
    "start": "1498360",
    "end": "1507950"
  },
  {
    "text": "probabilities or of transitions\nby looking at what happens across a particular\ncut in this diagram.",
    "start": "1507950",
    "end": "1514640"
  },
  {
    "text": "Number of transitions in the\nchain that cross from here to here has to be approximately\nequal to the number of",
    "start": "1514640",
    "end": "1521309"
  },
  {
    "text": "transitions from here to there\nbecause whatever comes up must come down and then come\nup and so on.",
    "start": "1521310",
    "end": "1527520"
  },
  {
    "text": "So the frequency with which\ntransitions of this kind are observed has to be the same as\nthe frequency of transitions",
    "start": "1527520",
    "end": "1534070"
  },
  {
    "text": "of this kind. What's the frequency of how\noften the transitions of this kind happen?",
    "start": "1534070",
    "end": "1540280"
  },
  {
    "text": "And by frequency I mean quite\npercentage of the mini slots",
    "start": "1540280",
    "end": "1545350"
  },
  {
    "text": "involve a transition\nof this kind? Well, for a transition of that\nkind to happen we need to be",
    "start": "1545350",
    "end": "1551420"
  },
  {
    "text": "at states i-1, which happens\nthis much of the time. And then the probability\nlambda delta that the",
    "start": "1551420",
    "end": "1559360"
  },
  {
    "text": "transition is of this kind. So the frequency of transitions\nof with which this",
    "start": "1559360",
    "end": "1566040"
  },
  {
    "text": "kind of transition is observed\nis lambda delta times pi(i-1).",
    "start": "1566040",
    "end": "1571460"
  },
  {
    "start": "1571000",
    "end": "1653000"
  },
  {
    "text": "This is the fraction of time\nsteps at which a transition",
    "start": "1571460",
    "end": "1577679"
  },
  {
    "text": "from specifically this\nstate to specifically that state are observed. This has to be the same as\nthe frequency with which",
    "start": "1577680",
    "end": "1584880"
  },
  {
    "text": "transitions of that kind are\nobserved, and that frequency is going to be i mu delta\ntimes pi(i), and then we",
    "start": "1584880",
    "end": "1592309"
  },
  {
    "text": "cancel the deltas, and we are\nleft with this equation here.",
    "start": "1592310",
    "end": "1597870"
  },
  {
    "text": "So this equation expresses pi(i)\nin terms of pi(i-1).",
    "start": "1597870",
    "end": "1603260"
  },
  {
    "text": "So if we knew pi(0) we\ncan use that equation to determine pi(1).",
    "start": "1603260",
    "end": "1608690"
  },
  {
    "text": "Once we know pi(1), we can use\nthat equation to determine pi(2), and so on,\nyou keep going.",
    "start": "1608690",
    "end": "1615490"
  },
  {
    "text": "And the general formula that\ncomes out of this, I will not do the algebra, it's a\nstraightforward substitution,",
    "start": "1615490",
    "end": "1622350"
  },
  {
    "text": "you find that pi(i), the steady\nstate probability of state i is given by this\nexpression, which involves the",
    "start": "1622350",
    "end": "1628649"
  },
  {
    "text": "pi(0) from which we started. Now what is pi(0)? Well, we don't know yet, but\nwe can find it by using the",
    "start": "1628650",
    "end": "1637420"
  },
  {
    "text": "normalization equation. The sum of pi(i) has\nto be equal to 1.",
    "start": "1637420",
    "end": "1642680"
  },
  {
    "text": "So the sum of all of those\nnumbers has to be equal to 1. And the only way that this can\nhappen is by setting pi(0) to",
    "start": "1642680",
    "end": "1650370"
  },
  {
    "text": "be equal to that particular\nnumber. So if I tell you the value of\ncapital B, you can set up this",
    "start": "1650370",
    "end": "1658970"
  },
  {
    "text": "Markov chain, you can calculate\npi(0), and then you can calculate pi(i), and so you\nknow what fraction, you",
    "start": "1658970",
    "end": "1667789"
  },
  {
    "text": "know the steady state\nprobabilities of this chain, so you can answer\nthe question.",
    "start": "1667790",
    "end": "1673920"
  },
  {
    "text": "If I drop in at a random time,\nhow likely is it that I'm going to find the states\nto be here, or the",
    "start": "1673920",
    "end": "1680200"
  },
  {
    "text": "states to be there? So the steady state\nprobabilities are probabilities, but we also\ninterpret them as frequencies.",
    "start": "1680200",
    "end": "1687390"
  },
  {
    "text": "So once I find pi(i), it also\ntells me what fraction of the time is the state equal to i.",
    "start": "1687390",
    "end": "1696870"
  },
  {
    "text": "And you can answer that question\nfor every possible i. Now, why did we do\nthis exercise?",
    "start": "1696870",
    "end": "1702180"
  },
  {
    "text": "We're interested in\nthe probability of the system is busy.",
    "start": "1702180",
    "end": "1707660"
  },
  {
    "text": "So if a person, a new phone\ncall gets placed, it just drops out of the sky.",
    "start": "1707660",
    "end": "1713020"
  },
  {
    "text": "According to that Poisson\nprocess, that new phone call is going to find the system\nat a random state.",
    "start": "1713020",
    "end": "1721770"
  },
  {
    "text": "That random state is described\nin steady state by the probabilities pi(i)'s.",
    "start": "1721770",
    "end": "1727440"
  },
  {
    "text": "And the probability that you\nfind the system to be busy is the probability that when you\ndrop in the state happens to",
    "start": "1727440",
    "end": "1735110"
  },
  {
    "text": "be that particular number B. So\ni sub b is the probability",
    "start": "1735110",
    "end": "1741380"
  },
  {
    "text": "of being busy. ",
    "start": "1741380",
    "end": "1746496"
  },
  {
    "text": "And this is the probability\nthat you would like to be small in a well engineered\nsystem.",
    "start": "1746496",
    "end": "1751970"
  },
  {
    "text": "So you ask the question, how\nshould, given my lambda and mu, my design question is to\ndetermine capital B the number",
    "start": "1751970",
    "end": "1762570"
  },
  {
    "text": "of phone lines so that\nthis number is small. ",
    "start": "1762570",
    "end": "1771289"
  },
  {
    "text": "Could we have done, could we\nfigure out a good value for B by doing a back of the\nenvelope calculation?",
    "start": "1771290",
    "end": "1779670"
  },
  {
    "text": "Let's suppose that lambda is\n30 and that mu is 1/3. ",
    "start": "1779670",
    "end": "1789190"
  },
  {
    "text": "So I guess that's, let\nus these rates to be calls per minute.",
    "start": "1789190",
    "end": "1795135"
  },
  {
    "text": " And this mu, again, is\na rate per minute.",
    "start": "1795135",
    "end": "1803100"
  },
  {
    "text": "Again, the units of mu are going\nto be calls per minute. So since our time unit is\nminutes, the mean duration of",
    "start": "1803100",
    "end": "1811309"
  },
  {
    "text": "calls is 1/mu minutes. So a typical call, or\non the average a",
    "start": "1811310",
    "end": "1816930"
  },
  {
    "text": "call lasts for 3 minutes. ",
    "start": "1816930",
    "end": "1823900"
  },
  {
    "text": "So you get 30 calls\nper minute. Each call lasts for 3 minutes\non the average.",
    "start": "1823900",
    "end": "1831540"
  },
  {
    "text": "So on the average, if\nB was infinite, every call goes through.",
    "start": "1831540",
    "end": "1838100"
  },
  {
    "text": "How many calls would be\nactive on the average? So you get 30 per minute.",
    "start": "1838100",
    "end": "1844570"
  },
  {
    "text": "If a call lasted exactly 1\nminute, then at any time you would have 30 calls\nbeing active.",
    "start": "1844570",
    "end": "1851210"
  },
  {
    "text": "Now a call lasts on the\naverage for 3 minutes. So during each minute\nyou generate 90",
    "start": "1851210",
    "end": "1858120"
  },
  {
    "text": "minutes of talking time. So by thinking in terms of\naverages you would expect that",
    "start": "1858120",
    "end": "1865399"
  },
  {
    "text": "at any time there would\nbe about 90 calls that are active.",
    "start": "1865400",
    "end": "1870539"
  },
  {
    "text": "And if 90 calls are active on\nthe average, you could say OK, I'm going to set up my\ncapital B to be 90.",
    "start": "1870540",
    "end": "1878600"
  },
  {
    "text": "But that's not very good,\nbecause if the average number of phone calls that want to\nhappen is if the average",
    "start": "1878600",
    "end": "1885950"
  },
  {
    "text": "number is 90, sometimes you're\ngoing to have 85, sometimes you will have 95.",
    "start": "1885950",
    "end": "1891460"
  },
  {
    "text": "And to be sure that the phone\ncalls will go through you probably want to choose your\ncapital B to be a number a",
    "start": "1891460",
    "end": "1897790"
  },
  {
    "text": "little larger than 90. How much larger than 90? Well, this is a question that\nyou can answer numerically.",
    "start": "1897790",
    "end": "1907070"
  },
  {
    "text": "So you go through the\nfollowing procedure. I tried different values of\ncapital B. For any given value",
    "start": "1907070",
    "end": "1915590"
  },
  {
    "text": "of capital B, I do this\nnumerical calculation, I find the probability that the system\nis busy, and then I ask",
    "start": "1915590",
    "end": "1923530"
  },
  {
    "text": "what's the value of B that makes\nmy probability of being busy to be, let's say,\nroughly 1 %.",
    "start": "1923530",
    "end": "1930510"
  },
  {
    "text": "And if you do that calculation\nwith the parameters that they gave you, you find that B would\nbe something like 106.",
    "start": "1930510",
    "end": "1938620"
  },
  {
    "text": "So with the parameters they gave\nwhere you have, on the average, 90 phone calls being\nactive, you actually need some",
    "start": "1938620",
    "end": "1946550"
  },
  {
    "text": "margin to protect against the\n[?] fluctuation, if suddenly by chance more people want to\ntalk, and if you want to have",
    "start": "1946550",
    "end": "1954010"
  },
  {
    "text": "a good guarantee that an\nincoming person will have a very small probability of\nfinding a busy system, then",
    "start": "1954010",
    "end": "1960860"
  },
  {
    "text": "you will need about\n106 phone lines. So that's the calculation and\nthe argument that the Erlang",
    "start": "1960860",
    "end": "1969740"
  },
  {
    "text": "went through a long time ago. It's actually interesting that\nErlang did this calculation",
    "start": "1969740",
    "end": "1975610"
  },
  {
    "text": "before Markov chains\nwere invented. So Markov's work, and the\nbeginning of work on Markov",
    "start": "1975610",
    "end": "1982250"
  },
  {
    "text": "chains, happens about 10-15\nyears after Erlang. So obviously he didn't call\nthat a Markov chain.",
    "start": "1982250",
    "end": "1990180"
  },
  {
    "text": "But it was something that he\ncould study from first principles.",
    "start": "1990180",
    "end": "1995900"
  },
  {
    "text": "So this is a pretty\nuseful thing. These probabilities that come\nout of that model, at least in",
    "start": "1995900",
    "end": "2004530"
  },
  {
    "text": "the old days, they would all\nbe very well tabulated in handbooks that every decent\nphone company engineer would",
    "start": "2004530",
    "end": "2012669"
  },
  {
    "text": "sort of have with them. So this is about as practical\nas it gets.",
    "start": "2012670",
    "end": "2018890"
  },
  {
    "text": "It's one of the sort of\nstandard real world applications of Markov chains. ",
    "start": "2018890",
    "end": "2027040"
  },
  {
    "start": "2026000",
    "end": "2881000"
  },
  {
    "text": "So now to close our subjects,\nwe're going to consider a",
    "start": "2027040",
    "end": "2033950"
  },
  {
    "text": "couple of new skills and see how\nwe can calculate the few additional interesting\nquantities that have to do",
    "start": "2033950",
    "end": "2039660"
  },
  {
    "text": "with the Markov chain. So the problem we're going to\ndeal with here is the one I",
    "start": "2039660",
    "end": "2044799"
  },
  {
    "text": "hinted that when I was talking\nabout this picture. You start at a transient\nstate, you're going to",
    "start": "2044800",
    "end": "2049870"
  },
  {
    "text": "eventually end up\nhere or there. We want to find the\nprobabilities of one option of",
    "start": "2049870",
    "end": "2056388"
  },
  {
    "text": "the two happening or the\nother happening. So in this picture we\nhave a class of",
    "start": "2056389",
    "end": "2063879"
  },
  {
    "text": "states that's are transient. ",
    "start": "2063880",
    "end": "2069129"
  },
  {
    "text": "These are transient because\nyou're going to move around",
    "start": "2069130",
    "end": "2074219"
  },
  {
    "text": "those states, but there's a\ntransition that you can make, and you go to a state from\nwhich you cannot escape",
    "start": "2074219",
    "end": "2080260"
  },
  {
    "text": "afterwards. Are you going to end\nup here or are you going to end up there?",
    "start": "2080260",
    "end": "2085369"
  },
  {
    "text": "You don't know. It's random. Let's try to calculate the\nprobability that you",
    "start": "2085370",
    "end": "2090940"
  },
  {
    "text": "end up at state 4. Now, the probability that you\nend up at state 4 will depend",
    "start": "2090940",
    "end": "2099990"
  },
  {
    "text": "on where you start. Because if you start here, you\nprobably have more chances of",
    "start": "2099990",
    "end": "2106170"
  },
  {
    "text": "getting to 4 because you get\nthat chance immediately, whereas if you start here\nthere's more chances that",
    "start": "2106170",
    "end": "2112390"
  },
  {
    "text": "you're going to escape that way\nbecause it kind of takes you time to get there.",
    "start": "2112390",
    "end": "2117770"
  },
  {
    "text": "It's more likely that\nyou exit right away. So the probability of exiting\nand ending up at state 4 will",
    "start": "2117770",
    "end": "2126040"
  },
  {
    "text": "depend on the initial state. That's why when we talk about\nthese absorption probability",
    "start": "2126040",
    "end": "2133900"
  },
  {
    "text": "we include an index i that\ntells us what the initial state is.",
    "start": "2133900",
    "end": "2140310"
  },
  {
    "text": "And we want to find this\nabsorption probability, the probability that we end\nup here for the",
    "start": "2140310",
    "end": "2146820"
  },
  {
    "text": "different initial states. Now for some initial states this\nis very easy to answer.",
    "start": "2146820",
    "end": "2152099"
  },
  {
    "text": "If you start at state 4, what's\nthe probability that eventually you end up in\nthis part of the chain?",
    "start": "2152100",
    "end": "2159160"
  },
  {
    "text": "It's 1. You're certain to be there,\nthat's where you started. If you start at state 5, what's\nthe probability that",
    "start": "2159160",
    "end": "2166140"
  },
  {
    "text": "you end up eventually\nat state 4? It's probability 0, there's\nno way to get there.",
    "start": "2166140",
    "end": "2172579"
  },
  {
    "text": "Now, how about if you start\nat a state like state 2?",
    "start": "2172580",
    "end": "2177930"
  },
  {
    "text": " If you start at state 2 then\nthere's a few different things",
    "start": "2177930",
    "end": "2186350"
  },
  {
    "text": "that can happen. Either you end up at state 4\nright away and this happens",
    "start": "2186350",
    "end": "2192900"
  },
  {
    "text": "with probability 0.2, or you\nend up at state 1, and this",
    "start": "2192900",
    "end": "2201150"
  },
  {
    "text": "happens with probability 0.6.",
    "start": "2201150",
    "end": "2206730"
  },
  {
    "text": "So if you end up at state\n4, you are done. We are there. If you end up at state\n1, then what?",
    "start": "2206730",
    "end": "2216850"
  },
  {
    "text": "Starting from state 1 there's\ntwo possibilities. Either eventually you're going\nto end up at state 4, or",
    "start": "2216850",
    "end": "2225359"
  },
  {
    "text": "eventually you're going\nto end up at state 5. What's the probability\nof this happening?",
    "start": "2225360",
    "end": "2234310"
  },
  {
    "text": "We don't know what it is, but\nit's what we defined to be a1.",
    "start": "2234310",
    "end": "2239680"
  },
  {
    "text": "This is the probability -- a1 is the probability -- that eventually you settle in\nstate 4 given that the initial",
    "start": "2239680",
    "end": "2246650"
  },
  {
    "text": "state was 1. So this probability is a1. So our event of interest\ncan happen in two ways.",
    "start": "2246650",
    "end": "2254510"
  },
  {
    "text": "Either I go there directly,\nor I go here with probability 0.6.",
    "start": "2254510",
    "end": "2259710"
  },
  {
    "text": "And given that I go there,\neventually I end up at state 4, which happens with\nprobability a1.",
    "start": "2259710",
    "end": "2266540"
  },
  {
    "text": "So the total probability of\nending up at state 4 is going",
    "start": "2266540",
    "end": "2272140"
  },
  {
    "text": "to be the sum of the\nprobabilities of the different ways that this event\ncan happen.",
    "start": "2272140",
    "end": "2277230"
  },
  {
    "text": "So our equation, in this case,\nis going to be, that's a2, is",
    "start": "2277230",
    "end": "2284250"
  },
  {
    "text": "going to be 0.2 (that's the\nprobability of going there directly) plus with probability\n0.8 I end up at",
    "start": "2284250",
    "end": "2291210"
  },
  {
    "text": "state 1, and then from state 1\nI will end up at state 4 with",
    "start": "2291210",
    "end": "2297160"
  },
  {
    "text": "probability a1. So this is one particular\nequation that we've got for",
    "start": "2297160",
    "end": "2305330"
  },
  {
    "text": "what happens if we start\nfrom this state. We can do a similar argument\nstarting from any other state.",
    "start": "2305330",
    "end": "2312450"
  },
  {
    "text": "Starting from state i the\nprobability that eventually I end up at state 4 is, we\nconsider the different",
    "start": "2312450",
    "end": "2319960"
  },
  {
    "text": "possible scenarios of where do\nI go next, which is my state j, with probability Pij.",
    "start": "2319960",
    "end": "2326440"
  },
  {
    "text": "Next time I go to j, and given\nthat I started at j, this is the probability that I\nend up at state 4.",
    "start": "2326440",
    "end": "2333630"
  },
  {
    "text": "So this equation that we have\nhere is just an abstract version in symbols of what we\nwrote down for the particular",
    "start": "2333630",
    "end": "2342540"
  },
  {
    "text": "case where the initial\nstate was 2. So you write down an equation\nof this type for every state",
    "start": "2342540",
    "end": "2348880"
  },
  {
    "text": "inside here. You'll have a separate equation\nfor a1, a2, and a3.",
    "start": "2348880",
    "end": "2355520"
  },
  {
    "text": "And that's going to be a system\nof 3 equations with 3 unknowns, the a's inside\nthe transient states.",
    "start": "2355520",
    "end": "2365250"
  },
  {
    "text": "So you can solve that 3 by\n3 system of equations. Fortunately, it turns out to\nhave a unique solution, and so",
    "start": "2365250",
    "end": "2373589"
  },
  {
    "text": "once you solve it you have found\nthe probabilities of absorption and the probability\nthat eventually you get",
    "start": "2373590",
    "end": "2380880"
  },
  {
    "text": "absorbed at state 4. ",
    "start": "2380880",
    "end": "2391540"
  },
  {
    "text": "Now, in the picture that we had\nhere, this was a single",
    "start": "2391540",
    "end": "2396790"
  },
  {
    "text": "state, and that one was\na single state. How do things change if our\nrecurrent, or trapping sets",
    "start": "2396790",
    "end": "2406500"
  },
  {
    "text": "consist of multiple states? Well, it doesn't really matter\nthat we have multiple states.",
    "start": "2406500",
    "end": "2416820"
  },
  {
    "text": "All that matters is that this\nis one lump and once we get there we are stuck in there.",
    "start": "2416820",
    "end": "2424150"
  },
  {
    "text": "So if the picture was, let's\nsay, like this, 0.1 and 0.2,",
    "start": "2424150",
    "end": "2433170"
  },
  {
    "text": "that basically means that\nwhenever you are in that state there's a total probability of\n0.3 of ending in that lump and",
    "start": "2433170",
    "end": "2442619"
  },
  {
    "text": "getting stuck inside\nthat lump. So you would take that picture\nand change it and make it",
    "start": "2442620",
    "end": "2450660"
  },
  {
    "text": "instead a total probability of\n0.3, of ending somewhere",
    "start": "2450660",
    "end": "2457329"
  },
  {
    "text": "inside that lump. And similarly, you take this\nlump and you view it as just",
    "start": "2457330",
    "end": "2463670"
  },
  {
    "text": "one entity, and from any state\nyou record the total probability that given\nthat I'm here I",
    "start": "2463670",
    "end": "2470090"
  },
  {
    "text": "end up in that entity. So basically, if the only\nthing you care is the",
    "start": "2470090",
    "end": "2475539"
  },
  {
    "text": "probability that you're going\nto end up in this lump, you can replace that lump with a\nsingle state, view it as a",
    "start": "2475540",
    "end": "2482830"
  },
  {
    "text": "single state, and calculate probabilities using this formula. ",
    "start": "2482830",
    "end": "2493829"
  },
  {
    "text": "All right, so now we know\nwhere the chain is going to get to. At least we know\nprobabilistically.",
    "start": "2493830",
    "end": "2499850"
  },
  {
    "text": "We know with what probability\nit is going to go here, and that also tells us the\nprobability that eventually",
    "start": "2499850",
    "end": "2505160"
  },
  {
    "text": "it's going to get there. Other question, how long is it\ngoing to take until we get to",
    "start": "2505160",
    "end": "2515780"
  },
  {
    "text": "either this state\nor that state? We can call that event\nabsorption, meaning that the",
    "start": "2515780",
    "end": "2522160"
  },
  {
    "text": "state got somewhere into a\nrecurrent class from which it could not get out. ",
    "start": "2522160",
    "end": "2532339"
  },
  {
    "text": "Okay. Let's deal with that question\nfor the case where we have only 1 absorbing state.",
    "start": "2532340",
    "end": "2539320"
  },
  {
    "text": "So here our Markov chain is a\nlittle simpler than the one in the previous slide. We've got our transient\nstates, we've got our",
    "start": "2539320",
    "end": "2545870"
  },
  {
    "text": "recurrent state, and once you\nget into the recurrent state you just stay there.",
    "start": "2545870",
    "end": "2551770"
  },
  {
    "text": "So here we're certain that no\nmatter where we start we're going to end up here.",
    "start": "2551770",
    "end": "2557270"
  },
  {
    "text": "How long is it going to take? Well, we don't know. It's a random variable.",
    "start": "2557270",
    "end": "2562540"
  },
  {
    "text": "The expected value of that\nrandom variable, let's call it mu. But how long it takes to get\nthere certainly depends on",
    "start": "2562540",
    "end": "2570510"
  },
  {
    "text": "where we start. So let's put in our notation\nagain this index i that",
    "start": "2570510",
    "end": "2576390"
  },
  {
    "text": "indicates where we\nstarted from. And now the argument is going to\nbe of the same type as the",
    "start": "2576390",
    "end": "2583300"
  },
  {
    "text": "one we used before. We can think in terms of a tree\nonce more, that considers",
    "start": "2583300",
    "end": "2591619"
  },
  {
    "text": "all the possible options. So suppose that you\nstart at state 1. ",
    "start": "2591620",
    "end": "2599060"
  },
  {
    "text": "Starting from state 1, the\nexpected time until you end up",
    "start": "2599060",
    "end": "2604110"
  },
  {
    "text": "dropping states is mu1. Now, starting from state 1, what\nare the possibilities?",
    "start": "2604110",
    "end": "2610700"
  },
  {
    "text": "You make your first transition,\nand that first transition is going to take\nyou either to state",
    "start": "2610700",
    "end": "2616550"
  },
  {
    "text": "2 or to state 3. It takes you to state 2 with\nprobability 0.6, it takes you",
    "start": "2616550",
    "end": "2622010"
  },
  {
    "text": "to state 3 with probability\n0.4.",
    "start": "2622010",
    "end": "2628320"
  },
  {
    "text": "Starting from state 2,\neventually you're going to get to state 4.",
    "start": "2628320",
    "end": "2634410"
  },
  {
    "text": "How long does it take? We don't know, it's\na random variable. But the expected time until\nthis happens is mu2.",
    "start": "2634410",
    "end": "2642325"
  },
  {
    "text": " Starting from state 2, how long\ndoes it take you to get",
    "start": "2642325",
    "end": "2648250"
  },
  {
    "text": "to state 4. And similarly starting from\nstate 3, it's going to take",
    "start": "2648250",
    "end": "2653870"
  },
  {
    "text": "you on the average mu3\ntime steps until you get to state 4.",
    "start": "2653870",
    "end": "2660070"
  },
  {
    "text": "So what's the expected value\nof the time until I end at state 4?",
    "start": "2660070",
    "end": "2665790"
  },
  {
    "start": "2665790",
    "end": "2671070"
  },
  {
    "text": "So with probability 0.6, I'm\ngoing to end up at state 2 and",
    "start": "2671070",
    "end": "2677910"
  },
  {
    "text": "from there on it's going to be\nexpected time mu2, and with probability 0.4 I'm going to\nend up at state 3, and from",
    "start": "2677910",
    "end": "2685849"
  },
  {
    "text": "there it's going to take\nme so much time. So this is the expected time\nit's going to take me after",
    "start": "2685850",
    "end": "2692790"
  },
  {
    "text": "the first transition. But we also spent 1 time step\nfor the first transition.",
    "start": "2692790",
    "end": "2699420"
  },
  {
    "text": "The total time to get there\nis the time of the first transition, which is 1, plus\nthe expected time starting",
    "start": "2699420",
    "end": "2706330"
  },
  {
    "text": "from the next state. This expression here is the\nexpected time starting from the next state, but we also need\nto account for the first",
    "start": "2706330",
    "end": "2713640"
  },
  {
    "text": "transition, so we add 1. And this is going\nto be our mu1. ",
    "start": "2713640",
    "end": "2721150"
  },
  {
    "text": "So once more we have a linear\nequation that ties together the different mu's.",
    "start": "2721150",
    "end": "2727930"
  },
  {
    "text": "And the equation starting from\nstate 4 in this case, of course is going to be simple,\nstarting from that state the",
    "start": "2727930",
    "end": "2735620"
  },
  {
    "text": "expected number of steps it\ntakes you to get there for the first time is of course, 0\nbecause you're already there.",
    "start": "2735620",
    "end": "2742220"
  },
  {
    "text": "So for that state this is fine,\nand for all the other states you get an equation\nof this form.",
    "start": "2742220",
    "end": "2748279"
  },
  {
    "text": "Now we're going to have an\nequation for every state. It's a system of linear\nequations, once more we can",
    "start": "2748280",
    "end": "2753760"
  },
  {
    "text": "solve them, and this gives us\nthe expected times until our chain gets absorbed in\nthis absorbing state.",
    "start": "2753760",
    "end": "2763890"
  },
  {
    "text": "And it's nice to know that\nthis system of equations always has a unique solution.",
    "start": "2763890",
    "end": "2769510"
  },
  {
    "text": "OK so this was the expected\ntime to absorption. For this case where we had this\nscene absorbing state.",
    "start": "2769510",
    "end": "2776720"
  },
  {
    "text": "Suppose that we have our\ntransient states and that we",
    "start": "2776720",
    "end": "2783740"
  },
  {
    "text": "have multiple recurrent\nclasses, or multiple absorbing states. ",
    "start": "2783740",
    "end": "2793850"
  },
  {
    "text": "Suppose you've got the\npicture like this. And we want to calculate the\nexpected time until we get",
    "start": "2793850",
    "end": "2802040"
  },
  {
    "text": "here or there. Expected time until we get\nto an absorbing state.",
    "start": "2802040",
    "end": "2807830"
  },
  {
    "text": "What's the trick? Well, we can lump both of these\nstates together and",
    "start": "2807830",
    "end": "2815010"
  },
  {
    "text": "think of them as just one bad\nstate, one place for which",
    "start": "2815010",
    "end": "2820660"
  },
  {
    "text": "we're interested in how long\nit takes us to get there. So lump them as one state, and\naccordingly kind of merge all",
    "start": "2820660",
    "end": "2830250"
  },
  {
    "text": "of those probabilities. So starting from here, my\nprobability that the next I",
    "start": "2830250",
    "end": "2835470"
  },
  {
    "text": "end up in this lump and they\nget absorbed is going to be this probability plus\nthat probability.",
    "start": "2835470",
    "end": "2841630"
  },
  {
    "text": "So we would change\nthat picture. Think of this as being\njust one big state.",
    "start": "2841630",
    "end": "2850080"
  },
  {
    "text": "And sort of add those two\nprobabilities together to come",
    "start": "2850080",
    "end": "2856080"
  },
  {
    "text": "up with a single probability,\nwhich is the probability that starting from here next\ntime I find myself at",
    "start": "2856080",
    "end": "2862590"
  },
  {
    "text": "some absorbing state. So once you know how to deal\nwith a situation like this,",
    "start": "2862590",
    "end": "2868510"
  },
  {
    "text": "you can also find expected times\nto absorption for the case where you've got multiple\nabsorbing states.",
    "start": "2868510",
    "end": "2875190"
  },
  {
    "text": "You just lump all of those\nmultiple absorbing states into a single one. ",
    "start": "2875190",
    "end": "2881550"
  },
  {
    "start": "2881000",
    "end": "3109000"
  },
  {
    "text": "Finally, there's a\nkind of related quantity that's of interest.",
    "start": "2881550",
    "end": "2889600"
  },
  {
    "text": "The question is almost the same\nas in the previous slide, except that here we do not have\nany absorbing states.",
    "start": "2889600",
    "end": "2896950"
  },
  {
    "text": "Rather, we have a single\nrecurrent class of states. ",
    "start": "2896950",
    "end": "2905320"
  },
  {
    "text": "You start at some state i. You have a special state,\nthat is state s.",
    "start": "2905320",
    "end": "2911780"
  },
  {
    "text": "And you ask the question, how\nlong is it going to take me until I get to s for\nthe first time?",
    "start": "2911780",
    "end": "2919040"
  },
  {
    "text": "It's a single recurrent\nclass of states. So you know that the state keeps\ncirculating here and it keeps visiting all of\nthe possible states.",
    "start": "2919040",
    "end": "2926609"
  },
  {
    "text": "So eventually this state\nwill be visited. How long does it take\nfor this to happen?",
    "start": "2926610",
    "end": "2932070"
  },
  {
    "text": " Ok. So we're interested in how\nlong it takes for this to",
    "start": "2932070",
    "end": "2938820"
  },
  {
    "text": "happen, how long it takes until\nwe get to s for the first time. And we don't care about what\nhappens afterwards.",
    "start": "2938820",
    "end": "2946480"
  },
  {
    "text": "So we might as well change this\npicture and remove the transitions out of s and to make\nthem self transitions.",
    "start": "2946480",
    "end": "2955470"
  },
  {
    "text": "Is the answer going to change? No. The only thing that we changed\nwas what happens",
    "start": "2955470",
    "end": "2962890"
  },
  {
    "text": "after you get to s. But what happens after you\nget to s doesn't matter.",
    "start": "2962890",
    "end": "2968810"
  },
  {
    "text": "The question we're dealing with\nis how long does it take us to get to s.",
    "start": "2968810",
    "end": "2973900"
  },
  {
    "text": "So essentially, it's after we\ndo this transformation -- it's the same question as\nbefore, what's the time it",
    "start": "2973900",
    "end": "2980740"
  },
  {
    "text": "takes until eventually\nwe hit this state. And it's now in this new\npicture, this state is an",
    "start": "2980740",
    "end": "2986390"
  },
  {
    "text": "absorbing state. Or you can just think from\nfirst principles. Starting from the state itself,\ns, it takes you 0 time",
    "start": "2986390",
    "end": "2995720"
  },
  {
    "text": "steps until you get to s. Starting from anywhere else,\nyou need one transition and",
    "start": "2995720",
    "end": "3001609"
  },
  {
    "text": "then after the first transition\nyou find yourself at state j with probability Pij\nand from then on you are",
    "start": "3001610",
    "end": "3009560"
  },
  {
    "text": "going to take expected time\nTj until you get to that terminal state s.",
    "start": "3009560",
    "end": "3014710"
  },
  {
    "text": "So once more these equations\nhave a unique solution, you can solve them and\nfind the answer. And finally, there's a related\nquestion, which is the mean",
    "start": "3014710",
    "end": "3022530"
  },
  {
    "text": "recurrence time of s. In that question you start\nat s, the chain will move",
    "start": "3022530",
    "end": "3030490"
  },
  {
    "text": "randomly, and you ask how long\nis it going to take until I come back to s for\nthe next time.",
    "start": "3030490",
    "end": "3037160"
  },
  {
    "text": "So notice the difference. Here we're talking the first\ntime after time 0, whereas",
    "start": "3037160",
    "end": "3042670"
  },
  {
    "text": "here it's just the first\ntime anywhere. So here if you start from\ns, Ts* is not 0.",
    "start": "3042670",
    "end": "3051250"
  },
  {
    "text": "You want to do at least one\ntransition and that's how long it's going to take me until\nit gets back to s.",
    "start": "3051250",
    "end": "3057359"
  },
  {
    "text": "Well, how long does it take\nme until I get back to s? I do my first transition, and\nthen after my first transition",
    "start": "3057360",
    "end": "3066059"
  },
  {
    "text": "I calculate the expected time\nfrom the next state how long",
    "start": "3066060",
    "end": "3071920"
  },
  {
    "text": "it's going to take me until\nI come back to s. So all of these equations that I\nwrote down, they all kind of",
    "start": "3071920",
    "end": "3080200"
  },
  {
    "text": "look the same. But they are different. So you can either memorize all\nof these equations, or instead",
    "start": "3080200",
    "end": "3087210"
  },
  {
    "text": "what's better is to just\nto get the basic idea. That is, to calculate\nprobabilities or expected",
    "start": "3087210",
    "end": "3093140"
  },
  {
    "text": "values you use the total\nprobability or total expectation theorem and\nconditional the first",
    "start": "3093140",
    "end": "3098260"
  },
  {
    "text": "transition and take\nit from there. So you're going to get a little\nbit of practice with these skills in recitation\ntomorrow, and of course it's",
    "start": "3098260",
    "end": "3107276"
  },
  {
    "text": "in your problem set as well. ",
    "start": "3107276",
    "end": "3109980"
  }
]