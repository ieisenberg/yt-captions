[
  {
    "start": "4880",
    "end": "4880"
  },
  {
    "text": "Here, we have a\nspreadsheet in LibreOffice",
    "start": "4880",
    "end": "7040"
  },
  {
    "text": "that contains all of our data.",
    "start": "7040",
    "end": "9180"
  },
  {
    "text": "Up here, we have the\nbasic data, which",
    "start": "9180",
    "end": "10870"
  },
  {
    "text": "are the price-per-click\nand click-through-rate.",
    "start": "10870",
    "end": "14350"
  },
  {
    "text": "Below, we have the\naverage price per display,",
    "start": "14350",
    "end": "17480"
  },
  {
    "text": "which we will actually be using.",
    "start": "17480",
    "end": "18820"
  },
  {
    "text": "Below it, we have the\nbudgets, and below",
    "start": "18820",
    "end": "21039"
  },
  {
    "text": "that we have the\nquery estimates.",
    "start": "21040",
    "end": "23240"
  },
  {
    "text": "After the data, we then\nhave the variables.",
    "start": "23240",
    "end": "25910"
  },
  {
    "text": "So these are the x_A1s through\nx_A3s, the x_T1s through x_T3s",
    "start": "25910",
    "end": "30380"
  },
  {
    "text": "and the x_V1s through x_V3s that\nwe saw in the previous video.",
    "start": "30380",
    "end": "36739"
  },
  {
    "text": "And below those, we have the\nobjective, the constraints,",
    "start": "36740",
    "end": "41100"
  },
  {
    "text": "so that the budgets\nare not exceeded",
    "start": "41100",
    "end": "42940"
  },
  {
    "text": "and that the query\nestimates are not exceeded.",
    "start": "42940",
    "end": "46329"
  },
  {
    "text": "So we'll have to fill in all\nof these expressions, which",
    "start": "46330",
    "end": "49450"
  },
  {
    "text": "reflect, for example, how\nmany times query one is used",
    "start": "49450",
    "end": "53440"
  },
  {
    "text": "in our advertising strategy,\nhow much of, for instance,",
    "start": "53440",
    "end": "56960"
  },
  {
    "text": "T-Mobile's budget we use in\nyour advertising strategy,",
    "start": "56960",
    "end": "59969"
  },
  {
    "text": "as well as the objective, which\nis the total average revenue",
    "start": "59970",
    "end": "64349"
  },
  {
    "text": "from our advertising strategy.",
    "start": "64349",
    "end": "66460"
  },
  {
    "text": "Let's start by defining the\nobjective of our problem.",
    "start": "66460",
    "end": "70900"
  },
  {
    "text": "To form the objective, we go\nto the cell next to revenue,",
    "start": "70900",
    "end": "73789"
  },
  {
    "text": "and we start by\nwriting, =SUMPRODUCT.",
    "start": "73789",
    "end": "75670"
  },
  {
    "text": "The SUMPRODUCT function takes\ntwo collections of cells,",
    "start": "79500",
    "end": "82470"
  },
  {
    "text": "multiplies corresponding cells\ntogether, and adds them up.",
    "start": "82470",
    "end": "85940"
  },
  {
    "text": "Here we want to use SUMPRODUCT\nto multiply the average prices",
    "start": "85940",
    "end": "88980"
  },
  {
    "text": "per display with\nthe number of times",
    "start": "88980",
    "end": "90950"
  },
  {
    "text": "we display each ad\nwith each query.",
    "start": "90950",
    "end": "93869"
  },
  {
    "text": "Our variables are all the\ncells between B35 and D37.",
    "start": "93870",
    "end": "98560"
  },
  {
    "text": "And the average\nprice per display",
    "start": "98560",
    "end": "100430"
  },
  {
    "text": "is contained in all the\ncells between B17 and D19.",
    "start": "100430",
    "end": "104430"
  },
  {
    "text": "So we need to input\nthese into the function.",
    "start": "104430",
    "end": "106990"
  },
  {
    "text": "So we write B35:D37 comma,\nso the comma indicates that",
    "start": "106990",
    "end": "117270"
  },
  {
    "text": "we're moving on to a\nnew collection of cells.",
    "start": "117270",
    "end": "120380"
  },
  {
    "text": "Then we include B17:D19.",
    "start": "120380",
    "end": "127880"
  },
  {
    "text": "We press Enter, and so now\nwe have our expression,",
    "start": "127880",
    "end": "131510"
  },
  {
    "text": "which reflects the objective\nvalue for our advertising",
    "start": "131510",
    "end": "134530"
  },
  {
    "text": "strategy.",
    "start": "134530",
    "end": "136160"
  },
  {
    "text": "Now to compute how much of\neach advertiser's budget",
    "start": "136160",
    "end": "138760"
  },
  {
    "text": "we're using, we're going to use\nthe average price per display",
    "start": "138760",
    "end": "141750"
  },
  {
    "text": "and the decision variables of\neach individual advertiser.",
    "start": "141750",
    "end": "145220"
  },
  {
    "text": "So to get, for example,\nAT&T's budget usage,",
    "start": "145220",
    "end": "148810"
  },
  {
    "text": "we would use SUMPRODUCT\nagain in the same way",
    "start": "148810",
    "end": "150880"
  },
  {
    "text": "that we used it\nfor the objective,",
    "start": "150880",
    "end": "152560"
  },
  {
    "text": "but this time we\nwould use it just",
    "start": "152560",
    "end": "154500"
  },
  {
    "text": "for AT&T's decision variables\nand AT&T's average prices",
    "start": "154500",
    "end": "157960"
  },
  {
    "text": "per display.",
    "start": "157960",
    "end": "159520"
  },
  {
    "text": "So we use SUMPRODUCT\nagain, as I mentioned.",
    "start": "159520",
    "end": "161320"
  },
  {
    "text": "So we write =SUMPRODUCT, but\nthis time we select the cells",
    "start": "161320",
    "end": "167230"
  },
  {
    "text": "between B35 and D35.",
    "start": "167230",
    "end": "169900"
  },
  {
    "text": "So we write B35:D35.",
    "start": "169900",
    "end": "173530"
  },
  {
    "text": "These are the cells that\ncorrespond to AT&T's decision",
    "start": "173530",
    "end": "176440"
  },
  {
    "text": "variables.",
    "start": "176440",
    "end": "177870"
  },
  {
    "text": "For the second\ncollection of cells,",
    "start": "177870",
    "end": "179629"
  },
  {
    "text": "we select the cells\nbetween B17 and D17.",
    "start": "179630",
    "end": "185860"
  },
  {
    "text": "These are the cells\nthat correspond",
    "start": "185860",
    "end": "187320"
  },
  {
    "text": "to AT&T's average\nprices per display.",
    "start": "187320",
    "end": "190810"
  },
  {
    "text": "We can do the same thing\nfor T-Mobile and Verizon.",
    "start": "190810",
    "end": "192980"
  },
  {
    "text": "In this case, we don't need to\nenter the expressions again.",
    "start": "192980",
    "end": "196440"
  },
  {
    "text": "We can just simply\ndrag these expressions,",
    "start": "196440",
    "end": "199510"
  },
  {
    "text": "and LibreOffice\nwill conveniently",
    "start": "199510",
    "end": "202629"
  },
  {
    "text": "fill the expressions in for us.",
    "start": "202630",
    "end": "205890"
  },
  {
    "text": "And now we need to do a similar\nthing for the number of times",
    "start": "205890",
    "end": "208930"
  },
  {
    "text": "that we use each query.",
    "start": "208930",
    "end": "210329"
  },
  {
    "text": "So, for example, to get the\nnumber of times query one",
    "start": "210329",
    "end": "212540"
  },
  {
    "text": "is used, we need\nto add the cells",
    "start": "212540",
    "end": "214200"
  },
  {
    "text": "corresponding to query one.",
    "start": "214200",
    "end": "216480"
  },
  {
    "text": "In the spreadsheet, these\nare the cells corresponding",
    "start": "216480",
    "end": "218690"
  },
  {
    "text": "to B35 and B37.",
    "start": "218690",
    "end": "221190"
  },
  {
    "text": "And in this case, we simply need\nto add the decision variable",
    "start": "221190",
    "end": "224010"
  },
  {
    "text": "cells -- we don't need to\nmultiply them with any other",
    "start": "224010",
    "end": "226260"
  },
  {
    "text": "cells.",
    "start": "226260",
    "end": "227049"
  },
  {
    "text": "So we just need to\nuse the sum function.",
    "start": "227050",
    "end": "228860"
  },
  {
    "text": "So we write =SUM, and again,\nwe're using the cell's B35:B37.",
    "start": "228860",
    "end": "241330"
  },
  {
    "text": "For query two, we\nhave to use SUM again.",
    "start": "241330",
    "end": "243930"
  },
  {
    "text": "And we need to SUM the cells\ncorresponding to query two,",
    "start": "243930",
    "end": "246269"
  },
  {
    "text": "so we write =SUM(C35:C37).",
    "start": "246270",
    "end": "254870"
  },
  {
    "text": "And for query three, we\nneed to use SUM again,",
    "start": "254870",
    "end": "257028"
  },
  {
    "text": "but this time we need to\nuse cells D35 through D37.",
    "start": "257029",
    "end": "260768"
  },
  {
    "text": "So we write D35:D37.",
    "start": "260769",
    "end": "266470"
  },
  {
    "text": "So we've now defined\nall of the expressions",
    "start": "266470",
    "end": "268460"
  },
  {
    "text": "that we'll need for our model.",
    "start": "268460",
    "end": "270440"
  },
  {
    "text": "Now we need to input\nthe decision variables,",
    "start": "270440",
    "end": "272560"
  },
  {
    "text": "the objective, and\nthe constraints",
    "start": "272560",
    "end": "274690"
  },
  {
    "text": "into the LibreOffice Solver.",
    "start": "274690",
    "end": "276830"
  },
  {
    "text": "So we need to first open\nup the LibreOffice Solver.",
    "start": "276830",
    "end": "279189"
  },
  {
    "text": "So we go to Tools.",
    "start": "279190",
    "end": "281520"
  },
  {
    "text": "We open up Tools, and\nwe click on Solver.",
    "start": "281520",
    "end": "284199"
  },
  {
    "text": "So, to do this now, we\nneed to specify, again",
    "start": "288490",
    "end": "291349"
  },
  {
    "text": "as I mentioned, all the\npieces of the problem.",
    "start": "291350",
    "end": "293690"
  },
  {
    "text": "So for \"Target cell\" --\nso the target cell here is",
    "start": "293690",
    "end": "296490"
  },
  {
    "text": "the objective cell.",
    "start": "296490",
    "end": "297319"
  },
  {
    "text": "So we need to specify\nour objective.",
    "start": "297320",
    "end": "299890"
  },
  {
    "text": "So this cell was just B40.",
    "start": "299890",
    "end": "303600"
  },
  {
    "text": "And we want to maximize this\nas we're maximizing revenue.",
    "start": "303600",
    "end": "307440"
  },
  {
    "text": "The \"changing cells\" here\nare the decision variables.",
    "start": "307440",
    "end": "310400"
  },
  {
    "text": "So this is just a collection\nof cells, B35 through D37.",
    "start": "310400",
    "end": "313800"
  },
  {
    "text": "So we write, B35:D37.",
    "start": "313800",
    "end": "320620"
  },
  {
    "text": "Now, underneath, these\nrows corresponding",
    "start": "320620",
    "end": "323370"
  },
  {
    "text": "to the \"Limiting\nconditions\", these",
    "start": "323370",
    "end": "325380"
  },
  {
    "text": "are just the constraints\nof the problem.",
    "start": "325380",
    "end": "327720"
  },
  {
    "text": "In the first row here, we'll\nhandle the budget constraints.",
    "start": "327720",
    "end": "331010"
  },
  {
    "text": "So under \"Cell reference\" we'll\ninput the budget expression,",
    "start": "331010",
    "end": "334580"
  },
  {
    "text": "and these are contained\nin cells B45 through B47.",
    "start": "334580",
    "end": "338900"
  },
  {
    "text": "So we can enter these or we can\njust click on the input button",
    "start": "338900",
    "end": "344300"
  },
  {
    "text": "and just select\nthem in this way.",
    "start": "344300",
    "end": "346810"
  },
  {
    "text": "And then we click on\nthe shrink button here.",
    "start": "346810",
    "end": "348790"
  },
  {
    "text": "Under \"Operator\", we\nwant to select less than",
    "start": "351950",
    "end": "353920"
  },
  {
    "text": "or equal to because we want to\nensure that the amount that we",
    "start": "353920",
    "end": "356460"
  },
  {
    "text": "use of each budget is\nless than the total budget",
    "start": "356460",
    "end": "358639"
  },
  {
    "text": "of the advertiser.",
    "start": "358640",
    "end": "360970"
  },
  {
    "text": "And here under\n\"Value\", we're going",
    "start": "360970",
    "end": "363280"
  },
  {
    "text": "to select the actual\nbudget amounts, which",
    "start": "363280",
    "end": "365900"
  },
  {
    "text": "are on the right hand\nside of these less than",
    "start": "365900",
    "end": "368050"
  },
  {
    "text": "or equal to signs.",
    "start": "368050",
    "end": "369389"
  },
  {
    "text": "So we select them,\nand we put them in.",
    "start": "369390",
    "end": "374250"
  },
  {
    "text": "So that handles the\nbudget constraints.",
    "start": "374250",
    "end": "376920"
  },
  {
    "text": "And in the second\nrow here, we're",
    "start": "376920",
    "end": "378630"
  },
  {
    "text": "going to handle the query\nestimate constraints.",
    "start": "378630",
    "end": "381220"
  },
  {
    "text": "So here again, under\ncell reference,",
    "start": "381220",
    "end": "384180"
  },
  {
    "text": "we're going to specify the\nexpressions that correspond",
    "start": "384180",
    "end": "386900"
  },
  {
    "text": "to how much we use each query\nin our advertising strategy.",
    "start": "386900",
    "end": "390320"
  },
  {
    "text": "And so these are just the\ncells, B50 through B52,",
    "start": "390320",
    "end": "394280"
  },
  {
    "text": "which we select, and we\ninput them into the solver.",
    "start": "394280",
    "end": "398730"
  },
  {
    "text": "Under operator, we want\nto keep it as less than",
    "start": "398730",
    "end": "400840"
  },
  {
    "text": "or equal to, because we want to\nensure that the amount that we",
    "start": "400840",
    "end": "403650"
  },
  {
    "text": "use each query is less than or\nequal to the expected number",
    "start": "403650",
    "end": "406949"
  },
  {
    "text": "of times that we\nestimate for that query.",
    "start": "406950",
    "end": "411120"
  },
  {
    "text": "And under value, we want to\ninput the query estimates,",
    "start": "411120",
    "end": "414419"
  },
  {
    "text": "which are just the\ncells, D50 through D52.",
    "start": "414420",
    "end": "417530"
  },
  {
    "text": "So, we can just select them\nin this way, and input them.",
    "start": "417530",
    "end": "422010"
  },
  {
    "text": "So, at this point, it\nmight be tempting to think",
    "start": "422010",
    "end": "424470"
  },
  {
    "text": "that we are done, but we have\ntwo more things we need to do.",
    "start": "424470",
    "end": "427710"
  },
  {
    "text": "First, we need to\ntell the solver",
    "start": "427710",
    "end": "429740"
  },
  {
    "text": "to explicitly treat this as a\nlinear optimization problem.",
    "start": "429740",
    "end": "433139"
  },
  {
    "text": "Second, we need to include\nanother set of constraints.",
    "start": "433140",
    "end": "436370"
  },
  {
    "text": "This set of constraints\nrequires each decision variable",
    "start": "436370",
    "end": "438990"
  },
  {
    "text": "to be greater than\nor equal to zero,",
    "start": "438990",
    "end": "440539"
  },
  {
    "text": "since it does not\nmake sense to display",
    "start": "440540",
    "end": "442170"
  },
  {
    "text": "an advertiser with a certain\nquery some negative number",
    "start": "442170",
    "end": "445600"
  },
  {
    "text": "of times.",
    "start": "445600",
    "end": "446900"
  },
  {
    "text": "Now, while we could include\nthese constraints here,",
    "start": "446900",
    "end": "449190"
  },
  {
    "text": "these types of constraints are\nvery common and very typical",
    "start": "449190",
    "end": "452130"
  },
  {
    "text": "in linear optimization models.",
    "start": "452130",
    "end": "453600"
  },
  {
    "text": "They come up all the time.",
    "start": "453600",
    "end": "455010"
  },
  {
    "text": "And, in fact, they\ncome up so often,",
    "start": "455010",
    "end": "456510"
  },
  {
    "text": "that solvers often have an\noption that you can toggle,",
    "start": "456510",
    "end": "459190"
  },
  {
    "text": "that incorporates these\nconstraints automatically.",
    "start": "459190",
    "end": "461830"
  },
  {
    "text": "So to handle both of\nthese considerations.",
    "start": "461830",
    "end": "464430"
  },
  {
    "text": "Let's just click on Options.",
    "start": "464430",
    "end": "467110"
  },
  {
    "text": "And under options, where\nwe have the drop down",
    "start": "467110",
    "end": "469810"
  },
  {
    "text": "menu for \"Solver engine\",\nwe'll click on there,",
    "start": "469810",
    "end": "472950"
  },
  {
    "text": "and then we'll select\nLibreOffice Linear Solver.",
    "start": "472950",
    "end": "475960"
  },
  {
    "text": "This indicates to LibreOffice\nto use the linear optimization",
    "start": "475960",
    "end": "478830"
  },
  {
    "text": "solver for this problem.",
    "start": "478830",
    "end": "481330"
  },
  {
    "text": "And under the settings\nhere, one of the settings,",
    "start": "481330",
    "end": "483669"
  },
  {
    "text": "is to assume that the\nvariables are non-negative.",
    "start": "483670",
    "end": "487630"
  },
  {
    "text": "We'll just activate\nthat option and hit OK.",
    "start": "487630",
    "end": "490730"
  },
  {
    "text": "And now we're ready\nto solve the problem.",
    "start": "490730",
    "end": "492790"
  },
  {
    "text": "So if we hit solve, we\nget this dialogue that",
    "start": "492790",
    "end": "496970"
  },
  {
    "text": "says that solving\nsuccessfully finished,",
    "start": "496970",
    "end": "499070"
  },
  {
    "text": "and that our result,\nin this case,",
    "start": "499070",
    "end": "500830"
  },
  {
    "text": "this is the objective\nfunction, was 428.",
    "start": "500830",
    "end": "503949"
  },
  {
    "text": "So we have an\nadvertising strategy",
    "start": "503950",
    "end": "506440"
  },
  {
    "text": "that achieves an\naverage revenue of $428.",
    "start": "506440",
    "end": "510660"
  },
  {
    "text": "Let's just hit here, Keep\nResult, and just take a look.",
    "start": "510660",
    "end": "514700"
  },
  {
    "text": "The cells that we specified\nas the decision variables",
    "start": "517730",
    "end": "520279"
  },
  {
    "text": "have been populated with\ntheir optimal values.",
    "start": "520280",
    "end": "523849"
  },
  {
    "text": "So our optimal strategy, based\non this linear optimization",
    "start": "523850",
    "end": "527269"
  },
  {
    "text": "solution is the\nfollowing: so we're",
    "start": "527270",
    "end": "529150"
  },
  {
    "text": "going to show AT&T with\nquery one 40 times;",
    "start": "529150",
    "end": "533670"
  },
  {
    "text": "we're going to show AT&T\nwith query two also 40 times;",
    "start": "533670",
    "end": "537760"
  },
  {
    "text": "we're going to show AT&T\nwith query three 80 times;",
    "start": "537760",
    "end": "541220"
  },
  {
    "text": "for T-Mobile, we'll show\nT-Mobile's ad with query one",
    "start": "541220",
    "end": "543949"
  },
  {
    "text": "100 times; and we're only\ngoing to show Verizon's",
    "start": "543950",
    "end": "547500"
  },
  {
    "text": "ad with query two, and we're\ngoing to show it 40 times.",
    "start": "547500",
    "end": "550650"
  },
  {
    "text": "So this specifies, completely,\nthe advertising strategy",
    "start": "550650",
    "end": "553970"
  },
  {
    "text": "that Google should use.",
    "start": "553970",
    "end": "555250"
  },
  {
    "text": "And this strategy,\nas we just saw,",
    "start": "555250",
    "end": "557190"
  },
  {
    "text": "achieves an average\nrevenue of $428.",
    "start": "557190",
    "end": "561820"
  },
  {
    "text": "Let's double check\nthat the solution",
    "start": "561820",
    "end": "563320"
  },
  {
    "text": "is feasible by looking at\nthe budgets and the query",
    "start": "563320",
    "end": "565610"
  },
  {
    "text": "estimates.",
    "start": "565610",
    "end": "566620"
  },
  {
    "text": "So if we scroll\ndown here, we see",
    "start": "566620",
    "end": "568760"
  },
  {
    "text": "that AT&T's budget that\nwe use here is $168.",
    "start": "568760",
    "end": "574640"
  },
  {
    "text": "AT&T's actual budget is $170.",
    "start": "574640",
    "end": "579920"
  },
  {
    "text": "We can see that for the\nother two advertisers,",
    "start": "579920",
    "end": "582200"
  },
  {
    "text": "that we are in the\nclear for both of them.",
    "start": "582200",
    "end": "584950"
  },
  {
    "text": "Similarly, with\nthe query estimates",
    "start": "584950",
    "end": "586460"
  },
  {
    "text": "we can see that\nfor all the queries",
    "start": "586460",
    "end": "589180"
  },
  {
    "text": "that we are considering\nhere, we do not",
    "start": "589180",
    "end": "591339"
  },
  {
    "text": "use any query more\nthan the estimate",
    "start": "591340",
    "end": "593660"
  },
  {
    "text": "for the number of times that\nwe expect to see that query.",
    "start": "593660",
    "end": "596370"
  },
  {
    "text": "And finally, as one last check,\nall the decision variable",
    "start": "596370",
    "end": "600779"
  },
  {
    "text": "values that we see here are all\ngreater than or equal to zero.",
    "start": "600780",
    "end": "604380"
  },
  {
    "text": "So we're not using\nany advertiser",
    "start": "604380",
    "end": "607020"
  },
  {
    "text": "with any query a negative\nnumber times, which",
    "start": "607020",
    "end": "609050"
  },
  {
    "text": "obviously would not make sense.",
    "start": "609050",
    "end": "611060"
  },
  {
    "text": "So, the solution as a whole\nis a feasible solution.",
    "start": "611060",
    "end": "615450"
  },
  {
    "text": "In the next video,\nwe'll show how",
    "start": "615450",
    "end": "617280"
  },
  {
    "text": "to solve the problem using\na greedy common sense",
    "start": "617280",
    "end": "619720"
  },
  {
    "text": "approach, where we will allocate\nads to queries by prioritizing",
    "start": "619720",
    "end": "623120"
  },
  {
    "text": "them by their average\nprice per display.",
    "start": "623120",
    "end": "626089"
  }
]