[
  {
    "start": "0",
    "end": "250000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6920"
  },
  {
    "text": "continue to offer high quality\neducational resources for free. To make a donation or to\nview additional materials",
    "start": "6920",
    "end": "13580"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "13580",
    "end": "23950"
  },
  {
    "text": "NEHA NARULA: OK, let's\ngo ahead and get started. So Tadge is in\nCalifornia today, so he",
    "start": "23950",
    "end": "30520"
  },
  {
    "text": "asked me to give\ntoday's lecture, which will be based on\na research project that we're working\non at the DCI.",
    "start": "30520",
    "end": "37630"
  },
  {
    "text": "This is actually\nreally connected to confidential transactions\nand confidential assets, which I think that you guys\ncovered in a previous class.",
    "start": "37630",
    "end": "45760"
  },
  {
    "text": "So Pedersen commitments will\nplay a very important role in the work I'm\nabout to present. I want to present this\nwork that we've been doing.",
    "start": "45760",
    "end": "54280"
  },
  {
    "text": "This is joint work with Willy\nVasquez, who was an MIT M.Eng. He graduated and moved\nto UT-Austin, and Madars",
    "start": "54280",
    "end": "61700"
  },
  {
    "text": "Virza, who is a research\nscientist with the DCI. And this project\nis called zkLedger. It's about\nprivacy-preserving auditing",
    "start": "61700",
    "end": "69460"
  },
  {
    "text": "for distributed ledgers. So to start with, I\nam not sure how much",
    "start": "69460",
    "end": "74980"
  },
  {
    "text": "work you guys have done on\npermissioned blockchains so far. How much have you\ncovered with respect",
    "start": "74980",
    "end": "80140"
  },
  {
    "text": "to permissioned blockchains? Nothing at all? OK. ",
    "start": "80140",
    "end": "85408"
  },
  {
    "text": "Should we start with what is\na permissioned blockchain, or do you guys feel like\nyou have a handle on what that means or what that is?",
    "start": "85408",
    "end": "91400"
  },
  {
    "text": "In its most generic,\nabstract sense? Yes? AUDIENCE: Does it just mean that\ndifferent people have access",
    "start": "91400",
    "end": "97600"
  },
  {
    "text": "to see parts of the chain? NEHA NARULA: Yeah. So, good question. OK, so these words that we\nuse-- permissioned versus",
    "start": "97600",
    "end": "104620"
  },
  {
    "text": "permissionless--\nusually refer to who has right access to the chain.",
    "start": "104620",
    "end": "109780"
  },
  {
    "text": "So in cryptocurrencies\nlike Bitcoin and Ethereum, theoretically, any one of us\ncould spin up our own ASIC,",
    "start": "109780",
    "end": "117490"
  },
  {
    "text": "get really lucky, mine a\nblock, and put the transactions that we are interested\nin into the chain.",
    "start": "117490",
    "end": "124060"
  },
  {
    "text": "Now of course, no one's\ngoing to accept that block if it violates the majority\nconsensus rules of the chain.",
    "start": "124060",
    "end": "131260"
  },
  {
    "text": "But assuming that it follows\nthe rules, it's well formatted, it has the appropriate proof of\nwork, et cetera, any one of us",
    "start": "131260",
    "end": "138220"
  },
  {
    "text": "could submit a block to\nthe Bitcoin blockchain. Right? There's no permissions\non who is allowed",
    "start": "138220",
    "end": "145180"
  },
  {
    "text": "and who isn't allowed to write\nto the Bitcoin blockchain. ",
    "start": "145180",
    "end": "151719"
  },
  {
    "text": "Permissioned blockchains\nare a different story. These are more like\ndistributed databases.",
    "start": "151720",
    "end": "157210"
  },
  {
    "text": "The idea behind\npermissioned blockchains is that you choose a set\nof actors ahead of time,",
    "start": "157210",
    "end": "162670"
  },
  {
    "text": "and only those\nactors are allowed to write to the blockchain. So you can't just have\nanyone willy-nilly",
    "start": "162670",
    "end": "169870"
  },
  {
    "text": "spinning up a mining\nnode, or spinning up a node in the system, and\nsubmitting transactions",
    "start": "169870",
    "end": "175090"
  },
  {
    "text": "and things to the blockchain. Usually, permissioned\nversus permissionless doesn't say anything\nabout reads, and who can read the blockchain.",
    "start": "175090",
    "end": "181282"
  },
  {
    "text": "We're really just\ntalking about rights. So an important use-- permissioned\nblockchains, I think,",
    "start": "181283",
    "end": "187060"
  },
  {
    "text": "are not really the focus\nof this course, in part because we take the position\nthat the technology behind them",
    "start": "187060",
    "end": "196410"
  },
  {
    "text": "is essentially\ndistributed databases. And there's lovely courses out\nthere on distributed databases.",
    "start": "196410",
    "end": "201640"
  },
  {
    "text": "And there's a lot\nto learn about them, and they're very interesting,\nbut they're not necessarily",
    "start": "201640",
    "end": "206799"
  },
  {
    "text": "very closely related\nto cryptocurrencies and the designs of\nthe past decade.",
    "start": "206800",
    "end": "213040"
  },
  {
    "text": "So that's the idea behind\npermissioned blockchains. Now, as I was saying,\nI think that there's a lot of use cases for\npermissioned blockchains.",
    "start": "213040",
    "end": "219950"
  },
  {
    "text": "They're very useful. Distributed databases, in\ngeneral, are very useful. And so let's talk\nabout one of them.",
    "start": "219950",
    "end": "225190"
  },
  {
    "text": "And I'm going to interchangeably\nuse permissioned blockchain and distributed ledger, here.",
    "start": "225190",
    "end": "230470"
  },
  {
    "text": "Distributed ledger,\npermissioned blockchain, I'm sort of saying\nthe same thing.",
    "start": "230470",
    "end": "236316"
  },
  {
    "text": "So permissioned\nblockchains-- any questions, before we dive into the\nuse case in zkLedger,",
    "start": "236317",
    "end": "241720"
  },
  {
    "text": "about permissioned blockchains? Get the idea? It's a whole bunch of\npeople working together",
    "start": "241720",
    "end": "247070"
  },
  {
    "text": "to construct a ledger. So let's start\nwith the structure of the financial system.",
    "start": "247070",
    "end": "252750"
  },
  {
    "start": "250000",
    "end": "546000"
  },
  {
    "text": "And this is setting the\nuse case for zkLedger, and what we were\ntrying to do, and what we were trying to address.",
    "start": "252750",
    "end": "258390"
  },
  {
    "text": "So to start with, there are\ndozens of very large investment banks that are trading\nsecurities, currencies,",
    "start": "258390",
    "end": "265669"
  },
  {
    "text": "commodities, derivatives. Many of these things\nare traded on exchanges, regulated exchanges like NASDAQ\nor the New York Stock Exchange.",
    "start": "265670",
    "end": "274100"
  },
  {
    "text": "But up to 40% are actually\ntraded in unregulated fashion. They're done in a way that's\ncalled over-the-counter,",
    "start": "274100",
    "end": "281690"
  },
  {
    "text": "meaning that there is no\nregulated exchange sitting in the middle\nfacilitating these trades.",
    "start": "281690",
    "end": "287090"
  },
  {
    "text": "Instead, the banks,\nthe entities, trade amongst themselves in a\nslightly more ad hoc fashion.",
    "start": "287090",
    "end": "294260"
  },
  {
    "text": "This represents trillions\nof dollars of the economy. And just to give you\na sense of scale,",
    "start": "294260",
    "end": "300087"
  },
  {
    "text": "the time frequency we're\ndealing, with we're not talking about high-frequency trading. That's not the use case\nthat zkLedger is targeting.",
    "start": "300087",
    "end": "306960"
  },
  {
    "text": "We're thinking like\n10s of trades a minute. These are things that\nare done electronically. It's not like people are--",
    "start": "306960",
    "end": "312788"
  },
  {
    "text": "people might be\ncalling each other up to arrange these trades,\nbut oftentimes they're done electronically. But we're not considering\nhigh-frequency trading.",
    "start": "312788",
    "end": "320540"
  },
  {
    "text": "So a useful abstraction\nfor thinking about a table of these trades\nis a transaction ledger.",
    "start": "320540",
    "end": "329510"
  },
  {
    "text": "So each row in the\nledger is a transaction, transferring assets from\none bank to another.",
    "start": "329510",
    "end": "335690"
  },
  {
    "text": "So this should be very\nfamiliar to everyone. It looks a little bit different\nthan things like Bitcoin, because since this is a ledger\ndesigned for the existing",
    "start": "335690",
    "end": "347420"
  },
  {
    "text": "financial system, we know\nwho the entities are. They have names. They're regulated.",
    "start": "347420",
    "end": "353165"
  },
  {
    "text": "They have companies behind them. We're not talking just\nabout arbitrary public keys.",
    "start": "353165",
    "end": "359180"
  },
  {
    "text": "So each row in the\nledger is a transaction. So here, Citibank is\ntransferring a million dollars.",
    "start": "359180",
    "end": "364412"
  },
  {
    "text": "So that's another\nthing that's very different than cryptocurrencies. Here we have multiple\ndifferent assets being recorded in the ledger.",
    "start": "364412",
    "end": "370530"
  },
  {
    "text": "So we're not talking about a\nledger with a native asset, necessarily. This is not a cryptocurrency.",
    "start": "370530",
    "end": "376250"
  },
  {
    "text": "Really think about this\nlike a table in a database recording transactions. Those transactions might\nbe in dollars, or euros,",
    "start": "376250",
    "end": "383780"
  },
  {
    "text": "or municipal bonds, or\nsecurities, or shares-- they could be anything, right?",
    "start": "383780",
    "end": "388940"
  },
  {
    "text": "So we're just\nrecording transactions. So Citibank is transferring\na million dollars to Goldman Sachs.",
    "start": "388940",
    "end": "394550"
  },
  {
    "text": "JP Morgan is transferring\nmoney to UBS and to Barclays.",
    "start": "394550",
    "end": "399590"
  },
  {
    "text": "OK? So as with\ncryptocurrencies, I think,",
    "start": "399590",
    "end": "404810"
  },
  {
    "text": "cryptocurrencies\nhave inspired people to reconsider the\ncase of a distributed",
    "start": "404810",
    "end": "411080"
  },
  {
    "text": "database as a ledger that\nmultiple entities can write to. And part of that consideration\ninvolves thinking",
    "start": "411080",
    "end": "417560"
  },
  {
    "text": "about digital signatures. So maybe these banks have\npublic, private key pairs.",
    "start": "417560",
    "end": "424400"
  },
  {
    "text": "And perhaps they use their\nkeys to indicate consent on the transaction, right?",
    "start": "424400",
    "end": "430400"
  },
  {
    "text": "This is something that's\ndone under the hood right now, when you think\nabout the protocols we use to exchange data.",
    "start": "430400",
    "end": "435760"
  },
  {
    "text": "But it's not necessarily\ndone explicitly when creating these\ndistributed databases. So they can use their\nkeys to attach signatures",
    "start": "435760",
    "end": "444680"
  },
  {
    "text": "to the transaction\nto indicate a consent to transfer for security. Now, this ledger might be\nmaintained by a third party,",
    "start": "444680",
    "end": "453380"
  },
  {
    "text": "or it could be a\ndistributed database, a permissioned\nblockchain that is run by the transacting parties.",
    "start": "453380",
    "end": "459780"
  },
  {
    "text": " So there are some important\nfinancial invariants",
    "start": "459780",
    "end": "465830"
  },
  {
    "text": "that you want to maintain here\nto verify that transactions are happening correctly, that\nthey're valid, that assets",
    "start": "465830",
    "end": "473500"
  },
  {
    "text": "aren't created out of nowhere. So one of them is\nconsent to transfer.",
    "start": "473500",
    "end": "478610"
  },
  {
    "text": "And we use these\nsignatures for that. Another important\nthing to verify, another important invariant,\nis that the person",
    "start": "478610",
    "end": "484940"
  },
  {
    "text": "doing the transacting actually\nhas the assets to transfer. That they're not making\nup assets out of nowhere,",
    "start": "484940",
    "end": "490950"
  },
  {
    "text": "or they're not double-spending--\nthat there isn't something incorrect happening. And then, that assets are\nneither created nor destroyed.",
    "start": "490950",
    "end": "497860"
  },
  {
    "text": "That we have\nconservation of assets. So these are important financial\ninvariants to maintain. This looks a lot like what\nthe invariants are that we're",
    "start": "497860",
    "end": "505764"
  },
  {
    "text": "trying to maintain in a\ncryptocurrency like Bitcoin or Ethereum, except this\nwas with multiple assets,",
    "start": "505765",
    "end": "510830"
  },
  {
    "text": "and we know who the\npeople are involved. Now, if this ledger were being\nmaintained by an exchange,",
    "start": "510830",
    "end": "521428"
  },
  {
    "text": "then the exchange would be\nresponsible for verifying and validating that all of\nthese transactions are correct.",
    "start": "521429",
    "end": "527810"
  },
  {
    "text": "If this ledger is being\nmaintained by the participants, it's a permissioned\nblockchain, then",
    "start": "527810",
    "end": "533360"
  },
  {
    "text": "everyone can verify and validate\nthat these invariants are being maintained by looking\nat the blockchain,",
    "start": "533360",
    "end": "538940"
  },
  {
    "text": "by checking the\nsignatures, right? So that's great, except\nfor the fact that privacy",
    "start": "538940",
    "end": "548470"
  },
  {
    "start": "546000",
    "end": "857000"
  },
  {
    "text": "is really, really important. And quite a bit\nof data, and quite a bit of sensitive\ninformation, is actually",
    "start": "548470",
    "end": "555070"
  },
  {
    "text": "leaked by looking at\nthese transactions. So if we want to be able to\nmaintain financial invariants,",
    "start": "555070",
    "end": "560350"
  },
  {
    "text": "if we want to be able\nto check and make sure that the ledger is correct-- and I mean, this is the\nwhole point of blockchains,",
    "start": "560350",
    "end": "565550"
  },
  {
    "text": "is that everyone can verify,\nand validate, and reconcile real time.",
    "start": "565550",
    "end": "571029"
  },
  {
    "text": "Then in the act of looking\nat those transactions, you're actually finding out\nreally sensitive information",
    "start": "571030",
    "end": "578320"
  },
  {
    "text": "about banks' trading\nstrategy-- about their intellectual property. OK? For example, a large\ntrade might indicate",
    "start": "578320",
    "end": "585279"
  },
  {
    "text": "that a bank has decided\nto get out of a position. Other banks could\nlearn about this,",
    "start": "585280",
    "end": "590917"
  },
  {
    "text": "notice it on the\nblockchain as they're validating transactions,\nand try to follow suit, driving down the price.",
    "start": "590917",
    "end": "597280"
  },
  {
    "text": "So privacy, especially\nin this type of context, is really important. And I'm sure you can imagine\na lot of other different types",
    "start": "597280",
    "end": "604240"
  },
  {
    "text": "of context in which privacy\nis important as well, right? So we don't want to\nbe in this situation",
    "start": "604240",
    "end": "611650"
  },
  {
    "text": "where we have to\nchoose between privacy and being able to\nvalidate what's going on.",
    "start": "611650",
    "end": "619100"
  },
  {
    "text": "Right? So even if we were to\nuse a trusted third party like an exchange,\nwe still wouldn't",
    "start": "619100",
    "end": "625089"
  },
  {
    "text": "have privacy, necessarily,\nbecause the exchange would be looking at everything\nin the ledger. So that's the goal here that\nwe're trying to achieve.",
    "start": "625090",
    "end": "632959"
  },
  {
    "text": "We're trying to\nachieve this goal where we want to be able to\npublicly verify and validate what's happening in the\nledger, and at the same time,",
    "start": "632960",
    "end": "641350"
  },
  {
    "text": "obtain some amount of\nprivacy for transactions. We don't want all\ntransactions to be public to whoever is\nmaintaining the ledger,",
    "start": "641350",
    "end": "647590"
  },
  {
    "text": "be that a third party\nexchange or a set of banks. So I'm just going to\npause right there and--",
    "start": "647590",
    "end": "653815"
  },
  {
    "text": " do we get the setup, here? Privacy versus\nverification-- we want both.",
    "start": "653815",
    "end": "663030"
  },
  {
    "text": "Any questions about that? Yes? AUDIENCE: I was\nconfused as to how you verify that people--\ntransactions are",
    "start": "663030",
    "end": "669893"
  },
  {
    "text": "correct in their\naccount balances? It's like there's no\nnative assets supplied. NEHA NARULA: Yeah,\nthat's a great question. So I have dollars and\neuros here, right?",
    "start": "669893",
    "end": "678160"
  },
  {
    "text": "How do you know that Citibank\nactually has those dollars to transfer to Goldman Sachs? Right?",
    "start": "678160",
    "end": "683320"
  },
  {
    "text": "Where does that come from? Notice how this is\ntransaction number 90. I'm assuming that there's\na transaction up here--",
    "start": "683320",
    "end": "690340"
  },
  {
    "text": "this is just a\nsubset of the ledger. But as you'll see\nin a moment, we think about this\nrole of depositors",
    "start": "690340",
    "end": "698920"
  },
  {
    "text": "who are allowed to deposit\nassets into the ledger. And so I'm assuming there's a\ntransaction up here somewhere",
    "start": "698920",
    "end": "705070"
  },
  {
    "text": "which in a provable\nway shows that someone we trust to deposit\nassets into the ledger",
    "start": "705070",
    "end": "712260"
  },
  {
    "text": "gave Citibank the dollars\nnecessary for them to give to Goldman Sachs. But you're absolutely right.",
    "start": "712260",
    "end": "718070"
  },
  {
    "text": "If the asset isn't\nnative to the ledger, then you do have that\nconnection to the real world,",
    "start": "718070",
    "end": "723722"
  },
  {
    "text": "where you do need to\napply some level of trust. The question, is it auditable? Can you at least track\nit back up to that point?",
    "start": "723722",
    "end": "731440"
  },
  {
    "text": "Any other questions? OK, great.",
    "start": "731440",
    "end": "737575"
  },
  {
    "text": "So we want to do the following. We want to be able to verify\nthat financial invariants are",
    "start": "737575",
    "end": "742915"
  },
  {
    "text": "maintained, that things\nare correct while achieving privacy. So one good technique\nfor achieving privacy",
    "start": "742915",
    "end": "749210"
  },
  {
    "text": "is simply to encrypt or hide the\ntransactions in the ledger, OK?",
    "start": "749210",
    "end": "755250"
  },
  {
    "text": "So surprisingly, maybe, we\nactually know how to do this.",
    "start": "755250",
    "end": "761780"
  },
  {
    "text": "And to, at the same\ntime, still achieve checking of the\nfinancial invariants.",
    "start": "761780",
    "end": "768589"
  },
  {
    "text": "Here are two systems that\nactually achieve this. The first is Zerocash, which\nwas implemented inside of Zcash,",
    "start": "768590",
    "end": "775820"
  },
  {
    "text": "an anonymous cryptocurrency. In Zcash, transactions\nare completely hidden.",
    "start": "775820",
    "end": "782175"
  },
  {
    "text": "They're completely opaque\nshielded transactions in Zcash. Zcash has two transactions.",
    "start": "782175",
    "end": "787190"
  },
  {
    "text": "Once set is public,\nlike in Bitcoin. The other set are called\nshielded transactions. And in a shielded\ntransaction, you",
    "start": "787190",
    "end": "793970"
  },
  {
    "text": "don't know who the parties\nare who are involved. You don't know the amount of\nthe asset that's transferred.",
    "start": "793970",
    "end": "800630"
  },
  {
    "text": "But you can validate\nthat this was correct, that financial invariants\nwere maintained.",
    "start": "800630",
    "end": "807020"
  },
  {
    "text": "Zerocash and Zcash use a\nprimitive called zero-knowledge proofs, and in\nparticular, zk-SNARKS--",
    "start": "807020",
    "end": "814250"
  },
  {
    "text": "zero knowledge succinct\narguments of knowledge. Those were actually developed\nin part here at MIT.",
    "start": "814250",
    "end": "822830"
  },
  {
    "text": "So using these really\ninteresting cryptographic primitives, we're able to\nmaintain financial invariance",
    "start": "822830",
    "end": "829850"
  },
  {
    "text": "in Zcash. There's another\nsystem called Solidus, which is out of Cornell,\nwhich also achieves this.",
    "start": "829850",
    "end": "836750"
  },
  {
    "text": "You can't tell who\nthe participants are. And you can still maintain\nfinancial invariants.",
    "start": "836750",
    "end": "843360"
  },
  {
    "text": "Solidus uses a completely\ndifferent cryptographic primitive called PVORM.",
    "start": "843360",
    "end": "849412"
  },
  {
    "text": "So you should check\nout both these papers if you're interested. It's definitely still possible\nto accomplish this, right?",
    "start": "849412",
    "end": "857690"
  },
  {
    "start": "857000",
    "end": "1051000"
  },
  {
    "text": "However, there's\nstill a problem here. Both of these systems\nhide everything.",
    "start": "857690",
    "end": "864890"
  },
  {
    "text": "You get no insight into the\neconomy, into the blockchain, into what's actually\nhappening in the system.",
    "start": "864890",
    "end": "874250"
  },
  {
    "text": "Regulators, in particular,\nneed insight into markets in order to maintain\nfinancial stability",
    "start": "874250",
    "end": "880610"
  },
  {
    "text": "and in order to\nprotect investors. Even considering\nnon-financial use cases,",
    "start": "880610",
    "end": "886520"
  },
  {
    "text": "it's oftentimes the\ncase that people who might be using a\nblockchain, or distributed",
    "start": "886520",
    "end": "892010"
  },
  {
    "text": "ledger, or distributed\ndatabase want to be able to maintain that\ncertain things are true",
    "start": "892010",
    "end": "899210"
  },
  {
    "text": "and to get some insight into the\nsystem that they're a part of.",
    "start": "899210",
    "end": "904290"
  },
  {
    "text": " Lack of insight can actually\nhave devastating effects,",
    "start": "904290",
    "end": "911140"
  },
  {
    "text": "as we saw with toxic\nassets in 2008. One part of the problem, one\ncontributor to the crisis,",
    "start": "911140",
    "end": "919000"
  },
  {
    "text": "was the issue that\npeople didn't really have confidence or insight into\nexactly what assets banks had",
    "start": "919000",
    "end": "926560"
  },
  {
    "text": "on their books. It was a bit confusing. And surprisingly, this\nhappens to this day",
    "start": "926560",
    "end": "932500"
  },
  {
    "text": "I think there was a case with\nDow Chemical where they didn't",
    "start": "932500",
    "end": "937840"
  },
  {
    "text": "actually know how\nmany outstanding shares that they had issued. They just didn't know. And they had to\ngive out a dividend,",
    "start": "937840",
    "end": "945040"
  },
  {
    "text": "and they gave out\ntoo much money or too little money or\nsomething like that.",
    "start": "945040",
    "end": "951160"
  },
  {
    "text": "So here are some examples\nof things that we might want to measure and understand.",
    "start": "951160",
    "end": "956889"
  },
  {
    "text": "We might want to get a sense\nof leverage in the system. So, the participants\nwho are holding assets,",
    "start": "956890",
    "end": "963580"
  },
  {
    "text": "how much do they have en masse? We want to understand exposure. We might want to get a sense\nof market concentration.",
    "start": "963580",
    "end": "971350"
  },
  {
    "text": "It's pretty useful to know\nthings like, OK, this bank, this asset in particular is\nvery highly concentrated.",
    "start": "971350",
    "end": "978189"
  },
  {
    "text": "Or this asset is\nmore distributed amongst the participants\nof the system. So there are things\nthat we might",
    "start": "978190",
    "end": "984400"
  },
  {
    "text": "want to learn about\nthe economy represented by the assets in the blockchain.",
    "start": "984400",
    "end": "989550"
  },
  {
    "text": "And that if the entire thing is\nencrypted or completely opaque, we're not going to be able\nto really gain this insight.",
    "start": "989550",
    "end": "997040"
  },
  {
    "text": "And toxic assets, like I said. So here's a specific\nexample of something we might want to learn.",
    "start": "997040",
    "end": "1004550"
  },
  {
    "text": "Here's a bank. Here's an auditor. And the auditor might want to-- let's assume the bank is\nusing a system like zkLedger,",
    "start": "1004550",
    "end": "1010850"
  },
  {
    "text": "a permissioned blockchain. An auditor might\nwant to know how exposed is this bank\nto a drop in the euro?",
    "start": "1010850",
    "end": "1018200"
  },
  {
    "text": "So if the euro versus the\ndollar changes dramatically, what's going to happen to\nthis bank's balance sheet?",
    "start": "1018200",
    "end": "1024530"
  },
  {
    "text": "So in zkLedger, the\nauditor can ask a question like what fraction of\nyour assets are in euros?",
    "start": "1024530",
    "end": "1030980"
  },
  {
    "text": "And the bank might respond,\n3 million out of 100 million. So, 3 million euros,\n100 million dollars.",
    "start": "1030980",
    "end": "1037939"
  },
  {
    "text": "Something like that. But just simply\nasking this question, the auditor doesn't\nreally get any assurance",
    "start": "1037940",
    "end": "1045500"
  },
  {
    "text": "that this answer is correct. And so this is the\nnugget of the problem that we are trying\nto solve and achieve.",
    "start": "1045500",
    "end": "1052700"
  },
  {
    "start": "1051000",
    "end": "1169000"
  },
  {
    "text": "So this talk presents zkLedger. And it's a private,\nauditable transaction ledger.",
    "start": "1052700",
    "end": "1058610"
  },
  {
    "text": "The idea behind zkLedger\nis like other systems. We also hide the transacting\nbanks and the amounts involved.",
    "start": "1058610",
    "end": "1068360"
  },
  {
    "text": "We provide integrity\nwith public verification. So despite the fact\nthat you can't really see the details of\nthe transaction,",
    "start": "1068360",
    "end": "1075110"
  },
  {
    "text": "anyone, not just\nthe participants, but anyone you want\nto show this to, can publicly verify\nand convince themselves",
    "start": "1075110",
    "end": "1082430"
  },
  {
    "text": "that transactions\nare well-formed and financial invariants\nare maintained. And an auditor can\ninteractively compute",
    "start": "1082430",
    "end": "1090799"
  },
  {
    "text": "provably correct\nlinear functions over the transactions. So things like\ntrying to understand",
    "start": "1090800",
    "end": "1096289"
  },
  {
    "text": "market concentration, or\nleverage, or exposure-- they can compute\na set of queries",
    "start": "1096290",
    "end": "1101480"
  },
  {
    "text": "over the contents of the\ntransactions in the ledger. OK, so I'm going to describe\nto you how zkLedger works.",
    "start": "1101480",
    "end": "1109860"
  },
  {
    "text": "I'm going to give you a brief\noverview of the system model. And then I'm going\nto start to go into some of the more\ninteresting pieces",
    "start": "1109860",
    "end": "1117060"
  },
  {
    "text": "inside zkLedger. So the commitments\nthat we use to hide things, the way the\nledger is constructed.",
    "start": "1117060",
    "end": "1124390"
  },
  {
    "text": "And I'm going to\ntell you a little bit about the primitives\nthat we use, which are zero-knowledge proofs.",
    "start": "1124390",
    "end": "1129482"
  },
  {
    "text": "Not SNARKs, which I talked\nabout earlier-- a different type of zero-knowledge proof. But I'll give you a\nlittle bit of a flavor",
    "start": "1129482",
    "end": "1134970"
  },
  {
    "text": "of what those things look like. And then I'll show you the\nperformance of zkLedger.",
    "start": "1134970",
    "end": "1140890"
  },
  {
    "text": "So whether you buy\nthis use case or not, I think that you will\nsee these topics come",
    "start": "1140890",
    "end": "1146850"
  },
  {
    "text": "up over and over again as you're\nlooking at cryptocurrencies. People are quite interested\nin zero-knowledge proofs",
    "start": "1146850",
    "end": "1152460"
  },
  {
    "text": "and how they can use\nthem to provide privacy inside of cryptocurrencies.",
    "start": "1152460",
    "end": "1159720"
  },
  {
    "text": "OK, before we jump into the\nsystem model, any questions? ",
    "start": "1159720",
    "end": "1166540"
  },
  {
    "text": "OK, let's go. So let's start with\nthe system model. So here's the system model.",
    "start": "1166540",
    "end": "1171970"
  },
  {
    "start": "1169000",
    "end": "1219000"
  },
  {
    "text": "We have a set of banks. These banks have generated\npublic keys and secret keys,",
    "start": "1171970",
    "end": "1177400"
  },
  {
    "text": "which they have. And these banks are working\ntogether to construct a ledger.",
    "start": "1177400",
    "end": "1182530"
  },
  {
    "text": "And the way that\nthis ledger works is that they are\ndetermining transactions amongst themselves. So they're deciding, OK, I'm\ngoing to transfer this amount",
    "start": "1182530",
    "end": "1189370"
  },
  {
    "text": "to that bank. And then once they've\ndecided on a transaction, they append that\ntransaction to the ledger.",
    "start": "1189370",
    "end": "1195797"
  },
  {
    "text": "And again, remember,\nthis ledger could be maintained by a third party. It could be maintained\nby the banks themselves",
    "start": "1195797",
    "end": "1201550"
  },
  {
    "text": "on a blockchain. They could be using a\npublic bulletin board. They could be posting\ntransactions to Twitter. It doesn't matter.",
    "start": "1201550",
    "end": "1206960"
  },
  {
    "text": "We're not really concerned\nabout that right now. The point is that there is\nan append-only ledger that's",
    "start": "1206960",
    "end": "1213399"
  },
  {
    "text": "orthogonal to our techniques--\nhow exactly it's maintained. ",
    "start": "1213400",
    "end": "1219910"
  },
  {
    "start": "1219000",
    "end": "1355000"
  },
  {
    "text": "An auditor, a third\nparty auditor, can obtain correct\nanswers to questions based on ledger contents.",
    "start": "1219910",
    "end": "1226029"
  },
  {
    "text": "So note that auditing\nis interactive. It's not the case that someone\ncan just take this ledger",
    "start": "1226030",
    "end": "1231790"
  },
  {
    "text": "and compute things over it. They can't do that. There's not enough\ninformation here to reveal the\nanswers to queries.",
    "start": "1231790",
    "end": "1238090"
  },
  {
    "text": "The auditor has to actually\ntalk to the participants in the ledger.",
    "start": "1238090",
    "end": "1243110"
  },
  {
    "text": "So you might say,\nwell, we didn't trust the participants to give\nthe auditor the right answer.",
    "start": "1243110",
    "end": "1248140"
  },
  {
    "text": "Why would we trust them to\nanswer the auditor at all? Well in the setting\nthat we've set up for ourselves, if they\ndon't answer the auditor,",
    "start": "1248140",
    "end": "1254700"
  },
  {
    "text": "they can go to jail. OK? So at least you can tell whether\nthe bank is answering you or not. If the bank were to lie to you,\nyou might not be able to tell",
    "start": "1254700",
    "end": "1261782"
  },
  {
    "text": "whether-- this allows\nyou to be able to-- if you get an answer, you know\nthat that answer is correct.",
    "start": "1261782",
    "end": "1268580"
  },
  {
    "text": "So the auditor\nwill query the bank and ask a question\nsimilar to what we were asking before--\nwhat fraction of your assets",
    "start": "1268580",
    "end": "1274137"
  },
  {
    "text": "are in euros? The bank can respond. But this time, instead of\njust getting an answer, the auditor also gets a small\npart of a proof from the bank",
    "start": "1274137",
    "end": "1284030"
  },
  {
    "text": "and can confirm that\nthat proof is correct based on these\nopaque transaction",
    "start": "1284030",
    "end": "1290030"
  },
  {
    "text": "details in the ledger. So the auditor still\nneeds to talk to the bank,",
    "start": "1290030",
    "end": "1298040"
  },
  {
    "text": "but using the bank's\nresponse, they can compute a proof that\nshows that this answer must be correct.",
    "start": "1298040",
    "end": "1303770"
  },
  {
    "text": "OK? So auditing is interactive. Like I said, it's\npossible a bank might choose not to respond.",
    "start": "1303770",
    "end": "1309110"
  },
  {
    "text": "That could happen. Also I want to point out that\nif the auditor is constantly auditing this ledger--",
    "start": "1309110",
    "end": "1315580"
  },
  {
    "text": "is constantly asking how\nmany euros do you have? How many euros do you have? How many euros do you have? Then if that number\nchanges, it's",
    "start": "1315580",
    "end": "1322909"
  },
  {
    "text": "reasonable to assume\nthat that change happened in the last transaction\nappended to the ledger. Right? So if the bank\ncontinually answers",
    "start": "1322910",
    "end": "1332270"
  },
  {
    "text": "the auditor's questions, this\nwill leak transaction contents. This doesn't provide what's\nknown as differential privacy.",
    "start": "1332270",
    "end": "1338480"
  },
  {
    "text": "OK? And so the setup here is\nthat the auditor and the bank should come to some agreement\nabout the appropriate level",
    "start": "1338480",
    "end": "1345559"
  },
  {
    "text": "of frequency of auditing such\nthat both the auditor gets the data that they need, and\nthe bank maintains the privacy",
    "start": "1345560",
    "end": "1352549"
  },
  {
    "text": "that it needs to maintain. OK, so as I said\nbefore, zkLedger",
    "start": "1352550",
    "end": "1358130"
  },
  {
    "start": "1355000",
    "end": "1430000"
  },
  {
    "text": "supports any linear function\nover transaction values. So we can do ratios,\nsums, averages, variance,",
    "start": "1358130",
    "end": "1365990"
  },
  {
    "text": "skews outliers. By outliers, I mean give me\nall the transactions that have",
    "start": "1365990",
    "end": "1373880"
  },
  {
    "text": "amounts outside of this range. So you want all high-value\ntransactions, you can provably, correctly give that.",
    "start": "1373880",
    "end": "1380560"
  },
  {
    "text": "Approximation-- so orders\nof magnitude of my trades, without revealing\nthe precise number.",
    "start": "1380560",
    "end": "1386090"
  },
  {
    "text": "Changes over time, and also\nwell-known financial risk measurements like the\nHerfindahl-Hirschman Index.",
    "start": "1386090",
    "end": "1392870"
  },
  {
    "text": "So in this talk-- oh, sorry. Yes, there are small amounts\nof well-defined leakage",
    "start": "1392870",
    "end": "1398390"
  },
  {
    "text": "for some of these measurements. So for example, in order\nto compute the average,",
    "start": "1398390",
    "end": "1404750"
  },
  {
    "text": "we actually compute the sum\nand the number of transactions. So we leak a little\nbit more information",
    "start": "1404750",
    "end": "1410600"
  },
  {
    "text": "than just the average, but\nit's very well-defined. And in this talk,\nI'm only really going",
    "start": "1410600",
    "end": "1416720"
  },
  {
    "text": "to talk about sums. But our paper, which I'll put\na point or two on the website,",
    "start": "1416720",
    "end": "1424040"
  },
  {
    "text": "explains how to do\nmore complex things. And everything's built\non the sums primitive.",
    "start": "1424040",
    "end": "1431960"
  },
  {
    "start": "1430000",
    "end": "1550000"
  },
  {
    "text": "So let's talk about\nthe security goals. So what are we trying to\nachieve with the system?",
    "start": "1431960",
    "end": "1437910"
  },
  {
    "text": "So first of all, we're\ntrying to achieve privacy. We want to make sure that\nthe auditor and non-involved",
    "start": "1437910",
    "end": "1443270"
  },
  {
    "text": "parties cannot see transaction\nparticipants or amounts. So I don't know if I\nmade this clear before,",
    "start": "1443270",
    "end": "1450470"
  },
  {
    "text": "but it's not just the case\nthat this third-party auditor can't see who's in transactions\nor what they're transacting.",
    "start": "1450470",
    "end": "1458270"
  },
  {
    "text": "Anyone who's not\nactually involved in the transaction,\nreceiving or sending assets, also can't see inside\nof a transaction.",
    "start": "1458270",
    "end": "1466310"
  },
  {
    "text": "Completeness. So what do we mean\nby completeness? What we mean by that is that\nbanks can't lie to the auditor.",
    "start": "1466310",
    "end": "1473770"
  },
  {
    "text": "They can't say that they have\n5 million euros when actually they have 3 million euros. But also, the bank can't\nselectively leave out things.",
    "start": "1473770",
    "end": "1482460"
  },
  {
    "text": "OK? So you could imagine\nsome ways of constructing this in which, if a\nbank was really clever,",
    "start": "1482460",
    "end": "1487700"
  },
  {
    "text": "they could just not include\nsome of the transactions that they had received,\nand thus change",
    "start": "1487700",
    "end": "1493850"
  },
  {
    "text": "their answers to the auditor. But one of our security\ngoals that we achieve is that it's impossible for\na bank to omit transactions",
    "start": "1493850",
    "end": "1501320"
  },
  {
    "text": "when responding to the auditor. We also are looking\nto achieve integrity,",
    "start": "1501320",
    "end": "1506360"
  },
  {
    "text": "so banks can't violate\nfinancial invariants. We assume that\nbanks are malicious.",
    "start": "1506360",
    "end": "1512300"
  },
  {
    "text": "But honest banks\nshould always be able to convince the\nauditor of a correct answer.",
    "start": "1512300",
    "end": "1517870"
  },
  {
    "text": "So we don't want to\nhave a situation where a malicious bank screws\nup the ledger such that an honest bank can't\nrespond to the auditor",
    "start": "1517870",
    "end": "1525290"
  },
  {
    "text": "because the ledger\ndoesn't make sense. So we also want\nto maintain that. And then progress.",
    "start": "1525290",
    "end": "1532100"
  },
  {
    "text": "We also want to make sure that\na malicious bank can't block other banks from transacting--\nthat they can't hold up",
    "start": "1532100",
    "end": "1538570"
  },
  {
    "text": "the entire ledger. And I think as I\ndescribe the design, it'll become clearer why\nthese things were issues",
    "start": "1538570",
    "end": "1544615"
  },
  {
    "text": "that we were worried about. And it's part of how\nwe designed the system to address these problems.",
    "start": "1544615",
    "end": "1551470"
  },
  {
    "start": "1550000",
    "end": "1633000"
  },
  {
    "text": "So, the threat model. And the threat model\ndescribes what kind of attacks that we are\ntrying to protect against",
    "start": "1551470",
    "end": "1558750"
  },
  {
    "text": "and what kind of attacks\nwe don't protect against. So banks might attempt\nto steal or hide",
    "start": "1558750",
    "end": "1566040"
  },
  {
    "text": "assets, manipulate balances,\nor lie to the auditor. Banks can arbitrarily\ncollude, so they",
    "start": "1566040",
    "end": "1572700"
  },
  {
    "text": "can try to work together\nto do these things. And banks or the\nauditor might try to learn transaction contents.",
    "start": "1572700",
    "end": "1579059"
  },
  {
    "text": "So it's not that\nthey're passive. They might actually be\ntrying to actively learn what's happening in the ledger.",
    "start": "1579060",
    "end": "1585840"
  },
  {
    "text": "What's out of\nscope for this work is a ledger that omits\ntransactions or is unavailable.",
    "start": "1585840",
    "end": "1591390"
  },
  {
    "text": "As I said, we're agnostic\nto the ledger implementation as long as it's available\nso it accepts transactions.",
    "start": "1591390",
    "end": "1598920"
  },
  {
    "text": "If the ledger doesn't\naccept transactions, we can't provide our goals.",
    "start": "1598920",
    "end": "1604240"
  },
  {
    "text": "We also don't protect against\nan adversary who might be watching network traffic. So if there's an adversary\nwho's snooping on the network",
    "start": "1604240",
    "end": "1613500"
  },
  {
    "text": "and sees that two banks\nare communicating a lot, it's reasonable to assume that\nthose two banks are involved in all the transactions.",
    "start": "1613500",
    "end": "1619320"
  },
  {
    "text": "There are other techniques\nto deal with these problems. And then also\nwhat's out of scope is banks leaking their\nown transactions.",
    "start": "1619320",
    "end": "1626275"
  },
  {
    "text": "If a bank leaks their\nown transactions, we throw up our hands. Sorry, we tried to\ngive you privacy. ",
    "start": "1626275",
    "end": "1635570"
  },
  {
    "start": "1633000",
    "end": "1855000"
  },
  {
    "text": "So that's the system\nmodel for zkLedger. That's the threat model,\nthose are our goals, that's what we're trying to achieve.",
    "start": "1635570",
    "end": "1641659"
  },
  {
    "text": "Now, let's get into the\ndesign a little bit. So we're going to build up the\ndesign based on this example.",
    "start": "1641660",
    "end": "1648930"
  },
  {
    "text": "So here is an example of a\npublic transaction ledger. And we're going to slowly start\nto mask things in this ledger",
    "start": "1648930",
    "end": "1656810"
  },
  {
    "text": "until we end up with\nzkLedger's design. So we have four\ntransactions here.",
    "start": "1656810",
    "end": "1662900"
  },
  {
    "text": "I'm only using one asset, euros. You'll notice that the\nfirst transaction addresses",
    "start": "1662900",
    "end": "1668447"
  },
  {
    "text": "the question that you\nasked, which is, well, where do funds come from? And here we have a\nspecial depositor,",
    "start": "1668447",
    "end": "1674179"
  },
  {
    "text": "who is injecting\nassets into the system. This depositor might be the\ncentral bank, for example.",
    "start": "1674180",
    "end": "1680040"
  },
  {
    "text": "A lot of systems are\nactually designed this way. So Stellar, I think Chains,\nBlockchain, Ripple--",
    "start": "1680040",
    "end": "1689690"
  },
  {
    "text": "these systems are all\ndesigned with the idea of a special depositor\nwho's allowed",
    "start": "1689690",
    "end": "1695240"
  },
  {
    "text": "to create their own asset and\ninsert it into the system. So here, maybe the depositor\nis the European Central Bank.",
    "start": "1695240",
    "end": "1703460"
  },
  {
    "text": "Maybe it's some other\nbank, who provably has a lot of euros in their account\nand puts them onto the ledger.",
    "start": "1703460",
    "end": "1710070"
  },
  {
    "text": "So there's a depositor who's\ngranting 30 million euros to Goldman Sachs. And then there are\nthree transactions.",
    "start": "1710070",
    "end": "1716690"
  },
  {
    "text": "And I think it's important\nto get a sense of what these transactions are. So Goldman Sachs is transferring\n10 million to JP Morgan.",
    "start": "1716690",
    "end": "1723770"
  },
  {
    "text": "And then JP Morgan, in two\ndifferent transactions, is transferring\nmoney to Barclays.",
    "start": "1723770",
    "end": "1730610"
  },
  {
    "text": "OK? So let's move on from here.",
    "start": "1730610",
    "end": "1736150"
  },
  {
    "text": "So like I said, the depositor\ninjects assets to ledger, and that's the way of\nentering transactions.",
    "start": "1736150",
    "end": "1741780"
  },
  {
    "text": "That's the depositor,\nright there. Now our goals are to achieve\nauditing and privacy.",
    "start": "1741780",
    "end": "1748200"
  },
  {
    "text": "What do we mean by that? Well, we shouldn't-- someone\nlooking at the ledger",
    "start": "1748200",
    "end": "1753570"
  },
  {
    "text": "shouldn't be able to\ntell these amounts except for the depositor transaction,\nwhich is always public.",
    "start": "1753570",
    "end": "1759360"
  },
  {
    "text": "In zkLedger, the depositor\ntransactions are public. But they shouldn't be\nable to tell after that",
    "start": "1759360",
    "end": "1765110"
  },
  {
    "text": "that Goldman Sachs gave\nmoney to JP Morgan, and that JP Morgan\ngave it to Barclays, and what the amounts were. OK?",
    "start": "1765110",
    "end": "1772480"
  },
  {
    "text": "So in this example, we're\ngoing to try to provably audit",
    "start": "1772480",
    "end": "1777690"
  },
  {
    "text": "Barclays to figure out how\nmany euros Barclays is holding. And again, we want to hide\nthe participants, amounts,",
    "start": "1777690",
    "end": "1784590"
  },
  {
    "text": "and the transaction graph. So what do I mean when\nI say transaction graph?",
    "start": "1784590",
    "end": "1789930"
  },
  {
    "text": "I think you guys learned a\nlittle bit about a system called confidential\ntransactions a few weeks ago.",
    "start": "1789930",
    "end": "1795179"
  },
  {
    "text": "Confidential transactions does\nnot hide the transaction graph. It hides the\namounts, but you can",
    "start": "1795180",
    "end": "1802290"
  },
  {
    "text": "tell the source of the funds. So here, the money\nthat Barclays got--",
    "start": "1802290",
    "end": "1808970"
  },
  {
    "text": "so if we were trying to attain\nprivacy in the system, the fact that Goldman Sachs got\neuros, and Goldman Sachs is",
    "start": "1808970",
    "end": "1816577"
  },
  {
    "text": "the only company that\ngot euros, is public, because depositor\ntransactions are public. But we shouldn't be able\nto tell that the euros",
    "start": "1816578",
    "end": "1824280"
  },
  {
    "text": "that Barclays got--\nobviously they must have been sourced through Goldman Sachs. We shouldn't be able to tell\nthey went through anyone,",
    "start": "1824280",
    "end": "1832020"
  },
  {
    "text": "or how many people\nthey went through, or that it was JP Morgan. So if we leaked the\ntransaction graph,",
    "start": "1832020",
    "end": "1838620"
  },
  {
    "text": "you might be able\nto tell that there was an entity that\nthe money went through before it got to Barclays.",
    "start": "1838620",
    "end": "1844662"
  },
  {
    "text": "So when we say we want to\nhide the transaction graph, that's what we mean. We want to be able to hide\nthe flow of funds, how",
    "start": "1844662",
    "end": "1850740"
  },
  {
    "text": "they move through the system. ",
    "start": "1850740",
    "end": "1856659"
  },
  {
    "start": "1855000",
    "end": "2865000"
  },
  {
    "text": "We hide the amounts by using a\ncryptographic primitive called Pedersen commitments.",
    "start": "1856660",
    "end": "1863649"
  },
  {
    "text": "So Pedersen commitments,\nas you learned, are binding and hiding\ncommitments to a value.",
    "start": "1863650",
    "end": "1870080"
  },
  {
    "text": "And the way that they work-- and I'm terribly sorry, but I\nuse slightly different notation than Tadge.",
    "start": "1870080",
    "end": "1875800"
  },
  {
    "text": "So Tadge uses\nadditive notation--",
    "start": "1875800",
    "end": "1880870"
  },
  {
    "text": "multiplicative notation, and\nI use exponential notation. These mean exactly\nthe same thing. I will very quickly\nwrite down what they are.",
    "start": "1880870",
    "end": "1888970"
  },
  {
    "text": "So in Tadge's notation, G and\nH are generators in some group.",
    "start": "1888970",
    "end": "1895820"
  },
  {
    "text": "And if you have some\nvalue and some randomness, then you would write a Pedersen\ncommitment as that, OK?",
    "start": "1895820",
    "end": "1907110"
  },
  {
    "text": "Now, whether it's r times G,\nor v times H isn't important. The point is these are\ntwo generators of a group,",
    "start": "1907110",
    "end": "1915420"
  },
  {
    "text": "in this case, an\nelliptical curve group. And in Bitcoin, secp256k1. It doesn't really matter\nwhat those generators are.",
    "start": "1915420",
    "end": "1922530"
  },
  {
    "text": "You just pick any two. You could call this G1\nand G2, if you wanted to. And so this is the way\nthat Tadge would write it.",
    "start": "1922530",
    "end": "1930270"
  },
  {
    "text": "The way that I write it-- and I'm sorry about\nthis, but it's good that you guys get\nexposed to both ways,",
    "start": "1930270",
    "end": "1935610"
  },
  {
    "text": "because you'll find both\nways in the literature-- is in exponential notation. So I would write g\nto the v, h to the r.",
    "start": "1935610",
    "end": "1945340"
  },
  {
    "text": "And they're multiplied together\ninstead of added together.",
    "start": "1945340",
    "end": "1950510"
  },
  {
    "text": "OK? So this is just purely\na notational thing.",
    "start": "1950510",
    "end": "1956460"
  },
  {
    "text": "It's just, instead of the\nmultiply operator here, we're doing exponentiation. Instead of the\nplus operator here,",
    "start": "1956460",
    "end": "1962687"
  },
  {
    "text": "we're doing multiplication.  So, Pedersen commitment.",
    "start": "1962687",
    "end": "1969520"
  },
  {
    "text": "The way that you\ncommit to a value v is everyone has chosen\nthese generators.",
    "start": "1969520",
    "end": "1975190"
  },
  {
    "text": "The generator choice\nis system-wide. This isn't something\nyou pick at the time you make a transaction. The generator choice\nis system-wide.",
    "start": "1975190",
    "end": "1981160"
  },
  {
    "text": "However, the r, the randomness,\nyou do choose fresh each time.",
    "start": "1981160",
    "end": "1986200"
  },
  {
    "text": "You pick any\nrandomness each time. And the way that you\ncommit to a value is by producing this\nvalue right here,",
    "start": "1986200",
    "end": "1994490"
  },
  {
    "text": "which is the generator\nraised to the value times the second generator\nraised to the randomness.",
    "start": "1994490",
    "end": "2000900"
  },
  {
    "text": "And what this serves\nto do is it's binding.",
    "start": "2000900",
    "end": "2006570"
  },
  {
    "text": "It's very difficult to\ncome up with, later, a different and a\ndifferent r that ends up",
    "start": "2006570",
    "end": "2012540"
  },
  {
    "text": "equaling the same commitment. And part of that is\nbased on an assumption called the discrete\nlogarithm-- the hardness",
    "start": "2012540",
    "end": "2018780"
  },
  {
    "text": "of the discrete\nlogarithm problem. And also, importantly,\nthese things",
    "start": "2018780",
    "end": "2024780"
  },
  {
    "text": "can be homomorphically combined. So if we have these commitments\nto these different values,",
    "start": "2024780",
    "end": "2031600"
  },
  {
    "text": "and we multiply\nthem together, well, when you multiply things that\nare raised to an exponent,",
    "start": "2031600",
    "end": "2038010"
  },
  {
    "text": "you end up adding\nthe exponent, right? So by multiplying\nthese things together,",
    "start": "2038010",
    "end": "2043990"
  },
  {
    "text": "we end up with a\nvalid commitment to the sum of the values in\nthe individual commitments",
    "start": "2043990",
    "end": "2051719"
  },
  {
    "text": "that we multiplied together. So we can homomorphically\ncombine the commitments.",
    "start": "2051719",
    "end": "2057750"
  },
  {
    "text": "It ends up summing\nin the exponent. And we end up with\na valid commitment",
    "start": "2057750",
    "end": "2065010"
  },
  {
    "text": "to the sum of the values.  Another nice property\nof Pedersen commitments",
    "start": "2065010",
    "end": "2071489"
  },
  {
    "text": "is that they are very fast to\ncreate, combine, and verify. And perhaps surprisingly,\nwe can actually",
    "start": "2071489",
    "end": "2078419"
  },
  {
    "text": "achieve all of the\nauditing functions that I showed you earlier just\nusing Pedersen commitments.",
    "start": "2078420",
    "end": "2084690"
  },
  {
    "text": "So before we move on, questions\non Pedersen commitments? I know that you guys learned\nabout this in a previous class,",
    "start": "2084690",
    "end": "2090090"
  },
  {
    "text": "but they're pretty important. ",
    "start": "2090090",
    "end": "2095940"
  },
  {
    "text": "They're used in\nconfidential transactions as well to prove that\nthe sum of the outputs is less than or equal to\nthe sum of the inputs,",
    "start": "2095940",
    "end": "2104010"
  },
  {
    "text": "if you guys recall that. So any questions? AUDIENCE: When are you\nmaking this commitment?",
    "start": "2104010",
    "end": "2110340"
  },
  {
    "text": "NEHA NARULA: Ah, great question. You're making this\ncommitment at the time that the transaction is created.",
    "start": "2110340",
    "end": "2116589"
  },
  {
    "text": "And I'll get into the details\nof who creates the transaction, and what do they choose,\nand how does that happen,",
    "start": "2116590",
    "end": "2121940"
  },
  {
    "text": "and how do we make sure\nthey don't screw it up. AUDIENCE: So when you add a\nmeasurement to this ledger, it might add a number of\ncommitments that people make...",
    "start": "2121940",
    "end": "2129270"
  },
  {
    "text": "NEHA NARULA: Well,\nso measurements happen on top of the ledger. So we can actually do\nall of our measurements",
    "start": "2129270",
    "end": "2135730"
  },
  {
    "text": "basically just on\nthose commitments. We don't have to add\nanything to ledger. OK.",
    "start": "2135730",
    "end": "2141310"
  },
  {
    "text": "So, yes, like I said, we\ncan achieve all the auditing functions with\nPedersen commitments. And I'll go into a\nlittle bit of detail.",
    "start": "2141310",
    "end": "2147769"
  },
  {
    "text": "OK, great. So we can use Pearson\ncommitments to hide the value. So again, by using these\ncommitments, you can't--",
    "start": "2147770",
    "end": "2155260"
  },
  {
    "text": "looking at this right\nhere, if you don't know r, you can't guess--",
    "start": "2155260",
    "end": "2160299"
  },
  {
    "text": "if you don't know v\nand r, you can't-- if you don't know r, you\ncan't guess what v is. It could be anything.",
    "start": "2160300",
    "end": "2165750"
  },
  {
    "text": "So that's what we mean when we\nsay that these commitments are perfectly hiding.",
    "start": "2165750",
    "end": "2173529"
  },
  {
    "text": "So we also want to\nhide the participants in the transaction, obviously. And we're going to do that\nusing other techniques.",
    "start": "2173530",
    "end": "2178643"
  },
  {
    "text": "Just hold that in your\nhead for a moment. We're going to jump to that. But first, quickly,\nlet's take a look",
    "start": "2178643",
    "end": "2185050"
  },
  {
    "text": "at how auditing might work given\nthat we're using these Pedersen commitments, OK?",
    "start": "2185050",
    "end": "2190119"
  },
  {
    "text": "So assume that we have hidden\nwho the participants are",
    "start": "2190120",
    "end": "2195340"
  },
  {
    "text": "in this ledger\nthrough a technique that I'm not telling\nyou about, yet. We're hiding the values in\nthe transactions that are not",
    "start": "2195340",
    "end": "2204407"
  },
  {
    "text": "inject-- not these\nspecial transactions that are injecting assets or removing\nassets, but just the transfers. We're hiding the values using\nPedersen commitments, OK?",
    "start": "2204407",
    "end": "2212330"
  },
  {
    "text": "So let's look at how\nauditing might work. So an auditor will\nask the bank-- in this case, it's Barclays.",
    "start": "2212330",
    "end": "2218390"
  },
  {
    "text": "So remember, Barclays\nreceived euros in two different\ntransactions, and should",
    "start": "2218390",
    "end": "2224180"
  },
  {
    "text": "tell the auditor 3 million. The auditor asks Barclays,\nhow many euros do you hold? Barclays can convince the\nauditor that 3 million",
    "start": "2224180",
    "end": "2233809"
  },
  {
    "text": "is the right answer by\ndoing the following. OK? Barclays can say, hey,\nauditor, it's 3 million.",
    "start": "2233810",
    "end": "2242420"
  },
  {
    "text": "OK. And what I'm going\nto do is I'm going to actually open up the\ncombined commitments",
    "start": "2242420",
    "end": "2251690"
  },
  {
    "text": "for my transactions. So I don't actually have\nthis on a slide here, but I will write\nout what this means.",
    "start": "2251690",
    "end": "2258270"
  },
  {
    "text": "OK? ",
    "start": "2258270",
    "end": "2267030"
  },
  {
    "text": "So we have two transactions\nhere and two commitments. And one of them is\ng to the 1 million,",
    "start": "2267030",
    "end": "2274680"
  },
  {
    "text": "h to-- the let's just r1. And then the other is g to\nthe 2 million, h to the r2.",
    "start": "2274680",
    "end": "2284819"
  },
  {
    "text": "OK? These are the commitments\nin the ledger. Barclays wants to\nconvince the auditor",
    "start": "2284820",
    "end": "2290310"
  },
  {
    "text": "that it has 3 million euros. It does so by-- when you\nmultiply these two things",
    "start": "2290310",
    "end": "2295560"
  },
  {
    "text": "together, and the auditor can't\nsee what these two things are, but this is--",
    "start": "2295560",
    "end": "2300720"
  },
  {
    "text": " or actually, I\nthink it's comm 2--",
    "start": "2300720",
    "end": "2307970"
  },
  {
    "text": "3. OK, comm 3 times comm 4.",
    "start": "2307970",
    "end": "2313290"
  },
  {
    "text": "Then when you multiply\nthese two things together, you get g to the 1 million plus\n2 million h to the r1 plus r2,",
    "start": "2313290",
    "end": "2322890"
  },
  {
    "text": "OK? This is 3 million. If Barclays gives the auditor\n3 million and r1 plus r2,",
    "start": "2322890",
    "end": "2337410"
  },
  {
    "text": "the sum, than the\nauditor can confirm that if they raise g to this\nand h to this, that it's",
    "start": "2337410",
    "end": "2347099"
  },
  {
    "text": "equal to the\nmultiplication of the two commitments on the ledger. ",
    "start": "2347100",
    "end": "2355420"
  },
  {
    "text": "And the auditor can-- given that these two\nthings are equal,",
    "start": "2355420",
    "end": "2360980"
  },
  {
    "text": "then the auditor knows\nthat the bank in fact did commit to two commitments\nthat sum to $3 million.",
    "start": "2360980",
    "end": "2369520"
  },
  {
    "text": "It doesn't know if that was 1.5\nand 1.5, or 1 and 2 million,",
    "start": "2369520",
    "end": "2375850"
  },
  {
    "text": "999-- it doesn't know what those\nindividual values were.",
    "start": "2375850",
    "end": "2381400"
  },
  {
    "text": "It just knows that\nthe sum is correct. ",
    "start": "2381400",
    "end": "2387859"
  },
  {
    "text": "So, questions about\nopening commitments? Yes? AUDIENCE: The sub-3,\nsub-4-- those are the IDs?",
    "start": "2387860",
    "end": "2394200"
  },
  {
    "text": "NEHA NARULA: Yeah,\nthose are 3 and 4. Sorry, I'm using\ndifferent numbers. They're r1 and r2. But the comm 3 and comm 4 are--",
    "start": "2394200",
    "end": "2401270"
  },
  {
    "text": "this is literally a\nelliptic curve point. So the point is\nposted to the ledger.",
    "start": "2401270",
    "end": "2409960"
  },
  {
    "text": "Yes? AUDIENCE: Wouldn't 4 million and\nminus 1 million also do that? NEHA NARULA: It would, yes.",
    "start": "2409960",
    "end": "2415110"
  },
  {
    "text": "And we'll talk about\nhow we address that. AUDIENCE: So just\nto confirm, the bank provides both the 3\nmillion number and--",
    "start": "2415110",
    "end": "2421880"
  },
  {
    "text": "NEHA NARULA: And r1 plus r2. Yes. And those two pieces\nof information are enough to convince\nthe auditor that 3 million",
    "start": "2421880",
    "end": "2428620"
  },
  {
    "text": "does in fact correspond to\nthe commitments on the ledger. Yes? AUDIENCE: [INAUDIBLE]\nso you will always",
    "start": "2428620",
    "end": "2434530"
  },
  {
    "text": "get the sum and the\nnumber of transactions? NEHA NARULA: Sorry? AUDIENCE: You will get the\nnumber of transactions?",
    "start": "2434530",
    "end": "2440200"
  },
  {
    "text": "NEHA NARULA: Who's you? AUDIENCE: Oh, [INAUDIBLE]\nas in the auditor. NEHA NARULA: The\nauditor will get--",
    "start": "2440200",
    "end": "2445460"
  },
  {
    "text": "AUDIENCE: They will know\nthe number of transactions? NEHA NARULA: In the straw\nman example that I've done,",
    "start": "2445460",
    "end": "2450990"
  },
  {
    "text": "it does look that way, yes. I'm going to build up to\nhow the auditor won't know the number of transactions.",
    "start": "2450990",
    "end": "2456330"
  },
  {
    "text": "Did you have a question? AUDIENCE: So as a\nuser, you are recording",
    "start": "2456330",
    "end": "2461609"
  },
  {
    "text": "all of your randomness? You're responsible for tracking\nall of your randomness? NEHA NARULA: You're responsible\nfor tracking your randomness.",
    "start": "2461610",
    "end": "2466852"
  },
  {
    "text": "And you're responsible\nfor tracking your own individual details. You have to keep that\nin your own databases.",
    "start": "2466852",
    "end": "2472320"
  },
  {
    "text": "Yes? AUDIENCE: If somebody\nfound your randomness-- NEHA NARULA: If someone\nfound your randomnesses,",
    "start": "2472320",
    "end": "2478980"
  },
  {
    "text": "then they could guess-- they could backwards-compute\nthe values of your transactions.",
    "start": "2478980",
    "end": "2484030"
  },
  {
    "text": "Yes.  OK. AUDIENCE: How do you\ndefine the timing?",
    "start": "2484030",
    "end": "2489529"
  },
  {
    "text": "NEHA NARULA: The time-- getting to that. So we'll get to that. So just in figures,\nshowing what we did there.",
    "start": "2489530",
    "end": "2497630"
  },
  {
    "text": "The auditor can look at\nthose two commitments, compute the product\nfor themselves, and confirm that this 3 million\nlines up with what they see.",
    "start": "2497630",
    "end": "2505910"
  },
  {
    "text": "However, this has\nthe problem that it reveals the transactions\nin which Barclays",
    "start": "2505910",
    "end": "2511220"
  },
  {
    "text": "was involved, right? Barclays is saying, hey,\nmultiply these two things together, right?",
    "start": "2511220",
    "end": "2516560"
  },
  {
    "text": "And not only that,\nBarclays could lie. OK? Barclays could\nsay, oh, actually,",
    "start": "2516560",
    "end": "2523670"
  },
  {
    "text": "I only have 1 million euros. Here's the transaction\nthat proves that I have 1 million euros.",
    "start": "2523670",
    "end": "2529040"
  },
  {
    "text": "I will just give you our one. I will just point\nto this transaction. Don't worry about the\nother transactions.",
    "start": "2529040",
    "end": "2534410"
  },
  {
    "text": "I'm not involved in them. The bank, Barclays,\ncould leave out",
    "start": "2534410",
    "end": "2539510"
  },
  {
    "text": "relevant important transactions\nin this straw man design. OK?",
    "start": "2539510",
    "end": "2546660"
  },
  {
    "text": "And importantly, this\nwould match up, right? The auditor would say,\nOK, you've given me--",
    "start": "2546660",
    "end": "2553430"
  },
  {
    "text": "Barclays could just give-- ",
    "start": "2553430",
    "end": "2558572"
  },
  {
    "text": "could leave this\npart out entirely. Could just give\n1 million and r1,",
    "start": "2558572",
    "end": "2565490"
  },
  {
    "text": "and the auditor\nwould say, why, yes, that does match up\nto commitment three. Great. Good work.",
    "start": "2565490",
    "end": "2571099"
  },
  {
    "text": "And they wouldn't\neven know that there was another commitment\nout there that they should be concerned about.",
    "start": "2571100",
    "end": "2576500"
  },
  {
    "text": "So how do we address\nthis problem? ",
    "start": "2576500",
    "end": "2583300"
  },
  {
    "text": "And this, I think,\nwas the key insight in the design of our system.",
    "start": "2583300",
    "end": "2588510"
  },
  {
    "text": "In zkLedger, a\ntransaction actually has a commitment for every\nparticipant in the system.",
    "start": "2588510",
    "end": "2596970"
  },
  {
    "text": "So let's talk about\nthat for a second. So depositor transactions\nstill basically look the way",
    "start": "2596970",
    "end": "2604070"
  },
  {
    "text": "that they did before\nthey're public. But transfer transactions\nnow look quite different.",
    "start": "2604070",
    "end": "2610110"
  },
  {
    "text": "We don't actually have the\nnames of the participant",
    "start": "2610110",
    "end": "2615140"
  },
  {
    "text": "in the transaction. The names are implied by the\nvalues of the commitments",
    "start": "2615140",
    "end": "2620839"
  },
  {
    "text": "in that participants column. So now we're looking\nat a transaction",
    "start": "2620840",
    "end": "2625850"
  },
  {
    "text": "as a row with multiple columns. And there's a column per\nparticipant in the system.",
    "start": "2625850",
    "end": "2633859"
  },
  {
    "text": "If a bank is not involved\nin the transaction at all, then their commitment\nis to the value 0.",
    "start": "2633860",
    "end": "2640640"
  },
  {
    "text": "If the bank is involved\nin a transaction, and it's doing the\nspending, then its value--",
    "start": "2640640",
    "end": "2647299"
  },
  {
    "text": "sorry, depositor transactions. Yes. If a bank is involved\nin the transaction,",
    "start": "2647300",
    "end": "2652430"
  },
  {
    "text": "it's doing the spending, it\ncommits to a negative value. And if it's doing the\nreceiving, it commits--",
    "start": "2652430",
    "end": "2658920"
  },
  {
    "text": "sorry, not it, but the\ncreator of the transaction, commits to a positive value. So the way that you transfer\n$1 million from one bank",
    "start": "2658920",
    "end": "2665930"
  },
  {
    "text": "to another is committing to a\nnegative value in the spenders column-- here, JP Morgan-- and committing to a positive\nvalue in the receivers column--",
    "start": "2665930",
    "end": "2673570"
  },
  {
    "text": "here, Barclays. ",
    "start": "2673570",
    "end": "2681760"
  },
  {
    "text": "And again for non-involved\nbanks, entries commit to 0. But one thing I want to stress--",
    "start": "2681760",
    "end": "2687820"
  },
  {
    "text": "commitments to 0 are completely\nindistinguishable from commitments to any other value.",
    "start": "2687820",
    "end": "2694060"
  },
  {
    "text": "And commitments\nto negative values are indistinguishable from\ncommitments to positive values. So someone looking at this, just\nlooking at these commitments",
    "start": "2694060",
    "end": "2703050"
  },
  {
    "text": "posted to the ledger, has\nno idea which ones are 0s, and which ones are negative,\nand which ones are positive.",
    "start": "2703050",
    "end": "2709240"
  },
  {
    "text": "Yes? AUDIENCE: Does this\nmean that each bank has to keep track of\nevery transaction that is done in the ledger, and\nproduce the random numbers,",
    "start": "2709240",
    "end": "2716848"
  },
  {
    "text": "and keep track of\nthose numbers, too? NEHA NARULA: Great question. So, yeah, one design\nmight have it be the case",
    "start": "2716848",
    "end": "2723839"
  },
  {
    "text": "that every bank\nactually has to be involved in every transaction. We managed to design zkLedger\nso that the spending bank can",
    "start": "2723840",
    "end": "2732240"
  },
  {
    "text": "produce one of these\nwithout actually involving any of the other banks.",
    "start": "2732240",
    "end": "2737558"
  },
  {
    "text": "And I will describe\nhow that happens. ",
    "start": "2737558",
    "end": "2744810"
  },
  {
    "text": "OK, and so, given\nnow that we've said, essentially, every bank is\ninvolved in every transaction,",
    "start": "2744810",
    "end": "2752450"
  },
  {
    "text": "this actually makes life\neasier for the auditor. Because now when the\nauditor audits a bank, they audit every transaction.",
    "start": "2752450",
    "end": "2759630"
  },
  {
    "text": "So they audit the entire\ncolumn for a bank. So here, when the auditor\nis auditing Barclays,",
    "start": "2759630",
    "end": "2766190"
  },
  {
    "text": "they won't just look at whatever\ntransactions Barclays tells them to look at. They will look at\nevery transaction.",
    "start": "2766190",
    "end": "2772770"
  },
  {
    "text": "OK? And this is where-- I think someone\nasked about timing, or how do you audit a\nrange of transactions?",
    "start": "2772770",
    "end": "2780500"
  },
  {
    "text": "The auditor can actually\ntell the bank, oh, I just want to audit from\nthis point onwards.",
    "start": "2780500",
    "end": "2785680"
  },
  {
    "text": "Or it can say, I\njust want to audit your transactions for the\npast month, if it wants to.",
    "start": "2785680",
    "end": "2791030"
  },
  {
    "text": "That doesn't mean that Barclays\ncan leave out transactions, because there's supposed to\nbe a time stamp column in here",
    "start": "2791030",
    "end": "2797590"
  },
  {
    "text": "as well. So you can see when\ntransactions happen. That's public. So what happens\nhere is the auditor",
    "start": "2797590",
    "end": "2803260"
  },
  {
    "text": "is going to look at everything. They're actually going to\nmultiply three commitments",
    "start": "2803260",
    "end": "2808970"
  },
  {
    "text": "together, because there's three\ncommitments in that column. And it doesn't know which ones\nare 0 and which ones are not 0.",
    "start": "2808970",
    "end": "2814970"
  },
  {
    "text": "But the 0 doesn't\ncontribute to the sum. ",
    "start": "2814970",
    "end": "2820349"
  },
  {
    "text": "And so a malicious bank can't\nactually lie to the auditor,",
    "start": "2820350",
    "end": "2825620"
  },
  {
    "text": "because in this\ncase, the bank is not",
    "start": "2825620",
    "end": "2832780"
  },
  {
    "text": "going to leave out\ncommitment four. And in fact, it's also going\nto include commitment two.",
    "start": "2832780",
    "end": "2839260"
  },
  {
    "start": "2839260",
    "end": "2849740"
  },
  {
    "text": "So the bank is going to have\nto include the r primes in here",
    "start": "2849740",
    "end": "2857390"
  },
  {
    "text": "to get all of this to\nwork out correctly. It's going to have to\ninclude everything. ",
    "start": "2857390",
    "end": "2869000"
  },
  {
    "start": "2865000",
    "end": "3599000"
  },
  {
    "text": "So this next-- I'm actually going to\nskip a little bit of this,",
    "start": "2869000",
    "end": "2876040"
  },
  {
    "text": "because I think we're\nrunning a bit low on time. And I do want to get into\nwhat the proofs look like. So I'm going to skip\nthis averages part.",
    "start": "2876040",
    "end": "2885369"
  },
  {
    "text": "I'm going to go back\nto our security goals. ",
    "start": "2885370",
    "end": "2891790"
  },
  {
    "text": "What I just described to you,\nthe ledger table construction, allows us to achieve our\nfirst two security goals.",
    "start": "2891790",
    "end": "2899590"
  },
  {
    "text": "Privacy-- because these\ncommitments are perfectly hiding, no one can see\ntransaction participants.",
    "start": "2899590",
    "end": "2905380"
  },
  {
    "text": "They can't tell who's\ncommitting to 0, and who's not committing to 0. Banks can't lie to the auditor,\nbecause the auditor audits",
    "start": "2905380",
    "end": "2911890"
  },
  {
    "text": "every transaction for a bank. But what I haven't\nfigured out yet is, well, how do we maintain\nfinancial invariants",
    "start": "2911890",
    "end": "2919730"
  },
  {
    "text": "in this scheme? How do we make sure assets\naren't created out of nowhere? How do we make sure that\nwhoever is spending actually",
    "start": "2919730",
    "end": "2925540"
  },
  {
    "text": "consented to the spend? And how do we construct\nthis transaction that involves every bank when\nwe assume banks are malicious,",
    "start": "2925540",
    "end": "2934840"
  },
  {
    "text": "and we don't want one bank to\nbe able to hold up everyone from transacting? ",
    "start": "2934840",
    "end": "2943160"
  },
  {
    "text": "So our solution to do\nthat is to use a set of what are called NIZKs-- non-interactive\nzero-knowledge proofs.",
    "start": "2943160",
    "end": "2951890"
  },
  {
    "text": "So what are NIZKs? NIZKs are short binary strings.",
    "start": "2951890",
    "end": "2957670"
  },
  {
    "text": "True statements have proofs. So, if a statement is true,\nit should have a proof",
    "start": "2957670",
    "end": "2964410"
  },
  {
    "text": "indicating that it's true. False statements\nonly have proofs with negligible probability.",
    "start": "2964410",
    "end": "2973450"
  },
  {
    "text": "And proofs don't reveal\nwhy they are true.",
    "start": "2973450",
    "end": "2978579"
  },
  {
    "text": "So we're going to use\nNIZKs to prove things like the person who knows the\nsecret key for this public key",
    "start": "2978580",
    "end": "2987410"
  },
  {
    "text": "consented to this transfer,\nwithout indicating which",
    "start": "2987410",
    "end": "2992480"
  },
  {
    "text": "bank it was that\nconsented to the transfer. We're going to use\nNIZKs to prove things",
    "start": "2992480",
    "end": "2998210"
  },
  {
    "text": "like this bank has\nthe assets to spend,",
    "start": "2998210",
    "end": "3005500"
  },
  {
    "text": "without revealing how many\nassets that bank actually has. ",
    "start": "3005500",
    "end": "3012750"
  },
  {
    "text": "So zkLedger uses a set of\ncarefully crafted NIZKs. And to be clear,\nNIZKs are pretty old.",
    "start": "3012750",
    "end": "3019270"
  },
  {
    "text": "They were invented in\nthe '80s and the '90s. And most of them are\nbased on the hardness of the discrete log problem in\nelliptic curve cryptography,",
    "start": "3019270",
    "end": "3026940"
  },
  {
    "text": "again. So here are the\nproperties we want to achieve with transactions. We want transaction validity.",
    "start": "3026940",
    "end": "3033510"
  },
  {
    "text": "We want to make sure whoever\nis the spender, whoever has a negative amount\nin their column,",
    "start": "3033510",
    "end": "3039000"
  },
  {
    "text": "actually consented\nto the transfer. And again, remember, in\ncryptocurrencies and things like that, where it's OK to\nreveal who the person is who's",
    "start": "3039000",
    "end": "3045869"
  },
  {
    "text": "spending, we use a signature. In this case, we'll use proof\nof knowledge of secret key.",
    "start": "3045870",
    "end": "3051720"
  },
  {
    "text": "So there's a consent NIZK. We want to be able to prove that\nwhoever is spending actually has the assets to\ntransfer-- that they're not",
    "start": "3051720",
    "end": "3058470"
  },
  {
    "text": "going negative. And we use an assets NIZK. And we want to make sure that\nassets are neither created",
    "start": "3058470",
    "end": "3066210"
  },
  {
    "text": "nor destroyed, so for that\nwe use a balance NIZK. We want to show that\nthings work out, and you didn't create more\neuros than you were supposed to.",
    "start": "3066210",
    "end": "3074550"
  },
  {
    "text": "The only place where\nyou can do that is in the depositor\ntransactions, the public depositor\ntransactions.",
    "start": "3074550",
    "end": "3080130"
  },
  {
    "text": "We also want to make sure that\nhonest banks can make progress. And in order to do that,\ncreating a transaction",
    "start": "3080130",
    "end": "3088140"
  },
  {
    "text": "in zkLedger is non-interactive. The banks don't have to interact\nto create a transaction.",
    "start": "3088140",
    "end": "3093790"
  },
  {
    "text": "This is exactly how systems\nlike Ethereum and Bitcoin work, if you think about it. I can't stop you from\nsending me Bitcoin, right?",
    "start": "3093790",
    "end": "3101940"
  },
  {
    "text": "If you want to send\nme Bitcoin, you construct a transaction\nthat sends me Bitcoin. You submit it to the blockchain. I have nothing to do with that.",
    "start": "3101940",
    "end": "3108270"
  },
  {
    "text": "Offline, we might have\nagreed that the reason you're sending me Bitcoin is\nbecause I'm selling you",
    "start": "3108270",
    "end": "3113490"
  },
  {
    "text": "my car or something like that. But to actually create the\ntransaction that spends,",
    "start": "3113490",
    "end": "3119339"
  },
  {
    "text": "you don't have to talk to\nthe other participants. And we use a consistency NIZK\nso that the person creating",
    "start": "3119340",
    "end": "3128760"
  },
  {
    "text": "the transaction can prove\nin a publicly verifiable way that everything\nmatches up correctly,",
    "start": "3128760",
    "end": "3136110"
  },
  {
    "text": "that all of these\nproofs are correct, and that all of the banks\nare going to be able to later",
    "start": "3136110",
    "end": "3141690"
  },
  {
    "text": "respond to the auditor-- be able to respond to\nthe auditor as necessary. So to give you a\nlittle bit of insight",
    "start": "3141690",
    "end": "3147599"
  },
  {
    "text": "into why this consistency\nNIZK is necessary, over here, I was speaking\nas though the bank knew",
    "start": "3147600",
    "end": "3156630"
  },
  {
    "text": "all of the r values, right? Actually, in zkLedger,\nif a bank is not",
    "start": "3156630",
    "end": "3163740"
  },
  {
    "text": "involved in a transaction,\nif their commitment's to 0, they don't know\ntheir own r value, because some other\nbank has created that.",
    "start": "3163740",
    "end": "3170910"
  },
  {
    "text": "So if we go backwards\na little bit to here,",
    "start": "3170910",
    "end": "3181180"
  },
  {
    "text": "Barclays wasn't involved\nin this transaction at all. And in fact, Barclays--\nso Goldman Sachs",
    "start": "3181180",
    "end": "3187660"
  },
  {
    "text": "created this transaction. JP Morgan created\nthis one and this one.",
    "start": "3187660",
    "end": "3193190"
  },
  {
    "text": "Barclays had nothing\nto do with them. They weren't involved at all. And we can't assume\nthat Barclays knows",
    "start": "3193190",
    "end": "3199490"
  },
  {
    "text": "what the rs are in its column. Yet the way that I\ntold you that Barclays'",
    "start": "3199490",
    "end": "3205100"
  },
  {
    "text": "response to the auditor is by\nrevealing the sum of the rs. So that's actually not\nhow zkLedger works.",
    "start": "3205100",
    "end": "3211579"
  },
  {
    "text": "They don't actually\nreveal the sum of the rs. The proof is a little\nbit more complicated.",
    "start": "3211580",
    "end": "3218720"
  },
  {
    "text": "The rs are encoded\nfor Barclays in a way that it can't see what they\nare, but it can use them.",
    "start": "3218720",
    "end": "3225590"
  },
  {
    "text": "And the consistency proof is\nto prove that that encoding was done correctly.",
    "start": "3225590",
    "end": "3231260"
  },
  {
    "text": " So again, you can see\nthe paper for details,",
    "start": "3231260",
    "end": "3237540"
  },
  {
    "text": "but I'm actually\ngoing to tell you a little bit about these proofs\nand what they look like, OK?",
    "start": "3237540",
    "end": "3243450"
  },
  {
    "text": "So, consent. The consent proof is proof of\nknowledge of secret key, sk.",
    "start": "3243450",
    "end": "3251160"
  },
  {
    "text": "So what this means is that if\nthe value in the commitment",
    "start": "3251160",
    "end": "3256260"
  },
  {
    "text": "in this entry is\nnegative, then there should be a proof of\nknowledge of secret key",
    "start": "3256260",
    "end": "3264240"
  },
  {
    "text": "to indicate that this bank\nhas consented to subtracting from their assets. ",
    "start": "3264240",
    "end": "3272720"
  },
  {
    "text": "Also, if the value\nis negative, you need to create a\nproof of assets.",
    "start": "3272720",
    "end": "3278900"
  },
  {
    "text": "Technically, you don't\nneed a proof of assets if the value is not\nnegative, but we're trying not to reveal,\nremember, which bank is",
    "start": "3278900",
    "end": "3286400"
  },
  {
    "text": "involved in which transaction. So I'm going to draw\na transaction up",
    "start": "3286400",
    "end": "3291560"
  },
  {
    "text": "here and explain a\nlittle bit about where these proofs actually go.",
    "start": "3291560",
    "end": "3297029"
  },
  {
    "start": "3297030",
    "end": "3304930"
  },
  {
    "text": "A transaction is a row. ",
    "start": "3304930",
    "end": "3314180"
  },
  {
    "text": "And there is an entry for\neach bank in the transaction.",
    "start": "3314180",
    "end": "3325252"
  },
  {
    "text": " So there is a commitment.",
    "start": "3325252",
    "end": "3332900"
  },
  {
    "text": "So let's-- negative 1 million.",
    "start": "3332900",
    "end": "3338510"
  },
  {
    "text": " And then there is also\nthese sets of proofs.",
    "start": "3338510",
    "end": "3345680"
  },
  {
    "text": "So, proof of assets,\nin particular.",
    "start": "3345680",
    "end": "3352730"
  },
  {
    "text": "And every single entry\nhas a proof of assets, even though, really, this\nis the only bank that's",
    "start": "3352730",
    "end": "3359060"
  },
  {
    "text": "spending and needs to\nprove that it has assets. ",
    "start": "3359060",
    "end": "3364190"
  },
  {
    "text": "The proof of assets is\nconstructed to look like this.",
    "start": "3364190",
    "end": "3370109"
  },
  {
    "text": "It's a new commitment,\neither to the sum of the values in the\ncolumn, or, if you're not",
    "start": "3370110",
    "end": "3376849"
  },
  {
    "text": "the spending bank, a\ncommitment to the value. And it also includes\na proof that the value",
    "start": "3376850",
    "end": "3384500"
  },
  {
    "text": "in this auxiliary\ncommitment is in range. So what do I mean by that?",
    "start": "3384500",
    "end": "3389690"
  },
  {
    "text": "I think you guys should have\ncovered this in the Pedersen commitment lecture with\nconfidential transactions, but when you're dealing\nwith cyclic groups,",
    "start": "3389690",
    "end": "3396770"
  },
  {
    "text": "you can wrap around\nthe end of the group. And that's the same as if\nyou hadn't wrapped around.",
    "start": "3396770",
    "end": "3402770"
  },
  {
    "text": "There are many\ndifferent things that can occupy one point in the\nspace of a cyclic group.",
    "start": "3402770",
    "end": "3408020"
  },
  {
    "text": "So we need to include\nproofs that your value is in a range that's expected.",
    "start": "3408020",
    "end": "3414290"
  },
  {
    "text": "And in the case of\nzkLedger, we need to prove that the\nvalue is between 0 and a certain upper\nlimit that is less",
    "start": "3414290",
    "end": "3421520"
  },
  {
    "text": "than the order of the group. And we use the\nexact same technique",
    "start": "3421520",
    "end": "3426950"
  },
  {
    "text": "that they use in confidential\ntransactions to do this-- borromean ring signatures.",
    "start": "3426950",
    "end": "3432320"
  },
  {
    "text": "What's kind of exciting is\nthat, a few months ago, there was some work done on a faster,\nsmaller, more aggregatable",
    "start": "3432320",
    "end": "3441829"
  },
  {
    "text": "version of range proofs using\na system called bullet proofs. So as you'll see\nin the evaluation,",
    "start": "3441830",
    "end": "3451250"
  },
  {
    "text": "this sounds like such\na silly little thing. Oh, yeah, also prove that\nthe value is in range. This is like 90% of all of the\nspace and work in zkLedger.",
    "start": "3451250",
    "end": "3459920"
  },
  {
    "text": "These range proofs are\nthe bane of our existence. They take up a lot of space.",
    "start": "3459920",
    "end": "3464930"
  },
  {
    "text": "They're very slow to create and\nverify, but they're necessary. So making them faster is\na really amazing thing.",
    "start": "3464930",
    "end": "3474619"
  },
  {
    "text": "Then the next thing is balance. And I think this\none is illustrative,",
    "start": "3474620",
    "end": "3479810"
  },
  {
    "text": "because it shows that a proof-- sometimes you have a\nproof not by creating an additional binary string,\nbut by the way you choose",
    "start": "3479810",
    "end": "3487580"
  },
  {
    "text": "things in your transaction. So the way that you prove\nthat no funds are created or destroyed is as follows.",
    "start": "3487580",
    "end": "3494820"
  },
  {
    "text": "So these are-- remember these\ncommitments are g to the 0. Let's say h the r1, g to\nthe negative 1 million,",
    "start": "3494820",
    "end": "3503360"
  },
  {
    "text": "h to the r2, and g to the\n1 million, h to the r3.",
    "start": "3503360",
    "end": "3508440"
  },
  {
    "text": "Now, given that we\nhave these commitments, how can we prove to\nsomeone that no assets",
    "start": "3508440",
    "end": "3515420"
  },
  {
    "text": "were created or destroyed? Well, what does it\nmean for no assets to be created or destroyed? It means that the sum of\nthe vs is equal to 0, right?",
    "start": "3515420",
    "end": "3526723"
  },
  {
    "text": "That's what it\nmeans for no assets to be created or destroyed. How can we prove to someone\nthat, given that all they're",
    "start": "3526723",
    "end": "3533210"
  },
  {
    "text": "seeing are these commitments,\nthat the sum of the vs commit to 0?",
    "start": "3533210",
    "end": "3538700"
  },
  {
    "text": "Well, let's just make the sum\nof the rs also commit to 0.",
    "start": "3538700",
    "end": "3544609"
  },
  {
    "text": "So if the sum of the rs\nalso commits to 0, then when you multiply\nthese things together,",
    "start": "3544610",
    "end": "3552180"
  },
  {
    "text": "you're going to get g\nto the sum of the vs, h to the sum of the rs.",
    "start": "3552180",
    "end": "3557539"
  },
  {
    "text": "And if both of these things\nare 0, you get g to the 0, h to the 0, which\nshould equal what?",
    "start": "3557540",
    "end": "3565080"
  },
  {
    "text": "One, exactly. So we choose our\nrs very carefully,",
    "start": "3565080",
    "end": "3571040"
  },
  {
    "text": "so that the auditor, or\nwhoever is verifying this, can just multiply all the\ncommitments together and verify",
    "start": "3571040",
    "end": "3577430"
  },
  {
    "text": "that they equal 1. And if it equals\n1, that means it would have been very difficult\nto choose vs such that you",
    "start": "3577430",
    "end": "3585640"
  },
  {
    "text": "could make this come out to 1\nwithout it actually coming out to 1. So that's the proof of balance.",
    "start": "3585640",
    "end": "3592970"
  },
  {
    "text": "It's not an actual proof. It's not a short binary string. It's literally choosing the\nexponents in a clever way",
    "start": "3592970",
    "end": "3599540"
  },
  {
    "text": "to show that we can maintain\nthe invariant that we want. Does that make sense? ",
    "start": "3599540",
    "end": "3608220"
  },
  {
    "text": "Questions about these proofs? And I didn't go into\nproof of assets very much. It's the most complicated one.",
    "start": "3608220",
    "end": "3614400"
  },
  {
    "text": "But you can check out the paper.  I see some confused faces.",
    "start": "3614400",
    "end": "3620535"
  },
  {
    "text": "You don't have to\nask about the proofs. AUDIENCE: Couldn't you just\nchoose both of the exponents?",
    "start": "3620535",
    "end": "3626020"
  },
  {
    "text": "So if you're choosing\nrs in a certain way, can't you choose\nthem in a certain way",
    "start": "3626020",
    "end": "3631140"
  },
  {
    "text": "and then choose payments\nso that they sum to 0? NEHA NARULA: Well,\nwe're trying to prove",
    "start": "3631140",
    "end": "3637770"
  },
  {
    "text": "that the payments sum to 0. That's what we want. Because that means that assets\nweren't created or destroyed.",
    "start": "3637770",
    "end": "3643950"
  },
  {
    "text": "And remember-- AUDIENCE: You're\ngenerating-- you're creating those random numbers\nin a way that they sum to zero.",
    "start": "3643950",
    "end": "3651120"
  },
  {
    "text": "So if you create them in a\nway that doesn't sum to 0? NEHA NARULA: Then\nevery-- ah, OK. So this is an important--",
    "start": "3651120",
    "end": "3656442"
  },
  {
    "text": "AUDIENCE: Change\nthe transaction so that the sum of the rs and the\nsum of the values sum to 0?",
    "start": "3656442",
    "end": "3662062"
  },
  {
    "text": "NEHA NARULA: So basically,\nwhat you're saying-- I think what you're say-- OK, you could be saying\none of two things. Number one, what if you\nchoose your vs and rs such",
    "start": "3662062",
    "end": "3670589"
  },
  {
    "text": "that it doesn't sum to 0, right? What if you produce an\ninvalid transaction? And the answer is that\neveryone will reject it.",
    "start": "3670590",
    "end": "3678060"
  },
  {
    "text": "Sort of similar\nto Bitcoin, if you don't have a valid\ntransaction, good for you. But it's going to be\nconsidered invalid by everyone",
    "start": "3678060",
    "end": "3683940"
  },
  {
    "text": "in the system. And everyone's going to\nskip it and ignore it. It's not going to be part\nof what happens, right? So this is part of\nthe proof of validity",
    "start": "3683940",
    "end": "3689807"
  },
  {
    "text": "that all of the participants\nhave consented to. The second question\nyou might be asking is, what if these\ndon't sum to 0,",
    "start": "3689807",
    "end": "3699180"
  },
  {
    "text": "but I still manage\nto figure out how to make this equal 1, right? That's what you-- OK, so that's\nthe question you're asking.",
    "start": "3699180",
    "end": "3707280"
  },
  {
    "text": "Based on the assumption that\nthe discrete logarithm problem is hard--",
    "start": "3707280",
    "end": "3712978"
  },
  {
    "text": "this is too hard to figure out. You literally cannot find-- ",
    "start": "3712978",
    "end": "3718780"
  },
  {
    "text": "there is an assumption here. These are two generators\nof the group, right? So that means the g is\nequal to h to the x,",
    "start": "3718780",
    "end": "3727279"
  },
  {
    "text": "that there's some way\nto produce one generator from the other generator. There is an assumption here\nthat figuring out what that x is",
    "start": "3727280",
    "end": "3734420"
  },
  {
    "text": "is nearly impossible. So you don't know what\ng is in terms of h.",
    "start": "3734420",
    "end": "3740510"
  },
  {
    "text": "And given that you don't know\nthis relationship between g and h, you can't figure\nout how to produce",
    "start": "3740510",
    "end": "3747800"
  },
  {
    "text": "two exponents that sum to\nwhat you want them to sum to. So is the hardness problem that\nthese systems are based on.",
    "start": "3747800",
    "end": "3760700"
  },
  {
    "text": "If you could do that,\nif you could figure out a sum of rs such that it\ngave you a 1 with the vs",
    "start": "3760700",
    "end": "3767528"
  },
  {
    "text": "you wanted, then you would\nhave broken the discrete log problem. Yes? AUDIENCE: So who\nchooses the [INAUDIBLE]",
    "start": "3767528",
    "end": "3774405"
  },
  {
    "text": "we know that they don't know the\nrelationship [INAUDIBLE] they maliciously gave those two? NEHA NARULA: Great question.",
    "start": "3774405",
    "end": "3779710"
  },
  {
    "text": "So the answer is\nthat in our system, the way that we choose g and\nh is by taking the SHA-256",
    "start": "3779710",
    "end": "3786480"
  },
  {
    "text": "hash of 0 and 1.  Those are numbers such that--",
    "start": "3786480",
    "end": "3792900"
  },
  {
    "text": "they're sufficiently\nrandom, and they show that if you took\na hash of 0 and 1,",
    "start": "3792900",
    "end": "3802050"
  },
  {
    "text": "you would have no relationship\nbetween those two. And everyone uses the same g and\nh, right, from the beginning.",
    "start": "3802050",
    "end": "3809167"
  },
  {
    "start": "3809167",
    "end": "3815240"
  },
  {
    "text": "Any other questions? OK, so we're\nrunning low on time,",
    "start": "3815240",
    "end": "3821490"
  },
  {
    "text": "but I do want to go through\nthe evaluation really quickly, because-- so this system, this paper,\nwas presented at NSDI",
    "start": "3821490",
    "end": "3828869"
  },
  {
    "text": "in April, which is a\nsystems conference. And I think part of the reason\nthat the systems community liked it was because\nit's surprisingly fast.",
    "start": "3828870",
    "end": "3836340"
  },
  {
    "text": "You might have heard that\ncomputing unencrypted data is too slow. It's infeasible. You can't do it.",
    "start": "3836340",
    "end": "3841470"
  },
  {
    "text": "Well, the answer is,\nactually, if you understand the set of computations\nyou want to do really well,",
    "start": "3841470",
    "end": "3847590"
  },
  {
    "text": "you can structure things\nusing things like these NIZKs and the discrete log\nproblem in such a way that you can do that computation\nactually pretty fast.",
    "start": "3847590",
    "end": "3856549"
  },
  {
    "text": "So zkLedger is written in Go. It uses an elliptic\ncurve as the group--",
    "start": "3856550",
    "end": "3862045"
  },
  {
    "text": "secp256k1, which is\nthe same elliptic curve that Bitcoin uses. We use range proofs to\nprevent overflow, like I said.",
    "start": "3862045",
    "end": "3870060"
  },
  {
    "text": "We use the same ones as in\nconfidential transactions and confidential assets. And it's around\n4,000 lines of code.",
    "start": "3870060",
    "end": "3876510"
  },
  {
    "text": "It's mostly\ncryptography functions. We don't actually\nimplement our own ledger,",
    "start": "3876510",
    "end": "3881579"
  },
  {
    "text": "because we're ledger agnostic. So in the evaluation we\nwant to understand how fast",
    "start": "3881580",
    "end": "3887390"
  },
  {
    "text": "is auditing, first of all? Right? And then second,\nthe construction",
    "start": "3887390",
    "end": "3892519"
  },
  {
    "text": "I described to you,\nyou might think is very slow, because\nevery bank has an entry in every transaction.",
    "start": "3892520",
    "end": "3898260"
  },
  {
    "text": "So how does this actually\nwork in practice? Can we get away with\nsuch a construction?",
    "start": "3898260",
    "end": "3904099"
  },
  {
    "text": "So first, let's talk\nabout the auditing. Auditing is really fast. So here, we are\nauditing four banks,",
    "start": "3904100",
    "end": "3909980"
  },
  {
    "text": "and we're doing a\nmeasurement called the Herfindahl-Hirschman\nIndex, so we're trying to understand market\nconcentration for a given",
    "start": "3909980",
    "end": "3916250"
  },
  {
    "text": "asset. And what's happening\nhere is the auditor is keeping up with the ledger\nand keeping these things",
    "start": "3916250",
    "end": "3923270"
  },
  {
    "text": "that we call commitment caches. So because of the\ndesign of our system",
    "start": "3923270",
    "end": "3929690"
  },
  {
    "text": "and the fact that we're using\nthese Pedersen commitments-- which, we can actually\nmaintain rolling sums",
    "start": "3929690",
    "end": "3937670"
  },
  {
    "text": "going down of these\ncommitments and use them when needing to\nanswer the auditor",
    "start": "3937670",
    "end": "3943910"
  },
  {
    "text": "or confirm that a bank\nhas the correct answer. And so this means that auditing\nfor banks is milliseconds.",
    "start": "3943910",
    "end": "3949130"
  },
  {
    "text": "It's a few milliseconds\nto audit the banks. And we see here on the x-axis we\nhave the number of transactions",
    "start": "3949130",
    "end": "3956269"
  },
  {
    "text": "in the ledger. The reason that\nauditing a bank is independent of the number of\ntransactions in the ledger",
    "start": "3956270",
    "end": "3962030"
  },
  {
    "text": "is because of these\ncommitment caches. We can do it really fast,\nassuming an online auditor who's keeping up with things.",
    "start": "3962030",
    "end": "3967670"
  },
  {
    "text": " And part of the reason for\nthat is because of our design.",
    "start": "3967670",
    "end": "3973070"
  },
  {
    "text": "It's very amenable to caching. Now, if the auditor is\nnot online and hasn't",
    "start": "3973070",
    "end": "3978380"
  },
  {
    "text": "been maintaining\ncommitment caches, then auditing is order the\nnumber of things in the ledger.",
    "start": "3978380",
    "end": "3983930"
  },
  {
    "text": "Here, we have a ledger\nwith 100,000 entries. It takes about 3.5\nseconds to audit that.",
    "start": "3983930",
    "end": "3989650"
  },
  {
    "text": "Still not so bad, really. And it's pretty linear, so\nyou could imagine, well, if you had a million entries,\nit would be 10 times that.",
    "start": "3989650",
    "end": "3996829"
  },
  {
    "text": "It would be about 30 seconds. Still pretty\nreasonable, actually.",
    "start": "3996830",
    "end": "4002510"
  },
  {
    "text": "A question some\npeople ask is, well, do we have to maintain\nthis ledger forever? How do you clean up the ledger?",
    "start": "4002510",
    "end": "4008680"
  },
  {
    "text": "You can create a snapshot\nof the state in the ledger and get rid of\nthe past, assuming",
    "start": "4008680",
    "end": "4015040"
  },
  {
    "text": "you know the set\nof auditing queries that you're going to\ndo moving forward. We don't implement this,\nbut this should be possible.",
    "start": "4015040",
    "end": "4021920"
  },
  {
    "text": "Right, so if you wanted\nto do 100 million rows, it would work out\nto be about an hour.",
    "start": "4021920",
    "end": "4028190"
  },
  {
    "text": "So here is a graph\nwhich shows how long it takes to create and verify\ntransactions in zkLedger.",
    "start": "4028190",
    "end": "4036463"
  },
  {
    "text": "And this is varying\nthe number of banks. And again, we see\nthis is linear. The more banks, the more\nentries per transaction,",
    "start": "4036463",
    "end": "4043009"
  },
  {
    "text": "the more of these commitments,\nthe more range proofs, quite honestly, is the problem. Because there's a\nrange proof per entry.",
    "start": "4043010",
    "end": "4049700"
  },
  {
    "text": "And what we see here\nis that with 10 banks, it's about a second\nor 800 milliseconds",
    "start": "4049700",
    "end": "4056090"
  },
  {
    "text": "to create a transaction,\nwhich is not unreasonable. Again, this achieves the\nmultiple per second things",
    "start": "4056090",
    "end": "4064070"
  },
  {
    "text": "we were looking for, depending\non the number of banks. However, it is\nlinear in the number of participants in the system.",
    "start": "4064070",
    "end": "4069990"
  },
  {
    "text": "So something like this is not\nreally suitable for a setting like Bitcoin, where there are\nthousands, if not millions,",
    "start": "4069990",
    "end": "4078560"
  },
  {
    "text": "of participants in the system. This graph gives you an\nidea of how all of that cost",
    "start": "4078560",
    "end": "4085799"
  },
  {
    "text": "breaks down. So these are the\ncomponents in the proofs.",
    "start": "4085800",
    "end": "4093240"
  },
  {
    "text": "And again, I think the\nthing to get from here is that range proofs are\nthe entirety of the problem.",
    "start": "4093240",
    "end": "4102000"
  },
  {
    "text": "So this is the number in a\ntransaction for k participants. So this is each slot.",
    "start": "4102000",
    "end": "4108778"
  },
  {
    "text": "There are two\ndifferent commitments. The first commitment, and\nthen the auxiliary commitment. There's two different\nconsistency proofs.",
    "start": "4108779",
    "end": "4114178"
  },
  {
    "text": "There's a disjunctive proof,\nand there's a range proof. And yeah, the commitment is\none elliptic curve point,",
    "start": "4114178",
    "end": "4122278"
  },
  {
    "text": "which in Go is a big int-- two big ints. And so that's 64 bytes.",
    "start": "4122279",
    "end": "4128429"
  },
  {
    "text": "This is something that is\nactually highly compressable. We didn't actually-- oh, OK.",
    "start": "4128430",
    "end": "4136380"
  },
  {
    "text": "Yeah, I'll get to that\npoint in a moment. But note here that the range\nproofs are slower and larger",
    "start": "4136380",
    "end": "4144109"
  },
  {
    "text": "than everything else combined. They are the entirety of\nthe cost of the system. So a faster way of doing range\nproofs would really help a lot.",
    "start": "4144109",
    "end": "4151700"
  },
  {
    "text": "It would make us be able to\nhandle many, many more banks. ",
    "start": "4151700",
    "end": "4157839"
  },
  {
    "text": "So this is the cost\nin a transaction per participant in the system. [AUDIO OUT] One thing\nthat I want to point out",
    "start": "4157840",
    "end": "4169309"
  },
  {
    "text": "is that this is all very\nhighly parallelizable.",
    "start": "4169310",
    "end": "4174410"
  },
  {
    "text": "And like I said, we're using\nGo's big int construction, which is not really\nvery optimized at all.",
    "start": "4174410",
    "end": "4181799"
  },
  {
    "text": "So I think that there are\na lot of opportunities to make this faster. So I think if we put in\nsome engineering legwork,",
    "start": "4181800",
    "end": "4190189"
  },
  {
    "text": "we could create a\nsystem that was maybe twice as fast as what we have\nnow, and could handle maybe 100",
    "start": "4190189",
    "end": "4197330"
  },
  {
    "text": "banks. So really quickly to\nwrap up, related work.",
    "start": "4197330",
    "end": "4203239"
  },
  {
    "text": "If you're interested\nin this topic, there's a lot of different\npapers to read about and study.",
    "start": "4203240",
    "end": "4208280"
  },
  {
    "text": "This is all-- confidential\nassets kicked off this line of using Pedersen\ncommitments for privacy",
    "start": "4208280",
    "end": "4213500"
  },
  {
    "text": "in cryptocurrencies. Zerocash was the origin\nof using zk-SNARKs.",
    "start": "4213500",
    "end": "4219679"
  },
  {
    "text": "They don't really support\nauditing in any fashion. Then there's a couple papers\nthat are really interesting,",
    "start": "4219680",
    "end": "4226820"
  },
  {
    "text": "one from Andrew\nLowe, actually, who's in the economics\ndepartment here at MIT,",
    "start": "4226820",
    "end": "4232010"
  },
  {
    "text": "on using secure\nmulti-party computation to attack this problem.",
    "start": "4232010",
    "end": "4238210"
  },
  {
    "text": "The issue with\nthat sort of design is that it doesn't actually\nhave the completeness guarantee",
    "start": "4238210",
    "end": "4244519"
  },
  {
    "text": "that we have. So if the ledger really\nrepresents the assets in the system, and the assets\nthat you're trying to audit,",
    "start": "4244520",
    "end": "4250778"
  },
  {
    "text": "then there's no way\nfor a participant to lie in a multi-party\ncomputation. They can use the wrong inputs. So those systems\nprovide secrecy,",
    "start": "4250778",
    "end": "4257720"
  },
  {
    "text": "but they don't\nprovide completeness. And then I mentioned\nSolidus before, which I think our techniques\nwould apply to really nicely.",
    "start": "4257720",
    "end": "4265610"
  },
  {
    "text": "And then there's\na paper, a design for doing some other sorts\nof accountability stuff",
    "start": "4265610",
    "end": "4272300"
  },
  {
    "text": "with cryptocurrencies, like\nproving you paid your taxes, or proving that money didn't go\nthrough some blacklisted thing",
    "start": "4272300",
    "end": "4280310"
  },
  {
    "text": "using zk-SNARKs. But that's not really a\nsystem, it's a design. But I think that's also a really\npromising area to consider.",
    "start": "4280310",
    "end": "4288170"
  },
  {
    "text": "So, future work. We want to consider more\napplications besides just",
    "start": "4288170",
    "end": "4295550"
  },
  {
    "text": "large investment banks\ntrading securities and assets. Can we do something\nwith clinical trials?",
    "start": "4295550",
    "end": "4302690"
  },
  {
    "text": "Can we do something\nwith supply chains? I think that these\ntechniques can be applied to a lot more areas.",
    "start": "4302690",
    "end": "4308923"
  },
  {
    "text": "And I'd love to\nhear from you guys if you have ideas on that, or\nif you're interested in working on that and want to do\na UROP, or maybe even",
    "start": "4308923",
    "end": "4315590"
  },
  {
    "text": "an M.Eng., that's definitely\nsomething that's on the table. We get surprisingly far\nwith Pedersen commitments,",
    "start": "4315590",
    "end": "4322280"
  },
  {
    "text": "but if we included\nmore interesting types of cryptographic primitives,\nwe could probably get more functionality.",
    "start": "4322280",
    "end": "4328460"
  },
  {
    "text": "So what's the type--\nwe know, given that we might want to apply this\nto different use cases, what",
    "start": "4328460",
    "end": "4333980"
  },
  {
    "text": "types of functionality\nmight we need? There's someone at\nthe Media Lab here who is interested in running\nalgorithms on research trials.",
    "start": "4333980",
    "end": "4342470"
  },
  {
    "text": "And secrecy and privacy\nis really important. I haven't even looked at his\nmachine-learning algorithms",
    "start": "4342470",
    "end": "4348710"
  },
  {
    "text": "yet, but can we run\nmachine-learning algorithms on Pedersen commitments, or\ndo we need something else?",
    "start": "4348710",
    "end": "4356090"
  },
  {
    "text": "Also, another really\nimportant area of future work is to optimize the\nimplementation. Like I said, I think we get\nat least twice as fast, if not",
    "start": "4356090",
    "end": "4362060"
  },
  {
    "text": "more. And in conclusion,\nyeah, if you want to work on any of these\nthings, please let me know.",
    "start": "4362060",
    "end": "4368300"
  },
  {
    "text": "If you're interested in using\ncryptographic primitives to achieve privacy with\ninteresting functions, let me know.",
    "start": "4368300",
    "end": "4375705"
  },
  {
    "text": "And this is the website for\nzkLedger, which at the moment is really just the paper. We have a code base which is too\nembarrassing to be released out",
    "start": "4375705",
    "end": "4384500"
  },
  {
    "text": "into the real world, but\nwe'll get there shortly, once we clean it up. So that's it.",
    "start": "4384500",
    "end": "4389590"
  },
  {
    "text": "So thanks for listening. I hope you found it interesting. [APPLAUSE]",
    "start": "4389590",
    "end": "4395170"
  },
  {
    "start": "4395170",
    "end": "4396140"
  }
]