[
  {
    "text": " The following content is\nprovided under a Creative Commons license.",
    "start": "0",
    "end": "5300"
  },
  {
    "text": "Your support will help\nMIT OpenCourseWare continue to offer high quality\neducational resources for free.",
    "start": "5300",
    "end": "11600"
  },
  {
    "text": "To make a donation or to\nview additional materials from hundreds of MIT courses,\nvisit MIT OpenCourseWare",
    "start": "11600",
    "end": "18100"
  },
  {
    "text": "at ocw.mit.edu. ",
    "start": "18100",
    "end": "24487"
  },
  {
    "text": "PROFESSOR: You get your\nquizzes back on Monday. Maybe you've had some\ntime to think about them",
    "start": "24488",
    "end": "29520"
  },
  {
    "text": "and reflect on your\nanswers and the problems that were posed, maybe how they\ncompared to the quiz that--",
    "start": "29520",
    "end": "34950"
  },
  {
    "text": "sample quiz that was put online. I think it was pretty\nfair exam overall. It looked very similar,\nactually, to the exam",
    "start": "34950",
    "end": "40739"
  },
  {
    "text": "that we've given in the\npast, but we tried to-- tried not to put any sort of\nchemical engineering problems",
    "start": "40740",
    "end": "46860"
  },
  {
    "text": "on top of the\nnumerics, which tends to lead to confusion basically. Spent a lot of time\nreading and trying",
    "start": "46860",
    "end": "52829"
  },
  {
    "text": "to understand what the\nunderlying physical problem is instead of just testing\nthe numerical methods.",
    "start": "52830",
    "end": "60450"
  },
  {
    "text": "Are there any questions\nabout the quiz now that you've gotten it back? You've seen your answers,\nthings that were unclear that were asked on there?",
    "start": "60450",
    "end": "65753"
  },
  {
    "text": "Now is a good time for\nreflection if there are.",
    "start": "65753",
    "end": "70780"
  },
  {
    "text": "No. I heard this last homework\nassignment was really long, so",
    "start": "70780",
    "end": "76090"
  },
  {
    "text": "sorry about that. I didn't write this one. [LAUGHS] I'm not going to\nTake credit for it.",
    "start": "76090",
    "end": "81730"
  },
  {
    "text": "It's hard to judge sometimes\nhow long these things take. A lot of it has to do with how\nfacile you are with coding up",
    "start": "81730",
    "end": "90280"
  },
  {
    "text": "some of the problems. So conceptually\nthey can be simple, but the coding can\nbe quite difficult, so it's hard to estimate.",
    "start": "90280",
    "end": "95590"
  },
  {
    "text": "I think this week's,\nwhich should be posted and is on the topic of\nDAE, should be easier.",
    "start": "95590",
    "end": "101020"
  },
  {
    "text": "It's only got two\nproblems instead of three. You're likely going\nto be able to leverage some of the code\nfrom your solution",
    "start": "101020",
    "end": "106780"
  },
  {
    "text": "last week for this week. So I don't think it should\nbe quite so challenging.",
    "start": "106780",
    "end": "112210"
  },
  {
    "text": "There is a last part\nto the first problem that seems to always\ngive first-year graduate",
    "start": "112210",
    "end": "119020"
  },
  {
    "text": "students trouble. Somehow you guys don't\nknow how to write down energy balances on reactors.",
    "start": "119020",
    "end": "125050"
  },
  {
    "text": "So you might ask\npointed questions about this at your office hours,\nso you don't spend time trying",
    "start": "125050",
    "end": "130209"
  },
  {
    "text": "to solve the wrong equations. This happens. I think many of you maybe were\ntaught incorrectly or just",
    "start": "130210",
    "end": "139060"
  },
  {
    "text": "forgot at some point how\nto write these things down. So the office hour is a\ngood point to bring that up,",
    "start": "139060",
    "end": "145711"
  },
  {
    "text": "and that way you don't\nspend a lot of time troubling yourself with the\nwrong system of equations.",
    "start": "145711",
    "end": "152170"
  },
  {
    "text": "Any questions? Yes. AUDIENCE: [INAUDIBLE]",
    "start": "152170",
    "end": "159542"
  },
  {
    "text": "PROFESSOR: What's that? I'd-- well, to be fair, almost\nall the lectures for the rest",
    "start": "159542",
    "end": "164980"
  },
  {
    "text": "of the class are going to be\ntaught by Professor Green. I'll step in and do some\nreview for two sessions, review before the second quiz\nand review before the final.",
    "start": "164980",
    "end": "173710"
  },
  {
    "text": "Since he's leading\nthe lectures, he'll be responsible for largely\ngenerating the homework",
    "start": "173710",
    "end": "179200"
  },
  {
    "text": "assignments. I'll try to help out\nwith that as best I can, but this will be the\nlast formal lecture",
    "start": "179200",
    "end": "187420"
  },
  {
    "text": "you get from me this term. Other questions? Well, that's very,\nvery sweet of you.",
    "start": "187420",
    "end": "193720"
  },
  {
    "text": "Thank you so much. Least there wasn't\nany hushed yes!",
    "start": "193720",
    "end": "201670"
  },
  {
    "text": "Today's lecture is\nour last one on DAE, so we're only going to do two. You're going to see today\nthat differential algebraic",
    "start": "201670",
    "end": "208719"
  },
  {
    "text": "equations are pretty\ncomplicated actually. And when they get\nsufficiently complicated,",
    "start": "208720",
    "end": "214870"
  },
  {
    "text": "you really need to reach\nout to existing codes that are designed to solve particular\nclasses of differential",
    "start": "214870",
    "end": "222790"
  },
  {
    "text": "algebraic equations. So for you, it's\nmore important to be able to identify in the\nmodels you formulate when",
    "start": "222790",
    "end": "229600"
  },
  {
    "text": "these complications\narise and what are the essential\ningredients of the model that",
    "start": "229600",
    "end": "234880"
  },
  {
    "text": "can be put into one\nof these solvers that you get a result\nthat isn't nonsense. And that's what we're\ngoing to do today.",
    "start": "234880",
    "end": "240790"
  },
  {
    "text": "There's going to be lots of\nexamples to work through. So make sure you're\nsitting next to somebody you like because I'm\ngoing to ask you to try",
    "start": "240790",
    "end": "245799"
  },
  {
    "text": "to think about these\nthings and discuss things as we go through. ",
    "start": "245800",
    "end": "250857"
  },
  {
    "text": "Let me review where these\ncomplications come from. So last time we talked\nbriefly about semi-explicit and fully-implicit differential\nalgebraic equations.",
    "start": "250857",
    "end": "258256"
  },
  {
    "text": "I told you in principle, you\ncould simulate these things with backwards\ndifference formulas in solving nonlinear\nequations at each time step",
    "start": "258256",
    "end": "265327"
  },
  {
    "text": "and just marching forward. Did this in your\nhomework for ODE IVP So you can do the same thing\nfor differential algebraic",
    "start": "265327",
    "end": "272950"
  },
  {
    "text": "equations. But there was a catch to\nthat, and I illustrated that at the very end.",
    "start": "272950",
    "end": "278020"
  },
  {
    "text": "So maybe your brain was fried\nat the end, and you missed this. It's good to recap. So I showed you an\nexample of a stirred tank",
    "start": "278020",
    "end": "285069"
  },
  {
    "text": "where you had some-- you had transport of some\nsolute into the stirred tank,",
    "start": "285070",
    "end": "290410"
  },
  {
    "text": "and then you're pulling it out\nat a different concentration. And we're trying to track\nthe dynamics of the system,",
    "start": "290410",
    "end": "295970"
  },
  {
    "text": "the concentration in and\nthe concentration out, and we imagined a\nproblem in which we measured and the\nconcentration in",
    "start": "295970",
    "end": "301630"
  },
  {
    "text": "and we tried to predict\nthe concentration out. So we had a system of\ndifferential and algebraic",
    "start": "301630",
    "end": "308590"
  },
  {
    "text": "equations to solve. And I showed you that if I\nused the backward Euler method,",
    "start": "308590",
    "end": "313600"
  },
  {
    "text": "the lowest order backwards\ndifference formula that I can-- of the canonical\nclass of these things",
    "start": "313600",
    "end": "318729"
  },
  {
    "text": "that I can craft, where I\napproximate the derivative of an unknown with a relative\nerror or an error proportional",
    "start": "318730",
    "end": "327250"
  },
  {
    "text": "to the time step delta t,\nthat carrying out one time step with this backward\ndifferentiation formula",
    "start": "327250",
    "end": "333460"
  },
  {
    "text": "would determine c1 in\nprinciple exactly-- if I knew gamma exactly,\nI would know c1 exactly.",
    "start": "333460",
    "end": "338764"
  },
  {
    "text": "And it would determine c2 to\nwithin order delta t-squared. It's the local truncation error\nhere was order delta t-squared.",
    "start": "338765",
    "end": "346159"
  },
  {
    "text": "So you just substitute\nthis formula in, and you ask does this\nerror term change at all. At some point, I wind up\nmultiplying by delta t,",
    "start": "346160",
    "end": "352900"
  },
  {
    "text": "and so I go from order delta t\nto order delta t-squared It's the numerical error\nthat gets carried around",
    "start": "352900",
    "end": "358240"
  },
  {
    "text": "in this calculation. I just switch the\nmodel a little bit.",
    "start": "358240",
    "end": "364180"
  },
  {
    "text": "It seems like a\nirrelevant change, but it turns out to be\nincredibly significant.",
    "start": "364180",
    "end": "369210"
  },
  {
    "text": "So now I imagine a\ndifferent problem in which I'm measuring\nc2 the outlet,",
    "start": "369210",
    "end": "375490"
  },
  {
    "text": "and I want to\npredict c1 the inlet. I still have a system of\nDAEs that I have to solve,",
    "start": "375490",
    "end": "382289"
  },
  {
    "text": "and if I applied the\nbackwards Euler method, well, c2 is\nautomatically determined by this algebraic equation.",
    "start": "382290",
    "end": "388350"
  },
  {
    "text": "So I know that exactly. I got to go up to this first\nequation and solve it for c1,",
    "start": "388350",
    "end": "393419"
  },
  {
    "text": "and when I do, I have\nto have an approximation for the derivative. And the derivative is\nproportional to delta t--",
    "start": "393420",
    "end": "400576"
  },
  {
    "text": "carries an error around with it\nthat's proportional to delta t. So I know c1 to within order\ndelta t, not order delta",
    "start": "400576",
    "end": "407879"
  },
  {
    "text": "t-squared like in\nthe previous model. So there's something\nfundamentally different about these two circumstances.",
    "start": "407879",
    "end": "413129"
  },
  {
    "text": "And all I did was go from c1 to\nc2 in this algebraic equation. So that's peculiar,\nand that should",
    "start": "413130",
    "end": "419505"
  },
  {
    "text": "make you really suspicious\nabout your ability to solve these\nproblems accurately. And here was the third\nexample I gave you.",
    "start": "419506",
    "end": "426010"
  },
  {
    "text": " So I said imagine this\nsystem of DAEs instead.",
    "start": "426010",
    "end": "432009"
  },
  {
    "text": "So here's the\ndifferential equation. Here's an algebraic equation. Apply the backward Euler method.",
    "start": "432010",
    "end": "437340"
  },
  {
    "text": "Well, c3 is determined\nautomatically by this algebraic equation. I know it exactly.",
    "start": "437340",
    "end": "442680"
  },
  {
    "text": "C2 is related to the\nderivative of c3, so I need to approximate it with\nmy backward Euler derivative.",
    "start": "442680",
    "end": "448270"
  },
  {
    "text": "And that picks up an\nerror, order delta t. C1 is equal to the\nderivative of c2,",
    "start": "448270",
    "end": "455110"
  },
  {
    "text": "so I need an\napproximation for c2. The derivative of c2 that's the\nbackwards Euler approximation.",
    "start": "455110",
    "end": "460479"
  },
  {
    "text": "That has an error that's\nproportional to order delta t. But c2 itself also has an error\nproportional to order delta t.",
    "start": "460480",
    "end": "469270"
  },
  {
    "text": "And order delta t divided\nby delta t is order 1. So I get c3. I get c2.",
    "start": "469270",
    "end": "475660"
  },
  {
    "text": "I even know what c1 is. I solve this problem with my\nbackwards difference formula, and I have no resolution of\nc1, no clue what that value is.",
    "start": "475660",
    "end": "486230"
  },
  {
    "text": "So this is some\ncomplicated control scheme that I've set up, and I\nneed to know the value of c1",
    "start": "486230",
    "end": "491260"
  },
  {
    "text": "to figure out how to\noperate this process. I'm lost. This is never going to work.",
    "start": "491260",
    "end": "496780"
  },
  {
    "text": "So these three problems\nhave fundamental differences between them. And I'm going to show\nyou how to predict",
    "start": "496780",
    "end": "503169"
  },
  {
    "text": "when these differences are going\nto occur, how to name them. So the stirred\ntank example 1, it",
    "start": "503170",
    "end": "510180"
  },
  {
    "text": "carried a local truncation\nerror, one time step order delta-t squared. Stirred tank example 2 carried\na local truncation error.",
    "start": "510180",
    "end": "516719"
  },
  {
    "text": "It's order delta-t. This third DAE example had\na local truncation error that's order 1.",
    "start": "516720",
    "end": "521729"
  },
  {
    "text": "No change in delta-t\nwill improve my solution to that problem. It's independent of how I choose\nto do my time setting, which,",
    "start": "521730",
    "end": "530570"
  },
  {
    "text": "of course, is ridiculous. So here's another problem.",
    "start": "530570",
    "end": "535840"
  },
  {
    "text": " And I'd like you\nto try to do this.",
    "start": "535840",
    "end": "542942"
  },
  {
    "text": "We'll see how far you\ncan get through it. You don't have to get\nall the way through it, but see how far you can\nget through this problem. So can you apply the\nbackward Euler method",
    "start": "542942",
    "end": "550280"
  },
  {
    "text": "to this system of DAEs\nand try to predict how the air propagates.",
    "start": "550280",
    "end": "555425"
  },
  {
    "text": "[INTERPOSING VOICES] ",
    "start": "555425",
    "end": "734760"
  },
  {
    "text": "OK, I don't want to break up\nthe conversation too much, but tell me what you're\nfinding as you try to do this.",
    "start": "734760",
    "end": "741019"
  },
  {
    "text": "Yes. AUDIENCE: We found\nthat c3 has to be 0. PROFESSOR: OK. How did you find\nthat c3 has to be 0?",
    "start": "741020",
    "end": "747610"
  },
  {
    "text": "AUDIENCE: Stick in\nthis [INAUDIBLE] that's what the difference\nis of the [INAUDIBLE] PROFESSOR: Yes. AUDIENCE: [INAUDIBLE]",
    "start": "747610",
    "end": "754400"
  },
  {
    "text": "PROFESSOR: Right. AUDIENCE: [INAUDIBLE] PROFESSOR: Right. AUDIENCE: [INAUDIBLE] PROFESSOR: OK, so\nthis is very clever,",
    "start": "754400",
    "end": "760655"
  },
  {
    "text": "and this has to do with how\nthe model itself is formulated. So you did manipulations with\nthe fundamental equations",
    "start": "760655",
    "end": "769040"
  },
  {
    "text": "that I wrote down to\ndetermine that c3 had to be 0.",
    "start": "769040",
    "end": "774470"
  },
  {
    "text": "That's good. We can do that. We can look at the equations. We can figure how to eliminate\nvariables and find out-- c3 in this case\nalways has to be 0.",
    "start": "774470",
    "end": "781604"
  },
  {
    "text": "That may or may not be\nobvious, but one way to do it is take this constraint equation\nand take its derivative.",
    "start": "781604",
    "end": "787264"
  },
  {
    "text": "This has to hold at\nevery point in time, so its derivative must hold\nat every point in time. Substitute these\nother two equations",
    "start": "787264",
    "end": "793220"
  },
  {
    "text": "in, c1 dot plus c2 dot\neliminates c1 and c2, and all that will be\nleft is c3 has to be 0.",
    "start": "793220",
    "end": "800090"
  },
  {
    "text": "So if I manipulate\nthese equations, I know c3 has to be 0. Let's suppose I don't manipulate\nthe equations, though.",
    "start": "800090",
    "end": "806660"
  },
  {
    "text": "Let's suppose I just put in the\nbackward Euler approximation over here for the\nderivative, and I evaluate c1, c2 and\nc3 at the current time",
    "start": "806660",
    "end": "815930"
  },
  {
    "text": "and ask what is c1, c2, and c3\nat the current time in terms of what it was at\nthe previous time",
    "start": "815930",
    "end": "821369"
  },
  {
    "text": "And you get an answer\nthat looks like this. So there's a simple\nsystem of equations that one has to solve. It's a three-by-three system,\nand it's easy to eliminate.",
    "start": "821369",
    "end": "828500"
  },
  {
    "text": "I didn't really expect you-- actually expected\nthis answer to come up because you guys\nare all very clever, so you try to make\nthings easy beforehand.",
    "start": "828500",
    "end": "834770"
  },
  {
    "text": "But it's-- there's\na problem here. If I try to just do the\nbackwards difference formula with the equations\nas they're written,",
    "start": "834770",
    "end": "843670"
  },
  {
    "text": "I'll find out that\nwhen I solve this thing that c1 will be c1 minus c2 at\nthe previous time step over 2",
    "start": "843670",
    "end": "850389"
  },
  {
    "text": "plus an order delta\nt-squared error. C2 will take on the opposite\nsign plus an order delta",
    "start": "850390",
    "end": "855950"
  },
  {
    "text": "t-squared error. C3 will be minus c1\nplus c2 over 2 delta t",
    "start": "855950",
    "end": "865280"
  },
  {
    "text": "plus an order delta t error. And actually if I were to apply\nsuccessive approximations,",
    "start": "865280",
    "end": "872900"
  },
  {
    "text": "different-- if I step-- take many steps in a row with\nthis backward Euler method, there's nothing to guarantee\nthat these constraints are",
    "start": "872900",
    "end": "879601"
  },
  {
    "text": "satisfied exactly. I can have numerical\nerror in my solution of this algebraic equation.",
    "start": "879601",
    "end": "886700"
  },
  {
    "text": "So it isn't necessarily true\nthat in my numerical solution c1 plus c2 is equal to 0.",
    "start": "886700",
    "end": "892400"
  },
  {
    "text": "I can show you right\nhere if I add c1 to c2. Well, these two are the same. They'll cancel, but am I\nguaranteed that these errors",
    "start": "892400",
    "end": "898370"
  },
  {
    "text": "will cancel, too? Or will there be a\nsmall numerical error that propagates?",
    "start": "898370",
    "end": "903490"
  },
  {
    "text": "So model formulation is key. This problem is like\nstirred tank problem 2.",
    "start": "903490",
    "end": "909529"
  },
  {
    "text": "One of our solutions\nlost in order of accuracy in the local truncation error. It's not delta t-squared.",
    "start": "909530",
    "end": "915320"
  },
  {
    "text": "It's order delta t. And what you want it to do,\nwhich is not necessarily",
    "start": "915320",
    "end": "921170"
  },
  {
    "text": "a bad thing, was to try\nto use this constraint to somehow eliminate\nequations and simplify things.",
    "start": "921170",
    "end": "927801"
  },
  {
    "text": "That can be helpful,\nbut it can also be true that if I use this\nconstraint to simplify equations and eliminate\nthings, my numerical solutions",
    "start": "927801",
    "end": "934580"
  },
  {
    "text": "may no longer satisfy\nthe constraint at all. They may drift away from\nthat algebraic equation.",
    "start": "934580",
    "end": "941553"
  },
  {
    "text": "Does that makes sense? I'm not controlling the error\nwith respect to that equation anymore. ",
    "start": "941554",
    "end": "950949"
  },
  {
    "text": "So how do you give a name\nto this kind of behavior? And the thing one talks about\nis the differential index",
    "start": "950950",
    "end": "960340"
  },
  {
    "text": "of a DAE system. So let's look at the\nstirred tank example 1, and let's ask this question.",
    "start": "960340",
    "end": "966550"
  },
  {
    "text": "How many time\nderivatives are needed to convert to a system of\nindependent ODEs having",
    "start": "966550",
    "end": "972910"
  },
  {
    "text": "differentials of\nall the unknowns. So there are two\nunknowns in this system. One is c1, and the other c2.",
    "start": "972910",
    "end": "979570"
  },
  {
    "text": "Actually have one\nequation, which contains a differential of c2. How many derivatives of\nthese equations with time",
    "start": "979570",
    "end": "985960"
  },
  {
    "text": "do I need to take in order to\nget an equivalent ODE system?",
    "start": "985960",
    "end": "991660"
  },
  {
    "text": "And it's just one. If I take the derivative\nof equation 2, I'll get a differential\nequation for c1.",
    "start": "991660",
    "end": "997140"
  },
  {
    "text": "Now, I have a differential\nequation for c1 and a differential\nequation for c2.",
    "start": "997140",
    "end": "1002540"
  },
  {
    "text": "DAEs of this type,\nwhere I only have to take the time derivative once\nof the algebraic constraints,",
    "start": "1002540",
    "end": "1007790"
  },
  {
    "text": "are called index 1 DAEs. We saw that when we applied\nthe backwards difference",
    "start": "1007790",
    "end": "1013830"
  },
  {
    "text": "formula to stirred\ntank example 1, the local truncation error\nwas the same as what we would get in an ODE IVP system.",
    "start": "1013830",
    "end": "1021070"
  },
  {
    "text": "So index 1-- DAEs are easy to solve. They behave like ODE IVPs.",
    "start": "1021070",
    "end": "1028619"
  },
  {
    "text": "You determine whether\nit's index 1 or not by asking how many\nderivatives do I have to take in order to get\na system of independent ODEs.",
    "start": "1028619",
    "end": "1036220"
  },
  {
    "text": "So I put this\ntogether with this, I have two independent ODEs. I could solve these, subject to\nsome set of initial conditions,",
    "start": "1036220",
    "end": "1043594"
  },
  {
    "text": "and the solution\nmight be the same as the solution to the DAE. Let's do stirred\ntank example 2 now.",
    "start": "1043594",
    "end": "1049690"
  },
  {
    "text": " So here we go.",
    "start": "1049690",
    "end": "1054710"
  },
  {
    "text": "They look very\nsimilar, but now c2 appears in the algebraic\nequation instead of c1. So let's take a derivative\nof the algebraic equation,",
    "start": "1054710",
    "end": "1062360"
  },
  {
    "text": "and I get a differential\nequation for c2. But I already had a\ndifferential equation for c2. I want a differential\nequation for c1.",
    "start": "1062360",
    "end": "1069620"
  },
  {
    "text": "So what do I do? While I know dc2\ndt from up here. So let's substitute that\nin and solve for c1.",
    "start": "1069620",
    "end": "1076740"
  },
  {
    "text": "So a substitute\nequation 1 in here. I solve for c1. Now, let's take\nanother derivative. Call this equation 3.",
    "start": "1076740",
    "end": "1082220"
  },
  {
    "text": "Derivative of equation\n3 now gives me a differential equation for c1. It's also in terms of dc2 dt.",
    "start": "1082220",
    "end": "1089769"
  },
  {
    "text": "If I want-- I don't have to--\nbut if I want to, I can substitute for\nthat again to just get dc1 dt in terms of c1 and c2.",
    "start": "1089770",
    "end": "1097490"
  },
  {
    "text": "But it took two\nderivatives to generate a system of independent\nODEs from the DAEs.",
    "start": "1097490",
    "end": "1106430"
  },
  {
    "text": "And this is called index 2. So it's a different\ncharacter from index 1.",
    "start": "1106430",
    "end": "1112040"
  },
  {
    "text": "We saw what happens. We tend to lose an order\nof accuracy at index 2. Somehow index 2 problems are\nmore sensitive than index 1",
    "start": "1112040",
    "end": "1119600"
  },
  {
    "text": "problems. Here's another example. ",
    "start": "1119600",
    "end": "1125370"
  },
  {
    "text": "So DAE sample 3 is going\nto proceed the same way. So first we need a\ndifferential equation.",
    "start": "1125370",
    "end": "1133549"
  },
  {
    "text": "Which one's missing here? We don't have differential\nequation for c1, and that's what\nwe're hunting for. So let's take a derivative\nof the third equation,",
    "start": "1133549",
    "end": "1140590"
  },
  {
    "text": "the algebraic equation. We get c3 dot is gamma dot. And we already have an\nequation for c3 dot.",
    "start": "1140590",
    "end": "1145630"
  },
  {
    "text": "That was 2. So substitute 2 in. So now we got c2 is gamma\ndot, but we're really",
    "start": "1145630",
    "end": "1152039"
  },
  {
    "text": "looking for something\nin terms of c1, so let's take the\nderivative again. We've got c2 [? dot ?]\nis gamma dot dot.",
    "start": "1152039",
    "end": "1159140"
  },
  {
    "text": "Doesn't help us much, but c2\ndot we know is equal to c1. So we substitute one more time\nand take a third derivative.",
    "start": "1159140",
    "end": "1165110"
  },
  {
    "text": "Now, we have a differential\nequation for c1. And we have differential\nequations for c2 and c3.",
    "start": "1165110",
    "end": "1171169"
  },
  {
    "text": " We can take this is the\ndifferential equation for c3.",
    "start": "1171170",
    "end": "1176340"
  },
  {
    "text": "This is the differential\nequation for c2. This is the differential\nequation for c1. Some subset of\nthese can be chosen,",
    "start": "1176340",
    "end": "1184500"
  },
  {
    "text": "and we can replace\nthis algebraic equation with a differential equation. This is an index 3 DAE.",
    "start": "1184500",
    "end": "1193154"
  },
  {
    "text": "It's not always a good\nidea to replace the DAE system with these derivatives.",
    "start": "1193154",
    "end": "1198370"
  },
  {
    "text": "I can write down-- I can have a particular\nfunction that's equal to 0 and higher-order\nderivatives of that function",
    "start": "1198370",
    "end": "1205120"
  },
  {
    "text": "are also equal to 0. But the solution to those\ndifferential equations are not necessarily\nequal to that function.",
    "start": "1205120",
    "end": "1211477"
  },
  {
    "text": "There are lots of functions that\nmight have this same property that its derivative-- certain\nnumber of derivatives of it are equal to 0.",
    "start": "1211477",
    "end": "1217750"
  },
  {
    "text": "So there have to be\nextra initial conditions or constraints on\nthe solution that confine me to the\nmanifold of solutions",
    "start": "1217750",
    "end": "1224350"
  },
  {
    "text": "that reflects the DAEs. We'll talk about consistent\ninitialization later on. And that's going to\nfix this problem.",
    "start": "1224350",
    "end": "1230220"
  },
  {
    "text": "So it's not always a\ngood idea to do this, but it's one way\nof understanding, given this model, what sort of\nsensitivity is it can exhibit.",
    "start": "1230220",
    "end": "1238570"
  },
  {
    "text": "We try to calculate\nits differential index. Yes? AUDIENCE: So [INAUDIBLE]",
    "start": "1238570",
    "end": "1247282"
  },
  {
    "text": "PROFESSOR: Yes. Yes. AUDIENCE: [INAUDIBLE] PROFESSOR: Well, we\nhave to be careful.",
    "start": "1247282",
    "end": "1252730"
  },
  {
    "text": "We need to choose a set that\nare independent of the others. OK. So like these three are clearly\ngoing to be independent,",
    "start": "1252730",
    "end": "1259135"
  },
  {
    "text": "and it's going to be OK. It's going to be a problem if I\nchoose this one and these two.",
    "start": "1259135",
    "end": "1264687"
  },
  {
    "text": "They're not going to be\nindependent of each other. So we have to select\nindependent ones from the set. It may not be obvious what\nindependent means in general.",
    "start": "1264687",
    "end": "1271525"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] PROFESSOR: 1, 2, 6\ncould also work, yes. Yes. ",
    "start": "1271525",
    "end": "1281500"
  },
  {
    "text": "So in general-- not in general. Let's talk about the\ndifferential index",
    "start": "1281500",
    "end": "1287530"
  },
  {
    "text": "of a semi-explicit DAE system. Remember semi-explicit meant\nthat the differential variables",
    "start": "1287530",
    "end": "1295090"
  },
  {
    "text": "can be written as\nx dot or dx dt is equal to some\nfunction of x and y.",
    "start": "1295090",
    "end": "1300309"
  },
  {
    "text": "Y are the algebraic\nstates, and they satisfy a separate equation, g\nof x and y and t is equal to 0.",
    "start": "1300310",
    "end": "1306770"
  },
  {
    "text": "Semi-explicit form. So with a semi-explicit\nDAE, the differential index",
    "start": "1306770",
    "end": "1312720"
  },
  {
    "text": "is defined as the minimum\nnumber of differentiations required to convert the DAE to\na system of independent ODEs.",
    "start": "1312720",
    "end": "1320270"
  },
  {
    "text": "What does that mean? Means let's take the\nalgebraic equations and let's take a time\nderivative of them.",
    "start": "1320270",
    "end": "1326170"
  },
  {
    "text": "That will give us\na new function. Call it g1. It's going to be a function\nof the differential",
    "start": "1326170",
    "end": "1334090"
  },
  {
    "text": "state, the algebraic state,\nand the time derivative of the algebraic state.",
    "start": "1334090",
    "end": "1340116"
  },
  {
    "text": "It could also be a\nfunction of the time derivative of the\ndifferential state, but we know that in terms of f,\nwhich is a function of x and y.",
    "start": "1340116",
    "end": "1347309"
  },
  {
    "text": "So let's not try putting x\ndot in there for convenience. Let's just write out like this. In principle, we can do this.",
    "start": "1347310",
    "end": "1353466"
  },
  {
    "text": "Let's take two\nderivatives of it. It will be the same way. It'll give us some\nfunction g2, which is a function of\nthe differential",
    "start": "1353466",
    "end": "1359950"
  },
  {
    "text": "state, the algebraic state,\nand the time derivative of the algebraic state. Let's take as many\nof these as we need.",
    "start": "1359950",
    "end": "1366660"
  },
  {
    "text": "It will give us a\nsystem of equations that we can eventually solve\nfor the time derivatives of all",
    "start": "1366660",
    "end": "1371860"
  },
  {
    "text": "the algebraic states and convert\nthis DAE to a system of ODEs. And the question is how\nmany of these derivatives",
    "start": "1371860",
    "end": "1377980"
  },
  {
    "text": "do I have to take? Index 1, I need to take one. Index 2, I need both\nsets of equations",
    "start": "1377980",
    "end": "1384730"
  },
  {
    "text": "in order to get something that\nI can actually solve for dy dt. Index 3, I get to take three\nderivatives and higher.",
    "start": "1384730",
    "end": "1391450"
  },
  {
    "text": " OK, so here's an example.",
    "start": "1391450",
    "end": "1398110"
  },
  {
    "text": "Let's see if we can\nwork through this. So we have a DAE system.",
    "start": "1398110",
    "end": "1403929"
  },
  {
    "text": "Can you calculate the\ndifferential index of this system?",
    "start": "1403930",
    "end": "1409309"
  },
  {
    "text": " Go ahead. ",
    "start": "1409310",
    "end": "1439220"
  },
  {
    "text": "Not 0. Not 0. ODE IVP is-- are\nDAEs of index 0.",
    "start": "1439220",
    "end": "1446430"
  },
  {
    "text": "They require no\nderivatives to generate a system of ordinary\ndifferential equations. ",
    "start": "1446430",
    "end": "1454651"
  },
  {
    "text": "What do you think? AUDIENCE: [INAUDIBLE] PROFESSOR: Index 2 you say. How do you come to index 2?",
    "start": "1454651",
    "end": "1460270"
  },
  {
    "text": "Why is it index 2? How'd you do it? AUDIENCE: [INAUDIBLE]",
    "start": "1460270",
    "end": "1465354"
  },
  {
    "text": "PROFESSOR: OK, differentiate\nthe algebraic equation. AUDIENCE: Stick it\nin [INAUDIBLE] 4. You get c3 for 0.",
    "start": "1465354",
    "end": "1470640"
  },
  {
    "text": "Then you have to\ndifferentiate [INAUDIBLE] PROFESSOR: Good so\ndifferentiate this equation.",
    "start": "1470640",
    "end": "1476770"
  },
  {
    "text": "Substitute for c1\ndot and c2 dot. C1 minus c1 will be 0\nc2 minus c2 will be 0.",
    "start": "1476770",
    "end": "1484100"
  },
  {
    "text": "So you have 2c3 equals 0. That's still an\nalgebraic equation. We need one more derivative\nto get a differential equation",
    "start": "1484100",
    "end": "1491000"
  },
  {
    "text": "for the only algebraic\nstate we have, c3. So one more derivative\nwill tell us dc3 dt is 0.",
    "start": "1491000",
    "end": "1499790"
  },
  {
    "text": "So two derivatives to get\ndifferential equations. It's an 2 to DAE. Sam? SAM: What if you\ncan get c3 equals 0",
    "start": "1499790",
    "end": "1507090"
  },
  {
    "text": "and just eliminate\nit then wouldn't you write an equivalent some simple\nequations, but that would be",
    "start": "1507090",
    "end": "1512278"
  },
  {
    "text": "[INAUDIBLE]? PROFESSOR: You could. So we could write\nan equivalent system of equations that says\ninstead of this equation,",
    "start": "1512278",
    "end": "1518500"
  },
  {
    "text": "report c3 equals 0. That's model formulation. Here we've given--\nwe're given a model, and we're asked\nwhat index it is.",
    "start": "1518500",
    "end": "1526160"
  },
  {
    "text": "We could formulate\na different model, and the model will\nhave a different index. If I were to replace this\nequation with c3 equals 0,",
    "start": "1526160",
    "end": "1533600"
  },
  {
    "text": "what would the index of\nthe DAE system be instead? Index 1 instead.",
    "start": "1533600",
    "end": "1539270"
  },
  {
    "text": "I already told you index 2 is\nharder to solve than index 1, so if you can formulate\nan index 1 DAE, you should probably do it.",
    "start": "1539270",
    "end": "1545240"
  },
  {
    "text": "But it may not be obvious\nwhether you have or haven't. So it's an issue of\nmodel formulation. It's a great question.",
    "start": "1545240",
    "end": "1551760"
  },
  {
    "text": "Does that distinction--\nis that clear? Or is it a little--",
    "start": "1551760",
    "end": "1557370"
  },
  {
    "text": "am I not making it\nclear how this works? Unresponsive.",
    "start": "1557370",
    "end": "1562950"
  },
  {
    "text": "OK. It's OK. Let's-- there's a generic index\n1 example that we can talk",
    "start": "1562950",
    "end": "1569360"
  },
  {
    "text": "about actually. So let's take a look at a\nsemi-explicit DAE system.",
    "start": "1569360",
    "end": "1575360"
  },
  {
    "text": "So we have x dot is f of xy\nand t and 0 is g of xy and t.",
    "start": "1575360",
    "end": "1583240"
  },
  {
    "text": "Let's take the time derivative\nof the algebraic equation.",
    "start": "1583240",
    "end": "1588770"
  },
  {
    "text": "So the total derivative\nof g with respect to t is the Jacobian\nof g with respect",
    "start": "1588770",
    "end": "1593990"
  },
  {
    "text": "to x times dx dt plus\nthe Jacobian of g with respect to y times dy\ndt plus the derivative of g--",
    "start": "1593990",
    "end": "1603260"
  },
  {
    "text": "partial derivative of\ng with respect to t. And now let's solve. Let's push the dy dt term to\nthe other side of the equation,",
    "start": "1603260",
    "end": "1612030"
  },
  {
    "text": "and let's substitute for dx dt. We know dx dt is f, so you\nget this equation here.",
    "start": "1612030",
    "end": "1617919"
  },
  {
    "text": "If the Jacobian is full rank-- if dg dy is full rank, then\nI can invert this matrix,",
    "start": "1617920",
    "end": "1625840"
  },
  {
    "text": "and I automatically\nget my system of ODEs for the algebraic states. ",
    "start": "1625840",
    "end": "1636150"
  },
  {
    "text": "What's problematic\nabout this equation when dg dy is not full rank?",
    "start": "1636150",
    "end": "1641289"
  },
  {
    "text": "That should be a partial. That's sloppy. I was doing this\nat 1:00 last night, so that's why that's there.",
    "start": "1641289",
    "end": "1647040"
  },
  {
    "text": "What's the-- what's problematic\nabout this root finding problem here if dg dy or the Jacobian\nof g with respect to y",
    "start": "1647040",
    "end": "1655850"
  },
  {
    "text": "is not full rank?  You recall? ",
    "start": "1655850",
    "end": "1665401"
  },
  {
    "text": "If-- AUDIENCE: [INAUDIBLE] PROFESSOR: Yes, you won't be\nable to compute the inverse",
    "start": "1665401",
    "end": "1670930"
  },
  {
    "text": "to get your dy dt's. That's true. Remember this Jacobian--\nif it's not full rank, it's determinant is 0.",
    "start": "1670930",
    "end": "1677950"
  },
  {
    "text": "There is no inverse\nof this thing. We talked once about the\nsystems of nonlinear equations",
    "start": "1677950",
    "end": "1683350"
  },
  {
    "text": "and locally unique solutions,\nthe so-called inverse function theorem.",
    "start": "1683350",
    "end": "1689130"
  },
  {
    "text": "We can only guarantee there is\na locally unique solution when I can invert this thing.",
    "start": "1689130",
    "end": "1695040"
  },
  {
    "text": "That if I got in really\nclose to the solution, it looked like a linear\nsystem of equations. That linear system of\nequations had a unique solution",
    "start": "1695040",
    "end": "1701820"
  },
  {
    "text": "associated within. And everything was good. We were happy. So index 1 DAEs\nhave that property.",
    "start": "1701820",
    "end": "1708250"
  },
  {
    "text": "If I wanted to solve\nthis equation for y, there will be a locally\nunique solution for y.",
    "start": "1708250",
    "end": "1714738"
  },
  {
    "text": "Higher index DAEs don't\nhave that property. We know that's a sort of\nunhappy generic circumstance",
    "start": "1714739",
    "end": "1719970"
  },
  {
    "text": "to be in if we have to\nsolve this equation. It can be hard to find\nthose roots using, say, Newton-Raphson because\nthe Jacobian [? e ?]",
    "start": "1719970",
    "end": "1727470"
  },
  {
    "text": "would need to become singular\nduring the root finding procedure.",
    "start": "1727470",
    "end": "1732570"
  },
  {
    "text": "This is connected\nintimately to what we did for systems of\nnonlinear equations. So for an index 1 DAE,\nyou can show its index",
    "start": "1732570",
    "end": "1739410"
  },
  {
    "text": "1 because this\nJacobian is invertible.",
    "start": "1739410",
    "end": "1744880"
  },
  {
    "text": "Let's do some more examples\non differential index. This seems to be the\nmost important thing. If I have a model,\nwhat's its index",
    "start": "1744880",
    "end": "1750790"
  },
  {
    "text": "because its index is going\nto tell me how sensitive it is to small perturbations.",
    "start": "1750790",
    "end": "1756840"
  },
  {
    "text": "So here's a model. It's the same as the\nmodel you saw before, but now it's two mixing tanks. So here comes an inlet flow\nq1 carrying concentration c1.",
    "start": "1756840",
    "end": "1766770"
  },
  {
    "text": "Out comes the same flow q1\ncarrying concentration c2. The mixer has volume v1.",
    "start": "1766770",
    "end": "1773540"
  },
  {
    "text": "And then I blend\nthis with some more of whatever the solute\nis at a flow rate of q2",
    "start": "1773540",
    "end": "1780640"
  },
  {
    "text": "and a concentration c3. And those both go\ninto this tank, and they come out concentration\nc4, flow rate q1 plus q2,",
    "start": "1780640",
    "end": "1788910"
  },
  {
    "text": "and this has volume v2. Does that look good? Well-posed model?",
    "start": "1788910",
    "end": "1794759"
  },
  {
    "text": "OK, so here's your material\nbalances on the mixers. And I'm going to give\nyou different algebraic",
    "start": "1794760",
    "end": "1800400"
  },
  {
    "text": "constraints. So this is a problem now where\nwe say measure c1 and c3.",
    "start": "1800400",
    "end": "1806120"
  },
  {
    "text": " And we want to try\nto predict c2 and c4.",
    "start": "1806120",
    "end": "1814175"
  },
  {
    "text": "Can you figure out\nthe differential index of this DAE system? ",
    "start": "1814175",
    "end": "1826640"
  },
  {
    "text": "Feel free to talk to each other. It's OK. ",
    "start": "1826640",
    "end": "1859210"
  },
  {
    "text": "OK, the differential index is 1. This one's the easy one right? Just take one derivative\nof the algebraic equations.",
    "start": "1859210",
    "end": "1866185"
  },
  {
    "text": "Now, I've got dc2 dt,\ndc4 dt, dc1 dt, dc3 dt. Differential index of 1 is\neasy to solve as an ODE IVP.",
    "start": "1866185",
    "end": "1876560"
  },
  {
    "text": "This is the natural\nproblem, too. It's useful to think about\nthe inputs c1, c3 and asking",
    "start": "1876560",
    "end": "1882640"
  },
  {
    "text": "about what the outputs are. Physically, this problem\nseems easier in nature. ",
    "start": "1882640",
    "end": "1892570"
  },
  {
    "text": "OK let's change it now. Same problem. But let's change the\nalgebraic constraints.",
    "start": "1892570",
    "end": "1898440"
  },
  {
    "text": "Now, the algebraic constraint\nis I measure c3 and c4, And I want to predict c1 and c2.",
    "start": "1898440",
    "end": "1903815"
  },
  {
    "text": " What's the differential\nindex here? ",
    "start": "1903815",
    "end": "1973600"
  },
  {
    "text": "Yes. AUDIENCE: [INAUDIBLE] PROFESSOR: Sure. AUDIENCE: Why was this a\ndifferential index of 1 if you have to take a derivative\nfor c1 and this equation?",
    "start": "1973600",
    "end": "1981890"
  },
  {
    "text": "PROFESSOR: Oh, good question. I'm going to push the slide\nback, and I apologize for this. And I'll go back for it.",
    "start": "1981890",
    "end": "1987979"
  },
  {
    "text": "So the question was why was\nthis differential index one if I had to take a derivative\nof both this equation",
    "start": "1987979",
    "end": "1993100"
  },
  {
    "text": "and that equation. So the way to think\nabout this conceptually is I took a derivative of\nthe algebraic equations,",
    "start": "1993100",
    "end": "2001789"
  },
  {
    "text": "the set of algebraic equations. It was one time derivative\nof a vector valued function.",
    "start": "2001789",
    "end": "2009366"
  },
  {
    "text": "I can see where the\nambiguity is there. So it's important to be clear. I took one time derivative\nover the equations that",
    "start": "2009366",
    "end": "2015230"
  },
  {
    "text": "prescribe the algebraic states. ",
    "start": "2015230",
    "end": "2021260"
  },
  {
    "text": "That's the distinction. So this is index\n1 because I needed one time derivative of this\ntype, dg dt of the entire set.",
    "start": "2021260",
    "end": "2035600"
  },
  {
    "text": "Here we go. We're on this one. Prescribe c3. Prescribe c4. What is the\ndifferential index now?",
    "start": "2035600",
    "end": "2040860"
  },
  {
    "start": "2040860",
    "end": "2046920"
  },
  {
    "text": "What do you think? We got an answer? [INTERPOSING VOICES] I hear 2. I hear 3.",
    "start": "2046920",
    "end": "2053411"
  },
  {
    "text": "I saw 3 like this. Almost mistook it for\na 2, but that's 3. Yes. It's 3. Let's see if we can\nwork through why it's 3.",
    "start": "2053412",
    "end": "2060169"
  },
  {
    "text": " So I take a derivative of\nthe algebraic equations,",
    "start": "2060170",
    "end": "2066300"
  },
  {
    "text": "one derivative. And after taking\nthat derivative, I'll get a differential\nequation for one of the algebraic states.",
    "start": "2066300",
    "end": "2071730"
  },
  {
    "text": "So c3 is taking care of. Now, I'm in the hunt for c1.",
    "start": "2071730",
    "end": "2077010"
  },
  {
    "text": "So I have-- after\nthat first derivative, I have an equation\ndc4 dt is gamma 2.",
    "start": "2077010",
    "end": "2082320"
  },
  {
    "text": "And I know dc4 dt,\nso I drop that in, and I get an algebraic equation\nrelating the derivative",
    "start": "2082320",
    "end": "2089669"
  },
  {
    "text": "of gamma 2 to c2, c3, and c4. This new algebraic equation.",
    "start": "2089670",
    "end": "2096210"
  },
  {
    "text": "This is like the g1\nthat I prescribed in the generic scene. I take a derivative of it again\nbecause I'm in the hunt for c1.",
    "start": "2096210",
    "end": "2102725"
  },
  {
    "text": "So I take the derivative\nof this new equation, and I'll get a derivative\nof c2, a derivative of c3, and a derivative of c4.",
    "start": "2102725",
    "end": "2108150"
  },
  {
    "text": "And I know all those. I know the derivative of c2. I know the derivative of c4. And I know the derivative of\nc3 from the previous level",
    "start": "2108150",
    "end": "2116130"
  },
  {
    "text": "in the hierarchy. I figured that out already. So it's two derivatives. Still hasn't gotten me\na time derivative of c1.",
    "start": "2116130",
    "end": "2122460"
  },
  {
    "text": "But when I make\nthose substitutions, I'll get an algebraic\nequation in terms of c1. And I can take one\nmore derivative,",
    "start": "2122460",
    "end": "2129779"
  },
  {
    "text": "and that will give me a dc1 dt. And I'll have an od\nfor c1, c2, c3, and c4. So its differential index 3.",
    "start": "2129780",
    "end": "2136900"
  },
  {
    "text": " It makes sense sort of.",
    "start": "2136900",
    "end": "2142340"
  },
  {
    "text": "I'm taking a measurement of an\noutput way down the line here.",
    "start": "2142340",
    "end": "2147630"
  },
  {
    "text": "And I'm trying to predict\nwhat the input was in the first place. It's easy to\nimagine that there's",
    "start": "2147630",
    "end": "2153340"
  },
  {
    "text": "a huge amount of sensitivity\nin that calculation. ",
    "start": "2153340",
    "end": "2160570"
  },
  {
    "text": "Here's another one. What's the differential\nindex here? ",
    "start": "2160570",
    "end": "2170309"
  },
  {
    "text": "I'm now prescribing\nc1 and c2, and I want you to tell me c3 and c4.",
    "start": "2170310",
    "end": "2176060"
  },
  {
    "text": "[INTERPOSING VOICES]",
    "start": "2176060",
    "end": "2184870"
  },
  {
    "text": "Oh, good. Somebody noticed early on. So you say it's not possible. Right.",
    "start": "2184870",
    "end": "2190259"
  },
  {
    "text": "Why isn't it possible? AUDIENCE: You take\nderivatives of both of those-- PROFESSOR: Yes. AUDIENCE: [INAUDIBLE]\nyou can't isolate c3--",
    "start": "2190259",
    "end": "2197202"
  },
  {
    "text": "PROFESSOR: Right. We'll never be able to isolate\na derivative of c3 here. There's actually there's\nsomething wrong physically",
    "start": "2197202",
    "end": "2204230"
  },
  {
    "text": "with this problem.  Yes, somehow I'm supposed\nto measure c1 and c2",
    "start": "2204230",
    "end": "2212780"
  },
  {
    "text": "and use that to\npredict c3 and c4. I don't know c4,\nand c3 is an input.",
    "start": "2212780",
    "end": "2219592"
  },
  {
    "text": "I don't know it either. How do I figure out an input\nwhen I don't know the output?",
    "start": "2219592",
    "end": "2225260"
  },
  {
    "text": "It's impossible. So this model is flawed.",
    "start": "2225260",
    "end": "2230554"
  },
  {
    "text": "We can formulate any\nmodel we want, pick any set of these variables\nto prescribe algebraically,",
    "start": "2230554",
    "end": "2235920"
  },
  {
    "text": "but not all of them are going to\nadmit solutions or make sense. There's no number of\nderivatives that's",
    "start": "2235920",
    "end": "2241820"
  },
  {
    "text": "going to give us a\nclosed system of ODEs. This again comes\nback to the point that really DAEs is all\nabout model formulation.",
    "start": "2241820",
    "end": "2249832"
  },
  {
    "text": "There are lots of good\nnumerical methods. They work like the numerical\nmethods for ODE IVPs. What's important is getting\nconsistent models down,",
    "start": "2249832",
    "end": "2257150"
  },
  {
    "text": "models that, for\nexample, have solutions. You might feed this\nto a DAE solver and get nonsense because I\ncan almost freely prescribe",
    "start": "2257150",
    "end": "2265460"
  },
  {
    "text": "what c3 is, and I'll\nget some answer for c4. Any c3 can give\nme an answer here. So who knows whether this\nnumerical solver is sensitive",
    "start": "2265460",
    "end": "2273740"
  },
  {
    "text": "or not to this particular\npathology in the problem we've written down. ",
    "start": "2273740",
    "end": "2282080"
  },
  {
    "text": "We got to speed up just a little\nbit, and I'm sorry for that. So we looked at index 1. That was stirred tank 1.",
    "start": "2282080",
    "end": "2287590"
  },
  {
    "text": "Index 2, that was\nstirred tank 2. Index 3, that was\nstirred tank 3. And one thing we saw\nwhen we looked at them",
    "start": "2287590",
    "end": "2293230"
  },
  {
    "text": "was this index 1 solution. It had pieces that\nwere proportional to this forcing function\ngamma, this prescribed function",
    "start": "2293230",
    "end": "2302470"
  },
  {
    "text": "in our system of equations and\nproportional to its derivative. So if gamma is jumping around,\nwell, c1 will jump around.",
    "start": "2302470",
    "end": "2309510"
  },
  {
    "text": "C2 is going to be smoothed\nout version of gamma because it depends\non its integral.",
    "start": "2309510",
    "end": "2314630"
  },
  {
    "text": "It's not very sensitive,\nkind of like an ODE IVP. Doesn't really show any more\nsensitivity than an ODE IVP",
    "start": "2314630",
    "end": "2320260"
  },
  {
    "text": "does. The dynamics are different\nfor index 2, though. When we look at the\nsolution of the index 2 DAE,",
    "start": "2320260",
    "end": "2326050"
  },
  {
    "text": "we found c2 goes like gamma,\nbut c1 has to go like gamma dot.",
    "start": "2326050",
    "end": "2331390"
  },
  {
    "text": "So that's pretty sensitive if\nyou're making a measurement, and there's noise\nin the measurement. How do you even know\nwhat this derivative is?",
    "start": "2331390",
    "end": "2338170"
  },
  {
    "text": "So c1 is wildly bouncing around. Our prediction of\nwhat c1 is is-- it's not going to be very good.",
    "start": "2338170",
    "end": "2345162"
  },
  {
    "text": "Our solution of DAE example\n3 when it told us c1 was related to the\nsecond derivative",
    "start": "2345162",
    "end": "2351730"
  },
  {
    "text": "of the forcing function,\nc2 to the first and c3 was proportional to\nthe forcing function.",
    "start": "2351730",
    "end": "2357040"
  },
  {
    "text": "So this is hugely\nsensitive to changes in the forcing function. So the higher the index goes,\nthe greater the sensitivity",
    "start": "2357040",
    "end": "2364030"
  },
  {
    "text": "to perturbations in the system. ",
    "start": "2364030",
    "end": "2369840"
  },
  {
    "text": "Here's another simple example. You have all that data,\nactually, in your paper, so I won't ask you to do this\none given our time constraints.",
    "start": "2369840",
    "end": "2375614"
  },
  {
    "text": "But here's-- mechanical systems\nthat have constraints are often indexed 3 DAEs it turns out.",
    "start": "2375614",
    "end": "2381260"
  },
  {
    "text": "You can show this one\nis an index 3 DAE. This is the case of a pendulum\nswinging back and forth.",
    "start": "2381260",
    "end": "2387170"
  },
  {
    "text": "So it's a-- change in\nposition is its velocity. Its acceleration\nbalances gravity,",
    "start": "2387170",
    "end": "2393230"
  },
  {
    "text": "and there's some arm that\nholds the pendulum in place. We can imagine that that\narm has some tension in it.",
    "start": "2393230",
    "end": "2398420"
  },
  {
    "text": "It acts like a spring\nwith a spring constant that changes in time in order\nto hold the pendulum at a fixed",
    "start": "2398420",
    "end": "2405260"
  },
  {
    "text": "distance from its center. So two differential equations,\none algebraic equation.",
    "start": "2405260",
    "end": "2411299"
  },
  {
    "text": "This is a differential\nalgebraic equation. You can imagine lots\nof mechanical systems work in exactly this way.",
    "start": "2411300",
    "end": "2418130"
  },
  {
    "text": "They can only move\nalong prescribed paths. They're constrained in how\nfar they can stretch or go.",
    "start": "2418130",
    "end": "2423679"
  },
  {
    "text": "I don't know. If you're trying to design\na robot or something, DAEs are pretty important, and\nthey're all of index 3 type",
    "start": "2423679",
    "end": "2429180"
  },
  {
    "text": "it turns out. So differential variables\nhere are x and v, and the algebraic variable\nis the spring constant, k,",
    "start": "2429180",
    "end": "2436700"
  },
  {
    "text": "which has got to adjust\ndynamically in time in order to-- got to get away\nfrom the speaker--",
    "start": "2436700",
    "end": "2443150"
  },
  {
    "text": "adjust dynamically\nin time in order to provide just the right\nstiffness to keep this going",
    "start": "2443150",
    "end": "2448310"
  },
  {
    "text": "around on a circular orbit. So when-- let's suppose I\nstart with my pendulum down,",
    "start": "2448310",
    "end": "2454280"
  },
  {
    "text": "and it's not moving,\nthen this has to be just stiff enough\nto balance gravity.",
    "start": "2454280",
    "end": "2459530"
  },
  {
    "text": "The pendulum is 90 degrees,\nand it's not moving. I don't need any stiffness. K and just be 0.",
    "start": "2459530",
    "end": "2464570"
  },
  {
    "text": "There's no forces to balance. The pendulum is\nswinging around, and I have to be stiff enough\nto balance gravity",
    "start": "2464570",
    "end": "2470570"
  },
  {
    "text": "where I am and also counteract\nany sort of centripetal [? acceleration. ?]\nSo this k has",
    "start": "2470570",
    "end": "2476180"
  },
  {
    "text": "got to be wildly fluctuating. If I was trying to\ncontrol that k somehow",
    "start": "2476180",
    "end": "2481280"
  },
  {
    "text": "to give this system these\nparticular dynamics, you might imagine it's\nvery difficult to do.",
    "start": "2481280",
    "end": "2489270"
  },
  {
    "text": "So there's your\ndifferential variables. Here's your algebraic variable. You take a derivative\nof this equation,",
    "start": "2489270",
    "end": "2494437"
  },
  {
    "text": "you'll get a constraint\nthat tells you the velocity is orthogonal\nto the position. Of course it is. I'm on a circular trajectory.",
    "start": "2494437",
    "end": "2501330"
  },
  {
    "text": "You take a derivative\nof this equation now, this algebraic equation. You'll get another\nconstraint that gives you",
    "start": "2501330",
    "end": "2506823"
  },
  {
    "text": "some relationship\nbetween k, x, and v but not a differential\nequation for k.",
    "start": "2506823",
    "end": "2511860"
  },
  {
    "text": "Take another derivative of\nthis algebraic equation, and you'll get a\ndifferential equation for k. So in principle, I could\nformulate a system of ODEs",
    "start": "2511860",
    "end": "2518660"
  },
  {
    "text": "with dk dt, dx dt, dv dt\nwill be equivalent to this. It took three derivatives\nto do this, though.",
    "start": "2518660",
    "end": "2525596"
  },
  {
    "text": "So it's an incredibly\nsensitive system. It's index 3 in nature. ",
    "start": "2525596",
    "end": "2531510"
  },
  {
    "text": "So if I transform\nto this equivalent set of ODEs, the problem-- we discussed this earlier--\nis that the solutions may",
    "start": "2531510",
    "end": "2537140"
  },
  {
    "text": "drift away from the\ninitial set of constraints. The solutions also\nneed the right sort",
    "start": "2537140",
    "end": "2542780"
  },
  {
    "text": "of initial conditions. Here I know that at time\n0, c3 better be gamma 0.",
    "start": "2542780",
    "end": "2551400"
  },
  {
    "text": "I know that in the actual\nsolution to this problem, c3 dot was gamma dot.",
    "start": "2551400",
    "end": "2556440"
  },
  {
    "text": "So at time 0, c2 better\nbe gamma dot of 0.",
    "start": "2556440",
    "end": "2561569"
  },
  {
    "text": "And at time 0, c1 better\nbe gamma dot dot of 0. And if it's not,\nthen there's going",
    "start": "2561570",
    "end": "2568160"
  },
  {
    "text": "to be some step jump or\nsome strange behavior in the solution to\nthis ODE system.",
    "start": "2568160",
    "end": "2573210"
  },
  {
    "text": "So I have to choose the right\nsort of initial conditions. If those initial conditions\naren't chosen correctly, then I'm not going to\nget the right solution.",
    "start": "2573210",
    "end": "2579090"
  },
  {
    "text": "I won't be constrained to the\nmanifold of solutions that's given by the original DAE. ",
    "start": "2579090",
    "end": "2586446"
  },
  {
    "text": "So here's some things\nyou need to know. Index 1, semi-explicit DAEs can\nbe safely handled in MATLAB.",
    "start": "2586446",
    "end": "2592680"
  },
  {
    "text": "So ode15s, ode23t,\nthey have the ability to take an input of mass matrix.",
    "start": "2592680",
    "end": "2598869"
  },
  {
    "text": "We discussed mass\nmatrix last time. And a right hand side to\nthe system of equations",
    "start": "2598870",
    "end": "2604055"
  },
  {
    "text": "in f of x and t\nand solve it just like all the other solvers,\nall the other ODE IVP",
    "start": "2604055",
    "end": "2610380"
  },
  {
    "text": "solvers in MATLAB. If it's not index 1,\nMATLAB can catch it.",
    "start": "2610380",
    "end": "2615900"
  },
  {
    "text": "So it'll try to look at the\nJacobian of f with respect to the variables\nand the mass matrix",
    "start": "2615900",
    "end": "2620970"
  },
  {
    "text": "and to infer from that what\nthe differential index is. And it will tell\nyou often times--",
    "start": "2620970",
    "end": "2628759"
  },
  {
    "text": "I think depends which\npackage you're using. But if you're using certain\npackages, it'll tell you. It's not index 1oe--",
    "start": "2628759",
    "end": "2635170"
  },
  {
    "text": "DAE. We can't handle this. The methods built into\nit aren't suitable.",
    "start": "2635170",
    "end": "2641220"
  },
  {
    "text": "For generic DAEs, there\nare specific DAE solvers. So something like\nSUNDIALS or DAEPACK-- this is Professor Barton's\nsoftware actually--",
    "start": "2641220",
    "end": "2649020"
  },
  {
    "text": "that are designed to handle\nDAEs up to some certain index instead. They're built to reliably\nsolve these problems.",
    "start": "2649020",
    "end": "2655870"
  },
  {
    "text": "So we have robots with\nconstraints on them. We solve all sorts of problems\nfor chemical process systems",
    "start": "2655870",
    "end": "2661779"
  },
  {
    "text": "that are of higher index. And the way we do it is using\nspecific numerical methods. They're based on the\nsame sorts of schemes,",
    "start": "2661779",
    "end": "2667380"
  },
  {
    "text": "backwards difference\nformulas, but careful analysis of the equations, which are\nin general unstructured,",
    "start": "2667380",
    "end": "2673860"
  },
  {
    "text": "the software doesn't\nknow beforehand what those equations look like,\nbut a careful analysis of them in order to figure out how\nto minimize numerical errors",
    "start": "2673860",
    "end": "2681180"
  },
  {
    "text": "and stay on the correct\nsolution manifold. As input to these,\nthough, we have",
    "start": "2681180",
    "end": "2687930"
  },
  {
    "text": "to give initial conditions. So that's going to be the last\nthing that we talk about here. And those initial\nconditions have",
    "start": "2687930",
    "end": "2694050"
  },
  {
    "text": "to be prescribed what\nwe call consistently, or we can get numerical errors,\nor the software can just",
    "start": "2694050",
    "end": "2700320"
  },
  {
    "text": "quit and throw an\nerror, or it can run off on some other solution manifold\nthat doesn't look anything",
    "start": "2700320",
    "end": "2706080"
  },
  {
    "text": "like the solution we're after. The pendulum is an interesting\nexample to think about.",
    "start": "2706080",
    "end": "2711360"
  },
  {
    "text": "So you might say,\nwell, what do I want to know about this pendulum. Maybe I want to know\nwhere it started initially",
    "start": "2711360",
    "end": "2716670"
  },
  {
    "text": "and what its velocity\ninitially was. Can I prescribe the initial\nposition of the pendulum",
    "start": "2716670",
    "end": "2723240"
  },
  {
    "text": "arbitrarily? What do you think yes or no? AUDIENCE: No. PROFESSOR: No.",
    "start": "2723240",
    "end": "2728851"
  },
  {
    "text": "Why not? Why no? AUDIENCE: [INAUDIBLE] PROFESSOR: Good, yes.",
    "start": "2728851",
    "end": "2734160"
  },
  {
    "text": "We know it's got a\nfixed arm length. Can't pick any position. That's not going to work. It's got to satisfy that\nalgebraic constraint.",
    "start": "2734160",
    "end": "2740790"
  },
  {
    "text": "Can I specify its\nvelocity arbitrarily? What you think?",
    "start": "2740790",
    "end": "2746130"
  },
  {
    "text": "Can I give it any initial\nvelocity that mass at the end of the pendulum? AUDIENCE: No. PROFESSOR: No. Why not?",
    "start": "2746130",
    "end": "2751500"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] PROFESSOR: What's that? AUDIENCE: [INAUDIBLE]",
    "start": "2751500",
    "end": "2756714"
  },
  {
    "text": "PROFESSOR: Well,\nexplain that to me, though, because I had\nequations for the velocity",
    "start": "2756714",
    "end": "2762170"
  },
  {
    "text": "and for that\nacceleration and then an equation that told me that\nthe length of this moment arm",
    "start": "2762170",
    "end": "2768390"
  },
  {
    "text": "had a certain length\nassociated with it. So why does that\nconstrain the velocity?",
    "start": "2768390",
    "end": "2773899"
  },
  {
    "text": "You're right. It does. I'm not saying you're wrong. You're right, but why? Those initial three\nequations don't tell me",
    "start": "2773899",
    "end": "2779161"
  },
  {
    "text": "anything about the initial\nvelocity was supposed to be. We know something\nabout the trajectory this is supposed to\nsweep out, though.",
    "start": "2779161",
    "end": "2785083"
  },
  {
    "text": "It's supposed to sweep\nout a circular trajectory. And the velocity in\nthat circular trajectory is always going to be\northogonal to the moment time.",
    "start": "2785083",
    "end": "2792470"
  },
  {
    "text": "And that equation\nactually-- it appeared. It appeared when we took a\nderivative of the constraint.",
    "start": "2792470",
    "end": "2799080"
  },
  {
    "text": "So this was a hidden constraint. It's secret. You didn't know it was there\nuntil you took a derivative,",
    "start": "2799080",
    "end": "2805100"
  },
  {
    "text": "and you tried to go and figure\nout what index this was. Then you discovered velocity\nand position or orthogonal",
    "start": "2805100",
    "end": "2810920"
  },
  {
    "text": "to each other. My initial condition\nshould respect that. How can they not?",
    "start": "2810920",
    "end": "2816049"
  },
  {
    "text": "The initial conditions\nhave to be a solution to the equations as well. So now can the initial stiffness\nbe specified arbitrarily?",
    "start": "2816050",
    "end": "2825109"
  },
  {
    "text": "No. There was also an\nalgebraic equation that popped up at some\npoint right here when",
    "start": "2825110",
    "end": "2830599"
  },
  {
    "text": "I took the second\nderivative, which tells me how the stiffness\nhas to be related to position and velocities. It's also hidden inside\nthe structure of this DAE.",
    "start": "2830600",
    "end": "2840410"
  },
  {
    "text": "So this-- again goes\nto model formulation, what are the initial conditions\nthat I have to prescribe? If I prescribe the\nright ones, I'll",
    "start": "2840410",
    "end": "2846860"
  },
  {
    "text": "get a solution that matches\nthe dynamics of the problem I was actually interested in.",
    "start": "2846860",
    "end": "2852010"
  },
  {
    "text": "If I prescribe them\nincorrectly, who knows what's going to result? We can't really predict.",
    "start": "2852010",
    "end": "2858352"
  },
  {
    "text": "Depends on the solver\nwe're working with.  Here's a formal\nway to think of it.",
    "start": "2858352",
    "end": "2866310"
  },
  {
    "text": "So usually in an\ninitial value problem, usually we want to know what's--",
    "start": "2866310",
    "end": "2871380"
  },
  {
    "text": "for these first\norder difference-- differential equations, what's\nthe initial value of the state,",
    "start": "2871380",
    "end": "2877290"
  },
  {
    "text": "and what's the initial\nvalue of its derivative. That completely specifies what's\ngoing on at the beginning.",
    "start": "2877290",
    "end": "2885559"
  },
  {
    "text": "One way to think\nabout these problems is I've got this equation\nthat I want to solve.",
    "start": "2885559",
    "end": "2899420"
  },
  {
    "text": "I could think in some\nsense that x and x dot are independent of each other. I could always write this is\nsomething like an equation",
    "start": "2899420",
    "end": "2910839"
  },
  {
    "text": "for f of x and z. And then I could add\nsome extra information that tells me actually\nx dot is the same as z.",
    "start": "2910840",
    "end": "2922430"
  },
  {
    "text": "So initially, I would like to\nknow the values of x and z, that z is x dot. So I'd like to know initially\nthe values of x dot and x.",
    "start": "2922430",
    "end": "2931460"
  },
  {
    "text": "And tell me where\nI start, and these need to be consistent with\nthe initial value problem",
    "start": "2931460",
    "end": "2937220"
  },
  {
    "text": "that I specified. If I'm doing an index\n0, an ODE IVP, at least be consistent with this. So if you tell me\nx naught, that I",
    "start": "2937220",
    "end": "2944060"
  },
  {
    "text": "should put x into this\nequation, then that should tell me what x dot is. If you tell me x dot, then\nI should solve my governing",
    "start": "2944060",
    "end": "2954140"
  },
  {
    "text": "equation for x naught. You could tell me some equation\nthat relates x naught and x",
    "start": "2954140",
    "end": "2962150"
  },
  {
    "text": "dot initially, and\nnow I got to solve this equation in conjunction\nwith my governing equation",
    "start": "2962150",
    "end": "2967760"
  },
  {
    "text": "to determine these-- this set of values. I'd like to know both of\nthese things initially.",
    "start": "2967760",
    "end": "2974599"
  },
  {
    "text": "The fully-implicit DAE, I\nreally have two n unknowns here. I don't know x, and\nI don't know x dot.",
    "start": "2974600",
    "end": "2981380"
  },
  {
    "text": "And I've only got n\nequations for those. So apparently there's n degrees\nof freedom to specify here.",
    "start": "2981380",
    "end": "2987440"
  },
  {
    "text": "I need n more\nequations to say what those initial conditions are. And these hidden constraints\nI point out actually",
    "start": "2987440",
    "end": "2993109"
  },
  {
    "text": "reduce the number of\ndegrees of freedom. The fact that these are\nnot index 0 problems",
    "start": "2993110",
    "end": "2999650"
  },
  {
    "text": "but have a finite index will\nintroduce extra constraints that reduce the number\nof degrees of freedom",
    "start": "2999650",
    "end": "3005050"
  },
  {
    "text": "or the number of other\nequations I can use to specify those initial conditions. Does that make sense?",
    "start": "3005050",
    "end": "3011020"
  },
  {
    "text": "Let me give you some examples,\nand then I'll let you go. So if I have a problem that\nhas separate differential",
    "start": "3011020",
    "end": "3016930"
  },
  {
    "text": "states and algebraic\nstates, this is like f of x dot x and y and\nt equal 0, the set of things",
    "start": "3016930",
    "end": "3023291"
  },
  {
    "text": "that I need to specify-- I need the initial derivative\nof the differential state, the initial value of\nthe differential state,",
    "start": "3023291",
    "end": "3029620"
  },
  {
    "text": "and the initial value\nof the algebraic state. I'd actually need to know the\ninitial value of the derivative",
    "start": "3029620",
    "end": "3034930"
  },
  {
    "text": "of the algebraic\nstate here because I don't need that to satisfy\nthis initial equation. ",
    "start": "3034930",
    "end": "3041950"
  },
  {
    "text": "Let's look at a\ncouple of examples. So here's stirred\ntank example 1.",
    "start": "3041950",
    "end": "3047400"
  },
  {
    "text": "I converted to a system of\nODEs by taking the derivative of equation 2 here. So here's my two ODEs.",
    "start": "3047400",
    "end": "3053740"
  },
  {
    "text": "I got to look back at\nmy initial equations and see how do they constrain\nthe initial conditions. So equation 2 tells me\nthat c1 initially better",
    "start": "3053740",
    "end": "3061079"
  },
  {
    "text": "be gamma initially. Otherwise, my initial\ncondition doesn't satisfy the governing equations\nof the model that I wrote down.",
    "start": "3061080",
    "end": "3068080"
  },
  {
    "text": "Equation 1 tells me that\nthe derivative of c2 initially better be related\nto the derivative of c1",
    "start": "3068080",
    "end": "3074740"
  },
  {
    "text": "and the derivative of n-- I'm sorry to the value of c1\nand the value of c2 initially.",
    "start": "3074740",
    "end": "3080650"
  },
  {
    "text": "This third equation that I came\nup with, it doesn't constrain.",
    "start": "3080650",
    "end": "3086349"
  },
  {
    "text": "It's a derivative of one of the\noriginal algebraic variables, so it doesn't constrain\nthat original set of--",
    "start": "3086350",
    "end": "3091877"
  },
  {
    "text": "I need to know the initial\ncondition on the differential variables, the derivative of\nthe differential variables, and the algebraic variables.",
    "start": "3091877",
    "end": "3097990"
  },
  {
    "text": "This only tells me something\nabout the derivative of this algebraic variables. This equation doesn't give\nme any other constraints.",
    "start": "3097990",
    "end": "3103190"
  },
  {
    "text": "So I just got a free\nvariable that I can specify. One more equation. It can be whatever I want. So maybe I say c2\nof 0c0, or maybe I",
    "start": "3103190",
    "end": "3110500"
  },
  {
    "text": "say there's some relationship\nbetween c1 of 0 and c2 0. Or maybe I say that c2\nof 0 and c2 prime of 0",
    "start": "3110500",
    "end": "3117520"
  },
  {
    "text": "are related in some way. Whatever I specify,\nI have a system of three equations for three\nunknowns, c1 of 0, c2 dot of 0,",
    "start": "3117520",
    "end": "3125837"
  },
  {
    "text": "and c2 of 0. I need to have a unique\nsolution to that. Otherwise, there's going to be a\nproblem solving for it in time,",
    "start": "3125837",
    "end": "3131890"
  },
  {
    "text": "the system of equations. So I have to choose this one\nconsistent with these other ones, but beyond that I'm OK.",
    "start": "3131890",
    "end": "3138220"
  },
  {
    "text": " Here's stirred tank example 2.",
    "start": "3138220",
    "end": "3146320"
  },
  {
    "text": "So I take a derivative\nof equation 2, and that gives me a differential\nequation for dc2 dt.",
    "start": "3146320",
    "end": "3152053"
  },
  {
    "text": "Actually, I already\nhad one of those, so I substitute\nfor dc2 dt, and I take another derivative to get\na differential equation for c1.",
    "start": "3152053",
    "end": "3161130"
  },
  {
    "text": "And let's ask about\nthe initial conditions. So the initial algebraic\nequation, it constrained dc2--",
    "start": "3161130",
    "end": "3167730"
  },
  {
    "text": "it constrained c2. It said c2 of 0\nhas to be gamma 0. The initial differential\nequation told me that c1 of 0",
    "start": "3167730",
    "end": "3177130"
  },
  {
    "text": "had to be equal to c2 of 0\nplus v over q, c2 dot of 0. Remember, I need three equations\nto specify c2 of 0, c1 of 0,",
    "start": "3177130",
    "end": "3185260"
  },
  {
    "text": "c2 dot of 0. I actually can't\nspecify c2 dot of 0 freely because in the process\nof deriving this differential",
    "start": "3185260",
    "end": "3194200"
  },
  {
    "text": "equation here so that I\nhad dc1 dt and dc2 dt, I introduced a constraint\non the derivatives of c2.",
    "start": "3194200",
    "end": "3203590"
  },
  {
    "text": "And this tells me that c2 dot\nof 0 has to be gamma dot of 0. There are no free\nvariables to specify.",
    "start": "3203590",
    "end": "3211380"
  },
  {
    "text": "There's three equations. Two of them come from the\ninitial system of DAEs, and the third one is related\nto this extra equation that",
    "start": "3211380",
    "end": "3220240"
  },
  {
    "text": "popped up as we tried\nto define the index. It's an implicit\nconstraint on the problem.",
    "start": "3220240",
    "end": "3226370"
  },
  {
    "text": "Does that make sense? I can't specify\nthese things freely. They're specified by the\nsignal that I measured gamma.",
    "start": "3226370",
    "end": "3235690"
  },
  {
    "text": "There are two\nexamples here that you should be able to work through.",
    "start": "3235690",
    "end": "3241250"
  },
  {
    "text": "One is an index 2 example,\nand one is an index 1 example. We're not going to have\ntime to go over them. Sorry for that.",
    "start": "3241250",
    "end": "3246906"
  },
  {
    "text": "But they work the same way. So convert to a system of ODEs,\nask what initial conditions",
    "start": "3246906",
    "end": "3253260"
  },
  {
    "text": "will satisfy the initial\nconstraints and were there any other-- were there any other\nconstraining equations",
    "start": "3253260",
    "end": "3259770"
  },
  {
    "text": "that popped up? So if you work through this\nexample, you'll find out there was a hidden strength that\neither the initial derivatives",
    "start": "3259770",
    "end": "3267369"
  },
  {
    "text": "of c1 and c2 sum\ntogether have to be 0 or equivalently the\ninitial value of c3",
    "start": "3267370",
    "end": "3272730"
  },
  {
    "text": "had to be equal to 0. You can take this\nconstraint in either place. Maybe you want to\ntake both of them to make sure that\nit's always satisfied,",
    "start": "3272730",
    "end": "3278400"
  },
  {
    "text": "that there is no numerical\nerror that drives you off of this constraint. It's OK to have these\nthings over constrained.",
    "start": "3278400",
    "end": "3283860"
  },
  {
    "text": "It's just not OK to have\nthem under constrained. And you'll find out\nthat while there",
    "start": "3283860",
    "end": "3288870"
  },
  {
    "text": "were five things I could pick,\nthe derivatives, and the values of c1 and c2, and then\nthe algebraic variable c3",
    "start": "3288870",
    "end": "3294809"
  },
  {
    "text": "initially. So there are only four\nconstraints-- for equations here for the initial conditions. I get to pick one more.",
    "start": "3294810",
    "end": "3299848"
  },
  {
    "text": "I can get it however I want. Just has to be\nconsistent with these. There's one more example.",
    "start": "3299848",
    "end": "3305740"
  },
  {
    "text": "Again, should work\nthrough these on your own. But you do the same thing. Convert to a system of ODEs.",
    "start": "3305740",
    "end": "3312650"
  },
  {
    "text": "You'll find out that\nwhen you do this, you'll get a differential\nequation for c3. It didn't introduce\nany new constraints",
    "start": "3312650",
    "end": "3317840"
  },
  {
    "text": "on c1 dot, c2 dot,\nor c1, c2, and c3. So you just need to satisfy--\nyour initial conditions have",
    "start": "3317840",
    "end": "3323510"
  },
  {
    "text": "to satisfy the\ninitial equations, and you can put in two\nmore conditions, whatever you want them to be.",
    "start": "3323510",
    "end": "3329210"
  },
  {
    "text": "Add five unknowns and\nonly three equations for the initial conditions. And that's it.",
    "start": "3329210",
    "end": "3334500"
  },
  {
    "text": "So thank you very much. ",
    "start": "3334500",
    "end": "3337658"
  }
]