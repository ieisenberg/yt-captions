[
  {
    "text": "The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6360"
  },
  {
    "text": "continue to offer high quality\neducational resources for free. To make a donation or\nview additional materials",
    "start": "6360",
    "end": "13350"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "13350",
    "end": "28160"
  },
  {
    "text": "PROFESSOR: So the\ngoal for today is to talk about a particular kind\nof communication network called",
    "start": "28160",
    "end": "33730"
  },
  {
    "text": "a shared medium network. And there are\nmany, many examples of shared media communication\nnetworks that exist today.",
    "start": "33730",
    "end": "39730"
  },
  {
    "text": "Now, these are,\ngenerally speaking, networks that don't span the\nglobe or even span the country, with one exception,\nand that exception",
    "start": "39730",
    "end": "46840"
  },
  {
    "text": "is the satellite\nnetwork shown here. The model here is that you\nhave a set of ground stations.",
    "start": "46840",
    "end": "53390"
  },
  {
    "text": "This is a picture from an\nactual internet service provider in the middle of the Pacific.",
    "start": "53390",
    "end": "59780"
  },
  {
    "text": "I mean, I'd love to go\nthere on assignment. And the way this network\nworks is in order to communicate\nbetween these islands,",
    "start": "59780",
    "end": "65980"
  },
  {
    "text": "the way they do this is\nthey have satellite ground stations that can receive\nand transmit data. And there's a satellite\nup in the sky.",
    "start": "65980",
    "end": "73490"
  },
  {
    "text": "So you communicate between\ntwo of these islands by transmitting data from\none of the ground stations up to the satellite\nand down there.",
    "start": "73490",
    "end": "80079"
  },
  {
    "text": "And the way this system works\nis not to divide frequencies amongst the\ndifferent satellites.",
    "start": "80080",
    "end": "86655"
  },
  {
    "text": "And the reason\nthey don't do that is that they don't\nknow how often each of these satellites--\nthese ground stations",
    "start": "86655",
    "end": "93159"
  },
  {
    "text": "is going to communicate. So you don't divide up\nthe frequencies upfront between the ground stations. So all of the ground stations\nsending to the satellite",
    "start": "93160",
    "end": "101470"
  },
  {
    "text": "do so on the same frequency. And the satellite downlink\nis on a different frequency.",
    "start": "101470",
    "end": "107540"
  },
  {
    "text": "So what could happen if two\nsatellites communicate up at the same time is\nthat the satellite up--",
    "start": "107540",
    "end": "113373"
  },
  {
    "text": "if two ground\nstations communicate to the satellite\nat the same time, the satellite may not be\nable to pull together the two",
    "start": "113373",
    "end": "118600"
  },
  {
    "text": "different transmissions\napart because they're on the same frequency. Now, they could use frequency\ndivision multiplexing.",
    "start": "118600",
    "end": "124600"
  },
  {
    "text": "That's a perfectly\nreasonable solution. But they don't do it because\nif one satellite-- one ground",
    "start": "124600",
    "end": "129789"
  },
  {
    "text": "station has data to send\nand the other doesn't, you end up wasting\nfrequencies and not getting as high a throughput.",
    "start": "129789",
    "end": "136159"
  },
  {
    "text": "So that's one example of\na shared medium network. This here is a picture of\nsomething called ethernet,",
    "start": "136160",
    "end": "141670"
  },
  {
    "text": "which was one of the most\nsuccessful networking technologies developed. It was invented in\nthe early 1970s.",
    "start": "141670",
    "end": "147459"
  },
  {
    "text": "And the idea here is you have\na shared bus, a shared wire, and many stations connect to it.",
    "start": "147460",
    "end": "153610"
  },
  {
    "text": "And if two stations\ntransmit at the same time, the two transmissions\ncould collide",
    "start": "153610",
    "end": "159040"
  },
  {
    "text": "and you don't actually\nreceive the data. And what you would like\nto do is to figure out a way by which these\ndifferent stations",
    "start": "159040",
    "end": "165460"
  },
  {
    "text": "or nodes on the\nethernet can somehow manage to communicate by\ncollaboratively figuring out",
    "start": "165460",
    "end": "174640"
  },
  {
    "text": "how to transmit on the medium. And the idea is to make it so\nthat only one node transmits",
    "start": "174640",
    "end": "181690"
  },
  {
    "text": "at any point in time. Other examples of shared\nmedia are wireless networks.",
    "start": "181690",
    "end": "187790"
  },
  {
    "text": "802.11 is an example of a\nshared communication medium. If a bunch of us communicate\nand share that access point,",
    "start": "187790",
    "end": "194860"
  },
  {
    "text": "we're all running\non the same channel. And in 802.11, or\nWi-Fi, there are a bunch of different\nchannels available.",
    "start": "194860",
    "end": "201940"
  },
  {
    "text": "But any given axis\npoint tends to have a cell, which is\nsome area around it",
    "start": "201940",
    "end": "207340"
  },
  {
    "text": "that, in order to communicate\nwith that access point, you use the same channel. So we need a way by which we\nhave to take the shared network",
    "start": "207340",
    "end": "216310"
  },
  {
    "text": "and allocate access\nto this medium amongst these different nodes. And if you look at\nan entire building,",
    "start": "216310",
    "end": "222790"
  },
  {
    "text": "there's a big plan in place\nfor how the different access points communicate potentially\non different channels",
    "start": "222790",
    "end": "228137"
  },
  {
    "text": "or the same channel. And there's an entire process\nby which this building's network is laid out and the\ncampus network is laid out",
    "start": "228137",
    "end": "235159"
  },
  {
    "text": "and so forth. And cellular\nnetworks-- you know, Verizon, AT&T, Sprint and\nT-Mobile and all these guys",
    "start": "235160",
    "end": "241450"
  },
  {
    "text": "have the same problem\nthat they have to solve. So these are very\ninteresting questions which boil down to how\nyou take a shared medium--",
    "start": "241450",
    "end": "250840"
  },
  {
    "text": "whether it be a wire like an\nethernet net or radio, which is over the air, or\nit could be acoustic--",
    "start": "250840",
    "end": "258565"
  },
  {
    "text": "how do you take all of that and\nhave these different nodes that are communicating\nwith each other on that medium somehow make\nit so that they can all",
    "start": "258565",
    "end": "269320"
  },
  {
    "text": "share the medium without\ncolliding with each other? And that's the problem\nthat's solved by these media",
    "start": "269320",
    "end": "275110"
  },
  {
    "text": "access or MAC protocols. Now, all of the stuff\nthat I'm going to tell you",
    "start": "275110",
    "end": "280360"
  },
  {
    "text": "is based on chapter 15,\nwhich is on MAC protocols. And there's a little\nmore in it than we'll be able to cover in recitation,\nin lecture and recitation.",
    "start": "280360",
    "end": "288820"
  },
  {
    "text": "But it's hard for me to keep\nstraight what we cover and what we don't. So you're sort of responsible\nfor everything in that chapter.",
    "start": "288820",
    "end": "295520"
  },
  {
    "text": "We'll cover most of the issues. There's a bunch of details\nin the chapter that are worth understanding\nin order for you",
    "start": "295520",
    "end": "301120"
  },
  {
    "text": "to really get your\nunderstanding to be clear. So I want to caveat\nthat upfront. We lost a lecture\nbecause of the hurricane.",
    "start": "301120",
    "end": "307630"
  },
  {
    "text": "And I just can't keep straight\nwhat I tell you and what I don't. So everything in that\nchapter is fair game.",
    "start": "307630",
    "end": "314840"
  },
  {
    "text": "But we'll cover the\nmost important issues. OK. So here's the abstract model.",
    "start": "314840",
    "end": "321700"
  },
  {
    "text": "And you know, there's\na shared medium. It could be a wire. It could be wireless.",
    "start": "321700",
    "end": "326960"
  },
  {
    "text": "And you have these nodes. And the nodes have\ntwo things there that you have to worry about. The first thing here\nis just a detail.",
    "start": "326960",
    "end": "333550"
  },
  {
    "text": "It's the channel interface. It's a way by which\nthe data on that node",
    "start": "333550",
    "end": "338740"
  },
  {
    "text": "gains access to the medium. And then each node\nhas a set of queues-- or one queue or two queues,\na transmit queue and a",
    "start": "338740",
    "end": "345490"
  },
  {
    "text": "receive queue, which\nhas packets waiting to be sent on that medium.",
    "start": "345490",
    "end": "350860"
  },
  {
    "text": "And the basic idea\nis that you have all these nodes on the medium. And it may be that\nthese nodes are all",
    "start": "350860",
    "end": "356650"
  },
  {
    "text": "trying to communicate with\na single router or a switch or a satellite. Or it may be that the\nnodes are directly",
    "start": "356650",
    "end": "361930"
  },
  {
    "text": "communicating with each\nother, like your laptop is communicating with mine. Your phone is communicating\nwith your laptop.",
    "start": "361930",
    "end": "367870"
  },
  {
    "text": "And somehow they're all\nsharing this medium. And we're going to come up\nwith the world's simplest",
    "start": "367870",
    "end": "373480"
  },
  {
    "text": "shared medium network\nbecause it's simple and because it's a reasonable\nmodel of reality, which",
    "start": "373480",
    "end": "378880"
  },
  {
    "text": "is that at any point in time if\nmore than one transmission is",
    "start": "378880",
    "end": "384850"
  },
  {
    "text": "on that shared medium,\nthen you end up having what's\ncalled a collision.",
    "start": "384850",
    "end": "390789"
  },
  {
    "text": "And you cannot\ndecode the packet. So let me repeat. The model here is\nif there's exactly",
    "start": "390790",
    "end": "396057"
  },
  {
    "text": "one transmission on\nthe medium, we'll assume that it's\ndelivered correctly. If there is no transmission\non the medium at some point",
    "start": "396058",
    "end": "402160"
  },
  {
    "text": "in time, nothing happens. The channel is sort of wasted. It's not used. If there's more than one\ntransmission on the medium",
    "start": "402160",
    "end": "408820"
  },
  {
    "text": "overlapping in time,\nneither transmission successfully gets decoded.",
    "start": "408820",
    "end": "414370"
  },
  {
    "text": "So there are two\nor three or four people hitting the\nchannel at the same time overlapping in time. Nobody succeeds.",
    "start": "414370",
    "end": "420289"
  },
  {
    "text": "OK. That's the abstraction. And what we want is a\ncommunication protocol or rules",
    "start": "420290",
    "end": "426490"
  },
  {
    "text": "of engagement between\nthe nodes that allow us to get reasonably\ngood performance in sharing the medium.",
    "start": "426490",
    "end": "431710"
  },
  {
    "text": " Now, depending on the\ndetails of the network,",
    "start": "431710",
    "end": "437470"
  },
  {
    "text": "the nodes that are\non this shared medium may be able to hear\neach other perfectly. Or maybe they can't\nhear each other at all.",
    "start": "437470",
    "end": "444910"
  },
  {
    "text": "Or maybe they can\npartially hear each other. And we're going to deal\nwith all of these cases. But for now, just\nassume that you",
    "start": "444910",
    "end": "451480"
  },
  {
    "text": "have these nodes on the medium. And for simplicity\nand completeness, let's take the example\nof the satellite network.",
    "start": "451480",
    "end": "458372"
  },
  {
    "text": "You have a satellite up here.  And you have a bunch\nof ground stations",
    "start": "458372",
    "end": "466570"
  },
  {
    "text": "that are all trying to\ncommunicate up to the satellite whenever they have data to send.",
    "start": "466570",
    "end": "472900"
  },
  {
    "text": "And just assume for now that the\nnodes cannot hear each other. And the satellite\ndoesn't really know",
    "start": "472900",
    "end": "479289"
  },
  {
    "text": "whether a node has packets\nwaiting to be sent or not. And somehow, we're\ngoing to invent",
    "start": "479290",
    "end": "484450"
  },
  {
    "text": "a protocol or a rules\nof engagement that allow these nodes to,\nin a distributed way,",
    "start": "484450",
    "end": "490300"
  },
  {
    "text": "figure out when it's OK\nfor them to transmit data and when they should\nkeep their mouth shut.",
    "start": "490300",
    "end": "496330"
  },
  {
    "text": "And each of these\nnodes has a queue of packets waiting to be sent.",
    "start": "496330",
    "end": "503530"
  },
  {
    "text": "Sometimes the\nqueue may be empty. Sometimes the queue may\nhave one or more packets. That depends on what\nthe application is doing",
    "start": "503530",
    "end": "510160"
  },
  {
    "text": "and how quickly that node has\nbeen able to transmit data on the channel.",
    "start": "510160",
    "end": "516880"
  },
  {
    "text": "If the node has packets\nwaiting to be sent, so a queue can either be empty\nor it has one or more packets",
    "start": "516880",
    "end": "527269"
  },
  {
    "text": "waiting to be sent. In which case, we're going\nto use the word backlogged. ",
    "start": "527270",
    "end": "534880"
  },
  {
    "text": "So at any point in time,\nsome subset of the nodes may have backlogged packets and\nthat may have backlog queues.",
    "start": "534880",
    "end": "541450"
  },
  {
    "text": "And our goal is to come up with\na way by which these nodes can transmit data on the channel.",
    "start": "541450",
    "end": "548089"
  },
  {
    "text": " Now, there are two or\nthree different ways",
    "start": "548090",
    "end": "553220"
  },
  {
    "text": "of solving this problem. The first approach to\nsolving this problem is to do frequency\ndivision multiplexing.",
    "start": "553220",
    "end": "562430"
  },
  {
    "text": "You could just allocate\ndifferent frequencies and you've solved the problem. But as I mentioned\nbefore, we don't",
    "start": "562430",
    "end": "568100"
  },
  {
    "text": "want to do that because if\nyou've allocated and predefined a frequency to a node\nand the node is empty,",
    "start": "568100",
    "end": "573710"
  },
  {
    "text": "it doesn't have packets,\nthen you've essentially wasted bandwidth\nbecause you've allocated a portion of the frequency\nto a node that isn't actually",
    "start": "573710",
    "end": "580850"
  },
  {
    "text": "going to send any data. Somebody else who\nhad data to send could have more profitably\nused it and helped you win,",
    "start": "580850",
    "end": "587840"
  },
  {
    "text": "helped you get\nbetter performance. The second thing you can do\nis to somehow divide up time.",
    "start": "587840",
    "end": "594240"
  },
  {
    "text": "In other words, they all\nrun on the same frequency. And somehow make it so\nthat you give the illusion",
    "start": "594240",
    "end": "599840"
  },
  {
    "text": "that each node gets\naccess to the channel for some fraction of the time.",
    "start": "599840",
    "end": "606520"
  },
  {
    "text": "And if you do that,\nit's a model of sharing called time sharing as\nopposed to frequency sharing. So one approach to dealing with\nit is frequency sharing, which",
    "start": "606520",
    "end": "619370"
  },
  {
    "text": "is a good idea in\nsome cases, but not in this case when the\ntraffic is quite bursting. The second thing you\ncan do is time sharing.",
    "start": "619370",
    "end": "625730"
  },
  {
    "text": " And there are two ways\nof doing time sharing.",
    "start": "625730",
    "end": "632600"
  },
  {
    "text": "One of them is called time\ndivision multiplexing, or TDM.",
    "start": "632600",
    "end": "637670"
  },
  {
    "text": "It's also called TDMA for\nTime Division Multiple Access. ",
    "start": "637670",
    "end": "644928"
  },
  {
    "text": "And we'll talk about this\nin recitation tomorrow, so I won't belabor it here.",
    "start": "644928",
    "end": "649939"
  },
  {
    "text": "The second approach to\nsolving this problem, which is what we'll spend\nthe rest of today on, is the class of protocols\ncalled contention protocols.",
    "start": "649940",
    "end": "656420"
  },
  {
    "text": " And these protocols\nare really beautiful,",
    "start": "656420",
    "end": "663259"
  },
  {
    "text": "because they're\ncompletely distributed. There's no central intelligence.",
    "start": "663260",
    "end": "668500"
  },
  {
    "text": "It's highly distributed\nintelligence. Each node makes its own\nindependent decisions as to what it should do based\non very little information",
    "start": "668500",
    "end": "676600"
  },
  {
    "text": "that it learns as it sends\nits packets and determines what happens to those packets. And yet, somehow the\nnodes are able to come up",
    "start": "676600",
    "end": "683650"
  },
  {
    "text": "with a way of sharing the\nchannel by essentially cooperating but yet\ncompeting with each other.",
    "start": "683650",
    "end": "689588"
  },
  {
    "text": "That's why these are called\ncontention protocols. That ends up getting\npretty good performance.",
    "start": "689588",
    "end": "694697"
  },
  {
    "text": "There's a third kind\nof sharing, which we won't talk about at all in\n602, and that's code division.",
    "start": "694697",
    "end": "704230"
  },
  {
    "text": "The slides that are online\nsay a little bit about it. And you can look it up on\nthe internet, if you want. We're not going to\ntalk about it here.",
    "start": "704230",
    "end": "710720"
  },
  {
    "text": "So for today, my goal is to tell\nyou about contention protocols. And largely speaking, for\nMAC protocols right now",
    "start": "710720",
    "end": "717700"
  },
  {
    "text": "in this chapter and\nthis part of the course, we're interested in time\nsharing, TDMA and contention.",
    "start": "717700",
    "end": "726372"
  },
  {
    "text": "So before I tell you\nabout the protocols, I want to tell you a\nlittle bit about what we would like, what\nmakes the protocol good",
    "start": "726372",
    "end": "732459"
  },
  {
    "text": "and what doesn't, what's bad. So if I tell you that you have\na bunch of these nodes that",
    "start": "732460",
    "end": "737800"
  },
  {
    "text": "are trying to share\nthis medium and you would like to get good\nperformance in this protocol",
    "start": "737800",
    "end": "743980"
  },
  {
    "text": "to share access to the channel,\nby what metric or metrics would you measure\nthis performance?",
    "start": "743980",
    "end": "752630"
  },
  {
    "text": "How would you know\nit's good or bad? Yes? AUDIENCE: [INAUDIBLE].",
    "start": "752630",
    "end": "759730"
  },
  {
    "text": "PROFESSOR: Well, the model\nhere is if two people send at the same time, you fail. We fail.",
    "start": "759730",
    "end": "767164"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE]. PROFESSOR: OK. So good, let's keep\ngoing with that. Now let's say that someone\nobserves the system",
    "start": "767164",
    "end": "775100"
  },
  {
    "text": "and watches its\nevolution over time. They observe whether packets\nsucceed and packets fail",
    "start": "775100",
    "end": "780560"
  },
  {
    "text": "and so forth. And they want to\ncount something. What would they\ncount to determine if a protocol is good or bad?",
    "start": "780560",
    "end": "785910"
  },
  {
    "text": "AUDIENCE: Rate of failure? PROFESSOR: Sorry? AUDIENCE: Rate of failure? PROFESSOR: Rate of failure. I mean, live your\npositive, people, so let's count the\nrate of success.",
    "start": "785910",
    "end": "791850"
  },
  {
    "text": "OK, so there's a word\nfor this rate of success. It's a measure\nof, if you succeed more, it means you're able\nto deliver data faster,",
    "start": "791850",
    "end": "799019"
  },
  {
    "text": "which means you get higher\nthroughput or a higher rate. So the first metric that you\nhave-- so these are metrics.",
    "start": "799020",
    "end": "807529"
  },
  {
    "text": "The first metric that\nyou have is throughput. ",
    "start": "807530",
    "end": "813540"
  },
  {
    "text": "And throughput is generally\nmeasured in bits per second or packets per second. So let's just imagine\nthat it's packets",
    "start": "813540",
    "end": "819390"
  },
  {
    "text": "per second for simplicity to\nassume that all the packets are the same size. So you can translate\ninto bits per second.",
    "start": "819390",
    "end": "827910"
  },
  {
    "text": "Now, throughput by\nitself is a good metric. But really, we would\nlike protocols--",
    "start": "827910",
    "end": "834130"
  },
  {
    "text": "we would like to\nevaluate protocols without worrying about whether\nthe underlying channel can send",
    "start": "834130",
    "end": "839830"
  },
  {
    "text": "data at 1 megabit per second\nor 10 megabits per second or a gigabit per second or\n100 gigabits per second.",
    "start": "839830",
    "end": "845649"
  },
  {
    "text": "I mean, we really\ndon't want to care about what the actual\nthroughput or the rate supportable by the channel is.",
    "start": "845650",
    "end": "850960"
  },
  {
    "text": "So we're going to\ntranslate this throughput into a different\nword which means-- which is a proxy for throughput\ncalled the utilization.",
    "start": "850960",
    "end": "859105"
  },
  {
    "text": " And we'll represent that by U.",
    "start": "859106",
    "end": "864700"
  },
  {
    "text": "And the utilization\nof a MAC protocol-- or in fact, of any\nprotocol over a network--",
    "start": "864700",
    "end": "871240"
  },
  {
    "text": "is defined as the throughput\nthat the protocol achieves",
    "start": "871240",
    "end": "877060"
  },
  {
    "text": "divided by the maximum\nrate at which it's possible to send data over that\nchannel or over that network.",
    "start": "877060",
    "end": "886490"
  },
  {
    "text": "So if you have a sudden maximum\nrate at which if everything were in your favor\nyou could send data at a certain maximum rate,\nstick that in the denominator.",
    "start": "886490",
    "end": "894700"
  },
  {
    "text": "Look at what throughput\nyou actually get. And take the ratio. The higher the utilization,\nthe higher the throughput.",
    "start": "894700",
    "end": "901720"
  },
  {
    "text": "We've just normalized\nout by the maximum rate. And of course, by\ndefinition, we know that the utilization\nmust be between 0 and 1",
    "start": "901720",
    "end": "909930"
  },
  {
    "text": "because you can't\nexceed the maximum. And this is an\naggregate measure. So if you have, let's say,\nfour nodes and the max--",
    "start": "909930",
    "end": "918870"
  },
  {
    "text": "just for example,\nlet's say the max rate is 10 megabits per second\nand you have four nodes.",
    "start": "918870",
    "end": "926580"
  },
  {
    "text": "And the throughput that the\nfour nodes get are, let's say, 1 megabits per second,\n2 megabits per second,",
    "start": "926580",
    "end": "933110"
  },
  {
    "text": "4 megabits per second,\nand 1 megabit per second.",
    "start": "933110",
    "end": "938260"
  },
  {
    "text": "What's the utilization? The total throughput is\n8 megabits per second.",
    "start": "938260",
    "end": "944160"
  },
  {
    "text": "The maximum is 10. So the utilization in\nthis example is 0.8.",
    "start": "944160",
    "end": "951540"
  },
  {
    "text": "In fact, if you had-- for the same four nodes,\nif the throughput you got",
    "start": "951540",
    "end": "956750"
  },
  {
    "text": "was 0, 1, 7, and 1, the\nutilization would also be 0.8.",
    "start": "956750",
    "end": "969280"
  },
  {
    "text": "Can't add. Can't multiply. But can convolve.",
    "start": "969280",
    "end": "974600"
  },
  {
    "text": "All right. Now, which of these\ntwo is better? ",
    "start": "974600",
    "end": "981350"
  },
  {
    "text": "That depends on if you're\na Democrat or a Republican. But which of those\ntwo is better?",
    "start": "981350",
    "end": "986430"
  },
  {
    "text": " If you were designing a network,\nwhich of these would you want?",
    "start": "986430",
    "end": "992739"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] PROFESSOR: What? AUDIENCE: [INAUDIBLE]. PROFESSOR: Yeah, a Democrat. ",
    "start": "992739",
    "end": "1002759"
  },
  {
    "text": "This is a tough question. You might say that\neverybody should-- they should be as\nequal as possible.",
    "start": "1002760",
    "end": "1008399"
  },
  {
    "text": "You might say that they\nshould get proportion to what they pay for. There's various ways\nof thinking about this.",
    "start": "1008400",
    "end": "1015570"
  },
  {
    "text": "We're not going to\nworry about the-- I mean, it's actually\na pretty deep set of topics that connect with\neconomics and social justice",
    "start": "1015570",
    "end": "1021040"
  },
  {
    "text": "and so on. And a lot of people do work on\nwhat it means to have fairness and what it means--\ndifferent kinds of fairness.",
    "start": "1021040",
    "end": "1027150"
  },
  {
    "text": "And for those who\nare interested, I can point you to\nlots of literature. And it's still somewhat open in\nterms of, what is the right way",
    "start": "1027150",
    "end": "1032939"
  },
  {
    "text": "to think about it? We're simple people. We'll just assume that\nabsent any other information,",
    "start": "1032940",
    "end": "1038819"
  },
  {
    "text": "we would like to get\nas equal as possible. And to do that, there are\nmany ways to define fairness.",
    "start": "1038819",
    "end": "1044760"
  },
  {
    "text": "And there's a particular\none that I like because it's simple and somewhat intuitive. And it's used a\nlot in networking.",
    "start": "1044760",
    "end": "1051090"
  },
  {
    "text": "It's called the Fairness Index. This isn't the only way\nto measure fairness.",
    "start": "1051090",
    "end": "1057409"
  },
  {
    "text": "But this is one that we'll use. And the definition\nof it is that I will look at either the\nutilization or the throughput.",
    "start": "1057410",
    "end": "1066150"
  },
  {
    "text": "It doesn't matter. Let me call that XI. In other words, XI is the\nthroughput or the utilization--",
    "start": "1066150",
    "end": "1073360"
  },
  {
    "text": "let me call it throughput-- ",
    "start": "1073360",
    "end": "1078510"
  },
  {
    "text": "achieved by node I. And if I look at\nthis number here,",
    "start": "1078510",
    "end": "1084059"
  },
  {
    "text": "XI squared divided by n\nsummation XI squared, that's",
    "start": "1084060",
    "end": "1092240"
  },
  {
    "text": "my definition of fairness. Now, this looks a\nlittle daunting. But it's actually very simple. What it's saying is that I\ntake each of the throughputs",
    "start": "1092240",
    "end": "1101360"
  },
  {
    "text": "that I get and I add them\nall up and I square them. So if I were to divide\nboth sides by n squared--",
    "start": "1101360",
    "end": "1109850"
  },
  {
    "text": "essentially, this is capturing\nfor me something that's related to the ratio of\nthe square of the mean",
    "start": "1109850",
    "end": "1118280"
  },
  {
    "text": "to the variance. So in other words, what ends\nup happening with a term like this-- this is a second\nmoment kind of a definition",
    "start": "1118280",
    "end": "1125419"
  },
  {
    "text": "of fairness-- this thing here looks like\nthe square of the mean. This thing here is\nrelated to the variance. And this is capturing the\nratio of those two terms.",
    "start": "1125420",
    "end": "1136309"
  },
  {
    "text": "If you have a situation\nwhere you have n nodes and you end up with\neverybody getting equal,",
    "start": "1136310",
    "end": "1144230"
  },
  {
    "text": "then the fairness index\nis 1, because if everybody has an equal value and you just\nrun the calculation through,",
    "start": "1144230",
    "end": "1150590"
  },
  {
    "text": "you'll find that the\nanswer is equal to 1. ",
    "start": "1150590",
    "end": "1156690"
  },
  {
    "text": "So if this is F, F\nis between 0 and 1. What's the minimum\nvalue of the Fairness Index from this formula?",
    "start": "1156690",
    "end": "1163940"
  },
  {
    "text": "Well, that happens\nwhen you have n guys and the throughput looks\nsomething like this.",
    "start": "1163940",
    "end": "1169082"
  },
  {
    "text": "One of them gets\nall the throughput and the others get 0. And if you plug that in\nhere, what you'll find",
    "start": "1169082",
    "end": "1174740"
  },
  {
    "text": "is that only one\nterm survives, the 1 over n term, and\neverything else becomes 0. And so the minimum value of\nthe fairness is 1 over F.",
    "start": "1174740",
    "end": "1183757"
  },
  {
    "text": "And this is intuitive\nin that it says that if you have two people\nand one guy hogs everything,",
    "start": "1183758",
    "end": "1189080"
  },
  {
    "text": "that's a little bit less\nunfair than if you have five people and one guy hogs\neverything, because in a sense,",
    "start": "1189080",
    "end": "1194990"
  },
  {
    "text": "one guy hogging everything out\nof five is worse than one guy hogging everything out of two. ",
    "start": "1194990",
    "end": "1202050"
  },
  {
    "text": "The only real reason we\ncare about this fairness is we're going to compare\ndifferent variants of a protocol along this index.",
    "start": "1202050",
    "end": "1208679"
  },
  {
    "text": "And I'd like you to get a feel\nfor what is a little fairer and what's less fair. There's nothing\nparticularly sacred",
    "start": "1208680",
    "end": "1214830"
  },
  {
    "text": "about this particular\ndefinition of fairness. And indeed, people\nwill argue also that this is a terrible\ndefinition of fairness",
    "start": "1214830",
    "end": "1221640"
  },
  {
    "text": "because it doesn't reflect\nhow much people have paid for the resource. But those are\ndetails because you",
    "start": "1221640",
    "end": "1226793"
  },
  {
    "text": "could have weighted\nversions where people are weighted by how\nmuch they pay, and so forth. So you can handle\nsome of that stuff.",
    "start": "1226793",
    "end": "1233490"
  },
  {
    "text": "Is this kind of clear,\nthese two basic definitions? So we're going to worry\nabout throughput and fairness",
    "start": "1233490",
    "end": "1239279"
  },
  {
    "text": "in protocols. Any questions so far? ",
    "start": "1239280",
    "end": "1245790"
  },
  {
    "text": "Yes? AUDIENCE: [INAUDIBLE]. PROFESSOR: Depends on whether\nyou care about it or not.",
    "start": "1245790",
    "end": "1251860"
  },
  {
    "text": "I mean, it depends\non the application. So typically speaking,\nwhen I look at, for example, measuring\nthe performance of my--",
    "start": "1251860",
    "end": "1258309"
  },
  {
    "text": "let's say I'm\ndownloading web pages. When I measure the\nperformance of web downloads,",
    "start": "1258310",
    "end": "1263679"
  },
  {
    "text": "all header information\nis just pure overhead. So I only look at how long it's\ntaken to download my content.",
    "start": "1263680",
    "end": "1269559"
  },
  {
    "text": "But now I can go in and look\nat how well is my TCP, which is the transport protocol,\nor IP, or whatever,",
    "start": "1269560",
    "end": "1275920"
  },
  {
    "text": "some lower level protocol\nworking, in which case, everything else is overhead. But I will include the\nparticular headers related",
    "start": "1275920",
    "end": "1283330"
  },
  {
    "text": "to TCP in my measurement. So the answer to whether\nsomething is overhead or not is it sort of depends\non what it is you care about.",
    "start": "1283330",
    "end": "1290532"
  },
  {
    "text": "So if I'm delivering\nvideo, you know, all this other stuff is overhead. And the only thing I care\nabout is my video frame.",
    "start": "1290532",
    "end": "1298270"
  },
  {
    "text": "So typically, the\nword throughput is by itself not meaningful. You have to say\nthroughput of what.",
    "start": "1298270",
    "end": "1304420"
  },
  {
    "text": "And here I'm talking about\nthroughput of a protocol, which is what you always have to say. And this is the throughput\nof the MAC protocol.",
    "start": "1304420",
    "end": "1309970"
  },
  {
    "text": "And it does include\nthe MAC header overhead if you have any headers.",
    "start": "1309970",
    "end": "1315009"
  },
  {
    "text": "Any other question? OK. There's a third metric\nthat's important, which is that we would like\nto have reasonable delays.",
    "start": "1315010",
    "end": "1326539"
  },
  {
    "text": "So in general, delay\nis a good metric, or bounded delay\nis a good metric. And this matters because I can\nget extremely high utilization",
    "start": "1326540",
    "end": "1336429"
  },
  {
    "text": "and extremely high\nfairness by doing something utterly dumb and naive,\nwhich is that if I have all",
    "start": "1336430",
    "end": "1344260"
  },
  {
    "text": "these nodes with\na lot of packets, if they're all backlogged,\nthen what I will say is, today this node gets\naccess to the network.",
    "start": "1344260",
    "end": "1352330"
  },
  {
    "text": "Tomorrow, he gets\naccess to the network. Day after tomorrow, he\ngets access to the network.",
    "start": "1352330",
    "end": "1357544"
  },
  {
    "text": "If they're always backlogged,\nthen clearly the throughput is-- the utilization is very\nhigh, because the network is",
    "start": "1357545",
    "end": "1363040"
  },
  {
    "text": "always being used\nprofitably and there are no collisions and no\nidle slots, no idle time.",
    "start": "1363040",
    "end": "1369340"
  },
  {
    "text": "The network is fair,\nbecause if I measure this over a month or\na year or something,",
    "start": "1369340",
    "end": "1374360"
  },
  {
    "text": "everybody gets equal throughput. But I've clobbered the delay\nbecause this guy got lucky. But everybody else is\nwaiting and waiting.",
    "start": "1374360",
    "end": "1380980"
  },
  {
    "text": "And in fact, even\nhe has to wait. Once today is over, he's\ngot to wait many days before he gets a turn.",
    "start": "1380980",
    "end": "1386259"
  },
  {
    "text": "So you actually would\nlike to have bounded delay, or at least low delay. And this is something\nwe're going to measure.",
    "start": "1386260",
    "end": "1391930"
  },
  {
    "text": "We're not going to try to\noptimize in the work we're going to talk about. OK. So that's the statement\nof the problem",
    "start": "1391930",
    "end": "1398770"
  },
  {
    "text": "and the statement of the metrics\nthat we wish to optimize. You have to ask me questions\nbecause if the problem",
    "start": "1398770",
    "end": "1404438"
  },
  {
    "text": "setup wasn't clear, the\nsolution is kind of going to be completely meaningless. So does anyone have any\nquestions about the problem",
    "start": "1404438",
    "end": "1410770"
  },
  {
    "text": "statement? ",
    "start": "1410770",
    "end": "1416856"
  },
  {
    "text": "It's one of these things\nwhere stating the problem is actually a little harder\nthan the actual solution. So I'm going to tell you now one\nmethod to solve this problem.",
    "start": "1416857",
    "end": "1425472"
  },
  {
    "text": "I'll get to you. And the method we're going\nto use to solve this problem was invented in the context\nof satellite networks",
    "start": "1425473",
    "end": "1430970"
  },
  {
    "text": "and then it got\nput into ethernet and then it's now part of Wi-Fi. So everybody uses a\nvariant of the method",
    "start": "1430970",
    "end": "1436880"
  },
  {
    "text": "that we are going to study. Yes? AUDIENCE: [INAUDIBLE]\nhow do you measure delay?",
    "start": "1436880",
    "end": "1443110"
  },
  {
    "text": "PROFESSOR: The delay\nis measured per packet. It's measured between when the\npackets showed up at the queue to when it actually successfully\ngot received at the receiver.",
    "start": "1443110",
    "end": "1451510"
  },
  {
    "text": "And then typically\nwe'll take an average across all of the\npackets and report an average delay, and perhaps\nthe standard deviation.",
    "start": "1451510",
    "end": "1458440"
  },
  {
    "text": "You had a comment? ",
    "start": "1458440",
    "end": "1463710"
  },
  {
    "text": "All right. So the solution we're\ngoing to study-- the basic solution is\nsomething called ALOHA.",
    "start": "1463710",
    "end": "1469841"
  },
  {
    "text": "ALOHA was the protocol\ndeveloped by a group led by Norm Abramson, who was\na professor at the time he",
    "start": "1469842",
    "end": "1475910"
  },
  {
    "text": "did this at the\nUniversity of Hawaii. I believe he moved\nfrom Stanford to Hawaii because he was an avid surfer.",
    "start": "1475910",
    "end": "1482690"
  },
  {
    "text": "And he decided that-- this\nwas in the late '60s-- that he wanted a\nscheme to connect",
    "start": "1482690",
    "end": "1488090"
  },
  {
    "text": "the different islands together. There were seven\nof these islands-- seven of these stations that\nhe wanted to connect together.",
    "start": "1488090",
    "end": "1493370"
  },
  {
    "text": "And he came up with a scheme\nthat on the face of it should really not work.",
    "start": "1493370",
    "end": "1499610"
  },
  {
    "text": "And only think good about it\nis how utterly simple it is. And the fact that\nit works is actually",
    "start": "1499610",
    "end": "1505850"
  },
  {
    "text": "very fortunate and very useful. And the reason it works\nis because, in a way, nodes doing things that\nlook completely random--",
    "start": "1505850",
    "end": "1514208"
  },
  {
    "text": "as long as the\nprobability with which they do these things\nis controlled, it turns out they\nwork pretty well.",
    "start": "1514208",
    "end": "1521220"
  },
  {
    "text": "So let me first show\nyou a picture that will define a few terms. And I'm going to come up with a\nversion of this ALOHA protocol",
    "start": "1521220",
    "end": "1529070"
  },
  {
    "text": "that ends up being a\npretty popular version. And it's called slotted ALOHA. ",
    "start": "1529070",
    "end": "1543000"
  },
  {
    "text": "And this model that I had from\nbefore where the nodes have queues, and when two packets\nrun at the same time they",
    "start": "1543000",
    "end": "1550860"
  },
  {
    "text": "end up colliding,\nall of that remains. I'm going to add one or two more\nrestrictions to the kinds of--",
    "start": "1550860",
    "end": "1556460"
  },
  {
    "text": "to the model. The first-- an important\nthing that defines slotted ALOHA is\nthat-- and in fact, it",
    "start": "1556460",
    "end": "1563840"
  },
  {
    "text": "defines real implementations\nof this kind of protocol-- is that time is slotted. ",
    "start": "1563840",
    "end": "1573140"
  },
  {
    "text": "What that means is that\nyou cannot send a packet at an arbitrary point in\ntime onto the network.",
    "start": "1573140",
    "end": "1581540"
  },
  {
    "text": "Instead, what ends up\nhappening is that if time-- you view time as a continuous--",
    "start": "1581540",
    "end": "1587630"
  },
  {
    "text": "as a continuous variable, you\ndivide up time into time slots.",
    "start": "1587630",
    "end": "1594510"
  },
  {
    "text": "I mean, these slots\ncould be any length. It doesn't matter. And the assumption\nwe're going to make",
    "start": "1594510",
    "end": "1600200"
  },
  {
    "text": "is that packets can only get\ntransmitted at the beginning of a time slot.",
    "start": "1600200",
    "end": "1605600"
  },
  {
    "text": "So these are legal.  Let me-- this is a legal\npacket transmission.",
    "start": "1605600",
    "end": "1616640"
  },
  {
    "text": "And this is a legal\npacket transmission. But this is not a legal\npacket transmission. Not allowed.",
    "start": "1616640",
    "end": "1623140"
  },
  {
    "text": "And the second assumption is\nthat every packet is an integer number of time slots.",
    "start": "1623140",
    "end": "1628909"
  },
  {
    "text": "So in other words,\nthis is legal. But this is not legal. You cannot have a packet\nthat starts here and ends",
    "start": "1628910",
    "end": "1634810"
  },
  {
    "text": "in the middle of there. All packets are an integer\nnumber of time slots.",
    "start": "1634810",
    "end": "1640270"
  },
  {
    "text": "OK. So if I have both of\nthose assumptions, that tells me ALOHA.",
    "start": "1640270",
    "end": "1648080"
  },
  {
    "text": "By slotted ALOHA,\nwe're also going to make the additional\nassumption that each packet is exactly one time slot long.",
    "start": "1648080",
    "end": "1654610"
  },
  {
    "text": " Later on, we'll relax\nthis assumption.",
    "start": "1654610",
    "end": "1661070"
  },
  {
    "text": "But I want to come up\nwith the world's simplest working protocol. In other words, the only\nlegal packets in slotted ALOHA",
    "start": "1661070",
    "end": "1668610"
  },
  {
    "text": "are like that. OK. And as shown on\nthis picture, this",
    "start": "1668610",
    "end": "1674450"
  },
  {
    "text": "is a picture of how\nslotted ALOHA works. You have time\ngoing on that axis. Time's divided into slots.",
    "start": "1674450",
    "end": "1680110"
  },
  {
    "text": "And I have these three different\nnodes-- blue, red, and green. When no node sends\npackets in a time slot,",
    "start": "1680110",
    "end": "1688130"
  },
  {
    "text": "that time slot is\nsaid to be idle and the channel is said to\nbe idle in that time slot.",
    "start": "1688130",
    "end": "1693649"
  },
  {
    "text": " If you have more than one\nnode sent in a time slot,",
    "start": "1693650",
    "end": "1700340"
  },
  {
    "text": "we have a collision. And in our model,\nnone of the packets that sent in that time\nslot gets decoded.",
    "start": "1700340",
    "end": "1707840"
  },
  {
    "text": "All of them are wasted. And everything\nelse is a success.",
    "start": "1707840",
    "end": "1713080"
  },
  {
    "text": "If you have a time slot in which\nexactly one packet is sent, we'll assume in this model\nthat the packet is successfully",
    "start": "1713080",
    "end": "1719049"
  },
  {
    "text": "decoded and we get to count\nthat as a successful packet reception.",
    "start": "1719050",
    "end": "1725670"
  },
  {
    "text": "So if you count and\nlook in this picture, the utilization here is 65%\nbecause we have 20 time slots",
    "start": "1725670",
    "end": "1735399"
  },
  {
    "text": "here. And in 13 of those\ntime slots, we were able to\nsuccessfully transmit",
    "start": "1735400",
    "end": "1740679"
  },
  {
    "text": "exactly one packet each. And that gives us the\nutilization of 65%. And the advantage of\npicking many of these things",
    "start": "1740680",
    "end": "1747917"
  },
  {
    "text": "is you can't really\ncheck in real time if I got the numbers\nright or wrong. You can check that later on.",
    "start": "1747917",
    "end": "1753730"
  },
  {
    "text": "I'm pretty sure-- I'm not sure of anything. It's probably correct. You should just count the number\nof slots in which exactly one",
    "start": "1753730",
    "end": "1760540"
  },
  {
    "text": "guy is sent. OK. So that's the picture here.",
    "start": "1760540",
    "end": "1765580"
  },
  {
    "text": "So what I want to do now is\nto come up with an algorithm, with a protocol, that\neach of the nodes",
    "start": "1765580",
    "end": "1771900"
  },
  {
    "text": "can implement that\nallows us to get reasonable utilization,\nreasonable fairness,",
    "start": "1771900",
    "end": "1778800"
  },
  {
    "text": "and reasonable delay. And an example of this\nprotocol, and one way of solving this\nproblem, is to solve",
    "start": "1778800",
    "end": "1787259"
  },
  {
    "text": "the problem in this context\nunder these assumptions. And then we're going to\ncalculate the utilization of that protocol.",
    "start": "1787260",
    "end": "1793500"
  },
  {
    "text": "So let me start by telling\nyou what the protocol is. ",
    "start": "1793500",
    "end": "1802500"
  },
  {
    "text": "The protocol-- each\nnode independently runs a version of this protocol.",
    "start": "1802500",
    "end": "1808539"
  },
  {
    "text": "And in the protocol,\neach node maintains-- in the simplest version\nof the protocol,",
    "start": "1808540",
    "end": "1814200"
  },
  {
    "text": "each node maintains\none variable. And the variable it\nmaintains is a probability.",
    "start": "1814200",
    "end": "1820969"
  },
  {
    "start": "1820969",
    "end": "1828460"
  },
  {
    "text": "So each node\nmaintains a variable. I'm going to call it p. And p is the\nprobability with which",
    "start": "1828460",
    "end": "1835420"
  },
  {
    "text": "the node will transmit a packet\nif it has a packet to transmit.",
    "start": "1835420",
    "end": "1840910"
  },
  {
    "text": "In other words, each\nnode has its own variant, its own version of p. And the semantics of this\nis that if backlogged,",
    "start": "1840910",
    "end": "1852760"
  },
  {
    "text": "we won't just greedily\ngo ahead and transmit. But instead, if\nwe're backlogged, we will transmit our packet on\nthe channel with probability p.",
    "start": "1852760",
    "end": "1861970"
  },
  {
    "text": " How do you generate--",
    "start": "1861970",
    "end": "1868100"
  },
  {
    "text": "how do you actually do\nsomething with probability p? Like, what would you\ndo to do something-- if I were asking\nyou, write a program",
    "start": "1868100",
    "end": "1875990"
  },
  {
    "text": "to transmit a packet\nwith probability p, how will you actually do that? ",
    "start": "1875990",
    "end": "1884690"
  },
  {
    "text": "Yes? AUDIENCE: Call a human\nto roll a dice for you. PROFESSOR: Call a\nhuman to roll a dice. All right.",
    "start": "1884690",
    "end": "1890050"
  },
  {
    "text": "Let's try to make it a\nlittle more practical. Actually, a dice has\nonly got six sides. How will I get p out of a dice?",
    "start": "1890050",
    "end": "1895460"
  },
  {
    "text": "AUDIENCE: A lot of dice. PROFESSOR: A lot of dice. OK. What if I want p with\n10 to the minus 17?",
    "start": "1895460",
    "end": "1902210"
  },
  {
    "text": "AUDIENCE: A lot of [INAUDIBLE]? PROFESSOR: Yeah,\nthat's-- all right. Does someone have a slightly\nmore practical solution?",
    "start": "1902210",
    "end": "1908970"
  },
  {
    "text": "Yes? AUDIENCE: Could you have a\nrandom number between 0 and 1 [INAUDIBLE]?",
    "start": "1908970",
    "end": "1914230"
  },
  {
    "text": " PROFESSOR: That sounds good. So you pick a random\nnumber between 0 and 1.",
    "start": "1914230",
    "end": "1920420"
  },
  {
    "text": "I mean, how do you get that? Well, that's a deep question. But I would just call\nrandom.random in Python, or whatever the thing is.",
    "start": "1920420",
    "end": "1927050"
  },
  {
    "text": "And you know, how\nPython does it is very-- there's ways to botch it. But for our purposes,\nwe'll assume it's correct.",
    "start": "1927050",
    "end": "1933740"
  },
  {
    "text": "And if the number you get\nis less than or equal to p, that tells you an event\nwith probability p.",
    "start": "1933740",
    "end": "1939289"
  },
  {
    "text": "That's great. OK. So suppose we did this. I'm not telling you\nhow to pick p yet.",
    "start": "1939290",
    "end": "1944797"
  },
  {
    "text": "That's magic that's going to\ncome up a little bit later. But suppose every\nnode had a value of p, that someone came and\ntold it, you know what?",
    "start": "1944797",
    "end": "1951860"
  },
  {
    "text": "There are n nodes in the system. Let's assume there are n\nbacklog nodes in the system.",
    "start": "1951860",
    "end": "1957179"
  },
  {
    "text": "And I told you that somebody\ncame and told each node that it can transmit with p.",
    "start": "1957180",
    "end": "1963200"
  },
  {
    "text": "What is the utilization\nof this protocol? So if I have n backlog\nnodes, each transmitting",
    "start": "1963200",
    "end": "1973580"
  },
  {
    "text": "with this probability p,\nwhat is the utilization of the protocol? ",
    "start": "1973580",
    "end": "1982070"
  },
  {
    "text": "I want to know what is\nthe utilization, which is, of course, a\nfunction of n and p?",
    "start": "1982070",
    "end": "1987440"
  },
  {
    "text": "And the way you have\nto answer this question is, of course, you draw\nthis picture in time",
    "start": "1987440",
    "end": "1992660"
  },
  {
    "text": "and you divide time into slots.  You've got some of\nthese things where",
    "start": "1992660",
    "end": "1998600"
  },
  {
    "text": "you have one packet going\nthrough, some of these things where more than\none goes through, in which case, this\nis a collision.",
    "start": "1998600",
    "end": "2005620"
  },
  {
    "text": "And I ask you, what\nis the utilization? How would you calculate it? Suppose you observe the\nrunning of the protocol",
    "start": "2005620",
    "end": "2012460"
  },
  {
    "text": "and you find that in some\ntime slots there's a collision and in some time\nslots there's nothing. And in some time slots, there's\nexactly one transmission.",
    "start": "2012460",
    "end": "2019754"
  },
  {
    "start": "2019754",
    "end": "2025570"
  },
  {
    "text": "If you look at\nthis, how would you calculate the utilization\nof the protocol?",
    "start": "2025570",
    "end": "2032000"
  },
  {
    "text": "The utilization\nis the throughput over the maximum rate. What's the maximum\nrate of this channel?",
    "start": "2032000",
    "end": "2038340"
  },
  {
    "text": "Well, the rate is measured in-- the rate here is measured\nin packets per time slot.",
    "start": "2038340",
    "end": "2043950"
  },
  {
    "text": "And I've said that each\npacket occupies one time slot. So the maximum rate\nis every time slot",
    "start": "2043950",
    "end": "2049169"
  },
  {
    "text": "is occupied with a packet. So the maximum rate is\none packet per time slot. You cannot send\nfaster than that.",
    "start": "2049170",
    "end": "2055000"
  },
  {
    "text": "So the denominator is just one. Therefore, the\nutilization in this model",
    "start": "2055000",
    "end": "2060030"
  },
  {
    "text": "is simply equal to the\nthroughput, which is simply equal to the number\nof time slots in which I have\nexactly one packet.",
    "start": "2060030",
    "end": "2067230"
  },
  {
    "text": "Or put another way, if I\nlook for a long enough amount of time, it's the number of\ntime slots with exactly one",
    "start": "2067230",
    "end": "2073138"
  },
  {
    "text": "packet that tells\nme the throughput, and therefore, tells\nme the utilization. ",
    "start": "2073139",
    "end": "2080050"
  },
  {
    "text": "So if I look for a\nvery, very long time and I count the number\nof successful packets, that's going to tell\nme the utilization",
    "start": "2080050",
    "end": "2086319"
  },
  {
    "text": "if I take the number and divide\nby the number of time slots.",
    "start": "2086320",
    "end": "2092205"
  },
  {
    "text": "And therefore,\nthe utilization is equal to simply the\nfraction of time slots",
    "start": "2092205",
    "end": "2097750"
  },
  {
    "text": "in which I have one packet\nand exactly one packet sent, which is equivalent to\nasking, what's the probability",
    "start": "2097750",
    "end": "2104650"
  },
  {
    "text": "that in any given\ntime slot, I have exactly one successful--\none exactly one packet sent?",
    "start": "2104650",
    "end": "2110953"
  },
  {
    "text": "So I'm going to repeat this.  The utilization of this\nprotocol is exactly",
    "start": "2110953",
    "end": "2116980"
  },
  {
    "text": "equal to the probability\nthat in any given time slot, I have exactly one transmission.",
    "start": "2116980",
    "end": "2123819"
  },
  {
    "text": "If you disagree\nwith that statement, you have to raise your hand now,\nor if you don't understand it,",
    "start": "2123820",
    "end": "2128920"
  },
  {
    "text": "so I can explain it\nagain, because we're going to use this idea\nrepeatedly in pretty much-- there's guaranteed to be some\nquestion on the quiz related",
    "start": "2128920",
    "end": "2136270"
  },
  {
    "text": "to this idea. And then you have to work\nsome probability out. So does everyone understand why\nthe utilization of the protocol",
    "start": "2136270",
    "end": "2142150"
  },
  {
    "text": "is equal to the probability\nthat in any time slot there's exactly one\ntransmission of a packet?",
    "start": "2142150",
    "end": "2147670"
  },
  {
    "text": " The reason why that's true is\nit follows from this definition",
    "start": "2147670",
    "end": "2153630"
  },
  {
    "text": "because the maximum rate here\nis one packet per time slot. And so I want to know\nwhat the throughput is.",
    "start": "2153630",
    "end": "2159050"
  },
  {
    "text": "The throughput is simply, I\nlook over a long period of time, many time slots,\nand I count what's the number of packets I sent.",
    "start": "2159050",
    "end": "2165225"
  },
  {
    "text": "So if I take the number\nof successful packets I sent and divide by the\nnumber of time slots, well, that's actually the\ndefinition of a probability",
    "start": "2165225",
    "end": "2171510"
  },
  {
    "text": "that in any given time\nslot I have exactly one successful transmission. And therefore, the utilization\nis equal to the probability",
    "start": "2171510",
    "end": "2179250"
  },
  {
    "text": "that I have exactly\none transmission. ",
    "start": "2179250",
    "end": "2187450"
  },
  {
    "text": "So I have n backlog nodes. Each guy sends with\nprobability p in a time slot.",
    "start": "2187450",
    "end": "2193640"
  },
  {
    "text": "What's the probability that I\nhave exactly one transmission? ",
    "start": "2193640",
    "end": "2200452"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE]. PROFESSOR: Well,\nthere's certainly a p, which is success,\ntimes 1 minus p",
    "start": "2200452",
    "end": "2206210"
  },
  {
    "text": "to the n minus 1, which is\nall the other guys keep quiet. ",
    "start": "2206210",
    "end": "2212070"
  },
  {
    "text": "Is this right? It's almost right. AUDIENCE: And then\ntimes n because there's n ways to [INAUDIBLE]. PROFESSOR: Times n.",
    "start": "2212070",
    "end": "2217512"
  },
  {
    "text": "There's an n choose\none, which is there are n ways\nto pick the winner, and therefore that's the answer. ",
    "start": "2217512",
    "end": "2224960"
  },
  {
    "text": "All right. Let's hold n times-- so\nlet me write this as u",
    "start": "2224960",
    "end": "2231250"
  },
  {
    "text": "equals n times p times 1\nminus p to the n minus 1. Suppose you knew n.",
    "start": "2231250",
    "end": "2237369"
  },
  {
    "text": "Suppose n were some value-- 10, 15, whatever. ",
    "start": "2237370",
    "end": "2243130"
  },
  {
    "text": "Therefore, I would view\nthis-- assuming n is constant, I could view this\nas a function of p.",
    "start": "2243130",
    "end": "2248590"
  },
  {
    "start": "2248590",
    "end": "2255730"
  },
  {
    "text": "If I want to maximize\nthis utilization, I want to-- obviously I\nwant to maximize it, right?",
    "start": "2255730",
    "end": "2261430"
  },
  {
    "text": "If I want to maximize\nthe utilization, what should be p be? ",
    "start": "2261430",
    "end": "2275660"
  },
  {
    "text": "Or I'll call it p star. What's the value of p\nequal to p star that maximizes this utilization?",
    "start": "2275660",
    "end": "2281329"
  },
  {
    "text": "Yes? AUDIENCE: 1 over n. PROFESSOR: 1 over n. Yeah, you could do this the\nhard way or the easy way.",
    "start": "2281330",
    "end": "2287007"
  },
  {
    "text": "AUDIENCE: Differentiating\n[INAUDIBLE].. PROFESSOR: Great. So if you did that, the answer\nworks out to be p star--",
    "start": "2287008",
    "end": "2294670"
  },
  {
    "text": "if you do u prime of p equals\n0 and you solve that, you'll find that p star is 1 over n.",
    "start": "2294670",
    "end": "2300940"
  },
  {
    "text": " The long way to do it\nis the way you describe.",
    "start": "2300940",
    "end": "2308337"
  },
  {
    "text": "But the answer is intuitive\nbecause what it really says is that, if I did\nhave every node transmit",
    "start": "2308337",
    "end": "2313750"
  },
  {
    "text": "with probability 1\nover n in a time slot, the expected number of\ntransmissions within any given",
    "start": "2313750",
    "end": "2319329"
  },
  {
    "text": "time slot is n times 1 over\nn, which is 1, which is kind of what you would expect.",
    "start": "2319330",
    "end": "2325420"
  },
  {
    "text": "You would expect\nthat to maximize the utilization, the expected\nnumber of nodes that transmit at any given time slot is 1.",
    "start": "2325420",
    "end": "2331839"
  },
  {
    "text": "And that's fortunately\nwhat you do get if you solve the equation.",
    "start": "2331840",
    "end": "2337290"
  },
  {
    "text": "So p star is 1 over n. So if somebody told you the\nnumber of backlogged nodes in the network and\nthey had the ability",
    "start": "2337290",
    "end": "2344290"
  },
  {
    "text": "to program each node to set\nthe appropriate probability, the probability you\nwould use is 1 over n.",
    "start": "2344290",
    "end": "2353540"
  },
  {
    "text": "So let's assume still\nthis world where we know the number of backlog nodes. And somebody came and told us\nthe probability we should use.",
    "start": "2353540",
    "end": "2360580"
  },
  {
    "text": " Do I need anything here? Let me erase this.",
    "start": "2360580",
    "end": "2367368"
  },
  {
    "text": "If somebody came and told you\nthe probability you should use, you would pick 1 over n. That's great.",
    "start": "2367368",
    "end": "2372400"
  },
  {
    "text": "So now therefore I\ncan now view u star",
    "start": "2372400",
    "end": "2380579"
  },
  {
    "text": "of n, which is the maximum\nprobability now becomes a function of n, because I can\ngo back in here and I can set--",
    "start": "2380580",
    "end": "2387570"
  },
  {
    "text": "assuming you picked\nthis value of p, you can stick p equal to\n1 over n in this formula",
    "start": "2387570",
    "end": "2392900"
  },
  {
    "text": "and then you get a utilization\nthat's purely a function of n because I want to draw\nthis picture of what",
    "start": "2392900",
    "end": "2398460"
  },
  {
    "text": "it looks like with n. So you start off n\nis equal to n times 1 over n, which is the value of\np that's the best value of p,",
    "start": "2398460",
    "end": "2406230"
  },
  {
    "text": "times 1 minus 1 over\nn to the n minus 1. Does that makes sense?",
    "start": "2406230",
    "end": "2411418"
  },
  {
    "text": "Haven't done anything\nother than substitute a value of p star\nequal to 1 over n.",
    "start": "2411418",
    "end": "2417430"
  },
  {
    "text": "And that's equal to 1 minus 1\nover n to the power n minus 1.",
    "start": "2417430",
    "end": "2423430"
  },
  {
    "text": " Now, one of the\nquestions we want to ask",
    "start": "2423430",
    "end": "2428600"
  },
  {
    "text": "is, is this how--\nthis is the best you can do in this protocol.",
    "start": "2428600",
    "end": "2433850"
  },
  {
    "text": "How good or how bad is it? So let's draw a picture\nof what this looks like as n becomes large.",
    "start": "2433850",
    "end": "2440850"
  },
  {
    "text": "So I want to draw a picture\nof n on this axis and the best value of the utilization, which\nis u star of n on this axis.",
    "start": "2440850",
    "end": "2448400"
  },
  {
    "text": " Well, when n is 1, get to n is\n1-- actually, intuitively, when",
    "start": "2448400",
    "end": "2455740"
  },
  {
    "text": "n is 1, what's the utilization? When you have one backlog\nnode and the protocol runs with the value of\np equal to 1 over n,",
    "start": "2455740",
    "end": "2462750"
  },
  {
    "text": "what's the utilization? The utilization is 1. This formula, you got to\ntake the limit, and so on.",
    "start": "2462750",
    "end": "2469390"
  },
  {
    "text": "But the answer is 1. So let's assume this is 1\nand 2 and 3 and 4, and so on.",
    "start": "2469390",
    "end": "2476080"
  },
  {
    "text": "So it's 1. What is it when n equals 2? What's the utilization\nwhen n equals 2?",
    "start": "2476080",
    "end": "2482320"
  },
  {
    "text": "Well, it's 1/2 to the\npower 1, which is 50%. So I get a value which is 1/2.",
    "start": "2482320",
    "end": "2489030"
  },
  {
    "text": "When n is 3, what happens? Well, 1 minus 1/3 squared,\nwhich is 4 over 9.",
    "start": "2489030",
    "end": "2494359"
  },
  {
    "start": "2494360",
    "end": "2500740"
  },
  {
    "text": "As n goes bigger and\nbigger and bigger, what does this value become? ",
    "start": "2500740",
    "end": "2506762"
  },
  {
    "text": "Yeah? AUDIENCE: [INAUDIBLE]. PROFESSOR: Yeah, as n goes\nbigger and bigger and bigger, you do the limit when n goes to\ninfinity of this thing here. n",
    "start": "2506762",
    "end": "2513610"
  },
  {
    "text": "minus 1 and n are more\nor less the same thing, so you can get rid of that. This should be a\nwell-known limit.",
    "start": "2513610",
    "end": "2519609"
  },
  {
    "text": "If you don't know\nit, you take the log. You take the log and\nyou find the limit",
    "start": "2519610",
    "end": "2525250"
  },
  {
    "text": "as it goes to infinity. You can expand that\ninto a power series. And you'll find\nthat the answer--",
    "start": "2525250",
    "end": "2530500"
  },
  {
    "text": "the limit of the log is\nminus 1 or this value, the limit goes to 1 over e.",
    "start": "2530500",
    "end": "2535810"
  },
  {
    "text": "So in fact, it goes to a\nvalue which is 1 over e when",
    "start": "2535810",
    "end": "2542020"
  },
  {
    "text": "n is large, or about 37%.  This is actually not bad.",
    "start": "2542020",
    "end": "2547830"
  },
  {
    "text": "It's actually very good. For a protocol that did nothing\nsophisticated, all it did was pick a value of\nthis probability.",
    "start": "2547830",
    "end": "2554680"
  },
  {
    "text": "The fact that it's able to\nget not a zero utilization but a reasonably\ngood utilization is an extremely strong--",
    "start": "2554680",
    "end": "2561030"
  },
  {
    "text": "is a pretty strong result. And that's the basic\nALOHA protocol.",
    "start": "2561030",
    "end": "2567150"
  },
  {
    "text": "The basic ALOHA protocol,\nor a fixed probability ALOHA protocol, is\nsomebody telling you the number of backlogged nodes\nand you using that information",
    "start": "2567150",
    "end": "2574839"
  },
  {
    "text": "to make sure that every node\nsends with some probability. And they just-- and\nthe probability you",
    "start": "2574840",
    "end": "2580660"
  },
  {
    "text": "would pick is 1 over n. Now, this is not actually\na very practical protocol, because how do you know which\nnodes have backlogged packets",
    "start": "2580660",
    "end": "2587950"
  },
  {
    "text": "and which nodes don't? What we would like us to come\nup with a way by which we automatically have a\nprotocol that somehow",
    "start": "2587950",
    "end": "2595000"
  },
  {
    "text": "gets us to the\ncorrect utilization. And we're going to do that by\nadding a method to this ALOHA",
    "start": "2595000",
    "end": "2602140"
  },
  {
    "text": "protocol that will make\nit completely practical. And that method is\ncalled stabilization.",
    "start": "2602140",
    "end": "2608890"
  },
  {
    "text": "And the purpose of\nstabilization is to determine at each node\nwhat the actual value of p",
    "start": "2608890",
    "end": "2614619"
  },
  {
    "text": "it should use is. And that value of p is\ngoing to change with time as other nodes have traffic\nto send and if nodes go away.",
    "start": "2614620",
    "end": "2622210"
  },
  {
    "text": "So the magic protocol\nis going to be somehow that we're able to change\nthe value of p at every node.",
    "start": "2622210",
    "end": "2629290"
  },
  {
    "text": "Every node runs an\nalgorithm which adapts its value of p over time. And if there's a lot of\ncompetition, the value of p",
    "start": "2629290",
    "end": "2635950"
  },
  {
    "text": "will reduce. If there's very little\ncompetition, the value of p increases. And if we do that,\nwe're going to be",
    "start": "2635950",
    "end": "2642220"
  },
  {
    "text": "able to get pretty\ngood utilization. And this process is\ncalled stabilization.",
    "start": "2642220",
    "end": "2649254"
  },
  {
    "text": "AUDIENCE: Are we still\nassuming that all of the nodes are transmitting with\nthe same probability? PROFESSOR: Nope.",
    "start": "2649254",
    "end": "2655930"
  },
  {
    "text": "The nodes will end\nup not transmitting with the same probability\nbecause they're each going to be making\nindependent decisions.",
    "start": "2655930",
    "end": "2661190"
  },
  {
    "text": "So the first thing\nwe're going to do is each node is still\ngoing to have a p. But in fact, node i is going\nto have its own variable.",
    "start": "2661190",
    "end": "2667390"
  },
  {
    "text": "So we're going to say that\nnode i has its own variable that only it knows. And its probability is p i.",
    "start": "2667390",
    "end": "2675350"
  },
  {
    "text": "So the way we're going\nto do the stabilization is very, very simple.",
    "start": "2675350",
    "end": "2680400"
  },
  {
    "text": "We're going to say that at\nnode i, it's going to do-- well, the only information\nit gets is it sends a packet.",
    "start": "2680400",
    "end": "2686720"
  },
  {
    "text": "And if the packet succeeds,\nit knows something. If the packet doesn't\nsucceed, it knows something.",
    "start": "2686720",
    "end": "2692240"
  },
  {
    "text": "So let's say that a node sends\na packet and the packet fails. And the way you know that\na packet fails-- and I",
    "start": "2692240",
    "end": "2697760"
  },
  {
    "text": "haven't talked about this. But the way this protocol--\nall these protocols-- end up working is they send\na packet and then",
    "start": "2697760",
    "end": "2702980"
  },
  {
    "text": "they watch to see if the\npacket succeeds or not. They can get that information\nby an acknowledgment",
    "start": "2702980",
    "end": "2708140"
  },
  {
    "text": "coming from the receiver. Or in the case of\ncertain networks, like ethernet, when\nyou send a packet,",
    "start": "2708140",
    "end": "2713420"
  },
  {
    "text": "if you aren't able to receive\nyour own packet on that bus, then you know that it's failed.",
    "start": "2713420",
    "end": "2719320"
  },
  {
    "text": "So that's just a detail. But the assumption\nhere is there's some feedback that tells\nthe node whether a packet",
    "start": "2719320",
    "end": "2724760"
  },
  {
    "text": "transmission succeeded or not. In general, it's with\nan acknowledgment that comes from the receiver.",
    "start": "2724760",
    "end": "2729808"
  },
  {
    "text": "If you get an ACK,\nit means it succeeds. So we're going to\nhave two rules.",
    "start": "2729808",
    "end": "2734810"
  },
  {
    "text": "If you don't succeed-- in other\nwords, there's a collision-- then you do something. And in contrast, if you\nsucceed, you do something.",
    "start": "2734810",
    "end": "2744158"
  },
  {
    "text": " So what we're going to\ndo on a collision is, let's say that you send a\npacket and it didn't succeed.",
    "start": "2744158",
    "end": "2750662"
  },
  {
    "text": "It collided. Yes? AUDIENCE: So with\nthe acknowledgement, what if the\nacknowledgement fails?",
    "start": "2750662",
    "end": "2756333"
  },
  {
    "text": "PROFESSOR: Yeah.  You're out of luck,\nbecause in reality,",
    "start": "2756333",
    "end": "2761620"
  },
  {
    "text": "in Wi-Fi, when an\nacknowledgment fails, what ends up happening is you\nassume the packet collided.",
    "start": "2761620",
    "end": "2766839"
  },
  {
    "text": "So how people deal with this\nproblem is typically to-- essentially to do very\nstrong error protection",
    "start": "2766840",
    "end": "2774283"
  },
  {
    "text": "on the acknowledgment. You send it at a\nvery low bitrate. And what that really\nmeans is you're adding a lot of redundancy\nto that acknowledgment.",
    "start": "2774283",
    "end": "2780293"
  },
  {
    "text": "So imagine you're\ncoding the heck out of it using channel coding. That's what happens. ",
    "start": "2780293",
    "end": "2788350"
  },
  {
    "text": "OK. Let's say you send a\npacket and it collides. What should you do to the\nnode's transmission probability?",
    "start": "2788350",
    "end": "2797080"
  },
  {
    "text": "Increase it or reduce it? AUDIENCE: Reduce it. PROFESSOR: Sorry? AUDIENCE: Reduce it. PROFESSOR: Reduce it,\nbecause the assumption is it",
    "start": "2797080",
    "end": "2802540"
  },
  {
    "text": "collided because presumably\nthere's a lot of competition and you're a nice guy. And your assumption is\nthat all the other nodes",
    "start": "2802540",
    "end": "2807828"
  },
  {
    "text": "are nice people, too, which\nis kind of changing nowadays with all these\nsoftware defined radios",
    "start": "2807828",
    "end": "2813480"
  },
  {
    "text": "and the hacking that you\ncan do on Wi-Fi cards. It's possible for your node\nto not actually back off.",
    "start": "2813480",
    "end": "2819890"
  },
  {
    "text": "But if you're a nice node,\nwhat you're going to do is you're going to\nreduce the probability. And one way of doing that,\na good way of doing that,",
    "start": "2819890",
    "end": "2826037"
  },
  {
    "text": "is called multiplicative\nreduction, or multiplicative decrease. You reduce it by a factor of 2.",
    "start": "2826037",
    "end": "2832840"
  },
  {
    "text": "You just halve it. And on a success, you could do\na bunch of different things. But one thing you can do is\nyou can be a little bit greedy",
    "start": "2832840",
    "end": "2840178"
  },
  {
    "text": "and say, all right. I succeeded, which means there's\nnot that much competition in the network. Maybe there's nobody else in\nthe network, in which case, I",
    "start": "2840178",
    "end": "2847180"
  },
  {
    "text": "want to keep trying to increase\nmy transmission probability. And maybe you double it.",
    "start": "2847180",
    "end": "2852190"
  },
  {
    "text": "And my notes talk about\nwhether this is right or something else is right. But it really doesn't matter.",
    "start": "2852190",
    "end": "2857790"
  },
  {
    "text": "It turns out the important\nrule is this rule. The protocol turns\nout to be not very sensitive to how you increase.",
    "start": "2857790",
    "end": "2863470"
  },
  {
    "text": "You do have to increase. But it doesn't\nmatter how you do it. Now, of course, the\nprobabilities can't exceed 1.",
    "start": "2863470",
    "end": "2869500"
  },
  {
    "text": "So we're going to actually pick\nthe minimum of 2 times p and 1.",
    "start": "2869500",
    "end": "2875110"
  },
  {
    "text": "This is our basic\nstabilization protocol. Now, every node has\nits own version of p.",
    "start": "2875110",
    "end": "2881050"
  },
  {
    "text": "And so you may run\nwith a p of 0.8 and I might be at a p of 0.1.",
    "start": "2881050",
    "end": "2886099"
  },
  {
    "text": "Presumably, if I succeed,\nI'm going to increase. If you fail, you're\ngoing to decrease. And something happens. The question is, what happens?",
    "start": "2886100",
    "end": "2892420"
  },
  {
    "text": "And that's what I\nwant to show you. I'm going to skip all the\nstuff we went through. ",
    "start": "2892420",
    "end": "2899180"
  },
  {
    "text": "So if I run this protocol\nexactly as I've described on this board here-- and\nthis is an experiment with--",
    "start": "2899180",
    "end": "2904480"
  },
  {
    "text": "you'll be doing all this\nstuff in the lab yourself. This is with 10 nodes.",
    "start": "2904480",
    "end": "2910420"
  },
  {
    "text": "What you see is that you have\na utilization of 0.33, which is not too far from the 1\nover e utilization, which",
    "start": "2910420",
    "end": "2918370"
  },
  {
    "text": "is remarkable that this protocol\nwhere everybody just jumped around multiplicatively\nchanging p i like this",
    "start": "2918370",
    "end": "2925089"
  },
  {
    "text": "worked out to be a\npretty good utilization. But there's a big\nproblem in the protocol. And the problem in the\nprotocol is that the fairness",
    "start": "2925090",
    "end": "2931060"
  },
  {
    "text": "is pretty terrible. As it happens, it's 0.47. I was reminded that\n47% of the nodes",
    "start": "2931060",
    "end": "2936370"
  },
  {
    "text": "here got pretty\nhealthy throughput. It's probably looking for\nhandouts or something.",
    "start": "2936370",
    "end": "2942410"
  },
  {
    "text": "But anyway, it's pretty bad. And what's going on\nhere is that when a node is running at a high\nvalue of its probability",
    "start": "2942410",
    "end": "2949330"
  },
  {
    "text": "and some other node is at a\nlow value of the probability, if they collide, the\nguy with the higher",
    "start": "2949330",
    "end": "2954700"
  },
  {
    "text": "value of its probability\nreduces some by a factor of 2, but it's still a\npretty high value, whereas if a node has a\nprobability of transmission,",
    "start": "2954700",
    "end": "2961780"
  },
  {
    "text": "somehow it's got screwed and\nit's now running at 1 over 32, it becomes 1 over\n64, then 1 over 128.",
    "start": "2961780",
    "end": "2969070"
  },
  {
    "text": "It's practically 0. It doesn't ever get out of\nthat real morass that it's in and ever start being able to\nsuccessfully transmit again.",
    "start": "2969070",
    "end": "2977350"
  },
  {
    "text": "And that's what's\nhappening here. And the way you\nsolve this problem-- there's a very simple\nsolution to this problem.",
    "start": "2977350",
    "end": "2983809"
  },
  {
    "text": "The way you solve\nthis problem is you decide that nobody should get\nreally, really poor, that you decide that you're going to have\na value of the probability p",
    "start": "2983810",
    "end": "2992400"
  },
  {
    "text": "min that will never\nactually get-- you'll never go below that.",
    "start": "2992400",
    "end": "2997450"
  },
  {
    "text": "So you modify the\nprotocol to do that.  And if you do that, you end up\nwith much better performance.",
    "start": "2997450",
    "end": "3004620"
  },
  {
    "text": "You end up with performance\nthat looks like this. ",
    "start": "3004620",
    "end": "3011628"
  },
  {
    "text": "And you'll see this in the lab. But what you find here is\nsomething very puzzling. What you find here is that\nthe fairness is amazing.",
    "start": "3011628",
    "end": "3018060"
  },
  {
    "text": "It's 99.99, which is really,\nreally good fairness. But what you find is that\nthe utilization is 0.71.",
    "start": "3018060",
    "end": "3025775"
  },
  {
    "text": "That's actually too\ngood to be true, because the best\nutilization you could expect is probably around 37%.",
    "start": "3025775",
    "end": "3032839"
  },
  {
    "text": "And the fact is, we're getting\nsomething astonishingly good. What's happening here\nactually is something",
    "start": "3032840",
    "end": "3038390"
  },
  {
    "text": "that's really important. It took people a few\nyears to figure it out. It's called the capture effect. What's happening here is\nthat some node captures",
    "start": "3038390",
    "end": "3045380"
  },
  {
    "text": "the channel for quite a\nsubstantial period of time, shutting everybody else out. And then some\nother node captures",
    "start": "3045380",
    "end": "3051019"
  },
  {
    "text": "the channel for\nsome period of time, shutting everybody else out. So you get significant\nshort term unfairness. Or equivalently, you\nget a long delay.",
    "start": "3051020",
    "end": "3058140"
  },
  {
    "text": "So some nodes may end up\nwaiting for a long time. And then they get access. And then they keep\naccess for quite a while.",
    "start": "3058140",
    "end": "3063617"
  },
  {
    "text": "And then they lose access. And then some\nother nodes get it. So what's really\ngoing on here is, even though you have many, many\nnodes competing, at any point",
    "start": "3063617",
    "end": "3070010"
  },
  {
    "text": "in time, effectively\nthe competition is only between one or two nodes. And this is a problem\ncalled the capture effect.",
    "start": "3070010",
    "end": "3076693"
  },
  {
    "text": "And the way you\nsolve this problem is symmetrically to change\nthis value of the probability,",
    "start": "3076693",
    "end": "3082140"
  },
  {
    "text": "there's a maximum\nvalue, which is p max. So you have to pick a different\nvalue that's less than 1",
    "start": "3082140",
    "end": "3087890"
  },
  {
    "text": "that's the maximum probability. In other words, once a node\nhas a transmission probability of, let's say, 0.25\nor 0.3, you don't",
    "start": "3087890",
    "end": "3094355"
  },
  {
    "text": "want to have it keep increasing,\nbecause what ends up happening is then it captures the\nchannel for quite a while. And it's only upon\nsuccessive collisions",
    "start": "3094355",
    "end": "3101792"
  },
  {
    "text": "that it comes down to the\npoint where other nodes can gain access to the channel. So if you put all\nof that together",
    "start": "3101792",
    "end": "3107420"
  },
  {
    "text": "and run the\nexperiment, we're just putting this protocol\nas described exactly on this board. And you can play\naround with this thing.",
    "start": "3107420",
    "end": "3113947"
  },
  {
    "text": "There's a lot of leeway in\npicking these parameters. If you run this protocol,\nyou get a utilization, in this case, of 0.41,\nwhich for n equal to 10",
    "start": "3113947",
    "end": "3121317"
  },
  {
    "text": "is pretty much what\nyou would get according to sticking into that formula a\nfairness that's extremely high.",
    "start": "3121318",
    "end": "3126710"
  },
  {
    "text": "And it's super cool because\nthis is exactly what you would want to get. If somebody magically told you\nthe number of backlogged nodes",
    "start": "3126710",
    "end": "3133310"
  },
  {
    "text": "and you theoretically\ncalculated the optimal value of the probability, you couldn't\ndo better than this protocol.",
    "start": "3133310",
    "end": "3138380"
  },
  {
    "text": "And we managed to do it\nby simply these nodes that are just independently\nmaking these decisions,",
    "start": "3138380",
    "end": "3143900"
  },
  {
    "text": "figuring out what\nthey should do. And if you were to plot\nthe actual evolution of the probabilities, you\nfind that at no point in time",
    "start": "3143900",
    "end": "3150560"
  },
  {
    "text": "does any node have\na value of 1 over n. Even though in the\nexperiment there's",
    "start": "3150560",
    "end": "3155619"
  },
  {
    "text": "some value of the number\nof backlogged nodes, the nodes kind of\ndance around it. But they never\nactually stick to it.",
    "start": "3155620",
    "end": "3161849"
  },
  {
    "text": "But they conspire\nto dance around it in a way that gives you\nexactly the same result as you would get if you, in fact,\nhad a pretty good thing.",
    "start": "3161850",
    "end": "3171692"
  },
  {
    "text": "I'm going to close\nwith one last comment. This is from s\nstudent from about, I think, two terms ago, a\nguy called Chase Lambert,",
    "start": "3171692",
    "end": "3177890"
  },
  {
    "text": "who took this class. And I was very\ngratified to hear this, because it turned\nout he interned or he is working or\nworked or working",
    "start": "3177890",
    "end": "3184490"
  },
  {
    "text": "at a company called Quizlet,\nwhich is a startup company. And one of the things he had\nto do was a load generator.",
    "start": "3184490",
    "end": "3190820"
  },
  {
    "text": "And he ended up using exactly\nthese ideas to come up with a load generating\nscheme that was stable, because you want to\nbe able to generate",
    "start": "3190820",
    "end": "3197275"
  },
  {
    "text": "load that allows you to measure\nthe throughput of a system. And he used this\nrandom back off idea. So it's not that you'll\nfind these ideas useful",
    "start": "3197275",
    "end": "3204050"
  },
  {
    "text": "only if you were doing\nthis kind of networking. You actually find these ideas\nuseful in other contexts.",
    "start": "3204050",
    "end": "3209967"
  },
  {
    "text": "So I'm going to stop here. We'll pick up on some of\nthese topics in recitation, and then back here on Monday.",
    "start": "3209967",
    "end": "3215650"
  },
  {
    "start": "3215650",
    "end": "3219000"
  }
]