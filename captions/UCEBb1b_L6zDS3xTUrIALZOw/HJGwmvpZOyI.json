[
  {
    "start": "0",
    "end": "22000"
  },
  {
    "start": "4490",
    "end": "4490"
  },
  {
    "text": "In this video, we\nwill see how we",
    "start": "4490",
    "end": "6220"
  },
  {
    "text": "can add a new variable\nto our data frame.",
    "start": "6220",
    "end": "9490"
  },
  {
    "text": "Suppose that we want to add\na variable to our USDA data",
    "start": "9490",
    "end": "13070"
  },
  {
    "text": "frame that takes a value\n1 if the food has higher",
    "start": "13070",
    "end": "16490"
  },
  {
    "text": "sodium than average,\nand 0 if the food has",
    "start": "16490",
    "end": "19610"
  },
  {
    "text": "lower sodium than average.",
    "start": "19610",
    "end": "21710"
  },
  {
    "text": "Let's do this step by step.",
    "start": "21710",
    "end": "24090"
  },
  {
    "start": "22000",
    "end": "48000"
  },
  {
    "text": "To check if the first\nfood in the dataset",
    "start": "24090",
    "end": "26140"
  },
  {
    "text": "has a higher amount of sodium\ncompared to the average,",
    "start": "26140",
    "end": "29279"
  },
  {
    "text": "we can simply ask R to dig up\nthe first value in the Sodium",
    "start": "29280",
    "end": "34270"
  },
  {
    "text": "vector, using the square\nbrackets and the index 1.",
    "start": "34270",
    "end": "37410"
  },
  {
    "text": "And then compare it using\nthe greater-than sign",
    "start": "37410",
    "end": "40850"
  },
  {
    "text": "to the mean of\nthe Sodium vector,",
    "start": "40850",
    "end": "43980"
  },
  {
    "text": "and then do not forget to remove\nthe non-available entries.",
    "start": "43980",
    "end": "49770"
  },
  {
    "text": "And we obtain TRUE.",
    "start": "49770",
    "end": "51670"
  },
  {
    "text": "How about the 50th food?",
    "start": "51670",
    "end": "53300"
  },
  {
    "text": "Well, let's go back\nusing the Up arrow,",
    "start": "53300",
    "end": "55579"
  },
  {
    "text": "and simply change the index 1\nto 50, and now we get FALSE.",
    "start": "55580",
    "end": "60950"
  },
  {
    "text": "This means that the first\nfood has higher sodium",
    "start": "60950",
    "end": "63320"
  },
  {
    "text": "content than average,\nand the 50th food",
    "start": "63320",
    "end": "65890"
  },
  {
    "text": "has lower sodium\ncontent than average.",
    "start": "65890",
    "end": "69090"
  },
  {
    "text": "Now, we can write\nthe same command,",
    "start": "69090",
    "end": "70560"
  },
  {
    "text": "but on all the vector Sodium.",
    "start": "70560",
    "end": "72860"
  },
  {
    "text": "Let's use the Up arrow, and\ndelete the square brackets",
    "start": "72860",
    "end": "76060"
  },
  {
    "text": "with the index 50.",
    "start": "76060",
    "end": "78009"
  },
  {
    "text": "But we know we have 7,000\nfoods, and we really",
    "start": "78010",
    "end": "80940"
  },
  {
    "text": "don't want to output\n7,000 values right now.",
    "start": "80940",
    "end": "83410"
  },
  {
    "text": "So how about instead, we just\nsave the output to a vector,",
    "start": "83410",
    "end": "87770"
  },
  {
    "text": "and we're going to\ncall it HighSodium.",
    "start": "87770",
    "end": "90369"
  },
  {
    "start": "89000",
    "end": "108000"
  },
  {
    "text": "And now let's look at the\nstructure of the HighSodium",
    "start": "90370",
    "end": "93460"
  },
  {
    "text": "vector.",
    "start": "93460",
    "end": "95310"
  },
  {
    "text": "And then we see that the\nHighSodium vector indeed",
    "start": "95310",
    "end": "98079"
  },
  {
    "text": "has all these values--\nTRUE and FALSE--",
    "start": "98080",
    "end": "101020"
  },
  {
    "text": "which are called logicals.",
    "start": "101020",
    "end": "103049"
  },
  {
    "text": "So basically the type of the\nHighSodium vector is logical.",
    "start": "103050",
    "end": "109080"
  },
  {
    "text": "But remember, we said we\nwanted values 1's and 0's.",
    "start": "109080",
    "end": "112920"
  },
  {
    "text": "So instead of TRUE, we want 1.",
    "start": "112920",
    "end": "115590"
  },
  {
    "text": "And instead of FALSE,\nwe want a value of 0.",
    "start": "115590",
    "end": "118500"
  },
  {
    "text": "Well, to do this, we\nneed to change the data",
    "start": "118500",
    "end": "120900"
  },
  {
    "text": "type of HighSodium\nto numeric, and we",
    "start": "120900",
    "end": "124370"
  },
  {
    "text": "can do this using the\nas.numeric function.",
    "start": "124370",
    "end": "127300"
  },
  {
    "text": "So let's use the Up\narrow twice, and then",
    "start": "127300",
    "end": "130259"
  },
  {
    "text": "enclose this logical expression\nby the as.numeric function.",
    "start": "130259",
    "end": "134250"
  },
  {
    "text": "So as.numeric, and now look up\nthe structure of HighSodium,",
    "start": "134250",
    "end": "140530"
  },
  {
    "text": "and now we see that we turned\nit into a numerical vector with",
    "start": "140530",
    "end": "143860"
  },
  {
    "text": "values 0's and 1's.",
    "start": "143860",
    "end": "146700"
  },
  {
    "start": "145000",
    "end": "173000"
  },
  {
    "text": "Now, this vector,\nHighSodium, is not",
    "start": "146700",
    "end": "148690"
  },
  {
    "text": "associated with the\nUSDA data frame.",
    "start": "148690",
    "end": "151760"
  },
  {
    "text": "How can we add a variable,\nHighSodium, to our data frame?",
    "start": "151760",
    "end": "155939"
  },
  {
    "text": "Well, simply we need to\nuse the dollar notation.",
    "start": "155940",
    "end": "159020"
  },
  {
    "text": "So let's go back\ntwice to the command",
    "start": "159020",
    "end": "163010"
  },
  {
    "text": "where we created the\nHighSodium vector,",
    "start": "163010",
    "end": "165530"
  },
  {
    "text": "and then simply right now,\ninstead of just calling",
    "start": "165530",
    "end": "167900"
  },
  {
    "text": "it HighSodium, we associate\nit with the USDA data",
    "start": "167900",
    "end": "171360"
  },
  {
    "text": "frame using the dollar notation.",
    "start": "171360",
    "end": "173880"
  },
  {
    "start": "173000",
    "end": "188000"
  },
  {
    "text": "Now, pressing Enter, and going\nand checking the structure",
    "start": "173880",
    "end": "176780"
  },
  {
    "text": "of the USDA data frame,\nwe see that we just added",
    "start": "176780",
    "end": "180480"
  },
  {
    "text": "the HighSodium variable\nthat was not present before,",
    "start": "180480",
    "end": "183700"
  },
  {
    "text": "and it's a numerical variable\nwith values 1's and 0's.",
    "start": "183700",
    "end": "189230"
  },
  {
    "start": "188000",
    "end": "256000"
  },
  {
    "text": "Now we can do the same, and\nadd the variables HighProtein,",
    "start": "189230",
    "end": "193040"
  },
  {
    "text": "HighCarbs, HighFat,\nsimilarly to our data frame.",
    "start": "193040",
    "end": "196769"
  },
  {
    "text": "Well, let's do this\nquickly using the Up arrow,",
    "start": "196770",
    "end": "199620"
  },
  {
    "text": "and then let's go and replace\nSodium now by Protein.",
    "start": "199620",
    "end": "205390"
  },
  {
    "text": "So again, here Sodium\nis replaced by Protein.",
    "start": "205390",
    "end": "208870"
  },
  {
    "text": "And then we're going to call\nthis new variable HighProtein.",
    "start": "208870",
    "end": "214200"
  },
  {
    "text": "And do the same with TotalFat.",
    "start": "214200",
    "end": "216980"
  },
  {
    "text": "So instead of\nProtein, we're going",
    "start": "216980",
    "end": "218920"
  },
  {
    "text": "to have TotalFat, and then\nreplace it here again,",
    "start": "218920",
    "end": "227730"
  },
  {
    "text": "and the variable name\nis going to be HighFat.",
    "start": "227730",
    "end": "233239"
  },
  {
    "text": "And finally,\nCarbohydrates-- so here",
    "start": "233240",
    "end": "237480"
  },
  {
    "text": "is the vector of Carbohydrates,\nand this is, too,",
    "start": "237480",
    "end": "245260"
  },
  {
    "text": "getting the\nCarbohydrates vector.",
    "start": "245260",
    "end": "247290"
  },
  {
    "text": "And finally, this last\nvariable that we want to add",
    "start": "250150",
    "end": "253860"
  },
  {
    "text": "is called HighCarbs.",
    "start": "253860",
    "end": "256609"
  },
  {
    "start": "256000",
    "end": "288000"
  },
  {
    "text": "And now looking at the structure\nof the USDA data frame,",
    "start": "256610",
    "end": "260569"
  },
  {
    "text": "we see that we\nsuccessfully added",
    "start": "260570",
    "end": "262980"
  },
  {
    "text": "these three new variables, which\nare high HighProtein, HighFat,",
    "start": "262980",
    "end": "267340"
  },
  {
    "text": "and HighCarbs, in\naddition to the HighSodium",
    "start": "267340",
    "end": "270270"
  },
  {
    "text": "variable that we\nadded previously.",
    "start": "270270",
    "end": "273250"
  },
  {
    "text": "So how can we now\nfind relationships",
    "start": "273250",
    "end": "275990"
  },
  {
    "text": "between these variables, and\nalso the original variables",
    "start": "275990",
    "end": "280139"
  },
  {
    "text": "that we had in the\nUSDA data frame?",
    "start": "280140",
    "end": "283190"
  },
  {
    "text": "Well, we're going to\nbe using the table",
    "start": "283190",
    "end": "285630"
  },
  {
    "text": "and the tapply functions\nin our next video.",
    "start": "285630",
    "end": "289659"
  }
]