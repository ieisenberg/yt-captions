[
  {
    "text": " [SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "6859"
  },
  {
    "start": "6860",
    "end": "12635"
  },
  {
    "text": "ESTHER DUFLO: So\ntoday let's talk about analyzing\nrandomized experiments, and imagine you have-- we\nare going to work mostly",
    "start": "12635",
    "end": "19290"
  },
  {
    "text": "with some little nod to\nother possible design about the simplest\ndesign of experiment,",
    "start": "19290",
    "end": "25540"
  },
  {
    "text": "which is a completely\nrandomized experiment. So someone gave you a sample.",
    "start": "25540",
    "end": "31650"
  },
  {
    "text": "Someone took a sample\nand then flipped a coin and randomly assigned\nsome of the nt units",
    "start": "31650",
    "end": "39630"
  },
  {
    "text": "to the treatment group and nc\nunits to the comparison group. And then you have the data.",
    "start": "39630",
    "end": "46140"
  },
  {
    "text": "That's what it is. You know who got the assignment. You have some outcome that\nis measured in your data set,",
    "start": "46140",
    "end": "53339"
  },
  {
    "text": "and you are wondering\nwhat to do with it. The nice thing\nabout experiments is",
    "start": "53340",
    "end": "59190"
  },
  {
    "text": "we really need to know\nnothing about econometrics. Everything you have done\nabout statistics, probability",
    "start": "59190",
    "end": "66270"
  },
  {
    "text": "and statistics that we\nhave done till today is sufficient to\nanalyze experiments, at least to analyze\nthe simple ones.",
    "start": "66270",
    "end": "73270"
  },
  {
    "text": "It doesn't mean this is\nnecessarily what people do in practice all the time. It turns out that\nknowing regressions",
    "start": "73270",
    "end": "80260"
  },
  {
    "text": "quickens things up a little bit. But it's really not necessary\nbecause completely randomized",
    "start": "80260",
    "end": "86350"
  },
  {
    "text": "experiments are very simple. So we're going to see three\nmet-- there are three workhorse",
    "start": "86350",
    "end": "93790"
  },
  {
    "text": "methods to look at\na simple completely randomized experiments, the\nFisher exact test, Neyman's",
    "start": "93790",
    "end": "100240"
  },
  {
    "text": "approach, which is looking\nat average treatment effect, computing average\ntreatment effect,",
    "start": "100240",
    "end": "106120"
  },
  {
    "text": "and a regression method,\nwhich I'm obviously not going to do today since we\nhaven't seen regression. ",
    "start": "106120",
    "end": "113299"
  },
  {
    "text": "We'll be very, very trivial\nwhen we have seen regression in all of this. So the first question is--",
    "start": "113300",
    "end": "120970"
  },
  {
    "text": "so I should say one thing\nin particular to start with. Today, for the most part, I'm\ngoing to be thinking about--",
    "start": "120970",
    "end": "128289"
  },
  {
    "text": "and this is what both Fisher\nand Neyman were thinking about. They were thinking\nabout the sample",
    "start": "128289",
    "end": "134780"
  },
  {
    "text": "as the population of interest. So they were thinking of--",
    "start": "134780",
    "end": "140310"
  },
  {
    "text": "let's say Fisher\nwas thinking a lot about agricultural experiments. So imagine a bunch of fields,\nand then different fields",
    "start": "140310",
    "end": "147540"
  },
  {
    "text": "could have gotten\ndifferent treatments. They were thinking\nabout the effect of the treatment in this\nparticular sample of fields.",
    "start": "147540",
    "end": "156600"
  },
  {
    "text": "Same thing with Neyman. He was interested\nin another question, but for the particular sample\nthat was given to them.",
    "start": "156600",
    "end": "163810"
  },
  {
    "text": "Alternatively, we might be\ninterested in an estimate of the effect for some larger\npopulation, super population",
    "start": "163810",
    "end": "172050"
  },
  {
    "text": "out of which the\nsample is being drawn. And in a lot of cases today in\neconomics and social science,",
    "start": "172050",
    "end": "178830"
  },
  {
    "text": "that's what we're\nthinking about. We're thinking\nabout, say, if I do an experiment about\na hundred classes,",
    "start": "178830",
    "end": "185910"
  },
  {
    "text": "I'm moderately interested\nin just a hundred classes. I would like to be thinking\nthat I'm saying something",
    "start": "185910",
    "end": "192269"
  },
  {
    "text": "about classes in this general\nenvironment in general, so the hundred classes\nthat I have are themselves",
    "start": "192270",
    "end": "200140"
  },
  {
    "text": "randomly chosen out of\na larger population. So in general, in\neconomics, the way",
    "start": "200140",
    "end": "206650"
  },
  {
    "text": "we are thinking\nabout uncertainty is that it's coming from that. There is a larger population. We are drawing some people\nfrom that observation.",
    "start": "206650",
    "end": "214390"
  },
  {
    "text": "But you can see that another\nway to think about it is a smaller sample, and the\nuncertainty comes in that case",
    "start": "214390",
    "end": "219790"
  },
  {
    "text": "from who is treated\nand who is not treated, because it could have\nbeen the other way. When we randomized, we could\nhave gotten another assignment.",
    "start": "219790",
    "end": "227780"
  },
  {
    "text": "So for most of today,\nI'm going to be reasoning in terms of a fixed\npopulation, and what is random",
    "start": "227780",
    "end": "234265"
  },
  {
    "text": "is not the potential outcome in\nthis population which is fixed, because that's the\npopulation, but it's the assignment who\nhappens to have gotten",
    "start": "234265",
    "end": "240550"
  },
  {
    "text": "the treatment and the control. Does that make sense? By the way, it becomes\nrelevant again when",
    "start": "240550",
    "end": "245920"
  },
  {
    "text": "you're thinking about-- recently with big data, thinking\nabout the problem in this way",
    "start": "245920",
    "end": "252550"
  },
  {
    "text": "becomes very pertinent again\nbecause if you're Facebook and you're running an\nexperiment in Facebook",
    "start": "252550",
    "end": "259930"
  },
  {
    "text": "on your entire client\nbase, well, that's it. That's the population. You're not really\ndrawing a random sample",
    "start": "259930",
    "end": "269830"
  },
  {
    "text": "from a random population. You might have, but you\ndon't necessarily need to. And in this case, it's not\nthat there is no uncertainty.",
    "start": "269830",
    "end": "275650"
  },
  {
    "text": "There is still uncertainty. But it's not coming from we've\nrandomly drawn a sub sample. It's coming from the fact\nthat we've treated these guys.",
    "start": "275650",
    "end": "282640"
  },
  {
    "text": "We might as well have\ntreated these guys. The result would have\nbeen different every time. So these people,\nFisher and Neyman",
    "start": "282640",
    "end": "288520"
  },
  {
    "text": "who are really the\ntwo people who help us think about experiment,\nthat's the world they are thinking about where\nthe uncertainty doesn't come",
    "start": "288520",
    "end": "295990"
  },
  {
    "text": "from drawing a sub\nsample of the population but from reassigning\nwithin the same population.",
    "start": "295990",
    "end": "302539"
  },
  {
    "text": "This is where the similarity\nends between the two because they were actually\npretty bitterly opposed",
    "start": "302540",
    "end": "309790"
  },
  {
    "text": "on what was the\nquestion of interest when you have an experiment. You might think it's\nnot that controversial,",
    "start": "309790",
    "end": "318090"
  },
  {
    "text": "but they really were\nfighting bitterly.",
    "start": "318090",
    "end": "323220"
  },
  {
    "text": "So Fisher was interested\nin the sharp null, what he called the sharp\nnull hypothesis, which",
    "start": "323220",
    "end": "328830"
  },
  {
    "text": "is the hypothesis that the\ntreatment that we are providing",
    "start": "328830",
    "end": "334349"
  },
  {
    "text": "has no effect on\nanybody whatsoever. OK? He was interested in that.",
    "start": "334350",
    "end": "341759"
  },
  {
    "text": "So note that it's very different\nfrom the average treatment has no effect on average. It has no effect on\neverybody whatsoever.",
    "start": "341760",
    "end": "349539"
  },
  {
    "text": "So basically there\nis no heterogeneity on treatment effect. Everybody's potential\noutcome treated",
    "start": "349540",
    "end": "355740"
  },
  {
    "text": "is the same as their\npotential outcome control. There is, of course,\nvariation between people's",
    "start": "355740",
    "end": "361170"
  },
  {
    "text": "potential outcome, but the\ntreatment is a pure placebo. So let's say if I give\nsugar to kids for a cough,",
    "start": "361170",
    "end": "371420"
  },
  {
    "text": "suppose it has no\ntreatment effect. It actually might\nhave a placebo effect. Imagine it doesn't. If I give sugar to kids\nbefore they go to bed,",
    "start": "371420",
    "end": "379550"
  },
  {
    "text": "the effect would be zero\non average child, so their probability--",
    "start": "379550",
    "end": "385195"
  },
  {
    "text": "they will cough regardless or\nthey will not cough regardless. OK?",
    "start": "385195",
    "end": "390440"
  },
  {
    "text": "So what is very\nnice about-- what is very convenient\nabout the sharp null",
    "start": "390440",
    "end": "395479"
  },
  {
    "text": "is that we solved this\nmagically, the missing data",
    "start": "395480",
    "end": "402800"
  },
  {
    "text": "problem, because under\nthe null we exactly know what the potential\noutcome would have been,",
    "start": "402800",
    "end": "410270"
  },
  {
    "text": "because we observe either\nyi of 1 or yi of 0.",
    "start": "410270",
    "end": "417080"
  },
  {
    "text": "What we are willing\nwhat we want to test is the null that\nthey are the same, then we know under\nthe null what they",
    "start": "417080",
    "end": "423230"
  },
  {
    "text": "would have been\nso we can recover the entire counterfactual\ndistribution of outcomes",
    "start": "423230",
    "end": "428780"
  },
  {
    "text": "under the null from the\ndata that we actually happen to observe. Which is extremely\nconvenient because once we",
    "start": "428780",
    "end": "435470"
  },
  {
    "text": "know that, under the null,\nwe can compute any statistic we please, because we have\nthe entire distribution.",
    "start": "435470",
    "end": "443090"
  },
  {
    "text": "We could do the max. ",
    "start": "443090",
    "end": "448130"
  },
  {
    "text": "We could do the rank. We could do anything. And in particular, something\nthat seems sensible to use",
    "start": "448130",
    "end": "455720"
  },
  {
    "text": "is the absolute difference\nin means by treatment status. So it's for the\nparticular, for what",
    "start": "455720",
    "end": "462620"
  },
  {
    "text": "I observe, the absolute\ndifference in means treatment status is simply the difference\nin the average observed outcome",
    "start": "462620",
    "end": "472729"
  },
  {
    "text": "for the treated group minus\nthe difference in the observed outcome for the control\ngroup, and then take",
    "start": "472730",
    "end": "481039"
  },
  {
    "text": "the absolute value of that. It's kind of one\npossible statistic which seems to make a lot of sense.",
    "start": "481040",
    "end": "487160"
  },
  {
    "text": "But anything you\nwant you can compute because you have everything. You have the entire\ncounterfactual distribution",
    "start": "487160",
    "end": "493680"
  },
  {
    "text": "under the null. The nice thing is\nthat we can now compute the probability of the\nrandomization distribution,",
    "start": "493680",
    "end": "500860"
  },
  {
    "text": "which is any potential way that\nthe observations could have",
    "start": "500860",
    "end": "505965"
  },
  {
    "text": "been assigned to the\ntreatment of the control group of the statistics\nyou're interested, for example, our absolute\nvalue of the average difference",
    "start": "505965",
    "end": "514349"
  },
  {
    "text": "taking a value as large\nas the actual value given the treatment assigned.",
    "start": "514350",
    "end": "520418"
  },
  {
    "text": "So in practice, what do we do? We take our observation\nand we say, well,",
    "start": "520419",
    "end": "529630"
  },
  {
    "text": "suppose that, in fact, the\nrandomization would have gone differently and we try one\nround of the randomization where",
    "start": "529630",
    "end": "538230"
  },
  {
    "text": "I'll give you immediately\nan example that is simpler. This is an example\nof giving people",
    "start": "538230",
    "end": "544740"
  },
  {
    "text": "honey for cough,\nkids honey for cough. So randomized study\nwhere children were given honey or nothing.",
    "start": "544740",
    "end": "551010"
  },
  {
    "text": "There is also a third treatment\nthat we are going to ignore, where they were given\nsome medication. But let's now compare\nhoney or nothing.",
    "start": "551010",
    "end": "557240"
  },
  {
    "text": "The main outcome if the\nseverity of the cough the night after the assignment. So from one knock off\nto six, a lot of cough.",
    "start": "557240",
    "end": "565550"
  },
  {
    "text": "And in Benson Rubin, in\ntheir book on causality and social science\nand biomedical science use it to illustrate\nthe Fisher's exact test.",
    "start": "565550",
    "end": "572480"
  },
  {
    "text": "They assume first to simplify\nthat we have data only for six kids. OK? That we can write all\nof the assignment.",
    "start": "572480",
    "end": "579960"
  },
  {
    "text": "So first let's see\nwhat we observe. So what we observe\nis for our six kids,",
    "start": "579960",
    "end": "586143"
  },
  {
    "text": "whether they were in\nthe treatment group or in the control group. And then we observe the\nseverity of their cough as",
    "start": "586143",
    "end": "592370"
  },
  {
    "text": "reported by the parents. So for the treated kids, we\nobserve their potential outcome",
    "start": "592370",
    "end": "598010"
  },
  {
    "text": "if treated. So that's [INAUDIBLE] one is\nthree, [INAUDIBLE] two is five,",
    "start": "598010",
    "end": "603230"
  },
  {
    "text": "and the other one is zero,\nso I guess zero was no cough. And then for the\nlast three kids we",
    "start": "603230",
    "end": "611240"
  },
  {
    "text": "only see their potential\noutcome if not treated, so that gives us y zero.",
    "start": "611240",
    "end": "616670"
  },
  {
    "text": "This is some covariates\nthat we also have that we are going to ignore. And this is what we\nare actually observing.",
    "start": "616670",
    "end": "623090"
  },
  {
    "text": "3, 5, 0, 4, 0, 1. So now we can say, OK,\nthis is the actual thing",
    "start": "623090",
    "end": "630200"
  },
  {
    "text": "that we observed. What's the difference between\ntreatment and control? It's the average absolute\nvalue of the difference is one,",
    "start": "630200",
    "end": "637820"
  },
  {
    "text": "turns out, when we take\nthe difference between 3 plus 5 plus 0 minus 4.",
    "start": "637820",
    "end": "643580"
  },
  {
    "text": "That's 8, 4, 1, 1,\n6, so 2 divided by 3.",
    "start": "643580",
    "end": "651290"
  },
  {
    "text": "Yeah? STUDENT: [INAUDIBLE]\nhospital for the treatment. ESTHER DUFLO: Oh,\nso this is that.",
    "start": "651290",
    "end": "657850"
  },
  {
    "text": "This is that. We are going to ignore it. Because we have\nrandom assignment, we are going to focus-- we could do something\nwith it, which",
    "start": "657850",
    "end": "664480"
  },
  {
    "text": "we are not going to do for now. We are going to do nothing with\ncovariates, so ignore that. All we are looking\nat is the severity",
    "start": "664480",
    "end": "670090"
  },
  {
    "text": "of the cough before\nthe treatment. You're right. What we can say instead of\nbeing interested in the severity",
    "start": "670090",
    "end": "675130"
  },
  {
    "text": "of the cough after\nthe treatment, I could compute the difference\nand be interested in that as my outcome.",
    "start": "675130",
    "end": "681820"
  },
  {
    "text": "And of course, the\nsharp null would also help me to say what\nit would have been",
    "start": "681820",
    "end": "688030"
  },
  {
    "text": "under any possible assignment. But let's say now we kind of\nexploit the randomization.",
    "start": "688030",
    "end": "693070"
  },
  {
    "text": "We're just comparing\nwhat happens after. So the difference is one in the\naverage severity of the cough.",
    "start": "693070",
    "end": "704230"
  },
  {
    "text": " OK. Yeah.",
    "start": "704230",
    "end": "709450"
  },
  {
    "text": "STUDENT: I have\na quick question. If we did have information\non the cost severity before treatment--",
    "start": "709450",
    "end": "714457"
  },
  {
    "text": "ESTHER DUFLO: We do. STUDENT: Oh, we do. It's xi. ESTHER DUFLO: This is xi. It's a covariate. STUDENT: Would it be called\ndifference in difference?",
    "start": "714457",
    "end": "720700"
  },
  {
    "text": "It's a small tangent. I'm just trying to-- ESTHER DUFLO: Yes. It's one thing we could do.",
    "start": "720700",
    "end": "726140"
  },
  {
    "text": "So for example, if\nwe, instead of being interested in the severity\nof the cough after,",
    "start": "726140",
    "end": "734450"
  },
  {
    "text": "we constructed a\nnew variable called the difference between the\nseverity of the cough after",
    "start": "734450",
    "end": "740090"
  },
  {
    "text": "and the severity of\nthe cough before, and then we took the\ndifference between those two",
    "start": "740090",
    "end": "745940"
  },
  {
    "text": "as our statistics, that would\nbe a difference in difference. ",
    "start": "745940",
    "end": "758480"
  },
  {
    "text": "Now we are just interested\nin that simple difference, so the absolute value. In fact, it should be\nabsolute value of t obs is 1.",
    "start": "758480",
    "end": "767329"
  },
  {
    "text": " So just looking\nat it intuitively,",
    "start": "767330",
    "end": "774519"
  },
  {
    "text": "it doesn't seem that\nit helps all that much. It seems that the severity of\nthe cough on average is larger",
    "start": "774520",
    "end": "780790"
  },
  {
    "text": "for those who got the cough\nthan those who didn't. So the question\nis, can we reject that maybe it hurts some\npeople or maybe it has helped",
    "start": "780790",
    "end": "789730"
  },
  {
    "text": "some people, hurt some people? So we want to reject\nthe possibility that the treatment-- we\nwant to test the hypothesis,",
    "start": "789730",
    "end": "795910"
  },
  {
    "text": "see whether we can reject the\nhypothesis that the honey has",
    "start": "795910",
    "end": "802509"
  },
  {
    "text": "no effect on any kid whatsoever. So since we know that under\nthe null, what would happen,",
    "start": "802510",
    "end": "809080"
  },
  {
    "text": "we can fill out the question\nmarks by saying, well, if under the null this is\n3, under the null this is 5,",
    "start": "809080",
    "end": "816610"
  },
  {
    "text": "under the null this is 0,\nunder this is 4, 0, and 1. OK?",
    "start": "816610",
    "end": "822100"
  },
  {
    "text": "We filled it up. So now we have all of the\npotential treated and control.",
    "start": "822100",
    "end": "827590"
  },
  {
    "text": "Very convenient\nbecause now we can say, since we don't have\nthat many observation,",
    "start": "827590",
    "end": "833260"
  },
  {
    "text": "we can re-randomize. We can run all of\nthe randomization. For each of the randomization,\ncompute the statistics,",
    "start": "833260",
    "end": "842250"
  },
  {
    "text": "which is the absolute\nvalue of the difference or the difference, and then\ntake the absolute value. So what we have in this table is\nall of the potential outcomes.",
    "start": "842250",
    "end": "850310"
  },
  {
    "text": "All of the potential assignment. All of the assignment\nthat could have existed. So we 6 and 6, choose two.",
    "start": "850310",
    "end": "856820"
  },
  {
    "text": "And the first line is the\none that we actually observe. Sorry. The one that we actually observe\nis this one, the last one,",
    "start": "856820",
    "end": "864589"
  },
  {
    "text": "where the first three\nunits are treated and the next three\nare not treated.",
    "start": "864590",
    "end": "869820"
  },
  {
    "text": "So we already know that the\ndifference in cough severity is one. ",
    "start": "869820",
    "end": "875390"
  },
  {
    "text": "And then we can now\ndo the same thing. So imagine that it's the\nfirst three units that are not",
    "start": "875390",
    "end": "881600"
  },
  {
    "text": "treated and the next\nthree that are treated, then the difference\nwould be minus 1.",
    "start": "881600",
    "end": "889279"
  },
  {
    "text": "Then we can do 0, 0, 1, 0, 1, 1. Again, compute the difference\nbetween the treated",
    "start": "889280",
    "end": "897230"
  },
  {
    "text": "and the control in that\nparticular permutation. For people who know bootstrap,\nthis is not a bootstrap",
    "start": "897230",
    "end": "905000"
  },
  {
    "text": "because we are randomizing\nthe assignment. We're keeping the\nobservation fixed.",
    "start": "905000",
    "end": "910370"
  },
  {
    "text": "This is a permutation. OK? So we have enough\nobservation that we",
    "start": "910370",
    "end": "915417"
  },
  {
    "text": "don't have too many\nobservations so we can compute all of the\npossible scenarios and say,",
    "start": "915417",
    "end": "923060"
  },
  {
    "text": "given what we observe,\nunder the null, this is how the test statistic\nwould have been distributed.",
    "start": "923060",
    "end": "928130"
  },
  {
    "text": "I'm giving you all\nthe possibility for the test statistics so\nyou can plot it if you'd like.",
    "start": "928130",
    "end": "937700"
  },
  {
    "text": "It's going to have some shape. We can also compute the p value\nfor the H0, which is simply",
    "start": "937700",
    "end": "945620"
  },
  {
    "text": "the probability that\nthe test statistics is equal or larger to this one.",
    "start": "945620",
    "end": "951170"
  },
  {
    "text": "We take the absolute value\nof that so we can count them. So how many in absolute value\nare greater or equal to one?",
    "start": "951170",
    "end": "957290"
  },
  {
    "start": "957290",
    "end": "965160"
  },
  {
    "text": "16, I think. Yes. 16. Correct. So the p value is\n16 divided by 20.8.",
    "start": "965160",
    "end": "972600"
  },
  {
    "text": "So are we rejecting H0? ",
    "start": "972600",
    "end": "981670"
  },
  {
    "text": "Not at all. I mean, it would be-- it's a very high p value.",
    "start": "981670",
    "end": "989180"
  },
  {
    "text": "In other words, what\nwe are seeing is that, well, under the null,\nmost of the difference",
    "start": "989180",
    "end": "995260"
  },
  {
    "text": "are actually larger than\nthe one we observe or equal in what we observe. This suggests that this one\nis not particularly large,",
    "start": "995260",
    "end": "1002970"
  },
  {
    "text": "and therefore, it is\nvery likely to have happened under the null.",
    "start": "1002970",
    "end": "1008620"
  },
  {
    "text": "Does that make sense? So now that we have\ncomputing power,",
    "start": "1008620",
    "end": "1013690"
  },
  {
    "text": "we could do this type of test\neven for many, many, many more observations.",
    "start": "1013690",
    "end": "1021190"
  },
  {
    "text": "Even with more observations,\nwe could, in principle, compute the entire-- all of the possible\nassignments, and for each",
    "start": "1021190",
    "end": "1028290"
  },
  {
    "text": "of the assignments, compute the\nstatistics we're interested. In this case, the\ndifference between treated and control under\neach of the assignment,",
    "start": "1028290",
    "end": "1036339"
  },
  {
    "text": "take the absolute\nvalue, plot them, and see whether\nthe one we observed tends to be very much to the\nright or very much to the left.",
    "start": "1036339",
    "end": "1043400"
  },
  {
    "text": "And if it's not, then if it's\nright smack in the middle here, it would suggest that\nthis is not very--",
    "start": "1043400",
    "end": "1049615"
  },
  {
    "text": " we certainly can not reject H0.",
    "start": "1049615",
    "end": "1056650"
  },
  {
    "text": "So that's one way to proceed. If we had really a\nlot of observation,",
    "start": "1056650",
    "end": "1064240"
  },
  {
    "text": "it starts to be a lot\nof potential assignments that you have to play\nwith, so you might not",
    "start": "1064240",
    "end": "1070100"
  },
  {
    "text": "be able to do all\nthe permutation. It becomes large. So you don't have\nto do all of them.",
    "start": "1070100",
    "end": "1075720"
  },
  {
    "text": "You can do a bunch of them.  You can do an assignment,\na possible assignment",
    "start": "1075720",
    "end": "1084200"
  },
  {
    "text": "by drawing in your sample\nof n without replacement, like a particular random\ncomputer statistics that you're",
    "start": "1084200",
    "end": "1090830"
  },
  {
    "text": "interested for. That assignment, repeat. ",
    "start": "1090830",
    "end": "1097255"
  },
  {
    "text": "Depending on how\npatient you are, you can do however\nmany you want.",
    "start": "1097255",
    "end": "1102590"
  },
  {
    "text": "The more you do,\nthe more precise your p value is going to be. Of course, the p value, if you\ndo it for all the assignment,",
    "start": "1102590",
    "end": "1111470"
  },
  {
    "text": "the p value is exact. If not, it comes from\nsome null due to the fact that you've only\ntaken possibly a few",
    "start": "1111470",
    "end": "1119150"
  },
  {
    "text": "of the possible\nassignment or many of the possible\nassignments, but you control that so you can just\nreduce the-- you can reduce",
    "start": "1119150",
    "end": "1125450"
  },
  {
    "text": "the standard error\nof the p value as much as you want to by\nadding more observations.",
    "start": "1125450",
    "end": "1132540"
  },
  {
    "text": "And so for the honey study,\nactually, the first six observations were a bit\nmisleading for honey",
    "start": "1132540",
    "end": "1138050"
  },
  {
    "text": "because, in fact, when you\ndo this simulated test with-- and you have more observations,\nyour p values are--",
    "start": "1138050",
    "end": "1144890"
  },
  {
    "text": "using all of the observations\nand doing simulated p value, you actually find p values\nthat are much lower.",
    "start": "1144890",
    "end": "1150059"
  },
  {
    "text": "So using all of the observations\nand not just the first six, it turns out that the difference\nbetween treatment and control",
    "start": "1150060",
    "end": "1155630"
  },
  {
    "text": "was larger than most of the\nvalue for the statistics",
    "start": "1155630",
    "end": "1164420"
  },
  {
    "text": "that we get under each of\nthese random assignment of these fake assignment.",
    "start": "1164420",
    "end": "1170510"
  },
  {
    "text": "Does it make sense? So that's Fisher exact test. Yes? STUDENT: [INAUDIBLE]",
    "start": "1170510",
    "end": "1176629"
  },
  {
    "text": " ESTHER DUFLO: So when you do\nbootstrap, you do the opposite.",
    "start": "1176630",
    "end": "1182279"
  },
  {
    "text": "So bootstrap is also\na sampling method, but when you do bootstrap,\nyou take the assignment fixed",
    "start": "1182280",
    "end": "1188870"
  },
  {
    "text": "and you sample from the\npopulation you have.",
    "start": "1188870",
    "end": "1194240"
  },
  {
    "text": "So actually, you\ntake the entire-- here bootstrapping\nwould be taking",
    "start": "1194240",
    "end": "1200790"
  },
  {
    "text": "a subsamples of the\nobservations we observe,",
    "start": "1200790",
    "end": "1206360"
  },
  {
    "text": "keeping both the\noutcome that we observe and the treatment constant. So for example, it\nwould be taking--",
    "start": "1206360",
    "end": "1214640"
  },
  {
    "text": "we have these six\nobservations here. If I want to bootstrap\nfrom six observations,",
    "start": "1214640",
    "end": "1222650"
  },
  {
    "text": "I would sample-- say, if I\nwant to bootstrap sample that has the same size of six,\nI would sample six times",
    "start": "1222650",
    "end": "1228530"
  },
  {
    "text": "with replacement, both\nthe Wi and the action potential outcome.",
    "start": "1228530",
    "end": "1234360"
  },
  {
    "text": "So I could end up with 3 times\nthe first one and 2 times the second one.",
    "start": "1234360",
    "end": "1239900"
  },
  {
    "text": "So as you can see, it would be\npretty disastrous, potentially. So the bootstrap is still a\ntest that works on large sample.",
    "start": "1239900",
    "end": "1246649"
  },
  {
    "text": "The Fisher exact test is\nwhat it is, given the sample. So the Fisher exact test does\nnot rely on anything asymptotic",
    "start": "1246650",
    "end": "1253670"
  },
  {
    "text": "at all. So contrary to the\nbootstrap where we sample the\nentire observation,",
    "start": "1253670",
    "end": "1259310"
  },
  {
    "text": "observe outcome plus\nthe treatment together and we put them\nin a sample and we",
    "start": "1259310",
    "end": "1264980"
  },
  {
    "text": "rerun in that kind\nof makeup sample, in the randomization\ninference or Fisher exact test",
    "start": "1264980",
    "end": "1273290"
  },
  {
    "text": "we keep the observation\nas they are, all of them, and we just reassign\nthe samples.",
    "start": "1273290",
    "end": "1278670"
  },
  {
    "text": "Which is the motivation of\nit is that it was randomly assigned to start\nwith, so it could",
    "start": "1278670",
    "end": "1284720"
  },
  {
    "text": "have been another assignment. Nothing prevents you to use\nFisher exact test in settings",
    "start": "1284720",
    "end": "1291110"
  },
  {
    "text": "where the original\nassignment is not randomized but you think it's\nas good as randomly assigned for some reason.",
    "start": "1291110",
    "end": "1298419"
  },
  {
    "text": "So the Fisher exact test can\nbe used in other contexts as well, although\nit was originally motivated by this\nanalysis of randomization.",
    "start": "1298420",
    "end": "1305970"
  },
  {
    "text": " So it is clear the\ndifference between bootstrap",
    "start": "1305970",
    "end": "1311880"
  },
  {
    "text": "and Fisher exact test? So that's one nice\nthing you could do.",
    "start": "1311880",
    "end": "1318900"
  },
  {
    "text": "That would allow you\nto test the sharp null. Or in fact, any other\nsharp hypothesis",
    "start": "1318900",
    "end": "1325559"
  },
  {
    "text": "you're interested in. You could also be interested\nin testing the hypothesis that the treatment\neffect is exactly one.",
    "start": "1325560",
    "end": "1335110"
  },
  {
    "text": "Yes? STUDENT: So can you\njust quickly explain how rank was calculated? ",
    "start": "1335110",
    "end": "1342302"
  },
  {
    "text": "ESTHER DUFLO: It's the rank of\nthat statistics in the list, I believe. ",
    "start": "1342302",
    "end": "1348210"
  },
  {
    "text": "I didn't cover it. It just happens to\nbe in the table. But another statistic\nyou could do is to say--",
    "start": "1348210",
    "end": "1354420"
  },
  {
    "text": "because here I actually\ndidn't even think about. I didn't get interested\nin what this measure is,",
    "start": "1354420",
    "end": "1362850"
  },
  {
    "text": "so I don't exactly\nknow what it is because it has a negative\nnumber and it's symmetric. So what it is\nexactly, I don't know.",
    "start": "1362850",
    "end": "1370559"
  },
  {
    "text": "But it's another-- the rank,\nanother statistic you could",
    "start": "1370560",
    "end": "1376500"
  },
  {
    "text": "compute is-- so one thing you could do is\nthe absolute rank if you wanted,",
    "start": "1376500",
    "end": "1381929"
  },
  {
    "text": "like where does this guy-- ",
    "start": "1381930",
    "end": "1388430"
  },
  {
    "text": "where is the\nlargest observation, for example, the largest\nobservation in the treatment. What is it ranked in the\noverall distribution?",
    "start": "1388430",
    "end": "1394830"
  },
  {
    "text": " Next time, we'll see\nKolmogorov-Smirnoff statistic",
    "start": "1394830",
    "end": "1400560"
  },
  {
    "text": "to compare distribution. You could compute\nit as well for this. So there is any number\nof things you could do.",
    "start": "1400560",
    "end": "1405650"
  },
  {
    "text": "But for now, for this\nlecture, it's enough for you to think about the absolute\nvalue of the difference.",
    "start": "1405650",
    "end": "1412120"
  },
  {
    "text": "Not to worry. That's the big choice, anyway. Well, the big choice is the\nhypothesis you want to test.",
    "start": "1412120",
    "end": "1418370"
  },
  {
    "text": "So we could test the sharp\nnull, which is the treatment effect is exactly zero.",
    "start": "1418370",
    "end": "1424030"
  },
  {
    "text": "We could test the sharp\none, where the treatment effect is exactly one. Then it also gives us\nthe entire counterfactual",
    "start": "1424030",
    "end": "1432040"
  },
  {
    "text": "because we know that if the\ntreatment effect is exactly one, then the potential\noutcome treated is three,",
    "start": "1432040",
    "end": "1440260"
  },
  {
    "text": "the potential outcome\ncontrol is two. So we can also\ncompute the statistic",
    "start": "1440260",
    "end": "1446919"
  },
  {
    "text": "under this hypothesis, so we\ncan calculate the treatment-- we can test for the hypothesis that\nthe treatment effect is exactly",
    "start": "1446920",
    "end": "1453580"
  },
  {
    "text": "two. In fact, in this way, if\nwe are patient enough,",
    "start": "1453580",
    "end": "1459399"
  },
  {
    "text": "we can construct exact\nconfidence intervals, which are basically testing\na bunch of observations",
    "start": "1459400",
    "end": "1465310"
  },
  {
    "text": "and seeing when\nwe start rejecting the hypothesis that the\ntreatment effect is exactly that number.",
    "start": "1465310",
    "end": "1471320"
  },
  {
    "text": "So they are not the same. Conceptually quite different\nfrom the confidence interval as we discussed in class before,\nand as we will see in a moment.",
    "start": "1471320",
    "end": "1478820"
  },
  {
    "text": "But they also give you\nan interval of sorts. ",
    "start": "1478820",
    "end": "1486065"
  },
  {
    "text": "So this is Fisher.  Neyman was interested\nin something different.",
    "start": "1486065",
    "end": "1492400"
  },
  {
    "text": "He was interested\nin the difference between the average\npotential outcome treated",
    "start": "1492400",
    "end": "1500679"
  },
  {
    "text": "and the average potential\noutcome of control, which he called the average\ntreatment effect in the sample.",
    "start": "1500680",
    "end": "1507980"
  },
  {
    "text": "So this is a different object. He argued this was a\nmore interesting object.",
    "start": "1507980",
    "end": "1513100"
  },
  {
    "text": "Fisher disagreed with it. It's actually\nprobably an object we are more used to think\nabout today, what's",
    "start": "1513100",
    "end": "1519460"
  },
  {
    "text": "the average treatment effect. And then he was also\ninterested in constructing confidence interval for the\naverage treatment effect.",
    "start": "1519460",
    "end": "1527350"
  },
  {
    "text": "And in particular, he\nwas interested in testing whether the average\ntreatment effect was zero.",
    "start": "1527350",
    "end": "1532990"
  },
  {
    "text": "And you can see that the\ntwo things are not the same, so it could be that the average\ntreatment effect is zero",
    "start": "1532990",
    "end": "1542400"
  },
  {
    "text": "even if the treatment effect\nfor each particular individual-- for some particular\nindividual is not zero.",
    "start": "1542400",
    "end": "1549860"
  },
  {
    "text": "In fact, it could be that\nthe treatment effect is different from\nzero for everybody, but the average still is zero.",
    "start": "1549860",
    "end": "1556580"
  },
  {
    "text": "Some people could be hurt and\nsome people could benefit, and yet the average\neffect is zero.",
    "start": "1556580",
    "end": "1563600"
  },
  {
    "text": "So he was not interested\nin imposing homogeneity of the treatment effect.",
    "start": "1563600",
    "end": "1569090"
  },
  {
    "text": "He wanted to leave the\npossibility that the treatment effect varied but was interested\nin the average treatment",
    "start": "1569090",
    "end": "1576890"
  },
  {
    "text": "effect. OK? Basically you have to deal\nwith the missing data problem",
    "start": "1576890",
    "end": "1583430"
  },
  {
    "text": "one way or the other. The Fisher way was\njust to say, well, I'm interested in testing\nan hypothesis under which I",
    "start": "1583430",
    "end": "1589220"
  },
  {
    "text": "don't have this problem. Then Neyman was\nlike, I'm not going to try to say anything\nabout any particular unit,",
    "start": "1589220",
    "end": "1596010"
  },
  {
    "text": "but what can I say about the\naverage treatment effect? What can I say about\nthe average difference between potential treated\nand potential outcome",
    "start": "1596010",
    "end": "1603930"
  },
  {
    "text": "control for the sample? ",
    "start": "1603930",
    "end": "1609890"
  },
  {
    "text": "So they both thought\nthey were wrong. But in fact, I think they\nwere both right in the sense",
    "start": "1609890",
    "end": "1615875"
  },
  {
    "text": "that, depending on what\nyou're interested in, you could be interested in both. In fact, people don't\nuse the Fisher exact test",
    "start": "1615875",
    "end": "1622160"
  },
  {
    "text": "enough in my view. I think it's kind of a\nnice way to get started. To see, can I reject\nthe hypothesis treatment",
    "start": "1622160",
    "end": "1627620"
  },
  {
    "text": "effect had no effect\nwhatsoever on anybody? If you can not reject it,\nit's not a very good start,",
    "start": "1627620",
    "end": "1635490"
  },
  {
    "text": "let's say, for anything\nelse you might want to do. So suppose that we have\na completely randomized",
    "start": "1635490",
    "end": "1641510"
  },
  {
    "text": "experiment with nt treatment\nunit and nc control unit what. Would seem to be a\nreasonable estimate",
    "start": "1641510",
    "end": "1647780"
  },
  {
    "text": "for this object of interest for\nthe average treatment effect? What seems to make sense, given\nwhat we saw last time or just",
    "start": "1647780",
    "end": "1656120"
  },
  {
    "text": "first principle. ",
    "start": "1656120",
    "end": "1663444"
  },
  {
    "text": "STUDENT: Sample mean. ESTHER DUFLO: Yeah, exactly. The difference is\nsample mean observed for the observed value.",
    "start": "1663444",
    "end": "1669080"
  },
  {
    "text": "Which we can write\nhere as the tau hat as the average\ntreatment effect--",
    "start": "1669080",
    "end": "1677270"
  },
  {
    "text": "the average for\nthe observed value for people who happen to be\ntreated, the average the sample",
    "start": "1677270",
    "end": "1685549"
  },
  {
    "text": "mean of the sample\nvalue for people who happen to be not treated.",
    "start": "1685550",
    "end": "1691580"
  },
  {
    "text": "So that's the notation\nthat we are going to keep. Just the Y bar obs\nto differentiate",
    "start": "1691580",
    "end": "1699200"
  },
  {
    "text": "from the potential\noutcome and Y bar obs.",
    "start": "1699200",
    "end": "1705409"
  },
  {
    "text": "So from what we\nsaw last week, we have reason to think\nthat that's a probably",
    "start": "1705410",
    "end": "1712100"
  },
  {
    "text": "a pretty good estimator. We can actually prove\nthat it's unbiased for the average\ntreatment effect.",
    "start": "1712100",
    "end": "1719580"
  },
  {
    "text": "How do we do that? Well, we replace yi obs by\nwhat it is conceptually,",
    "start": "1719580",
    "end": "1725510"
  },
  {
    "text": "and what it is conceptually\nis Wi times yi of 1.",
    "start": "1725510",
    "end": "1730970"
  },
  {
    "text": "And yi obs, in the subgroup\nthat happens to be treated--",
    "start": "1730970",
    "end": "1737000"
  },
  {
    "text": "typo. I thought I had\ndropped all of them. There is a sum\nthat has gone away.",
    "start": "1737000",
    "end": "1742790"
  },
  {
    "text": " So same thing for\nthe guys who are--",
    "start": "1742790",
    "end": "1750054"
  },
  {
    "text": "what is the second term here? For the sample of observation,\nsubsample observation that is in the control\ngroup, it's the sum",
    "start": "1750055",
    "end": "1756730"
  },
  {
    "text": "of 1 minus what Wi yi\nis zero and over nt.",
    "start": "1756730",
    "end": "1763809"
  },
  {
    "text": "What I've done is that I've\nput nt over n here and nt over n here, and so I have\nan extra n here that I",
    "start": "1763810",
    "end": "1770350"
  },
  {
    "text": "need to keep at the bottom. Why did I do that? Well, so in this setting\nwhere the population--",
    "start": "1770350",
    "end": "1778210"
  },
  {
    "text": " in this setting, it's\nkind of a little bit",
    "start": "1778210",
    "end": "1785350"
  },
  {
    "text": "dangerous when someone comes\nclose to you when you teach, but.",
    "start": "1785350",
    "end": "1790450"
  },
  {
    "text": "In this setting where\nthe population is fixed, there is no randomness\nin the potential outcome.",
    "start": "1790450",
    "end": "1796120"
  },
  {
    "text": "They are fixed. But what is random\nis the assignment,",
    "start": "1796120",
    "end": "1803290"
  },
  {
    "text": "what they end up getting. If we take the expectation\nof this tau hat,",
    "start": "1803290",
    "end": "1808630"
  },
  {
    "text": "the only thing that we have to\ntake expectation over is Wi. And now we know from\nspatial distribution lecture",
    "start": "1808630",
    "end": "1816040"
  },
  {
    "text": "that E of Wi, the\nexpectation of that is simply the probability\nof being assigned.",
    "start": "1816040",
    "end": "1822730"
  },
  {
    "text": "So this is nt over n\ngoes here and nc over n",
    "start": "1822730",
    "end": "1828549"
  },
  {
    "text": "goes here, so these guys\ndrop and we are back to the average treatment effect.",
    "start": "1828550",
    "end": "1837789"
  },
  {
    "text": " So the difference between\nthe mean of the treated group",
    "start": "1837790",
    "end": "1847840"
  },
  {
    "text": "and the mean of\nthe control group is an unbiased estimator for\nthe average treatment effect.",
    "start": "1847840",
    "end": "1854050"
  },
  {
    "text": "That might not be a\nrevelation, but it's good to know that\nit's actually true.",
    "start": "1854050",
    "end": "1860390"
  },
  {
    "text": "Now what's the standard\nerror of that guy? Because we're working\nin a small population,",
    "start": "1860390",
    "end": "1867070"
  },
  {
    "text": "it's actually a little\nbit tedious to compute. So I'm just going to\ngive you the result",
    "start": "1867070",
    "end": "1874030"
  },
  {
    "text": "and talk through the\nintuition and not go through any of the math of it.",
    "start": "1874030",
    "end": "1880810"
  },
  {
    "text": "If you're very, very\ninterested in it, it's Appendix B of chapter\n6 in the Causal Inference",
    "start": "1880810",
    "end": "1887110"
  },
  {
    "text": "book by Imbens and\nRubin, and it's a long-- it's just very, very simple\nalgebra but many lines of them.",
    "start": "1887110",
    "end": "1893200"
  },
  {
    "text": " The issue comes from the\nfact-- the tediousness comes",
    "start": "1893200",
    "end": "1899289"
  },
  {
    "text": "from the fact that we\nsample without replacement.",
    "start": "1899290",
    "end": "1904790"
  },
  {
    "text": "So every time we\nsample one unit, we need to think\nabout what would have happened,\nabout what it does",
    "start": "1904790",
    "end": "1910850"
  },
  {
    "text": "to the rest of the observation. But what we obtain is that\nthe variance of this guy,",
    "start": "1910850",
    "end": "1916669"
  },
  {
    "text": "of this tau hat, is simply the\nsum of the variance of yi of 1",
    "start": "1916670",
    "end": "1924890"
  },
  {
    "text": "in the sample, the variance\nof yi of 0 in the sample,",
    "start": "1924890",
    "end": "1929900"
  },
  {
    "text": "and then this third\nterm over here. So this seems quite logical that\nthe variance of the estimator",
    "start": "1929900",
    "end": "1937340"
  },
  {
    "text": "would be the sum\nof the variance. What is this third term here? The third term here\nis the variance",
    "start": "1937340",
    "end": "1943160"
  },
  {
    "text": "of the unit level\ntreatment effect that we also need to add. It's actually coming\nwith a negative sign,",
    "start": "1943160",
    "end": "1950519"
  },
  {
    "text": "so it is at its lowest if the\ntreatment effect is constant.",
    "start": "1950520",
    "end": "1955850"
  },
  {
    "text": "That means the variance\nof the estimator is the largest for\nconstant treatment effect and is smaller when the\ntreatment effect is not",
    "start": "1955850",
    "end": "1962890"
  },
  {
    "text": "constant. So that might seem a\nbit strange in the sense that the less constant the\ntreatment effect, the lower",
    "start": "1962890",
    "end": "1970970"
  },
  {
    "text": "the variance of our estimator. But the reason is that part of\nthe variance of the estimator--",
    "start": "1970970",
    "end": "1979160"
  },
  {
    "text": "part of the variance that\nI observe in the data comes from the actual\nassignment that we",
    "start": "1979160",
    "end": "1987461"
  },
  {
    "text": "want to keep from the\nestimator, and part of it comes from the fact\nthat there is actually a genuine variance in the\ntreatment effect from unit",
    "start": "1987462",
    "end": "1993620"
  },
  {
    "text": "to unit. So this corrects for that. So now how do we\nestimate that number?",
    "start": "1993620",
    "end": "2004400"
  },
  {
    "text": "So the first one is very easy. We have seen it before. We can replace everything\nby what we actually observe.",
    "start": "2004400",
    "end": "2010880"
  },
  {
    "text": "So the best estimator for\nthe variance of yi of 0 is in the control group,\n1 minus nc minus 1,",
    "start": "2010880",
    "end": "2020245"
  },
  {
    "text": "the size of the control group,\nand then the sum over yi 0",
    "start": "2020245",
    "end": "2025330"
  },
  {
    "text": "minus the average observed,\nthat to the power of square. So that's the best\nestimate as we've seen.",
    "start": "2025330",
    "end": "2031809"
  },
  {
    "text": "Nice estimators for the\nvariance of yi is zero. Same thing for the\nvariance of yi of 1.",
    "start": "2031810",
    "end": "2039700"
  },
  {
    "text": "Now how about the third guy? This covariance\nterm, the variance of the treatment effect. How do we estimate the variance\nof the treatment-- the unit",
    "start": "2039700",
    "end": "2048489"
  },
  {
    "text": "level variance of\nthe treatment effect. Do you have ideas for that? ",
    "start": "2048489",
    "end": "2061408"
  },
  {
    "text": "What would we seem to\nneed to know in order to be able to estimate the\nvariance of the unit level",
    "start": "2061409",
    "end": "2066746"
  },
  {
    "text": "treatment effect? ",
    "start": "2066746",
    "end": "2073730"
  },
  {
    "text": "Well, in general I\nwould wait, but I could wait for a long\ntime because we are not",
    "start": "2073730",
    "end": "2078836"
  },
  {
    "text": "in good shape. We can't estimate that guy,\nbecause we don't see yi of 1 and yi of 0.",
    "start": "2078837",
    "end": "2084112"
  },
  {
    "text": "We don't see anything\nbecause we are not willing to do the sharp null. We don't see anything. If we observe the\ntreatment observation,",
    "start": "2084113",
    "end": "2090099"
  },
  {
    "text": "we don't have an\nobservation for the-- if we observe a\ntreatment observation, we know the potential\noutcome treated.",
    "start": "2090100",
    "end": "2095596"
  },
  {
    "text": "We don't know what\nit would have been. We don't have\nanywhere in the data set that tells us\nanything like that, so we can't compute that guy.",
    "start": "2095597",
    "end": "2103810"
  },
  {
    "text": "So that's a little\nbit unfortunate, but a simple solution is\nto say that it's not there.",
    "start": "2103810",
    "end": "2111049"
  },
  {
    "text": "So what Neyman proposes is to\nignore the third guy entirely",
    "start": "2111050",
    "end": "2116380"
  },
  {
    "text": "and use as estimator of the\nsampling variance for tau, just",
    "start": "2116380",
    "end": "2121660"
  },
  {
    "text": "the first two terms. So there are three\njustifications.",
    "start": "2121660",
    "end": "2126880"
  },
  {
    "text": "This is what we do today. And there are three\njustifications for doing that. There are other\nthings you could do,",
    "start": "2126880",
    "end": "2133360"
  },
  {
    "text": "but this is certainly what\npeople do most constantly. There are three\njustifications for that.",
    "start": "2133360",
    "end": "2139640"
  },
  {
    "text": "The first one is that\nthat's conservative because that term is negative.",
    "start": "2139640",
    "end": "2145780"
  },
  {
    "text": "So if you were able\nto calculate it, it will reduce the variance. So if you use an\nestimated variance for your standard that's larger\nthan what it is in reality,",
    "start": "2145780",
    "end": "2156310"
  },
  {
    "text": "you're not going to\npretend that you have more precision than you have. So as an estimate\nof the variance,",
    "start": "2156310",
    "end": "2163240"
  },
  {
    "text": "using something that is you know\nlarger than the actual variance is a good place to start with.",
    "start": "2163240",
    "end": "2170600"
  },
  {
    "text": "A second justification\nis that if the treatment effect is constant, it\nis actually correct. It's exactly correct.",
    "start": "2170600",
    "end": "2176234"
  },
  {
    "text": " In particular, in the world of\nFisher where, under the null,",
    "start": "2176235",
    "end": "2183297"
  },
  {
    "text": "the variance of the\ntreatment effect is constant, then that would be-- the Neyman formula\nwould be correct for",
    "start": "2183298",
    "end": "2188940"
  },
  {
    "text": "the average treatment effect. In economics we often ignore\nthe treatment effect might not",
    "start": "2188940",
    "end": "2194609"
  },
  {
    "text": "be constant, so this\nbecomes correct.",
    "start": "2194610",
    "end": "2200850"
  },
  {
    "text": "And then there is\na third argument which is the most subtle,\nwhich is it turns out",
    "start": "2200850",
    "end": "2206250"
  },
  {
    "text": "that it's just a small\nsample problem because it comes from reassigning. It comes from the fact that\nthird term comes from the fact",
    "start": "2206250",
    "end": "2213180"
  },
  {
    "text": "that we are sampling\nwithout replacement. That's why there is this\nthird term that comes in.",
    "start": "2213180",
    "end": "2219079"
  },
  {
    "start": "2219080",
    "end": "2224880"
  },
  {
    "text": "If we were thinking of\nestimating an average treatment",
    "start": "2224880",
    "end": "2230579"
  },
  {
    "text": "effect, not just for this sample\nbut for the entire population",
    "start": "2230580",
    "end": "2236220"
  },
  {
    "text": "that this sample is\ndrawn from originally, then tau hat, the difference\nbetween the observed value",
    "start": "2236220",
    "end": "2244079"
  },
  {
    "text": "in the sample of the treatment\nand the control group, is still the best estimate\nof the average treatment",
    "start": "2244080",
    "end": "2249900"
  },
  {
    "text": "effect in the population. That's very intuitive because,\nwell, what else is there? That's the best we have.",
    "start": "2249900",
    "end": "2255720"
  },
  {
    "text": "We can prove it, but probably\nyou take me for granted. So it's still a good\nestimate of the average,",
    "start": "2255720",
    "end": "2262740"
  },
  {
    "text": "and it turns out that the\nvariance-- the last term drops when you calculate the\nvariance of the estimator",
    "start": "2262740",
    "end": "2272040"
  },
  {
    "text": "thinking about it as the\nestimator of the treatment effect for the\nentire population. That last term goes away\nbecause you don't get this--",
    "start": "2272040",
    "end": "2280020"
  },
  {
    "text": "you don't get the benefit\nof the small sample anymore. ",
    "start": "2280020",
    "end": "2287250"
  },
  {
    "text": "So it is actually, if\nyou're interested in what-- not in the Neyman\nproblem, which is",
    "start": "2287250",
    "end": "2293200"
  },
  {
    "text": "what is the average\ntreatment effect in my group. But what's the average\ntreatment effect",
    "start": "2293200",
    "end": "2298660"
  },
  {
    "text": "in the population from which\nthis group has been randomly drawn, then the Neyman\nestimator happens",
    "start": "2298660",
    "end": "2305050"
  },
  {
    "text": "to be the unbiased\nestimator of the variance. I haven't proven it.",
    "start": "2305050",
    "end": "2310390"
  },
  {
    "text": "I've just told it. I've just asserted,\nso don't expect that you should understand\nexactly why it is true,",
    "start": "2310390",
    "end": "2317769"
  },
  {
    "text": "but it is true. That's a third reason why it's\na perfectly reasonable place",
    "start": "2317770",
    "end": "2325210"
  },
  {
    "text": "to start from. Now, there are alternatives. People have proposed\nalternatives, but I don't think it's worth\nit for us to go into it.",
    "start": "2325210",
    "end": "2332300"
  },
  {
    "text": "So all you need to\nremember in summary is that if you have a\ncompletely randomized experiment",
    "start": "2332300",
    "end": "2341110"
  },
  {
    "text": "and you're interested\nin an estimate of the average treatment\neffect in that population,",
    "start": "2341110",
    "end": "2347140"
  },
  {
    "text": "or, in fact, in a\nlarger population where the sample is\ncoming from, just take the difference between\nthe average observed",
    "start": "2347140",
    "end": "2353710"
  },
  {
    "text": "in the treatment\ngroup, the average observed in the control group. That's the difference. This is an unbiased estimate\nof the average treatment effect",
    "start": "2353710",
    "end": "2364900"
  },
  {
    "text": "and an estimate\nof its variance is the sum of the variance\nin each of the groups",
    "start": "2364900",
    "end": "2373869"
  },
  {
    "text": "which we estimate traditionally. OK? ",
    "start": "2373870",
    "end": "2379530"
  },
  {
    "text": "So now that we are\narmed with an estimator for the average treatment\neffect and its variance,",
    "start": "2379530",
    "end": "2386820"
  },
  {
    "text": "we are home free. We can compute anything\nthat we're interested in. In particular, confidence\ninterval and test",
    "start": "2386820",
    "end": "2394836"
  },
  {
    "text": "whatever hypothesis might be\ninteresting, might be good. So let's start with\nconfidence interval,",
    "start": "2394836",
    "end": "2401520"
  },
  {
    "text": "and recall our prior definition\nof confidence interval. That's actually a\ntest of my ability",
    "start": "2401520",
    "end": "2406770"
  },
  {
    "text": "to copy from Sarah's note\nwithout making mistakes. It's very low because it\ntook me about 25 tries",
    "start": "2406770",
    "end": "2413460"
  },
  {
    "text": "to get that with getting the\nparentheses in the right place. But we want to find functions--\nmaybe I did it wrong.",
    "start": "2413460",
    "end": "2420420"
  },
  {
    "text": "I've forgotten it. Of the random sample,\nthe function A and B such that\nthe probability is that A, the function A\nof the random sample,",
    "start": "2420420",
    "end": "2430230"
  },
  {
    "text": "the probability that theta,\nour estimated parameter that was in Sarah's notation,\nis in between the function",
    "start": "2430230",
    "end": "2435960"
  },
  {
    "text": "A and the function B, that\nprobability is greater than 1 minus alpha. So that's the\nconfidence interval.",
    "start": "2435960",
    "end": "2443079"
  },
  {
    "text": "That was the definition\nof confidence interval. I recalled it just\nbecause it was quick.",
    "start": "2443080",
    "end": "2448210"
  },
  {
    "text": "It went fast when we\nstudied it from Sarah, and it's a very nice concrete\nexample in this case.",
    "start": "2448210",
    "end": "2457609"
  },
  {
    "text": "So in this case, we want\na confidence interval for our friend tau. So we want to find a lower\nlimit and upper limit",
    "start": "2457610",
    "end": "2467680"
  },
  {
    "text": "such that the probability that\ntau is between this lower limit and that upper limit is greater\nthan 1 minus alpha, with alpha",
    "start": "2467680",
    "end": "2475210"
  },
  {
    "text": "being a number\nthat's given to us but that we are interested in. For example, 0.05 or 0.10.",
    "start": "2475210",
    "end": "2483670"
  },
  {
    "text": "So we want to find this\nlower and upper bounds. The only reason why the\nlower and upper bounds",
    "start": "2483670",
    "end": "2490210"
  },
  {
    "text": "are random in this case,\nagain, because it's a fixed population, is\nbecause the assignment could have been different.",
    "start": "2490210",
    "end": "2495860"
  },
  {
    "text": "So again, it's W that generates\nthe randomness in the upper",
    "start": "2495860",
    "end": "2503650"
  },
  {
    "text": "and lower bound. That's the only reason why\nthere is randomness there.",
    "start": "2503650",
    "end": "2509650"
  },
  {
    "text": "What's the confidence interval? Ah, I forgot the\nparentheses here.",
    "start": "2509650",
    "end": "2515660"
  },
  {
    "text": "So same one. Now that we are equipped\nwith a variance, we've gone through\nthe calculation.",
    "start": "2515660",
    "end": "2521330"
  },
  {
    "text": "We started. We don't need to do it again. It's going to be two.",
    "start": "2521330",
    "end": "2527320"
  },
  {
    "text": "It's a typo here, plus here. The confidence\ninterval is going to be tau minus some critical\nvalue that I'll",
    "start": "2527320",
    "end": "2534610"
  },
  {
    "text": "come to in a minute times the\nsquare root of the estimated",
    "start": "2534610",
    "end": "2540040"
  },
  {
    "text": "variance, and then tau\nplus the critical value and critical value times the\nsquare root of the estimated",
    "start": "2540040",
    "end": "2549339"
  },
  {
    "text": "variance. As we know, with small sample\nwe will take the critical value",
    "start": "2549340",
    "end": "2555400"
  },
  {
    "text": "from the proper table\nof t distribution.",
    "start": "2555400",
    "end": "2561160"
  },
  {
    "text": "With larger samples,\nwhich are often going to be the\ncase in experiments, we actually analyze.",
    "start": "2561160",
    "end": "2568540"
  },
  {
    "text": "We will use the\nnormal approximation and take the critical value\nfrom the standard normal table.",
    "start": "2568540",
    "end": "2573880"
  },
  {
    "text": "For example, 1.645 for\nan alpha of 10% or minus",
    "start": "2573880",
    "end": "2580369"
  },
  {
    "text": "1.96 for an alpha of 5%. OK. ",
    "start": "2580370",
    "end": "2592370"
  },
  {
    "text": "So that's for\nconfidence interval. Now we have our mean estimated.",
    "start": "2592370",
    "end": "2597770"
  },
  {
    "text": "We can take our difference\nin sample average to estimate our average\ntreatment effect,",
    "start": "2597770",
    "end": "2603140"
  },
  {
    "text": "compute the corresponding\nsample variance, sum them up, then\ntake the square root.",
    "start": "2603140",
    "end": "2609230"
  },
  {
    "text": "We can now calculate\nthe confidence interval for that number at\nwhatever confidence value",
    "start": "2609230",
    "end": "2615170"
  },
  {
    "text": "you're interested in. Hypothesis testing. We can start with a Neyman\nhypothesis, of course,",
    "start": "2615170",
    "end": "2621738"
  },
  {
    "text": "we could use. Now we have the apparatus to\ntest any old hypothesis you guys might be interested in.",
    "start": "2621738",
    "end": "2627210"
  },
  {
    "text": "But the Neyman\nhypothesis is one that we should pay particular\nreverence to,",
    "start": "2627210",
    "end": "2633020"
  },
  {
    "text": "and that's simply the hypothesis\nthat the average treatment effect is zero versus the\nalternative that it's not zero.",
    "start": "2633020",
    "end": "2641300"
  },
  {
    "text": "We are not making the hypothesis\nthat is larger or smaller, et cetera, where the\nalternative is the rest.",
    "start": "2641300",
    "end": "2647510"
  },
  {
    "text": "So following our\ndiscussion last week, very natural test\nstatistics for this.",
    "start": "2647510",
    "end": "2652605"
  },
  {
    "text": "This is going to be the\ndifference in the observed outcome treatment\nminus control divided",
    "start": "2652605",
    "end": "2659069"
  },
  {
    "text": "by the square root of\nthe calculated variance.",
    "start": "2659070",
    "end": "2665340"
  },
  {
    "text": "OK? We know that it follows\na t distribution with n minus 1\ndegrees of freedom,",
    "start": "2665340",
    "end": "2670440"
  },
  {
    "text": "and with n large enough,\nit can be approximated by a normal distribution.",
    "start": "2670440",
    "end": "2675930"
  },
  {
    "text": "And that gives you\nthe associated p value for a two sided test for\nthe normal approximation.",
    "start": "2675930",
    "end": "2682530"
  },
  {
    "text": "OK? So we compute the t statistics. We compute the natural\ntest statistic is now",
    "start": "2682530",
    "end": "2687860"
  },
  {
    "text": "going to be the actual observed\ndifference between treatment and control group\ndivided by the--",
    "start": "2687860",
    "end": "2695359"
  },
  {
    "text": "so the one nice aspect of\nteaching this lecture right after the hypothesis\ntesting is I",
    "start": "2695360",
    "end": "2700400"
  },
  {
    "text": "hope it serves as a sort\nof review of special cases and reasonably easy\nspecial case of everything",
    "start": "2700400",
    "end": "2708799"
  },
  {
    "text": "when we talk about\nconfidence interval. ",
    "start": "2708800",
    "end": "2714760"
  },
  {
    "text": "Make sense? Questions? Concerns? So here is an example.",
    "start": "2714760",
    "end": "2720795"
  },
  {
    "text": "That's a sneak peak\nof the problem set. In particular you're going\nto see all the answers, but of course, we don't\nreally care about the answers.",
    "start": "2720795",
    "end": "2726560"
  },
  {
    "text": "We care about the code. So this is actually\na paper that I",
    "start": "2726560",
    "end": "2732710"
  },
  {
    "text": "wrote a few years ago with\nRema Hanna, who was then a graduate student and is now\na professor at Kennedy School,",
    "start": "2732710",
    "end": "2738710"
  },
  {
    "text": "and Stefan Ryan, who was then\nan assistant professor here and is now a professor\nin Texas, Austin?",
    "start": "2738710",
    "end": "2747680"
  },
  {
    "text": "STUDENT: Yes. ESTHER DUFLO: In\nTexas, Austin, and here is what our experiment was.",
    "start": "2747680",
    "end": "2753770"
  },
  {
    "text": " So a big problem. We need to give you\none note of background",
    "start": "2753770",
    "end": "2760940"
  },
  {
    "text": "a big problem that schools\nin India really face is high teacher absenteeism.",
    "start": "2760940",
    "end": "2767900"
  },
  {
    "text": "When I say high I mean high. Like a quarter of the time you\nshow up, there is no teacher,",
    "start": "2767900",
    "end": "2775091"
  },
  {
    "text": "and a further quarter of\nthe time they are here but they are actually\nnot teaching. So imagine coming to\n1431 and your chance",
    "start": "2775092",
    "end": "2781860"
  },
  {
    "text": "to actually have someone\nin front of you lecturing is about 1 in 2. So you would assume prima\nfacie that might be an issue.",
    "start": "2781860",
    "end": "2791140"
  },
  {
    "text": "And we worked with a small\nNGO called Salem India and tried to figure out a way of\ngetting teachers to come more.",
    "start": "2791140",
    "end": "2799560"
  },
  {
    "text": "So we are interested in\ntwo things, in a way. One is whether that way\nwould be effective and second",
    "start": "2799560",
    "end": "2807210"
  },
  {
    "text": "is whether, if it\nwas effective, it would, in fact, result\nin higher test scores",
    "start": "2807210",
    "end": "2813180"
  },
  {
    "text": "after about a year of\nteachers coming more. ",
    "start": "2813180",
    "end": "2818190"
  },
  {
    "text": "And what was our\nway while being sort of narrow minded economists, we\nproposed to actually pay people",
    "start": "2818190",
    "end": "2824760"
  },
  {
    "text": "if they showed up to school.  The incentive\nscheme was actually",
    "start": "2824760",
    "end": "2830820"
  },
  {
    "text": "a little bit complicated. But it turned out that basically\nif you came 10 days or less",
    "start": "2830820",
    "end": "2837480"
  },
  {
    "text": "in a month-- a month is about 22 days. If you came 10 days or less in\na month, you pay some floor.",
    "start": "2837480",
    "end": "2845880"
  },
  {
    "text": "500 rupees for the month. And then for any\nextra day above that, you would pay an\nextra 50 rupees.",
    "start": "2845880",
    "end": "2852720"
  },
  {
    "text": "Such that if someone comes zero\ndays, they will pay 500 rupees.",
    "start": "2852720",
    "end": "2858869"
  },
  {
    "text": "They won't starve. But above some limit they\ncan earn more every time they come in more.",
    "start": "2858870",
    "end": "2864180"
  },
  {
    "text": "How did we measure presence? We gave them cameras. At the time they were\npaper camera, actually,",
    "start": "2864180",
    "end": "2871770"
  },
  {
    "text": "and they took a\nphoto of themselves and the kids in the morning\nand in the afternoon.",
    "start": "2871770",
    "end": "2877109"
  },
  {
    "text": "And then we collected the rolls\nand analyzed them, et cetera.",
    "start": "2877110",
    "end": "2884190"
  },
  {
    "text": "So the question is whether\ndoing that for a year had an effect on school\npresence over a year measured",
    "start": "2884190",
    "end": "2889740"
  },
  {
    "text": "by random checks. So we show up randomly\nduring school time and see whether\nthere is a teacher.",
    "start": "2889740",
    "end": "2895740"
  },
  {
    "text": "And then at the end\nof the training, twice, at the middle\nof the school year and at the end of\nthe school year, we",
    "start": "2895740",
    "end": "2901470"
  },
  {
    "text": "did a test to know whether\nthe kids actually learned more in treated school and\nin the control school.",
    "start": "2901470",
    "end": "2908580"
  },
  {
    "text": "You could treat that as\na clustered experiment where each school is a cluster.",
    "start": "2908580",
    "end": "2913750"
  },
  {
    "text": "In fact, that's how we\nanalyzed it in the paper. But let's forget\nabout that and say, imagine that each school\nis an observation.",
    "start": "2913750",
    "end": "2920740"
  },
  {
    "text": "So first, for presence, of\ncourse, that's what it is. It's the average\npresence, so each school",
    "start": "2920740",
    "end": "2925950"
  },
  {
    "text": "gets an observation. And I'm going to do the\nsame thing for the students",
    "start": "2925950",
    "end": "2931518"
  },
  {
    "text": "where I'm going to\nsay each school is an observation in the sense that\nI observe average test scores,",
    "start": "2931518",
    "end": "2936570"
  },
  {
    "text": "and that's an observation\nfor this school.  So what do we do?",
    "start": "2936570",
    "end": "2942339"
  },
  {
    "text": "So this is the data we have. So again, we have some\npre-treatment variable,",
    "start": "2942340",
    "end": "2948070"
  },
  {
    "text": "which is on the test scores. I'm not going to\nuse that at all.",
    "start": "2948070",
    "end": "2954090"
  },
  {
    "text": "And then post-treatment, so\nthe variable that matters, the variable that I\ncollect post-treatment",
    "start": "2954090",
    "end": "2960710"
  },
  {
    "text": "is the fraction of\ntime that the school is open during the random checks.",
    "start": "2960710",
    "end": "2967070"
  },
  {
    "text": "So you see it's 58% of\nthe time in the treatment, 80% of the time in\nthe control, then",
    "start": "2967070",
    "end": "2973450"
  },
  {
    "text": "we have some scores for the\ntest, the fraction of kids who actually take the written\ntest, because the test was",
    "start": "2973450",
    "end": "2980920"
  },
  {
    "text": "administered either\nwritten or oral. So there was an oral\npart that everybody took",
    "start": "2980920",
    "end": "2987340"
  },
  {
    "text": "and a written part that only\nthe kids who could write took. So this is the score on the\nwritten part of the test,",
    "start": "2987340",
    "end": "2995050"
  },
  {
    "text": "and this is their\nscore, including-- this is the score on the written\npart of the test for people",
    "start": "2995050",
    "end": "3001530"
  },
  {
    "text": "who could write and\nthis is the score on the written part of the\ntest, including zero, for people who can not write.",
    "start": "3001530",
    "end": "3008010"
  },
  {
    "text": "It doesn't really\nmatter, the detail. So you can see that\nthe presence seems",
    "start": "3008010",
    "end": "3013530"
  },
  {
    "text": "to be a little bit larger in the\ntreatment and in the control. The question is, is it\nsomething that is just",
    "start": "3013530",
    "end": "3023490"
  },
  {
    "text": "noise or is it something that-- or can I reject the hypothesis\nthat the average treatment",
    "start": "3023490",
    "end": "3028800"
  },
  {
    "text": "effect is zero? These are the relevant\nnumbers in the notations",
    "start": "3028800",
    "end": "3036060"
  },
  {
    "text": "that we use today. So the average in\nthe control group",
    "start": "3036060",
    "end": "3042900"
  },
  {
    "text": "is 58% open in the control. In the treatment\ngroup it's 80% open,",
    "start": "3042900",
    "end": "3048000"
  },
  {
    "text": "so the difference is\n22 percentage point. So it would indicate that\nthe average treatment",
    "start": "3048000",
    "end": "3054450"
  },
  {
    "text": "effect is 22 percentage point.  If you do economics,\nyou will become",
    "start": "3054450",
    "end": "3061349"
  },
  {
    "text": "very conversant with the\nfact that 22 percentage point in this case is about\n50%, an increase of about 50%",
    "start": "3061350",
    "end": "3070320"
  },
  {
    "text": "over the control mean. That's something that\nwe need to keep doing, which is comparing\nthe average treatment",
    "start": "3070320",
    "end": "3076440"
  },
  {
    "text": "effect with the\ncontrol mean to see, is it a small increase\nor a large increase.",
    "start": "3076440",
    "end": "3081540"
  },
  {
    "text": "Then we can calculate\nthe sample variance in the treatment group and the\ncontrol group, sum them up.",
    "start": "3081540",
    "end": "3090010"
  },
  {
    "text": "We have the nc\nand nt, and we can calculate our Neyman variance\nto be 0.03 to the power of 2.",
    "start": "3090010",
    "end": "3098880"
  },
  {
    "text": "And with that, we can now\ncalculate the confidence interval, which, for open, is\n0.15, 0.28 for a 95% confidence",
    "start": "3098880",
    "end": "3111880"
  },
  {
    "text": "interval.  The average treatment\neffect on fraction open",
    "start": "3111880",
    "end": "3118920"
  },
  {
    "text": "is 22 percentage point,\nwith a confidence interval of 0.15, 0.28, 95% confidence\ninterval of 0.15, 0.28.",
    "start": "3118920",
    "end": "3127290"
  },
  {
    "text": "So can you reject the\nhypothesis, for example, that the effect is zero?",
    "start": "3127290",
    "end": "3132960"
  },
  {
    "text": "The average effect is zero.  Yeah, we can reject the\nhypothesis that it's zero.",
    "start": "3132960",
    "end": "3140345"
  },
  {
    "text": "It doesn't belong in\nthe confidence interval. PROFESSOR: By the\nway, on the problem set that's due on Wednesday,\nthere's a question.",
    "start": "3140345",
    "end": "3147960"
  },
  {
    "text": "I forget which one it is. That's kind of related to the\nrelationship between confidence",
    "start": "3147960",
    "end": "3153950"
  },
  {
    "text": "interval and hypothesis. ESTHER DUFLO: Yes. So maybe you knew\nthat so maybe I",
    "start": "3153950",
    "end": "3159359"
  },
  {
    "text": "should not assume\nthis knowledge, which we can straight look. If zero doesn't belong in\nthe confidence interval,",
    "start": "3159360",
    "end": "3165490"
  },
  {
    "text": "we can reject the hypothesis\nthat the effect is zero at 95%. But another way to\nsee it more directly",
    "start": "3165490",
    "end": "3172020"
  },
  {
    "text": "is take the average\ntreatment effect divided by the standard error.",
    "start": "3172020",
    "end": "3178060"
  },
  {
    "text": "That's the T statistics. And the T statistic is going\nto be greater than 1.96.",
    "start": "3178060",
    "end": "3189750"
  },
  {
    "text": "Then we can look at the effect\nfor, on other things, the kids' test scores.",
    "start": "3189750",
    "end": "3195460"
  },
  {
    "text": "So the confidence\ninterval for the fraction",
    "start": "3195460",
    "end": "3200609"
  },
  {
    "text": "of kids who actually attempt the\nwritten test is minus 0.0313.",
    "start": "3200610",
    "end": "3207630"
  },
  {
    "text": "The T statistic is\n0.05 divided by 0.04.",
    "start": "3207630",
    "end": "3214799"
  },
  {
    "text": "No. Am I forgetting a 2? Sorry. So that's one point something.",
    "start": "3214800",
    "end": "3222190"
  },
  {
    "text": "So that's lower than\n1.96, so we can reject-- we cannot reject the hypothesis\nthat the program did not affect",
    "start": "3222190",
    "end": "3231330"
  },
  {
    "text": "the fraction of kids who\nattempted the written test. The T statistics here\nis a little bit above 2.",
    "start": "3231330",
    "end": "3239190"
  },
  {
    "text": "The T statistic\nhere is exactly 2. So we can reject if we\nuse a alpha of 0.05, that",
    "start": "3239190",
    "end": "3248290"
  },
  {
    "text": "gives us a statistic of 1.96. We can reject the hypothesis\nthat the treatment effect is 0",
    "start": "3248290",
    "end": "3254770"
  },
  {
    "text": "for the written\nfraction of the test or for the written\nfraction of the test",
    "start": "3254770",
    "end": "3259810"
  },
  {
    "text": "after giving a 0 for\nanybody who didn't try.",
    "start": "3259810",
    "end": "3265030"
  },
  {
    "text": "Which is potentially a\nbetter measure of outcomes. OK.",
    "start": "3265030",
    "end": "3270130"
  },
  {
    "text": "And then we have the\nconfidence interval here. So this is basically\nthis kind of analysis",
    "start": "3270130",
    "end": "3276640"
  },
  {
    "text": "should really be the\nfirst thing that I guess the first\nthing you do when you",
    "start": "3276640",
    "end": "3282212"
  },
  {
    "text": "have a randomized experiment. If you have any\npre-variable, pre-data, it's to check that the\nobservation looked similar",
    "start": "3282212",
    "end": "3291790"
  },
  {
    "text": "in treatment and control group. So you'd have a test of\nsummary statistic for treatment",
    "start": "3291790",
    "end": "3296860"
  },
  {
    "text": "and control group showing that\nbefore the samples, in fact, look similar.",
    "start": "3296860",
    "end": "3303010"
  },
  {
    "text": "You want to do something\nexactly like that. Maybe a Fisher exact test and\nthen that, or maybe just that.",
    "start": "3303010",
    "end": "3309150"
  },
  {
    "text": "That's kind of the very basic\nthing one might need to do. ",
    "start": "3309150",
    "end": "3316150"
  },
  {
    "text": "Any question here? STUDENT: So one of\nthose summaries-- one of those statistics fails, we\nfail to reject the hypothesis?",
    "start": "3316150",
    "end": "3323857"
  },
  {
    "text": "ESTHER DUFLO: Yeah, for\nthe fraction of kids who take the written test. So actually that's\nconvenient for me",
    "start": "3323857",
    "end": "3331930"
  },
  {
    "text": "because then it\nmeans that I can-- if that was affected\nthen this would be very hard to\ninterpret because it",
    "start": "3331930",
    "end": "3338140"
  },
  {
    "text": "would mean that the-- oops. ",
    "start": "3338140",
    "end": "3347430"
  },
  {
    "text": "It would mean that\nthe test scores",
    "start": "3347430",
    "end": "3353020"
  },
  {
    "text": "I obtain for kids\nwho actually take the written test are selected.",
    "start": "3353020",
    "end": "3358990"
  },
  {
    "text": "They are only on\nthe population that are unique when it is selected\nbecause I only have the test scores for kids who actually\ndo attempt the written test,",
    "start": "3358990",
    "end": "3368200"
  },
  {
    "text": "and that's not a random\nsample of kids in the class. That's, of course, the\nbest kids in the class.",
    "start": "3368200",
    "end": "3373660"
  },
  {
    "text": "Now if there are more best kids\nin the class, I could have-- if kids become sufficiently\nbetter due to the treatment",
    "start": "3373660",
    "end": "3380560"
  },
  {
    "text": "that they are more likely to\ntake the written test, then the score on the\nwritten test, per se,",
    "start": "3380560",
    "end": "3387289"
  },
  {
    "text": "doesn't mean very much anymore\nbecause I conflate two things. I conflate the fact\nthat there might",
    "start": "3387290",
    "end": "3393770"
  },
  {
    "text": "be a direct effect on the test\nplus the fact that I'm bringing in people from the lower\nend of the distribution",
    "start": "3393770",
    "end": "3401839"
  },
  {
    "text": "in the treatment\ngroup that I don't bring in the control group. So that creates some bias.",
    "start": "3401840",
    "end": "3406880"
  },
  {
    "text": "So that is something\nthat we'll have a chance to talk about later,\nwhich is attrition.",
    "start": "3406880",
    "end": "3412819"
  },
  {
    "text": "So basically there is attrition. In the written only\ntest scores there",
    "start": "3412820",
    "end": "3418339"
  },
  {
    "text": "is attrition because\nnot everybody who is at risk of taking\nthe test actually takes it. ",
    "start": "3418340",
    "end": "3425120"
  },
  {
    "text": "This is asking is whether\nthat attrition is actually systematically different\nin the treatment and in the control group.",
    "start": "3425120",
    "end": "3432573"
  },
  {
    "text": "And it says that\nthe difference is small in the fraction of kids\nwho take the written test and it's also not significant.",
    "start": "3432573",
    "end": "3438320"
  },
  {
    "text": "So it's, in this particular\ninstance, reassuring. ",
    "start": "3438320",
    "end": "3445329"
  },
  {
    "text": "Any more question\non this example? So if you do an\nexperiment or analyze",
    "start": "3445330",
    "end": "3451970"
  },
  {
    "text": "an experiment for\nyour project, then I would want you to do some\nversion of Fisher's exact test",
    "start": "3451970",
    "end": "3457970"
  },
  {
    "text": "either for all of the possible\npermutation or for a subsample, and then something like that\nwould be kind of a minimum",
    "start": "3457970",
    "end": "3465140"
  },
  {
    "text": "that you'd want to do. ",
    "start": "3465140",
    "end": "3470400"
  },
  {
    "text": "Now with experiments, if we\ntake data from the real world, we download them\nfrom the real world,",
    "start": "3470400",
    "end": "3476550"
  },
  {
    "text": "we use data that\nalready exists, even if we collect it ourselves. But we haven't designed\nan experiment, then",
    "start": "3476550",
    "end": "3483329"
  },
  {
    "text": "that's what it is. We have to analyze it the best\nway possible way we have it. But with experiments\nwe have the freedom",
    "start": "3483330",
    "end": "3492089"
  },
  {
    "text": "to design it to answer the\nquestions we are interested in. And with this freedom\ncomes responsibility",
    "start": "3492090",
    "end": "3500463"
  },
  {
    "text": "because we have to design\nthe experiments such that we won't be disappointed\nat the end of it, because if we are\ndisappointed at the end of it,",
    "start": "3500463",
    "end": "3508079"
  },
  {
    "text": "not by the result, but by the\nfact that we find them very difficult to\ninterpret, it's going to be our fault, because\nwe haven't designed",
    "start": "3508080",
    "end": "3514830"
  },
  {
    "text": "the experiment properly. So there are very many\ninteresting design questions. We'll get back to them\nlater in the semester.",
    "start": "3514830",
    "end": "3521798"
  },
  {
    "text": "If I have a little\ntime, we'll go back just to the three examples that\nwe talked about last time.",
    "start": "3521798",
    "end": "3527220"
  },
  {
    "text": "For now we are equipped to\nask a very simple question.",
    "start": "3527220",
    "end": "3533410"
  },
  {
    "text": "Suppose you're interested in\ndesigning a simple, completely randomized experiment to\ntest the Neyman hypothesis",
    "start": "3533410",
    "end": "3539980"
  },
  {
    "text": "for a particular thing. For example, suppose\nthat I'm about-- I haven't done the\nexperiment yet for the camera",
    "start": "3539980",
    "end": "3545680"
  },
  {
    "text": "and I want to know what\nshould be my sample size, how",
    "start": "3545680",
    "end": "3553720"
  },
  {
    "text": "large should my sample be. So intuitively, what\nare the ingredients that",
    "start": "3553720",
    "end": "3558730"
  },
  {
    "text": "goes into that calculation? ",
    "start": "3558730",
    "end": "3565150"
  },
  {
    "text": "Why do I need to even\nask this question? STUDENT: A very large\nsample size would be costly",
    "start": "3565150",
    "end": "3572430"
  },
  {
    "text": "both in time and in money. ESTHER DUFLO: Right. So we don't want\ninfinite sample size because we don't have\ninfinite amount of money,",
    "start": "3572430",
    "end": "3579610"
  },
  {
    "text": "so it's unlikely to be possible. So that's on the one side. And on the other side, yeah? STUDENT: It's too small but\nwe might get a result that's",
    "start": "3579610",
    "end": "3586754"
  },
  {
    "text": "not actually true. ESTHER DUFLO: If it's\ntoo small, the variance can be large of the\nestimator because there",
    "start": "3586754",
    "end": "3592900"
  },
  {
    "text": "is some n in the denominator.",
    "start": "3592900",
    "end": "3598339"
  },
  {
    "text": "So the larger the sample\nsize, the lower the variance, therefore the tighter\nthe confidence interval",
    "start": "3598340",
    "end": "3603790"
  },
  {
    "text": "will be for our\nestimated treatment effect, and the\nmore precision we will have to test hypotheses.",
    "start": "3603790",
    "end": "3609080"
  },
  {
    "text": "So that's exactly\nthe trade off that we are facing is how small a sample\ncan I get away with and say",
    "start": "3609080",
    "end": "3617470"
  },
  {
    "text": "something and be\nable to say something that is going to be meaningful. So this is called the\npower calculation.",
    "start": "3617470",
    "end": "3624110"
  },
  {
    "text": "So this is called\na power calculation because the way\nwe think about it is we think about it in term\nof an hypothesis we will want",
    "start": "3624110",
    "end": "3630790"
  },
  {
    "text": "to test at the end of\nthe day, and what's going to be the power of our test. And this is our last review\nof Sarah's last lecture",
    "start": "3630790",
    "end": "3641860"
  },
  {
    "text": "where we finish by\npower of the test. So in this case I didn't\neven attempt to copy it. I just grabbed it.",
    "start": "3641860",
    "end": "3650329"
  },
  {
    "text": "So for a sample size of n, what\nwe are going to be observing",
    "start": "3650330",
    "end": "3655430"
  },
  {
    "text": "is treatment allocation\nfor our n observations",
    "start": "3655430",
    "end": "3661040"
  },
  {
    "text": "and the observed outcome. And of course, in order\nto do power calculations,",
    "start": "3661040",
    "end": "3667849"
  },
  {
    "text": "we must say what is\nthe hypothesis that we are interested in testing.",
    "start": "3667850",
    "end": "3674060"
  },
  {
    "text": "For the rest of today,\nI'm going to assume that we are interested in\ntesting the Neyman hypothesis.",
    "start": "3674060",
    "end": "3679710"
  },
  {
    "text": "So the Neyman hypothesis\nis that if H0, then the average\ntreatment effect is zero against the\nalternative that it's not zero.",
    "start": "3679710",
    "end": "3689600"
  },
  {
    "text": "Little reminder straight\nfrom our previous lecture.",
    "start": "3689600",
    "end": "3695780"
  },
  {
    "text": "If we accept H0 and H0\nis true, we are good. There is no error.",
    "start": "3695780",
    "end": "3700790"
  },
  {
    "text": "If we reject H0, and\nin fact H0 is false, again, there is no error. But there are two\ntypes of error.",
    "start": "3700790",
    "end": "3707450"
  },
  {
    "text": "One is where H0 is in fact\ntrue, but you reject it.",
    "start": "3707450",
    "end": "3712650"
  },
  {
    "text": "This is type I error. H0 is, in fact, false,\nbut you accept it.",
    "start": "3712650",
    "end": "3720110"
  },
  {
    "text": "You fail to reject it. So the significance\nlevel of the test alpha",
    "start": "3720110",
    "end": "3725810"
  },
  {
    "text": "if the probability of type\nI error and 1 minus alpha is the confidence level,\nthe operating characteristic",
    "start": "3725810",
    "end": "3733910"
  },
  {
    "text": "of the test beta\nis the probability of type II error and 1\nminus beta is the power.",
    "start": "3733910",
    "end": "3741660"
  },
  {
    "text": "So I call beta not the\noperating characteristic, but the probability\nto be disappointed.",
    "start": "3741660",
    "end": "3747480"
  },
  {
    "text": "So it's the probability\nthat at the end of the day you run your test with\ncritical level of alpha",
    "start": "3747480",
    "end": "3753380"
  },
  {
    "text": "and you don't find\nanything significant. And so 1 minus beta is\nthe power of the test.",
    "start": "3753380",
    "end": "3760010"
  },
  {
    "text": "When you design\nexperiments, that's really what you're thinking about. What's the chance that you don't\nfind anything significant when,",
    "start": "3760010",
    "end": "3769670"
  },
  {
    "text": "in fact, there is an effect. So what ingredients go\ninto the power calculation?",
    "start": "3769670",
    "end": "3777309"
  },
  {
    "text": "So of course, we need\nto pick alpha and beta. Well, either we pick alpha\nand then either we pick beta",
    "start": "3777310",
    "end": "3786210"
  },
  {
    "text": "and we calculate the\nsample size we need, or, if for some reason someone\nhas given us the sample size",
    "start": "3786210",
    "end": "3791470"
  },
  {
    "text": "and there is no choice,\nwe can tell them, well, for that sample size, this is\nwhat the beta is going to be. OK?",
    "start": "3791470",
    "end": "3796830"
  },
  {
    "text": "This is one for one. I'm going to assume that\nwe want a specific beta,",
    "start": "3796830",
    "end": "3803200"
  },
  {
    "text": "we want a specific power, and we\nwill calculate the sample size that we need to reach it.",
    "start": "3803200",
    "end": "3809440"
  },
  {
    "text": "So alpha, we kind of usually\ndon't have much of a choice because society doesn't want\nto conclude that some treatment",
    "start": "3809440",
    "end": "3816990"
  },
  {
    "text": "work when, in fact, it doesn't. So we tend to pick alpha low\nfor a high confidence level.",
    "start": "3816990",
    "end": "3824190"
  },
  {
    "text": "Following Fisher,\nalpha is often 0.05. Fisher has given us\nthe magic number of 5%.",
    "start": "3824190",
    "end": "3832723"
  },
  {
    "text": " So let's say we\npick alpha to be 5%.",
    "start": "3832723",
    "end": "3838450"
  },
  {
    "text": " Now given alpha, you\nwant to pick n such",
    "start": "3838450",
    "end": "3844960"
  },
  {
    "text": "that if the average treatment\neffect is, in fact, some value tau, the power of the test\nwill be at least one minus",
    "start": "3844960",
    "end": "3852250"
  },
  {
    "text": "beta for some beta\nthat you decide to reach given that the\nfraction gamma of the units",
    "start": "3852250",
    "end": "3857680"
  },
  {
    "text": "are assigned to the\ntreatment group. So another way to say it is\nyou need to pick nc and nt,",
    "start": "3857680",
    "end": "3865780"
  },
  {
    "text": "but we're going to\ntake gamma as given. So in addition, you\nmust assume or know",
    "start": "3865780",
    "end": "3873490"
  },
  {
    "text": "something about the\nvariance of the outcome in each treatment arm. We're going to assume\nthat they are the same and it's some number\nsigma squared.",
    "start": "3873490",
    "end": "3882099"
  },
  {
    "text": "So in summary, for\npower calculation, we need to know or impose\nor assume a bunch of things,",
    "start": "3882100",
    "end": "3890839"
  },
  {
    "text": "and then we're going\nto get n in exchange. So the ingredient that's\ngoing to it is alpha. That's typically 5%.",
    "start": "3890840",
    "end": "3897580"
  },
  {
    "text": "Beta, you have more flexibility\nthere because you're just",
    "start": "3897580",
    "end": "3902590"
  },
  {
    "text": "taking the risk.  But people usually go\nfor a power of 80%.",
    "start": "3902590",
    "end": "3913100"
  },
  {
    "text": "Tau, sigma, and gamma. Gamma you can decide\nfor reasons that",
    "start": "3913100",
    "end": "3919120"
  },
  {
    "text": "are going to appear to\nbe obvious in a minute when I show you the formula. Unless there is a strong\nreason to have more treatment",
    "start": "3919120",
    "end": "3926020"
  },
  {
    "text": "unit and control unit,\nit is efficient to have the same number as long as you\nassume that the sigma squared",
    "start": "3926020",
    "end": "3933080"
  },
  {
    "text": "is the same. So you're going to assume that-- you're going to\noften pick that 0.5,",
    "start": "3933080",
    "end": "3938210"
  },
  {
    "text": "but if you want to\npick 0.7, you can just do a calculation with 0.7.",
    "start": "3938210",
    "end": "3943700"
  },
  {
    "text": "These two here are\nthe sticking point. So this is 0.05,\n80%, let's say 0.5.",
    "start": "3943700",
    "end": "3950780"
  },
  {
    "text": "These guys are a\nbit of a problem, because where are they\ngoing to come from?",
    "start": "3950780",
    "end": "3956160"
  },
  {
    "text": "So that's the problem\nwith power calculation is that there is a\nlot of nice formula, but it really is black\nmagic because there",
    "start": "3956160",
    "end": "3962060"
  },
  {
    "text": "are two ingredients that\ncome into it that we don't know anything about. If we knew something\nabout them, we wouldn't need to do the\nexperiment in the first place.",
    "start": "3962060",
    "end": "3969600"
  },
  {
    "text": "So the biggest problem is tau. What is tau is what we think\nthe treatment effect is going",
    "start": "3969600",
    "end": "3977960"
  },
  {
    "text": "to be, in reality,\nour best guess power of the treatment effect.",
    "start": "3977960",
    "end": "3984300"
  },
  {
    "text": "So where could we find tau? So you couldn't do it because\nyou could have an idea",
    "start": "3984300",
    "end": "3991850"
  },
  {
    "text": "because you've run a pilot. For example, you tried\nthe school experiment",
    "start": "3991850",
    "end": "3997430"
  },
  {
    "text": "in three schools\nand you have an idea of what the effect was there.",
    "start": "3997430",
    "end": "4003310"
  },
  {
    "text": "Of course, it is going\nto be full of guesswork because it's a small sample.",
    "start": "4003310",
    "end": "4009010"
  },
  {
    "text": "You could know it\nfrom a previous study because you're just replicating\nsomeone else's study.",
    "start": "4009010",
    "end": "4015230"
  },
  {
    "text": "So your best guess\nthen is that you're going to find the same effect.",
    "start": "4015230",
    "end": "4020320"
  },
  {
    "text": "But sometimes we\njust have no idea because it's the first\nexperiment we're running.",
    "start": "4020320",
    "end": "4025610"
  },
  {
    "text": "We didn't really\npilot, or the pilot was so low that we don't\nreally trust the results. So in that case, what do we do?",
    "start": "4025610",
    "end": "4030985"
  },
  {
    "text": " So one thing you have to\nwonder about is when you're working with a\npartner, they always",
    "start": "4030985",
    "end": "4037300"
  },
  {
    "text": "overestimate how effective\ntheir program is. So they're going to tell\nyou, yes, the effect is going",
    "start": "4037300",
    "end": "4043119"
  },
  {
    "text": "to be of the camera problem. It's going to reduce\nabsence to zero.",
    "start": "4043120",
    "end": "4048400"
  },
  {
    "text": "So then it would be a treatment\neffect of, what was it? 42 percentage point.",
    "start": "4048400",
    "end": "4054510"
  },
  {
    "text": "So of course, if we had\npowered the experiment for a tau of 42\npercentage point,",
    "start": "4054510",
    "end": "4059760"
  },
  {
    "text": "we wouldn't have\nbeen able to see-- if the result had in fact\nbe 40 percentage point,",
    "start": "4059760",
    "end": "4066470"
  },
  {
    "text": "our sample would\nhave been very small. So the larger tau is,\nof course, the smaller",
    "start": "4066470",
    "end": "4073680"
  },
  {
    "text": "the sample size you need\nbecause the difference is very big that you're trying to\ndetect or you're trying to--",
    "start": "4073680",
    "end": "4079830"
  },
  {
    "text": " remember, the test is zero.",
    "start": "4079830",
    "end": "4086310"
  },
  {
    "text": "We are testing that the\ntreatment effect is zero. And in reality, it's\nnot going to be--",
    "start": "4086310",
    "end": "4091440"
  },
  {
    "text": "in reality, it's not zero. It's here. So the further away\ntau is from zero, the easier it is going\nto become to reject zero.",
    "start": "4091440",
    "end": "4099450"
  },
  {
    "text": "So partners tend to\noverestimate tau, and therefore they tend to\nunderestimate sample size unit.",
    "start": "4099450",
    "end": "4104965"
  },
  {
    "text": "It's kind of always a\nlittle bit of a fight.  Another thing you could\ndo is to say, well,",
    "start": "4104966",
    "end": "4113189"
  },
  {
    "text": "what's an interesting tau? An interesting tau is one which,\nin a sense, an interesting--",
    "start": "4113189",
    "end": "4121370"
  },
  {
    "text": "is one where if I found that-- if the effect in my\nsample was in fact tau,",
    "start": "4121370",
    "end": "4131180"
  },
  {
    "text": "it would prompt action\nby policymakers. So what is this\ntau, for example?",
    "start": "4131180",
    "end": "4137630"
  },
  {
    "text": "Well, if the treatment is very,\nvery, very cheap, for example, it's sending a bunch of letters,\njust the cost of the stamp,",
    "start": "4137630",
    "end": "4145220"
  },
  {
    "text": "then even a small effect\nof sending these mailings,",
    "start": "4145220",
    "end": "4150229"
  },
  {
    "text": "if you find that there\nis a very small effect, but there is still\nan effect, well, it's worth doing\nbecause it's very cheap.",
    "start": "4150229",
    "end": "4156620"
  },
  {
    "text": "So if you have a treatment\nthat is very, very, very cheap, you're interested in\ndetecting, and I'll",
    "start": "4156620",
    "end": "4163805"
  },
  {
    "text": "tell you what detecting is. It's not really scientific part. You're interested in detecting. That's a very small effect.",
    "start": "4163805",
    "end": "4169670"
  },
  {
    "text": "What does detecting it? You're interested\nin rejecting zero when the effect\nis, in fact, tau.",
    "start": "4169670",
    "end": "4175520"
  },
  {
    "text": "Now you see that this is\nmore about optics or rhetoric than statistics because it's\nnot because you reject zero",
    "start": "4175520",
    "end": "4182390"
  },
  {
    "text": "that the effect\nis, in fact, tau. When you give people\na point estimate of the average\ntreatment effect, it",
    "start": "4182390",
    "end": "4189259"
  },
  {
    "text": "comes with this\nconfidence interval. That's what you know. The fact that the confidence\nlevel includes or does not",
    "start": "4189260",
    "end": "4196410"
  },
  {
    "text": "include zero shouldn't really\ntell you much about tau hat, but in practice, that's\nnot how policy works.",
    "start": "4196410",
    "end": "4201540"
  },
  {
    "text": "In practice, policymakers\nwill see tau hat, will see whether you\ncan reject zero or not,",
    "start": "4201540",
    "end": "4207250"
  },
  {
    "text": "and if you can reject\nzero, will operate on the function of tau hat. Therefore, a useful\nbenchmark is what",
    "start": "4207250",
    "end": "4214500"
  },
  {
    "text": "is the lowest treatment\neffect that makes it cost effective to scale up.",
    "start": "4214500",
    "end": "4220389"
  },
  {
    "text": "So of course you don't\ndo necessarily exactly all the calculation,\nbut intuitively this",
    "start": "4220390",
    "end": "4226170"
  },
  {
    "text": "is what you do. If the treatment is\nvery, very cheap, you want to have a large sample\nsize to have a lot of power",
    "start": "4226170",
    "end": "4234449"
  },
  {
    "text": "to detect even a small effect,\nbecause even a small effect would be very interesting. If the treatment\nis super expensive,",
    "start": "4234450",
    "end": "4241080"
  },
  {
    "text": "then you don't need to do\na giant experiment that is going to be able to find very\nprecisely a very small effect,",
    "start": "4241080",
    "end": "4249450"
  },
  {
    "text": "because a very small effect of\nzero is all the same anyway. You wouldn't really act on it. That make sense?",
    "start": "4249450",
    "end": "4254895"
  },
  {
    "text": " So tau is the biggest\nproblem in power calculation,",
    "start": "4254895",
    "end": "4262510"
  },
  {
    "text": "and the rest of it is kind\nof a window dressing around this pretty big uncertainty.",
    "start": "4262510",
    "end": "4268429"
  },
  {
    "text": "So it is also worth to see how\nit varies with different taus and stuff like that.",
    "start": "4268430",
    "end": "4275920"
  },
  {
    "text": "For sigma, you need to\nget that from prior data with similar outcome. That's usually easier to get\nbecause even if someone has not",
    "start": "4275920",
    "end": "4283420"
  },
  {
    "text": "done an experiment, they\nmight have collected data on test scores, for\nexample, if that's",
    "start": "4283420",
    "end": "4288790"
  },
  {
    "text": "going to be your outcome. So you might be able to have\na reasonably good idea of what the variability in\nthe test scores are.",
    "start": "4288790",
    "end": "4297640"
  },
  {
    "text": "So in addition, design matters. I'll come to it in about\nfive minutes after.",
    "start": "4297640",
    "end": "4304090"
  },
  {
    "text": "So whether the experiment\nis stratified or clustered matters, and I'll explain\nthat more in a minute.",
    "start": "4304090",
    "end": "4310930"
  },
  {
    "text": "That introduces, again,\nadditional uncertainty because it matters\nto some extent,",
    "start": "4310930",
    "end": "4317260"
  },
  {
    "text": "but how big this extent\nis depends, again, on things that you\ntypically do not know so you sort of have to guess.",
    "start": "4317260",
    "end": "4322675"
  },
  {
    "text": " So now for the formula.",
    "start": "4322675",
    "end": "4328210"
  },
  {
    "text": "So of course, in practice,\nthis is the easy part because you don't need to\ndo any of this calculation.",
    "start": "4328210",
    "end": "4333270"
  },
  {
    "text": "There are any number of\npower calculators online. Of course we'll do it,\ntheta will do it, et cetera.",
    "start": "4333270",
    "end": "4340140"
  },
  {
    "text": "As long as you provide\nthe ingredients, the formula takes\nplace themselves.",
    "start": "4340140",
    "end": "4347010"
  },
  {
    "text": "It is really worth\nworking through the logic, in particular, the\npractical example",
    "start": "4347010",
    "end": "4353520"
  },
  {
    "text": "from the statistics lessons.",
    "start": "4353520",
    "end": "4359670"
  },
  {
    "text": "So our test statistics\nfor the hypothesis that the treatment has\nno effect, remember, is the observed difference\nin average outcomes divided",
    "start": "4359670",
    "end": "4368070"
  },
  {
    "text": "by the best estimate\nof the variance, which is approximately the observed\ndifference outcome divided by--",
    "start": "4368070",
    "end": "4380250"
  },
  {
    "text": "replace the estimated\nvariance by the two sigma squared divided by nt.",
    "start": "4380250",
    "end": "4387400"
  },
  {
    "text": "We are going to reject this\nif the statistic is large.",
    "start": "4387400",
    "end": "4394420"
  },
  {
    "text": "For example, we are going\nif alpha for an alpha of 05, we're going to reject it if\nthe absolute value of the T",
    "start": "4394420",
    "end": "4401750"
  },
  {
    "text": "statistic is above 1.96. And what we need to know\nfor the power calculation",
    "start": "4401750",
    "end": "4408100"
  },
  {
    "text": "is the probability\nthat this occurs. The probability that given\nthat the treatment effect is,",
    "start": "4408100",
    "end": "4414200"
  },
  {
    "text": "in fact, tau and the\nvariance is, in fact, sigma, the absolute value of\nthe test statistics",
    "start": "4414200",
    "end": "4420640"
  },
  {
    "text": "will be larger than 1.96. So what's the\nprobability of that?",
    "start": "4420640",
    "end": "4427932"
  },
  {
    "text": "So by the central limit\ntheorem, the difference in means minus the true\ntreatment effect scaled by the true standard\nerror of the difference",
    "start": "4427932",
    "end": "4434389"
  },
  {
    "text": "is approximately normally\ndistributed with n of 0, 1.",
    "start": "4434390",
    "end": "4440870"
  },
  {
    "text": "So we can write it here. That guy is approximately\nnormally distributed,",
    "start": "4440870",
    "end": "4447019"
  },
  {
    "text": "and therefore our\ntest statistics is approximately\nnormally distributed",
    "start": "4447020",
    "end": "4452270"
  },
  {
    "text": "with this mean tau\ndivided by square root, the sum of the square root.",
    "start": "4452270",
    "end": "4457580"
  },
  {
    "text": "Mistake here. This should be a sigma squared\nover nt plus sigma squared",
    "start": "4457580",
    "end": "4462770"
  },
  {
    "text": "over nc and 1. OK? So the T statistics\nwe know because we",
    "start": "4462770",
    "end": "4468620"
  },
  {
    "text": "are assuming tau and sigma. So given tau and\nsigma, we know what our test statistics that we\nare going to do at the end.",
    "start": "4468620",
    "end": "4475670"
  },
  {
    "text": "At the end, when\nwe have everything, we are going to construct the\nT statistic with the observed",
    "start": "4475670",
    "end": "4480800"
  },
  {
    "text": "values. We're going to get the observed\nmeans divided by our best estimate of the\nvariance, and we know",
    "start": "4480800",
    "end": "4486030"
  },
  {
    "text": "that it's going to be\napproximately distributed normally with that mean\ntau over the sum of the two",
    "start": "4486030",
    "end": "4495570"
  },
  {
    "text": "variants and 1. So now that we know that\nwe're kind of home free,",
    "start": "4495570",
    "end": "4501300"
  },
  {
    "text": "the probability that the T\nstatistic is greater than phi of 1 minus alpha over 2 is\nphi of minus phi minus 1",
    "start": "4501300",
    "end": "4512460"
  },
  {
    "text": "of 1 minus alpha\nover 2 plus the tau. That's on one side.",
    "start": "4512460",
    "end": "4519150"
  },
  {
    "text": "And then on the other side,\nthere is the small chance that it's so low that\nthe absolute value is",
    "start": "4519150",
    "end": "4529350"
  },
  {
    "text": "greater than that. That's very unlikely. You see, the absolute\nvalue of the T statistics",
    "start": "4529350",
    "end": "4536489"
  },
  {
    "text": "are greater than 5. It could be either, that it's\nlower, that the minus is lower",
    "start": "4536490",
    "end": "4545040"
  },
  {
    "text": "or the plus is above. The minus lower\nis very unlikely. So I wrote it down but\nwe're going to ignore that.",
    "start": "4545040",
    "end": "4551025"
  },
  {
    "text": " So we want the first term, the\none above, to be equal to beta.",
    "start": "4551025",
    "end": "4559349"
  },
  {
    "text": "So phi minus 5 minus equal beta\nrequires that 5 minus 1 of beta",
    "start": "4559350",
    "end": "4565920"
  },
  {
    "text": "is equal to what's\ninside the argument. All we need is to rearrange\nnow to get the sample",
    "start": "4565920",
    "end": "4572700"
  },
  {
    "text": "size as this formula. So if you've seen these\nformulas in the past",
    "start": "4572700",
    "end": "4577980"
  },
  {
    "text": "and we are wondering what\nthey were coming from, this is what is coming from. So as long as you know\ntau sigma squared,",
    "start": "4577980",
    "end": "4585630"
  },
  {
    "text": "gamma, which is the agency\narranged here to go to here.",
    "start": "4585630",
    "end": "4590940"
  },
  {
    "text": "I rearranged the\nnt and nc, which still has this typo into the\ngammas, and I get the formula.",
    "start": "4590940",
    "end": "4598180"
  },
  {
    "text": "Of course, you don't\nnever need to type that formula in practice. Yeah?",
    "start": "4598180",
    "end": "4604170"
  },
  {
    "text": "STUDENT: [INAUDIBLE] ESTHER DUFLO: Oh,\nthere is a typo.",
    "start": "4604170",
    "end": "4609440"
  },
  {
    "text": "The nt here should be nc The\ntypo is not upstairs, actually, so that's fine.",
    "start": "4609440",
    "end": "4616190"
  },
  {
    "text": "So this second term you\ncan ignore anyway, so don't worry about it, and there\nis no typo in the first term.",
    "start": "4616190",
    "end": "4623090"
  },
  {
    "text": "So you can rearrange\nnt and nc as nt is gamma times n and nc\nis 1 minus gamma times n.",
    "start": "4623090",
    "end": "4632750"
  },
  {
    "text": "So that goes into\nrearranging that term. OK?",
    "start": "4632750",
    "end": "4638180"
  },
  {
    "text": "And then this is just phi\nof minus 5 minus minus 1",
    "start": "4638180",
    "end": "4643580"
  },
  {
    "text": "is equal to beta. So that means I\ncan take 5 minus 1 of that to remove one\nof the 5 and it's going.",
    "start": "4643580",
    "end": "4651390"
  },
  {
    "text": "So I have 5 minus 1 of beta\nis equal to what's inside the argument of the\nphi, which is what",
    "start": "4651390",
    "end": "4657320"
  },
  {
    "text": "it is plus this term rearranged\nas a function of gamma instead of nt and nc.",
    "start": "4657320",
    "end": "4663210"
  },
  {
    "text": "OK? And then this is just algebra. Rearranging the term because\nwe are interested in n.",
    "start": "4663210",
    "end": "4669199"
  },
  {
    "start": "4669200",
    "end": "4674725"
  },
  {
    "text": "What puzzles you? STUDENT: You didn't explain\nwhat gamma is in the second one. ESTHER DUFLO: Gamma is the\nfraction of the sample that's",
    "start": "4674725",
    "end": "4682330"
  },
  {
    "text": "assigned to the treatment. So tn is gamma times n. ",
    "start": "4682330",
    "end": "4691370"
  },
  {
    "text": "And then c is 1\nminus gamma times n. ",
    "start": "4691370",
    "end": "4699330"
  },
  {
    "text": "The only thing that\nhappened in this term here is I replaced nt\nby n times gamma and nc",
    "start": "4699330",
    "end": "4706400"
  },
  {
    "text": "by n times 1 minus gamma, and\nthen I move the terms around. ",
    "start": "4706400",
    "end": "4719120"
  },
  {
    "text": "So for example, if gamma is\n0.5, this is 0.5 and 0.5 square.",
    "start": "4719120",
    "end": "4724840"
  },
  {
    "text": "That's 0.5.",
    "start": "4724840",
    "end": "4732460"
  },
  {
    "text": "OK? So we can stop here. ",
    "start": "4732460",
    "end": "4740140"
  },
  {
    "text": "Again, you can play\nwith the parameters. You're typically going\nto play with that, and software will\ntypically give you",
    "start": "4740140",
    "end": "4746810"
  },
  {
    "text": "entire curves of how n\nvaries as a function of beta.",
    "start": "4746810",
    "end": "4752020"
  },
  {
    "text": "You can also get how beta\nvaries as a function of n with very similar\ncalculations or anything else",
    "start": "4752020",
    "end": "4757719"
  },
  {
    "text": "that you're interested. ",
    "start": "4757720",
    "end": "4765000"
  }
]