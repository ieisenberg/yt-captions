[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help MIT\nOpenCourseWare continue to",
    "start": "0",
    "end": "6910"
  },
  {
    "text": "offer high quality educational\nresources for free. To make a donation or view\nadditional materials from",
    "start": "6910",
    "end": "13460"
  },
  {
    "text": "hundreds of MIT courses, visit\nMIT OpenCourseWare at",
    "start": "13460",
    "end": "19290"
  },
  {
    "text": "ocw.mit.edu PROFESSOR: Good morning. Oh, it's so nice to\nget a response. Thank you.",
    "start": "19290",
    "end": "24380"
  },
  {
    "start": "20000",
    "end": "46000"
  },
  {
    "text": "I appreciate it. i have a confession to make.",
    "start": "24380",
    "end": "29530"
  },
  {
    "text": "I stopped at my usual candy\nstore this morning and they didn't have any. So I am bereft of anything\nother than crummy little",
    "start": "29530",
    "end": "39590"
  },
  {
    "text": "Tootsie Rolls for today. But I promise I'll have a\nnew supply by Thursday.",
    "start": "39590",
    "end": "46950"
  },
  {
    "start": "46000",
    "end": "66000"
  },
  {
    "text": "We ended up the last lecture\nlooking at pseudocode for k-means clustering and talking\na little bit about the whole",
    "start": "46950",
    "end": "55260"
  },
  {
    "text": "idea and what it's doing. So I want to start today by\nmoving from the pseudocode to some real code.",
    "start": "55260",
    "end": "61980"
  },
  {
    "text": "This was on a previous\nhandout but it's also on today's handout.",
    "start": "61980",
    "end": "67000"
  },
  {
    "start": "66000",
    "end": "167000"
  },
  {
    "text": "So let's look at it. Not so surprisingly I've chosen\nto call it k-means.",
    "start": "67000",
    "end": "74320"
  },
  {
    "text": "And you'll notice that it's\ngot some arguments. The point to be clustered,\nk, and that's",
    "start": "74320",
    "end": "82600"
  },
  {
    "text": "an interesting question. Unlike hierarchical clustering,\nwhere we could run it and get what's called a\ndendrogram and stop at any",
    "start": "82600",
    "end": "90170"
  },
  {
    "text": "level and see what we liked,\nk-means involves knowing in the very beginning how many\nclusters we want.",
    "start": "90170",
    "end": "99750"
  },
  {
    "text": "We'll talk a little bit about\nhow we could choose k. A cutoff.",
    "start": "99750",
    "end": "105180"
  },
  {
    "text": "What the cutoff is doing, you\nmay recall that in the pseudocode k-means was\niterative and we keep",
    "start": "105180",
    "end": "113350"
  },
  {
    "text": "re-clustering until the change\nis small enough that we feel it's stable.",
    "start": "113350",
    "end": "120110"
  },
  {
    "text": "That is to say, the new clusters\nare not that much different from the\nold clusters. The cutoff is the definition\nof what we",
    "start": "120110",
    "end": "128179"
  },
  {
    "text": "mean by small enough. We'll see how that gets used. The type of point\nto be clustered.",
    "start": "128180",
    "end": "135360"
  },
  {
    "text": "The maximum number\nof iterations. There's no guarantee that\nthings will converge.",
    "start": "135360",
    "end": "142680"
  },
  {
    "text": "As we'll see, they usually\nconverge very quickly in a small number of iterations.",
    "start": "142680",
    "end": "148550"
  },
  {
    "text": "But it's prudent to have\nsomething like this just in case things go awry.",
    "start": "148550",
    "end": "156200"
  },
  {
    "text": "And to print. Just my usual trick of being\nable to print some debugging",
    "start": "156200",
    "end": "161370"
  },
  {
    "text": "information if I need it, but\nnot getting buried in output if I don't.",
    "start": "161370",
    "end": "168189"
  },
  {
    "start": "167000",
    "end": "235000"
  },
  {
    "text": "All right. Let's look at the code. And it very much follows the\noutline of the pseudocode we started with last time.",
    "start": "168190",
    "end": "174989"
  },
  {
    "text": "We're going to start by\nchoosing k initial centroids at random.",
    "start": "174990",
    "end": "183200"
  },
  {
    "text": "So I'm just going to go and take\nall the points I have. And I'm assuming, by the way,\nI should have written this",
    "start": "183200",
    "end": "189110"
  },
  {
    "text": "down probably, that I have\nat least k points. Otherwise it doesn't\nmake much sense.",
    "start": "189110",
    "end": "194700"
  },
  {
    "text": "If you have 10 points,\nyou're not going to find 100 clusters. So I'll take k random centroids,\nand those will be",
    "start": "194700",
    "end": "203510"
  },
  {
    "text": "my initial centroids.  There are more sophisticated\nways of choosing centroids, as",
    "start": "203510",
    "end": "211300"
  },
  {
    "text": "discussed in the problem set,\nbut most of the time people just choose them at random,\nbecause at least if you do it",
    "start": "211300",
    "end": "219420"
  },
  {
    "text": "repetitively it guarantees\nagainst some sort of systematic error.",
    "start": "219420",
    "end": "225069"
  },
  {
    "text": "Whoa. What happened? I see. Come back.",
    "start": "225070",
    "end": "230210"
  },
  {
    "text": " Thank you.",
    "start": "230210",
    "end": "235830"
  },
  {
    "text": "All right. Then I'm going to say that\nthe clusters I have initially are empty.",
    "start": "235830",
    "end": "241660"
  },
  {
    "text": "And then I'm going to create a\nbunch of singleton clusters, one for each centroid. So all of this is just\nthe initialization,",
    "start": "241660",
    "end": "249930"
  },
  {
    "text": "getting things going. I haven't had any\niterations yet. And the biggest change so far\nI'm just setting arbitrarily",
    "start": "249930",
    "end": "258088"
  },
  {
    "text": "to the cutoff. All right. And now I'm going to iterate\nuntil the change is smaller",
    "start": "258089",
    "end": "263470"
  },
  {
    "text": "than the cutoff while biggest\nchange is at least the cutoff.",
    "start": "263470",
    "end": "268600"
  },
  {
    "text": "And just in case numIters is\nless than the maximum, I'm",
    "start": "268600",
    "end": "273980"
  },
  {
    "text": "going to create a list\ncontaining k empty list. So these are the new clusters.",
    "start": "273980",
    "end": "281830"
  },
  {
    "text": "And then I'm going to go through\nfor i in range k. I'm going to append\nthe empty cluster.",
    "start": "281830",
    "end": "288780"
  },
  {
    "text": "These are going to\nbe the new ones. And then for p and all the\npoints I'm going to find the centroid in the existing\nclustering",
    "start": "288780",
    "end": "298350"
  },
  {
    "text": "that's closest to p. That's what's going on here.",
    "start": "298350",
    "end": "303395"
  },
  {
    "start": "303395",
    "end": "320840"
  },
  {
    "text": "Once I've found that, I'm going\nto add p to the correct",
    "start": "320840",
    "end": "326310"
  },
  {
    "text": "cluster, go and do it\nfor the next point. ",
    "start": "326310",
    "end": "333880"
  },
  {
    "text": "Then when I'm done, I'm going to\ncompare the new clustering to the old clustering and\nget the biggest change.",
    "start": "333880",
    "end": "342315"
  },
  {
    "text": " And then go back and\ndo it again. ",
    "start": "342315",
    "end": "350039"
  },
  {
    "text": "All right? People, understand that basic\nstructure and even some of the",
    "start": "350040",
    "end": "355600"
  },
  {
    "text": "details of the code. It's not very complicated. But if you haven't seen\nit before, it can be",
    "start": "355600",
    "end": "363130"
  },
  {
    "text": "a little bit tricky. When I'm done I'm going to just\nget some statistics here",
    "start": "363130",
    "end": "371870"
  },
  {
    "start": "366000",
    "end": "868000"
  },
  {
    "text": "about the clusters, going to\nkeep track of the number of iterations and the maximum\ndiameter of a cluster, so the",
    "start": "371870",
    "end": "381530"
  },
  {
    "text": "cluster in which things are\nleast tightly grouped. And this will give me an\nindication of how good a",
    "start": "381530",
    "end": "389010"
  },
  {
    "text": "clustering I have.  OK?",
    "start": "389010",
    "end": "396830"
  },
  {
    "text": "Does that make sense\nto everybody? ",
    "start": "396830",
    "end": "402360"
  },
  {
    "text": "Any questions about\nthe k-means code? ",
    "start": "402360",
    "end": "410600"
  },
  {
    "text": "Well, before we use it, let's\nlook at how we use it.",
    "start": "410600",
    "end": "417870"
  },
  {
    "text": "I've written this function\ntestOne that uses it. ",
    "start": "417870",
    "end": "425120"
  },
  {
    "text": "Some arbitrary values\nfor k in the cutoff. Number of trials is kind\nof boring here.",
    "start": "425120",
    "end": "432190"
  },
  {
    "text": "I've only said one is the\ndefault and I've set print steps to false.",
    "start": "432190",
    "end": "438010"
  },
  {
    "text": "The thing I want you to notice\nhere, because I'm choosing the",
    "start": "438010",
    "end": "443650"
  },
  {
    "text": "initial clustering at random,\nI can get different results each time I run this.",
    "start": "443650",
    "end": "448860"
  },
  {
    "start": "448860",
    "end": "454150"
  },
  {
    "text": "Because of that, I might want\nto run it many times and choose the quote, \"best\nclustering.\" What metric am I",
    "start": "454150",
    "end": "465470"
  },
  {
    "text": "using for best clustering? It's a minmax metric.",
    "start": "465470",
    "end": "470550"
  },
  {
    "text": "I'm choosing the minimum of\nthe maximum diameters.",
    "start": "470550",
    "end": "475949"
  },
  {
    "text": "So I'm finding the worst cluster\nand trying to make that as good as I can make it.",
    "start": "475950",
    "end": "482310"
  },
  {
    "text": "You could look at the\naverage cluster. This is like the linkage\ndistances we talked about before.",
    "start": "482310",
    "end": "487590"
  },
  {
    "text": " That's the normal\nkind of thing. It's like when we did Monte\nCarlo simulations or random",
    "start": "487590",
    "end": "495350"
  },
  {
    "text": "walks, flipping coins. You do a lot of trials and then\nyou can either average",
    "start": "495350",
    "end": "501660"
  },
  {
    "text": "over the trials, which wouldn't\nmake sense for the clustering, or select the\ntrial that has some",
    "start": "501660",
    "end": "507000"
  },
  {
    "text": "property you like. This is the way people\nusually use k-means.",
    "start": "507000",
    "end": "512429"
  },
  {
    "text": "Typically they may do 100 trials\nand choose the best,",
    "start": "512429",
    "end": "518969"
  },
  {
    "text": "the one that gives them\nthe best clustering. Let's look at this, and let's\ntry it for a couple of",
    "start": "518970",
    "end": "530660"
  },
  {
    "text": "examples here. ",
    "start": "530660",
    "end": "536954"
  },
  {
    "text": "Let's start it up. ",
    "start": "536954",
    "end": "547340"
  },
  {
    "text": "And we'll just run test one on\nour old mammal teeth database.",
    "start": "547340",
    "end": "554600"
  },
  {
    "text": "We get some clustering. Now we'll run it again. ",
    "start": "554600",
    "end": "563860"
  },
  {
    "text": "We get a clustering. I don't know, is it the\nsame clustering? Kind of looks like it is.",
    "start": "563860",
    "end": "569640"
  },
  {
    "text": " No reason to suspect\nit would be.",
    "start": "569640",
    "end": "575740"
  },
  {
    "text": "We run it again. Well you know, this is\nvery unfortunate. It's supposed to give different\nanswers here because",
    "start": "575740",
    "end": "582870"
  },
  {
    "text": "it often does. ",
    "start": "582870",
    "end": "587960"
  },
  {
    "text": "I think they're the same\nanswers, though. Aren't they? Yes? Anyone see a difference?",
    "start": "587960",
    "end": "593240"
  },
  {
    "text": "No, they're the same.  How unlucky can you be?",
    "start": "593240",
    "end": "598350"
  },
  {
    "text": "Every time I ran it at my desk\nit came up the first two times with different things. But take my word for it, and\nwe'll see that with other",
    "start": "598350",
    "end": "606430"
  },
  {
    "text": "examples, it could come out\nwith different answers.",
    "start": "606430",
    "end": "612080"
  },
  {
    "text": "Let's try it with some\nprinting on.",
    "start": "612080",
    "end": "619505"
  },
  {
    "start": "619505",
    "end": "632180"
  },
  {
    "text": "We get some things here.  Let's try it.",
    "start": "632180",
    "end": "637580"
  },
  {
    "text": " What have we got out\nof this one? ",
    "start": "637580",
    "end": "646170"
  },
  {
    "text": "All right. Oh, well. Sometimes you get lucky and\nsometimes you get unlucky with randomness.",
    "start": "646170",
    "end": "652910"
  },
  {
    "text": "All right.  So, why did we start\nwith k-means?",
    "start": "652910",
    "end": "658320"
  },
  {
    "text": "Not because we needed it\nfor the mammals' teeth. The hierarchical worked fine,\nbut because it was too slow",
    "start": "658320",
    "end": "664590"
  },
  {
    "text": "when we tried to look\nat something big like the counties. So now let's move on and talk\nabout clustering the counties.",
    "start": "664590",
    "end": "672225"
  },
  {
    "text": " We'll use exactly the\nk-means code.",
    "start": "672225",
    "end": "678440"
  },
  {
    "text": "It's one of the reasons we're\nallowed to pass in the point type as an argument.",
    "start": "678440",
    "end": "684790"
  },
  {
    "text": "But the interesting thing will\nbe what we do for the counties",
    "start": "684790",
    "end": "693009"
  },
  {
    "text": "themselves. This gets a little\ncomplicated.",
    "start": "693010",
    "end": "699990"
  },
  {
    "text": "In particular, what I've added\nto the counties is this notion of a filter.",
    "start": "699990",
    "end": "705680"
  },
  {
    "text": " The reason I've done this is,\nas we've seen before, the",
    "start": "705680",
    "end": "711760"
  },
  {
    "text": "choice of features can make\na big difference in what clustering you get.",
    "start": "711760",
    "end": "717210"
  },
  {
    "text": "I didn't want to do a lot of\ntyping as we do in these examples, so what I did is I\ncreated a bunch of filters.",
    "start": "717210",
    "end": "724880"
  },
  {
    "text": "For example, no wealth, which\nsays, all right, we're not going to look at home value.",
    "start": "724880",
    "end": "731150"
  },
  {
    "text": "We're giving that\na weight of 0. We're giving income a weight\nof 0, we're giving poverty",
    "start": "731150",
    "end": "738210"
  },
  {
    "text": "level a rate of 0. But we're giving the\npopulation a weight of 1, et cetera.",
    "start": "738210",
    "end": "744695"
  },
  {
    "text": " OK. What we see here is each filter\nsupplies the weight, in",
    "start": "744695",
    "end": "753000"
  },
  {
    "text": "this case either 0 or\n1, to a feature. This will allow me as we\ngo forward to run some",
    "start": "753000",
    "end": "761410"
  },
  {
    "text": "experiments with different\nfeatures. ",
    "start": "761410",
    "end": "767220"
  },
  {
    "text": "All features, everything\nhas a weight of 1. I made a mistake though.",
    "start": "767220",
    "end": "772690"
  },
  {
    "text": "That should have been a 1.  Then I have filter names, which\nare just a dictionary.",
    "start": "772690",
    "end": "780389"
  },
  {
    "text": "And that'll make it easy for\nme to run various kinds of tests with different filters.",
    "start": "780390",
    "end": "786375"
  },
  {
    "start": "786375",
    "end": "793820"
  },
  {
    "text": "Then I've got init, which takes\nas its arguments the",
    "start": "793820",
    "end": "800160"
  },
  {
    "text": "things you would expect,\nplus the filter name. So it takes the original\nattributes, the normalized",
    "start": "800160",
    "end": "807010"
  },
  {
    "text": "attributes. And you will recall that, why\ndo we need to normalize attributes?",
    "start": "807010",
    "end": "813130"
  },
  {
    "text": "If we don't, we have something\nlike population, which could number in the millions, and\nwe're comparing it to percent",
    "start": "813130",
    "end": "822020"
  },
  {
    "text": "female, which we know cannot\nbe more than a 100. So the small values become\ntotally dominated by the big",
    "start": "822020",
    "end": "830180"
  },
  {
    "text": "absolute values and when we run\nany clustering it ends up only looking at population or\nnumber of farm acres, or",
    "start": "830180",
    "end": "837510"
  },
  {
    "text": "something that's big. Has a big dynamic range. Manhattan has no farm acres.",
    "start": "837510",
    "end": "843779"
  },
  {
    "text": "Some county in Iowa has a lot. Maybe they're identical in\nevery other respect.",
    "start": "843780",
    "end": "849860"
  },
  {
    "text": "Unlikely, but who knows? Except I guess there's no\nbaseball teams in Iowa.",
    "start": "849860",
    "end": "856300"
  },
  {
    "text": "But at any rate, we always scale\nor we try and normalize so that we don't get\nfooled by that.",
    "start": "856300",
    "end": "864035"
  },
  {
    "text": " Then I go through and, if I\nhaven't already, this is a",
    "start": "864035",
    "end": "874660"
  },
  {
    "start": "868000",
    "end": "969000"
  },
  {
    "text": "class variable attribute\nfilter, which is initially set to none.",
    "start": "874660",
    "end": "880230"
  },
  {
    "text": "Not an instance variable,\nbut a class variable. And what we see here is, if that\nclass variable is still",
    "start": "880230",
    "end": "887529"
  },
  {
    "text": "none, this will mean it's the\nfirst time we've generated a point of type county, then what\nwe're going to do is set",
    "start": "887530",
    "end": "896339"
  },
  {
    "text": "up the filter to only look at\nthe attributes we care about.",
    "start": "896340",
    "end": "902500"
  },
  {
    "text": "So only the attributes which\nhave a value of 1. ",
    "start": "902500",
    "end": "910050"
  },
  {
    "text": "And then I'm going to override\ndistance from class point to look at the features\nwe care about.",
    "start": "910050",
    "end": "916710"
  },
  {
    "start": "916710",
    "end": "922160"
  },
  {
    "text": "OK. Does this basic structure and\nidea make sense to people? ",
    "start": "922160",
    "end": "929790"
  },
  {
    "text": "It should. I hope it does, because the\ncurrent problem set requires you to understand it in which\nyou all will be doing some",
    "start": "929790",
    "end": "937300"
  },
  {
    "text": "experiments. So now I want to do some\nexperiments with it. I'm not going to spend too\nmuch time, even though it",
    "start": "937300",
    "end": "943580"
  },
  {
    "text": "would be fun, because I don't\nwant to deprive you of the fun of doing your problem sets.",
    "start": "943580",
    "end": "950480"
  },
  {
    "text": "So let's look at an example. ",
    "start": "950480",
    "end": "960379"
  },
  {
    "text": "I've got test, which is pretty\nmuch like testOne.",
    "start": "960380",
    "end": "965980"
  },
  {
    "text": "Runs k-means number of times\nand chooses the best. And we can start.",
    "start": "965980",
    "end": "972990"
  },
  {
    "start": "969000",
    "end": "1188000"
  },
  {
    "text": "Well, let's start by running\nsome examples ourselves. ",
    "start": "972990",
    "end": "979490"
  },
  {
    "text": "So I'm going to start\nby clustering on education level only. ",
    "start": "979490",
    "end": "989519"
  },
  {
    "text": "I'm going to get 20 clusters, 20\nchosen just so it wouldn't take too long to run, and we'll\nfilter on education.",
    "start": "989520",
    "end": "997630"
  },
  {
    "text": "And we'll see what we get. ",
    "start": "997630",
    "end": "1011420"
  },
  {
    "text": "Well, I should have probably\ndone more than one cluster just to make it work.",
    "start": "1011420",
    "end": "1017620"
  },
  {
    "text": "But we've got it and just for\nfun I'm keeping track of what",
    "start": "1017620",
    "end": "1022770"
  },
  {
    "text": "cluster Middlesex County, the\ncounty in which MIT shows up.",
    "start": "1022770",
    "end": "1028990"
  },
  {
    "text": "So we can see that\nit's similar to a bunch of other counties. And it happens to have an\naverage income of $28,665, or",
    "start": "1028990",
    "end": "1037780"
  },
  {
    "text": "at least it did then. And if we look, we\nshould also see--",
    "start": "1037780",
    "end": "1045504"
  },
  {
    "text": "no, let me go back. ",
    "start": "1045504",
    "end": "1056800"
  },
  {
    "text": "I foolishly didn't uncomment\npyLab.show. So we better go back\nand do that.",
    "start": "1056800",
    "end": "1062544"
  },
  {
    "start": "1062545",
    "end": "1069430"
  },
  {
    "text": "Well, we're just going to nuke\nit and run it again because it's easy and I wanted\nto run it with a",
    "start": "1069430",
    "end": "1075179"
  },
  {
    "text": "couple of trials anyway. ",
    "start": "1075180",
    "end": "1083240"
  },
  {
    "text": "So, we'll first do\nthe clustering. We get cluster 0.  Now we're getting\na second one.",
    "start": "1083240",
    "end": "1089610"
  },
  {
    "text": "It's going to choose whichever\nwas the tightest. ",
    "start": "1089610",
    "end": "1095140"
  },
  {
    "text": "And we'll see that that's\nwhat it looks like. So we've now clustered the\ncounties based on education",
    "start": "1095140",
    "end": "1103250"
  },
  {
    "text": "level, no other features. And we see that it's got some\ninteresting properties.",
    "start": "1103250",
    "end": "1110900"
  },
  {
    "text": "There is a small number of\ncounties, clusters, out here",
    "start": "1110900",
    "end": "1117410"
  },
  {
    "text": "near the right side\nwith high income. ",
    "start": "1117410",
    "end": "1122960"
  },
  {
    "text": "And, in fact, we'll see\nthat we are fortunate to be in that cluster.",
    "start": "1122960",
    "end": "1129480"
  },
  {
    "text": "One of the clusters that\ncontains wealthy counties. And you could look at it and see\nwhether you recognize any",
    "start": "1129480",
    "end": "1137740"
  },
  {
    "text": "of the other counties that\nhang out with Middlesex. ",
    "start": "1137740",
    "end": "1145630"
  },
  {
    "text": "Things like Marin County,\nSan Francisco County. Not surprisingly. Remember, we're clustering by\neducation and these might be",
    "start": "1145630",
    "end": "1153650"
  },
  {
    "text": "counties where you would expect\nthe level of education to be comparable to the level\nof education in Middlesex.",
    "start": "1153650",
    "end": "1160919"
  },
  {
    "start": "1160920",
    "end": "1167530"
  },
  {
    "text": "All right.  Let me get rid of\nthat for now.",
    "start": "1167530",
    "end": "1173810"
  },
  {
    "text": "Sure. I ran it. I didn't want you to have to sit\nthrough it, but I ran it",
    "start": "1173810",
    "end": "1182090"
  },
  {
    "text": "on a much bigger sample size. ",
    "start": "1182090",
    "end": "1188900"
  },
  {
    "text": "So here's what I got\nwhen I ran it asking for 100 clusters.",
    "start": "1188900",
    "end": "1195260"
  },
  {
    "text": "And I think it was 5 trials. And you'll notice that this\ncase, actually, we have a much",
    "start": "1195260",
    "end": "1204850"
  },
  {
    "text": "smaller cluster containing\nMiddlesex. Not surprising, because I've\ndone 100 rather than 20.",
    "start": "1204850",
    "end": "1213450"
  },
  {
    "text": "And it should be pretty tight\nsince I chose the best-- you can see we have a\ndistribution here.",
    "start": "1213450",
    "end": "1222180"
  },
  {
    "text": "Now, remember that the name of\nthe game here is we're trying to see whether we can infer\nsomething interesting by",
    "start": "1222180",
    "end": "1229950"
  },
  {
    "text": "clustering. Unsupervised learning. So one of the questions we\nshould ask is, how different",
    "start": "1229950",
    "end": "1237450"
  },
  {
    "text": "is what we're getting here\nfrom if we chose something at random? ",
    "start": "1237450",
    "end": "1243340"
  },
  {
    "text": "Now, remember we did\nnot cluster on things based on income. I happened to plot income here\njust because I was curious as",
    "start": "1243340",
    "end": "1252500"
  },
  {
    "text": "to how this clustering\nrelated to income. Suppose we had just chosen at\nrandom and split the counties",
    "start": "1252500",
    "end": "1262350"
  },
  {
    "text": "at random into 100 different\nclusters, What would you have expected this kind of\ngraph to look like?",
    "start": "1262350",
    "end": "1268700"
  },
  {
    "start": "1268700",
    "end": "1274309"
  },
  {
    "text": "Do we have something that\nis different, obviously different, from what we might\nhave gotten if we'd just done",
    "start": "1274310",
    "end": "1281429"
  },
  {
    "text": "a random division into 100\ndifferent clusters?",
    "start": "1281430",
    "end": "1287630"
  },
  {
    "text": "Think about it. What would you get? AUDIENCE: A bell curve? PROFESSOR: Pardon? AUDIENCE: We'd get\na bell curve.",
    "start": "1287630",
    "end": "1292900"
  },
  {
    "text": "PROFESSOR: Well, a bell curve\nis a good guess because bell curves occur a lot in nature.",
    "start": "1292900",
    "end": "1299480"
  },
  {
    "text": "And as I said, I apologize for\nthe rather miserable quality of the rewards. ",
    "start": "1299480",
    "end": "1306549"
  },
  {
    "text": "It's a good guess but I think\nit's the wrong guess. ",
    "start": "1306550",
    "end": "1312510"
  },
  {
    "text": "What would you expect?  Would you expect the different\nclusters--",
    "start": "1312510",
    "end": "1318120"
  },
  {
    "text": "yeah, go ahead. AUDIENCE: You probably might\nexpect them all to average at a certain point for a very\nsharp bell curve?",
    "start": "1318120",
    "end": "1327140"
  },
  {
    "text": "PROFESSOR: A very sharp bell\ncurve was one comment. Well, someone else\nwant to try it?",
    "start": "1327140",
    "end": "1333530"
  },
  {
    "text": "That's kind of close. I thought you were on the right\ntrack in the beginning. ",
    "start": "1333530",
    "end": "1340950"
  },
  {
    "text": "Well, take a different\nexample. Let's take students.",
    "start": "1340950",
    "end": "1346919"
  },
  {
    "text": "If I were to select a 100 MIT\nstudents at random and compute their GPA, would you it to be\nradically different from the",
    "start": "1346920",
    "end": "1355200"
  },
  {
    "text": "GPA of all of MIT? The average GPA of\nall MIT students?",
    "start": "1355200",
    "end": "1361430"
  },
  {
    "text": "Probably not, right? So if I take 100 counties and\nput them into a cluster, the",
    "start": "1361430",
    "end": "1367450"
  },
  {
    "text": "average income of that cluster\nis probably pretty close to the average income\nin the country. ",
    "start": "1367450",
    "end": "1374800"
  },
  {
    "text": "So you'd actually expect it\nto be kind of flat, right? That each of the randomly chosen\nclusters would have the",
    "start": "1374800",
    "end": "1382830"
  },
  {
    "text": "same income, more or less.  Well, that's clearly not\nwhat we have here.",
    "start": "1382830",
    "end": "1390490"
  },
  {
    "text": "So we can clearly infer from the\nfact that this is not flat",
    "start": "1390490",
    "end": "1395820"
  },
  {
    "text": "that there is some interesting\ncorrelation between level of income and education.",
    "start": "1395820",
    "end": "1405179"
  },
  {
    "text": "And for those of us who earn our\nliving in education, we're glad to see it's positive,\nactually.",
    "start": "1405180",
    "end": "1412539"
  },
  {
    "text": "Not negative. As another experiment,\njust for fun, I",
    "start": "1412540",
    "end": "1418650"
  },
  {
    "text": "clustered by gender only.  So this looked only\nat the female/male",
    "start": "1418650",
    "end": "1425590"
  },
  {
    "text": "ratio in the counties. And here you'll see Middlesex\nis with--",
    "start": "1425590",
    "end": "1431130"
  },
  {
    "text": "remember we had about 3,000\ncounties to start with. So the fact that there were\nso few in the cluster on",
    "start": "1431130",
    "end": "1437600"
  },
  {
    "text": "education was interesting,\nright? Here we have more.",
    "start": "1437600",
    "end": "1444250"
  },
  {
    "text": "And we get a very\ndifferent-looking picture. Which says, perhaps, that the\nfemale/male ratio is not",
    "start": "1444250",
    "end": "1453690"
  },
  {
    "text": "unrelated to income, but it's\na rather different relation than we get from education.",
    "start": "1453690",
    "end": "1463790"
  },
  {
    "text": "This is what would be called\na bi-modal distribution. A lot here and a lot here and\nnot much in the middle.",
    "start": "1463790",
    "end": "1471290"
  },
  {
    "text": "But again the dynamic range\nis much smaller. But we do have some\ncounties where the",
    "start": "1471290",
    "end": "1477179"
  },
  {
    "text": "income is pretty miserable. All right. ",
    "start": "1477180",
    "end": "1483929"
  },
  {
    "start": "1483000",
    "end": "1515000"
  },
  {
    "text": "We could play a lot more with\nthis but I'm not going to.",
    "start": "1483930",
    "end": "1489055"
  },
  {
    "text": "I do want to, before we leave\nit, because we're about to",
    "start": "1489055",
    "end": "1494490"
  },
  {
    "text": "leave machine learning,\nreiterate a few of the major points that I wanted\nto make sure were",
    "start": "1494490",
    "end": "1501500"
  },
  {
    "text": "the take home messages. So, we talked about supervised\nlearning much less than we",
    "start": "1501500",
    "end": "1509600"
  },
  {
    "text": "talked about unsupervised. ",
    "start": "1509600",
    "end": "1516090"
  },
  {
    "text": "Interestingly, because\nunsupervised learning is probably used more often in the\nsciences than supervised.",
    "start": "1516090",
    "end": "1523190"
  },
  {
    "text": "And when we did supervised\nlearning, we started with a training set that had labels.",
    "start": "1523190",
    "end": "1535690"
  },
  {
    "text": "Each point had a label. ",
    "start": "1535690",
    "end": "1540799"
  },
  {
    "text": "And then we tried to infer the\nrelationships between the features of the points and\nthe associated labels.",
    "start": "1540800",
    "end": "1548260"
  },
  {
    "start": "1548260",
    "end": "1567580"
  },
  {
    "text": "Between the features\nand the labels. ",
    "start": "1567580",
    "end": "1576210"
  },
  {
    "text": "We then looked at unsupervised\nlearning. ",
    "start": "1576210",
    "end": "1585020"
  },
  {
    "start": "1584000",
    "end": "1664000"
  },
  {
    "text": "The issue here was, our\ntraining set was all unlabeled data.",
    "start": "1585020",
    "end": "1592310"
  },
  {
    "text": "And what we try and infer is\nrelationships among points.",
    "start": "1592310",
    "end": "1597400"
  },
  {
    "start": "1597400",
    "end": "1605860"
  },
  {
    "text": "So, rather than trying to\nunderstand how the features relate to the labels, we're just\ntrying to understand how",
    "start": "1605860",
    "end": "1614690"
  },
  {
    "text": "the points, or actually, the\nfeatures related to the points, relate to one another.",
    "start": "1614690",
    "end": "1620750"
  },
  {
    "start": "1620750",
    "end": "1625760"
  },
  {
    "text": "Both of these, as I said\nearlier, are similar to what we saw when we did regression\nwhere we tried to",
    "start": "1625760",
    "end": "1631880"
  },
  {
    "text": "fit curves to data.  You need to be careful and wary\nof over-fitting just as",
    "start": "1631880",
    "end": "1643120"
  },
  {
    "text": "you did with regression. ",
    "start": "1643120",
    "end": "1656860"
  },
  {
    "text": "In particular, if the training\ndata is small, a small set of",
    "start": "1656860",
    "end": "1665600"
  },
  {
    "start": "1664000",
    "end": "1708000"
  },
  {
    "text": "training data, you may learn\nthings that are true of the training data that are not true\nof the data on which you",
    "start": "1665600",
    "end": "1671530"
  },
  {
    "text": "will subsequently run the\nalgorithm to test it. So you need to be\nwary of that.",
    "start": "1671530",
    "end": "1677235"
  },
  {
    "start": "1677235",
    "end": "1683530"
  },
  {
    "text": "Another important lesson is\nthat features matter. ",
    "start": "1683530",
    "end": "1690480"
  },
  {
    "text": "Which features matter? It matters whether they're\nnormalized. ",
    "start": "1690480",
    "end": "1700870"
  },
  {
    "text": "And in some cases you can even\nweight them if you want to make some features more\nimportant than the others.",
    "start": "1700870",
    "end": "1709350"
  },
  {
    "start": "1708000",
    "end": "1759000"
  },
  {
    "text": "Features need to be relevant to\nthe kind of knowledge that",
    "start": "1709350",
    "end": "1716620"
  },
  {
    "text": "you hope to acquire. For example, when I was trying\nto look at the eating habits",
    "start": "1716620",
    "end": "1722090"
  },
  {
    "text": "of mammals, I chose features\nbased upon teeth, not features",
    "start": "1722090",
    "end": "1727200"
  },
  {
    "text": "based upon how much hair they\nhad or their color of the lengths of the tails.",
    "start": "1727200",
    "end": "1734060"
  },
  {
    "text": "I chose something that I had\ndomain knowledge which would suggest that it was probably\nrelevant to",
    "start": "1734060",
    "end": "1740669"
  },
  {
    "text": "the problem at hand. Question at hand. ",
    "start": "1740670",
    "end": "1745810"
  },
  {
    "text": "And then we discovered it was. Just as here, I said, well,\nmaybe education has something",
    "start": "1745810",
    "end": "1751050"
  },
  {
    "text": "to do with income. We ran it and we discovered,\nthank goodness, that it does.",
    "start": "1751050",
    "end": "1757195"
  },
  {
    "text": " OK. So I probably told you ten times\nthat features matter.",
    "start": "1757195",
    "end": "1763860"
  },
  {
    "start": "1759000",
    "end": "1853000"
  },
  {
    "text": "If not, I should have\nbecause they do. And it's probably the most\nimportant thing to get right",
    "start": "1763860",
    "end": "1770610"
  },
  {
    "text": "in doing machine learning. Now, our foray into machine\nlearning is part of a much",
    "start": "1770610",
    "end": "1778160"
  },
  {
    "text": "larger unit. In fact, the largest unit of\nthe course really, is about how to use computation to make\nsense of the kind of",
    "start": "1778160",
    "end": "1786730"
  },
  {
    "text": "information one encounters\nin the world.",
    "start": "1786730",
    "end": "1792070"
  },
  {
    "text": "A big part of this is finding\nuseful ways to abstract from",
    "start": "1792070",
    "end": "1798179"
  },
  {
    "text": "the situation you're initially\nconfronted with to create a model about which\none can reason.",
    "start": "1798180",
    "end": "1805030"
  },
  {
    "text": " We saw that when we\ndid curve fitting.",
    "start": "1805030",
    "end": "1810040"
  },
  {
    "text": "We would abstract from\nthe points to a curve to get a model. And we see that with machine\nlearning, that we abstract",
    "start": "1810040",
    "end": "1818330"
  },
  {
    "text": "from every detail about a county\nto say, the education level, to give us a model\nof the counties",
    "start": "1818330",
    "end": "1826090"
  },
  {
    "text": "that might be useful. I now want to talk about another\nkind of way to build",
    "start": "1826090",
    "end": "1832490"
  },
  {
    "text": "models that's as popular\na way as there is.",
    "start": "1832490",
    "end": "1838000"
  },
  {
    "text": "Probably the most common\nkinds of models. Those models are graph\ntheoretic.",
    "start": "1838000",
    "end": "1843605"
  },
  {
    "start": "1843605",
    "end": "1854540"
  },
  {
    "start": "1853000",
    "end": "1940000"
  },
  {
    "text": "There's a whole rich theory\nabout graphs and graph theory",
    "start": "1854540",
    "end": "1859590"
  },
  {
    "text": "that are used to understand\nthese models. Suppose, for example, you had\na list of all the airline",
    "start": "1859590",
    "end": "1867340"
  },
  {
    "text": "flights between every city in\nthe United States and what each flight cost.",
    "start": "1867340",
    "end": "1873610"
  },
  {
    "text": "Suppose also, counterfactual\nsupposition, that for all",
    "start": "1873610",
    "end": "1878870"
  },
  {
    "text": "cities A, B and C, the cost of\nflying from A to C by way of B",
    "start": "1878870",
    "end": "1885130"
  },
  {
    "text": "was the cost of A to B and the\ncost from B to C. We happen to know that's not true, but\nwe can pretend it is.",
    "start": "1885130",
    "end": "1893520"
  },
  {
    "text": "So what are some of the\nquestions you might ask if I gave you all that data?",
    "start": "1893520",
    "end": "1899700"
  },
  {
    "text": "And in fact, there's a company\ncalled ITA Software in Cambridge, recently acquired by\nGoogle for, I think, $700",
    "start": "1899700",
    "end": "1906700"
  },
  {
    "text": "million, that is built upon\nanswering these kinds of questions about these\nkinds of graphs.",
    "start": "1906700",
    "end": "1914299"
  },
  {
    "text": "So you could ask, for example,\nwhat's the shortest number of hops between two cities? If I want to fly from here to\nJuneau, Alaska, what's the",
    "start": "1914300",
    "end": "1923180"
  },
  {
    "text": "fewest number of stops? I could ask, what's the\nleast expensive--",
    "start": "1923180",
    "end": "1928539"
  },
  {
    "text": "different question-- flight\nfrom here to Juneau.  I could ask what's the least\nexpensive way involving no",
    "start": "1928540",
    "end": "1935430"
  },
  {
    "text": "more than two stops, just in\ncase I don't want to stop too many places.",
    "start": "1935430",
    "end": "1940870"
  },
  {
    "start": "1940000",
    "end": "2463000"
  },
  {
    "text": "I could say I have ten cities. What's the least expensive\nway to visit each of them on my vacation?",
    "start": "1940870",
    "end": "1947230"
  },
  {
    "text": "All of these problems are nicely\nformalized as graphs.",
    "start": "1947230",
    "end": "1952390"
  },
  {
    "text": "A graph is a set of nodes.",
    "start": "1952390",
    "end": "1959690"
  },
  {
    "start": "1959690",
    "end": "1965809"
  },
  {
    "text": "Think of those as objects. Nodes are also often called\nvertices or a",
    "start": "1965810",
    "end": "1972760"
  },
  {
    "text": "vertex for one of them. Those nodes are connected\nby a set of edges,",
    "start": "1972760",
    "end": "1988550"
  },
  {
    "text": "often called arcs. ",
    "start": "1988550",
    "end": "1996260"
  },
  {
    "text": "If the edges are\nuni-directional, the",
    "start": "1996260",
    "end": "2001360"
  },
  {
    "text": "equivalent of a one-way street,\nit's called a digraph,",
    "start": "2001360",
    "end": "2012179"
  },
  {
    "text": "or directed graph. ",
    "start": "2012180",
    "end": "2028500"
  },
  {
    "text": "Graphs are typically used in\nsituations in which there are interesting relationships\namong the parts.",
    "start": "2028500",
    "end": "2034585"
  },
  {
    "text": " The first documented use of this\nkind of a graph was in",
    "start": "2034585",
    "end": "2042720"
  },
  {
    "text": "1735 when the Swiss\nmathematician Leonard Euler",
    "start": "2042720",
    "end": "2049179"
  },
  {
    "text": "used what we now call graph\ntheory to formulate and solve the Konigberg's Bridges\nproblem.",
    "start": "2049179",
    "end": "2056580"
  },
  {
    "text": "So this is a map of Konigsberg,\nwhich was then the",
    "start": "2056580",
    "end": "2064120"
  },
  {
    "text": "capital of East Prussia, a part\nof what's today Germany.",
    "start": "2064120",
    "end": "2069360"
  },
  {
    "text": "And it was built at the\nintersection of two rivers and contained a lot of islands.",
    "start": "2069360",
    "end": "2074580"
  },
  {
    "text": "The islands were connected to\neach other and to the mainland by seven bridges.",
    "start": "2074580",
    "end": "2082230"
  },
  {
    "text": "For some bizarre reason which\nhistory does not record and I cannot even imagine, the\nresidents of this city were",
    "start": "2082230",
    "end": "2089679"
  },
  {
    "text": "obsessed with the question of\nwhether it was possible to take a walk through the city\nthat involved crossing each",
    "start": "2089679",
    "end": "2097380"
  },
  {
    "text": "bridge exactly once. Could you somehow take a walk\nand go over each bridge",
    "start": "2097380",
    "end": "2103570"
  },
  {
    "text": "exactly once? I don't know why they cared. They seemed to care. They debated it, they walked\naround, they did things.",
    "start": "2103570",
    "end": "2110020"
  },
  {
    "text": " It probably would be unfair for\nme to ask you to look at",
    "start": "2110020",
    "end": "2115980"
  },
  {
    "text": "this map and answer\nthe question. But it's kind of complicated. ",
    "start": "2115980",
    "end": "2122270"
  },
  {
    "text": "Euler's great insight was that\nyou didn't have to actually",
    "start": "2122270",
    "end": "2127920"
  },
  {
    "text": "look at the level of detail\nrepresented by this map to answer the question. You could vastly simplify it.",
    "start": "2127920",
    "end": "2135700"
  },
  {
    "text": "And what he said is, well, let's\nrepresent each land mass by a point, and each\nbridge as a line.",
    "start": "2135700",
    "end": "2147410"
  },
  {
    "text": "So, in fact, his map of\nKonigsberg looked like that. ",
    "start": "2147410",
    "end": "2153360"
  },
  {
    "text": "Considerably simpler. This is a graph.",
    "start": "2153360",
    "end": "2158450"
  },
  {
    "text": "We have some vertices\nand some edges. He said, well, we can just look\nat this problem and now",
    "start": "2158450",
    "end": "2166190"
  },
  {
    "text": "ask the question. Once he reformulated the problem\nthis way it became a",
    "start": "2166190",
    "end": "2172220"
  },
  {
    "text": "lot simpler to think about and\nhe reasoned as follows.",
    "start": "2172220",
    "end": "2178050"
  },
  {
    "text": "If a walk were to traverse each\nbridge exactly once, it",
    "start": "2178050",
    "end": "2183590"
  },
  {
    "text": "must be the case that each node,\nexcept for the first and",
    "start": "2183590",
    "end": "2188910"
  },
  {
    "text": "the last, in the walk must have\nan even number of edges.",
    "start": "2188910",
    "end": "2196049"
  },
  {
    "text": "So if you were to go to an\nisland and leave the island and traverse each bridge to the\nisland unless there were",
    "start": "2196050",
    "end": "2203540"
  },
  {
    "text": "an even number, you\ncouldn't traverse each one exactly once. If there were only one bridge,\nonce you got to the island you",
    "start": "2203540",
    "end": "2210760"
  },
  {
    "text": "were stuck. If there were two bridges you\ncould get there and leave. But if there were three bridges\nyou could get there,",
    "start": "2210760",
    "end": "2216390"
  },
  {
    "text": "leave, get there and\nyou're stuck again.  He then looked at it and said,\nwell, none of these nodes have",
    "start": "2216390",
    "end": "2227450"
  },
  {
    "text": "an even number of edges. Therefore you can't do it. End of story.",
    "start": "2227450",
    "end": "2233320"
  },
  {
    "text": "Stop arguing.  Kind of a nice piece of logic.",
    "start": "2233320",
    "end": "2240280"
  },
  {
    "text": "And then Euler later went on to\ngeneralize this theorem to cover a lot of other\nsituations.",
    "start": "2240280",
    "end": "2247430"
  },
  {
    "text": "But what was important was not\nthe fact that he solved this problem but that he thought\nabout the notion of taking a",
    "start": "2247430",
    "end": "2256950"
  },
  {
    "text": "map and formulating\nit as a graph. This was the first example of\nthat and since then everything",
    "start": "2256950",
    "end": "2264960"
  },
  {
    "text": "has worked that way. So if you take this kind of idea\nand now you extend it to",
    "start": "2264960",
    "end": "2272950"
  },
  {
    "text": "digraphs, you can deal\nwith one-way bridges or one-way streets.",
    "start": "2272950",
    "end": "2280030"
  },
  {
    "text": "Or suppose you want to look at\nour airline problem, you can",
    "start": "2280030",
    "end": "2285380"
  },
  {
    "text": "extend it to include weights. ",
    "start": "2285380",
    "end": "2303170"
  },
  {
    "text": "For example, the number of miles\nbetween two cities or",
    "start": "2303170",
    "end": "2308319"
  },
  {
    "text": "the amount of toll you'd have\nto pay on some road.",
    "start": "2308320",
    "end": "2314070"
  },
  {
    "text": "So, for example, once you've\ndone this you can easily represent the entire US highway\nsystem or any roadmap",
    "start": "2314070",
    "end": "2320910"
  },
  {
    "text": "by a weighted directed graph.  Or, used more often, probably,\nthe World Wide Web is today",
    "start": "2320910",
    "end": "2332100"
  },
  {
    "text": "typically modeled as a directed\ngraph where there's",
    "start": "2332100",
    "end": "2337430"
  },
  {
    "text": "an edge from page A to page B,\nif there's a link on page A to",
    "start": "2337430",
    "end": "2343210"
  },
  {
    "text": "page B. And then maybe if you want to\ncare, ask the question how often do people go from A to B,\na very important question,",
    "start": "2343210",
    "end": "2352109"
  },
  {
    "text": "say, to somebody like Google,\nwho wants to know how often people click on a link to get\nto another place so they can",
    "start": "2352110",
    "end": "2358530"
  },
  {
    "text": "charge for those clicks, you\nuse a weighted graph, which says how often does someone\ngo from here to there.",
    "start": "2358530",
    "end": "2367089"
  },
  {
    "text": "And so a company like Google\nmaintains a model of what happens and uses a weighted,\ndirected graph to essentially",
    "start": "2367090",
    "end": "2374920"
  },
  {
    "text": "represent the Web, the clicks\nand everything else, and can do all sorts of analysis\non traffic patterns",
    "start": "2374920",
    "end": "2382300"
  },
  {
    "text": "and things like that. There are also many less\nobvious uses of graphs.",
    "start": "2382300",
    "end": "2388700"
  },
  {
    "text": "Biologists use graphs to measure\nthings ranging from the way proteins interact with\neach other to, more obviously,",
    "start": "2388700",
    "end": "2397020"
  },
  {
    "text": "gene expression networks\nare clearly graphs. Physicists use graphs to model\nphase transitions with",
    "start": "2397020",
    "end": "2405530"
  },
  {
    "text": "typically the weight of the edge\nrepresenting the amount of energy needed to go from\none phase to another.",
    "start": "2405530",
    "end": "2413360"
  },
  {
    "text": "Those are again weighted\ndirected graphs. The direction is, can you get\nfrom this phase to that phase?",
    "start": "2413360",
    "end": "2420140"
  },
  {
    "text": "And the weight is how much\nenergy does it require? Epidemiologists use graphs to\nmodel diseases, et cetera.",
    "start": "2420140",
    "end": "2429390"
  },
  {
    "text": "We'll see an example\nof that in a bit. All right.",
    "start": "2429390",
    "end": "2435079"
  },
  {
    "text": "Let's look at some code now\nto implement graphs. ",
    "start": "2435080",
    "end": "2447480"
  },
  {
    "text": "This is also in your handout and\nI'm going to comment this out just so we don't\nrun it by accident.",
    "start": "2447480",
    "end": "2454610"
  },
  {
    "start": "2454610",
    "end": "2464400"
  },
  {
    "start": "2463000",
    "end": "2526000"
  },
  {
    "text": "As you might expect, I'm\ngoing to use classes to implement graphs. I start with a class node\nwhich is at this",
    "start": "2464400",
    "end": "2473190"
  },
  {
    "text": "point pretty simple. It's just got a name. Now, you might say, well, why\ndid I even bother introducing",
    "start": "2473190",
    "end": "2479710"
  },
  {
    "text": "a class here? Why don't I just use strings? Well, because I was kind of\nwary that sometime later I",
    "start": "2479710",
    "end": "2488380"
  },
  {
    "text": "might want to associate more\nproperties with nodes. So you could imagine if I'm\nusing a graph to model the",
    "start": "2488380",
    "end": "2495520"
  },
  {
    "text": "World Wide Web, I don't want\nmore than the URL for a page.",
    "start": "2495520",
    "end": "2500560"
  },
  {
    "text": "I might want to have all the\nwords on the page, or who knows what else about it.",
    "start": "2500560",
    "end": "2506730"
  },
  {
    "text": "So I just said, for safety,\nlet's start with a simple class, but let's make it a class\nso that any code I write",
    "start": "2506730",
    "end": "2514200"
  },
  {
    "text": "can be reused if at some later\ndate I decide nodes are going to be more complicated\nthan just strings.",
    "start": "2514200",
    "end": "2520135"
  },
  {
    "text": " Good programming practice.",
    "start": "2520135",
    "end": "2526750"
  },
  {
    "text": "An edge is only a little\nbit more complicated. It's got a source, a\ndestination, and a weight.",
    "start": "2526750",
    "end": "2538530"
  },
  {
    "text": "So you can see that I'm using\nthe most general form of an edge so that I will be able use\nedges not only for graphs",
    "start": "2538530",
    "end": "2545890"
  },
  {
    "text": "and digraphs, but also weighted\ndirected graphs by having all the potential\nproperties I might need and",
    "start": "2545890",
    "end": "2554530"
  },
  {
    "text": "then some simple things\nto fetch things. ",
    "start": "2554530",
    "end": "2560240"
  },
  {
    "text": "The next cluster in the\nhierarchy is a digraph. ",
    "start": "2560240",
    "end": "2571520"
  },
  {
    "text": "So it's got an init, of course,\nI can add nodes to it.",
    "start": "2571520",
    "end": "2577860"
  },
  {
    "text": "I'm not going to allow myself\nto add the same node more than once. I can add edges.",
    "start": "2577860",
    "end": "2585059"
  },
  {
    "text": "And I'm going to check to make\nsure that I'm only connecting nodes that are in the graph.",
    "start": "2585060",
    "end": "2590180"
  },
  {
    "text": "Then I've got children of,\nwhich gives me all the descendants of a node, and\nhas node in string.",
    "start": "2590180",
    "end": "2601244"
  },
  {
    "text": " And then interestingly enough,\nmaybe surprising to some of",
    "start": "2601245",
    "end": "2608070"
  },
  {
    "start": "2604000",
    "end": "2645000"
  },
  {
    "text": "you, I've made graph a\nsub-class of digraph. ",
    "start": "2608070",
    "end": "2615640"
  },
  {
    "text": "Maybe that seems a little odd. After all, when I started\nI started talking about digraphs.",
    "start": "2615640",
    "end": "2622609"
  },
  {
    "text": "About graphs, and then said, and\nwe can add this feature. But now I'm going the\nother way around. ",
    "start": "2622610",
    "end": "2631470"
  },
  {
    "text": "Why is that? Why do you think that's\nthe right way to structure a hierarchy?",
    "start": "2631470",
    "end": "2637990"
  },
  {
    "text": "What's the relation of\ngraphs to digraphs? ",
    "start": "2637990",
    "end": "2646029"
  },
  {
    "start": "2645000",
    "end": "2695000"
  },
  {
    "text": "Digraphs are more general\nthan graphs. A graph is a specialization\nof a digraph.",
    "start": "2646030",
    "end": "2656060"
  },
  {
    "text": "Just like a county is a\nspecialization of a point. ",
    "start": "2656060",
    "end": "2662150"
  },
  {
    "text": "So, typically as you design\nthese class hierarchies, the more specialized something is,\nthe further it has to be down.",
    "start": "2662150",
    "end": "2674430"
  },
  {
    "text": "More like a subclass. Does that make sense? I can't really turn\nthis on its head. ",
    "start": "2674430",
    "end": "2683640"
  },
  {
    "text": "I can specialize a digraph\nto get a graph. I can't specialize a graph\nto get a digraph.",
    "start": "2683640",
    "end": "2689420"
  },
  {
    "text": "And that's why this hierarchy\nis organized the way it is. ",
    "start": "2689420",
    "end": "2697260"
  },
  {
    "start": "2695000",
    "end": "3050000"
  },
  {
    "text": "What else is there are\ninteresting to say about this? A key question, probably the\nmost important question in",
    "start": "2697260",
    "end": "2704970"
  },
  {
    "text": "designing and implementation\nof graphs, is the choice of",
    "start": "2704970",
    "end": "2711240"
  },
  {
    "text": "data structures to represent\nthe digraph in this case. There are two possibilities\nthat people typically use.",
    "start": "2711240",
    "end": "2722120"
  },
  {
    "text": "They can use an adjacency\nmatrix. ",
    "start": "2722120",
    "end": "2733619"
  },
  {
    "text": "So if you have N nodes, you have\nan N by N matrix where",
    "start": "2733620",
    "end": "2744300"
  },
  {
    "text": "each entry gives, in the case\nof a digraph, a weighted digraph, the weight-connecting\nnodes on that edge.",
    "start": "2744300",
    "end": "2754215"
  },
  {
    "text": " Or in the case of a graph it\ncan be just true or false.",
    "start": "2754215",
    "end": "2762670"
  },
  {
    "text": "So this is, can I\nget from A to B?  Is that going to\nbe sufficient?",
    "start": "2762670",
    "end": "2768635"
  },
  {
    "text": " Suppose you have a graph\nthat looks like this.",
    "start": "2768635",
    "end": "2777020"
  },
  {
    "text": "And we'll call that Boston\nand this New York. And I want to model the roads.",
    "start": "2777020",
    "end": "2785340"
  },
  {
    "text": "Well, I might have a road that\nlooks like this and a road that looks like this from\nBoston to New York.",
    "start": "2785340",
    "end": "2793430"
  },
  {
    "text": "As in, I might have more\nthan one road. ",
    "start": "2793430",
    "end": "2798460"
  },
  {
    "text": "So I have to be careful when\nI use an adjacency matrix representation, to realize\nthat each element of the",
    "start": "2798460",
    "end": "2806670"
  },
  {
    "text": "matrix could itself be somewhat\nmore complicated in the case that there\nare multiple edges",
    "start": "2806670",
    "end": "2813290"
  },
  {
    "text": "connecting two nodes. And in fact, in many graphs we\nwill see there are multiple",
    "start": "2813290",
    "end": "2819250"
  },
  {
    "text": "edges connecting the\nsame two nodes. It would be surprising\nif there weren't. ",
    "start": "2819250",
    "end": "2830430"
  },
  {
    "text": "All right. Now, the other common\nrepresentation is",
    "start": "2830430",
    "end": "2835570"
  },
  {
    "text": "an adjacency list. ",
    "start": "2835570",
    "end": "2843980"
  },
  {
    "text": "In an adjacency list, for every\nnode I list all of the",
    "start": "2843980",
    "end": "2851340"
  },
  {
    "text": "edges emanating from\nthat node. ",
    "start": "2851340",
    "end": "2862470"
  },
  {
    "text": "Which of these is better? Well, neither. It depends upon your\napplication.",
    "start": "2862470",
    "end": "2868579"
  },
  {
    "text": "An adjacency matrix is often\nthe best choice when the connections are dense.",
    "start": "2868580",
    "end": "2876069"
  },
  {
    "text": "Everything is connected\nto everything else. But is very wasteful if the\nconnections are sparse.",
    "start": "2876070",
    "end": "2883960"
  },
  {
    "text": " If there are no roads connecting\nmost of your cities",
    "start": "2883960",
    "end": "2890140"
  },
  {
    "text": "or no airplane flights\nconnecting most of your cities, then you don't want to\nhave a matrix where most of",
    "start": "2890140",
    "end": "2896170"
  },
  {
    "text": "the entries are empty. ",
    "start": "2896170",
    "end": "2902570"
  },
  {
    "text": "Just to make sure that people\nfollow the difference, which am I using in my implementation\nhere?",
    "start": "2902570",
    "end": "2908560"
  },
  {
    "text": " Am I using an adjacency matrix\nor an adjacency list?",
    "start": "2908560",
    "end": "2916490"
  },
  {
    "start": "2916490",
    "end": "2923790"
  },
  {
    "text": "I heard somebody say an\nadjacency list and because my candy supply is so meager they\ndidn't even bother raising in",
    "start": "2923790",
    "end": "2929859"
  },
  {
    "text": "their hand so I know\nwho said it. But yes, it is an\nadjacency list.",
    "start": "2929860",
    "end": "2936200"
  },
  {
    "text": "And we can see that by\nlooking what happens when we add an edge.",
    "start": "2936200",
    "end": "2941230"
  },
  {
    "text": "I'm associating it with\nthe source node. So from each node, and we can\nsee that when we look at the",
    "start": "2941230",
    "end": "2949420"
  },
  {
    "text": "children of--  here, I just return the\nedges of that node.",
    "start": "2949420",
    "end": "2958369"
  },
  {
    "text": "And that's the list of all\nthe places you can get to from that node. ",
    "start": "2958370",
    "end": "2964890"
  },
  {
    "text": "So it's very simple, but\nit's very useful. ",
    "start": "2964890",
    "end": "2971020"
  },
  {
    "text": "Next lecture we'll look-- Yeah? Thank you. Question. I love questions. AUDIENCE: Going back to the\ndigraph, what makes the graph",
    "start": "2971020",
    "end": "2979426"
  },
  {
    "text": "more specialized? PROFESSOR: What makes-- AUDIENCE: The graph\nmore specialized? PROFESSOR: Good question.",
    "start": "2979426",
    "end": "2985220"
  },
  {
    "text": "The question is, what makes the\ngraph more specialized? What we'll see here when we look\nat graph, it's not a very",
    "start": "2985220",
    "end": "2995880"
  },
  {
    "text": "efficient implementation, but\nevery time you add an edge, I add an edge in the reverse\ndirection.",
    "start": "2995880",
    "end": "3004640"
  },
  {
    "text": "Because if you can get from node\nA to node B you can get from node B to node A. So I've\nremoved the possibility that",
    "start": "3004640",
    "end": "3014390"
  },
  {
    "text": "you have, say, one-way\nstreets in the graph. And therefore it's\na specialization.",
    "start": "3014390",
    "end": "3020079"
  },
  {
    "text": "There are things I can not do\nwith graphs that I can do with digraphs, but anything I can do\nwith a graph I can do with",
    "start": "3020080",
    "end": "3028280"
  },
  {
    "text": "the digraph. It's more general. That make sense? ",
    "start": "3028280",
    "end": "3035800"
  },
  {
    "text": "That's a great question and\nI'm glad you asked it. All right. Thursday we're going to look at\na bunch of classic problems",
    "start": "3035800",
    "end": "3042039"
  },
  {
    "text": "that can be solved using graphs,\nand I think that should be fun.",
    "start": "3042040",
    "end": "3047170"
  },
  {
    "start": "3047170",
    "end": "3050793"
  }
]