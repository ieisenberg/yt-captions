[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "6396"
  },
  {
    "text": " DAVID PERREAULT: Why\ndon't we get started?",
    "start": "6396",
    "end": "11780"
  },
  {
    "text": "So last class, we\nwere continuing to talk about\nDC-to-DC converters.",
    "start": "11780",
    "end": "18230"
  },
  {
    "text": "And we saw both the buck\nand the boost converter, which could each be considered--",
    "start": "18230",
    "end": "25439"
  },
  {
    "text": "one way to look at it is\nto consider each of them a connection of a certain\nso-called canonical cell.",
    "start": "25440",
    "end": "33190"
  },
  {
    "text": "So for example, we\ncould have a structure like this, where we\nhad one inductor,",
    "start": "33190",
    "end": "40370"
  },
  {
    "text": "a single-pole, double-throw\nswitch, and one capacitor.",
    "start": "40370",
    "end": "47050"
  },
  {
    "text": "And connections of\nthis two-port structure",
    "start": "47050",
    "end": "53050"
  },
  {
    "text": "suddenly would let\nus build a converter. And one example-- and\nwe often implement",
    "start": "53050",
    "end": "61390"
  },
  {
    "text": "this single-pole,\ndouble-throw switch with two semiconductor\ndevices acting",
    "start": "61390",
    "end": "67689"
  },
  {
    "text": "as single-pole,\nsingle-throw switches. So for example, one\nway we could do this if we connected a\nsource V1 here--",
    "start": "67690",
    "end": "76165"
  },
  {
    "text": " and then we would implement that\nsingle-pole, double-throw switch",
    "start": "76165",
    "end": "84310"
  },
  {
    "text": "perhaps with a\nMOSFET and a diode. ",
    "start": "84310",
    "end": "92230"
  },
  {
    "text": "And we'd have an output voltage\nhere that we connect to a load",
    "start": "92230",
    "end": "97390"
  },
  {
    "text": "and call that V2. So we saw this converter,\nwhere we could deliver energy",
    "start": "97390",
    "end": "105190"
  },
  {
    "text": "from a source V1 to a load V2. And we analyzed this operation.",
    "start": "105190",
    "end": "111250"
  },
  {
    "text": "And we could say, suppose I turn\nthis switch on with some signal q of t or a signal--",
    "start": "111250",
    "end": "119049"
  },
  {
    "text": "switching signal where when q\nof t is 1, the switch is on. When q of t is 0,\nthe switch is off.",
    "start": "119050",
    "end": "124360"
  },
  {
    "text": "So that's like saying q of\nt is 1 when the switch is",
    "start": "124360",
    "end": "129639"
  },
  {
    "text": "in the down position. And so if we did that,\nsomething like this,",
    "start": "129639",
    "end": "141002"
  },
  {
    "text": "with some duty ratio-- so here's DT and\nT, here's q of t--",
    "start": "141002",
    "end": "149410"
  },
  {
    "text": "we can analyze what's\ngoing on in part by looking at, for example, the\nvoltage across this inductor.",
    "start": "149410",
    "end": "159800"
  },
  {
    "text": "So if I call this\nV sub L, we could see that if the switch is on V\nsub L has V1 applied across it.",
    "start": "159800",
    "end": "175650"
  },
  {
    "text": "So I could have a voltage V1. ",
    "start": "175650",
    "end": "181690"
  },
  {
    "text": "So I apply a voltage V1 in\nthe first part of the cycle. ",
    "start": "181690",
    "end": "187720"
  },
  {
    "text": "And I will have a positive\ncurrent in this inductor. And when I turn the\nswitch off, this inductor",
    "start": "187720",
    "end": "196209"
  },
  {
    "text": "will then turn on the diode\nand deliver that current to the output.",
    "start": "196210",
    "end": "201700"
  },
  {
    "text": "So in the second\npart of the cycle, what do we have for a\nvoltage across the inductor? We have V1 minus V2.",
    "start": "201700",
    "end": "207990"
  },
  {
    "text": "So if we assume that's--  V2 is being held almost\nconstant because the inductor",
    "start": "207990",
    "end": "214630"
  },
  {
    "text": "and the capacitors are\nsupposed to be big here, then we would have a\nvoltage V1 minus V2",
    "start": "214630",
    "end": "222760"
  },
  {
    "text": "across the inductor in the\nsecond part of the cycle. And what do we know\nabout the average voltage",
    "start": "222760",
    "end": "230080"
  },
  {
    "text": "across an inductor in\nperiodic steady state? It's got to be 0.",
    "start": "230080",
    "end": "235659"
  },
  {
    "text": "So if I'm going to be in\nperiodic steady state, I need a 0 average voltage.",
    "start": "235660",
    "end": "241400"
  },
  {
    "text": "That suggests that this\nvoltage, V1 minus V2, had better be negative in\norder to get a 0 average",
    "start": "241400",
    "end": "249940"
  },
  {
    "text": "voltage across it. So another way we could look\nat this periodic steady-state",
    "start": "249940",
    "end": "255310"
  },
  {
    "text": "operating condition is to\nlook at the voltage waveform across the inductor and\nthen say, well, hey,",
    "start": "255310",
    "end": "265690"
  },
  {
    "text": "I need the average value\nof VL equal to 0 in PSS.",
    "start": "265690",
    "end": "273145"
  },
  {
    "text": " And what that means\nis essentially that this area,\nthis positive area,",
    "start": "273145",
    "end": "280960"
  },
  {
    "text": "must exactly balance\nthis negative area because the average voltage\nacross this inductor",
    "start": "280960",
    "end": "288640"
  },
  {
    "text": "would simply be DV1 plus\n1 minus D V1 minus V2.",
    "start": "288640",
    "end": "298340"
  },
  {
    "text": "And if I then take and\nsolve this equation,",
    "start": "298340",
    "end": "303360"
  },
  {
    "text": "what I get is V2 in periodic\nsteady state must equal V1 over",
    "start": "303360",
    "end": "310710"
  },
  {
    "text": "1 minus D. And since D is a\nfraction of a time-- this is DT,",
    "start": "310710",
    "end": "319979"
  },
  {
    "text": "it's a fraction of a period--  V2 must end up being\nbigger than V1 such",
    "start": "319980",
    "end": "327100"
  },
  {
    "text": "that V1 minus V2 is\na negative number. So the way this\nconverter will operate",
    "start": "327100",
    "end": "333520"
  },
  {
    "text": "is if the output voltage\nisn't big enough, then I will have a\npositive average value",
    "start": "333520",
    "end": "339047"
  },
  {
    "text": "across the inductor. And the inductor current\nwill keep building up until it's delivering\nenough current to the output to raise the output\nvoltage such that it's",
    "start": "339047",
    "end": "346960"
  },
  {
    "text": "in this periodic\nsteady-state operation. And what we would expect to\nsee for an inductor current--",
    "start": "346960",
    "end": "355365"
  },
  {
    "text": "the ripple on this\nwould be small if I assume the\ninductor is large. But if I was plotting--\nif this is V sub L",
    "start": "355365",
    "end": "362140"
  },
  {
    "text": "and I was plotting\nI sub L, maybe I sub L would go up in the\nfirst part of the cycle",
    "start": "362140",
    "end": "368890"
  },
  {
    "text": "because I'm applying a\npositive voltage across it and would go down in the\nsecond part of the cycle.",
    "start": "368890",
    "end": "374150"
  },
  {
    "text": "So it would be this triangular\nwaveform, ideally speaking.",
    "start": "374150",
    "end": "379281"
  },
  {
    "text": "And I'd be in periodic\nsteady-state operation where it ended up just in\nthe same place it started",
    "start": "379282",
    "end": "385190"
  },
  {
    "text": "at the beginning of the cycle. And then that would be periodic\nsteady-state operation.",
    "start": "385190",
    "end": "391884"
  },
  {
    "text": "So this is the boost converter. I can also even look at this.",
    "start": "391884",
    "end": "398310"
  },
  {
    "text": "And I can say, hey, if\nI have my rule here,",
    "start": "398310",
    "end": "407960"
  },
  {
    "text": "V2 is equal to V1 over 1 minus\nD in periodic steady state,",
    "start": "407960",
    "end": "414319"
  },
  {
    "text": "what else could I see? I could argue that I2 ought\nto be equal to I1 times 1",
    "start": "414320",
    "end": "422090"
  },
  {
    "text": "minus D, where I'm defining\nin this case the DC current",
    "start": "422090",
    "end": "428570"
  },
  {
    "text": "here as being I1, the DC\ncomponent of this input current being I1, which is also\nIL, and this current being I2.",
    "start": "428570",
    "end": "439180"
  },
  {
    "text": " And how do I get that? It's because V2I2\nhas to equal V1I1.",
    "start": "439180",
    "end": "449160"
  },
  {
    "text": "I'm assuming it's\nlossless in that example.  So we can very quickly\nget to how we think",
    "start": "449160",
    "end": "459770"
  },
  {
    "text": "this circuit ought to operate. Are there any questions\nabout the boost converter? ",
    "start": "459770",
    "end": "468397"
  },
  {
    "text": "AUDIENCE: I'm just\nlooking at the notation-- so with the orange curve that\nwe've drawn, I is changing.",
    "start": "468397",
    "end": "473880"
  },
  {
    "text": "But then we wrote a capital I1. Can you say more from that? DAVID PERREAULT:\nExcellent question. So strictly speaking--\nit's a very good question.",
    "start": "473880",
    "end": "486710"
  },
  {
    "text": "Strictly speaking,\nthis is I sub L of T. So I've plotted I\nsub L of T here.",
    "start": "486710",
    "end": "496449"
  },
  {
    "text": "And then I1-- if I wanted to\nput I1 in here, it would be,",
    "start": "496450",
    "end": "505650"
  },
  {
    "text": "essentially, its average value. This would be IL is equal to I1.",
    "start": "505650",
    "end": "511485"
  },
  {
    "text": " And of course, if\nI make the inductor induct bigger and bigger and\nbigger, there's no distinction.",
    "start": "511485",
    "end": "522080"
  },
  {
    "text": "The reason I wanted\nto plot the ripple here is because in the\nfirst part of the cycle,",
    "start": "522080",
    "end": "527570"
  },
  {
    "text": "you can see we're putting\nenergy into the inductor because the inductor\ncurrent's rising. And in the second\npart of the cycle,",
    "start": "527570",
    "end": "533840"
  },
  {
    "text": "we're taking the energy\nback out of the inductor and putting it to the output. Great question.",
    "start": "533840",
    "end": "539265"
  },
  {
    "text": " So that was an\nexample converter.",
    "start": "539265",
    "end": "546990"
  },
  {
    "text": "And you can see\nthat we implemented this single-pole,\ndouble-throw switch as a pair",
    "start": "546990",
    "end": "552120"
  },
  {
    "text": "of semiconductor devices. I'd like to talk\na little bit more",
    "start": "552120",
    "end": "557790"
  },
  {
    "text": "about how we would\nimplement that. Typically, I would\nimplement any device",
    "start": "557790",
    "end": "567120"
  },
  {
    "text": "like this as some\npair of devices, two actual physical\nsemiconductor devices,",
    "start": "567120",
    "end": "574860"
  },
  {
    "text": "because what I get\nis single-pole, single-throw switches\nfrom a device.",
    "start": "574860",
    "end": "580080"
  },
  {
    "text": "I turn them on or off. But what I can do\nwith my converter",
    "start": "580080",
    "end": "585390"
  },
  {
    "text": "depends upon how I\nimplement those devices. So let's talk about\nthe capabilities",
    "start": "585390",
    "end": "592800"
  },
  {
    "text": "of different semiconductor\nswitch devices. By the way, there's\nnothing that says I have to use a semiconductor device.",
    "start": "592800",
    "end": "598570"
  },
  {
    "text": "In theory, I could use\na mechanical switch. But it'd just be\npretty horrible. And people have tried\nother things historically.",
    "start": "598570",
    "end": "606120"
  },
  {
    "text": "But in the modern\nworld, everybody uses semiconductor devices. So let's think about the\ncapabilities of different kinds",
    "start": "606120",
    "end": "613800"
  },
  {
    "text": "of power semiconductor devices. Perhaps one very common device\nwould be the power MOSFET.",
    "start": "613800",
    "end": "622370"
  },
  {
    "start": "622370",
    "end": "627529"
  },
  {
    "text": "And I'll focus on\nthe end channel one",
    "start": "627530",
    "end": "632840"
  },
  {
    "text": "because that's perhaps\nthe most common because of its good performance.",
    "start": "632840",
    "end": "638880"
  },
  {
    "text": "So the symbol for this\ndevice would be like this. ",
    "start": "638880",
    "end": "646750"
  },
  {
    "text": "And a power MOSFET, by the\nway, is a vertical device. It conducts current through\nthe thickness of the device.",
    "start": "646750",
    "end": "653360"
  },
  {
    "text": "So it's a little bit different\nthan a typical device on an integrated circuit, which\nis usually a lateral device.",
    "start": "653360",
    "end": "659770"
  },
  {
    "text": "But you can use lateral\npower MOSFETs, as well, if you're doing an integrated\nsemiconductor process.",
    "start": "659770",
    "end": "667240"
  },
  {
    "text": "How might I think of this\ndevice if this was the drain, the source, and the gate?",
    "start": "667240",
    "end": "672709"
  },
  {
    "text": "What would it do? Well, this device can carry\npositive-- it can block.",
    "start": "672710",
    "end": "680080"
  },
  {
    "text": "If I thought of this as V\nswitch and I thought of this as I switch, it can\nblock positive voltage",
    "start": "680080",
    "end": "693430"
  },
  {
    "text": "and carry positive\nor negative current.",
    "start": "693430",
    "end": "699779"
  },
  {
    "text": "And in fact, if you look inside\na power MOSFET at its structure,",
    "start": "699780",
    "end": "706390"
  },
  {
    "text": "for free, what you get\nis a built-in-- people often don't draw this. But you get a built-in\nso-called body diode.",
    "start": "706390",
    "end": "716319"
  },
  {
    "text": "So whether you want it or not,\nthere's an effective diode here that if you try to put reverse\nvoltage on, it will turn on.",
    "start": "716320",
    "end": "722800"
  },
  {
    "text": "And it can carry current\nin the negative direction, or you can turn the device on\nphysically through its gate and carry current\nin the channel.",
    "start": "722800",
    "end": "729290"
  },
  {
    "text": "But the point is I can\nblock positive voltage. I can't block negative voltage\nbecause of this device,",
    "start": "729290",
    "end": "737080"
  },
  {
    "text": "because of this internal\nparasitic device. But I can carry current\nin both directions.",
    "start": "737080",
    "end": "743360"
  },
  {
    "text": "The way you might\nthink of a power MOSFET as a simplified model\nis with something like this.",
    "start": "743360",
    "end": "751160"
  },
  {
    "text": "Maybe it has some parasitic\non-state resistance,",
    "start": "751160",
    "end": "756699"
  },
  {
    "text": "a switch that you control\nwith the gate, and then",
    "start": "756700",
    "end": "761900"
  },
  {
    "text": "a reverse diode. ",
    "start": "761900",
    "end": "767370"
  },
  {
    "text": "So that might be the way you\ncould mentally model a device. And of course, an ideal device\nwould have 0 resistance.",
    "start": "767370",
    "end": "775020"
  },
  {
    "text": "But real device has real\nresistance, and so forth. A lot of other devices--",
    "start": "775020",
    "end": "781420"
  },
  {
    "text": "actually, a lot of other\nsemiconductor devices that you can put\ninto active circuitry",
    "start": "781420",
    "end": "786540"
  },
  {
    "text": "behave in a similar fashion. So for example,\nvery popular lately",
    "start": "786540",
    "end": "792120"
  },
  {
    "text": "are gallium nitride HEMTs,\nhigh-electron-mobility",
    "start": "792120",
    "end": "798029"
  },
  {
    "text": "transistors. The symbol for that is\nvery similar, actually. People use different\nsymbols for these things.",
    "start": "798030",
    "end": "803110"
  },
  {
    "text": "Sometimes they look like this. But they behave\neffectively similarly. They don't have a body diode.",
    "start": "803110",
    "end": "809069"
  },
  {
    "text": "But they act like they do. They'll turn on and reverse. So there's a whole class of\ndevices that will act like this.",
    "start": "809070",
    "end": "818878"
  },
  {
    "text": "They'll block positive voltage. And they'll carry positive\nand negative current. If I thought of the I-V\nplane for the devices,",
    "start": "818878",
    "end": "830720"
  },
  {
    "text": "I might think of if this is\nthe current-carrying direction",
    "start": "830720",
    "end": "836930"
  },
  {
    "text": "and this is the\nvoltage-blocking direction, maybe I have four quadrants. ",
    "start": "836930",
    "end": "844430"
  },
  {
    "text": "This device can block\npositive voltage and can carry positive\nor negative current.",
    "start": "844430",
    "end": "851010"
  },
  {
    "text": "So it operates in\nthese two quadrants. ",
    "start": "851010",
    "end": "856670"
  },
  {
    "text": "What other kinds of\ndevices could I get? Why do I focus on that? Well, suppose I\nwent out and bought",
    "start": "856670",
    "end": "862519"
  },
  {
    "text": "an IGBT, an insulated-gate\nbipolar transistor.",
    "start": "862520",
    "end": "868080"
  },
  {
    "text": "These, in recent years,\nhave been very popular for motor drives,\nthings like that.",
    "start": "868080",
    "end": "873240"
  },
  {
    "text": "They don't go to very\nhigh frequencies. But they're inexpensive. And they carry a lot of current.",
    "start": "873240",
    "end": "878880"
  },
  {
    "text": "And so an IGBT-- the symbol for it\nlooks like this. ",
    "start": "878880",
    "end": "886680"
  },
  {
    "text": "So it's like a\nbipolar transistor with an isolated gate. You can think of it as a\nisolated-gate controlled bipolar",
    "start": "886680",
    "end": "894910"
  },
  {
    "text": "transistor. One could use a bipolar\njunction transistor. And back in the day, people did. But almost nobody would\nuse these devices anymore",
    "start": "894910",
    "end": "902529"
  },
  {
    "text": "because they're\nkind of horrible. These devices have a slightly\ndifferent characteristic.",
    "start": "902530",
    "end": "909760"
  },
  {
    "text": "These can block positive voltage\nand carry positive current.",
    "start": "909760",
    "end": "916155"
  },
  {
    "text": " But if you try to shove current\nin the reverse direction",
    "start": "916155",
    "end": "923279"
  },
  {
    "text": "through this or put a reverse\nvoltage on it to do so, you'll generally blow them up.",
    "start": "923280",
    "end": "930130"
  },
  {
    "text": "So that would be an\nunhappy thing to do. If you're going to use\nthat device, don't do that.",
    "start": "930130",
    "end": "937620"
  },
  {
    "text": "I should say there are\nexceptions to everything. There are something called\nreverse blocking IGBTs.",
    "start": "937620",
    "end": "944670"
  },
  {
    "text": "But they're not very common. So you always have to\nlook at the data sheet. But most can't do that.",
    "start": "944670",
    "end": "951734"
  },
  {
    "text": "So what would I do if there was\nsome chance I might get current",
    "start": "951734",
    "end": "957370"
  },
  {
    "text": "going negative here and I\nwanted to deal with that? Well, I might go and say,\nlet me go take my IGBT.",
    "start": "957370",
    "end": "967620"
  },
  {
    "text": " And it can block\nvoltage this way",
    "start": "967620",
    "end": "974600"
  },
  {
    "text": "and can carry current this way. And what I'll do is I will\ngo out and buy a diode.",
    "start": "974600",
    "end": "985160"
  },
  {
    "text": "And I will stick a\ndiode in antiparallel with it, for example,\nso that now this diode",
    "start": "985160",
    "end": "993290"
  },
  {
    "text": "can carry current in\nthe reverse direction and can still block in\nthe positive direction. And this hybrid switch\ncan block positive voltage",
    "start": "993290",
    "end": "1004120"
  },
  {
    "text": "and carry positive\nand negative current. So a lot of circuits--\nyou actually",
    "start": "1004120",
    "end": "1010270"
  },
  {
    "text": "do add diodes to your-- in\nantiparallel with your IGBTs because the circuit may get\ninto a situation, at least",
    "start": "1010270",
    "end": "1018250"
  },
  {
    "text": "transiently, where you do\ncarry negative current. Yeah? AUDIENCE: Sorry,\ncan you just remind",
    "start": "1018250",
    "end": "1023620"
  },
  {
    "text": "me, what do you mean by block? DAVID PERREAULT:\nSo in other words, in this case, if I\nturn the switch off,",
    "start": "1023620",
    "end": "1030939"
  },
  {
    "text": "if I think of it as\na switch that's off, here's V switch And let\nme repeat the question.",
    "start": "1030940",
    "end": "1037490"
  },
  {
    "text": "The question is, what do\nI mean by it can block a certain direction of voltage? If I define this\nas voltage V switch",
    "start": "1037490",
    "end": "1044890"
  },
  {
    "text": "and I go and turn\nthe switch off, it can allow a polarity\nof voltage this way.",
    "start": "1044890",
    "end": "1051930"
  },
  {
    "text": "And it will be happy. It'll just stay off. But if I ran around and tried to\nput a voltage polarity across it",
    "start": "1051930",
    "end": "1058409"
  },
  {
    "text": "this way, bad\nthings will happen. So it can act as a switch\nand open circuit itself,",
    "start": "1058410",
    "end": "1067680"
  },
  {
    "text": "but only in one direction\nof applied voltage. So this one won't allow me to\nblock reverse voltage, either.",
    "start": "1067680",
    "end": "1076960"
  },
  {
    "text": "But it will allow me to\ncarry reverse current because this one-- if I try\nto shove current through it",
    "start": "1076960",
    "end": "1082490"
  },
  {
    "text": "the wrong way, it'll die. AUDIENCE: Following on that,\nthen, sorry, if the switch was closed, it would be a short?",
    "start": "1082490",
    "end": "1087873"
  },
  {
    "text": "DAVID PERREAULT: Yeah. If the switch is\nclosed, an IGBT alone-- if the switch is\nclosed, it looks",
    "start": "1087873",
    "end": "1092930"
  },
  {
    "text": "like a short or some\nkind of very small drop for positive currents.",
    "start": "1092930",
    "end": "1098909"
  },
  {
    "text": "But it doesn't look like a\nshort for negative currents because bad things will happen. If I add this diode, then\nit can carry positively",
    "start": "1098910",
    "end": "1106529"
  },
  {
    "text": "through the IGBT and\nnegatively through the diode. And then it's happy as a\nbidirectional current-carrying",
    "start": "1106530",
    "end": "1111540"
  },
  {
    "text": "device. AUDIENCE: So then when we're\ndetermining what the polarity is",
    "start": "1111540",
    "end": "1116930"
  },
  {
    "text": "across the switch, if\nit was in a circuit and you had some voltage\nsource, then the switch would",
    "start": "1116930",
    "end": "1122030"
  },
  {
    "text": "act like a load, right? And so it would be in\nthe opposite direction of the voltage source. Is that how we would do it?",
    "start": "1122030",
    "end": "1128480"
  },
  {
    "text": "Because I always think of it\nin terms of current and then determine the\nvoltage [INAUDIBLE].",
    "start": "1128480",
    "end": "1134310"
  },
  {
    "text": "That might be [INAUDIBLE]. DAVID PERREAULT:\nAnd that's fine. So if you thought\nof it as being open, if you thought about\nit as being open,",
    "start": "1134310",
    "end": "1140940"
  },
  {
    "text": "then you could calculate all the\nvoltages and currents in this. If you treat it\nas an open circuit",
    "start": "1140940",
    "end": "1146580"
  },
  {
    "text": "and you go analyze your\ncircuit and then you say, which way is the polarity\nof that voltage--",
    "start": "1146580",
    "end": "1153010"
  },
  {
    "text": "and if it's the wrong\npolarity, you're unhappy. And if it's the right\npolarity, you're happy. ",
    "start": "1153010",
    "end": "1160270"
  },
  {
    "text": "So what about if I want--\nbut this, again, will get me to those two quadrants. What if I want a\ndifferent quadrant?",
    "start": "1160270",
    "end": "1166580"
  },
  {
    "text": "I could come up here and I\ncould say, let me take my IGBT.",
    "start": "1166580",
    "end": "1172419"
  },
  {
    "text": "And now I'll put a\ndiode in series with it. And to be clear, I\nmean a separate diode.",
    "start": "1172420",
    "end": "1179410"
  },
  {
    "text": "I take two physical devices, And\nI use them to make one switch.",
    "start": "1179410",
    "end": "1185170"
  },
  {
    "text": "And I'll call that V\nswitch and this I switch.",
    "start": "1185170",
    "end": "1191250"
  },
  {
    "text": "This device can block\npositive and negative voltage.",
    "start": "1191250",
    "end": "1199165"
  },
  {
    "text": "If I put a positive\nvoltage across it, I can turn it off with the IGBT.",
    "start": "1199165",
    "end": "1204640"
  },
  {
    "text": "If I put a negative\nvoltage across it, this diode will\nnaturally block it. But it can only carry\npositive current.",
    "start": "1204640",
    "end": "1211740"
  },
  {
    "text": " So if that's what I need for\nthe circuit I'm building,",
    "start": "1211740",
    "end": "1218710"
  },
  {
    "text": "that's what I would do. Yeah? AUDIENCE: So are these just\nconsidered semi-controlled?",
    "start": "1218710",
    "end": "1224195"
  },
  {
    "text": " DAVID PERREAULT: This\nwould be considered a--",
    "start": "1224195",
    "end": "1231779"
  },
  {
    "text": "it's a fully controlled\ndevice under these conditions.",
    "start": "1231780",
    "end": "1236880"
  },
  {
    "text": "Yes, it does act like a diode\nin the reverse direction. So if your circuit happens to\ndo that, then it's uncontrolled.",
    "start": "1236880",
    "end": "1244750"
  },
  {
    "text": "You can't tell it to turn on. That's right. ",
    "start": "1244750",
    "end": "1250039"
  },
  {
    "text": "I can extend this\none level further. So a very common\nthing I might do",
    "start": "1250040",
    "end": "1255950"
  },
  {
    "text": "is take two MOSFETs in\nantiparallel, like this.",
    "start": "1255950",
    "end": "1264850"
  },
  {
    "text": "And just to remember,\ninside of my MOSFET, this guy has a diode this way.",
    "start": "1264850",
    "end": "1271480"
  },
  {
    "text": "And this guy has\na diode this way. So by controlling\nthese two gates,",
    "start": "1271480",
    "end": "1277930"
  },
  {
    "text": "I can block positive\nand negative voltage",
    "start": "1277930",
    "end": "1283210"
  },
  {
    "text": "or carry positive\nand negative current.",
    "start": "1283210",
    "end": "1288370"
  },
  {
    "text": "So this switch can do anything. It can just look like a switch,\nturn on whenever you want,",
    "start": "1288370",
    "end": "1294730"
  },
  {
    "text": "and turn off whenever you want. And there are other\nimplementations that will do that. I put a couple of\nother implementations",
    "start": "1294730",
    "end": "1300715"
  },
  {
    "text": "that people often use\nin the lecture notes. So I certainly can get a switch\nthat will do absolutely anything",
    "start": "1300715",
    "end": "1309790"
  },
  {
    "text": "that I tell it to do. Why would I not want to\ndo this all the time?",
    "start": "1309790",
    "end": "1315795"
  },
  {
    "start": "1315795",
    "end": "1322020"
  },
  {
    "text": "It's expensive-- more\nloss, more device drops.",
    "start": "1322020",
    "end": "1327550"
  },
  {
    "text": "I got to buy twice\nas many switches. So if I only need\none MOSFET, I only have to block in one\ndirection, I certainly",
    "start": "1327550",
    "end": "1332940"
  },
  {
    "text": "don't want to add\nthe capability. So designers are\nvery sensitive to,",
    "start": "1332940",
    "end": "1338400"
  },
  {
    "text": "what's the minimum thing\nI need to do in order to get the capability I need? ",
    "start": "1338400",
    "end": "1345380"
  },
  {
    "text": "So depending upon how I\nimplement my switches, different converters\nwill do different things.",
    "start": "1345380",
    "end": "1352980"
  },
  {
    "text": "And when we're going to go-- coming back to this notion of\nI just drew this or I built a--",
    "start": "1352980",
    "end": "1361140"
  },
  {
    "text": "I designed a converter and I\njust draw some abstract switch,",
    "start": "1361140",
    "end": "1367740"
  },
  {
    "text": "you don't necessarily know\nwhat that converter can do or you don't know what\nit will do, necessarily,",
    "start": "1367740",
    "end": "1374400"
  },
  {
    "text": "unless you know more things. So very often,\nwhat might you need to know in order to figure\nout what a converter is really",
    "start": "1374400",
    "end": "1382259"
  },
  {
    "text": "going to do? Well, you might need to know\nthe switch implementation. ",
    "start": "1382260",
    "end": "1388560"
  },
  {
    "text": "You might need to\nknow the control. If I don't tell you\nhow I'm controlling it,",
    "start": "1388560",
    "end": "1394800"
  },
  {
    "text": "you may not be able to\ntell what it's doing. You might need to\nknow-- even then, you might need to know\nthe external networks.",
    "start": "1394800",
    "end": "1401360"
  },
  {
    "text": " So you might need a whole\nbunch of information",
    "start": "1401360",
    "end": "1406970"
  },
  {
    "text": "to really analyze the\nbehavior of a converter. So let me illustrate\nwhat I mean by that.",
    "start": "1406970",
    "end": "1415930"
  },
  {
    "text": "Suppose I were to show\nyou this converter. I have a voltage source\nV1 here, an inductor,",
    "start": "1415930",
    "end": "1424120"
  },
  {
    "text": "and maybe I'll implement\nmy single-pole,",
    "start": "1424120",
    "end": "1429440"
  },
  {
    "text": "double-throw switches,\ntwo switches. And here I go. And then I'll have a capacitor.",
    "start": "1429440",
    "end": "1436040"
  },
  {
    "text": "And I will have\nsome other voltage. I'll call it V2. ",
    "start": "1436040",
    "end": "1442720"
  },
  {
    "text": "Can I tell which way power is\ngoing to flow in this converter? ",
    "start": "1442720",
    "end": "1448790"
  },
  {
    "text": "Can I tell even what\nthe polarity is? Is V1 positive or negative?",
    "start": "1448790",
    "end": "1454860"
  },
  {
    "text": "Not really. I don't have enough information. Now, if I then came back and\nsaid, well, you know what--",
    "start": "1454860",
    "end": "1461670"
  },
  {
    "text": "here's some more detail. Here's V1.",
    "start": "1461670",
    "end": "1467520"
  },
  {
    "text": "I'm going to implement this\nswitch as a power MOSFET.",
    "start": "1467520",
    "end": "1474330"
  },
  {
    "text": "And I'll implement this\nswitch as a power MOSFET. ",
    "start": "1474330",
    "end": "1488220"
  },
  {
    "text": "And just to remind you, while\nit's not necessary to draw this, and people don't normally--\nbut I will just remind you that",
    "start": "1488220",
    "end": "1497630"
  },
  {
    "text": "inside this device,\nit has this magic-- it has this internal body diode.",
    "start": "1497630",
    "end": "1505345"
  },
  {
    "text": "Whether you like\nit or not, there are diodes there because\nI've used the MOSFET.",
    "start": "1505345",
    "end": "1510559"
  },
  {
    "text": "If I look at this network, can I\ntell which way power is flowing? ",
    "start": "1510560",
    "end": "1519210"
  },
  {
    "text": "I would argue you can't because\nthink about it this way. If I left this device off\nand I switched this MOSFET,",
    "start": "1519210",
    "end": "1527893"
  },
  {
    "text": "I could use it as\na buck converter to transfer energy that way. That's exactly the buck\nconverter circuit we had--",
    "start": "1527893",
    "end": "1533570"
  },
  {
    "text": "or if I turned this switch off\nand just switch this device,",
    "start": "1533570",
    "end": "1539600"
  },
  {
    "text": "it would be acting just\nlike a boost converter, throwing energy this way.",
    "start": "1539600",
    "end": "1544910"
  },
  {
    "text": "And by the way, I\nmight not do that. I might actually\nuse both devices.",
    "start": "1544910",
    "end": "1549960"
  },
  {
    "text": "In fact, this\ncircuit can actually act as a buck converter\nor a boost converter.",
    "start": "1549960",
    "end": "1555210"
  },
  {
    "text": "Just to illustrate that,\nI brought one with me. This beast is actually made\nfor a certain kind of car that",
    "start": "1555210",
    "end": "1561870"
  },
  {
    "text": "had two battery voltages in it. And it's actually\nfive such converters. Here's the inductors.",
    "start": "1561870",
    "end": "1567419"
  },
  {
    "text": "The two MOSFETs are bolted\ndown to the heat sink. There's five copies of this. They're so-called interleaved.",
    "start": "1567420",
    "end": "1572920"
  },
  {
    "text": "They're paralleled and\noperated in a certain manner. But you can actually--\nthere's actually",
    "start": "1572920",
    "end": "1578009"
  },
  {
    "text": "a switch on the\nfront of this thing. If I can switch it up,\nit controls to boost.",
    "start": "1578010",
    "end": "1583570"
  },
  {
    "text": "That means it regulates the high\nvoltage from the low voltage. Switch the other way, it\ngoes the other direction, or you can control\nit from our computer.",
    "start": "1583570",
    "end": "1590915"
  },
  {
    "text": "So the notion is you\ncan build circuits that are bidirectional power\nflow capable if you choose.",
    "start": "1590915",
    "end": "1599510"
  },
  {
    "text": "What could I tell\nabout this thing? Well, I can tell a\ncouple of things.",
    "start": "1599510",
    "end": "1604870"
  },
  {
    "text": "In periodic\nsteady-state operation, I know that the\nmagnitude of V2 has to be bigger than\nthe magnitude of V1",
    "start": "1604870",
    "end": "1611620"
  },
  {
    "text": "because we showed if I'm\nboosting, V2 is bigger than V1. If I'm bucking from\nthis side to this,",
    "start": "1611620",
    "end": "1617860"
  },
  {
    "text": "this voltage is bigger\nthan this voltage. So that I know because of\nperiodic steady-state analysis.",
    "start": "1617860",
    "end": "1625240"
  },
  {
    "text": "What else can I tell about it? I could also argue\nthat I can tell you the polarities of\nallowable voltages here.",
    "start": "1625240",
    "end": "1633130"
  },
  {
    "text": "Why? Well, let's look at V2.",
    "start": "1633130",
    "end": "1639880"
  },
  {
    "text": "If I told you I was going\nto make V2 negative, what would be the\nproblem with that? ",
    "start": "1639880",
    "end": "1649810"
  },
  {
    "text": "The two diodes would\njust turn on and short the negative voltage source out. And then bad things\nwould happen.",
    "start": "1649810",
    "end": "1655060"
  },
  {
    "text": "So V2 must be positive. I can actually even look\nat V1 independently of that",
    "start": "1655060",
    "end": "1660400"
  },
  {
    "text": "and tell it must be positive. Why? Because the average voltage\nin periodic steady state at this node must be the same\nas this node, and likewise.",
    "start": "1660400",
    "end": "1669500"
  },
  {
    "text": "So that means this has\nan average voltage of V1. And that means this\ndiode would turn on",
    "start": "1669500",
    "end": "1675860"
  },
  {
    "text": "if I tried to make V1 negative. So I can tell\nsomething about this. I can tell what polarities\nof voltage are allowable.",
    "start": "1675860",
    "end": "1683360"
  },
  {
    "text": "I could build a buck converter\nor a boost converter-- went from negative voltage\nto negative voltage. I just have to change my\nswitch implementation,",
    "start": "1683360",
    "end": "1690500"
  },
  {
    "text": "or I could build one that,\nfor example, would allow",
    "start": "1690500",
    "end": "1696020"
  },
  {
    "text": "either polarity of voltage. What I would have to\ndo then is go rethink how I implement these switches.",
    "start": "1696020",
    "end": "1701380"
  },
  {
    "start": "1701380",
    "end": "1707047"
  },
  {
    "text": "Of course, if I came\nback to you and said,",
    "start": "1707047",
    "end": "1712330"
  },
  {
    "text": "I don't really have two voltage\nsources or two batteries here, this guy over here--",
    "start": "1712330",
    "end": "1717760"
  },
  {
    "text": "he's actually a resistor.  Well, then you can tell what it\ncan do in steady state, anyways,",
    "start": "1717760",
    "end": "1726120"
  },
  {
    "text": "because I can't source\nenergy from at least positive resistors. So I would know\nthat this converter",
    "start": "1726120",
    "end": "1732990"
  },
  {
    "text": "was designed to flow power\nthis way, at least on average.",
    "start": "1732990",
    "end": "1738140"
  },
  {
    "text": "So that's a little bit about\nwhat people think about in switch implementation. You've got to go\nfor what voltage",
    "start": "1738140",
    "end": "1746150"
  },
  {
    "text": "amplitudes and\npolarities you need and then you-- and what\ncurrent and what power carrying",
    "start": "1746150",
    "end": "1751177"
  },
  {
    "text": "directions you need. And then you work back from that\nto the simplest switches you can use to give what you want.",
    "start": "1751177",
    "end": "1758710"
  },
  {
    "text": "Any questions? ",
    "start": "1758710",
    "end": "1765012"
  },
  {
    "text": "So the buck and the\nboost converter-- whether this is\na buck or a boost depends on power\nflow direction--",
    "start": "1765012",
    "end": "1770029"
  },
  {
    "text": "are examples of what are known\nas direct power converters. And they're called\ndirect power converters",
    "start": "1770030",
    "end": "1775620"
  },
  {
    "text": "because in one of the\ntwo switch states, we transfer energy\ndirectly via current",
    "start": "1775620",
    "end": "1781950"
  },
  {
    "text": "from the source to the load. You can build other\nkinds of converters.",
    "start": "1781950",
    "end": "1787940"
  },
  {
    "text": "And in fact, if I took this\noriginal canonical cell that I drew, this guy, and\nturned its-- on its end,",
    "start": "1787940",
    "end": "1796040"
  },
  {
    "text": "I changed which ports I was\nusing, its input and output, I could build a different\nkind of converter.",
    "start": "1796040",
    "end": "1802270"
  },
  {
    "text": "It could look like this. This is one way to do it. It looks like this. I will have a single-pole,\ndouble-throw switch.",
    "start": "1802270",
    "end": "1811679"
  },
  {
    "text": "I will put my capacitor here. I'll put the inductor here.",
    "start": "1811680",
    "end": "1817880"
  },
  {
    "text": "And then I'll put\nthe other port here. So then I can connect up, for\nexample, if I made this V1",
    "start": "1817880",
    "end": "1829250"
  },
  {
    "text": "and I made this V2. ",
    "start": "1829250",
    "end": "1834580"
  },
  {
    "text": "That would be another possible\nway I could build a converter. And I can make this\nswitch in this position.",
    "start": "1834580",
    "end": "1843490"
  },
  {
    "text": "When q of t is equal to\n1, it's in this position. When q of t is equal to 0,\nit's the other position.",
    "start": "1843490",
    "end": "1849200"
  },
  {
    "text": "So we could go\nanalyze this circuit.",
    "start": "1849200",
    "end": "1854220"
  },
  {
    "text": "I should say, by the way,\nthat when people implement this circuit, they often--",
    "start": "1854220",
    "end": "1861300"
  },
  {
    "text": "this is a nice\npedagogical description. But they often implement it\nby splitting this capacitor.",
    "start": "1861300",
    "end": "1867870"
  },
  {
    "text": "So instead of having\nsome voltage Vc here-- if this voltage V-- if\nV1 is constant and Vc--",
    "start": "1867870",
    "end": "1874920"
  },
  {
    "text": "and the capacitor is\nreally big so that Vc is almost constant,\nthen clearly, V2 is going to be\nalmost constant.",
    "start": "1874920",
    "end": "1881640"
  },
  {
    "text": "So this capacitor can act\nto stabilize voltage V2.",
    "start": "1881640",
    "end": "1886880"
  },
  {
    "text": "But perhaps more common would\nbe to build it this way, have V1 a switch like this.",
    "start": "1886880",
    "end": "1897590"
  },
  {
    "text": "And maybe put a capacitor here\nand another capacitor here and the load like\nthis and call that V2.",
    "start": "1897590",
    "end": "1907610"
  },
  {
    "text": "So that might be\na very typical way to actually implement\nthis circuit.",
    "start": "1907610",
    "end": "1914260"
  },
  {
    "text": "So let's think about what\nwould this circuit do in the real world.",
    "start": "1914260",
    "end": "1920710"
  },
  {
    "text": "Well, here's my signal, q of t. ",
    "start": "1920710",
    "end": "1932242"
  },
  {
    "text": "So I'm going to operate\nit periodically-- DT, T. In order to analyze\nthe other circuit there,",
    "start": "1932242",
    "end": "1939610"
  },
  {
    "text": "what did I do to\nanalyze its behavior? How did I figure out what\nits steady state operating",
    "start": "1939610",
    "end": "1946230"
  },
  {
    "text": "characteristics were? ",
    "start": "1946230",
    "end": "1952790"
  },
  {
    "text": "If you came back here,\nwhat I really looked at is what was the average\nvoltage on the inductor.",
    "start": "1952790",
    "end": "1959780"
  },
  {
    "text": "So why don't I do that again? Again, I'll plot the average\nvoltage on the inductor here,",
    "start": "1959780",
    "end": "1968210"
  },
  {
    "text": "V sub L. So let me plot V sub L.",
    "start": "1968210",
    "end": "1975250"
  },
  {
    "text": "So when this q of t is 1, then\nthe switch is in this position",
    "start": "1975250",
    "end": "1985860"
  },
  {
    "text": "and VL is equal to V1. So let me make V1 positive\nfor sake of this analysis.",
    "start": "1985860",
    "end": "1991380"
  },
  {
    "text": "So I have V1 here. When q of t is equal to\n0 and the switch flips,",
    "start": "1991380",
    "end": "1998010"
  },
  {
    "text": "VL is equal to V2. So VL is equal to V2.",
    "start": "1998010",
    "end": "2003970"
  },
  {
    "text": "And I know I need\nthe average voltage on this inductor to be 0.",
    "start": "2003970",
    "end": "2009490"
  },
  {
    "text": "Then that must mean\nthat V2 is going to be some negative number.",
    "start": "2009490",
    "end": "2015210"
  },
  {
    "text": "So V2 is going to be possibly-- ",
    "start": "2015210",
    "end": "2020650"
  },
  {
    "text": "look like this. ",
    "start": "2020650",
    "end": "2027000"
  },
  {
    "text": "And what I know is--\nso here's the voltage across this inductor. And what I know is that\nthe average voltage here",
    "start": "2027000",
    "end": "2034220"
  },
  {
    "text": "has to be 0. That means that this positive\narea, this volt-seconds positively on the\ninductor, must be balanced",
    "start": "2034220",
    "end": "2041450"
  },
  {
    "text": "by this negative\nvolt-seconds on the inductor, or another way I could\nlook at that is I",
    "start": "2041450",
    "end": "2047210"
  },
  {
    "text": "could say that the\naverage voltage V sub L is equal to what?",
    "start": "2047210",
    "end": "2053040"
  },
  {
    "text": "It's equal to D times\nV1 plus 1 minus D V2.",
    "start": "2053040",
    "end": "2064610"
  },
  {
    "text": "So that means that V2\nmust be equal to minus",
    "start": "2064610",
    "end": "2071149"
  },
  {
    "text": "D over 1 minus D V1. ",
    "start": "2071150",
    "end": "2078219"
  },
  {
    "text": "Does that make\nsense to everybody? So I can tell two\nthings from this.",
    "start": "2078219",
    "end": "2085369"
  },
  {
    "text": "One is this is a number-- D over 1 minus D is a\nnumber that for D 0 to 1",
    "start": "2085370",
    "end": "2093120"
  },
  {
    "text": "goes between, basically,\n0 and infinity. So the first thing I can say is\nthe voltage V2 must be negative.",
    "start": "2093120",
    "end": "2102700"
  },
  {
    "text": "I'm applying a\npositive voltage here in the first part of the cycle. So V2 in the second part of\nthe cycle must be negative.",
    "start": "2102700",
    "end": "2110910"
  },
  {
    "text": " So first of all, I can\ntell that this circuit is going to invert the voltage.",
    "start": "2110910",
    "end": "2117110"
  },
  {
    "text": "So if I have a\npositive input voltage, it's going to be give me\na negative output voltage in periodic steady state. ",
    "start": "2117110",
    "end": "2124470"
  },
  {
    "text": "The other thing about it,\nthough, as I can tell, is that I said this\nnumber, D over 1 minus D,",
    "start": "2124470",
    "end": "2129859"
  },
  {
    "text": "varies anywhere\nbetween 0 and infinity. So this circuit-- if I put\naside the polarity of the output",
    "start": "2129860",
    "end": "2137240"
  },
  {
    "text": "voltage-- sometimes I\nwant an output voltage that's the opposite polarity\nof my input voltage--",
    "start": "2137240",
    "end": "2143039"
  },
  {
    "text": "I can make the magnitude of the\noutput voltage anything I want, bigger or smaller than\nthe input voltage,",
    "start": "2143040",
    "end": "2150180"
  },
  {
    "text": "because this scaling\nfactor, by choosing D-- if I make D equal to 0.5,\nV2 exactly equals V1.",
    "start": "2150180",
    "end": "2159690"
  },
  {
    "text": "It's the opposite of V1. If I make it bigger than\n0.5, the magnitude of V2",
    "start": "2159690",
    "end": "2165350"
  },
  {
    "text": "is going to be bigger than V1. If I make it less than\n0.5, the magnitude of V2 is going to be less than V1. So this is a very\nflexible circuit.",
    "start": "2165350",
    "end": "2171470"
  },
  {
    "text": "It will let me do\nwhatever I want. Whereas a buck converter\ncan only step down voltages and a boost converter can\nonly step up voltages,",
    "start": "2171470",
    "end": "2178359"
  },
  {
    "text": "this, at least in the terms\nof the voltage magnitude, will do whatever\nthe heck I like.",
    "start": "2178360",
    "end": "2184350"
  },
  {
    "text": "Any questions about that? Yeah? AUDIENCE: Does the\ncapacitor up top still",
    "start": "2184350",
    "end": "2189918"
  },
  {
    "text": "help to filter out\nthe output voltage? DAVID PERREAULT: Yes. Excellent question. The question is, does the\ncapacitor still help you--",
    "start": "2189918",
    "end": "2196938"
  },
  {
    "text": "if I place it here, still help\nyou filter the output voltage? And the answer is yes\nbecause if this node is",
    "start": "2196938",
    "end": "2203090"
  },
  {
    "text": "at a constant potential\nbecause, say, V1 is constant and the capacitor\nhere is really big",
    "start": "2203090",
    "end": "2210770"
  },
  {
    "text": "such that Vc doesn't\nhave any ripple, then V2 doesn't have any ripple. So yes, this\ncapacitor placed here",
    "start": "2210770",
    "end": "2218450"
  },
  {
    "text": "can certainly help stabilize\nV2 as long as V1 is stable.",
    "start": "2218450",
    "end": "2224160"
  },
  {
    "text": "So we could build it that way. And sometimes, people do.  So let's think about this.",
    "start": "2224160",
    "end": "2230710"
  },
  {
    "text": "Let's look at an\nimplementation of this circuit. Suppose I wanted to do it for V1\ngreater than 0, V2 less than 0.",
    "start": "2230710",
    "end": "2246500"
  },
  {
    "text": "So maybe I would\nimplement it like this. Here's my voltage source V1.",
    "start": "2246500",
    "end": "2253140"
  },
  {
    "text": "Maybe I'll use a power MOSFET. I could use an IGBT as well. ",
    "start": "2253140",
    "end": "2271745"
  },
  {
    "text": "We can implement\nthis either way. But maybe I'll\nimplement it like this. ",
    "start": "2271745",
    "end": "2281396"
  },
  {
    "text": "And this is V2. ",
    "start": "2281396",
    "end": "2287298"
  },
  {
    "text": "So if I thought about the\npower flow direction of this,",
    "start": "2287298",
    "end": "2294370"
  },
  {
    "text": "what do I know? I know that V1 must be\nbigger than 0 because of this internal body diode\nhere because otherwise,",
    "start": "2294370",
    "end": "2303339"
  },
  {
    "text": "then V1 would get\nshorted out on average. So V1 must be greater than 0.",
    "start": "2303340",
    "end": "2311130"
  },
  {
    "text": "V2 must be less than 0. ",
    "start": "2311130",
    "end": "2316450"
  },
  {
    "text": "I1, the average\ncurrent flowing in here-- if I pretended that this\ncapacitor filtered everything perfectly, this would\ngive me I2 on average.",
    "start": "2316450",
    "end": "2325289"
  },
  {
    "text": "This would give me a current I2. ",
    "start": "2325290",
    "end": "2332289"
  },
  {
    "text": "And what do I know? I know that I2 must be positive.",
    "start": "2332290",
    "end": "2337870"
  },
  {
    "text": "Why do I know that? Because if this is the average\nor DC current coming this way, no DC current goes\ninto the capacitor.",
    "start": "2337870",
    "end": "2345010"
  },
  {
    "text": "So it must go\nthrough this diode. And we know this diode can only\ncarry current in one direction.",
    "start": "2345010",
    "end": "2352015"
  },
  {
    "text": "So I know that V2 is\nnegative and I2 is positive. So V1 greater than 0, I1\ngreater than 0, V2 less than 0,",
    "start": "2352015",
    "end": "2362550"
  },
  {
    "text": "I2 greater than 0-- so power can only flow from\nthis side to this side.",
    "start": "2362550",
    "end": "2367560"
  },
  {
    "text": " That's just an\nexample of doing this.",
    "start": "2367560",
    "end": "2373485"
  },
  {
    "text": " What else could I tell\nabout this converter?",
    "start": "2373485",
    "end": "2379880"
  },
  {
    "text": " If I thought of the voltage\non this capacitor, Vc,",
    "start": "2379880",
    "end": "2389410"
  },
  {
    "text": "how big is that\ncapacitor voltage? Well, I could argue that\nthe DC value of Vc--",
    "start": "2389410",
    "end": "2395200"
  },
  {
    "text": " the DC value-- I can do average KVL\naround this loop.",
    "start": "2395200",
    "end": "2404655"
  },
  {
    "text": "So I could say that\nV1 minus Vc minus V2",
    "start": "2404655",
    "end": "2409900"
  },
  {
    "text": "is 0 or, written a different\nway, Vc is equal to V1 minus V2,",
    "start": "2409900",
    "end": "2420000"
  },
  {
    "text": "or if I wanted to take\nthe magnitude here, I could say that\nthe magnitude of Vc",
    "start": "2420000",
    "end": "2426150"
  },
  {
    "text": "is equal to the magnitude of\nV1 plus the magnitude of V2. Why? Because V2 is negative.",
    "start": "2426150",
    "end": "2433282"
  },
  {
    "text": "So in this example,\nthis capacitor voltage-- because V2 is negative\nand V1 is positive,",
    "start": "2433282",
    "end": "2438940"
  },
  {
    "text": "this capacitor blocks\na lot of voltage if I place the capacitor there. ",
    "start": "2438940",
    "end": "2448359"
  },
  {
    "text": "What can I say\nabout the current?",
    "start": "2448360",
    "end": "2454210"
  },
  {
    "text": "What would I say\nabout IL, for example? And now I'm going to talk about\nthe DC component, capital IL.",
    "start": "2454210",
    "end": "2462150"
  },
  {
    "text": "I'll pretend this inductor is so\nbig, it doesn't have any ripple. And it's instantaneous equally--",
    "start": "2462150",
    "end": "2467410"
  },
  {
    "text": "equal to its average current.  Well, what could I say?",
    "start": "2467410",
    "end": "2473900"
  },
  {
    "text": "I can do average KCL\nanalysis on this. Imagine I come and I draw a\nsupernode in this circuit.",
    "start": "2473900",
    "end": "2485635"
  },
  {
    "start": "2485635",
    "end": "2496315"
  },
  {
    "text": "What do I know about\nthat supernode? The average current going\ninto that dotted dashed box",
    "start": "2496315",
    "end": "2502510"
  },
  {
    "text": "must be 0. So the average current\ngoing in here is I2.",
    "start": "2502510",
    "end": "2508020"
  },
  {
    "text": "The average current\ncoming in here is I1. And the only place for those\ncurrents to come out is IL.",
    "start": "2508020",
    "end": "2513470"
  },
  {
    "text": "So what I can say is that IL-- the magnitude of IL is\nequal to the magnitude",
    "start": "2513470",
    "end": "2520080"
  },
  {
    "text": "of I1 plus the magnitude of I2. IL, I1, and I2 are all\npositive in this example",
    "start": "2520080",
    "end": "2527340"
  },
  {
    "text": "because we've already said I1\nand I2 have to be positive. So basically, the\ninductor current",
    "start": "2527340",
    "end": "2536210"
  },
  {
    "text": "carries the sum of the input\nand output DC currents. ",
    "start": "2536210",
    "end": "2543270"
  },
  {
    "text": "Does that make\nsense to everybody? AUDIENCE: Why don't\nwe use the supernode? Couldn't we just look\nat the node inside?",
    "start": "2543270",
    "end": "2550400"
  },
  {
    "text": " DAVID PERREAULT: But this node--",
    "start": "2550400",
    "end": "2556010"
  },
  {
    "text": "you could. But keep in mind this\ncurrent I can think of as almost being current-- constant all the time because of\nthe filtering of the capacitor.",
    "start": "2556010",
    "end": "2563250"
  },
  {
    "text": "This current is pulsating. So I'd have to think\nabout it more carefully. So I was just trying\nto limit myself",
    "start": "2563250",
    "end": "2569059"
  },
  {
    "text": "to currents flowing in that\nare, ideally, close to DC. Excellent question.",
    "start": "2569060",
    "end": "2576730"
  },
  {
    "text": "I don't know. The first time I saw this\ncircuit, it bothered me. I was like, why does\nthat inductor really",
    "start": "2576730",
    "end": "2583500"
  },
  {
    "text": "carry the sum of the\ninput and output currents? But let's think about what's\ngoing on in this circuit.",
    "start": "2583500",
    "end": "2588820"
  },
  {
    "text": "Let me pretend that\nthis capacitor is doing a really good job of\nfiltering so that it carries",
    "start": "2588820",
    "end": "2597770"
  },
  {
    "text": "all of the AC current. And so the I2 and I1\nare almost constant.",
    "start": "2597770",
    "end": "2603470"
  },
  {
    "text": "What does the current\nflow look like? Well, let me look at,\nfor example, the switch",
    "start": "2603470",
    "end": "2610550"
  },
  {
    "text": "current flow. So if I looked at this switch\ncurrent flow, I switch,",
    "start": "2610550",
    "end": "2618030"
  },
  {
    "text": "what does the switch\ncurrent look like?  Well, in the first\npart of the cycle--",
    "start": "2618030",
    "end": "2624810"
  },
  {
    "text": "or the switch\ncurrent's carrying IL in the first part of the cycle. So in the first\npart of the cycle,",
    "start": "2624810",
    "end": "2630240"
  },
  {
    "text": "the switch current carries IL. ",
    "start": "2630240",
    "end": "2638310"
  },
  {
    "text": "So this is I switch. And in the second\npart of the cycle, the switch carries nothing.",
    "start": "2638310",
    "end": "2646572"
  },
  {
    "text": "So the switch pulsates between\ncarrying some big current and carrying 0 and doing this.",
    "start": "2646572",
    "end": "2654230"
  },
  {
    "text": "And what's the average switch\ncurrent got to be equal to? Well, there's no average current\ncoming up through the capacitor.",
    "start": "2654230",
    "end": "2661940"
  },
  {
    "text": "So on average, the switch\ncurrent must carry I1. So this switch has some--",
    "start": "2661940",
    "end": "2667670"
  },
  {
    "text": "I switch of T is pulsating. But his average\nvalue has to be I1.",
    "start": "2667670",
    "end": "2674410"
  },
  {
    "text": " If I looked at the\ndiode current--",
    "start": "2674410",
    "end": "2680925"
  },
  {
    "text": " here's the diode current--",
    "start": "2680925",
    "end": "2687450"
  },
  {
    "text": "when the switch is\non, he's carrying 0. When the switch is off,\nthe diode's carrying IL.",
    "start": "2687450",
    "end": "2695850"
  },
  {
    "text": "So he steps up. And he carries all of IL. So he's switching\nthe opposite way.",
    "start": "2695850",
    "end": "2702710"
  },
  {
    "text": "And by the same argument, the\naverage of the diode current must be I2. ",
    "start": "2702710",
    "end": "2713220"
  },
  {
    "text": "So it turns out that IL is\nthe sum of I1 plus I2 in order",
    "start": "2713220",
    "end": "2721020"
  },
  {
    "text": "that it be carried-- it's constantly\ncarrying the sum of I1--",
    "start": "2721020",
    "end": "2727950"
  },
  {
    "text": "I switch plus ID is\nalways equal to IL. So when I add these\ntwo up, I get IL.",
    "start": "2727950",
    "end": "2734790"
  },
  {
    "text": "So that's why the\ninductor current has to really carry the sum of\nthe average input and output",
    "start": "2734790",
    "end": "2740180"
  },
  {
    "text": "currents. If I thought about\nthe capacitor, what's the capacitor doing here?",
    "start": "2740180",
    "end": "2746700"
  },
  {
    "text": "Let me plot the\ncapacitor current. And maybe we can get\nsome insight from that. ",
    "start": "2746700",
    "end": "2753300"
  },
  {
    "text": "When the switch is on, IL\nis coming through here. Where does I2 go, the\naverage current I2?",
    "start": "2753300",
    "end": "2759630"
  },
  {
    "text": "It must come negatively\nthrough the capacitor. So the capacitor is\ncarrying minus I2",
    "start": "2759630",
    "end": "2765630"
  },
  {
    "text": "in the first part of the cycle. And in the second part of\nthe cycle, when this is off,",
    "start": "2765630",
    "end": "2771840"
  },
  {
    "text": "I1 must be going positively\nthrough the capacitor, like this. ",
    "start": "2771840",
    "end": "2780869"
  },
  {
    "text": "And this is I C of T. What do I know about the\naverage value of I C of T?",
    "start": "2780870",
    "end": "2788410"
  },
  {
    "text": "0. So that must mean that DI2\nmust equal 1 minus DI1,",
    "start": "2788410",
    "end": "2806039"
  },
  {
    "text": "or I could write I2 is equal\nto 1 minus D over D times I1.",
    "start": "2806040",
    "end": "2814160"
  },
  {
    "text": " Well, guess what?",
    "start": "2814160",
    "end": "2819740"
  },
  {
    "text": "That's exactly the\ncomplement allowing for the sign of the voltage\nconversion ratio, which",
    "start": "2819740",
    "end": "2827185"
  },
  {
    "text": "comes back to the fact that\nthis thing is supposed to be, ideally, 100% efficient.",
    "start": "2827185",
    "end": "2832250"
  },
  {
    "text": "So basically, all\nof the AC currents run around in this\nloop, allowing DC",
    "start": "2832250",
    "end": "2838910"
  },
  {
    "text": "at the input and output. But the result of that is that\nthe inductor current must carry the sum of those currents.",
    "start": "2838910",
    "end": "2846030"
  },
  {
    "text": "That make sense? So this is, by the way, known\nas a buck-boost converter",
    "start": "2846030",
    "end": "2859730"
  },
  {
    "text": "because it can either step\nup voltage or down voltage or step up current\nor step down current.",
    "start": "2859730",
    "end": "2866720"
  },
  {
    "text": "It's sometimes known as an\ninverting buck-boost converter to distinguish it from other\nkinds of buck-boost converters.",
    "start": "2866720",
    "end": "2872550"
  },
  {
    "text": "But this would be the\nbuck-boost converter. Let me just show you by way of\nillustration this operation.",
    "start": "2872550",
    "end": "2879086"
  },
  {
    "text": " So what I created here, if\nmy computer will wake up,",
    "start": "2879086",
    "end": "2889570"
  },
  {
    "text": "is a simulation of a very\nsimple buck-boost converter. So I split the capacitors\nin this example.",
    "start": "2889570",
    "end": "2898150"
  },
  {
    "text": "But I'm running from\n8.5 volts input. And we've set our\nduty ratio to 0.75.",
    "start": "2898150",
    "end": "2905320"
  },
  {
    "text": "So let me just simulate this. ",
    "start": "2905320",
    "end": "2910895"
  },
  {
    "text": "And let me just look at\nwhat the output does. At T equals 0, the output\nis initialized to 0.",
    "start": "2910895",
    "end": "2916900"
  },
  {
    "text": "And what we can see is the\noutput starts at 0 volts. But then he goes negative. And he goes through all this\ntransient-- and stuff happening.",
    "start": "2916900",
    "end": "2924280"
  },
  {
    "text": "We'll talk about the\ndynamics of this converter. But eventually, it gets to\nperiodic steady state out here.",
    "start": "2924280",
    "end": "2930975"
  },
  {
    "text": " So what do we see? There's the output voltage.",
    "start": "2930975",
    "end": "2937450"
  },
  {
    "text": "Here's the input voltage. So it's coming\nfrom plus 8.5 volts and going to minus 27 volts.",
    "start": "2937450",
    "end": "2945500"
  },
  {
    "text": "We can see that this\ninductor voltage is pulsing between the two.",
    "start": "2945500",
    "end": "2951400"
  },
  {
    "text": "So it's acting--\nwhat is it doing in the first part of the cycle? It's sucking energy\nfrom the input",
    "start": "2951400",
    "end": "2957849"
  },
  {
    "text": "and storing it in the inductor. And in the second\npart of the cycle, that energy is then being\nthrown to the output.",
    "start": "2957850",
    "end": "2964210"
  },
  {
    "text": "So all of the energy\nin this circuit is going through the inductor. The only way energy gets from\nthe input is from the input",
    "start": "2964210",
    "end": "2971610"
  },
  {
    "text": "into the inductor. And the only way energy\ngets to the output is from the inductor\nto the output. So it's an indirect conversion\nin that all of the energy flow",
    "start": "2971610",
    "end": "2980010"
  },
  {
    "text": "is mediated through\nthe inductor. You can see that here. If I plotted the\ninductor current,",
    "start": "2980010",
    "end": "2986130"
  },
  {
    "text": "you can see that in the\nfirst part of the cycle, the inductor's--\ncurrent's going up. In the second part\nof the cycle, it's",
    "start": "2986130",
    "end": "2991740"
  },
  {
    "text": "going down because\nI'm charging up the inductor from the input\nin the first part of the cycle and discharging it into the\noutput in the second part",
    "start": "2991740",
    "end": "2998310"
  },
  {
    "text": "of the cycle. So this is a very\nflexible converter. But what we're going to\nsee is that it's also",
    "start": "2998310",
    "end": "3004910"
  },
  {
    "text": "a very high-stress converter. Why? Because the inductor\nhas to carry",
    "start": "3004910",
    "end": "3012200"
  },
  {
    "text": "the sum of the input\nand output currents. The capacitor, if I\nput it here, would have to block some of the\ninput and output voltages,",
    "start": "3012200",
    "end": "3019350"
  },
  {
    "text": "or if I have two\ncapacitors, I-- then I have two capacitors,\none of which blocks the input and one\nof which blocks the output.",
    "start": "3019350",
    "end": "3024620"
  },
  {
    "text": "And notice that the switch-- when it's off, it sees\nthe capacitor voltage",
    "start": "3024620",
    "end": "3030799"
  },
  {
    "text": "or the sum of the magnitudes\nof the input and the output voltage.",
    "start": "3030800",
    "end": "3035849"
  },
  {
    "text": "When it's on, it's carrying\nthe full inductor current, which is the sum of the average\ninput and output currents.",
    "start": "3035850",
    "end": "3042820"
  },
  {
    "text": "So I'll go into this\nmore detail next class. But what we find is this is\na very flexible converter.",
    "start": "3042820",
    "end": "3050430"
  },
  {
    "text": "But because it modulate or\nmediates all the power flow through the inductor--\nend ups with very high",
    "start": "3050430",
    "end": "3056520"
  },
  {
    "text": "stresses on the inductors\nand capacitors and switches. And so it tends to be a more\nexpensive converter than a buck",
    "start": "3056520",
    "end": "3062527"
  },
  {
    "text": "converter or a boost converter. So if I could only do-- if I only need a buck function,\nI don't want to build this guy.",
    "start": "3062528",
    "end": "3067650"
  },
  {
    "text": "But if I need to\nraise my voltage above and below the input, maybe\nthis is a great way to do it.",
    "start": "3067650",
    "end": "3074619"
  },
  {
    "text": "We're out of time. We will take this up. We will see you,\nremember, next Tuesday because Monday is a holiday.",
    "start": "3074620",
    "end": "3080540"
  },
  {
    "text": "So have a great holiday weekend. ",
    "start": "3080540",
    "end": "3086000"
  }
]