[
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "6060"
  },
  {
    "text": "continue to offer high-quality\neducational resources for free. To make a donation or to\nview additional materials",
    "start": "6060",
    "end": "12690"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "12690",
    "end": "25865"
  },
  {
    "text": "PROFESSOR: All right. Today we go back to fun with\nhardness proofs in games.",
    "start": "25865",
    "end": "31244"
  },
  {
    "text": "It's been a while since we've\ndone many games and puzzles. So today we're\ngoing to talk mostly about this one paper, which\nhas a ton of results in it,",
    "start": "31244",
    "end": "38480"
  },
  {
    "text": "by Giovanni Viglietta. \"Gaming's a hard job, but\nsomeone has to do it!\"",
    "start": "38480",
    "end": "45000"
  },
  {
    "text": "What's particularly\ncool about this paper is it shows a bunch\nof metatheorems, which you can think of as\ngeneral techniques for proving",
    "start": "45000",
    "end": "51860"
  },
  {
    "text": "hardness. And I'm going to talk\nabout essentially two main metatheorems,\nalthough there'll",
    "start": "51860",
    "end": "58460"
  },
  {
    "text": "be a few different versions--\none for NP-hardness and one for PSPACE-hardness. And this'll be our first\nreal PSPACE-hardness",
    "start": "58460",
    "end": "64930"
  },
  {
    "text": "proof other than lecture one. And the proofs here\naren't very hard,",
    "start": "64930",
    "end": "70360"
  },
  {
    "text": "and the fun part is applying\nthem to various games. And they apply to a\nlot of different games. ",
    "start": "70360",
    "end": "78119"
  },
  {
    "text": "So metatheorem we're using\nhere in a somewhat vague sense. This won't be a formal\ntheorem, because it's",
    "start": "78120",
    "end": "85229"
  },
  {
    "text": "hard to state all\nof the assumptions you need about your game. But it's sort of-- think of\nit as a roughly true theorem.",
    "start": "85230",
    "end": "91660"
  },
  {
    "text": "We're not going to state all\nthe assumptions you need. But the general setup\nfor metatheorem one",
    "start": "91660",
    "end": "99130"
  },
  {
    "text": "is that you have a player-- or\nthe paper calls it an avatar, you know, a little\nguy walking around.",
    "start": "99130",
    "end": "106690"
  },
  {
    "text": "You're traversing\na 2D environment. ",
    "start": "106690",
    "end": "113290"
  },
  {
    "text": "So you're not allowed\nto have crossovers. From a given start location. ",
    "start": "113290",
    "end": "123600"
  },
  {
    "text": "And given that setup, if you\nhave two features in your game,",
    "start": "123600",
    "end": "130729"
  },
  {
    "text": "one is called\nlocation traversal, and the other is called\nsingle-use paths.",
    "start": "130729",
    "end": "137950"
  },
  {
    "start": "137950",
    "end": "143920"
  },
  {
    "text": "Then your game is NP-hard. That's the metatheorem.",
    "start": "143920",
    "end": "148970"
  },
  {
    "text": "So location traversal\nmeans that there are some locations on the board\nthat you have to visit in order",
    "start": "148970",
    "end": "155300"
  },
  {
    "text": "to win the level. So there's no target location. Your goal is to visit\nall of the locations. Once you do that,\npotentially you win.",
    "start": "155300",
    "end": "161359"
  },
  {
    "text": "Or maybe there is\nalso a target location you have to get to at the end. Question? AUDIENCE: Does planar\nmean you're on a plane,",
    "start": "161360",
    "end": "166838"
  },
  {
    "text": "or like a planar graph\nkind of environment? PROFESSOR: Either way. You could be sort of in a grid. You could be in a planar graph.",
    "start": "166839",
    "end": "173850"
  },
  {
    "text": "It's vague. But the goal is\ntwo-dimensional, so the point is we don't need crossovers\nfor this reduction.",
    "start": "173850",
    "end": "181260"
  },
  {
    "text": " So location traversal, you have\nto visit certain locations.",
    "start": "181260",
    "end": "186400"
  },
  {
    "text": "Single-use paths, you\ncan only use them once. They're traversable, but\nonce you traverse them once,",
    "start": "186400",
    "end": "191590"
  },
  {
    "text": "they're no longer traversable. So from this, you\ncan get NP-hardness. Any guesses how?",
    "start": "191590",
    "end": "198690"
  },
  {
    "text": "What should I reduce from? AUDIENCE: Hamiltonian. PROFESSOR: Hamiltonicity, yup. ",
    "start": "198690",
    "end": "205280"
  },
  {
    "text": "AUDIENCE: All paths\nare single-use? PROFESSOR: No. Not all paths are single-use,\nalthough it will work here.",
    "start": "205280",
    "end": "212915"
  },
  {
    "text": "The idea is that you mark\nsome paths as single-use, others not. So reduction from planar,\nlet's say, max degree three.",
    "start": "212915",
    "end": "224620"
  },
  {
    "start": "224620",
    "end": "229726"
  },
  {
    "text": "Hamiltonicity. ",
    "start": "229727",
    "end": "235989"
  },
  {
    "text": "And so the idea is whenever I\nhave a vertex in my Hamiltonian graph, I'm going to turn\nthat into a location that",
    "start": "235990",
    "end": "244680"
  },
  {
    "text": "must be traversed, because we\nwant to visit all the vertices.",
    "start": "244680",
    "end": "250030"
  },
  {
    "text": "So there you go. That's where to put them. And whenever I have an edge,\nI'm going to convert that",
    "start": "250030",
    "end": "258329"
  },
  {
    "text": "into a single-use path. ",
    "start": "258329",
    "end": "263980"
  },
  {
    "text": "And because I'm maximum degree\nthree and each of these edges is single-use, once I\nuse one of the edges",
    "start": "263980",
    "end": "271009"
  },
  {
    "text": "and it disappears, and\nthen I use another edge, and I get the treat\nthat was in that node,",
    "start": "271010",
    "end": "279060"
  },
  {
    "text": "and then I use another\nedge and that disappears, it's a really bad idea for\nme to use the third edge,",
    "start": "279060",
    "end": "284219"
  },
  {
    "text": "because then I'm\ntrapped there forever. So I would have had to have\nalready solved the puzzle. I would have had to already\nget all of the vertices",
    "start": "284220",
    "end": "291910"
  },
  {
    "text": "before going here. So there was no reason\nto traverse that edge. Therefore, you're effectively\ndoing a Hamiltonian path",
    "start": "291910",
    "end": "297889"
  },
  {
    "text": "from the given start\nposition, which we know how to reduce\nfrom Hamiltonian cycle.",
    "start": "297890",
    "end": "303190"
  },
  {
    "text": "And because we can do planar\ngraphs, this is planar setup, max degree three\nis critical for not",
    "start": "303190",
    "end": "309180"
  },
  {
    "text": "being able to revisit a vertex. OK? We've seen a very similar\nproof to this back in the Hamiltonicity lecture,\nbut there, the assumption",
    "start": "309180",
    "end": "316900"
  },
  {
    "text": "was that there was a time\nlimit, plus collectibles, plus location traversal.",
    "start": "316900",
    "end": "323949"
  },
  {
    "text": "This is another way to do\nthe same kind of proof. And it makes it a little\neasier to be convinced",
    "start": "323950",
    "end": "329340"
  },
  {
    "text": "that your proofs work perfectly,\nbecause with time limits, you're very sensitive to timing. Every edge has to be\nexactly the same length.",
    "start": "329340",
    "end": "336350"
  },
  {
    "text": "Here we're adding\nsingle-use paths instead of that to force\nyou to finish the level.",
    "start": "336350",
    "end": "343360"
  },
  {
    "text": "The claim is also it makes\nthe puzzles more fun. So that's, of course,\nup to interpretation.",
    "start": "343360",
    "end": "348450"
  },
  {
    "text": "But at the very least,\nusing this proof, we can get a whole bunch more\ngames that we haven't seen.",
    "start": "348450",
    "end": "353790"
  },
  {
    "text": "So one of them is Boulder Dash. How many people have played\nBoulder Dash, let's say?",
    "start": "353790",
    "end": "359150"
  },
  {
    "text": "Yeah. Only-- not very many. I used to play this in\nC64 days, Commodore 64.",
    "start": "359150",
    "end": "365150"
  },
  {
    "text": "But you are walking\naround these boulders. You can hold them up, but as\nsoon as you let go, they fall.",
    "start": "365150",
    "end": "371310"
  },
  {
    "text": "And if they fall\non you, you die. So you don't want\nthat to happen. And the goal is to collect\nall the diamonds, roughly,",
    "start": "371310",
    "end": "377520"
  },
  {
    "text": "and then to get it\nto a target location. There's some weird physics\nabout how boulders fall.",
    "start": "377520",
    "end": "382540"
  },
  {
    "text": "But basically, here\nare the two gadgets. Location traversal, you\njust put a diamond there,",
    "start": "382540",
    "end": "389050"
  },
  {
    "text": "and then you have to get it. And then this is\na single-use path. The idea is you can\ncome from either side,",
    "start": "389050",
    "end": "396280"
  },
  {
    "text": "push this out of the way. The boulder is then in the way. So if you then tried\nto traverse it,",
    "start": "396280",
    "end": "401439"
  },
  {
    "text": "you can't turn around the\ncorner, so you get stuck. OK. So once you have\nthose two gadgets,",
    "start": "401440",
    "end": "407000"
  },
  {
    "text": "you get an NP-hardness proof. So Boulder Dash is NP-hard. Lode Runner.",
    "start": "407000",
    "end": "412534"
  },
  {
    "text": "How many people have\nplayed Lode Runner? A few more. I used to play\nthese in, I think,",
    "start": "412534",
    "end": "418660"
  },
  {
    "text": "Apple IIe days or something. Well, originally C64 again.",
    "start": "418660",
    "end": "424490"
  },
  {
    "text": "So you have this guy who walks\naround, has to collect all the parts again, these things.",
    "start": "424490",
    "end": "429734"
  },
  {
    "text": "And the fun thing about Lode\nRunner is you can dig a hole, and then the monsters fall in. They'll drop their\ndiamond if they have one.",
    "start": "429734",
    "end": "435800"
  },
  {
    "text": "And they might be able\nto climb back out. Eventually, that\nsquare will refill. So it's a timed thing.",
    "start": "435800",
    "end": "442170"
  },
  {
    "text": "And so based on that\nkind of physics, we can build the\ntwo gadgets again. You put gold wherever you\nwant to make the thing.",
    "start": "442170",
    "end": "450280"
  },
  {
    "text": "And this is a\nsingle-traversal gadget. This is after it's\nbeen traversed once. You get stuck in the hole.",
    "start": "450280",
    "end": "456069"
  },
  {
    "text": "But if there's a monster there,\nyou can actually stand on it, dig the hole, let the guy fall. This will regenerate.",
    "start": "456069",
    "end": "462300"
  },
  {
    "text": "This guy's stuck, but now you\ncannot traverse this thing. There's no jumping in this game.",
    "start": "462300",
    "end": "468690"
  },
  {
    "text": "You can't jump over there. You have to get to the\nother side by falling. And that's only possible in\nthe initial configuration.",
    "start": "468690",
    "end": "476069"
  },
  {
    "text": "So Lode Runner's NP-hard. Questions? ",
    "start": "476070",
    "end": "482280"
  },
  {
    "text": "Cool. Also, Legend of Zelda II,\nAdventures of Link is NP-hard.",
    "start": "482280",
    "end": "489050"
  },
  {
    "text": "On the one hand, we\nhave single-use paths illustrated on the left. And location traversal\nwe're going to do by keys.",
    "start": "489050",
    "end": "496070"
  },
  {
    "text": "If you get enough keys,\nyou can open enough doors. At the end of the\npuzzle, there's going to be a whole\nbunch of doors.",
    "start": "496070",
    "end": "501782"
  },
  {
    "text": "Let me get this one going again. For single-traversal\npaths, there",
    "start": "501782",
    "end": "507235"
  },
  {
    "text": "are actually these\nbridges that disappear after you traverse them. So you can do some\namount of jumping,",
    "start": "507235",
    "end": "512719"
  },
  {
    "text": "but if you make it\nreally long, you will be prevented from\nre-traversing that path.",
    "start": "512720",
    "end": "518520"
  },
  {
    "text": "So we're going to put\na key at each vertex. And then at some\nfinishing location,",
    "start": "518520",
    "end": "523548"
  },
  {
    "text": "we'll have end doors,\none for each vertex. And that should do Zelda II.",
    "start": "523549",
    "end": "530910"
  },
  {
    "text": "OK. So that is metatheorem one. I want to tell you\nabout a slight variation",
    "start": "530910",
    "end": "538190"
  },
  {
    "text": "on this metatheorem, and then\nanother result based on it. ",
    "start": "538190",
    "end": "553990"
  },
  {
    "text": "So metatheorem two is\nsame kind of setup. ",
    "start": "553990",
    "end": "585769"
  },
  {
    "text": "So slightly different. Yeah.",
    "start": "585770",
    "end": "590920"
  },
  {
    "text": " I'll keep a little\nbit of suspense about why we care about this.",
    "start": "590920",
    "end": "597279"
  },
  {
    "text": "Instead of single-use\npaths, suppose that you could\nbuild tokens, which",
    "start": "597280",
    "end": "604486"
  },
  {
    "text": "are things you can pick up. And for this\nreduction, let's say you can only pick up one at a\ntime, though it won't matter.",
    "start": "604486",
    "end": "610710"
  },
  {
    "text": "And toll roads, where you have\nto pay with a token in order to traverse the edge,\nthis essentially",
    "start": "610710",
    "end": "616410"
  },
  {
    "text": "can be used to simulate\na single-use path, but it's a slightly different\nperspective in that you can",
    "start": "616410",
    "end": "622710"
  },
  {
    "text": "visit an edge if\nyou-- well, what we're going to imagine doing is\nputting tokens at the vertices,",
    "start": "622710",
    "end": "628250"
  },
  {
    "text": "but just one at each vertex. When you pick up that\ntoken, you can then traverse one of\nthe incident edges.",
    "start": "628250",
    "end": "634709"
  },
  {
    "text": "So again, every edge\nwill become a toll road. ",
    "start": "634710",
    "end": "641870"
  },
  {
    "text": "And every vertex will\nbecome a location traversal point that has to be traversed. And it will have one token.",
    "start": "641870",
    "end": "649930"
  },
  {
    "text": "And so you can use this\nsame kind of proof. It's just a\ndifferent perspective on the same kind of thing.",
    "start": "649930",
    "end": "655900"
  },
  {
    "text": "And we can use this to prove\nthat Pac-Man is NP-hard. This is the motivation.",
    "start": "655900",
    "end": "661840"
  },
  {
    "text": "So again, you have to get\nall the dots in Pac-Man. So you, in particular,\nhave to get that one.",
    "start": "661840",
    "end": "667590"
  },
  {
    "text": "When you get that one, this\nedge becomes traversable. So this is a somewhat\ngeneralized version of Tetris.",
    "start": "667590",
    "end": "674370"
  },
  {
    "text": "You have lots of houses for\nthe ghosts, lots of ghosts, obviously. The algorithms that the ghosts\nfollow doesn't matter too much.",
    "start": "674370",
    "end": "682210"
  },
  {
    "text": "The only constraint is that\nghosts change direction if and only if\nthe state changes,",
    "start": "682210",
    "end": "687670"
  },
  {
    "text": "like you turn them into--\nI forget the names of all the modes-- but you turn\nthem into the blue mode",
    "start": "687670",
    "end": "693030"
  },
  {
    "text": "or they turn back, then\nthey will switch direction in their tunnel. And that is the only\nsetting in which",
    "start": "693030",
    "end": "699240"
  },
  {
    "text": "ghosts will reverse direction,\ndouble-back on themselves. They never\ndouble-back otherwise.",
    "start": "699240",
    "end": "705860"
  },
  {
    "text": "And given that setup, if we\nmake these edges really long, we can make sure that the ghosts\nalways stay within their edge,",
    "start": "705860",
    "end": "711750"
  },
  {
    "text": "because you're basically\nalternating between switching the state, turning the\ndirections of the ghosts,",
    "start": "711750",
    "end": "717420"
  },
  {
    "text": "traversing an edge, and then\ndoing it again and again, so that the ghosts always\nsort of go back and forth. If you happen to capture\none, it doesn't really",
    "start": "717420",
    "end": "724340"
  },
  {
    "text": "change its location\nmuch, because it just goes back to the house. But you obviously need one\nof these in your possession.",
    "start": "724340",
    "end": "730730"
  },
  {
    "text": "You end up using\nthe token right away to traverse one of\nthe incident edges, so you can actually get across.",
    "start": "730730",
    "end": "737180"
  },
  {
    "text": "But it's long enough, so that\nby the time you cross over, the ghosts have reset.",
    "start": "737180",
    "end": "742520"
  },
  {
    "text": "So that is metatheorem\ntwo applied to Pac-Man, in case you were wondering.",
    "start": "742520",
    "end": "748330"
  },
  {
    "text": "This is, I think,\nquite clever, to get these things to work out. OK.",
    "start": "748330",
    "end": "754970"
  },
  {
    "text": "NP-hardness, we're used to that. The next metatheorems are\nabout PSPACE-hardness.",
    "start": "754970",
    "end": "760250"
  },
  {
    "text": "And before I get there,\nI need to tell you a little bit about some\nbasic PSPACE-hard problems.",
    "start": "760250",
    "end": "767220"
  },
  {
    "text": "Like, we have SAT and\nHamiltonicity for NP-hardness.",
    "start": "767220",
    "end": "773579"
  },
  {
    "text": "For PSPACE-hardness, there are\na couple of natural problems.",
    "start": "773580",
    "end": "778820"
  },
  {
    "text": "First, let me remind\nyou, because it was lecture one that\nI defined PSPACE, these are all problems\nsolvable in polynomial space.",
    "start": "778820",
    "end": "785665"
  },
  {
    "start": "785665",
    "end": "796570"
  },
  {
    "text": "And so we're measuring\nspace instead of time. This is contained\nin exponential time,",
    "start": "796570",
    "end": "802690"
  },
  {
    "text": "because there are, at most,\nexponentially many states of a polynomial space machine.",
    "start": "802690",
    "end": "808600"
  },
  {
    "text": "And it contains NP. In particular,\nevery NP problem can be simulated on\na PSPACE computer",
    "start": "808600",
    "end": "816780"
  },
  {
    "text": "just by trying all possible\noptions for the guests, but backtracking\nand throwing away the information from\nthe other guests' paths,",
    "start": "816780",
    "end": "823217"
  },
  {
    "text": "and just keeping one bit\nof state, which is, did I find a yes solution yet? So you can turn any NP\nmachine into a PSPACE machine.",
    "start": "823217",
    "end": "832610"
  },
  {
    "text": "So it's somewhere in between. The other fun fact\nis that it equals non-deterministic\npolynomial space.",
    "start": "832610",
    "end": "838485"
  },
  {
    "text": " So non-deterministic\nin the sense of NP.",
    "start": "838485",
    "end": "844680"
  },
  {
    "text": "If you add guessing to a PSPACE\nmachine, that doesn't help you. You can always simulate it\nwith a deterministic machine,",
    "start": "844680",
    "end": "851310"
  },
  {
    "text": "at most, blowing up\nthe space by a square. So if you had SSPACE before,\nyou have S squared space after.",
    "start": "851310",
    "end": "857870"
  },
  {
    "text": " Our polynomials are\nclosed under squaring.",
    "start": "857870",
    "end": "864079"
  },
  {
    "text": "So this is especially useful\nfor showing that a lot of games are in PSPACE. It's a lot easier,\nusually, to give",
    "start": "864080",
    "end": "869326"
  },
  {
    "text": "a non-deterministic\npolynomial space algorithm. You have the freedom to\nguess whenever you like, just",
    "start": "869326",
    "end": "874660"
  },
  {
    "text": "like with proving\ncontainment in NP. And if you prove\ncontainment in NP space,",
    "start": "874660",
    "end": "879949"
  },
  {
    "text": "you are also proving\ncontainment in PSPACE. This is called Savage's theorem. OK.",
    "start": "879950",
    "end": "885320"
  },
  {
    "text": "So that was just some\nrecall from lecture one.",
    "start": "885320",
    "end": "891150"
  },
  {
    "text": "And now let's talk\nabout some sort of base problems,\nPSPACE-complete problems",
    "start": "891150",
    "end": "897790"
  },
  {
    "text": "that we can reduce from. ",
    "start": "897790",
    "end": "908879"
  },
  {
    "text": "I would say the most\nobvious one is to simulate a polynomial space algorithm.",
    "start": "908880",
    "end": "914595"
  },
  {
    "text": " You can relax it\nslightly to say,",
    "start": "914595",
    "end": "921180"
  },
  {
    "text": "simulate a linear space\nalgorithm or a Turing machine,",
    "start": "921180",
    "end": "929360"
  },
  {
    "text": "if you prefer that. Of course, you are\nPSPACE-complete if you can simulate all algorithms\nthat run in polynomial space.",
    "start": "929360",
    "end": "935710"
  },
  {
    "text": "And there are some proofs\nthat work that way. It takes some simple\nmodel of a computer, like a Turing\nmachine, typically.",
    "start": "935710",
    "end": "942199"
  },
  {
    "text": "Like your reading and\nwriting cells on a tape. And you're doing\nwhatever you can do in that linear amount of space.",
    "start": "942200",
    "end": "948449"
  },
  {
    "text": "And just simulate those\ntransitions one at a time. But it's usually pretty\ntedious to do that.",
    "start": "948450",
    "end": "953470"
  },
  {
    "text": "I don't think we will\nsee any proofs directly of simulating a Turing machine.",
    "start": "953470",
    "end": "959550"
  },
  {
    "text": "Usually simpler way to go\nis a problem called Q SAT.",
    "start": "959550",
    "end": "966769"
  },
  {
    "text": "It's actually\nusually called QBF, and sometimes called TQBF,\nand occasionally called Q SAT.",
    "start": "966770",
    "end": "974500"
  },
  {
    "text": "But I'm growing\non the name Q SAT, because we can specify things. It's consistent with\nour naming terminology.",
    "start": "974500",
    "end": "980800"
  },
  {
    "text": "We can say Q 3SAT, and\nwe can say Q 1-in-3SAT, and we can say planar Q SAT. Whereas QBF, usually people\nmean Q 3SAT, I guess.",
    "start": "980800",
    "end": "989870"
  },
  {
    "text": "But this is a little more\nexplicit what kind of SAT we want. So we're adding the letter\nQ, which is Quantified.",
    "start": "989870",
    "end": "997700"
  },
  {
    "text": "So the general problem is,\ngiven a fully quantified Boolean",
    "start": "997700",
    "end": "1003900"
  },
  {
    "text": "formula, you want to\ndecide, is it true?",
    "start": "1003900",
    "end": "1018710"
  },
  {
    "start": "1018710",
    "end": "1024109"
  },
  {
    "text": "That's the T in TQBF,\nif you prefer that term.",
    "start": "1024109",
    "end": "1029349"
  },
  {
    "text": "So for example, here is\na quantified formula. ",
    "start": "1029349",
    "end": "1044085"
  },
  {
    "text": "It took me a little\nthinking to come up with one that is actually true\nand in not a quite trivial way.",
    "start": "1044086",
    "end": "1050980"
  },
  {
    "text": "This is a 2SAT formula. And so in particular,\nyou can read this as x implies y, and y implies x.",
    "start": "1050980",
    "end": "1059350"
  },
  {
    "text": "And we're saying\nfor every x, there is a y, such that\nthis is satisfied. And that's true. Namely, y equals x would\nbe the correct choice.",
    "start": "1059350",
    "end": "1067589"
  },
  {
    "text": "But it's not totally\nobvious, given that formula, that it's true. And in general, given\nsuch a formula-- probably not with 2SAT in here,\nbut with 3SAT formula--",
    "start": "1067589",
    "end": "1075950"
  },
  {
    "text": "it's going to be\nPSPACE-complete. To contrast with SAT,\nessentially, there",
    "start": "1075950",
    "end": "1081520"
  },
  {
    "text": "are a bunch of There\nExists at the beginning. With Q SAT, you can have For\nAlls in addition to Exists.",
    "start": "1081520",
    "end": "1087530"
  },
  {
    "text": "That's what we're changing. And we can simplify\nthings a little bit.",
    "start": "1087530",
    "end": "1095090"
  },
  {
    "text": " We can assume a\nprenex form, which",
    "start": "1095090",
    "end": "1104600"
  },
  {
    "text": "just means that all\nthe quantifiers are in the beginning, and then\nwe have a 3SAT formula, or whatever.",
    "start": "1104600",
    "end": "1111440"
  },
  {
    "text": "And we can assume that\nthe quantifiers alternate",
    "start": "1111440",
    "end": "1117309"
  },
  {
    "text": "between For All and There Exists\njust by adding in extra dummies",
    "start": "1117310",
    "end": "1124503"
  },
  {
    "text": "if we happen to use a\nbunch of For Alls in a row or a bunch of There\nExists in a row. But really, the hard case is\nwhen you have lots of both,",
    "start": "1124503",
    "end": "1130850"
  },
  {
    "text": "and they are interwoven. So it's not enough\nto look at formulas that have a bunch of For Alls\nand then a bunch of Exists.",
    "start": "1130850",
    "end": "1137847"
  },
  {
    "text": "You have to think\nabout the case where there are lots of\nalternations between the two. ",
    "start": "1137847",
    "end": "1143559"
  },
  {
    "text": "We'll talk more about that when\nwe get to two-player games, because that relates\nto two-player games. But for now, we're going to\nstick to one-player games.",
    "start": "1143560",
    "end": "1151110"
  },
  {
    "text": "And this is just something\nwe need to simulate by our single player. ",
    "start": "1151110",
    "end": "1158120"
  },
  {
    "text": "So now the question is, what\nforms can this formula take? Because we have lots of forms\nof SAT that we know are hard.",
    "start": "1158120",
    "end": "1165429"
  },
  {
    "text": "And pretty much all of them\nremain hard in this setting as well, when you add\nin the quantifiers.",
    "start": "1165430",
    "end": "1171350"
  },
  {
    "text": "And in fact, there is a\nSchaefer-style dichotomy theorem, like we\nhad with SAT and NP.",
    "start": "1171350",
    "end": "1190150"
  },
  {
    "text": "And basically,\nthis quantified SAT is polynomial if and only if\nthe types of clauses you allow",
    "start": "1190150",
    "end": "1197810"
  },
  {
    "text": "are all Horn clauses, or\nall dual-Horn clauses, or all 2SAT clauses, or a system\nof linear equalities mod 2 X",
    "start": "1197810",
    "end": "1211659"
  },
  {
    "text": "or and x nor\nquality constraints. Those could all\nbe solved before.",
    "start": "1211660",
    "end": "1217630"
  },
  {
    "text": "They can still be solved in\nthis setting in polynomial time, even with alternating\nquantifiers.",
    "start": "1217630",
    "end": "1223300"
  },
  {
    "text": "So that's cool. However, it is no\nlonger polynomial time if your clauses are satisfied\nwhen you set the variables all",
    "start": "1223300",
    "end": "1230420"
  },
  {
    "text": "true or all false. Because we have these For All\nquantifiers now, being all true",
    "start": "1230420",
    "end": "1236380"
  },
  {
    "text": "is not the panacea\nthat it was before.",
    "start": "1236380",
    "end": "1241510"
  },
  {
    "text": "So that's one case. And otherwise, you\nare PSPACE-complete. All other versions of SAT\nare PSPACE-complete-- sorry,",
    "start": "1241510",
    "end": "1249140"
  },
  {
    "text": "of Q SAT. So it's almost the same\nas the Schaefer theorem, but there's one\ncase that differs.",
    "start": "1249140",
    "end": "1257830"
  },
  {
    "text": "It's hard where\nit wasn't before. So that's cool for general,\nfrom a formula perspective.",
    "start": "1257830",
    "end": "1267490"
  },
  {
    "text": "But we, of course,\ntypically care about planar bipartite graphs\nexpressing those clauses",
    "start": "1267490",
    "end": "1273720"
  },
  {
    "text": "and their variables. And good news is\neverything works as before.",
    "start": "1273720",
    "end": "1279030"
  },
  {
    "text": "So planar Q SAT and planar\n1-in-3 Q SAT are hard.",
    "start": "1279030",
    "end": "1288850"
  },
  {
    "text": "Planar not all equal. Q SAT is also going to be\neasy like it was before.",
    "start": "1288850",
    "end": "1295890"
  },
  {
    "text": "But planar Q SAT, we can use\nthe usual crossover gadget.",
    "start": "1295890",
    "end": "1301010"
  },
  {
    "text": "What that crossover\ngadget does, it forces some variables\nto be the same, but it also creates\nnew variables.",
    "start": "1301010",
    "end": "1307100"
  },
  {
    "text": "And those variables\nneed to be quantified. All you need to do to\nsimulate our old proof is put a whole bunch of\nexistential quantifiers",
    "start": "1307100",
    "end": "1314120"
  },
  {
    "text": "at the end of the\nquantifier list. So for every new\nvariable you create, you put There Exists at the\nend for those variables.",
    "start": "1314120",
    "end": "1320510"
  },
  {
    "text": "And we know those\nvariables are forced to be equal to other copies of\nvariables that are given to us.",
    "start": "1320510",
    "end": "1328010"
  },
  {
    "text": "And so it stimulates the\nold planar SAT proof, but in a quantified setting.",
    "start": "1328010",
    "end": "1333750"
  },
  {
    "text": "And that was actually\ndone by Lichtenstein in the original\nplanar SAT paper.",
    "start": "1333750",
    "end": "1338779"
  },
  {
    "text": "It also talked\nabout planar Q SAT. And then once you have\nthis problem is hard,",
    "start": "1338780",
    "end": "1343980"
  },
  {
    "text": "the same reaction we had for\n1-in-3 Q SAT also just works. So with the same idea.",
    "start": "1343980",
    "end": "1353580"
  },
  {
    "text": "So there are some base problems. Now we can do so reductions.",
    "start": "1353580",
    "end": "1358730"
  },
  {
    "text": "First we'll prove a theorem. And then we'll apply\nthat metatheorem to a bunch of different games.",
    "start": "1358730",
    "end": "1365730"
  },
  {
    "text": " One-player games. ",
    "start": "1365730",
    "end": "1382830"
  },
  {
    "text": "So for next metatheorem, we're\ngoing to have a similar setup.",
    "start": "1382830",
    "end": "1388710"
  },
  {
    "text": " We're traversing a\nplanar environment.",
    "start": "1388710",
    "end": "1393910"
  },
  {
    "text": " But this time we are\ngiven a start location",
    "start": "1393910",
    "end": "1401330"
  },
  {
    "text": "and a destination. ",
    "start": "1401330",
    "end": "1410420"
  },
  {
    "text": "Because we're no longer going\nto have the location traversal goal, we need to add\nsome kind of goal.",
    "start": "1410420",
    "end": "1415970"
  },
  {
    "text": "Otherwise, you've solved\nthe game by starting. [LAUGHTER]  So it's a path traversal.",
    "start": "1415970",
    "end": "1421529"
  },
  {
    "text": "Get from A to B. And\nwhat we're going to need",
    "start": "1421530",
    "end": "1428680"
  },
  {
    "text": "is a door plus a pressure plate.",
    "start": "1428680",
    "end": "1434400"
  },
  {
    "start": "1434400",
    "end": "1442830"
  },
  {
    "text": "So the idea is that there\nis an obstacle, a door, which is either open or closed.",
    "start": "1442830",
    "end": "1449600"
  },
  {
    "text": "And there's a\npressure plate, where if you step on a pressure\nplate marked open--",
    "start": "1449600",
    "end": "1456740"
  },
  {
    "text": "so you're walking\nalong here, you step on this square,\nthat will open this door and make it traversable.",
    "start": "1456740",
    "end": "1463049"
  },
  {
    "text": "As you go across it, you're\nforced to open the door. And there's going to be another\npressure plate marked closed,",
    "start": "1463050",
    "end": "1470670"
  },
  {
    "text": "which, as you traverse it,\nyou step on that plate, it forces the door to close. So in order to get to\nthe other side here,",
    "start": "1470670",
    "end": "1477360"
  },
  {
    "text": "usually this is in\nsome kind of tunnel. So in order to get from\nthis side to this side, you must close this door.",
    "start": "1477360",
    "end": "1484130"
  },
  {
    "text": "And we have more than one. So there are many such doors. ",
    "start": "1484130",
    "end": "1489770"
  },
  {
    "text": "I'll say A, B, C.\nAnd this is going to say Open A. This is\ngoing to say Close B.",
    "start": "1489770",
    "end": "1497230"
  },
  {
    "text": "And we can furthermore\nassume that there's exactly one open and exactly\none close for each door.",
    "start": "1497230",
    "end": "1504536"
  },
  {
    "text": "OK? So maybe I should\nhave written A here. So this is the\ncomplete story for A.",
    "start": "1504536",
    "end": "1510749"
  },
  {
    "text": "And there's a similar open and\nclose for B, an open and close for C. And otherwise,\nyou can just walk around.",
    "start": "1510749",
    "end": "1516380"
  },
  {
    "text": "And your goal is to\nget to destinations. Sounds pretty simple. And this is a very\npowerful metatheorem.",
    "start": "1516380",
    "end": "1521590"
  },
  {
    "text": "This is PSPACE-complete. This applies to a lot of games.",
    "start": "1521590",
    "end": "1527130"
  },
  {
    "start": "1527130",
    "end": "1533310"
  },
  {
    "text": "But before I get to what\ngames it applies to, let's prove that this is indeed\nPSPACE-complete by a reduction",
    "start": "1533310",
    "end": "1540720"
  },
  {
    "text": "from Q 3SAT. ",
    "start": "1540720",
    "end": "1549760"
  },
  {
    "text": "We won't even need planar here. We won't need planar,\nbecause we can",
    "start": "1549760",
    "end": "1555730"
  },
  {
    "text": "open doors kind of remotely. When I step on this button,\nwhich could be far, far away, I open this door.",
    "start": "1555730",
    "end": "1560919"
  },
  {
    "text": "So effectively, the connections\nbetween variables and clauses can be crossing.",
    "start": "1560920",
    "end": "1566779"
  },
  {
    "text": "There's no restriction\non that here. ",
    "start": "1566780",
    "end": "1579810"
  },
  {
    "text": "So you're going to see a few\ndifferent proofs like this. We'll see others\nin future lectures.",
    "start": "1579810",
    "end": "1585600"
  },
  {
    "text": "But this is a typical prototype\nfor how to reduce from Q3SAT. You have your start location,\nyou have your finish location.",
    "start": "1585600",
    "end": "1592670"
  },
  {
    "text": "Your goal is to\ntraverse this thing. It's sort of like a circuit. And then you have these blocks\nwhich represent quantifiers.",
    "start": "1592670",
    "end": "1600180"
  },
  {
    "text": "We'll talk about\nthose in a moment. In the end, you exit here. And you have to satisfy\nthis formula in order",
    "start": "1600180",
    "end": "1606330"
  },
  {
    "text": "to get through. If you get through, then you are\nable to enter this quantifier",
    "start": "1606330",
    "end": "1614710"
  },
  {
    "text": "gadget. And these are kind of\nin a nested structure. You can think of this\nquantifier gadget as calling this one by\ntraversing this path.",
    "start": "1614710",
    "end": "1622780"
  },
  {
    "text": "You're recursively calling\nthe rest of the formula. And then this is sort\nof the return value. Yes, I did it.",
    "start": "1622780",
    "end": "1628190"
  },
  {
    "text": "I succeeded, I got a yes.  So for the existential\nquantifier,",
    "start": "1628190",
    "end": "1633700"
  },
  {
    "text": "what this is essentially\ndoing is, say, OK, I don't know what\nx is going to be, I'm going to let\nthe player decide",
    "start": "1633700",
    "end": "1639149"
  },
  {
    "text": "between two different paths. Set x to true or set x to false. So there'll be two\nways to go here.",
    "start": "1639150",
    "end": "1645400"
  },
  {
    "text": "And then you'll exit\nalong the same path. But x will be set\none way or the other.",
    "start": "1645400",
    "end": "1650429"
  },
  {
    "text": "Recursively, you want\nthat formula to be true. And if that happens,\nthen the player will be able to come back here.",
    "start": "1650430",
    "end": "1656040"
  },
  {
    "text": "And if you successfully set the\nrest of the formula to be true,",
    "start": "1656040",
    "end": "1661920"
  },
  {
    "text": "then it means the\noverall formula is true, because you just wanted to check\nthat there was at least one setting for x that made it true.",
    "start": "1661920",
    "end": "1667410"
  },
  {
    "text": "And so this is just\na direct connection. On the other hand, for\nthe universal quantifier,",
    "start": "1667410",
    "end": "1673530"
  },
  {
    "text": "this a little bit trickier. And it's drawn at a\nvery high level here. You need to check\nboth settings of y.",
    "start": "1673530",
    "end": "1680740"
  },
  {
    "text": "So what you're going\nto end up doing is if you enter\nthis gadget, you're first going to set y to\ntrue and exit out here.",
    "start": "1680740",
    "end": "1690330"
  },
  {
    "text": "And then recursively,\nthe rest better be true. If it is, you come back here.",
    "start": "1690330",
    "end": "1695380"
  },
  {
    "text": "When you come back\nhere, you mark the fact that you got one\nsetting correct. Then you set y to false,\nor the other setting.",
    "start": "1695380",
    "end": "1702450"
  },
  {
    "text": "And then you go out here again. And if the formula\nis again true, you'd be able to come back.",
    "start": "1702450",
    "end": "1708230"
  },
  {
    "text": "And if you've accumulated\ntwo correct answers internal to this gadget, you know that\nthe overall formula is true,",
    "start": "1708230",
    "end": "1714360"
  },
  {
    "text": "with a universal\nquantifier here. And then you'll be able to\nreturn out to the caller.",
    "start": "1714360",
    "end": "1720280"
  },
  {
    "text": "So that's sort of the\nrecursive algorithm view of what's going on here. Let's do that with\npressure plates.",
    "start": "1720280",
    "end": "1727990"
  },
  {
    "text": "So it looks a little bit messy,\nbut the idea is very simple. It's to implement\nexactly what I said.",
    "start": "1727990",
    "end": "1733620"
  },
  {
    "text": "First, these clause gadgets,\nthese are 3SAT clauses. And what we're going to do\nis just have three doors,",
    "start": "1733620",
    "end": "1740290"
  },
  {
    "text": "and you have to-- this is drawn\nin the reverse order of what it should be. It's going right\nto left usually, but it also works in\nthe other direction.",
    "start": "1740290",
    "end": "1747090"
  },
  {
    "text": "If any of these doors is open,\nyou can get to the other side. And in order to get\nthrough all of them, all the clauses\nmust be satisfied.",
    "start": "1747090",
    "end": "1753760"
  },
  {
    "text": "So that's the 3SAT part. Really easy in this setting. Where door open means that\nthe variable was set true.",
    "start": "1753760",
    "end": "1760210"
  },
  {
    "text": "In fact, we will have both\nan xi and an xi bar door.",
    "start": "1760210",
    "end": "1765640"
  },
  {
    "text": "And so you use the\ncorresponding literals there. ",
    "start": "1765640",
    "end": "1773331"
  },
  {
    "text": "Cool. So now this is an existential\nquantifier, an easier case",
    "start": "1773331",
    "end": "1778659"
  },
  {
    "text": "to think about. So let's say we come in\nfrom the left, as in here.",
    "start": "1778660",
    "end": "1783730"
  },
  {
    "text": "And that's coming into\nthis part of the gadget. And we have to give\nthe player a choice. They can either take the\ntop path or the bottom path.",
    "start": "1783730",
    "end": "1790560"
  },
  {
    "text": "Now, there's a worry that maybe\nyou go a little bit this way and then double-back. But that's not going\nto be possible.",
    "start": "1790560",
    "end": "1795839"
  },
  {
    "text": "We need to argue that. And negative means close,\nand positive means open.",
    "start": "1795839",
    "end": "1802220"
  },
  {
    "text": "So if I come in here, the first\nthing I do is close the A door. That's going to prevent\nme from later coming back",
    "start": "1802220",
    "end": "1809640"
  },
  {
    "text": "through this way. I can only have one\ndoor for each button. But I want a literal to be\nable to appear in many classes.",
    "start": "1809640",
    "end": "1819080"
  },
  {
    "text": "So in fact, I'm going to have\nseveral copies of x here. So this is the first\noccurrence of x1 bar,",
    "start": "1819080",
    "end": "1825019"
  },
  {
    "text": "and the first occurrence\nof x2 bar, and so on. I want to open all\nof those doors, so I can use individual copies\nof the variable up there.",
    "start": "1825020",
    "end": "1834180"
  },
  {
    "text": "And then I'm going to close all\nof the positive versions of x. This corresponds to\nsetting x to false.",
    "start": "1834180",
    "end": "1840550"
  },
  {
    "text": "And then at the very\nend, I open the B door, which lets me go through here. ",
    "start": "1840550",
    "end": "1849044"
  },
  {
    "text": "The reason you can't\nmess up this gadget is if I went part way\nand then doubled back, I would immediately\nclose the B door,",
    "start": "1849044",
    "end": "1855090"
  },
  {
    "text": "which means I can't really\nexit this way, which means I'm going to have to\ngo all the way through here and reset all of the variables.",
    "start": "1855090",
    "end": "1861210"
  },
  {
    "text": "And this is exactly\nthe complement of this. And so exactly one of these\nwill be fully traversed.",
    "start": "1861210",
    "end": "1867830"
  },
  {
    "text": "The other one will be nullified. And then that corresponds\nto existential quantifier.",
    "start": "1867830",
    "end": "1873370"
  },
  {
    "text": "Question? AUDIENCE: The doors\nstart in a closed state? PROFESSOR: Let's say all the\ndoors start in a closed state.",
    "start": "1873370",
    "end": "1878780"
  },
  {
    "text": "Although, I don't think-- AUDIENCE: Can you close\nthings more than once? PROFESSOR: Yeah. Sorry. One important thing is if\nyou click on Open when it's",
    "start": "1878780",
    "end": "1886410"
  },
  {
    "text": "already open, nothing happens. If you click on Close\nwhen it's already closed, nothing happened. So you can close multiple times.",
    "start": "1886410",
    "end": "1892369"
  },
  {
    "text": "It doesn't make it more closed. It's just closed. AUDIENCE: Stepping\non the Close and then going back and opening\nB seems to work?",
    "start": "1892369",
    "end": "1900289"
  },
  {
    "text": "PROFESSOR: So you could do some\nof this and then double-back. You're right. B will open up again. But by traversing all of these,\nyou undo all of the things",
    "start": "1900290",
    "end": "1907820"
  },
  {
    "text": "you did up there, because\nthese are complementary. So you've fully traversed one\nas the last thing you did.",
    "start": "1907820",
    "end": "1913340"
  },
  {
    "text": "That's going to be\nthe one that sticks. Yeah. So that's pretty nice.",
    "start": "1913340",
    "end": "1919760"
  },
  {
    "text": "And on the other hand, here\nis a universal quantifier. Not that much harder.",
    "start": "1919760",
    "end": "1925275"
  },
  {
    "text": "But this is\nessentially-- there's one door inside here\nwhich is keeping track of, am I going through this\nfor the second time?",
    "start": "1925275",
    "end": "1932520"
  },
  {
    "text": "So in this case,\nthere's no choice. We just have to\ntry both settings. The first thing we do\nis set x to be true.",
    "start": "1932520",
    "end": "1940080"
  },
  {
    "text": "That's this setting. And we also open\ndoor-- or sorry, we close door D. Oh, right.",
    "start": "1940080",
    "end": "1946510"
  },
  {
    "text": "Sorry. Your other question is, do the\ndoors start open or closed? I don't think it\nmatters, because we have these close things in\nthe beginning, essentially,",
    "start": "1946510",
    "end": "1953860"
  },
  {
    "text": "everything gets closed\nat the beginning. So here we're going to close\nD, which is our final exit. That's where we want to get.",
    "start": "1953860",
    "end": "1959096"
  },
  {
    "text": "So that's going to be hard. We have to get to\nthe open D spot. Then we set x to our setting.",
    "start": "1959096",
    "end": "1965760"
  },
  {
    "text": "Then we open A. And now\nwe're allowed to go here. You could try to go\nthis way, but it's just",
    "start": "1965760",
    "end": "1971340"
  },
  {
    "text": "going to close a couple doors. So it doesn't really help you. So we recursively call\nthe thing with x true.",
    "start": "1971340",
    "end": "1977300"
  },
  {
    "text": "If it comes back with the\nthing being satisfied, we can't go through here,\nbecause D is closed.",
    "start": "1977300",
    "end": "1983980"
  },
  {
    "text": "So we're going to have\nto go through here. We open B. We\nimmediately go through B. We immediately close B. So it's\nlike that's a one-way gadget.",
    "start": "1983980",
    "end": "1992750"
  },
  {
    "text": "Now we set x to false, the\nopposite of this thing. And we can't go backwards,\nbecause B is closed.",
    "start": "1992750",
    "end": "1999929"
  },
  {
    "text": "Now we open D. So if we\ncan get through again, we'll be able to exit. We can't immediately turn back,\nbecause again, B is closed.",
    "start": "1999930",
    "end": "2007540"
  },
  {
    "text": "We open C, visit C, close C.\nSo another one-way gadget. And we also close A to\nprevent other weird things",
    "start": "2007540",
    "end": "2014210"
  },
  {
    "text": "from happening. So now we go through again. If we get back with D open, then\nwe can return and we're happy.",
    "start": "2014210",
    "end": "2021600"
  },
  {
    "text": "And this gadget in the actual\nconstruction, keep in mind, what's happening\nhere is we are making",
    "start": "2021600",
    "end": "2026770"
  },
  {
    "text": "an exponential-length puzzle. The length of the solution\nis going to be exponential, because you have to try\nboth settings of all",
    "start": "2026770",
    "end": "2033670"
  },
  {
    "text": "the universal quantifiers. So any gadget is going to be\nvisited many, many, many times. But each time, we're completely\nresetting x, resetting x again,",
    "start": "2033670",
    "end": "2042549"
  },
  {
    "text": "and then returning. So we'll revisit, will\nreset x to true, and then later to false, and so on.",
    "start": "2042550",
    "end": "2048940"
  },
  {
    "text": "But we are checking all the\npossible assignments for here. And we're letting the player\nnon-deterministically guess",
    "start": "2048940",
    "end": "2055040"
  },
  {
    "text": "assignment for the\nexistential quantifiers.",
    "start": "2055040",
    "end": "2060158"
  },
  {
    "text": "So that is pressure\nplates in the abstract PSPACE-completeness.",
    "start": "2060159",
    "end": "2065651"
  },
  {
    "text": "AUDIENCE: Sorry for\nanother question. In our usual sense of\nreduction, you usually think of a polynomial\nsize thing that we make.",
    "start": "2065652",
    "end": "2073564"
  },
  {
    "text": "PROFESSOR: Good. Yeah. I didn't mention\nit, but there are different notions of reductions\nfor PSPACE-completeness.",
    "start": "2073564",
    "end": "2080672"
  },
  {
    "text": "But for the most\npart, we will just use the same notion of\nreduction we did before, which is the running\ntime of the reduction",
    "start": "2080672",
    "end": "2087850"
  },
  {
    "text": "should be polynomial time. So here we're given a\nformula which is expressed in this kind of succinct form.",
    "start": "2087850",
    "end": "2094940"
  },
  {
    "text": "And we're producing\na level whose size is polynomial in that.",
    "start": "2094940",
    "end": "2100250"
  },
  {
    "text": "Now, the actual\nexecution of the game,",
    "start": "2100250",
    "end": "2105580"
  },
  {
    "text": "the trace of what happens,\nor the certificate that is solvable, that has\nexponential length.",
    "start": "2105580",
    "end": "2111150"
  },
  {
    "text": "But we're not talking\nabout MP here, so we don't need\npolynomial certificates. But the reduction\nitself is polynomial.",
    "start": "2111150",
    "end": "2117220"
  },
  {
    "text": "And again, of course, you need\nto preserve the yes/no answer. So that's our\nnotion of reduction.",
    "start": "2117220",
    "end": "2123030"
  },
  {
    "text": "Question? AUDIENCE: Is there a way\nto make this reduction work where you just\nhave toggle plates rather than-- so that they're\nnot marked with Open or Closed,",
    "start": "2123030",
    "end": "2130200"
  },
  {
    "text": "but just change the\nstate of the door? ",
    "start": "2130200",
    "end": "2137297"
  },
  {
    "text": "PROFESSOR: Let's come\nback to your question. I have a proof that\ndoes essentially that. I was wondering the same thing,\nbut I'm not totally sure.",
    "start": "2137297",
    "end": "2145140"
  },
  {
    "text": "So let's come back to that and\ntry to figure out the answer. So this applies to\nmany, many, many games.",
    "start": "2145140",
    "end": "2155420"
  },
  {
    "text": "Here is an example of an\nRPG, one of the earliest-- Eye of the Beholder. I think it's officially\nDND-licensed.",
    "start": "2155420",
    "end": "2162150"
  },
  {
    "text": "It has a small number\nof pressure plates. Here you are. You touch the pressure\nplate, and this door opens.",
    "start": "2162150",
    "end": "2168784"
  },
  {
    "text": "Ta-da!  We don't know to what\nextent these things exist,",
    "start": "2168784",
    "end": "2174860"
  },
  {
    "text": "but reasonable to\nassume you have this kind of infrastructure. And then PSPACE-complete.",
    "start": "2174860",
    "end": "2180630"
  },
  {
    "text": "Even back in the early '90s. A lot of first-person\nshooters have pressure plates.",
    "start": "2180630",
    "end": "2187590"
  },
  {
    "text": "Doom doesn't have\nliteral pressure plates, but it has triggers. There's like walls that\nif you walk through them,",
    "start": "2187590",
    "end": "2194060"
  },
  {
    "text": "something happens. A block can appear, or\na monster can appear. If you make a block appear, that\nwill essentially close a door.",
    "start": "2194060",
    "end": "2199370"
  },
  {
    "text": "If you make a block\ndisappear, which is also possible on the\ngeneral script editor, then you can do\nall this in Doom.",
    "start": "2199370",
    "end": "2206170"
  },
  {
    "text": "Quake is the first\none I know that has actual physical representations\nof a pressure plate.",
    "start": "2206170",
    "end": "2211308"
  },
  {
    "text": "You touch this-- it's\na little hard to see, but this drawbridge is opening.",
    "start": "2211309",
    "end": "2216320"
  },
  {
    "text": "And a little more far. Adventure games.",
    "start": "2216320",
    "end": "2221560"
  },
  {
    "text": "It's hard to define the\ngeneralization of an adventure game, but one definition\nis that there's",
    "start": "2221560",
    "end": "2227920"
  },
  {
    "text": "an older engine for\nadventure games called SCUMM for all the old Sierra games. This, I think, stands\nfor Maniac Mansion.",
    "start": "2227920",
    "end": "2235977"
  },
  {
    "text": "That was the original\ngame they read it for. But if you ever played Monkey\nIsland or Space Quest XII,",
    "start": "2235977",
    "end": "2241130"
  },
  {
    "text": "which that doesn't exist. But there was Space\nQuest IV where they time-traveled to the future\nand played Space Quest XII.",
    "start": "2241130",
    "end": "2248594"
  },
  {
    "text": "It's a very good\ngame, by the way.  A lot of these are actually\nfreely available now.",
    "start": "2248594",
    "end": "2256270"
  },
  {
    "text": "And anyway, it's an engine. It has a very restricted\nset of scripting languages.",
    "start": "2256270",
    "end": "2261680"
  },
  {
    "text": "And in particular, it\nlets you do, effectively, the style of pressure\nplate things, where if you talk to\nsomeone, then they",
    "start": "2261680",
    "end": "2267810"
  },
  {
    "text": "make you go to a new\nplace, and they open up some other traversal\noptions, or vice versa. So you have to take this\na little bit liberally,",
    "start": "2267810",
    "end": "2276490"
  },
  {
    "text": "but you can\nessentially implement these kinds of things,\nbecause you have rooms. Here you don't even\nneed planarity,",
    "start": "2276490",
    "end": "2283350"
  },
  {
    "text": "and you can implement\npressure plates. So that's cool. A little more literally\npressure plates.",
    "start": "2283350",
    "end": "2290760"
  },
  {
    "text": "Prince of Persia, one of the\nfirst platform PC video games,",
    "start": "2290760",
    "end": "2295950"
  },
  {
    "text": "I guess. I don't know exactly\nthe right qualifiers. This, I think, they\neven did motion capture.",
    "start": "2295950",
    "end": "2301119"
  },
  {
    "text": "It's one of the first\ninstances of motion capture for video games in the very\nearly days of graphics.",
    "start": "2301119",
    "end": "2306726"
  },
  {
    "text": "And you see in particular, this\nwas a pressure plate literally that opens up that door.",
    "start": "2306727",
    "end": "2312360"
  },
  {
    "text": "So that's pretty cool. One catch is that pressure\nplates-- in this game, you can jump, so maybe\nyou skip a pressure plate.",
    "start": "2312360",
    "end": "2320400"
  },
  {
    "text": "But if you put a pressure\nplate on the top of a ledge that you have to climb up, that\nwill force you to touch it. So that's Prince of\nPersia, PSPACE-complete.",
    "start": "2320400",
    "end": "2328740"
  },
  {
    "text": " All of these games pretty\nmuch are in PSPACE,",
    "start": "2328740",
    "end": "2335200"
  },
  {
    "text": "because the state of the\ngame is some polynomial space thing-- which things have been\npressed, or opened, or closed.",
    "start": "2335200",
    "end": "2342130"
  },
  {
    "text": "The total space of the\ngame is usually polynomial. Each thing has some,\nat most, linear number",
    "start": "2342130",
    "end": "2347850"
  },
  {
    "text": "of bits of states. So the overall\nthing is polynomial. Or I should say\nconstant number of bits.",
    "start": "2347850",
    "end": "2353827"
  },
  {
    "text": "That doesn't matter. I get to take a log. And so you're just traversing\nthis giant state machine.",
    "start": "2353827",
    "end": "2359385"
  },
  {
    "text": " To store the current\nstate of the game only requires polynomial space.",
    "start": "2359385",
    "end": "2366270"
  },
  {
    "text": "And at best, you're making\na non-deterministic choice at each step, of whether I push\nthis button, or that button, or wait.",
    "start": "2366270",
    "end": "2372700"
  },
  {
    "text": "As long as you\ndiscretize time, you get an easy NPSPACE\nalgorithm for pretty much all single-player video games.",
    "start": "2372700",
    "end": "2378550"
  },
  {
    "text": "Not quite all, but all the\nones I've talked about here. Cool.",
    "start": "2378550",
    "end": "2385160"
  },
  {
    "text": "So that is metatheorem three. But this issue of having to\nforce someone to pressure plate",
    "start": "2385160",
    "end": "2397280"
  },
  {
    "text": "is a little bit restrictive. And that you can\ndefinitely get rid of. And this is what Giovanni calls\nbuttons in metatheorem four.",
    "start": "2397280",
    "end": "2406350"
  },
  {
    "start": "2406350",
    "end": "2432185"
  },
  {
    "text": "If instead of doors\nand pressure plates you have doors and buttons,\nyou get PSPACE-completeness. Now, this is a little\nbit more restrictive",
    "start": "2432185",
    "end": "2438740"
  },
  {
    "text": "in that we're going to allow\na button to, let's say,",
    "start": "2438740",
    "end": "2449640"
  },
  {
    "text": "open or close three doors.",
    "start": "2449640",
    "end": "2455890"
  },
  {
    "text": "So pressing one button\nhas a bulk effect. It affects three things at once. This has since been\nimproved down to two.",
    "start": "2455890",
    "end": "2463152"
  },
  {
    "text": "But that hasn't\nbeen published yet. So I am going to cover the\npublished version, which",
    "start": "2463152",
    "end": "2468720"
  },
  {
    "text": "is this one, where\nyou manipulate three doors for every\nbutton that you press. And here we're drawing\nit with the buttons",
    "start": "2468720",
    "end": "2475190"
  },
  {
    "text": "on the sides of the walls. There are many, of course,\nphysical manifestations of this. And the proof is a reduction\nfrom pressure plates.",
    "start": "2475190",
    "end": "2483000"
  },
  {
    "text": "Question? AUDIENCE: The buttons are\nallowed to close one door and open another? PROFESSOR: Yes.",
    "start": "2483000",
    "end": "2488290"
  },
  {
    "text": "So you can see that here. One button will close\nsome doors, open others. ",
    "start": "2488290",
    "end": "2494415"
  },
  {
    "text": "This is one gadget. Here's the gadget\non the top-left, and this is a sample\nexecution going left to right.",
    "start": "2494415",
    "end": "2500849"
  },
  {
    "text": "This simulates a pressure plate. And in this case, you\ncan enter from the left",
    "start": "2500850",
    "end": "2506030"
  },
  {
    "text": "and go to the right,\nor vice versa. Although, in the proof, we\nactually only need one of those traversals. So you could just stick with\nthe top half of the gadget.",
    "start": "2506030",
    "end": "2515140"
  },
  {
    "text": "And the white means open,\nthe black means closed here. So the initial state is supposed\nto be A is open, B is closed,",
    "start": "2515140",
    "end": "2521460"
  },
  {
    "text": "C is closed. So you come in here. If you want to\ntraverse, you have to hit one of these buttons.",
    "start": "2521460",
    "end": "2527580"
  },
  {
    "text": "Let's say you hit the top one. And we're going to\ndo this plus or minus x, which is the actual thing\nyou wanted this pressure plate",
    "start": "2527580",
    "end": "2535580"
  },
  {
    "text": "to do-- open or close door x. If this wasn't open for x,\nthere would be a plus x here.",
    "start": "2535580",
    "end": "2542000"
  },
  {
    "text": "But then also, we\nwill close the door we just came through\nand open the door to go to the next spot. Then you go to the next spot.",
    "start": "2542000",
    "end": "2548170"
  },
  {
    "text": "Let's say you press\nthe bottom button.  Because that opens C. And\nyou want to go forward.",
    "start": "2548170",
    "end": "2555754"
  },
  {
    "text": "So it's the only\none that opens C. This one would have\nclosed C. And we also closed D and opened B, which\ngets us to the next stage.",
    "start": "2555754",
    "end": "2563582"
  },
  {
    "text": "And let's say we\npress this button, because this is the only\none that opens D. Then we close C and open A.\nThe point of that",
    "start": "2563582",
    "end": "2570570"
  },
  {
    "text": "is to reset the gadget to\nits original state of open, closed, closed, open.",
    "start": "2570570",
    "end": "2575990"
  },
  {
    "text": "And then along the way, we\nalso activated x in the way",
    "start": "2575990",
    "end": "2581070"
  },
  {
    "text": "that we wanted it\nto be activated. So that was pretty easy.",
    "start": "2581070",
    "end": "2586210"
  },
  {
    "text": "Now we have buttons which\nyou can press or not. But when you press them, it\nactivates three things at once.",
    "start": "2586210",
    "end": "2594240"
  },
  {
    "text": "And this also exists\nin many video games. Here were a few that I found. We have the original\nTomb Raider,",
    "start": "2594240",
    "end": "2601862"
  },
  {
    "text": "and I think all the\nTomb Raiders probably have some notion of switch,\nwhich opens, in this case, one door. But you could imagine\ngeneralizing to more doors.",
    "start": "2601862",
    "end": "2609690"
  },
  {
    "text": "We have Sonic the Hedgehog here. When you press that\nbutton, it opens that door. You can use that to\nsimulate the same effect.",
    "start": "2609690",
    "end": "2615859"
  },
  {
    "text": "And this game,\nLost Vikings, which I barely remember\nplaying, but I do remember in particular that\nthe main character here",
    "start": "2615860",
    "end": "2622329"
  },
  {
    "text": "is called Erik the Swift. [LAUGHTER] And you see him pressing a\nbutton which, in this case,",
    "start": "2622330",
    "end": "2628170"
  },
  {
    "text": "actually opens two doors. So that's pretty compelling.",
    "start": "2628170",
    "end": "2633770"
  },
  {
    "text": "And in general, tons\nof video-- I mean, almost every video game\nwith some puzzle element has buttons in it.",
    "start": "2633770",
    "end": "2639500"
  },
  {
    "text": "So now you know a ton of video\ngames that are PSPACE-complete. ",
    "start": "2639500",
    "end": "2645990"
  },
  {
    "text": "Questions?  All right. So the next metatheorem\nis going to be",
    "start": "2645990",
    "end": "2656020"
  },
  {
    "text": "a specific kind\nof implementation of that same construction.",
    "start": "2656020",
    "end": "2661800"
  },
  {
    "text": "It's more of a physical\nrealization of a door. It's a door that can\nbe opened or closed.",
    "start": "2661800",
    "end": "2666950"
  },
  {
    "text": "And it has various ways to\ninteract with that door. If it's open, you can\ntraverse through it.",
    "start": "2666950",
    "end": "2672824"
  },
  {
    "text": "If you go through the\nclause connection, you are forced to close\nthe door, in which case you can't traverse it.",
    "start": "2672824",
    "end": "2678190"
  },
  {
    "text": "If you go through\nthe open connection, you can either just\ngo through, or you can open the door if you want.",
    "start": "2678190",
    "end": "2683319"
  },
  {
    "text": "That doesn't really-- you\ndon't need this connection, but a lot of gadgets\nwill end up doing that. So this is just\none bit of state.",
    "start": "2683320",
    "end": "2689650"
  },
  {
    "text": "Door is open or closed. And we can simulate\nthis kind of thing,",
    "start": "2689650",
    "end": "2694710"
  },
  {
    "text": "or simulate the previous type\nof pressure plates if you have",
    "start": "2694710",
    "end": "2701040"
  },
  {
    "text": "a door, and an open\npressure plate, and a closed pressure plate. We're just sort of remapping\nthat into this gadget.",
    "start": "2701040",
    "end": "2709970"
  },
  {
    "text": "When you go through\nthe open traversal, that's just visiting here.",
    "start": "2709970",
    "end": "2715750"
  },
  {
    "text": "And when you go through\nthe traverse connection, that's going through the door. And when you go through\nthe close connection,",
    "start": "2715750",
    "end": "2722769"
  },
  {
    "text": "that's visiting\nthat pressure plate. And vice versa. So you can take the\nprevious reduction, translate it into this view.",
    "start": "2722770",
    "end": "2728929"
  },
  {
    "text": "Of course, you're going\nto end up with crossings, and it will be kind of ugly. But you can do this.",
    "start": "2728929",
    "end": "2734080"
  },
  {
    "text": "So as long as you have\na crossover gadget, doors-- this is called a\ndoor gadget-- by themselves",
    "start": "2734080",
    "end": "2740350"
  },
  {
    "text": "are PSPACE-complete. So we'll call this\nmetatheorem five. ",
    "start": "2740350",
    "end": "2747839"
  },
  {
    "text": "I mean, this is very similar\nto metatheorem three, just like two and one\nwere very similar.",
    "start": "2747840",
    "end": "2753220"
  },
  {
    "text": "But just give it another name.  Doors plus crossover\nare PSPACE-complete.",
    "start": "2753220",
    "end": "2764830"
  },
  {
    "text": " So this is sort of a\nreinterpretation, if you will, of the original Viglietta paper.",
    "start": "2764830",
    "end": "2772060"
  },
  {
    "text": "Viglietta's a co-author, but\nthis is the Nintendo Games paper. So this is-- you can think\nof as a simplification",
    "start": "2772060",
    "end": "2779230"
  },
  {
    "text": "of that previous metatheorem\nwith pressure plates. And then that has been\nimplemented in even more games",
    "start": "2779230",
    "end": "2787560"
  },
  {
    "text": "than you've seen so far. So one of the first\nones we did was Legend of Zelda-- A Link to the Past.",
    "start": "2787560",
    "end": "2796120"
  },
  {
    "text": "So a few things going on here. But this is basically\nthe door gadget.",
    "start": "2796120",
    "end": "2801650"
  },
  {
    "text": "And then you're done. There are lots of ways to do\ncrossovers in Zelda that's not too hard. We showed a hook-shot\nversion some time ago.",
    "start": "2801650",
    "end": "2809730"
  },
  {
    "text": "But anyway. So there are these\nnotion of doors in Zelda. These are currently\nin the closed state.",
    "start": "2809730",
    "end": "2816120"
  },
  {
    "text": "And when you walk through\nthis in the open state, you'd come out on\nthe other side.",
    "start": "2816120",
    "end": "2821820"
  },
  {
    "text": "And so in particular,\nthe to traversal is going to be whether this\ndoor is currently open. Now, getting back\nto the question,",
    "start": "2821820",
    "end": "2829220"
  },
  {
    "text": "in Zelda-- A Link to the\nPast, you only have toggles. If I press this button, all the\ndoors labeled one switch state.",
    "start": "2829220",
    "end": "2839460"
  },
  {
    "text": "But you can't jump and then\nland on the thing again. In this case, you\nare falling down. The drawing isn't clear.",
    "start": "2839460",
    "end": "2845529"
  },
  {
    "text": "This is the 2D drawing\nof falling down a tunnel. And then the only thing\nyou can do is walk down.",
    "start": "2845530",
    "end": "2852290"
  },
  {
    "text": "And then you hit a teleport,\nand you immediately go here. So this is one way to\nget traversals to work by preventing backtracking.",
    "start": "2852290",
    "end": "2860250"
  },
  {
    "text": "Sorry-- getting toggles to work\nby preventing backtracking. So the intent of\nthis gadget is there",
    "start": "2860250",
    "end": "2866785"
  },
  {
    "text": "are doors labeled one and two. And it should always be\nexactly one of those is closed. Either the one is closed or the\ntwo is closed, but not both.",
    "start": "2866785",
    "end": "2876430"
  },
  {
    "text": "And in Zelda, all the\ngames are initially closed. So this is annoying.",
    "start": "2876430",
    "end": "2882890"
  },
  {
    "text": "So we have to build\nthis initialize gadget through all of these doors,\nwhere you come in here.",
    "start": "2882890",
    "end": "2889890"
  },
  {
    "text": "This is the end. These are one-way teleporters. You can't go up here. So you have to go\nhere, toggle two.",
    "start": "2889890",
    "end": "2897130"
  },
  {
    "text": "Then go to this\nteleporter, go here. This is a block, so you\nhave to go over this way. We're going to chain all\nthese gadgets together",
    "start": "2897130",
    "end": "2903950"
  },
  {
    "text": "through these initialize\npaths, so that all of the doors are initially in\nthe closed state, with one closed and two open.",
    "start": "2903950",
    "end": "2912180"
  },
  {
    "text": "And then there's a\ncrystal-something that you break.",
    "start": "2912180",
    "end": "2917569"
  },
  {
    "text": "And it flips. All of these blue blocks\nbecome these, and all of these become blue blocks.",
    "start": "2917570",
    "end": "2922990"
  },
  {
    "text": "And that only happens once. So now, basically, the\ninitialize paths are destroyed. So now think of this\nas being untraversable,",
    "start": "2922990",
    "end": "2929185"
  },
  {
    "text": "and this is traversable. OK? So now, if the doors open,\ndoor number one is open,",
    "start": "2929185",
    "end": "2935720"
  },
  {
    "text": "then we can traverse it. That's cool. Let's look at the closed paths.",
    "start": "2935720",
    "end": "2941329"
  },
  {
    "text": "The closed path-- exactly one\nof these is going to be open. So if the door was\nalready closed,",
    "start": "2941330",
    "end": "2947340"
  },
  {
    "text": "that means two will be open. We go down here. We teleport to here. And then again, because\ntwo is the only thing open,",
    "start": "2947340",
    "end": "2956220"
  },
  {
    "text": "we go out through\nthe close exit. On the other hand,\nif the door was open",
    "start": "2956220",
    "end": "2963270"
  },
  {
    "text": "and we're trying to close it, we\nhave to be forced to close it. And indeed, we'll\ngo through door one. Can't go through door two.",
    "start": "2963270",
    "end": "2969078"
  },
  {
    "text": "We'll go down here. We'll toggle door one. Now door one is closed. And so is two. We'll teleport to here.",
    "start": "2969079",
    "end": "2977190"
  },
  {
    "text": "Remember this is blocked now? Now we're forced to\nswitch two as well. So we're effectively\nsimulating the effect",
    "start": "2977190",
    "end": "2982860"
  },
  {
    "text": "of doing two doors with\none choice of a thing. First we flip one,\nthen we flip two.",
    "start": "2982860",
    "end": "2989569"
  },
  {
    "text": "Then we teleport here. One was open. We flipped everything.",
    "start": "2989570",
    "end": "2995040"
  },
  {
    "text": "Now two is open, and we\ngo out through the closed. So in both cases, we\nexit through close. Yeah? AUDIENCE: How do you\nensure that the blocks only",
    "start": "2995040",
    "end": "3001350"
  },
  {
    "text": "get flipped once? Because the crystals can be\nhit as many times as you want, right?",
    "start": "3001350",
    "end": "3006790"
  },
  {
    "text": "PROFESSOR: OK. I had forgotten that detail. Essentially, we want to\njust put a one-way gadget.",
    "start": "3006790",
    "end": "3013680"
  },
  {
    "text": "So when you hit the\ncrystal-- I mean, either you hit it or you\ndon't but if you hit it, then we have a cliff that\nyou fall off of and visit",
    "start": "3013680",
    "end": "3019890"
  },
  {
    "text": "the rest of the game. So you can't go back\nand flip the crystal. If you don't flip the\ncrystal, then the gadget",
    "start": "3019890",
    "end": "3025470"
  },
  {
    "text": "will break in other ways. If you didn't flip\neverything, you won't be able to traverse again.",
    "start": "3025470",
    "end": "3031240"
  },
  {
    "text": "Yeah. I should have that\ndrawn, but I don't. OK.",
    "start": "3031240",
    "end": "3036319"
  },
  {
    "text": "So there's just one\ncrystal, and it's hidden in between\nthe initializer and the rest of the traversal.",
    "start": "3036319",
    "end": "3042500"
  },
  {
    "text": "OK. So what haven't we done? The open case. So maybe we come\nin the open door.",
    "start": "3042500",
    "end": "3049800"
  },
  {
    "text": " Well, we're not going\nto have a choice. Either it's already open.",
    "start": "3049800",
    "end": "3055050"
  },
  {
    "text": "Then we'll go through\nhere, teleport to here. And we can go through\nthe one, and we're out.",
    "start": "3055050",
    "end": "3060360"
  },
  {
    "text": "Or it's closed, in\nwhich case two is open. Then we can't go here,\nso we go down here.",
    "start": "3060360",
    "end": "3065980"
  },
  {
    "text": "We toggle one, we toggle two. And then we go out here. And now one is open.",
    "start": "3065980",
    "end": "3071970"
  },
  {
    "text": "So it's kind of cool. When we're going\nthrough open, we know that we'll end up opened. And so we'll go out the open.",
    "start": "3071970",
    "end": "3077424"
  },
  {
    "text": "When we go through\nthe closed traversal, we know we will end up closed. And so we will always\ngo out the closed exit.",
    "start": "3077424",
    "end": "3083990"
  },
  {
    "text": "And traverse is just\ncompletely separate. Cool? So this is a door\nin Link to the Past.",
    "start": "3083990",
    "end": "3090620"
  },
  {
    "start": "3090620",
    "end": "3098180"
  },
  {
    "text": "And so that's a good\nexample of toggles.",
    "start": "3098180",
    "end": "3103200"
  },
  {
    "text": "If you, again, have sufficient\ncrossovers and so on forced, I think you could argue this is\nmore generally letting you deal",
    "start": "3103200",
    "end": "3110490"
  },
  {
    "text": "with toggles as long as you\ncan, right next to a toggle, put a-- after traversing\nit, you essentially",
    "start": "3110490",
    "end": "3116230"
  },
  {
    "text": "have-- say you have a one-way\ngadget before and after it, in a certain sense. Here in Zelda, there's\nonly two levels.",
    "start": "3116230",
    "end": "3122707"
  },
  {
    "text": "So we can't make you\nfall off another cliff. But it's the same thing\nwith the teleporter. We have a one-way right before\nit, a one-way right after it.",
    "start": "3122707",
    "end": "3130070"
  },
  {
    "text": "You could only hit it once,\nthen you're essentially doing toggles. Cool. ",
    "start": "3130070",
    "end": "3138720"
  },
  {
    "text": "Next one is Donkey Kong Country. This is a recall of the\nphysics of Donkey Kong.",
    "start": "3138720",
    "end": "3144920"
  },
  {
    "text": "You can jump around and\nkill enemies and stuff. But the main goal is to get to\na destination other than points.",
    "start": "3144920",
    "end": "3151980"
  },
  {
    "text": "There are these bees which\nkill you if you touch them. There are ropes and\nthings you can climb. And there are also barrels\nthat you can throw at things.",
    "start": "3151980",
    "end": "3159100"
  },
  {
    "text": " And there are three main Donkey\nKong Countries, 1, 2, and 3.",
    "start": "3159100",
    "end": "3165839"
  },
  {
    "text": "And they each add an\nadditional feature. But none of them\nshare that feature.",
    "start": "3165840",
    "end": "3171329"
  },
  {
    "text": "So there are three different\nPSPACE-hardness proofs, each with an additional feature. ",
    "start": "3171330",
    "end": "3178580"
  },
  {
    "text": "This is Donkey Kong Country 1. Let me tell you the notation. We have these bees,\nwhich are stationary.",
    "start": "3178580",
    "end": "3183800"
  },
  {
    "text": "So those serve as\nobstacles you can't touch. Then there are these\nbees highlighted in red. They're not red bees.",
    "start": "3183800",
    "end": "3189700"
  },
  {
    "text": "That's different. But they are moving,\naccording to this arrow.",
    "start": "3189700",
    "end": "3195230"
  },
  {
    "text": "So you imagine this whole\nthing shifting over to here, and then shifting all\nthe way over to here,",
    "start": "3195230",
    "end": "3200730"
  },
  {
    "text": "and back and forth. And this is naturally occurring\nin Donkey Kong Country. You have bees which have\nsome horizontal path",
    "start": "3200730",
    "end": "3207265"
  },
  {
    "text": "that they traverse. But we're going to\ngeneralize a little bit and allow the bees to\nmove different amounts.",
    "start": "3207265",
    "end": "3212744"
  },
  {
    "text": "This one only moves a\nlittle bit back and forth-- I guess between here and here.",
    "start": "3212744",
    "end": "3217809"
  },
  {
    "text": "All right. Then there's this additional\nfeature, which is this tire.",
    "start": "3217810",
    "end": "3224850"
  },
  {
    "text": "And the tire, if you\nland on it, you basically bounce back up very high.",
    "start": "3224850",
    "end": "3229880"
  },
  {
    "text": "And that's going to be annoying. From the traversal\nstandpoint, we're going to be in this barrel. It's going to shoot us-- we're\nforced to shoot straight down.",
    "start": "3229880",
    "end": "3236980"
  },
  {
    "text": "And if we hit this\nthing, we are basically stuck in this\nconnected component. There's bees everywhere.",
    "start": "3236980",
    "end": "3242310"
  },
  {
    "text": "We can't get out. OK? On the other hand, if\nthe tire were up here,",
    "start": "3242310",
    "end": "3247630"
  },
  {
    "text": "then if we shoot down,\nwe can time it right,",
    "start": "3247630",
    "end": "3252720"
  },
  {
    "text": "wait for the bees to be\ngoing to the right here. And then we can run\ndown here and fall down, and go through the traverse out.",
    "start": "3252720",
    "end": "3260010"
  },
  {
    "text": "Because of these bees, which are\ngoing to go most over to here, we can't go out through the\nopen setting from traverse.",
    "start": "3260010",
    "end": "3268300"
  },
  {
    "text": "But if we come from\nthe open setting, because these bees are\ngoing to go way over here, we can run over and push the\ntire up to this position.",
    "start": "3268300",
    "end": "3276520"
  },
  {
    "text": "So if you land on\nit, you bounce. But if you come from the side,\nyou can push the tire however",
    "start": "3276520",
    "end": "3282280"
  },
  {
    "text": "much you want. So that will be pushing\nit into the open state. And these bees will\ngo right up to here.",
    "start": "3282280",
    "end": "3288430"
  },
  {
    "text": "And that's as far as we can\npush it, right on that ledge. Because you don't want it\nto fall down the ledge, which also happens in\nDonkey Kong physics.",
    "start": "3288430",
    "end": "3294880"
  },
  {
    "text": "OK. So that's open. You don't have to\nopen, but you can. Now, close.",
    "start": "3294880",
    "end": "3300320"
  },
  {
    "text": "You have to close the door. And this corresponds\nto coming through here. If there was a tire here, if\nwe were in the open state,",
    "start": "3300320",
    "end": "3307710"
  },
  {
    "text": "we have to push the tire\noff of the edge here. And then it will roll\ndown to that position.",
    "start": "3307710",
    "end": "3314680"
  },
  {
    "text": "And if we time it right, the\nbees will be right over here. And then we can jump around. You can climb the rope.",
    "start": "3314680",
    "end": "3321124"
  },
  {
    "text": "And if you're really fast,\nyou're climbing the rope. And these bees are\nreally slow, rather. Then you go over here.",
    "start": "3321124",
    "end": "3326600"
  },
  {
    "text": "This might not be to scale. Maybe you want to\nwiden the section here, so that you have more\ntime to climb the rope. But that's just\nconstant factors.",
    "start": "3326600",
    "end": "3334020"
  },
  {
    "text": "Either you allow me\nto slow down bees, or you stretch this\ndiagram a little bit.",
    "start": "3334020",
    "end": "3339670"
  },
  {
    "text": "OK? So that's close. In order to get\nfrom here to here, you must push the\ntire off the edge. And then it will roll\nto exactly there,",
    "start": "3339670",
    "end": "3345840"
  },
  {
    "text": "preventing you from traversal. So that's a door. Donkey Kong Country\n1 is PSPACE-complete.",
    "start": "3345840",
    "end": "3352370"
  },
  {
    "text": "What about Donkey\nKong Country 2? It has no tires. But it has the balloon.",
    "start": "3352370",
    "end": "3358579"
  },
  {
    "text": "The balloon-- normally,\nballoons go down,",
    "start": "3358580",
    "end": "3364340"
  },
  {
    "text": "as you might know, from gravity. But if you have\nthese air currents, the balloon will rise.",
    "start": "3364340",
    "end": "3371940"
  },
  {
    "text": "And when you're on\nthe balloon, you can use it as sort of a ledge. It may still go\ndown, but you can",
    "start": "3371940",
    "end": "3377620"
  },
  {
    "text": "control whether it falls to\nthe left or to the right, according to whether\nyou press left or right on the controller.",
    "start": "3377620",
    "end": "3384440"
  },
  {
    "text": "So this is actually\nthe closed state. Again, there are these bees.",
    "start": "3384440",
    "end": "3390390"
  },
  {
    "text": "They're moving a little bit. But if you time it right,\nyou can get down here. But if you land on\nthe balloon, there's no way to get\nbeyond this barrel.",
    "start": "3390390",
    "end": "3396690"
  },
  {
    "text": "And so you're stuck. If the balloon is\nout of the way, it will end up being\nhere at position A.",
    "start": "3396690",
    "end": "3403549"
  },
  {
    "text": "Then when you shoot\nfrom this barrel, you end up in this barrel,\nand you get to traverse out.",
    "start": "3403550",
    "end": "3408910"
  },
  {
    "text": "So that's good. Again, these barrels\nis a forced shot. So you can't make any decision\nat those types of barrels.",
    "start": "3408910",
    "end": "3416279"
  },
  {
    "text": "OK. Good. So the idea with the open\nclause is that there's",
    "start": "3416280",
    "end": "3423080"
  },
  {
    "text": "a little bit of rope here. So you would climb\nthis rope, jump. When the bees are over to\nthe right a little bit,",
    "start": "3423080",
    "end": "3428450"
  },
  {
    "text": "they get over to here. Then go on this balloon,\npush it over to the left",
    "start": "3428450",
    "end": "3434290"
  },
  {
    "text": "here, and then jump back out,\nand grab the rope, and leave.",
    "start": "3434290",
    "end": "3440020"
  },
  {
    "text": "And if you get the\nballoon to here, it will settle to this position,\nso that you've successfully",
    "start": "3440020",
    "end": "3446140"
  },
  {
    "text": "opened the gadget even\nthough you couldn't get here from there. On the other hand,\nthe close is going",
    "start": "3446140",
    "end": "3452960"
  },
  {
    "text": "to force you to reset that. So we get shot over this\nway, shot down here. Now, it could be we just\nget shot, shot, shot,",
    "start": "3452960",
    "end": "3459890"
  },
  {
    "text": "and we're out. But if there was a balloon\nhere, we will land on it.",
    "start": "3459890",
    "end": "3465769"
  },
  {
    "text": "In order to get to this\nbarrel or the next one, we have to push\nthe balloon over. Then we can go here or go here.",
    "start": "3465770",
    "end": "3474530"
  },
  {
    "text": "And we'll end up getting shot\nto this position and out. But because of\nthese air currents, the balloon will go up to\nhere in Donkey Kong physics.",
    "start": "3474530",
    "end": "3484530"
  },
  {
    "text": "And so when you\ndo close, you are forced to put the\nballoon back here, which is annoying for traversal.",
    "start": "3484530",
    "end": "3490010"
  },
  {
    "text": "So that's a door. Question? AUDIENCE: Is there any reason\nyou need the [INAUDIBLE] at the top?",
    "start": "3490010",
    "end": "3495392"
  },
  {
    "text": " PROFESSOR: Why do\nwe need this exact? I don't remember.",
    "start": "3495392",
    "end": "3501340"
  },
  {
    "text": "I was wondering that as well. Yeah. What it does do is force a\nparticular sort of timing",
    "start": "3501340",
    "end": "3508651"
  },
  {
    "text": "maybe, about whether it's\nto the left or to the right. But not sure.",
    "start": "3508651",
    "end": "3513887"
  },
  {
    "text": "I'll bet there's a reason.  But this figure was\ndrawn by Giovanni.",
    "start": "3513887",
    "end": "3519410"
  },
  {
    "text": " Cool. What about Donkey\nKong Country 3? Well, Donkey Kong Country 3\nhas neither balloons nor tires,",
    "start": "3519410",
    "end": "3528440"
  },
  {
    "text": "but it has tracking\nbarrels, with a T on it. So tracking barrels,\nif you land in one,",
    "start": "3528440",
    "end": "3537320"
  },
  {
    "text": "you can then slide\nit left or right. And when you leave it,\nyou always get shot up.",
    "start": "3537320",
    "end": "3545230"
  },
  {
    "text": "And even if you jump out\nand then, say, go over here and fall, the tracking\nbarrel tracks you.",
    "start": "3545230",
    "end": "3551720"
  },
  {
    "text": "So if you're coming\nfrom traversal and you get shot down here,\nif the tracking barrel's out of the way, then I traverse.",
    "start": "3551720",
    "end": "3558940"
  },
  {
    "text": "Then I'm forced to go down here\nand leave via the close exit, which is not what I want.",
    "start": "3558940",
    "end": "3564080"
  },
  {
    "text": "I want to leave according\nto the traversal exit. Now, this has some\nleakage, but you can show this leakage is OK.",
    "start": "3564080",
    "end": "3570270"
  },
  {
    "text": "You can go from traverse\nin to close out. But that won't end\nup helping you,",
    "start": "3570270",
    "end": "3575289"
  },
  {
    "text": "because you were already close,\nso you knew you could already get to close out. So this is the closed state when\nthe tracker barrel's over here.",
    "start": "3575289",
    "end": "3583269"
  },
  {
    "text": "This is the open state. When we're in the open state,\nwe come through traverse. We can jump out and leave here.",
    "start": "3583270",
    "end": "3588425"
  },
  {
    "text": "So that's good. On the other hand, if we\ncome via the open position,",
    "start": "3588425",
    "end": "3596760"
  },
  {
    "text": "we can go get shot down here. And if the barrel\nwas there, we're",
    "start": "3596760",
    "end": "3601800"
  },
  {
    "text": "going to have to\nmove it over here. I guess we don't have to. We could leave it there. But we are able to\nbring the barrel over",
    "start": "3601800",
    "end": "3607190"
  },
  {
    "text": "here and leave through open. And now we're in the open state. That's good.",
    "start": "3607190",
    "end": "3612260"
  },
  {
    "text": "On the other hand, if\nwe come from close, if it's currently open, we\nwill be shot into the barrel.",
    "start": "3612260",
    "end": "3619290"
  },
  {
    "text": "And then to get\nover here, we have to bring the barrel\nover here, putting it into the close state.",
    "start": "3619290",
    "end": "3625680"
  },
  {
    "text": "Now, this is the relevant part,\nwhere the tracking hurts you. You go in here. You'd like to just jump\nout and get out here,",
    "start": "3625680",
    "end": "3633530"
  },
  {
    "text": "but because it's a tracking\nbarrel, if you jump out here, the barrel will come over anyway\neven though you don't go back",
    "start": "3633530",
    "end": "3639579"
  },
  {
    "text": "into it. So if you leave\nthrough the close exit, you have to bring the\nbarrel over to the right.",
    "start": "3639580",
    "end": "3645170"
  },
  {
    "text": "So that forces the clothes,\npreventing traversal. That's Donkey Kong Country 3.",
    "start": "3645170",
    "end": "3650480"
  },
  {
    "start": "3650480",
    "end": "3655530"
  },
  {
    "text": "But there's one Nintendo\ngame that rules them all,",
    "start": "3655530",
    "end": "3661560"
  },
  {
    "text": "and that is Super Mario Bros. And for the first\ntime, we are announcing",
    "start": "3661560",
    "end": "3667805"
  },
  {
    "text": "a PSPACE-completeness\nresult for Super Mario Bros. So the Nintendo paper\nand another paper",
    "start": "3667805",
    "end": "3675710"
  },
  {
    "text": "by Giovanni, which I\nwill talk about next, was prevented at Fun with\nAlgorithms earlier this summer.",
    "start": "3675710",
    "end": "3682900"
  },
  {
    "text": "Two people were there. And then we started\ntalking, oh, we",
    "start": "3682900",
    "end": "3688325"
  },
  {
    "text": "should really prove Mario Bros.\nis also a PSPACE-complete. So this is our\ncurrent reduction.",
    "start": "3688325",
    "end": "3694510"
  },
  {
    "text": "You may recall another\ncrossover gadget that involved invincibility\nstars, or mushrooms,",
    "start": "3694510",
    "end": "3700460"
  },
  {
    "text": "or something. Those are consumables. We can't afford consumables\nin a PSPACE reduction, because we have to visit\nthe same thing many times.",
    "start": "3700460",
    "end": "3707030"
  },
  {
    "text": "But using Mario physics,\nwe designed this crossover. You're going to be small Mario\nthroughout this reduction.",
    "start": "3707030",
    "end": "3714210"
  },
  {
    "text": "If you come up here and you\nrun, you will fall here. And if you come over there,\nyou run, you'll fall here.",
    "start": "3714210",
    "end": "3720690"
  },
  {
    "text": "But you can't jump\naround and land here. You'll end up down here. And that's larger than\nyour jump distance.",
    "start": "3720690",
    "end": "3726671"
  },
  {
    "text": "OK? So as long as you can't\nglitch through walls, this is a valid crossover\nand it's reusable.",
    "start": "3726671",
    "end": "3732780"
  },
  {
    "text": "It's a one-way crossover. You can only go from up to down. ",
    "start": "3732780",
    "end": "3738520"
  },
  {
    "text": "OK. Now the door. The door's a little bit weird. But it has actually been built\nby modifying the Super Mario",
    "start": "3738520",
    "end": "3747520"
  },
  {
    "text": "Bros. ROM, so it does exist in the\nphysics of the real Mario.",
    "start": "3747520",
    "end": "3755680"
  },
  {
    "text": "This doesn't have to be\nlength, but this is a fire bar, which is normally rotating. But if it has size one,\nthen it doesn't really",
    "start": "3755680",
    "end": "3762400"
  },
  {
    "text": "do much rotating. So these are things you're\nnot allowed to touch. ",
    "start": "3762400",
    "end": "3769750"
  },
  {
    "text": "The version we\nimplemented has fire bars. Those do exist in the ROM. But even if you have fire\nbars that are much bigger,",
    "start": "3769750",
    "end": "3776570"
  },
  {
    "text": "you can still do all the things\nyou need to do in this gadget. It's just a lot harder\nto do correctly. I was trying it earlier today.",
    "start": "3776570",
    "end": "3782740"
  },
  {
    "text": "[LAUGHTER] And then we have this guy. I forget what they're\ncalled, but they're dropped",
    "start": "3782740",
    "end": "3789110"
  },
  {
    "text": "by the cloud thing in the sky. You can also create them at\nthe beginning of the level even though that doesn't\nappear in the true levels.",
    "start": "3789110",
    "end": "3796420"
  },
  {
    "text": "You can make a new level that\nhas these guys initially. It'll just be the case that\nthere's also a cloud floating",
    "start": "3796420",
    "end": "3802350"
  },
  {
    "text": "around at the top. But if you shield\nfrom that, you're OK. So there's one of these\nguys, and he can basically",
    "start": "3802350",
    "end": "3808849"
  },
  {
    "text": "be walking back and\nforth here or over here.",
    "start": "3808850",
    "end": "3813860"
  },
  {
    "text": "And you can flip\nthat by if you hit this block with\nthe right timing,",
    "start": "3813860",
    "end": "3819329"
  },
  {
    "text": "this guy will end up bouncing\nand walking over here. And practice. You have to hit it a few times.",
    "start": "3819330",
    "end": "3824400"
  },
  {
    "text": "Sometimes he'll walk back over. But if you get the direction\nthat he's facing right, he'll jump up and\nthen keep going.",
    "start": "3824400",
    "end": "3830049"
  },
  {
    "text": "And then he'll be over\nin the other side. OK. But you can't just\nreach everything here. If you are on the open side,\nyou can hit him if you want",
    "start": "3830050",
    "end": "3838012"
  },
  {
    "text": "and put him over there. That's going to be\nthe open setting. The traversal requires\nyou to go through this way",
    "start": "3838012",
    "end": "3844497"
  },
  {
    "text": "without the ability\nto hit this thing. And so if the spiny guy\nis over on the left,",
    "start": "3844497",
    "end": "3849810"
  },
  {
    "text": "you will die, guaranteed. We checked. And otherwise, you\njump-- if he's not there,",
    "start": "3849810",
    "end": "3856279"
  },
  {
    "text": "if it's on the right side,\nthen you can traverse. So this is the open\nstate that's drawn. So this is the tricky part.",
    "start": "3856279",
    "end": "3862140"
  },
  {
    "text": "We need something that's\nuntraversable by the player but traversable by the monster. And this could be a fire\nbar that's rotating.",
    "start": "3862140",
    "end": "3868579"
  },
  {
    "text": "If you time it right, you\ncould still rush by it. And of course, close.",
    "start": "3868580",
    "end": "3874040"
  },
  {
    "text": "Close, we need to force this\nguy to be on the other side. And so we do the same thing\nthat we did on the left to go through to close.",
    "start": "3874040",
    "end": "3879930"
  },
  {
    "text": "Just like on the left, this guy\nhas to be on the other side. So first, you can knock\nhim over to the other side. And then you can go back\nand jump through there.",
    "start": "3879930",
    "end": "3888040"
  },
  {
    "text": "So Super Mario Bros.\nis PSPACE-complete. Yeah? AUDIENCE: What was the advantage\nof the rotating fire bar?",
    "start": "3888040",
    "end": "3893360"
  },
  {
    "text": "PROFESSOR: Oh, it's more\nnaturally occurring. In real Mario, there\nare rotating fire bars. There's never this single\nfire just floating in midair.",
    "start": "3893360",
    "end": "3901660"
  },
  {
    "text": "Fire bars can float in midair. ",
    "start": "3901660",
    "end": "3906680"
  },
  {
    "text": "In all the levels that\nexist in Super Mario Bros., fire bars are a fixed length.",
    "start": "3906680",
    "end": "3912030"
  },
  {
    "text": "We have six fire\nthings or whatever. But in the ROM, it\nhas support for making",
    "start": "3912030",
    "end": "3917329"
  },
  {
    "text": "fire bars of arbitrary\nlength or up to some size. So you can make this in the ROM,\nor you can have it rotating.",
    "start": "3917330",
    "end": "3922560"
  },
  {
    "text": "And then it's a more\nintense experience. AUDIENCE: Why are there\nfire bars [INAUDIBLE] that they're hitting?",
    "start": "3922560",
    "end": "3928760"
  },
  {
    "text": "PROFESSOR: Yeah. That's dealing with glitches. Yeah? AUDIENCE: What is the shell\nguy dropped by the cloud thing?",
    "start": "3928760",
    "end": "3934908"
  },
  {
    "text": "Or I don't know the game. PROFESSOR: Oh, in the game,\nthe cloud is up there. And every few seconds,\nhe throws one,",
    "start": "3934908",
    "end": "3941110"
  },
  {
    "text": "and it falls in some\nkind of random spot. And then he traverses left and\nright like a regular turtle.",
    "start": "3941110",
    "end": "3948290"
  },
  {
    "text": "But in this, we're assuming\nthat you can have him initially appear there.",
    "start": "3948290",
    "end": "3953520"
  },
  {
    "text": "So he's not thrown by the cloud. There would also be a\ncloud throwing spiny guys. ",
    "start": "3953520",
    "end": "3959788"
  },
  {
    "text": "We're assuming that\nthis guy can just be there from the beginning. AUDIENCE: So it\ndrops more than one?",
    "start": "3959789",
    "end": "3965137"
  },
  {
    "text": "PROFESSOR: Oh, yeah. It drops one, and then drops\nanother, and drops another. I think it's unlimited. I mean, there might\nbe a practical limit",
    "start": "3965137",
    "end": "3971750"
  },
  {
    "text": "given by the memory of an\nNES, which is pretty small. But I think it limits to like\neight creatures on screen",
    "start": "3971750",
    "end": "3978715"
  },
  {
    "text": "at once or something. But we're generalizing\nthat as well. Are there questions?",
    "start": "3978715",
    "end": "3984760"
  },
  {
    "text": "OK. I have one more proof\nI want to cover. And this is the other Giovanni\npaper, and Fun with Algorithms",
    "start": "3984760",
    "end": "3991510"
  },
  {
    "text": "is here. And it's about Lemmings. If you haven't\nplayed Lemmings, it's sort of the first\nreal-time strategy game.",
    "start": "3991510",
    "end": "3998820"
  },
  {
    "text": "So you have these characters\nwhich appear periodically. Then you can click on\ncharacters and make them do different things.",
    "start": "3998820",
    "end": "4004590"
  },
  {
    "text": "You can make them build bridges. You can make them\ndig horizontally. You can make them\ndig vertically.",
    "start": "4004590",
    "end": "4009877"
  },
  {
    "text": "And so going through that again. Here we're making this guy\nclimb, and then digging down.",
    "start": "4009877",
    "end": "4015450"
  },
  {
    "text": "And then digging left. And then digging down. And then they can dig\nleft to switch directions.",
    "start": "4015450",
    "end": "4021210"
  },
  {
    "text": "And then make them\ndig down again. And then build bridge\nand dig through. This is, I think,\nlevel two or something.",
    "start": "4021210",
    "end": "4026290"
  },
  {
    "text": "It's quite challenging. And your goal is to get as\nmany lemmings as possible to the exit.",
    "start": "4026290",
    "end": "4032010"
  },
  {
    "text": "And the way you do it is\nyou select the ability you want, and then you\nclick on the lemming that you want to do it on.",
    "start": "4032010",
    "end": "4037070"
  },
  {
    "text": "And otherwise, they\nare walking around. So how many people\nhave played Lemmings? Yeah, this is more popular one.",
    "start": "4037070",
    "end": "4042950"
  },
  {
    "text": "If you haven't\nplayed, you should. It's really hard, though. I was reading Wikipedia.",
    "start": "4042950",
    "end": "4048660"
  },
  {
    "text": "Sarah, one of your\nfavorite authors, Terry Pratchett was\nplaying Lemmings. He wrote a book that is\nclearly inspired by Lemmings.",
    "start": "4048660",
    "end": "4055220"
  },
  {
    "text": "And then he said he\nhad to delete Lemmings from his computer and override\nit in order to stop playing.",
    "start": "4055220",
    "end": "4061457"
  },
  {
    "text": "It was so addictive. There are a bunch of levels. It's fun. There are many free\nversions as well",
    "start": "4061457",
    "end": "4066830"
  },
  {
    "text": "that have duplicated the\nLemmings physics and so on, with new levels, and there\nare level editors, and all",
    "start": "4066830",
    "end": "4072410"
  },
  {
    "text": "that good stuff. So you might expect this\ngame is pretty hard. Here we're going to\nprove PSPACE-hardness.",
    "start": "4072410",
    "end": "4080750"
  },
  {
    "text": "There was the first paper\nby a Graham Cormode, which showed NP-hardness and\nconjectured PSPACE-hardness.",
    "start": "4080750",
    "end": "4088919"
  },
  {
    "text": "So this was the results before.  So there are all\nthese abilities. I haven't defined all of them.",
    "start": "4088919",
    "end": "4095050"
  },
  {
    "text": "I'll show you just\na few of them. If they're unlimited,\nnormally you're given a limit to\nhow many you have.",
    "start": "4095050",
    "end": "4100969"
  },
  {
    "text": "But even when they're unlimited\nand you have arbitrary time, the game is still in PSPACE,\nbecause again, the state",
    "start": "4100970",
    "end": "4106920"
  },
  {
    "text": "is polynomial number of bits. OK. There's another thing I didn't\nmention, which is hazards.",
    "start": "4106920",
    "end": "4114778"
  },
  {
    "text": "These are traps. If your lemming\ngoes there, you die. So those are also important\nfor some of the proofs.",
    "start": "4114779",
    "end": "4123220"
  },
  {
    "text": "And so Graham showed that if you\nhave diggers and a time-bound, then you get NP\nequal to time-bound,",
    "start": "4123220",
    "end": "4128960"
  },
  {
    "text": "you actually get\nNP-completeness. And you can convert that\ninto other abilities.",
    "start": "4128960",
    "end": "4134028"
  },
  {
    "text": "But the [INAUDIBLE] new\nresults are this one. We're going to focus on this\ncolumn, which is given builders",
    "start": "4134029",
    "end": "4141470"
  },
  {
    "text": "and bashers, either unlimited\nor given an exponential number of them-- because we need to\nrun for exponential time--",
    "start": "4141470",
    "end": "4148939"
  },
  {
    "text": "and hazards, and\njust one lemming, the game is PSPACE-complete.",
    "start": "4148939",
    "end": "4154089"
  },
  {
    "text": "Another result in the same\npaper that might interest you-- but we're no longer in the\nApproximation section-- is APX-hardness for\nany ability you want.",
    "start": "4154090",
    "end": "4164930"
  },
  {
    "text": "And a polynomial number\nof lemmings, and time, and hazards.",
    "start": "4164930",
    "end": "4170390"
  },
  {
    "text": "And it's based on this\nweird thing about hazards that if you have many lemmings\ngo through a trap at once,",
    "start": "4170390",
    "end": "4176040"
  },
  {
    "text": "then only one of them dies. [LAUGHTER] Because the trap\nhas to activate, and it takes a certain\namount of time.",
    "start": "4176040",
    "end": "4181790"
  },
  {
    "text": "So if they're really bunched\nup, then most of them can get through. So you can use that to reduce\nthe number of lemmings.",
    "start": "4181790",
    "end": "4187943"
  },
  {
    "text": "And you're trying to approximate\nhow many lemmings get through. OK. So that's fun. But I don't have\nthose pictures here,",
    "start": "4187944",
    "end": "4194582"
  },
  {
    "text": "because the PSPACE-hardness\nis kind of the more impressive technical thing. And it's already\nquite complicated.",
    "start": "4194582",
    "end": "4200250"
  },
  {
    "text": "So in order to really\nget this proof right, Giovanni went through\nan incredible effort",
    "start": "4200250",
    "end": "4206840"
  },
  {
    "text": "of documenting Lemming physics\nat a pixel-by-pixel level, because it is pretty\nweird, especially",
    "start": "4206840",
    "end": "4213810"
  },
  {
    "text": "when you start using\nthe bridge building. If you've ever\nplayed this game, it will stop at kind\nof weird moments.",
    "start": "4213810",
    "end": "4220026"
  },
  {
    "text": "So here is the physics\nof what happens. In general, the lemming is\nrepresented by a pin right under its left foot.",
    "start": "4220026",
    "end": "4226220"
  },
  {
    "text": "I don't know. Maybe that's the right foot. And that pin should\nalways be on the ground.",
    "start": "4226220",
    "end": "4233645"
  },
  {
    "text": "If it's not on the ground,\nthe lemming will fall. If it falls too far, it dies. But that's not relevant here. So the general walking-- all\nlemmings start as walkers.",
    "start": "4233645",
    "end": "4243040"
  },
  {
    "text": "And what they do is\nbasically move left to right. There's an animation. But mostly, this pin\nis moving one pixel",
    "start": "4243040",
    "end": "4248670"
  },
  {
    "text": "to the right at a time. And so it's visiting\nthese things. Once it sees, oh, there's no\nlonger an obstacle beneath me,",
    "start": "4248670",
    "end": "4254120"
  },
  {
    "text": "I'm going to fall\nthis amount, and then I will fall one pixel at a\ntime until I hit the ground. So there's a gap here.",
    "start": "4254120",
    "end": "4259730"
  },
  {
    "text": "That won't be important here,\nbut this is the real physics. If I hit a step-- and this is,\nat most, eight pixels up-- then",
    "start": "4259730",
    "end": "4267910"
  },
  {
    "text": "I will rise up and go over. But if I have two big a\nstep, more than eight pixels,",
    "start": "4267910",
    "end": "4273630"
  },
  {
    "text": "then when I hit the wall,\nI will switch directions. So in this case, he will hit\nhere and then climb back up.",
    "start": "4273630",
    "end": "4280940"
  },
  {
    "text": "That is the regular\nwalker physics. ",
    "start": "4280940",
    "end": "4286210"
  },
  {
    "text": "Now, we're going to\nuse two abilities. One is called basher. And there's some animations here\nof what happens with bashers.",
    "start": "4286210",
    "end": "4296100"
  },
  {
    "text": "In general, it's\nhorizontal digging. But it's kind of weird\nhorizontal digging. There's this particular\npattern that you dig,",
    "start": "4296100",
    "end": "4302699"
  },
  {
    "text": "which ends up tunneling a\nbig horizontal rectangle more",
    "start": "4302700",
    "end": "4308150"
  },
  {
    "text": "or less. But the way it tells\nwhether it's finished is it looks at\nthese four positions right in front of the dig mask.",
    "start": "4308150",
    "end": "4315730"
  },
  {
    "text": "And if at least one of them is\nsolid, you will keep digging. If they're all empty,\nyou will stop digging.",
    "start": "4315730",
    "end": "4321256"
  },
  {
    "text": "That's important,\nbecause we need to see exactly when these\nthings stop happening. Then you return\nto being a walker.",
    "start": "4321256",
    "end": "4327139"
  },
  {
    "text": "So if everything is normal,\nyou just dig through. Here, that position was\nwhen all four were empty.",
    "start": "4327140",
    "end": "4333386"
  },
  {
    "text": "One was empty, but then\nall four were empty. And so then you stop\ndigging and keep walking. OK.",
    "start": "4333387",
    "end": "4338580"
  },
  {
    "text": "But there's also\nthis notion of steel. Any pixel can be\nmarked as steel. It's a separate,\nindependent bit.",
    "start": "4338580",
    "end": "4344212"
  },
  {
    "text": "Usually there's some graphics\nto indicate your steel. But here we're\ngoing to use blue. And there's this\none steel check.",
    "start": "4344212",
    "end": "4351750"
  },
  {
    "text": "And if that position\nis steel, you will immediately stop digging. Or you will stop\ndigging when that start",
    "start": "4351750",
    "end": "4357646"
  },
  {
    "text": "position hits a steel pixel. So we're going to use\nthat in the proof. But that's how bashers work.",
    "start": "4357646",
    "end": "4365730"
  },
  {
    "text": "Next we have builders. These are building\nthe staircases. And there's this subtlety\nthat the solidity check",
    "start": "4365730",
    "end": "4372449"
  },
  {
    "text": "are these three points. If any of them is solid,\nit will stop digging.",
    "start": "4372450",
    "end": "4379500"
  },
  {
    "text": "And if this one's solid,\nyou'll also switch directions. There's also a limited\nnumber of stairs,",
    "start": "4379500",
    "end": "4385050"
  },
  {
    "text": "because you can only fit\nso many in this little bag. [LAUGHTER] That won't matter for the proof.",
    "start": "4385050",
    "end": "4390530"
  },
  {
    "text": "We're always going\nto stop before we hit the 15 stairs or so, 10\nstairs, something like that.",
    "start": "4390530",
    "end": "4397610"
  },
  {
    "text": "So you can see it\nin action here. You place the step.",
    "start": "4397610",
    "end": "4402980"
  },
  {
    "text": "The initial step overlaps\nyour feet by two pixels. And then you do this offset\nof two to the right, one up",
    "start": "4402980",
    "end": "4410850"
  },
  {
    "text": "until you hit\nsomething like that. And then in that\ncase, you turn around, because you hit the\nwall, so to speak.",
    "start": "4410850",
    "end": "4417260"
  },
  {
    "text": "But notice there's\nthis big gap here. OK.",
    "start": "4417260",
    "end": "4423120"
  },
  {
    "text": "So now we want to\nuse metatheorem five. We want to build a door\nand crossover, I guess.",
    "start": "4423120",
    "end": "4432244"
  },
  {
    "text": "I don't know if I have the--\nI do have the crossover here. It's not so hard. First we just need to be\nable to move lemmings around.",
    "start": "4432244",
    "end": "4438739"
  },
  {
    "text": "And they move in\na very simple way. So yeah. AUDIENCE: How did he check\nall these pixel things? PROFESSOR: [LAUGHS]\nThat's a good question.",
    "start": "4438740",
    "end": "4449022"
  },
  {
    "text": "Definitely one\nthing he did is look at one of the clones of lemmings\nand read the source code.",
    "start": "4449022",
    "end": "4454250"
  },
  {
    "text": "How that clone was done to mimic\nexactly the original lemmings I'm not sure.",
    "start": "4454250",
    "end": "4459290"
  },
  {
    "text": "So I don't know\nwhether this has been compared against disassembled,\noriginal Lemmings code or what.",
    "start": "4459290",
    "end": "4466630"
  },
  {
    "text": "I'll follow up with him. I was talking to\nhim earlier today. OK. So we are only going to\ngive the player the ability",
    "start": "4466630",
    "end": "4474820"
  },
  {
    "text": "to do builders or bashers. And we want to prevent the\nplayer from doing builders",
    "start": "4474820",
    "end": "4480160"
  },
  {
    "text": "in random places. So these red things are traps. If you ever at any point\ndecide to become a builder,",
    "start": "4480160",
    "end": "4487710"
  },
  {
    "text": "your dot will not be here. Your dot will be above. And then it will be touching\nthe trap, and then you die.",
    "start": "4487710",
    "end": "4492980"
  },
  {
    "text": "So these red things\nare to prevent you from building anywhere. You also can't bash\nanywhere, because let's say",
    "start": "4492980",
    "end": "4500070"
  },
  {
    "text": "this is all steel. OK. Or actually, I think the\nwhole background here",
    "start": "4500070",
    "end": "4505130"
  },
  {
    "text": "is steel except in specific\nplaces in the gadget. So this is a small thing.",
    "start": "4505130",
    "end": "4510610"
  },
  {
    "text": "This basically let's\nus ascend slightly. Because lemmings only\nlike to go left and right and there's no jump\nability, we want",
    "start": "4510610",
    "end": "4519849"
  },
  {
    "text": "to be able to build a graph. So this will let us\ngo up a little bit. This will let us go\ndown a little bit.",
    "start": "4519850",
    "end": "4524970"
  },
  {
    "text": "This will let us change\ndirections into going up, change directions in going down. This is a crossover,\nbecause lemmings will just",
    "start": "4524970",
    "end": "4531330"
  },
  {
    "text": "proceed to the right. There's no way to make\nthem change direction unless they hit something. So that's basic lemming driving.",
    "start": "4531330",
    "end": "4538790"
  },
  {
    "text": " These are not explicitly\nstated in the metatheorem.",
    "start": "4538790",
    "end": "4545340"
  },
  {
    "text": "You see here the vagueness\nof the metatheorem. We need the ability\nfor the player to choose whether lemmings\ngo one way or another way.",
    "start": "4545340",
    "end": "4552030"
  },
  {
    "text": "We need that, for example, in\nthe existential quantifier. But in general, we\nwere kind of assuming that the player has this kind\nof agency to choose directions",
    "start": "4552030",
    "end": "4559560"
  },
  {
    "text": "of lemmings. So for that, we need\na kind of fork gadget. And you can either do a build\nimmediately followed by a bash,",
    "start": "4559560",
    "end": "4569450"
  },
  {
    "text": "or you can do a bash\nin order to get down. So if I do a build\nand then a bash, I will stop building and\nthen just make one step.",
    "start": "4569450",
    "end": "4576530"
  },
  {
    "text": "Because if I made a second step,\nI would die from the traps. That will let me choose\nto go to the top path.",
    "start": "4576530",
    "end": "4582550"
  },
  {
    "text": "Or even if this is already\nthere, I could bash it away. Or if it isn't there, just wait. And then I will go down here.",
    "start": "4582550",
    "end": "4588431"
  },
  {
    "text": "OK? So no matter what the\nstate of this gadget is, I can either take the top path\nor go down to the bottom path.",
    "start": "4588431",
    "end": "4594520"
  },
  {
    "text": "Because here I have\nunlimited bashes and builds. So those are the two states.",
    "start": "4594520",
    "end": "4599989"
  },
  {
    "text": "This is the non-steel part. We need that for\nthe bash to succeed.",
    "start": "4599990",
    "end": "4610800"
  },
  {
    "text": "So it ends up bashing, but\nbecause it's all empty here,",
    "start": "4610800",
    "end": "4616300"
  },
  {
    "text": "you immediately stop bashing. OK. That's the fork. And finally, the door.",
    "start": "4616300",
    "end": "4623095"
  },
  {
    "text": "So if the door was\nopen, you go through it. If it's closed, you die, even\nif you try to build a bridge.",
    "start": "4623096",
    "end": "4629119"
  },
  {
    "text": "If I go this way, I\ncan either fall down, or I could bash it away\nand then open the door. But I still fall to the bottom.",
    "start": "4629120",
    "end": "4635810"
  },
  {
    "text": "If I come from here with a\nclosed door, fine, I can exit. If it's an open door, I\nbetter build this thing.",
    "start": "4635810",
    "end": "4642860"
  },
  {
    "text": "If I build too far,\nI'm in trouble. But if I build just once\nand then immediately bash, then I will get to the right.",
    "start": "4642860",
    "end": "4648890"
  },
  {
    "text": "What did I just\ndo in rapid fire? That was the closed path,\nwhere I must put this",
    "start": "4648890",
    "end": "4654090"
  },
  {
    "text": "back in in order to survive. The open, I had a choice. I could bash it.",
    "start": "4654090",
    "end": "4659130"
  },
  {
    "text": "In either case, I end\nup to the open exit. And for traversal, you will only\nsurvive if this is not there.",
    "start": "4659130",
    "end": "4665060"
  },
  {
    "text": "And you get out. So lots of crossing paths. But you can see why you need\nthis pixel-by-pixel analysis",
    "start": "4665060",
    "end": "4671679"
  },
  {
    "text": "to really be sure that this\ngadget does exactly what you want. And that is a door for Lemmings.",
    "start": "4671680",
    "end": "4677540"
  },
  {
    "text": "And therefore, Lemmings\nis PSPACE-complete. Pretty epic. And that's all for today.",
    "start": "4677540",
    "end": "4684739"
  },
  {
    "text": "Yay, video games. ",
    "start": "4684740",
    "end": "4696793"
  }
]