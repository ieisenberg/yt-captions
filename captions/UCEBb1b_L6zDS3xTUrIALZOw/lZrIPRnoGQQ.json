[
  {
    "text": " The following content is\nprovided under a Creative Commons license.",
    "start": "0",
    "end": "5310"
  },
  {
    "text": "Your support will help\nMIT OpenCourseWare continue to offer high-quality\neducational resources for free.",
    "start": "5310",
    "end": "11610"
  },
  {
    "text": "To make a donation or to\nview additional materials from hundreds of MIT courses,\nvisit MIT OpenCourseWare",
    "start": "11610",
    "end": "18140"
  },
  {
    "text": "at ocw.mit.edu.  GILBERT STRANG: OK, here we go.",
    "start": "18140",
    "end": "25590"
  },
  {
    "text": "All set, and two\ntopics for today-- one is to go back to\nProfessor Sra's lecture.",
    "start": "25590",
    "end": "34800"
  },
  {
    "text": "That was last Friday. And he promised a\ntheorem and proof.",
    "start": "34800",
    "end": "41110"
  },
  {
    "text": "And this morning,\nhe sent it to me. So it's proving the convergence\nof stochastic gradient descent.",
    "start": "41110",
    "end": "51660"
  },
  {
    "text": "And really, what's\nimportant, maybe, and useful is not so much\nthe details of the proof,",
    "start": "51660",
    "end": "58590"
  },
  {
    "text": "which I'm just learning,\nbut the assumptions--",
    "start": "58590",
    "end": "63700"
  },
  {
    "text": "what's the logic\nhere, what do you have to assume about\nthe gradient and about",
    "start": "63700",
    "end": "70740"
  },
  {
    "text": "the algorithm to get the answer? But now I actually look back\nat the video of his lecture.",
    "start": "70740",
    "end": "82920"
  },
  {
    "text": "And it was excellent. And as I looked at it, there\nwere a couple of things",
    "start": "82920",
    "end": "89970"
  },
  {
    "text": "later in the lecture\nthat I thought would make good projects.",
    "start": "89970",
    "end": "95340"
  },
  {
    "text": "So I don't know if\nanybody is still open to what to do on a project.",
    "start": "95340",
    "end": "100920"
  },
  {
    "text": "But here are my two ideas. And if you've already\nfinished your project,",
    "start": "100920",
    "end": "107280"
  },
  {
    "text": "well, you get an A-plus by\nconsidering one of these.",
    "start": "107280",
    "end": "113640"
  },
  {
    "text": "So you remember-- and\nthis will remind you of the lecture, which\nis a good thing.",
    "start": "113640",
    "end": "119170"
  },
  {
    "text": "So do you remember that\nquestion 1 was whether, in the stochastic part, after\nyou've sampled one or some mini",
    "start": "119170",
    "end": "130289"
  },
  {
    "text": "batch-- but let's just say\none of the lost functions,",
    "start": "130289",
    "end": "136170"
  },
  {
    "text": "coming from one sample-- you remember, the whole point\nis that if we do all zillion",
    "start": "136170",
    "end": "142860"
  },
  {
    "text": "samples at every iteration,\nwe're really, really slow. So the stochastic idea\nis to randomly pick",
    "start": "142860",
    "end": "151170"
  },
  {
    "text": "one or a mini batch\nof the samples and just reduce their loss,\njust deal with the loss--",
    "start": "151170",
    "end": "161790"
  },
  {
    "text": "say, the square loss. Or later we'll see\ncross-entropy loss.",
    "start": "161790",
    "end": "166980"
  },
  {
    "text": "But whatever the cost\nis, just do a few or one.",
    "start": "166980",
    "end": "174239"
  },
  {
    "text": "And then the question was,\nafter you've done that one, do you put it back\nin the pot every time",
    "start": "174240",
    "end": "181350"
  },
  {
    "text": "you sample over the\nwhole collection? But that's expensive.",
    "start": "181350",
    "end": "186810"
  },
  {
    "text": "Or do you just make a list of\nrandom order of all the samples",
    "start": "186810",
    "end": "195060"
  },
  {
    "text": "and go through them? Which is then without\nreplacement, which",
    "start": "195060",
    "end": "200349"
  },
  {
    "text": "is a sort of semi-illegal. That is, the logic\nin the randomization",
    "start": "200350",
    "end": "211780"
  },
  {
    "text": "asks you to replace every time. But nobody does it. It costs a lot--",
    "start": "211780",
    "end": "218019"
  },
  {
    "text": "probably not worth it. So the project would be,\nsuppose you take 1,000--",
    "start": "218020",
    "end": "223870"
  },
  {
    "text": "or, say, just 100. 100 random numbers--\nsay you use MATLAB, just",
    "start": "223870",
    "end": "234305"
  },
  {
    "text": "the command \"rand.\" So you get numbers whose\naverage is a half from rand.",
    "start": "234305",
    "end": "240540"
  },
  {
    "text": "They're between 0 and 1. OK. So we know what the average is.",
    "start": "240540",
    "end": "246320"
  },
  {
    "text": "So let's compute it two ways. One is by not replacing.",
    "start": "246320",
    "end": "253130"
  },
  {
    "text": "And that's the interesting one. So take 100 samples.",
    "start": "253130",
    "end": "259699"
  },
  {
    "text": "Well, I guess we know\nthat, after we've got through the full\n100, we're going to get",
    "start": "259700",
    "end": "265790"
  },
  {
    "text": "exactly the right answer. But anyway, my question would\nbe, how much difference do you",
    "start": "265790",
    "end": "274460"
  },
  {
    "text": "see in the eventual approach--\nso the law of large numbers,",
    "start": "274460",
    "end": "280220"
  },
  {
    "text": "I guess, would tell\nus we get a average of a half for these numbers\nwith uniform distribution",
    "start": "280220",
    "end": "290820"
  },
  {
    "text": "between 0 and 1. Should I be writing\nanything here? Maybe I should. OK.",
    "start": "290820",
    "end": "296370"
  },
  {
    "text": "So this is project 1. ",
    "start": "296370",
    "end": "302930"
  },
  {
    "text": "You pick numbers ak,\nwhich is from rand--",
    "start": "302930",
    "end": "313110"
  },
  {
    "text": "so uniformly on 0,1.",
    "start": "313110",
    "end": "322469"
  },
  {
    "text": "And then my question is,\nwhat about convergence to the final--",
    "start": "322470",
    "end": "329310"
  },
  {
    "text": "the average is a half. So this may be too\nsimple an example.",
    "start": "329310",
    "end": "335099"
  },
  {
    "text": "But could we see what\nhappens for the convergence of the average as you either\ndo replacements or don't",
    "start": "335100",
    "end": "346590"
  },
  {
    "text": "do replacements? And in fact, I would like\nto see a figure that looks",
    "start": "346590",
    "end": "353010"
  },
  {
    "text": "like those in his lecture. Do you remember? He started it somewhere--",
    "start": "353010",
    "end": "358470"
  },
  {
    "text": "start-- and then\nhere's the finish. ",
    "start": "358470",
    "end": "365730"
  },
  {
    "text": "But you remember, the\nstochastic gradient descent was kind of pretty\neffective at the beginning.",
    "start": "365730",
    "end": "371620"
  },
  {
    "text": "Well, the beginning,\nthose might be 100 iterations each-- one epoch,\none run through the full number.",
    "start": "371620",
    "end": "380960"
  },
  {
    "text": "But then when it got\nto here, got closer, it started oscillating.",
    "start": "380960",
    "end": "387180"
  },
  {
    "text": "You remember, he identified\nthe region of confusion around the thing.",
    "start": "387180",
    "end": "393789"
  },
  {
    "text": "Well, my suggestion\nis just, I think those videos should be\naccessible to you on--",
    "start": "393790",
    "end": "400920"
  },
  {
    "text": "are they on Stellar? Yeah. So I'd love to see that\nbehavior and some good examples",
    "start": "400920",
    "end": "414270"
  },
  {
    "text": "of that behavior and\nsome pictures to you. So that would be one\nidea with and with--",
    "start": "414270",
    "end": "419730"
  },
  {
    "text": "oh, yeah, that's also idea 2. Idea 2 is the good\nstart and then",
    "start": "419730",
    "end": "427830"
  },
  {
    "text": "the bad finish for a\nstochastic gradient descent. And of course,\neven without this,",
    "start": "427830",
    "end": "437970"
  },
  {
    "text": "the magic words in computations\nis \"early stopping.\"",
    "start": "437970",
    "end": "445170"
  },
  {
    "text": "We don't over-fit. ",
    "start": "445170",
    "end": "455330"
  },
  {
    "text": "So we wanted to\nstop early, anyway. And early stopping\njust is a good idea",
    "start": "455330",
    "end": "464850"
  },
  {
    "text": "if that's what the\napproach to the x",
    "start": "464850",
    "end": "471230"
  },
  {
    "text": "star that you're looking for. This would be the\nplace where the--",
    "start": "471230",
    "end": "477169"
  },
  {
    "text": "that's x star where\ngrad f at x star is 0.",
    "start": "477170",
    "end": "485040"
  },
  {
    "text": "That's the minimum point. That's ARG MIN-- exactly\nwhat we're looking for.",
    "start": "485040",
    "end": "494900"
  },
  {
    "text": "And we don't find it very well. But we get close to it fast.",
    "start": "494900",
    "end": "500090"
  },
  {
    "text": "OK. Two ideas on projects--",
    "start": "500090",
    "end": "505520"
  },
  {
    "text": "so maybe I'll go to the\nmain topic of today--",
    "start": "505520",
    "end": "511629"
  },
  {
    "text": "the topic I promised-- the idea of back propagation.",
    "start": "511630",
    "end": "519099"
  },
  {
    "text": "This is all to compute grad f--",
    "start": "519100",
    "end": "528600"
  },
  {
    "text": "the gradient. All the derivatives-- this\nis the df dx1 to df dxm,",
    "start": "528600",
    "end": "542460"
  },
  {
    "text": "maybe, I'll say, where I have\nm features for the sample.",
    "start": "542460",
    "end": "554730"
  },
  {
    "text": "OK. So that's back propagation. And that's the thing whose\ndiscovery, or rediscovery,",
    "start": "554730",
    "end": "565050"
  },
  {
    "text": "put neural nets on the map. That's the key calculation, of\ncourse, to find the gradient.",
    "start": "565050",
    "end": "572510"
  },
  {
    "text": "In the steepest\ndescent algorithm, every step needs a gradient.",
    "start": "572510",
    "end": "578029"
  },
  {
    "text": "And if you can't compute it\nquickly, you're in bad shape.",
    "start": "578030",
    "end": "585620"
  },
  {
    "text": "But you can compute\nit quickly by this automatic differentiation\nin reverse mode, which",
    "start": "585620",
    "end": "594140"
  },
  {
    "text": "is otherwise known-- I don't think the people--\nmaybe Hinton was the leader",
    "start": "594140",
    "end": "609090"
  },
  {
    "text": "in developing deep neural net-- deep learning. ",
    "start": "609090",
    "end": "616200"
  },
  {
    "text": "So I give him big\ncredit for that-- that back propagation would\nwork and would give him",
    "start": "616200",
    "end": "622040"
  },
  {
    "text": "fast gradients. But it actually had been studied\nbefore under the name AD--",
    "start": "622040",
    "end": "630650"
  },
  {
    "text": "Automatic Differentiation. So may I just tell\nyou that idea?",
    "start": "630650",
    "end": "635840"
  },
  {
    "text": "Some of you may know\nit, may know about it, may know more than I, and\nmight know a good website",
    "start": "635840",
    "end": "647040"
  },
  {
    "text": "to see this description. There will be, of course,\na section of the notes,",
    "start": "647040",
    "end": "656300"
  },
  {
    "text": "you already have it. This is section 7.2.",
    "start": "656300",
    "end": "662770"
  },
  {
    "text": "So this is the chapter\non deep learning. And the first section was\nabout the structure of F of x.",
    "start": "662770",
    "end": "671040"
  },
  {
    "text": "And you remember the key\npoint about the structure of F of x is that I start with\nx and apply some function, F1",
    "start": "671040",
    "end": "679920"
  },
  {
    "text": "of x. And to that, I apply\nsome function, F2 of x. And to that, I\napply some function",
    "start": "679920",
    "end": "686970"
  },
  {
    "text": "of F3 of F2 of F1 of x. And that's the thing\nwhose derivative I need.",
    "start": "686970",
    "end": "695320"
  },
  {
    "text": "So I'll just take\nordinary derivative-- well, partial\nderivatives, really.",
    "start": "695320",
    "end": "700950"
  },
  {
    "text": "Yeah, I better say\npartial derivatives. So suppose x is a pair, xy. ",
    "start": "700950",
    "end": "708690"
  },
  {
    "text": "Example-- so here, let\nme show you my example.",
    "start": "708690",
    "end": "717880"
  },
  {
    "text": "So suppose F of x is-- let me take a simple example--",
    "start": "717880",
    "end": "724649"
  },
  {
    "text": "x cubed times x plus 2y. ",
    "start": "724650",
    "end": "730230"
  },
  {
    "text": "OK. So I want to think of that\nfunction the way anybody would,",
    "start": "730230",
    "end": "738010"
  },
  {
    "text": "as the product of two functions. So there is a product rule\nto get into the derivative.",
    "start": "738010",
    "end": "746170"
  },
  {
    "text": "And then we need the\nderivatives of each piece. So there's a power rule and\na linear combination rule.",
    "start": "746170",
    "end": "756880"
  },
  {
    "text": "So it's got a few of\nthe rules that we use. And the point is to think\nabout the computation",
    "start": "756880",
    "end": "765160"
  },
  {
    "text": "of F of x and the\ncomputation of dF dx",
    "start": "765160",
    "end": "771399"
  },
  {
    "text": "and the computation of dF dy. Those are the\nderivatives that we need.",
    "start": "771400",
    "end": "777370"
  },
  {
    "text": "This is the function\nwe need and how to do those\ncomputations quickly.",
    "start": "777370",
    "end": "783640"
  },
  {
    "text": "OK. And this is section 7.2, which\nbenefited a lot from a blog.",
    "start": "783640",
    "end": "795100"
  },
  {
    "text": "I'm not a blog reader\nor a blog writer. But somehow I found this blog.",
    "start": "795100",
    "end": "801325"
  },
  {
    "start": "801325",
    "end": "807250"
  },
  {
    "text": "It's Christopher\nOlah, is his name.",
    "start": "807250",
    "end": "815670"
  },
  {
    "text": "And he really\nwrites clear things. ",
    "start": "815670",
    "end": "821260"
  },
  {
    "text": "He works for one of\nthe big companies and does the deeper research.",
    "start": "821260",
    "end": "827850"
  },
  {
    "text": "But he's also a\nreally good expositor. And the website\nthat he now uses is",
    "start": "827850",
    "end": "835950"
  },
  {
    "text": "called Distill dot something. But I think maybe this\nblog was earlier than",
    "start": "835950",
    "end": "844620"
  },
  {
    "text": "before the start of Distill. But it might be\nloaded onto Distill. Anyway, that's where I got\nthis simple description",
    "start": "844620",
    "end": "854190"
  },
  {
    "text": "of back propagation. And let's just do\ncalculus, first of all.",
    "start": "854190",
    "end": "861160"
  },
  {
    "text": "If I just have a function\nof maybe even one variable, what's the derivative? What is dF dx here,\njust to remember",
    "start": "861160",
    "end": "869610"
  },
  {
    "text": "what calculation we have to do? So dF dx, this is\nwith n equal one--",
    "start": "869610",
    "end": "878410"
  },
  {
    "text": "one variable. So I use ordinary derivative\nand not partial derivative.",
    "start": "878410",
    "end": "887339"
  },
  {
    "text": "But that's what\nreally has to be done.",
    "start": "887340",
    "end": "893160"
  },
  {
    "text": "But just, what's the\nderivative of that-- of a chain of functions?",
    "start": "893160",
    "end": "898560"
  },
  {
    "text": "Well, of course, the chain rule. So what does the chain rule say?",
    "start": "898560",
    "end": "904110"
  },
  {
    "text": "I differentiate dF. ",
    "start": "904110",
    "end": "910550"
  },
  {
    "text": "I don't know. What do I put that it's\ndifferentiated with respect to?",
    "start": "910550",
    "end": "915950"
  },
  {
    "text": " dF3, dF2-- is that\nwhat I should put?",
    "start": "915950",
    "end": "921630"
  },
  {
    "text": "OK.  And where do I evaluate\nthat derivative?",
    "start": "921630",
    "end": "928790"
  },
  {
    "text": " So yeah, I don't\nevaluate it at x.",
    "start": "928790",
    "end": "937880"
  },
  {
    "text": "I'm differentiated to F2. So do I evaluate it\nat F2 of F1 of x?",
    "start": "937880",
    "end": "945500"
  },
  {
    "text": "This is where the chain rule\ngets sort of a little chain-ey.",
    "start": "945500",
    "end": "954390"
  },
  {
    "text": "OK. Then we know that dF2 dF1. ",
    "start": "954390",
    "end": "961390"
  },
  {
    "text": "And again, that's now\nevaluated at F1 of x. And then the final factor\nis dF1 dx evaluated at x.",
    "start": "961390",
    "end": "974470"
  },
  {
    "text": "That's somehow\nwhat we have to do. And that's just for an\nordinary one-variable function.",
    "start": "974470",
    "end": "982010"
  },
  {
    "text": "And I have here a\ntwo-variable function. And deep learning has a\nmillion-variable function.",
    "start": "982010",
    "end": "987485"
  },
  {
    "text": " So I think we won't\ngo to a million.",
    "start": "987485",
    "end": "993550"
  },
  {
    "text": "But two, we could manage. So let's compute the\nfunction, first of all.",
    "start": "993550",
    "end": "1002070"
  },
  {
    "text": "Compute F. So I'm\ngiven x equals, say, 2,",
    "start": "1002070",
    "end": "1018760"
  },
  {
    "text": "and y equals, say, 3. ",
    "start": "1018760",
    "end": "1024530"
  },
  {
    "text": "And I'm going to create\na computational graph.",
    "start": "1024530",
    "end": "1029869"
  },
  {
    "text": " So I'm actually going to\ndraw the computational graph",
    "start": "1029869",
    "end": "1047480"
  },
  {
    "text": "to compute for F. And then it'll\nbe a variation of that graph",
    "start": "1047480",
    "end": "1057140"
  },
  {
    "text": "to find the derivatives. So let's just start with\nthe graph, first of all,",
    "start": "1057140",
    "end": "1062360"
  },
  {
    "text": "for the function, because\nwe're going to need that. So again, it's x cubed plus--",
    "start": "1062360",
    "end": "1069870"
  },
  {
    "text": "so can I write that function\nagain? x cubed times x plus 2y. ",
    "start": "1069870",
    "end": "1078390"
  },
  {
    "text": "So I think the first step will\nbe to find x plus x cubed--",
    "start": "1078390",
    "end": "1086561"
  },
  {
    "text": "that factor, which will be 8.  And we have to find the\nother factor, x plus 2y.",
    "start": "1086561",
    "end": "1096110"
  },
  {
    "text": "So then that uses y and x. So it's a directed\ngraph in going forward",
    "start": "1096110",
    "end": "1103610"
  },
  {
    "text": "with this computation. So x plus 2y equals\nwhatever it is--",
    "start": "1103610",
    "end": "1109390"
  },
  {
    "text": "2 and 6-- oh, 8 again. Not brilliant. What shall I change here?",
    "start": "1109390",
    "end": "1116600"
  },
  {
    "text": "Make it 3y? ",
    "start": "1116600",
    "end": "1122200"
  },
  {
    "text": "3y, just to get a\ndifferent number here.",
    "start": "1122200",
    "end": "1127539"
  },
  {
    "text": "So now x is 2. y is 3. I get 11. That's a good number.",
    "start": "1127540",
    "end": "1132797"
  },
  {
    "text": "11.  OK.",
    "start": "1132797",
    "end": "1139760"
  },
  {
    "text": "So far, so good? And now the next step\non this graph will be,",
    "start": "1139760",
    "end": "1145480"
  },
  {
    "text": "I have a product of those. So that will go to the product. ",
    "start": "1145480",
    "end": "1155850"
  },
  {
    "text": "F equals 8 times 11-- 88. ",
    "start": "1155850",
    "end": "1162049"
  },
  {
    "text": "OK. So we've got the answer,\n88, which, normally, I",
    "start": "1162050",
    "end": "1168809"
  },
  {
    "text": "wouldn't take that\nmuch of a book to compute F. I would have said,\n2 cubed times 2 plus 3 times 3.",
    "start": "1168810",
    "end": "1181710"
  },
  {
    "text": "And I'd have simplified\nthat to 8 times 11.",
    "start": "1181710",
    "end": "1187169"
  },
  {
    "text": "And I would have got 88. So if we were just writing\nnormally, that would do it.",
    "start": "1187170",
    "end": "1194190"
  },
  {
    "text": "But this is the picture of\nthe computational graph. OK.",
    "start": "1194190",
    "end": "1200040"
  },
  {
    "text": "Good. Good. Good. Now it's the derivatives--",
    "start": "1200040",
    "end": "1205200"
  },
  {
    "text": "two derivatives to\nfind-- dF dx and dF dy. Suppose we go forward first.",
    "start": "1205200",
    "end": "1212810"
  },
  {
    "text": "My point is going to\nbe-- or the great point is that backward is better. Reverse mode is better.",
    "start": "1212810",
    "end": "1219770"
  },
  {
    "text": "But we don't know what that\nmeans until we've gone forward. So let me go forward. So now I'm going to go forward.",
    "start": "1219770",
    "end": "1225735"
  },
  {
    "start": "1225735",
    "end": "1238940"
  },
  {
    "text": "Let's do dF dx. Everybody is up for dF\ndx-- the partial derivative",
    "start": "1238940",
    "end": "1244169"
  },
  {
    "text": "with respect to x? So here we have x\nequal 2 and y equal 3.",
    "start": "1244170",
    "end": "1254980"
  },
  {
    "start": "1254980",
    "end": "1261168"
  },
  {
    "text": "OK. And then I take the\nderivative of that step.",
    "start": "1261168",
    "end": "1271750"
  },
  {
    "text": "The first step was x 2x cubed. So I need the derivative. The whole point of AD is\nthat every computation",
    "start": "1271750",
    "end": "1283710"
  },
  {
    "text": "of a derivative breaks down like\nthis into very simple pieces.",
    "start": "1283710",
    "end": "1290399"
  },
  {
    "text": "And the derivatives\nof those simple pieces are also simple pieces.",
    "start": "1290400",
    "end": "1296659"
  },
  {
    "text": "So the whole point is\nto replace appropriately",
    "start": "1296660",
    "end": "1304190"
  },
  {
    "text": "those intermediate\nsteps with derivatives,",
    "start": "1304190",
    "end": "1310019"
  },
  {
    "text": "so as to compute\nthe x derivative. So I have to use the fact\nthat the derivative of x",
    "start": "1310020",
    "end": "1320070"
  },
  {
    "text": "cubed, with respect to x-- oh, I better do partial\nderivative-- partial derivatives of x cube, with\nrespect to x, is 3x squared.",
    "start": "1320070",
    "end": "1329950"
  },
  {
    "text": "I'll put maybe a formula\nand then a number. So that gives 3 times 4--",
    "start": "1329950",
    "end": "1341860"
  },
  {
    "text": "12.  And the derivative of x\ncubed, with respect to y,",
    "start": "1341860",
    "end": "1351750"
  },
  {
    "text": "gives 0, clearly. So that's 0. ",
    "start": "1351750",
    "end": "1360160"
  },
  {
    "text": "So I'm doing the x derivative. So the derivative of y,\nwith respect to x, is--",
    "start": "1360160",
    "end": "1371169"
  },
  {
    "text": "you get to tell me. If I'm computing partial\nderivatives, it is 0.",
    "start": "1371170",
    "end": "1378560"
  },
  {
    "text": "It is 0. y and x are independent. And this is the\nreason, in my view,",
    "start": "1378560",
    "end": "1386810"
  },
  {
    "text": "that the forward\nmethod is wasteful, because I'm going to have to do\nanother whole graph for the y",
    "start": "1386810",
    "end": "1395630"
  },
  {
    "text": "derivative. In other words, tracking\nthe x derivatives,",
    "start": "1395630",
    "end": "1401630"
  },
  {
    "text": "a whole lot of stuff\nnever got off the ground. So we never should\nhave looked at it.",
    "start": "1401630",
    "end": "1408140"
  },
  {
    "text": "So anyway, I have\nthis x plus 3y, maybe.",
    "start": "1408140",
    "end": "1421812"
  },
  {
    "text": "I don't know whether\nto erase that. I think I will,\njust because I don't know what to do with it there.",
    "start": "1421812",
    "end": "1429010"
  },
  {
    "text": "Yeah. So now let me take the\nones that I really need,",
    "start": "1429010",
    "end": "1436130"
  },
  {
    "text": "is the derivative, with respect\nto x, of x plus 3y, which is 1.",
    "start": "1436130",
    "end": "1448400"
  },
  {
    "text": "And so that gives me the\nanswer 1 for any x actually.",
    "start": "1448400",
    "end": "1454520"
  },
  {
    "text": "OK. And now what? ",
    "start": "1454520",
    "end": "1460820"
  },
  {
    "text": "Oh, yeah, I don't need these. This is a waste of time. Isn't it?",
    "start": "1460820",
    "end": "1466330"
  },
  {
    "text": " Is it only x derivatives I want?",
    "start": "1466330",
    "end": "1473120"
  },
  {
    "text": "Anyway, let's just keep going. You can see, this takes\na little organization.",
    "start": "1473120",
    "end": "1480170"
  },
  {
    "text": "And I'm not practiced with it. So what am I going to do? I'm looking for the\nx derivative of--",
    "start": "1480170",
    "end": "1487700"
  },
  {
    "text": "I've got to use our\nproduct rule now. I found the x derivative\nof that factor was 12.",
    "start": "1487700",
    "end": "1494750"
  },
  {
    "text": "The x derivative of\nthis factor is 1. And now the x derivative\nof the product--",
    "start": "1494750",
    "end": "1503950"
  },
  {
    "text": "so now I'm going to do,\nsomehow, a product rule--",
    "start": "1503950",
    "end": "1510590"
  },
  {
    "text": "the x derivative\nof this product. I should have given\nthese two terms a name.",
    "start": "1510590",
    "end": "1520460"
  },
  {
    "text": "Let me call that first term x\ncubed, and the second term x",
    "start": "1520460",
    "end": "1525909"
  },
  {
    "text": "plus 3y-- call it s. So I'll call the\ntwo terms c and s.",
    "start": "1525910",
    "end": "1532090"
  },
  {
    "start": "1532090",
    "end": "1538929"
  },
  {
    "text": "So that's dc ds. This is dc dx. This is dc dx.",
    "start": "1538930",
    "end": "1546820"
  },
  {
    "text": "And this one is ds dx and dc dy.",
    "start": "1546820",
    "end": "1556389"
  },
  {
    "text": "Do I need to know that? I'm sorry, this computational\ngraph has thrown me.",
    "start": "1556390",
    "end": "1562690"
  },
  {
    "text": "But now I want to\nuse the product rule. And I'm taking x derivatives.",
    "start": "1562690",
    "end": "1569860"
  },
  {
    "text": "So I should have\ncomputed c and s. Yes, I see I need those\nin the product rule.",
    "start": "1569860",
    "end": "1576580"
  },
  {
    "text": "So I should have computed c\nas being 8 and s as being 5.",
    "start": "1576580",
    "end": "1590037"
  },
  {
    "text": "Is that right? 2 plus 3-- so 11.",
    "start": "1590037",
    "end": "1595940"
  },
  {
    "text": "Yeah, I needed the 8. Oh, is that-- what's up?",
    "start": "1595940",
    "end": "1603040"
  },
  {
    "text": "I've just been\nrunning along here without getting myself\nin the whole picture.",
    "start": "1603040",
    "end": "1609730"
  },
  {
    "text": "Yeah, 8 and 11 is right. But now I'm looking\nfor the derivatives. So I don't multiply those.",
    "start": "1609730",
    "end": "1615760"
  },
  {
    "text": "That's not the product rule.  So the product rule is what?",
    "start": "1615760",
    "end": "1621809"
  },
  {
    "start": "1621810",
    "end": "1627190"
  },
  {
    "text": "So this product rule, I have\nto do this combination of--",
    "start": "1627190",
    "end": "1633120"
  },
  {
    "text": "this is now the product rule-- ",
    "start": "1633120",
    "end": "1640050"
  },
  {
    "text": "for the derivative of c times s.",
    "start": "1640050",
    "end": "1645240"
  },
  {
    "text": "So I want c ds dx plus s dc dx.",
    "start": "1645240",
    "end": "1650640"
  },
  {
    "text": "I think I'm on track now. And now I want to\nput it in numbers.",
    "start": "1650640",
    "end": "1656639"
  },
  {
    "text": "So c is 8. ds dx-- have we computed ds dx?",
    "start": "1656640",
    "end": "1665370"
  },
  {
    "text": "Yes, ds dx is 1. And now s itself\nis computed as 11.",
    "start": "1665370",
    "end": "1673590"
  },
  {
    "text": "And dc dx, we computed as 12.",
    "start": "1673590",
    "end": "1678840"
  },
  {
    "text": "I don't dare look. ",
    "start": "1678840",
    "end": "1686470"
  },
  {
    "text": "I don't think I'm going to get-- oh, no, I don't\nknow the answer yet. Sorry, I'm not trying to get 88.",
    "start": "1686470",
    "end": "1692019"
  },
  {
    "text": " You guys are not helping. [LAUGHS]",
    "start": "1692020",
    "end": "1698700"
  },
  {
    "text": "You see I'm in trouble. But what I imagine here is,\nthat's 8 and that's 132.",
    "start": "1698700",
    "end": "1704880"
  },
  {
    "text": "So I'm getting 140. Is there any\npossibility that that's the right answer for dF dx?",
    "start": "1704880",
    "end": "1714330"
  },
  {
    "text": "This is dF dx I computed. ",
    "start": "1714330",
    "end": "1720170"
  },
  {
    "text": "By watching me struggle\nhere, you're seeing the idea. ",
    "start": "1720170",
    "end": "1727970"
  },
  {
    "text": "Every step, I take the\nderivative of each step. So it was a power step, x cubed.",
    "start": "1727970",
    "end": "1735050"
  },
  {
    "text": "So I had a 3x squared. And a sum step, so I had a 1.",
    "start": "1735050",
    "end": "1740480"
  },
  {
    "text": "Then the next step\nwas a multiplication. So I needed the\nproduct rule for that.",
    "start": "1740480",
    "end": "1748730"
  },
  {
    "text": "I have these separate numbers. So I put them in. And so it's the\ncomputational graph finished.",
    "start": "1748730",
    "end": "1758139"
  },
  {
    "text": "We only needed two levels. And we got 8 and 132--",
    "start": "1758140",
    "end": "1763840"
  },
  {
    "text": "140. OK. But we didn't get dF dy yet.",
    "start": "1763840",
    "end": "1769120"
  },
  {
    "start": "1769120",
    "end": "1774230"
  },
  {
    "text": "And for that, I'd need\nto redo this again. ",
    "start": "1774230",
    "end": "1780159"
  },
  {
    "text": "And I don't want to do that. I would rather do the reverse\nmode and do them both at once.",
    "start": "1780160",
    "end": "1788159"
  },
  {
    "text": "That's the point of\nthe reverse mode. It's very efficient. It's very efficient, actually.",
    "start": "1788160",
    "end": "1795140"
  },
  {
    "text": "Computing the\ngradient after you've done the work for the function,\ncomputing first derivatives--",
    "start": "1795140",
    "end": "1803270"
  },
  {
    "text": "you could compute\nn first derivatives with about four or five\ntimes the cost, not n times.",
    "start": "1803270",
    "end": "1810799"
  },
  {
    "text": "That's amazing to me. That is amazing that I can\ncompute the gradient very",
    "start": "1810800",
    "end": "1817490"
  },
  {
    "text": "efficiently by the back prop.",
    "start": "1817490",
    "end": "1823290"
  },
  {
    "text": "So I have to show you\nthe backwards way. ",
    "start": "1823290",
    "end": "1829299"
  },
  {
    "text": "Yeah. I'm just going to follow all\nthe paths backwards so that I",
    "start": "1829300",
    "end": "1835090"
  },
  {
    "text": "get both dF dx and dF dy. You see, the idea is to take\nthe derivative of each step--",
    "start": "1835090",
    "end": "1843279"
  },
  {
    "text": "each small step. That's really what\nwe do in calculus. If you think about the\nstart of a calculus course,",
    "start": "1843280",
    "end": "1851049"
  },
  {
    "text": "what derivatives do\nwe actually know? Do we actually use F at\nx plus delta x minus F?",
    "start": "1851050",
    "end": "1860020"
  },
  {
    "text": "What derivatives\ndo we grind out? ",
    "start": "1860020",
    "end": "1865960"
  },
  {
    "text": "We do the derivatives\nof x to the n. Every calculus book starts\nwith x squared and finds",
    "start": "1865960",
    "end": "1874080"
  },
  {
    "text": "the derivative of x to the n. Then you do sine x and cos x. ",
    "start": "1874080",
    "end": "1881150"
  },
  {
    "text": "Then what others? Are there any more? e to the x-- good, e to the x.",
    "start": "1881150",
    "end": "1888450"
  },
  {
    "text": "And it's the inverse\nfunction log. In freshman calculus,\nyou always write ln, just",
    "start": "1888450",
    "end": "1895919"
  },
  {
    "text": "to be out of date. OK. And now that may be the list. Is it? And then the chain rule.",
    "start": "1895920",
    "end": "1903460"
  },
  {
    "text": "Are there others that you\nactually do a computation of?",
    "start": "1903460",
    "end": "1910039"
  },
  {
    "text": "Actually, e to the x is\ndefined by the property that its derivative\nis e to the x.",
    "start": "1910040",
    "end": "1917169"
  },
  {
    "text": "And then you discover\nwhat log x has to be. And sine x-- how do you\ndo sine of x plus delta x?",
    "start": "1917170",
    "end": "1924500"
  },
  {
    "text": "Well, compare minus sine of x. How do you find the hard\nway, once-and-for-all way?",
    "start": "1924500",
    "end": "1932030"
  },
  {
    "text": "You draw a little unit circle\nand mess with some angles.",
    "start": "1932030",
    "end": "1937970"
  },
  {
    "text": "And you discover that the\nderivative of the sine is the cosine.",
    "start": "1937970",
    "end": "1944140"
  },
  {
    "text": "That's if you've defined\nthe sine as a ratio of sides",
    "start": "1944140",
    "end": "1950180"
  },
  {
    "text": "in a right triangle. Of course, you could define\nit as an infinite series. And then you would be\nback to just using that.",
    "start": "1950180",
    "end": "1957600"
  },
  {
    "text": "OK.  So calculus does exactly\nwhat we're doing here--",
    "start": "1957600",
    "end": "1964160"
  },
  {
    "text": "finds all derivatives\nby the chain rule applied to a few ones that\nit has worked out in detail.",
    "start": "1964160",
    "end": "1976030"
  },
  {
    "text": "But tangent of x, we would\nuse the quotient rule.",
    "start": "1976030",
    "end": "1982060"
  },
  {
    "text": "Secant of x, we would use the\nquotient rule, 1 over cosine. And the products, we\nuse the product rule.",
    "start": "1982060",
    "end": "1989370"
  },
  {
    "text": "So really, calculus tends\nto seem fairly simple",
    "start": "1989370",
    "end": "1997010"
  },
  {
    "text": "when you look back to see\nwhat, actually, you did.",
    "start": "1997010",
    "end": "2002750"
  },
  {
    "text": "And then integration-- what\nis integral calculus about? More or less\nguessing the answer.",
    "start": "2002750",
    "end": "2009240"
  },
  {
    "text": "You have to integrate f of x dx. So really, what you have\nto do is sort of think, OK,",
    "start": "2009240",
    "end": "2018130"
  },
  {
    "text": "what had this derivative? What function had\nthat derivative? And mess around and get it.",
    "start": "2018130",
    "end": "2026230"
  },
  {
    "text": "So really, it's a\nfreshman course, I guess.",
    "start": "2026230",
    "end": "2034210"
  },
  {
    "text": "OK. So where am I? Backward. Right.",
    "start": "2034210",
    "end": "2039410"
  },
  {
    "text": "That's the thing still to do. How does the\nbackward system work? OK, I'll try my best.",
    "start": "2039410",
    "end": "2047279"
  },
  {
    "text": "OK. So here is the big goal. Back-- so reverse mode AD.",
    "start": "2047280",
    "end": "2054750"
  },
  {
    "start": "2054750",
    "end": "2061040"
  },
  {
    "text": "Right. And let me make\nmyself a little note. The little note is to give\nyou another example where",
    "start": "2061040",
    "end": "2070710"
  },
  {
    "text": "the order that you\ndo the computations makes a big difference.",
    "start": "2070710",
    "end": "2077190"
  },
  {
    "text": "And that's not\nobvious that it will. There are many things\nin math that you could do in either order.",
    "start": "2077190",
    "end": "2084050"
  },
  {
    "text": "And it seems like, logically,\nyou've done the same things. So another, and\nsimpler, example which",
    "start": "2084050",
    "end": "2093980"
  },
  {
    "text": "shows how one way could be\nway faster than another way is when I'm multiplying\nthree matrices.",
    "start": "2093980",
    "end": "2104869"
  },
  {
    "text": "So I'm multiplying\nthree matrices-- A times B times C. And the question is, do I do BC\nfirst and then multiply by A?",
    "start": "2104870",
    "end": "2114110"
  },
  {
    "text": "Or do I do AB first and\nthen multiply that by C?",
    "start": "2114110",
    "end": "2120230"
  },
  {
    "text": "And of course, I\nkept them in order-- in the order ABC. But the order of computations\ncan be different.",
    "start": "2120230",
    "end": "2131790"
  },
  {
    "text": "You get the right\nanswer both ways. But those can be completely,\ncompletely different. One can be 1,000 times\nfaster than the other.",
    "start": "2131790",
    "end": "2140720"
  },
  {
    "text": "So that's just to show-- actually, it kind\nof connects to this.",
    "start": "2140720",
    "end": "2145990"
  },
  {
    "text": "And there is also another-- so I'll do that, too.",
    "start": "2145990",
    "end": "2153119"
  },
  {
    "text": "So this is example 2, where\nthis is meant to be example 1.",
    "start": "2153120",
    "end": "2161580"
  },
  {
    "text": "And example 3 leads to something\ncalled the adjoint method",
    "start": "2161580",
    "end": "2169860"
  },
  {
    "text": "in differential equations\nor in optimization--",
    "start": "2169860",
    "end": "2177530"
  },
  {
    "text": "in computing optimum\nand maximizing it.",
    "start": "2177530",
    "end": "2183880"
  },
  {
    "text": "Yeah.  Really, the underlying\nreason it gives us speed-up",
    "start": "2183880",
    "end": "2192450"
  },
  {
    "text": "is, it makes the right choice\nin a product of three things.",
    "start": "2192450",
    "end": "2198030"
  },
  {
    "text": "Yeah. So it'll be enough to do\nexample 1 and example 2.",
    "start": "2198030",
    "end": "2203109"
  },
  {
    "text": "OK, let me go with example 1.",
    "start": "2203110",
    "end": "2208540"
  },
  {
    "text": "This is now back propagation. Finally, we got to it. OK. ",
    "start": "2208540",
    "end": "2219330"
  },
  {
    "text": "Well, I look at my\nnotes is how I do it. ",
    "start": "2219330",
    "end": "2227170"
  },
  {
    "text": "So the notes-- this\nis section 7.2-- does these computational graphs.",
    "start": "2227170",
    "end": "2232720"
  },
  {
    "text": "And then here is reverse mode. ",
    "start": "2232720",
    "end": "2238119"
  },
  {
    "text": "So it starts over\nhere with the-- so I'm going to\nuse the chain rule. So dF dF is 1.",
    "start": "2238120",
    "end": "2246040"
  },
  {
    "text": "And then I'm going backwards. ",
    "start": "2246040",
    "end": "2251500"
  },
  {
    "text": "And of course, I have\nto use the right rule.",
    "start": "2251500",
    "end": "2258970"
  },
  {
    "text": "So I have to use\nthe product rule. And then soon I'll\nhave to use these power rule and linear rules.",
    "start": "2258970",
    "end": "2265150"
  },
  {
    "text": "So of course, no change there. The change is that\nby going backwards--",
    "start": "2265150",
    "end": "2272220"
  },
  {
    "text": "oh, I don't know if I\ncompleted that sentence, that I could find 100\npartial derivatives,",
    "start": "2272220",
    "end": "2279650"
  },
  {
    "text": "if the function depended\non 100 variables, in about five times the\ncost of one variable--",
    "start": "2279650",
    "end": "2287870"
  },
  {
    "text": "three to five times\nthe cost of one. So you would expect 100 chain\nrules would cost 100 times.",
    "start": "2287870",
    "end": "2296480"
  },
  {
    "text": "But you see, we're reusing\nthe pieces in the chain",
    "start": "2296480",
    "end": "2302240"
  },
  {
    "text": "and just having a larger-- our chain is wider.",
    "start": "2302240",
    "end": "2308190"
  },
  {
    "text": "But it's not longer. And it's not repeated. Anyway, so here I'm going\nto use whatever it is--",
    "start": "2308190",
    "end": "2316400"
  },
  {
    "text": "dF dc and dF ds.",
    "start": "2316400",
    "end": "2323079"
  },
  {
    "text": "And I'm remembering that--  yeah, OK.",
    "start": "2323080",
    "end": "2329359"
  },
  {
    "text": "So dF dc is s, and dF ds is c.",
    "start": "2329360",
    "end": "2334880"
  },
  {
    "text": "That was because F\nstarted out as c times s.",
    "start": "2334880",
    "end": "2341089"
  },
  {
    "text": "It was the product. OK. Then we've got to\nevaluate those.",
    "start": "2341090",
    "end": "2346900"
  },
  {
    "text": "And I'll look again to see\nthat I'm hopefully writing down some of the correct things. ",
    "start": "2346900",
    "end": "2354740"
  },
  {
    "text": "OK. So now what I've written\ndown next is dF dc is 5.",
    "start": "2354740",
    "end": "2361350"
  },
  {
    "text": "Or no, 5 on that example. What is it here? dF dc is--",
    "start": "2361350",
    "end": "2370960"
  },
  {
    "text": "c is x cubed. So dF-- oh, sorry, dF dc--",
    "start": "2370960",
    "end": "2380410"
  },
  {
    "text": "yeah, I want s. I'm looking for s here. Yeah. I'm looking for s.",
    "start": "2380410",
    "end": "2385474"
  },
  {
    "start": "2385474",
    "end": "2390830"
  },
  {
    "text": "So I'm looking for s. And that's x plus 3y.",
    "start": "2390830",
    "end": "2398460"
  },
  {
    "text": "Am I doing this well? ",
    "start": "2398460",
    "end": "2404030"
  },
  {
    "text": "I want, in the end, to get\nthe derivatives with respect to x and y-- the whole gradient.",
    "start": "2404030",
    "end": "2410880"
  },
  {
    "text": "OK. I think we started right. The first derivatives\nis to write c and s.",
    "start": "2410880",
    "end": "2416650"
  },
  {
    "text": "And then let me leave\nthese boxes open, just to get the picture. ",
    "start": "2416650",
    "end": "2424660"
  },
  {
    "text": "Then I'll need dc dx,\ndc dy, ds dx, and ds dy.",
    "start": "2424660",
    "end": "2443220"
  },
  {
    "text": "I think that's right.  Here, I had a\nproduct of c and s.",
    "start": "2443220",
    "end": "2449400"
  },
  {
    "text": "So I had two derivatives. Here I have c and s,\neach to differentiate.",
    "start": "2449400",
    "end": "2457710"
  },
  {
    "text": "So have an x and a y derivative\nof x and a y derivative. And now it's just a matter\nof putting in those numbers",
    "start": "2457710",
    "end": "2465330"
  },
  {
    "text": "and following the\nchain backwards. ",
    "start": "2465330",
    "end": "2473630"
  },
  {
    "text": "Maybe I'm not going to\nput those numbers in, because if I didn't\nreach 140, you wouldn't",
    "start": "2473630",
    "end": "2479510"
  },
  {
    "text": "believe in back propagation. And that would be\nan unhappy outcome.",
    "start": "2479510",
    "end": "2485285"
  },
  {
    "text": " So I'll leave you to\nput them in maybe.",
    "start": "2485285",
    "end": "2491520"
  },
  {
    "text": "Or the notes have a separate\nexample that you can see. But do you see the point--",
    "start": "2491520",
    "end": "2497760"
  },
  {
    "text": "that in the end, I'm\ngoing to find dF dx and dF",
    "start": "2497760",
    "end": "2507305"
  },
  {
    "text": "dy from the chain--",
    "start": "2507305",
    "end": "2513650"
  },
  {
    "text": "from one chain and not\nfrom a separate chain for x",
    "start": "2513650",
    "end": "2519200"
  },
  {
    "text": "and a separate chain for y. To me, that's the\npoint of reverse mode.",
    "start": "2519200",
    "end": "2526070"
  },
  {
    "text": "It's a little bit of magic. But you see the steps--",
    "start": "2526070",
    "end": "2532190"
  },
  {
    "text": "the ingredient. And some of you have seen\nthis before and maybe",
    "start": "2532190",
    "end": "2537470"
  },
  {
    "text": "know a better exposition. I found this blog by\nChristopher Olah clear.",
    "start": "2537470",
    "end": "2544099"
  },
  {
    "text": "And these very simple\nthings, you'll see, are clear in the notes. But maybe another blog brings\nout other points to make here.",
    "start": "2544100",
    "end": "2556730"
  },
  {
    "text": "It's not obvious, maybe, that\nI could have 100 variables and do the calculation in\nfour or five times the cost--",
    "start": "2556730",
    "end": "2568569"
  },
  {
    "text": "four or five times\nbeing instead of 100. Yeah.",
    "start": "2568570",
    "end": "2573740"
  },
  {
    "text": "But it's possible. OK. So could I close\ntoday with this one?",
    "start": "2573740",
    "end": "2580262"
  },
  {
    "start": "2580262",
    "end": "2585920"
  },
  {
    "text": "How could those be different? You're computing the same\nnumbers, the same AIJ, BJKs,",
    "start": "2585920",
    "end": "2592940"
  },
  {
    "text": "CKLs, and doing these sums. But it certainly is different.",
    "start": "2592940",
    "end": "2599390"
  },
  {
    "text": "So let's just do that. OK. I'll do it here. ",
    "start": "2599390",
    "end": "2608480"
  },
  {
    "text": "And then at the\nright time-- and I guess it'll be after Professor\nRao on Friday and Monday,",
    "start": "2608480",
    "end": "2616030"
  },
  {
    "text": "I'll come back to\nProfessor Sra's short proof",
    "start": "2616030",
    "end": "2622950"
  },
  {
    "text": "of the convergence of\nstochastic gradient descent.",
    "start": "2622950",
    "end": "2628470"
  },
  {
    "text": "The whole point is to show you\nwhat assumptions do you need. You need some assumptions on\nthe gradient, some assumptions",
    "start": "2628470",
    "end": "2636660"
  },
  {
    "text": "on the step size. And for a good proof, all\nthe assumptions fit together,",
    "start": "2636660",
    "end": "2642810"
  },
  {
    "text": "and, dong, out comes\nthe conclusion. And the conclusion would\nbe how fast it converges--",
    "start": "2642810",
    "end": "2650010"
  },
  {
    "text": "stochastic gradient descent. So there's some expected\nthings, because it's stochastic.",
    "start": "2650010",
    "end": "2658230"
  },
  {
    "text": "We expect some assumptions\nabout the mean and the variance",
    "start": "2658230",
    "end": "2665060"
  },
  {
    "text": "to go into the proof. So you'll see that. But maybe it's too\nmuch for today.",
    "start": "2665060",
    "end": "2673960"
  },
  {
    "text": "So I'll come back to that. I might even put it on Stellar\nand just close with this.",
    "start": "2673960",
    "end": "2685130"
  },
  {
    "text": "So suppose A is m by n, B\nis n by p, and C is p by q.",
    "start": "2685130",
    "end": "2696319"
  },
  {
    "text": "OK. How many steps does it take\nto find A times B times C--",
    "start": "2696320",
    "end": "2704480"
  },
  {
    "text": "the product of those\nthree matrices? Well, if I go this way,\nI have to do BC first.",
    "start": "2704480",
    "end": "2714140"
  },
  {
    "text": "So BC costs-- how\nmany operations to multiply that times that?",
    "start": "2714140",
    "end": "2720125"
  },
  {
    "text": " npq-- nice formula.",
    "start": "2720125",
    "end": "2725610"
  },
  {
    "text": "npq.  Why is that? Well, I could say that\nthe answer is n by q.",
    "start": "2725610",
    "end": "2736280"
  },
  {
    "text": "And every number in there\nwas an inner product",
    "start": "2736280",
    "end": "2741960"
  },
  {
    "text": "of a row and column of length p. So I have nq inner products.",
    "start": "2741960",
    "end": "2750350"
  },
  {
    "text": "And each one costs p--  multiply, adds.",
    "start": "2750350",
    "end": "2758450"
  },
  {
    "text": "So now I have BC,\nwhich will be--",
    "start": "2758450",
    "end": "2764280"
  },
  {
    "text": "so now I have m by n. Then I have m by n,\nwhich is the A times",
    "start": "2764280",
    "end": "2774000"
  },
  {
    "text": "B by C, which is now n by q. That's BC. This is A, BC.",
    "start": "2774000",
    "end": "2780480"
  },
  {
    "text": "And this one costs-- what's the cost here? m by n, m by q--",
    "start": "2780480",
    "end": "2788340"
  },
  {
    "text": "by the same rule, it'll be mnq.  Good.",
    "start": "2788340",
    "end": "2794450"
  },
  {
    "text": "That's the first way-- A times BC. Now, the second way is AB\ntimes C. Let me write in again,",
    "start": "2794450",
    "end": "2804530"
  },
  {
    "text": "m by n, n by p, p by q. ",
    "start": "2804530",
    "end": "2811700"
  },
  {
    "text": "So now I'm doing this first-- so AB costs. Tell me again now,\nwhat's the rule",
    "start": "2811700",
    "end": "2818869"
  },
  {
    "text": "for the cost of a\nmatrix multiplication? mnp.",
    "start": "2818870",
    "end": "2824295"
  },
  {
    "text": "mnp.  And then I multiply m by p--",
    "start": "2824295",
    "end": "2836410"
  },
  {
    "text": "that's AB-- times p by q. That's C. So I have mpq.",
    "start": "2836410",
    "end": "2842650"
  },
  {
    "text": " So I have that together\nwith that, or that",
    "start": "2842650",
    "end": "2852320"
  },
  {
    "text": "together with that. That sum-- those\ntwo or these two.",
    "start": "2852320",
    "end": "2861490"
  },
  {
    "text": "And they're different. And let's just recognize\nthe most important example.",
    "start": "2861490",
    "end": "2868339"
  },
  {
    "text": "Suppose C is a column vector-- C for column vector. So q is 1.",
    "start": "2868340",
    "end": "2874280"
  },
  {
    "text": "There's only one column. So if q is 1, this way did np--",
    "start": "2874280",
    "end": "2880170"
  },
  {
    "text": "let's just specialize to that. ",
    "start": "2880170",
    "end": "2886130"
  },
  {
    "text": "So specialize to C\nequal a column vector,",
    "start": "2886130",
    "end": "2896339"
  },
  {
    "text": "which means that q is 1. I only have one column. So then A times BC\nis versus AB times C.",
    "start": "2896340",
    "end": "2910820"
  },
  {
    "text": "So let's just figure\nthat out when q is 1. So npq is just np.",
    "start": "2910820",
    "end": "2917840"
  },
  {
    "text": "And mnq is just mn,\nwhere AB is m and p.",
    "start": "2917840",
    "end": "2928595"
  },
  {
    "text": "Oh, that's a bad one. Disaster already. ",
    "start": "2928595",
    "end": "2935750"
  },
  {
    "text": "Those are potentially\ntwo big matrices, multiplying a column vector.",
    "start": "2935750",
    "end": "2941160"
  },
  {
    "text": "So here I've done a\nmatrix multiplication. I never should have done that. This is a matrix vector.",
    "start": "2941160",
    "end": "2947750"
  },
  {
    "text": "It gives me a vector. And then this is\na matrix vector. So I get nice numbers here.",
    "start": "2947750",
    "end": "2954320"
  },
  {
    "text": "But I get a terrible\nnumber for AB. And then I multiply that\nby C. So that's mpq.",
    "start": "2954320",
    "end": "2961700"
  },
  {
    "text": " mpq. ",
    "start": "2961700",
    "end": "2969390"
  },
  {
    "text": "So mp is factoring out. So if I write it as n times\nm plus p versus this one",
    "start": "2969390",
    "end": "2982340"
  },
  {
    "text": "is m that's factoring\nout times m--",
    "start": "2982340",
    "end": "2990190"
  },
  {
    "text": "no. Yeah. What's up here? ",
    "start": "2990190",
    "end": "2996920"
  },
  {
    "text": "Yeah. Sorry. What am I doing? ",
    "start": "2996920",
    "end": "3005190"
  },
  {
    "text": "Yeah. Is it p that factors\nout from this one? OK.",
    "start": "3005190",
    "end": "3011520"
  },
  {
    "text": "p times m plus n, I guess. Sorry. ",
    "start": "3011520",
    "end": "3019140"
  },
  {
    "text": "Anyway, the difference is--",
    "start": "3019140",
    "end": "3024938"
  },
  {
    "text": "AUDIENCE: I think it's\nmp times p plus q. [INAUDIBLE]",
    "start": "3024938",
    "end": "3030480"
  },
  {
    "text": "GILBERT STRANG: Shall I go\nover it again or write--? Let me do just this\nthinking again.",
    "start": "3030480",
    "end": "3036120"
  },
  {
    "text": "If q is 1, if I go\nthis way, was that my final total when q was 1?",
    "start": "3036120",
    "end": "3042960"
  },
  {
    "text": "And that's this? No. m factors out times n plus p.",
    "start": "3042960",
    "end": "3049740"
  },
  {
    "text": "Let's just get that right. Oh, no, n factors out. Sorry, n factors\nout times m plus p.",
    "start": "3049740",
    "end": "3058069"
  },
  {
    "text": "And this way was\nall these things.",
    "start": "3058070",
    "end": "3063635"
  },
  {
    "text": "AUDIENCE: Both the m\nand the p factor out. GILBERT STRANG: Both the\nm and the p factor out.",
    "start": "3063635",
    "end": "3070340"
  },
  {
    "text": "OK. Thanks. ",
    "start": "3070340",
    "end": "3076700"
  },
  {
    "text": "Times n plus q.",
    "start": "3076700",
    "end": "3082099"
  },
  {
    "text": "n plus q was 1. OK. ",
    "start": "3082100",
    "end": "3089220"
  },
  {
    "text": "The whole point is, we've got\nthis horrible multiplication of three big numbers.",
    "start": "3089220",
    "end": "3096300"
  },
  {
    "text": "And this only had\ntwo big numbers. So this is orders of\nmagnitude faster than that.",
    "start": "3096300",
    "end": "3102990"
  },
  {
    "text": "And of course, you would\nhave done the calculation. That way, you would have\nmultiplied the column vector",
    "start": "3102990",
    "end": "3108720"
  },
  {
    "text": "by a matrix to get\nanother column vector. And you would have\nmultiplied that by a matrix",
    "start": "3108720",
    "end": "3114089"
  },
  {
    "text": "to get another column\nvector, where here, you crazily multiplied two big\nmatrices together and then got",
    "start": "3114090",
    "end": "3122099"
  },
  {
    "text": "a column vector. So there is a bad move. OK, thanks.",
    "start": "3122100",
    "end": "3128440"
  },
  {
    "text": "Oh, I'm past the\ntime on this ABC. It's just to show that on a\nvery familiar calculation,",
    "start": "3128440",
    "end": "3136230"
  },
  {
    "text": "you have to do it\nin the right order. And back propagation\nis the right order",
    "start": "3136230",
    "end": "3141840"
  },
  {
    "text": "for partial derivatives. OK. Thank you. And so bring laptops Friday.",
    "start": "3141840",
    "end": "3149370"
  },
  {
    "text": "And look forward\nto Professor Rao.",
    "start": "3149370",
    "end": "3155490"
  },
  {
    "text": "Give him a good welcome.",
    "start": "3155490",
    "end": "3157880"
  }
]