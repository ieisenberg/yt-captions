[
  {
    "start": "0",
    "end": "820"
  },
  {
    "text": "PROFESSOR: The greatest\ncommon divisor of two numbers",
    "start": "820",
    "end": "3139"
  },
  {
    "text": "is easy to compute.",
    "start": "3140",
    "end": "4890"
  },
  {
    "text": "And that's a factor will play\na crucial role in the number",
    "start": "4890",
    "end": "8850"
  },
  {
    "text": "theory we're going to develop,\nand the properties of some",
    "start": "8850",
    "end": "12760"
  },
  {
    "text": "of the modern codes that\nare based on number theory.",
    "start": "12760",
    "end": "17100"
  },
  {
    "text": "The efficient way to compute\nthe GCD of two numbers",
    "start": "17100",
    "end": "20870"
  },
  {
    "text": "is based on a\nclassical algorithm",
    "start": "20870",
    "end": "22940"
  },
  {
    "text": "known as Euclidean\nalgorithm, which",
    "start": "22940",
    "end": "25140"
  },
  {
    "text": "is several thousand years old.",
    "start": "25140",
    "end": "27840"
  },
  {
    "text": "And let's describe\nhow it works now.",
    "start": "27840",
    "end": "32680"
  },
  {
    "text": "So the Euclidean algorithm is\nbased on the following lemma,",
    "start": "32680",
    "end": "38480"
  },
  {
    "text": "which we'll call\nthe remainder lemma,",
    "start": "38480",
    "end": "40340"
  },
  {
    "text": "and it says that if a\nand b are two integers,",
    "start": "40340",
    "end": "43650"
  },
  {
    "text": "then the greatest common\ndivisor of a and b",
    "start": "43650",
    "end": "46510"
  },
  {
    "text": "is the same as the greatest\ncommon divisor of b,",
    "start": "46510",
    "end": "49920"
  },
  {
    "text": "and the remainder of a divided\nby b-- providing, of course,",
    "start": "49920",
    "end": "54719"
  },
  {
    "text": "b is not 0, because otherwise\nyou can't divide by b.",
    "start": "54720",
    "end": "58140"
  },
  {
    "text": "OK how do you make\nsense out of this?",
    "start": "58140",
    "end": "60621"
  },
  {
    "text": "Why is this true?",
    "start": "60622",
    "end": "61330"
  },
  {
    "text": "Well, it's actually\na very easy proof.",
    "start": "61330",
    "end": "62913"
  },
  {
    "text": "Remember that by the\nso-called division algorithm--",
    "start": "62913",
    "end": "67090"
  },
  {
    "text": "or it's really a theorem--\nif you divide a by b",
    "start": "67090",
    "end": "72133"
  },
  {
    "text": "and we're doing integer\ndivision, what that means is",
    "start": "72134",
    "end": "74300"
  },
  {
    "text": "you find a quotient of a\ndivided by b in the quotient,",
    "start": "74300",
    "end": "77710"
  },
  {
    "text": "and a remainder.",
    "start": "77710",
    "end": "78626"
  },
  {
    "text": "And the quotient\nhas the property",
    "start": "78626",
    "end": "80000"
  },
  {
    "text": "that q times b plus the\nremainder is equal to a.",
    "start": "80000",
    "end": "84030"
  },
  {
    "text": "The remainder is always\ngoing to be smaller than a.",
    "start": "84030",
    "end": "87190"
  },
  {
    "text": "It will be the range from 0\nup to, but not including, a.",
    "start": "87190",
    "end": "90950"
  },
  {
    "text": "OK, if you look at this\nsimple expression, what",
    "start": "90950",
    "end": "94930"
  },
  {
    "text": "becomes apparent is that if\nyou've got a divisor of two",
    "start": "94930",
    "end": "99900"
  },
  {
    "text": "out of three of\nthese terms, then",
    "start": "99900",
    "end": "102990"
  },
  {
    "text": "it's going to divide\nthe third term.",
    "start": "102990",
    "end": "104979"
  },
  {
    "text": "So for example, if you\nhave a divisor of b and r,",
    "start": "104980",
    "end": "109420"
  },
  {
    "text": "then the sum of those\ntwo things is also",
    "start": "109420",
    "end": "112729"
  },
  {
    "text": "going to have the same\ndivisor, which means",
    "start": "112730",
    "end": "115180"
  },
  {
    "text": "that a will have that divisor.",
    "start": "115180",
    "end": "117080"
  },
  {
    "text": "If something divides both\na and b, then it divides r.",
    "start": "117080",
    "end": "121120"
  },
  {
    "text": "And if it divides b\nand r, it divides a.",
    "start": "121120",
    "end": "124672"
  },
  {
    "text": "And that means that\na and b and b and r",
    "start": "124672",
    "end": "128494"
  },
  {
    "text": "have exactly the same divisors.",
    "start": "128495",
    "end": "130470"
  },
  {
    "text": "They not only have the same\ngreatest common divisor,",
    "start": "130470",
    "end": "133510"
  },
  {
    "text": "all their divisors are the same.",
    "start": "133510",
    "end": "134860"
  },
  {
    "text": "So obviously, the\ngreatest one is the same.",
    "start": "134860",
    "end": "138180"
  },
  {
    "text": "And that proves this\nkey remainder lemma.",
    "start": "138180",
    "end": "141980"
  },
  {
    "text": "Well, the remainder lemma now\ngives us a very lovely way",
    "start": "141980",
    "end": "144580"
  },
  {
    "text": "to compute the GCD.",
    "start": "144580",
    "end": "145960"
  },
  {
    "text": "And here's an example.",
    "start": "145960",
    "end": "147620"
  },
  {
    "text": "Suppose I want to compute\nthe GCD of 899 and 493.",
    "start": "147620",
    "end": "151370"
  },
  {
    "text": "A is 899, b is 493.",
    "start": "151370",
    "end": "154650"
  },
  {
    "text": "Well, so I want this\nGCD, 899 of 493.",
    "start": "154650",
    "end": "158030"
  },
  {
    "text": "Well, according to the remainder\nlemma, if I divide 899 by 493,",
    "start": "158030",
    "end": "163660"
  },
  {
    "text": "I get a quotient of 1,\nand a remainder of 406.",
    "start": "163660",
    "end": "168620"
  },
  {
    "text": "So that means that\n899 and 493 have",
    "start": "168620",
    "end": "172180"
  },
  {
    "text": "the same GCD as 493 and 406.",
    "start": "172180",
    "end": "180790"
  },
  {
    "text": "That is the original number\nb, and the new remainder 406.",
    "start": "180790",
    "end": "184209"
  },
  {
    "text": "But now, I can\ndivide 493 by 406.",
    "start": "184210",
    "end": "187660"
  },
  {
    "text": "I get a quotient of zero\nand a remainder of 87.",
    "start": "187660",
    "end": "191750"
  },
  {
    "text": "So 406 and 87 have the same GCD.",
    "start": "191750",
    "end": "194990"
  },
  {
    "text": "Dividing 406 by 87, I get that\n87 and 58 have the same GCD.",
    "start": "194990",
    "end": "199930"
  },
  {
    "text": "Dividing 87 by 58, I get that\n58 and 29 have the same GCD.",
    "start": "199930",
    "end": "207829"
  },
  {
    "text": "And now I win, because look,\nwhen I divide 58 by 29,",
    "start": "207830",
    "end": "213250"
  },
  {
    "text": "I get a remainder of 0.",
    "start": "213250",
    "end": "215660"
  },
  {
    "text": "And the GCD of anything\nand 0 is that thing.",
    "start": "215660",
    "end": "219360"
  },
  {
    "text": "So the GCD of 29 and 0 is 0.",
    "start": "219360",
    "end": "223290"
  },
  {
    "text": "I guess the only exception\nis the GCD of 0 and 0,",
    "start": "223290",
    "end": "226069"
  },
  {
    "text": "which is not defined.",
    "start": "226070",
    "end": "228740"
  },
  {
    "text": "But if it's not 0, then\nthe GCD of x and 0 is x.",
    "start": "228740",
    "end": "233540"
  },
  {
    "text": "And there it is.",
    "start": "233540",
    "end": "234230"
  },
  {
    "text": "So I've just found that the\nGCD of 899 and 493 is 29.",
    "start": "234230",
    "end": "239610"
  },
  {
    "text": "And this is a quite\nfast algorithm,",
    "start": "239610",
    "end": "241400"
  },
  {
    "text": "because I keep dividing\nthe numbers that I",
    "start": "241400",
    "end": "243659"
  },
  {
    "text": "have by each other,\nand it gets small fast.",
    "start": "243660",
    "end": "247260"
  },
  {
    "text": "We'll be more precise\nabout that in a minute.",
    "start": "247260",
    "end": "249239"
  },
  {
    "text": "OK, it's a good exercise\nin state machine thinking",
    "start": "249240",
    "end": "253830"
  },
  {
    "text": "and practice in\nprogram verification",
    "start": "253830",
    "end": "255570"
  },
  {
    "text": "to reformulate the\nEuclidean algorithm,",
    "start": "255570",
    "end": "257799"
  },
  {
    "text": "or formulate it explicitly\nas a state machine.",
    "start": "257800",
    "end": "259759"
  },
  {
    "text": "It's a very simple\nkind of state machine.",
    "start": "259759",
    "end": "262190"
  },
  {
    "text": "The states of this Euclidean\nalgorithm state machine",
    "start": "262190",
    "end": "264660"
  },
  {
    "text": "will be pairs of\nnon-negative integers.",
    "start": "264660",
    "end": "266350"
  },
  {
    "text": "So the states are n cross\nn, the Cartesian product",
    "start": "266350",
    "end": "269340"
  },
  {
    "text": "of the non-negative\nintegers, with itself.",
    "start": "269340",
    "end": "272300"
  },
  {
    "text": "The start state is going\nto be the pair a, b,",
    "start": "272300",
    "end": "274650"
  },
  {
    "text": "whose GCD I want to compute.",
    "start": "274650",
    "end": "277990"
  },
  {
    "text": "And the transitions are\nsimply repeatedly applying",
    "start": "277990",
    "end": "282000"
  },
  {
    "text": "the remainder lemma.",
    "start": "282000",
    "end": "283050"
  },
  {
    "text": "Namely, if I'm in\nstate x, y, where",
    "start": "283050",
    "end": "287889"
  },
  {
    "text": "you think of x as and y as the\nGCD that I'm trying to compute,",
    "start": "287890",
    "end": "292050"
  },
  {
    "text": "I simply convert x and y\nto y, and the remainder",
    "start": "292050",
    "end": "296120"
  },
  {
    "text": "of x divided by y.",
    "start": "296120",
    "end": "298250"
  },
  {
    "text": "And I keep doing that\nas long as y is not 0.",
    "start": "298250",
    "end": "302680"
  },
  {
    "text": "OK, very simple state\nmachine-- really,",
    "start": "302680",
    "end": "305470"
  },
  {
    "text": "just one transition rule.",
    "start": "305470",
    "end": "308010"
  },
  {
    "text": "Well, according to\nthe lemma, since I'm",
    "start": "308010",
    "end": "310810"
  },
  {
    "text": "replacing the GCD of x\nand y by the GCD of y",
    "start": "310810",
    "end": "314960"
  },
  {
    "text": "and the remainder\nof x divided by y,",
    "start": "314960",
    "end": "317000"
  },
  {
    "text": "the GCD is actually\nstaying constant.",
    "start": "317000",
    "end": "319850"
  },
  {
    "text": "This transition\npreserves the GCD",
    "start": "319850",
    "end": "322790"
  },
  {
    "text": "that's left in the pair\nof registers, x and y.",
    "start": "322790",
    "end": "326480"
  },
  {
    "text": "So what we can say is that\nsince the GCD of x and y",
    "start": "326480",
    "end": "329330"
  },
  {
    "text": "doesn't change from\none step to another,",
    "start": "329330",
    "end": "332120"
  },
  {
    "text": "we can say that the GCD\nof x and y at any point",
    "start": "332120",
    "end": "335340"
  },
  {
    "text": "is equal to its original value,\nwhich is the GCD of a and b.",
    "start": "335340",
    "end": "338790"
  },
  {
    "text": "So in other words,\nthis equation,",
    "start": "338790",
    "end": "340380"
  },
  {
    "text": "GCD of x and y in\nthe current state",
    "start": "340380",
    "end": "342820"
  },
  {
    "text": "is equal to GCD of a and\nb, the GCD of a and b",
    "start": "342820",
    "end": "346490"
  },
  {
    "text": "that we started with,\nis a preserved invariant",
    "start": "346490",
    "end": "349550"
  },
  {
    "text": "of the state.",
    "start": "349550",
    "end": "350159"
  },
  {
    "text": "So p of a state xy, the\nproperty that GCD of x and y",
    "start": "350160",
    "end": "354900"
  },
  {
    "text": "is the original GCD is\na preserved invariant",
    "start": "354900",
    "end": "359169"
  },
  {
    "text": "of the state machine.",
    "start": "359170",
    "end": "360990"
  },
  {
    "text": "Moreover, p of start\nis trivially true,",
    "start": "360990",
    "end": "364220"
  },
  {
    "text": "because at the start,\nx and y are a equals b.",
    "start": "364220",
    "end": "368290"
  },
  {
    "text": "So p of x and y is just\nsaying the GCD of a and b",
    "start": "368290",
    "end": "370560"
  },
  {
    "text": "is equal to GCD of a and b.",
    "start": "370560",
    "end": "372690"
  },
  {
    "text": "Cool.",
    "start": "372690",
    "end": "373280"
  },
  {
    "text": "So I've got that this\nproperty is true at the start,",
    "start": "373280",
    "end": "376620"
  },
  {
    "text": "and it's preserved\nby the transitions.",
    "start": "376620",
    "end": "378600"
  },
  {
    "text": "So the invariance\nprinciple tells me",
    "start": "378600",
    "end": "380900"
  },
  {
    "text": "that if the program\nstops, I'm going",
    "start": "380900",
    "end": "384350"
  },
  {
    "text": "to have the GCD of x\nand y when it terminates",
    "start": "384350",
    "end": "387820"
  },
  {
    "text": "is equal to the actual\nGCD that I want.",
    "start": "387820",
    "end": "390440"
  },
  {
    "text": "And that enables us to\nprove partial correctness.",
    "start": "390440",
    "end": "393050"
  },
  {
    "text": "The claim is that if\nthis program terminates--",
    "start": "393050",
    "end": "395449"
  },
  {
    "text": "we haven't determined that it\ndoes yet-- but at termination,",
    "start": "395450",
    "end": "398830"
  },
  {
    "text": "if any, I claim that x is left\nin-- that the GCD of a and b",
    "start": "398830",
    "end": "405595"
  },
  {
    "text": "is left in register x.",
    "start": "405595",
    "end": "407230"
  },
  {
    "text": "The value of x at\nthe end is going",
    "start": "407230",
    "end": "409780"
  },
  {
    "text": "to be the GCD of and and b.",
    "start": "409780",
    "end": "411040"
  },
  {
    "text": "Well, why is that?",
    "start": "411040",
    "end": "411789"
  },
  {
    "text": "Well, look-- at termination,\nwhat we know is that y is 0.",
    "start": "411789",
    "end": "415430"
  },
  {
    "text": "That's the only way that\nthis procedure stops,",
    "start": "415430",
    "end": "417470"
  },
  {
    "text": "because otherwise, the\ntransition rule is applicable.",
    "start": "417470",
    "end": "421230"
  },
  {
    "text": "So that means that\nwhen y equals 0",
    "start": "421230",
    "end": "423650"
  },
  {
    "text": "at termination, what we\nhave is that since y is 0,",
    "start": "423650",
    "end": "429479"
  },
  {
    "text": "GCD of x and y is equal\nto the GCD of x and 0.",
    "start": "429480",
    "end": "433420"
  },
  {
    "text": "And that's equal to x, assuming,\nagain, that x is positive,",
    "start": "433420",
    "end": "437046"
  },
  {
    "text": "or not 0.z",
    "start": "437046",
    "end": "438479"
  },
  {
    "text": "So x is the GCD of x and y.",
    "start": "438480",
    "end": "440330"
  },
  {
    "text": "And by the invariant,\nthe GCD of x and y",
    "start": "440330",
    "end": "443169"
  },
  {
    "text": "is equal to the GCD of a and b.",
    "start": "443170",
    "end": "445180"
  },
  {
    "text": "So I've prove this little fact.",
    "start": "445180",
    "end": "446970"
  },
  {
    "text": "This procedure correctly\ncomputes the GCD of a and b,",
    "start": "446970",
    "end": "450630"
  },
  {
    "text": "leaving the answer in\nregister x, if it terminates.",
    "start": "450630",
    "end": "454830"
  },
  {
    "text": "Well, of course it terminates,\nand it terminates fast.",
    "start": "454830",
    "end": "457710"
  },
  {
    "text": "So let's see why.",
    "start": "457710",
    "end": "460610"
  },
  {
    "text": "Notice that at each transition,\nwe're going to replace x by y,",
    "start": "460610",
    "end": "466389"
  },
  {
    "text": "and y by the remainder\nof x divided by y.",
    "start": "466390",
    "end": "470050"
  },
  {
    "text": "Let's just assume\nfor simplicity that",
    "start": "470050",
    "end": "471650"
  },
  {
    "text": "of the [? pairings, ?] y\nthat x is the bigger one.",
    "start": "471650",
    "end": "475400"
  },
  {
    "text": "So there's two cases of why\nthese numbers are getting small",
    "start": "475400",
    "end": "481460"
  },
  {
    "text": "fast.",
    "start": "481460",
    "end": "482240"
  },
  {
    "text": "The first case is suppose\nthat y is less than x over 2,",
    "start": "482240",
    "end": "486900"
  },
  {
    "text": "or less than or\nequal to x over 2.",
    "start": "486900",
    "end": "488370"
  },
  {
    "text": "Well, since at this step,\nyou're going to replace x by y,",
    "start": "488370",
    "end": "495870"
  },
  {
    "text": "it means that you're replacing\nx by something that's",
    "start": "495870",
    "end": "499020"
  },
  {
    "text": "less than half x.",
    "start": "499020",
    "end": "499919"
  },
  {
    "text": "So x gets halved at this step.",
    "start": "499920",
    "end": "503420"
  },
  {
    "text": "What about if y is big?",
    "start": "503420",
    "end": "504870"
  },
  {
    "text": "Well, if y is bigger\nthan x over 2,",
    "start": "504870",
    "end": "507330"
  },
  {
    "text": "then the remainder of x divided\nby y is simply x minus y.",
    "start": "507330",
    "end": "512269"
  },
  {
    "text": "And it's going to be\nless than x over 2.",
    "start": "512270",
    "end": "514490"
  },
  {
    "text": "But that's going to be the\nvalue of y after the next step.",
    "start": "514490",
    "end": "518870"
  },
  {
    "text": "So y is going to\nbe halved either",
    "start": "518870",
    "end": "520659"
  },
  {
    "text": "at this step or the next\nstep when it's replaced",
    "start": "520659",
    "end": "523130"
  },
  {
    "text": "by the remainder of x and y.",
    "start": "523130",
    "end": "525000"
  },
  {
    "text": "And the net result is that\ny it gets cut in half,",
    "start": "525000",
    "end": "529460"
  },
  {
    "text": "or even smaller, at\nevery other step, which",
    "start": "529460",
    "end": "533610"
  },
  {
    "text": "means that this procedure can't\ncontinue for more than twice",
    "start": "533610",
    "end": "538290"
  },
  {
    "text": "the log to the base 2 of the\noriginal value of y, which",
    "start": "538290",
    "end": "542730"
  },
  {
    "text": "is b number of steps,\nbecause that's how many",
    "start": "542730",
    "end": "546930"
  },
  {
    "text": "halves you can do before\nyou start hitting 0.",
    "start": "546930",
    "end": "550200"
  },
  {
    "text": "So we've just shown that\nthis procedure holds",
    "start": "550200",
    "end": "553920"
  },
  {
    "text": "in logarithmic number\nof steps, which",
    "start": "553920",
    "end": "556970"
  },
  {
    "text": "is the same as saying that\nit's about the length of b",
    "start": "556970",
    "end": "560139"
  },
  {
    "text": "in binary, and even fewer\nsteps than the length of b",
    "start": "560140",
    "end": "564970"
  },
  {
    "text": "in decimal.",
    "start": "564970",
    "end": "565709"
  },
  {
    "text": "The GCD algorithm is\nreally very efficient.",
    "start": "565710",
    "end": "570470"
  }
]