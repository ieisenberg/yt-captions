[
  {
    "text": "OK, good morning.\nSo today we are going to, as I mentioned last week,\nwe've started the part of the",
    "start": "10000",
    "end": "17843"
  },
  {
    "text": "course where we are doing more\nthings having to do with design than purely analysis.\nToday, we're actually going to",
    "start": "17843",
    "end": "26993"
  },
  {
    "text": "do analysis, but it's the type\nof analysis that leads to really",
    "start": "26993",
    "end": "32057"
  },
  {
    "text": "interesting design issues.\nAnd we're going to follow it up",
    "start": "32058",
    "end": "38949"
  },
  {
    "text": "on Wednesday with an application\nof the methods we're going to",
    "start": "38950",
    "end": "46725"
  },
  {
    "text": "learn today with a really\ninteresting and practical",
    "start": "46725",
    "end": "53098"
  },
  {
    "text": "problem.\nSo we're talking today about amortized analysis.\nAnd I want to motivate this",
    "start": "53098",
    "end": "64781"
  },
  {
    "text": "topic by asking the question,\nhow large should a hash table",
    "start": "64782",
    "end": "72908"
  },
  {
    "text": "be?\nSo, how large should a hash table be?\nAny suggestions?",
    "start": "72908",
    "end": "80613"
  },
  {
    "text": "You have got to make a hash\ntable, how big should I make it?",
    "start": "80613",
    "end": "90000"
  },
  {
    "text": "Let's say it's a simple hash\ntable, resolving collisions with",
    "start": "90000",
    "end": "98888"
  },
  {
    "text": "chaining.\nHow big should it be? Twice as big as you need:\nOK, how big would that be?",
    "start": "98888",
    "end": "110888"
  },
  {
    "text": "So, twice the number of\nelements, for example,",
    "start": "110888",
    "end": "117555"
  },
  {
    "text": "OK.\nAs I increase the size of a hash table, what happens to the\nsearch time?",
    "start": "117555",
    "end": "130000"
  },
  {
    "text": "What happens to search time as\nI increase the size of the hash table?\nYeah, but what does it,",
    "start": "130000",
    "end": "136734"
  },
  {
    "text": "in general, do you?\nIt decreases, right?\nOK, the bigger I make it, in fact, if I make it\nsufficiently large,",
    "start": "136734",
    "end": "144442"
  },
  {
    "text": "then I essentially get a direct\naccess table, and everything is worst-case,\norder one time.",
    "start": "144442",
    "end": "152000"
  },
  {
    "text": "So in some sense,\nwe'll get back to your answer",
    "start": "152000",
    "end": "158443"
  },
  {
    "text": "in a minute.\nWe should make it as large as",
    "start": "158443",
    "end": "164185"
  },
  {
    "text": "possible, OK,\nso that the searching is cheap.",
    "start": "164186",
    "end": "170350"
  },
  {
    "text": "The flipside of that is what?\nIt takes a lot of space so I",
    "start": "170350",
    "end": "178334"
  },
  {
    "text": "should make it as small as\npossible so as not to waste",
    "start": "178334",
    "end": "185758"
  },
  {
    "text": "space.\nSo I want it big,",
    "start": "185758",
    "end": "190856"
  },
  {
    "text": "and the happy medium,\nas we've discussed in our",
    "start": "190856",
    "end": "198586"
  },
  {
    "text": "analysis, is to make it order n\nsize for n items,",
    "start": "198586",
    "end": "206651"
  },
  {
    "text": "OK, because making it larger\nthan order n,",
    "start": "206651",
    "end": "213540"
  },
  {
    "text": "the payoff in search time is\nnot worth the extra amount of",
    "start": "213540",
    "end": "223118"
  },
  {
    "text": "space that you are paying.\nOK, or at least you can view it",
    "start": "223118",
    "end": "231995"
  },
  {
    "text": "that way.\nOK, however, this begs the question,\nwhich is, how do I make it,",
    "start": "231995",
    "end": "238855"
  },
  {
    "text": "if I start out with a hash\ntable, and I don't know how many",
    "start": "238855",
    "end": "244458"
  },
  {
    "text": "elements are going to be hashed\ninto it? OK, how big should I make it?\nOK, so what if we don't know --",
    "start": "244458",
    "end": "258000"
  },
  {
    "text": "-- in advance?\nOK, what if we don't know n?",
    "start": "274000",
    "end": "279919"
  },
  {
    "text": "OK, so the solution to this\nproblem turns out it's fairly",
    "start": "279919",
    "end": "287812"
  },
  {
    "text": "elegant?\nIt's a strategy called dynamic",
    "start": "287812",
    "end": "293167"
  },
  {
    "text": "tables.\nOK, and the idea is that",
    "start": "293167",
    "end": "298927"
  },
  {
    "text": "whenever the table gets too many\nelements in it,",
    "start": "298927",
    "end": "306618"
  },
  {
    "text": "gets too full,\nOK, so the idea is --",
    "start": "306618",
    "end": "313000"
  },
  {
    "text": "-- OK, and we say that says the\ntable overflows, OK, we grow it and make a\nbigger table.",
    "start": "326000",
    "end": "334138"
  },
  {
    "text": "So, for hashing,\nalthough there's going to be no point at which you could say\nthat it overflows in the sense",
    "start": "334138",
    "end": "344191"
  },
  {
    "text": "that it wouldn't be functional\nat least if it was done with",
    "start": "344191",
    "end": "349744"
  },
  {
    "text": "chaining.\nThere would be, by the way, if you were doing\nit with open addressing.",
    "start": "349744",
    "end": "357117"
  },
  {
    "text": "But let's say with chaining,\nwhen it gets too big, say, as many elements as the\nsize of the table,",
    "start": "357117",
    "end": "366212"
  },
  {
    "text": "what we do is we grow the\ntable. So, the way we do that as we\nallocate using,",
    "start": "366212",
    "end": "376794"
  },
  {
    "text": "in a language like C,\nit's called Malloc,",
    "start": "376794",
    "end": "382184"
  },
  {
    "text": "or in a language like Java\ncalled New, a larger table.",
    "start": "382184",
    "end": "390000"
  },
  {
    "text": "So, we create a larger table.\nWe move the items from the old",
    "start": "390000",
    "end": "403448"
  },
  {
    "text": "table to the new.\nAnd then, we free the old",
    "start": "403448",
    "end": "413022"
  },
  {
    "text": "table.\nSo, let's do an example.",
    "start": "413022",
    "end": "421000"
  },
  {
    "text": "So, let's say I have,\nover here, a table of size one, and it's empty to begin with.\nAnd I do an insert.",
    "start": "421000",
    "end": "429454"
  },
  {
    "text": "So what I do is stick it in the\ntable. It fits.\nOK, so here, I'm not going to do it with\nhashing.",
    "start": "429454",
    "end": "437233"
  },
  {
    "text": "I'm just going to do it as if I\njust had a table that I was filling up with elements to\nabstract the problem.",
    "start": "437233",
    "end": "446195"
  },
  {
    "text": "But it would work with hashing.\nIt would work with any kind of",
    "start": "446195",
    "end": "453590"
  },
  {
    "text": "fixed size data structure.\nI insert again, oops, doesn't fit.\nI get an overflow.",
    "start": "453590",
    "end": "462806"
  },
  {
    "text": "OK, so what I do is I create a\nnew, actually,",
    "start": "462806",
    "end": "468073"
  },
  {
    "text": "I'm going to need a little more\nspace than that.",
    "start": "468073",
    "end": "473698"
  },
  {
    "text": "I create a new table of size\ntwo, doubling the size.",
    "start": "473698",
    "end": "481000"
  },
  {
    "text": "And, I copy the old value into\nthe new.",
    "start": "481000",
    "end": "486524"
  },
  {
    "text": "I freed this one,\nand now I can insert item two.",
    "start": "486524",
    "end": "493356"
  },
  {
    "text": "So, I do it again.\nI get another overflow.",
    "start": "493356",
    "end": "499317"
  },
  {
    "text": "So now, I make a table of size\nfour.",
    "start": "499317",
    "end": "504405"
  },
  {
    "text": "I copied these guys in,\nand then I insert my number",
    "start": "504405",
    "end": "511674"
  },
  {
    "text": "three.\nI do insert here. I do five.\nI guess I should be using ditto",
    "start": "511674",
    "end": "521849"
  },
  {
    "text": "marks.\nThat would be a lot smarter. Whoops, what am I doing?\nI overflow.",
    "start": "521849",
    "end": "532000"
  },
  {
    "text": "And now, I make one of size\neight, OK, copy these over,",
    "start": "532000",
    "end": "540505"
  },
  {
    "text": "and now I can insert five.\nAnd I can do six,",
    "start": "540505",
    "end": "547278"
  },
  {
    "text": "seven, etc.,\nOK? Does everybody understand the\nbasic idea?",
    "start": "547278",
    "end": "555941"
  },
  {
    "text": "So, whenever I overflow,\nI'm going to create a table of",
    "start": "555941",
    "end": "564446"
  },
  {
    "text": "twice the size.\nOK, so let's do a quick",
    "start": "564446",
    "end": "570432"
  },
  {
    "text": "analysis of this.\nSo, we have a sequence of n",
    "start": "570432",
    "end": "579860"
  },
  {
    "text": "insertion operations.\nOK, what is the worst-case cost",
    "start": "579860",
    "end": "589220"
  },
  {
    "text": "of one insert operation?\nWhat's the worst case for any",
    "start": "589220",
    "end": "598759"
  },
  {
    "text": "one of these?\nYeah, it's order n,",
    "start": "598759",
    "end": "604167"
  },
  {
    "text": "whatever the overhead is of\ncopying; if we counted it as",
    "start": "604167",
    "end": "610442"
  },
  {
    "text": "one, it would be basically n or\nn plus one because we've got to",
    "start": "610442",
    "end": "617516"
  },
  {
    "text": "copy all those.\nOK, so it's order n. So therefore,\nif I have n of those,",
    "start": "617516",
    "end": "625389"
  },
  {
    "text": "so the worst-case cost of n\ninserts is equal to n times",
    "start": "625389",
    "end": "631550"
  },
  {
    "text": "order n, which is order n^2.",
    "start": "631550",
    "end": "636000"
  },
  {
    "text": "Any questions?\nDoes that make sense?",
    "start": "644000",
    "end": "654000"
  },
  {
    "text": "Raise hands.",
    "start": "654000",
    "end": "658000"
  },
  {
    "text": "Yeah, not all of them can be\nworst-case, good. And in fact,\nthis is totally wrong analysis.",
    "start": "675000",
    "end": "684125"
  },
  {
    "text": "Just because one can be\nworst-case order n doesn't mean",
    "start": "684125",
    "end": "689725"
  },
  {
    "text": "n are necessarily order n.\nOK, so this is totally wrong",
    "start": "689725",
    "end": "695324"
  },
  {
    "text": "analysis.\nn inserts, in fact, take order n time in the worst\ncase.",
    "start": "695325",
    "end": "703000"
  },
  {
    "text": "OK, it doesn't take order n^2.\nSo, the analysis is correct up to the point where we set the\nworst-case of one insert was",
    "start": "703000",
    "end": "712750"
  },
  {
    "text": "order n.\nTherefore, that's the wrong step.\nOK, whenever you see bugs in",
    "start": "712750",
    "end": "718416"
  },
  {
    "text": "proofs, you want to know,\nwhich step is the one that failed so you can make sure that\nyou don't have a confusion",
    "start": "718416",
    "end": "727500"
  },
  {
    "text": "there?\nSo, let's do the proper",
    "start": "727500",
    "end": "733960"
  },
  {
    "text": "analysis, OK?\nSo let's let c_i be the cost of",
    "start": "733960",
    "end": "743450"
  },
  {
    "text": "the i'th insert.\nOK, so that's equal to i,",
    "start": "743450",
    "end": "752294"
  },
  {
    "text": "if i minus one is an exact\npower of two.",
    "start": "752294",
    "end": "762000"
  },
  {
    "text": "And it's one otherwise.\nOK, so as I was going through",
    "start": "762000",
    "end": "767059"
  },
  {
    "text": "here, it was only when I\ninserted something where the",
    "start": "767059",
    "end": "772118"
  },
  {
    "text": "previous one had been the exact\npower of two, because that was my table size.\nThat's when I got the overflow",
    "start": "772118",
    "end": "783610"
  },
  {
    "text": "and had to do all that copying.\nAnd otherwise,",
    "start": "783610",
    "end": "789024"
  },
  {
    "text": "the cost, for example,\nfor inserting six, was just one.\nI just inserted it.",
    "start": "789025",
    "end": "797690"
  },
  {
    "text": "Does everybody see that?\nSo, let's actually make a",
    "start": "797690",
    "end": "803587"
  },
  {
    "text": "little table here so we can see\nthis a little bit more clearly.",
    "start": "803587",
    "end": "811048"
  },
  {
    "text": "OK, so here's i,\nand in the size of the table at",
    "start": "811048",
    "end": "816704"
  },
  {
    "text": "step i, and the cost at step i.\nOK, so let's see,",
    "start": "816704",
    "end": "823857"
  },
  {
    "text": "the size of i,\nlet's see, at step one it was one.\nAt step two,",
    "start": "823857",
    "end": "830306"
  },
  {
    "text": "it was two.\nAnd at step three, that's when,\nto get three in the table,",
    "start": "830306",
    "end": "837628"
  },
  {
    "text": "we had to double the size here.\nSo, this is four,",
    "start": "837628",
    "end": "843480"
  },
  {
    "text": "and four, it fit.\nAnd then five, it had to bump up to eight.\nAnd then, six,",
    "start": "843480",
    "end": "849750"
  },
  {
    "text": "it was eight.\nSeven, it was eight. Eight, it was eight.\nAnd nine, it bumps up to 16,",
    "start": "849750",
    "end": "856803"
  },
  {
    "text": "16, etc.\nSo that's the size. And let's take a look at what\nthe cost was.",
    "start": "856803",
    "end": "862811"
  },
  {
    "text": "So, the cost here was one,\nOK, to insert one. The cost here was,\nI had to copy one,",
    "start": "862811",
    "end": "869778"
  },
  {
    "text": "and then insert one.\nSo, the cost was two.",
    "start": "869778",
    "end": "875126"
  },
  {
    "text": "Here, I had to copy two and\ninsert one. So, the cost was three.\nHere, I had to just insert one.",
    "start": "875126",
    "end": "884443"
  },
  {
    "text": "So, the cost was one.\nHere, I had to copy four and insert one.\nSo, the cost was five.",
    "start": "884443",
    "end": "892746"
  },
  {
    "text": "Excuse me?\nI think it is. Yeah, see, it's i cost.\nThe cost for five is i,",
    "start": "892746",
    "end": "899835"
  },
  {
    "text": "OK, is five if this is a power\nof two.",
    "start": "899835",
    "end": "905000"
  },
  {
    "text": "OK, one, one,\nand now we paid nine, and then one again.\nSo that's the cost we are",
    "start": "905000",
    "end": "911724"
  },
  {
    "text": "paying.\nIt's a little bit easier to see what the costs are if I break\nthem down.",
    "start": "911724",
    "end": "918362"
  },
  {
    "text": "OK, so let's just redraw this\nas two values because there is",
    "start": "918362",
    "end": "923448"
  },
  {
    "text": "always the cost for inserting\nthe one thing that I want to insert.\nAnd now, the residual amount",
    "start": "923448",
    "end": "932028"
  },
  {
    "text": "that I have to pay is I have to\npay one here. I've got to pay two additional,\nfour additional,",
    "start": "932028",
    "end": "938619"
  },
  {
    "text": "eight additional.\nThat makes the pattern a little bit easier to see.\nOK, this is the cost of copying",
    "start": "938619",
    "end": "945645"
  },
  {
    "text": "versus the cost of just doing\nthe actual insert, OK?\nNow, if you're taking notes,",
    "start": "945645",
    "end": "951295"
  },
  {
    "text": "leave some space here because\nI'm going to come back to this table later.\nOK, so leave a little bit of",
    "start": "951295",
    "end": "958465"
  },
  {
    "text": "space because I'm going to come\nback and add some more things at there at a later time.\nOK, so, I can then just add up",
    "start": "958466",
    "end": "969737"
  },
  {
    "text": "the cost of n inserts.\nThat's just the sum,",
    "start": "969737",
    "end": "974968"
  },
  {
    "text": "I equals one to n of c_i,\nwhich is equal to,",
    "start": "974968",
    "end": "980325"
  },
  {
    "text": "well, by this analysis it is\nessentially n because that's",
    "start": "980325",
    "end": "987301"
  },
  {
    "text": "what this thing adds up to plus\nI just have to add the powers of",
    "start": "987301",
    "end": "995148"
  },
  {
    "text": "two up to but not exceeding\nwhatever my n was.",
    "start": "995148",
    "end": "1002000"
  },
  {
    "text": "So, if I do my algebra properly\nthere, that's up to the floor of",
    "start": "1002000",
    "end": "1010422"
  },
  {
    "text": "log n minus one,\nOK, of two to the J. So, I'm just adding up all the\npowers of two up to that aren't",
    "start": "1010422",
    "end": "1023390"
  },
  {
    "text": "going to exceed my n.\nAnd, this is what type of",
    "start": "1023390",
    "end": "1029868"
  },
  {
    "text": "series?\nThat's geometric. That's geometric,\nso it is bounded by its largest",
    "start": "1029868",
    "end": "1038131"
  },
  {
    "text": "term.\nIts largest term is two to the ceiling; it's dominated by its\nlargest term,",
    "start": "1038131",
    "end": "1047080"
  },
  {
    "text": "two to the ceiling of log n\nminus one, which is,",
    "start": "1047081",
    "end": "1052475"
  },
  {
    "text": "at most, n.\nOK, and then all the other",
    "start": "1052475",
    "end": "1058250"
  },
  {
    "text": "terms at up to,\nat most, n. So this is actually less than\nor equal to 3n,",
    "start": "1058250",
    "end": "1067000"
  },
  {
    "text": "which is order n as we want it\nto show. OK, that's algebra.\nOK, so, thus,",
    "start": "1067000",
    "end": "1077166"
  },
  {
    "text": "the average cost per insert is\ntheta of n over n,",
    "start": "1077166",
    "end": "1085166"
  },
  {
    "text": "which is theta one.\nSo, the average cost of an",
    "start": "1085166",
    "end": "1092666"
  },
  {
    "text": "insert is order one,\nwhich is what we would like it",
    "start": "1092666",
    "end": "1101000"
  },
  {
    "text": "to be especially if we're\nbuilding hash tables.",
    "start": "1101000",
    "end": "1110000"
  },
  {
    "text": "Even though sometimes you have\nto pay a big price with amortized over the previous\ninsertions that we've done,",
    "start": "1110000",
    "end": "1118790"
  },
  {
    "text": "so that the overall cost of n\noperations is order n. And that's the notion of\namortized analysis,",
    "start": "1118790",
    "end": "1126512"
  },
  {
    "text": "OK, that if I look at a\nsequence of operations, I can spread the cost out over\na whole bunch of operations,",
    "start": "1126512",
    "end": "1135056"
  },
  {
    "text": "so that the average cost is\norder n. So, if we sort of summarize\nthat, OK, OK,",
    "start": "1135056",
    "end": "1147965"
  },
  {
    "text": "with basically an amortized\nanalysis, we analyze a sequence",
    "start": "1147965",
    "end": "1160965"
  },
  {
    "text": "of operations to show that the\naverage cost per operation is",
    "start": "1160965",
    "end": "1174189"
  },
  {
    "text": "small, even though one\noperation, or several,",
    "start": "1174189",
    "end": "1184051"
  },
  {
    "text": "even, may be expensive.\nOK, there's no probability.",
    "start": "1184051",
    "end": "1199000"
  },
  {
    "text": "Even though we're doing it with\naverages, there's no probability",
    "start": "1199000",
    "end": "1205232"
  },
  {
    "text": "going on.\nOK, what you do probability, and you are looking at means,\nthere's averages.",
    "start": "1205232",
    "end": "1213443"
  },
  {
    "text": "OK, here's average,\nbut there's no probability going on.\nIt's average performance in the",
    "start": "1213443",
    "end": "1221852"
  },
  {
    "text": "worst case because n operations\ntake me a constant amount of",
    "start": "1221852",
    "end": "1227689"
  },
  {
    "text": "time per operation in the worst\ncase. n operations take me order n\ntime.",
    "start": "1227689",
    "end": "1236000"
  },
  {
    "text": "OK, each operation takes order\none time, OK,",
    "start": "1236000",
    "end": "1242573"
  },
  {
    "text": "but it's amortized over the n\noperations, OK?",
    "start": "1242573",
    "end": "1249299"
  },
  {
    "text": "Yeah, question?\nYes. Yes, yes, you can mix,\nbut you don't have to.",
    "start": "1249299",
    "end": "1260000"
  },
  {
    "text": "Yeah, but the point is that the\nbasic amortized analysis is",
    "start": "1260000",
    "end": "1266186"
  },
  {
    "text": "actually saying something very\nstrong. It's giving you worst-case\nbounds, but over a sequence as",
    "start": "1266186",
    "end": "1276106"
  },
  {
    "text": "opposed to looking at each\nindividual element of the",
    "start": "1276106",
    "end": "1281545"
  },
  {
    "text": "sequence.\nNow, there are three types of amortized arguments that appear\nin the literature.",
    "start": "1281546",
    "end": "1292000"
  },
  {
    "text": "Maybe there are more.\nAt one point, there were two.\nAnd then, a third one was",
    "start": "1292000",
    "end": "1299844"
  },
  {
    "text": "developed.\nSo, maybe there's a fourth. The first one is an aggregate,\nwhat's called an aggregate",
    "start": "1299844",
    "end": "1309703"
  },
  {
    "text": "analysis.\nAnd this is what we just saw, OK, where basically you just\nanalyze, what do the n",
    "start": "1309703",
    "end": "1319031"
  },
  {
    "text": "operations take?\nOK, and then we're going to see",
    "start": "1319031",
    "end": "1328142"
  },
  {
    "text": "two more today.\nOne is called an accounting",
    "start": "1328142",
    "end": "1336465"
  },
  {
    "text": "argument, and the other is a\npotential argument.",
    "start": "1336465",
    "end": "1345778"
  },
  {
    "text": "These two are more precise\nbecause they allocate specific",
    "start": "1345778",
    "end": "1356875"
  },
  {
    "text": "amortized costs to each\noperation.",
    "start": "1356875",
    "end": "1365000"
  },
  {
    "text": "So, one of the things about the\naggregate analysis is that you can't really say what the\namortized cost of a single",
    "start": "1365000",
    "end": "1373841"
  },
  {
    "text": "operation is easily.\nYou can in this case. You can say it's order one,\nOK?",
    "start": "1373842",
    "end": "1380000"
  },
  {
    "text": "But, in the accounting and\npotential arguments, it gives you a much more\nprecise way of characterizing",
    "start": "1380000",
    "end": "1387615"
  },
  {
    "text": "what an amortized cost of a\nparticular operation is. So, let's pitch in and look at\nthe accounting method as our",
    "start": "1387615",
    "end": "1396000"
  },
  {
    "text": "first method.\nSo, these we're going to go through the exact same example.\nIn some sense,",
    "start": "1396000",
    "end": "1402538"
  },
  {
    "text": "this example,\nthe easiest argument to make is the aggregate analysis.\nOK, so we're going get into",
    "start": "1402538",
    "end": "1409768"
  },
  {
    "text": "arguments that,\nin some sense, see more complicated.\nBut it turns out that these",
    "start": "1409769",
    "end": "1417923"
  },
  {
    "text": "methods are more powerful in\nmany circumstances.",
    "start": "1417923",
    "end": "1423011"
  },
  {
    "text": "OK, and so I want to do it in a\nsimple situation where you have",
    "start": "1423011",
    "end": "1429723"
  },
  {
    "text": "some sort of appreciation of the\nfact that you can look at any",
    "start": "1429723",
    "end": "1436327"
  },
  {
    "text": "particular problem and approach\nit from different ways.",
    "start": "1436327",
    "end": "1442173"
  },
  {
    "text": "OK, so the accounting method is\nputting yourself in the position",
    "start": "1442173",
    "end": "1448994"
  },
  {
    "text": "of a financial accountant.\nSo what you do is we are going",
    "start": "1448994",
    "end": "1459818"
  },
  {
    "text": "to charge the i'th operation a\nfictitious amortized cost.",
    "start": "1459818",
    "end": "1473000"
  },
  {
    "text": "We'll call it c hat sub i,\nwhere we are going to use the",
    "start": "1473000",
    "end": "1479470"
  },
  {
    "text": "abstraction that $1 pays for one\nunit of work.",
    "start": "1479470",
    "end": "1484763"
  },
  {
    "text": "There's Time manipulating the\ndata structure or whatever.",
    "start": "1484764",
    "end": "1491352"
  },
  {
    "text": "OK, so the idea is you charge\nthe cost. You say, this operation will\ncost you $5 or whatever.",
    "start": "1491352",
    "end": "1503000"
  },
  {
    "text": "OK, and that phi is consumed to\nperform the operation,",
    "start": "1503000",
    "end": "1514558"
  },
  {
    "text": "but there may be some unused\npart.",
    "start": "1514558",
    "end": "1521755"
  },
  {
    "text": "So, if there's any unused\namount, it's going to be stored",
    "start": "1521755",
    "end": "1533968"
  },
  {
    "text": "in the bank for use by later\noperations.",
    "start": "1533968",
    "end": "1544000"
  },
  {
    "text": "So the idea is that if the phi\nthat is being paid,",
    "start": "1544000",
    "end": "1549697"
  },
  {
    "text": "the c_i hat phi,\nisn't sufficient to pay for performing the operation,\nthen you take money out of the",
    "start": "1549697",
    "end": "1561093"
  },
  {
    "text": "bank to pay for it.\nOK, and so you don't get arrested, what's the property\nthat you've got to have?",
    "start": "1561093",
    "end": "1569820"
  },
  {
    "text": "You've got to have the bank\nbalance. What about the bank balance?\nWhat mathematical fact has to",
    "start": "1569821",
    "end": "1576776"
  },
  {
    "text": "hold the bank balance?\nYeah, it better be greater than or equal to zero,\nright?",
    "start": "1576776",
    "end": "1582522"
  },
  {
    "text": "Most people are familiar with\nthat. So, the bank balance must not\ngo negative.",
    "start": "1582522",
    "end": "1590376"
  },
  {
    "text": "In other words,\nthe amortized costs minus the costs of the operations up to\nthat point have to always be",
    "start": "1590376",
    "end": "1601157"
  },
  {
    "text": "enough to pay for all the\noperations that you're doing.",
    "start": "1601157",
    "end": "1606921"
  },
  {
    "text": "Otherwise, you're borrowing on\nthe future. In amortized analysis,\nwe don't borrow on the future,",
    "start": "1606921",
    "end": "1616848"
  },
  {
    "text": "at least not on the simple ones\nthat we are doing here.",
    "start": "1616848",
    "end": "1624000"
  },
  {
    "text": "OK, so that means we must have\nthat the sum,",
    "start": "1624000",
    "end": "1631876"
  },
  {
    "text": "I equals one to n of c_i,\nthe true costs,",
    "start": "1631876",
    "end": "1639202"
  },
  {
    "text": "therefore, if the balance is\nnot going to ever go negative,",
    "start": "1639202",
    "end": "1649826"
  },
  {
    "text": "must be bounded above by the\namortized costs for all n.",
    "start": "1649826",
    "end": "1661000"
  },
  {
    "text": "OK, for the bank balance not to\ngo negative, if I add up the true costs, it's got to be the\ncase that I can always pay for",
    "start": "1661000",
    "end": "1669638"
  },
  {
    "text": "them.\nThis is what I'm charging. This is what it actually costs\nme. So, it better be the case that\nwhatever I've actually had to",
    "start": "1669639",
    "end": "1678569"
  },
  {
    "text": "pay to operate on that data\nstructure, that's what this is, better be covered by the amount\nthat I've been charging people",
    "start": "1678569",
    "end": "1687208"
  },
  {
    "text": "for the use of that data\nstructure up to that point. And that's got to be true for\nall n.",
    "start": "1687208",
    "end": "1695212"
  },
  {
    "text": "But notice that this now gives\nme a way of charging a particular operation a certain\namount.",
    "start": "1695212",
    "end": "1703381"
  },
  {
    "text": "So, the total amortized costs\nprovide an upper bound on the",
    "start": "1703381",
    "end": "1708705"
  },
  {
    "text": "total true costs.\nTotal amortized costs are an",
    "start": "1708705",
    "end": "1715862"
  },
  {
    "text": "upper bound on the true costs.\nAny question about this?",
    "start": "1715863",
    "end": "1725242"
  },
  {
    "text": "That we'll do the example of\nthe dynamic table using this",
    "start": "1725242",
    "end": "1734967"
  },
  {
    "text": "methodology.\nOK, so, back to the dynamic",
    "start": "1734968",
    "end": "1741742"
  },
  {
    "text": "table.\nOK, so what we're going to do",
    "start": "1741742",
    "end": "1748991"
  },
  {
    "text": "in this case is we're going to\ncharge an amortized cost of $3",
    "start": "1748991",
    "end": "1759319"
  },
  {
    "text": "for the i'th insert for all i.\nAnd the idea is that $1 is",
    "start": "1759319",
    "end": "1771190"
  },
  {
    "text": "going to pay for an immediate\ninsert, and $2 is going to be",
    "start": "1771190",
    "end": "1785000"
  },
  {
    "text": "stored for doubling the table.\nAnd, it needs to be expanded.",
    "start": "1785000",
    "end": "1800000"
  },
  {
    "text": "When the table doubles,\nof the stored dollars,",
    "start": "1800000",
    "end": "1810699"
  },
  {
    "text": "we'll use one dollar to move a\nrecent item, I'll call it,",
    "start": "1810699",
    "end": "1824013"
  },
  {
    "text": "and one dollar we'll move an\nold item.",
    "start": "1824013",
    "end": "1834000"
  },
  {
    "text": "So, let's do the example.\nSo, imagine that I'm in this",
    "start": "1834000",
    "end": "1842304"
  },
  {
    "text": "situation where I have a table\nof size eight,",
    "start": "1842304",
    "end": "1849198"
  },
  {
    "text": "and I just doubled my table.\nSo I have four items of the",
    "start": "1849198",
    "end": "1857815"
  },
  {
    "text": "table.\nWhat I'm going to do is have no",
    "start": "1857815",
    "end": "1863612"
  },
  {
    "text": "dollars in my table.\nSo, along comes an insertion of",
    "start": "1863612",
    "end": "1871762"
  },
  {
    "text": "item number five.\nI charge $3 for it. $1 lets me put the item in the\ntable, and I have $2 left over.",
    "start": "1871762",
    "end": "1883533"
  },
  {
    "text": "So let me store those $2 in the\nslot corresponding to where that",
    "start": "1883533",
    "end": "1891179"
  },
  {
    "text": "item is.\nNow, item six comes in. Once again, $1,\ncharge $3, $1 is paid for the",
    "start": "1891179",
    "end": "1898647"
  },
  {
    "text": "insert, $2 left over,\nI'm going to play $2. Let me put it down there,\nand so forth.",
    "start": "1898647",
    "end": "1905390"
  },
  {
    "text": "The next one comes in,\n$2, $2 leftover, and now the ninth item comes\nin.",
    "start": "1905390",
    "end": "1911206"
  },
  {
    "text": "So, I double the size of my\ntable.",
    "start": "1911206",
    "end": "1915000"
  },
  {
    "text": "OK, and now I copy all of these\nguys and to all of these here.",
    "start": "1928000",
    "end": "1933222"
  },
  {
    "text": "And what happens?\nLook at that: I've got $8,\nand I've got eight items that",
    "start": "1933222",
    "end": "1939301"
  },
  {
    "text": "have to be copied.\nPerfect. OK, so one of these dollars\npays for one of the ones that",
    "start": "1939301",
    "end": "1946320"
  },
  {
    "text": "was inserted in the last round,\nand one of them pays for an old",
    "start": "1946321",
    "end": "1951630"
  },
  {
    "text": "one.\nOK, and so, I copy them in, and now, none of those guys\nhave any money.",
    "start": "1951630",
    "end": "1960166"
  },
  {
    "text": "And the ninth guy comes in:\nhe has $2 left over. And then, we keep going on.\nOK, so you see that by that",
    "start": "1960166",
    "end": "1970657"
  },
  {
    "text": "argument, if I charge everybody\n$3, OK, I can always handle all",
    "start": "1970657",
    "end": "1977096"
  },
  {
    "text": "of the table doubling,\nthe charges for the table doubling because the inductive\ninvariant that I've maintained",
    "start": "1977096",
    "end": "1988210"
  },
  {
    "text": "is that after it doubles,\nthere's nothing in the bank",
    "start": "1988210",
    "end": "1993611"
  },
  {
    "text": "account.\nAnd now, I put in $2. Well then, I can pay,\nand I'm now left in the same",
    "start": "1993611",
    "end": "2001303"
  },
  {
    "text": "situation.\nOK, and it's the case that the bank balance never goes\nnegative.",
    "start": "2001303",
    "end": "2006757"
  },
  {
    "text": "So that's a really important\ninvariant to verify.",
    "start": "2006757",
    "end": "2011000"
  },
  {
    "text": "And so, therefore,\nthe sum of the true costs,",
    "start": "2021000",
    "end": "2026635"
  },
  {
    "text": "or the amortized costs,\nupper bound the sum of the true",
    "start": "2026635",
    "end": "2033551"
  },
  {
    "text": "costs.\nAnd, since the sum of the amortized cost,\nhere, is, if I go i equals one",
    "start": "2033551",
    "end": "2043284"
  },
  {
    "text": "to n, OK, this is 3n.\nSo, the point is,",
    "start": "2043285",
    "end": "2049615"
  },
  {
    "text": "now I bounded the sum of the\ntrue costs by 3n.",
    "start": "2049615",
    "end": "2056538"
  },
  {
    "text": "OK, so let's go back to this\ntable here, and look to see what",
    "start": "2056538",
    "end": "2065769"
  },
  {
    "text": "happens, OK, if I put in c_i\nhat, and the bank balance.",
    "start": "2065769",
    "end": "2075000"
  },
  {
    "text": "OK, so in fact,\nso the first thing I do is",
    "start": "2075000",
    "end": "2083555"
  },
  {
    "text": "insert; I charge $3,\nright, and I do an insert.",
    "start": "2083556",
    "end": "2093156"
  },
  {
    "text": "How much do I have left?\nI'm going to have $2.",
    "start": "2093156",
    "end": "2101118"
  },
  {
    "text": "It turns out I'm actually going\nto charge $2 and have only $1",
    "start": "2101118",
    "end": "2107172"
  },
  {
    "text": "left.\nOK, so I'm actually going to under charge the first guy.\nI'm going to show you that it",
    "start": "2107172",
    "end": "2116151"
  },
  {
    "text": "works if I charge everybody $3.\nExcept the first guy:",
    "start": "2116151",
    "end": "2121397"
  },
  {
    "text": "I charge $2.\nI can actually save a little bit on number one.\nOK, that for this guy I'm going",
    "start": "2121397",
    "end": "2130376"
  },
  {
    "text": "to charge $3.\nOK, what's the size of my bank",
    "start": "2130376",
    "end": "2136665"
  },
  {
    "text": "balance when I'm done?\nWell, I have to copy one guy.",
    "start": "2136665",
    "end": "2142895"
  },
  {
    "text": "He's all paid for,\nso I have $2 left. OK, people with me?\nOK, the next guy:",
    "start": "2142895",
    "end": "2151692"
  },
  {
    "text": "I charge $3.\nActually, I'm going to charge",
    "start": "2151692",
    "end": "2156701"
  },
  {
    "text": "all these guys $3.\nOK, so here now I basically get",
    "start": "2156701",
    "end": "2162911"
  },
  {
    "text": "to, I've got a table of size\nfour. So, I basically have,\nI have to copy,",
    "start": "2162911",
    "end": "2169390"
  },
  {
    "text": "oh, when I insert the third\nguy, I've got to copy two guys.",
    "start": "2169390",
    "end": "2174837"
  },
  {
    "text": "That'll use up that,\nso I'll have only $2 left in the table after I've inserted\nhim.",
    "start": "2174837",
    "end": "2182444"
  },
  {
    "text": "OK, now I insert the fourth\nguy, OK, and that's a good one",
    "start": "2182444",
    "end": "2187796"
  },
  {
    "text": "because now I've built up a\nbalance here of $4 because I",
    "start": "2187796",
    "end": "2192961"
  },
  {
    "text": "didn't have to copy anybody.\nOK, now I insert the fifth guy.",
    "start": "2192961",
    "end": "2201843"
  },
  {
    "text": "I've got to copy four items.\nSo that expends that balance.",
    "start": "2201843",
    "end": "2210750"
  },
  {
    "text": "I have, then,\ntwo left. OK, and then here basically I\nadd two to it.",
    "start": "2210750",
    "end": "2220906"
  },
  {
    "text": "And then at this point,\nI use it all up and go back to",
    "start": "2220906",
    "end": "2229187"
  },
  {
    "text": "two, etc.\nOK, so you see one of the things I want you to notice is I\ncould have charged three here.",
    "start": "2229187",
    "end": "2238538"
  },
  {
    "text": "And then I would've had an\nextra dollar lying around throughout here.\nIt wouldn't have mattered.",
    "start": "2238539",
    "end": "2245529"
  },
  {
    "text": "It still would be upper bounded\nby 3n. OK, so the idea is that\ndifferent schemes for charging",
    "start": "2245529",
    "end": "2252294"
  },
  {
    "text": "amortized costs can work.\nThey don't all have to be the same.\nIt's not like when you do in",
    "start": "2252294",
    "end": "2259143"
  },
  {
    "text": "amortized analysis that there is\none scheme that will work. I could have charged $4 to\neverybody.",
    "start": "2259143",
    "end": "2265425"
  },
  {
    "text": "And it would have worked.\nBut it turns out, I couldn't have charged two\ndollars for everybody.",
    "start": "2265425",
    "end": "2271506"
  },
  {
    "text": "If I charged $2 for everybody,\nmy balance would go negative, OK?\nMy balance would go negative,",
    "start": "2271507",
    "end": "2277588"
  },
  {
    "text": "but I can charge three dollars,\nand that will work. OK, four, five,\nsix, I could charge that.",
    "start": "2277589",
    "end": "2284661"
  },
  {
    "text": "The bound that I would get\nwould be simply a looser bound. Instead of it being less than\nor equal to 3n,",
    "start": "2284661",
    "end": "2291382"
  },
  {
    "text": "it would be less than or equal\nto 4n or 5n, or what have you. But if I tried to do 2n,\nit wouldn't have worked because",
    "start": "2291382",
    "end": "2299035"
  },
  {
    "text": "I wouldn't have enough money\nleft to copy everything. What would happen is I would\nhave only $1 in this,",
    "start": "2299035",
    "end": "2305756"
  },
  {
    "text": "and then when it came time to\ntable double, I would need to copy eight\nguys. And I'd only have built up a\nbank account of $4,",
    "start": "2305756",
    "end": "2313741"
  },
  {
    "text": "sorry, if I charged $2 and had\n$1 left over. OK, so to actually make these\nthings work out,",
    "start": "2313741",
    "end": "2322675"
  },
  {
    "text": "you have to play a little bit,\nOK, see what works,",
    "start": "2322675",
    "end": "2327766"
  },
  {
    "text": "see what doesn't work.\nOK, no algorithmic formulas for",
    "start": "2327766",
    "end": "2333272"
  },
  {
    "text": "algorithm design.\nOK, good. In the book,\nyou can read about table",
    "start": "2333272",
    "end": "2339714"
  },
  {
    "text": "contraction.\nWhat happens when you start deleting elements?\nNow you want to make the table",
    "start": "2339714",
    "end": "2346772"
  },
  {
    "text": "be smaller.\nNow, you have to be very careful because unless you put,\nwho remembers from physics,",
    "start": "2346772",
    "end": "2352690"
  },
  {
    "text": "hysteresis?\nVaguely? A couple people?\nOK, you have to worry about hysteresis.\nOK, if you're not careful,",
    "start": "2352690",
    "end": "2358990"
  },
  {
    "text": "if whenever it gets to be less\nthan a power of two, you go in the half,\nyou can find that you're",
    "start": "2358990",
    "end": "2364909"
  },
  {
    "text": "thrashing.\nSo, you need to make it so that there is some memory in the\nsystem so that you only collapse",
    "start": "2364909",
    "end": "2371272"
  },
  {
    "text": "after you've done a sufficient\nnumber of deletions, OK, and so forth.\nAnd the book has analysis of",
    "start": "2371272",
    "end": "2379111"
  },
  {
    "text": "the more general case.\nOK, so any questions about the accounting method?\nAccounting method is really",
    "start": "2379111",
    "end": "2386426"
  },
  {
    "text": "very cute, OK,\nvery cute. And, it's the one most students\nprefer to do,",
    "start": "2386426",
    "end": "2391554"
  },
  {
    "text": "OK?\nThey usually hate the next one until they learn it.\nOnce they learn it,",
    "start": "2391554",
    "end": "2396983"
  },
  {
    "text": "they say, ooh,\nthat's cool. OK, but to start out with,\nit takes a little bit more",
    "start": "2396983",
    "end": "2404858"
  },
  {
    "text": "intestinal fortitude,\nOK? But it's amazing.\nGood potential arguments are",
    "start": "2404858",
    "end": "2411305"
  },
  {
    "text": "really sweet.\nAnd we are going to see one next time, so you'll definitely\nwant to review and make sure you",
    "start": "2411305",
    "end": "2420929"
  },
  {
    "text": "understand it before Wednesday's\nlecture because Wednesday's",
    "start": "2420929",
    "end": "2426441"
  },
  {
    "text": "lecture, we're going to assume\nwe understand potential method.",
    "start": "2426441",
    "end": "2432140"
  },
  {
    "text": "OK, so let's do,\nenough advertisement. I think the potential method is\none of the beautiful results in",
    "start": "2432141",
    "end": "2443275"
  },
  {
    "text": "algorithmic analysis,\nOK, just beautiful result, beautiful set of techniques.\nOK, and it's also,",
    "start": "2443275",
    "end": "2452688"
  },
  {
    "text": "just in terms of,\nI mean, what do you aspire: to be a bookkeeper or to be a\nphysicist?",
    "start": "2452688",
    "end": "2462000"
  },
  {
    "text": "OK, so, the idea is we don't\nwant to be bankers.",
    "start": "2462000",
    "end": "2470891"
  },
  {
    "text": "We want to be physicists.",
    "start": "2470891",
    "end": "2476000"
  },
  {
    "text": "And so, this bank account,\nwe are going to say about the potential energy of the dynamics\nthat that we are analyzing.",
    "start": "2484000",
    "end": "2492837"
  },
  {
    "text": "OK, because,\nwhy? It delivers up work just like a\nspring does, for example,",
    "start": "2492837",
    "end": "2498418"
  },
  {
    "text": "OK, when you study potential\nenergy, or putting something up high and having gravity pull it\ndown.",
    "start": "2498418",
    "end": "2505782"
  },
  {
    "text": "We convert dynamic to\npotential, and that's exactly what we're going to be doing\nhere, and it's similar",
    "start": "2505782",
    "end": "2513534"
  },
  {
    "text": "mathematics except that in our\ncase it turns out to be discrete mathematics rather than\ncontinuous math for most of it.",
    "start": "2513534",
    "end": "2524000"
  },
  {
    "text": "So here's the framework for the\npotential method.",
    "start": "2524000",
    "end": "2534628"
  },
  {
    "text": "So, we start with some data\nstructure, D_0,",
    "start": "2534628",
    "end": "2543928"
  },
  {
    "text": "and operation i transforms D_(i\n- 1) into D_i.",
    "start": "2543928",
    "end": "2555000"
  },
  {
    "text": "So, we view the operation on\nthe data structure as a mapping,",
    "start": "2555000",
    "end": "2560498"
  },
  {
    "text": "mapping one data structure to\nanother data structure, the one from before to the one\nafter.",
    "start": "2560498",
    "end": "2568561"
  },
  {
    "text": "OK, already it's nicely\nmathematical. OK, and of course,\nthe costs of operation i",
    "start": "2568561",
    "end": "2575709"
  },
  {
    "text": "remains at c_i.",
    "start": "2575709",
    "end": "2578000"
  },
  {
    "text": "And, now what we are going to\ndo is define the potential",
    "start": "2594000",
    "end": "2606320"
  },
  {
    "text": "function, phi,\nwhich maps the set of data",
    "start": "2606320",
    "end": "2615280"
  },
  {
    "text": "structures into the reals.\nSo, associated with every data",
    "start": "2615280",
    "end": "2626675"
  },
  {
    "text": "structure, now,\nis a potential, OK, a real-valued potential,\noften integer potential such",
    "start": "2626675",
    "end": "2640077"
  },
  {
    "text": "that phi of D_0 is equal to\nzero.",
    "start": "2640077",
    "end": "2646000"
  },
  {
    "text": "So, the initial potential is\nzero, and phi of D_i is greater",
    "start": "2646000",
    "end": "2651313"
  },
  {
    "text": "than or equal to zero for all i.\nSo, potential can never be",
    "start": "2651313",
    "end": "2656537"
  },
  {
    "text": "nonnegative, just like the bank\naccount because the potential is",
    "start": "2656537",
    "end": "2662211"
  },
  {
    "text": "essentially representing the\nbank account, if you will,\nin the accounting method.",
    "start": "2662211",
    "end": "2669236"
  },
  {
    "text": "OK, so we always want the\npotential to be nonnegative.",
    "start": "2669236",
    "end": "2675000"
  },
  {
    "text": "Now, actually,\nthere are times where you use potential functions where you\nviolate both of these",
    "start": "2675000",
    "end": "2680755"
  },
  {
    "text": "properties.\nThere's some really interesting potential arguments which don't\nviolate like these,",
    "start": "2680756",
    "end": "2686450"
  },
  {
    "text": "but for the simple ones we're\ngoing to be doing in this class, we'll just assume that these\ntend to be true.",
    "start": "2686450",
    "end": "2692949"
  },
  {
    "text": "OK, but we will actually see\nsome times where phi of D_0 isn't zero, it doesn't matter.\nOK, but generally this is what",
    "start": "2692949",
    "end": "2700067"
  },
  {
    "text": "we are going to assume in the\ntype of potential function argument that we are going to be\ndoing.",
    "start": "2700067",
    "end": "2707000"
  },
  {
    "text": "OK, so I just want to let you\nknow that there are bigger,",
    "start": "2707000",
    "end": "2712689"
  },
  {
    "text": "there is a bigger space of\npotential function arguments",
    "start": "2712689",
    "end": "2718176"
  },
  {
    "text": "than the one that I'm showing\nyou here. OK, so then,\nunder this circumstance,",
    "start": "2718176",
    "end": "2725695"
  },
  {
    "text": "we define the amortized cost\nc_i hat with respect to phi as,",
    "start": "2725695",
    "end": "2731689"
  },
  {
    "text": "and this is one of these\nformulas that if you can't",
    "start": "2731689",
    "end": "2736770"
  },
  {
    "text": "remember it, definitely put it\ndown on your crib sheet for the",
    "start": "2736770",
    "end": "2742967"
  },
  {
    "text": "final.\nOK, so c_i hat is equal to c_i",
    "start": "2742967",
    "end": "2751486"
  },
  {
    "text": "plus phi of D_i minus phi of D_i\nminus one.",
    "start": "2751486",
    "end": "2761000"
  },
  {
    "text": "OK, so this is the change in\npotential difference.",
    "start": "2761000",
    "end": "2772280"
  },
  {
    "text": "And, let's call it delta phi i\nfor shorthand.",
    "start": "2772280",
    "end": "2782410"
  },
  {
    "text": "OK, and let's see what it means\nto have --",
    "start": "2782410",
    "end": "2793000"
  },
  {
    "text": "-- in the different\ncircumstances.",
    "start": "2803000",
    "end": "2808467"
  },
  {
    "text": "So, if delta of phi i is\ngreater than zero,",
    "start": "2808467",
    "end": "2815426"
  },
  {
    "text": "OK, so if this is greater than\nzero, then what's the",
    "start": "2815426",
    "end": "2823875"
  },
  {
    "text": "relationship between c_i hat and\nc_i?",
    "start": "2823875",
    "end": "2831000"
  },
  {
    "text": "This is greater than zero.\nYeah, c_i hat is then greater",
    "start": "2831000",
    "end": "2839038"
  },
  {
    "text": "than c_i, OK?\nThen, c_i hat is greater than",
    "start": "2839038",
    "end": "2845176"
  },
  {
    "text": "c_i.\nAnd what does that mean? That means when I do operation\nI, I charged more than it cost",
    "start": "2845176",
    "end": "2859926"
  },
  {
    "text": "me to do the operation.\nSo, the extra amount that I",
    "start": "2859926",
    "end": "2868198"
  },
  {
    "text": "charged beyond what I actually\nused is being put into the bank,",
    "start": "2868198",
    "end": "2878455"
  },
  {
    "text": "OK, is being stored as\npotential energy.",
    "start": "2878455",
    "end": "2884908"
  },
  {
    "text": "So, op I stores work in the\ndata structure for later.",
    "start": "2884908",
    "end": "2895000"
  },
  {
    "text": "Similarly, if delta phi i is\nless than zero,",
    "start": "2895000",
    "end": "2902453"
  },
  {
    "text": "then c_i hat is less than c_i.\nAnd so, the data structure",
    "start": "2902453",
    "end": "2913651"
  },
  {
    "text": "delivers up work --",
    "start": "2913652",
    "end": "2918000"
  },
  {
    "text": "-- to help pay for op I,\nOK, for operation I.",
    "start": "2932000",
    "end": "2943000"
  },
  {
    "text": "So, if it's less than zero,\nthat means that my change in",
    "start": "2943000",
    "end": "2948625"
  },
  {
    "text": "potential, that means my bank\naccount went down as a result,",
    "start": "2948625",
    "end": "2954659"
  },
  {
    "text": "and so therefore,\nwhat happens was the data structure provided work to be\ndone in order,",
    "start": "2954659",
    "end": "2963352"
  },
  {
    "text": "because the true cost was\nbigger than the amortized cost.",
    "start": "2963352",
    "end": "2970000"
  },
  {
    "text": "So, if you think about it,\nthe difference between looking at it from the potential\nfunction point of view versus",
    "start": "2970000",
    "end": "2977442"
  },
  {
    "text": "the accounting point of view,\nthe accounting point of view, you sort of say,\nhere is what my amortized cost",
    "start": "2977443",
    "end": "2984546"
  },
  {
    "text": "will be.\nNow let me analyze my bank account, make sure it never went\nnegative.",
    "start": "2984546",
    "end": "2989668"
  },
  {
    "text": "In some sense,\nin the potential function argument, you're saying,\nhere's what my bank account is",
    "start": "2989668",
    "end": "2996019"
  },
  {
    "text": "all the time.\nNow let me analyze what the",
    "start": "2996019",
    "end": "3001387"
  },
  {
    "text": "amortized costs are.\nSo, that's sort of the",
    "start": "3001387",
    "end": "3006656"
  },
  {
    "text": "difference in approaches.\nOne is you are sort of",
    "start": "3006656",
    "end": "3012553"
  },
  {
    "text": "specifying the bank account.\nThe other, you're specifying",
    "start": "3012553",
    "end": "3019578"
  },
  {
    "text": "the amortized costs.\nSo, we look at the, why is it that this is a\nreasonable way to proceed?",
    "start": "3019579",
    "end": "3032000"
  },
  {
    "text": "Well, let's look at the total\namortized cost of n operations.",
    "start": "3032000",
    "end": "3041130"
  },
  {
    "text": "OK, that's just the sum,\ni equals one to n of c_i hat.",
    "start": "3041130",
    "end": "3049194"
  },
  {
    "text": "That's the total amortized\ncost. And that's equal to,\nbut substitution,",
    "start": "3049195",
    "end": "3059543"
  },
  {
    "text": "just substitute c_i hat for\nthis formula.",
    "start": "3059543",
    "end": "3067000"
  },
  {
    "text": "OK, so that's c_i plus phi of\nD_i minus phi of D_i minus one.",
    "start": "3067000",
    "end": "3084333"
  },
  {
    "text": "OK, and that's equal to c_i.\nAnd now, what happens when I",
    "start": "3084333",
    "end": "3096043"
  },
  {
    "text": "sum up these terms?\nWhat happens when some of these",
    "start": "3096043",
    "end": "3101478"
  },
  {
    "text": "terms?\nWhat's the mathematical term we use?\nIt telescopes.",
    "start": "3101478",
    "end": "3107456"
  },
  {
    "text": "OK, every term on the left is\nadded in once when it's I,",
    "start": "3107456",
    "end": "3113434"
  },
  {
    "text": "and subtract it out when it's I\nminus one, except for the first",
    "start": "3113434",
    "end": "3120173"
  },
  {
    "text": "and last terms.\nThe term for n is only added",
    "start": "3120173",
    "end": "3128119"
  },
  {
    "text": "in, and the term for zero is\nonly subtracted out.",
    "start": "3128119",
    "end": "3136897"
  },
  {
    "text": "OK, so that's because it\ntelescopes.",
    "start": "3136897",
    "end": "3143297"
  },
  {
    "text": "OK, so this term is what?\nWhat property do we know of",
    "start": "3143297",
    "end": "3152805"
  },
  {
    "text": "this?\nIt's greater than or equal to",
    "start": "3152805",
    "end": "3158818"
  },
  {
    "text": "zero.\nAnd this one equals zero. So, therefore,\nthis is greater than or equal",
    "start": "3158819",
    "end": "3168434"
  },
  {
    "text": "to c_i.\nAnd thus, the amortized costs are an upper bound on the true\ncosts, which is what we want.",
    "start": "3168434",
    "end": "3182000"
  },
  {
    "text": "Some of the amortized costs is\nan upper bound up on the sum of the true costs.\nOK, but here,",
    "start": "3182000",
    "end": "3188050"
  },
  {
    "text": "the way that we define the\namortized costs was by first defining the potential function.\nOK, so the potential function",
    "start": "3188050",
    "end": "3195868"
  },
  {
    "text": "is sort of, as I said,\nthe difference between the accounting and the potential\nmethod is, do you specify the",
    "start": "3195868",
    "end": "3203006"
  },
  {
    "text": "bank account or do you specify\nthe cost? OK, do you specify the\npotential energy at any point,",
    "start": "3203006",
    "end": "3209192"
  },
  {
    "text": "or do you specify the cost at\nany point? OK, but in any case,\nyou get, this bound,",
    "start": "3209192",
    "end": "3218217"
  },
  {
    "text": "also this math is nicer math.\nI like telescopes.",
    "start": "3218217",
    "end": "3224347"
  },
  {
    "text": "OK, so the amortized costs\nupper bound the true costs.",
    "start": "3224347",
    "end": "3231260"
  },
  {
    "text": "OK, let's do table doubling\nover here.",
    "start": "3231260",
    "end": "3237000"
  },
  {
    "text": "So, to analyze this,\nwe have to define our potential.\nOK, if anybody can guess this",
    "start": "3260000",
    "end": "3268823"
  },
  {
    "text": "off the top of their head,\nthey're better than I am.",
    "start": "3268823",
    "end": "3275000"
  },
  {
    "text": "I struggled with this for\nprobably easily a couple hours",
    "start": "3275000",
    "end": "3282576"
  },
  {
    "text": "to get it right,\nOK, because I'm not too smart.",
    "start": "3282576",
    "end": "3288912"
  },
  {
    "text": "OK, that's a potential function\nI'm going to use,",
    "start": "3288913",
    "end": "3295525"
  },
  {
    "text": "OK, 2i minus two to the ceiling\nof log i.",
    "start": "3295525",
    "end": "3302000"
  },
  {
    "text": "And, we're going to assume that\ntwo to the ceiling of log of",
    "start": "3302000",
    "end": "3307963"
  },
  {
    "text": "zero is equal to zero,\nbecause that's what it is in",
    "start": "3307963",
    "end": "3313017"
  },
  {
    "text": "the limit.\nFor log of zero, this becomes minus infinity,\nso, two to the minus infinity",
    "start": "3313018",
    "end": "3321407"
  },
  {
    "text": "is zero.\nSo, that's just going to be a mathematical convenience.\nAssume that.",
    "start": "3321407",
    "end": "3330000"
  },
  {
    "text": "OK, so where did I get this\nfrom? I played around.\nI looked at that sequence that",
    "start": "3330000",
    "end": "3335157"
  },
  {
    "text": "I have erased and I said,\nOK, because reversing, there are some problems for\nwhich defining a potential",
    "start": "3335157",
    "end": "3341767"
  },
  {
    "text": "function is fairly easy.\nBut, defining the amortized costs is hard,\nOK, to define the accounting.",
    "start": "3341768",
    "end": "3347983"
  },
  {
    "text": "So, for this one,\nthe accounting method is, I would say,\nan easier method to use.",
    "start": "3347983",
    "end": "3353140"
  },
  {
    "text": "However, I'm going to show you\nthat you still can do it with potential method if you come up\nwith the right potential.",
    "start": "3353140",
    "end": "3362000"
  },
  {
    "text": "So, intuitively,\nthis is basically what's left",
    "start": "3362000",
    "end": "3367255"
  },
  {
    "text": "in the bank account at the I'th\noperation because I've put in 2i",
    "start": "3367255",
    "end": "3374612"
  },
  {
    "text": "things into the bank,\nand I've subtracted out this",
    "start": "3374613",
    "end": "3380335"
  },
  {
    "text": "many, essentially,\nfrom table doublings, OK, up to that point,\nOK?",
    "start": "3380335",
    "end": "3387692"
  },
  {
    "text": "So, first let's observe,\nwhat is phi of D_0?",
    "start": "3387693",
    "end": "3394000"
  },
  {
    "text": "Zero.\nSo, that's good. And, the phi of D_i is greater\nthan or equal to zero.",
    "start": "3394000",
    "end": "3403022"
  },
  {
    "text": "Why is that?",
    "start": "3403022",
    "end": "3405000"
  },
  {
    "text": "Why is that?",
    "start": "3418000",
    "end": "3419000"
  },
  {
    "text": "So, what's the biggest that\nceiling of log i could be?",
    "start": "3431000",
    "end": "3440352"
  },
  {
    "text": "Ceiling of log i is either log\ni or log i quantity plus one,",
    "start": "3440352",
    "end": "3450764"
  },
  {
    "text": "OK?\nSo, the biggest it is, is log i plus one.\nIf it's log i plus one,",
    "start": "3450764",
    "end": "3460400"
  },
  {
    "text": "two to the log i plus one,\nit's just 2i.",
    "start": "3460400",
    "end": "3465599"
  },
  {
    "text": "That's the biggest it could be,\nright? So, two, the log of i,\nplus one, is just,",
    "start": "3465599",
    "end": "3475866"
  },
  {
    "text": "let's do it the other way,\nis i times two,",
    "start": "3475866",
    "end": "3481333"
  },
  {
    "text": "OK, i for that part,\ntwo for that part.",
    "start": "3481333",
    "end": "3488000"
  },
  {
    "text": "OK, so that the biggest it\ncould be. OK, or it's just log of i.\nSo, either this is going to be",
    "start": "3488000",
    "end": "3500207"
  },
  {
    "text": "2i minus i or 2i minus 2i.\nIn either case,",
    "start": "3500207",
    "end": "3505707"
  },
  {
    "text": "it's bigger than zero,\nOK? So, those are the two\nproperties I need for this to be",
    "start": "3505707",
    "end": "3514108"
  },
  {
    "text": "a well-defined potential\nfunction. Now, that doesn't say that the\namortized costs are going to be",
    "start": "3514108",
    "end": "3521395"
  },
  {
    "text": "satisfied the property that\nthings are going to be cheap, OK, that I'm going to be able\nto do my analysis and get the",
    "start": "3521395",
    "end": "3530232"
  },
  {
    "text": "kind of bounds I want.\nBut, it sets up to say, yes, I've satisfied the syntax\nof having a proper potential",
    "start": "3530232",
    "end": "3538217"
  },
  {
    "text": "function.\nSo, let's just do a quick example here just to see what\nthis means.",
    "start": "3538217",
    "end": "3547836"
  },
  {
    "text": "So, imagine that I am in the\nsituation where I have eight,",
    "start": "3547836",
    "end": "3554709"
  },
  {
    "text": "did I do that right,\nOK, yeah, eight slots,",
    "start": "3554709",
    "end": "3559773"
  },
  {
    "text": "and say six of them are full.\nSo then, phi by this is going",
    "start": "3559773",
    "end": "3566765"
  },
  {
    "text": "to be 2i.\nThat's two times six minus two to the 2i.\nWhat's that?",
    "start": "3566765",
    "end": "3575615"
  },
  {
    "text": "Sorry, minus two to the ceiling\nof log i.",
    "start": "3575615",
    "end": "3581000"
  },
  {
    "text": "So, i is six,\nright, so log of i is log of",
    "start": "3581000",
    "end": "3586519"
  },
  {
    "text": "six.\nThe ceiling of it is three. So, that's minus 2^3,\nwhich is eight.",
    "start": "3586519",
    "end": "3595537"
  },
  {
    "text": "So, that's 12 minus eight.\nThat's four.",
    "start": "3595538",
    "end": "3602000"
  },
  {
    "text": "And if you think about this in\nthe accounting method, these would be zeros,\nand these would be twos,",
    "start": "3602000",
    "end": "3609228"
  },
  {
    "text": "right, for the accounting\nmethod if we do the same thing, because this is halfway\nthrough, right,",
    "start": "3609228",
    "end": "3616233"
  },
  {
    "text": "all zeros, and that we add two\nfor each one that we're going in.\nSo, I function is,",
    "start": "3616233",
    "end": "3622193"
  },
  {
    "text": "in fact, telling me what the\nactual cost is. OK, everybody with me?\nOK, so that's what we mean by",
    "start": "3622194",
    "end": "3629199"
  },
  {
    "text": "this particular potential\nfunction. OK, so now let's add up the\namortized cost of the i'th",
    "start": "3629199",
    "end": "3637274"
  },
  {
    "text": "insert.",
    "start": "3637274",
    "end": "3638000"
  },
  {
    "text": "OK, so that's the amortized\ncost of the i'th insert,",
    "start": "3669000",
    "end": "3674190"
  },
  {
    "text": "just by definition.\nOK, and now that's equal to, well, what is c_i?\nDo we still have that written",
    "start": "3674190",
    "end": "3683755"
  },
  {
    "text": "down somewhere,\nor have we erased that at this point?\nI think we erased it.",
    "start": "3683756",
    "end": "3692000"
  },
  {
    "text": "Well, we can write it down\nagain.",
    "start": "3692000",
    "end": "3697480"
  },
  {
    "text": "It is i if i minus one is an\nexact power of two.",
    "start": "3697480",
    "end": "3705530"
  },
  {
    "text": "And, it's one otherwise.\nThat's c_i.",
    "start": "3705530",
    "end": "3711524"
  },
  {
    "text": "That's this term,\nplus, and now phi of D_i:",
    "start": "3711524",
    "end": "3718718"
  },
  {
    "text": "so, what is that?\nphi of D_i is this business,",
    "start": "3718718",
    "end": "3730830"
  },
  {
    "text": "2i minus two ceiling of log i\nminus 2i minus one minus two",
    "start": "3730830",
    "end": "3746771"
  },
  {
    "text": "ceiling of log of I minus one.\nOK, so that's the amortized",
    "start": "3746771",
    "end": "3759634"
  },
  {
    "text": "cost.\nThat's a nice, pretty formula,\nright?",
    "start": "3759634",
    "end": "3765018"
  },
  {
    "text": "OK, let's hope it simplifies a\nlittle. OK, so that's equal to,\nwell, we have the i and the one",
    "start": "3765019",
    "end": "3777269"
  },
  {
    "text": "here, if, etc.,\nthat business, plus, OK, well,\nwe have some things we can",
    "start": "3777269",
    "end": "3786692"
  },
  {
    "text": "cancel here, right?\nSo here, we have 2i minus 2i.",
    "start": "3786692",
    "end": "3796661"
  },
  {
    "text": "That cancels.\nAnd then we have what's left",
    "start": "3796662",
    "end": "3804668"
  },
  {
    "text": "over here is a minus two.\nSo, that's a plus two.",
    "start": "3804668",
    "end": "3813846"
  },
  {
    "text": "And now, I have minus this term\nplus this term.",
    "start": "3813846",
    "end": "3824000"
  },
  {
    "text": "That's a lot prettier.\nOK, it's still a mess. We've got to case analysis.\nWhy is it suggestive of a case",
    "start": "3824000",
    "end": "3833294"
  },
  {
    "text": "analysis?\nWe have a case. OK, so let's do a case\nanalysis.",
    "start": "3833294",
    "end": "3839000"
  },
  {
    "text": "OK, so case one,\nI minus one is an exact power",
    "start": "3851000",
    "end": "3857966"
  },
  {
    "text": "of two.\nSo then, c_i hat is equal to,",
    "start": "3857966",
    "end": "3863539"
  },
  {
    "text": "well, c_i is now just i.\nThat's that case.",
    "start": "3863539",
    "end": "3869887"
  },
  {
    "text": "And then we have the rest\nthere, plus two,",
    "start": "3869887",
    "end": "3876234"
  },
  {
    "text": "minus two, ceiling of log i\nminus two ceiling of log of i",
    "start": "3876234",
    "end": "3884902"
  },
  {
    "text": "minus one.\nOK, and that's equal to i plus",
    "start": "3884903",
    "end": "3893089"
  },
  {
    "text": "two.\nWell, let's see. If I minus one is an exact\npower of two,",
    "start": "3893089",
    "end": "3903098"
  },
  {
    "text": "what is this term?\ni minus one is an exact power",
    "start": "3903098",
    "end": "3912235"
  },
  {
    "text": "of two.\nPlus, thank you, sorry about that.",
    "start": "3912236",
    "end": "3920000"
  },
  {
    "text": "It's good to have students,\nlet me say, because, boy, my math is so bad.\nThis is actually why I end up",
    "start": "3933000",
    "end": "3941250"
  },
  {
    "text": "being a pretty good theoretician\nis because I don't ever trust",
    "start": "3941250",
    "end": "3946333"
  },
  {
    "text": "what I've written down.\nAnd so, I write it down in a way that I can verify it because\notherwise I just am not smart",
    "start": "3946333",
    "end": "3955666"
  },
  {
    "text": "enough to carry through five\nequations in a row and expect that everyone is going to be\ntransformed appropriately.",
    "start": "3955666",
    "end": "3966000"
  },
  {
    "text": "OK, so you write it down.\nSo I always write it down so I",
    "start": "3966000",
    "end": "3971530"
  },
  {
    "text": "can verify it.\nAnd that fortunately has the side benefit that other people\ncan understand what I've done as",
    "start": "3971530",
    "end": "3981987"
  },
  {
    "text": "well.\nOK, so what is this one? This is two to the log of i\nminus one because the ceiling,",
    "start": "3981988",
    "end": "3990636"
  },
  {
    "text": "if this is an exact power of\ntwo, right, then ceiling of log",
    "start": "3990636",
    "end": "3996569"
  },
  {
    "text": "of i minus one is just log of i\nminus one.",
    "start": "3996569",
    "end": "4002000"
  },
  {
    "text": "So, this is two to the log of i\nminus one, which is i minus one,",
    "start": "4002000",
    "end": "4012013"
  },
  {
    "text": "right?\nYeah? OK.\nOK, if it's an exact power of",
    "start": "4012013",
    "end": "4018847"
  },
  {
    "text": "two, then the log is an integer,\nright?",
    "start": "4018847",
    "end": "4026000"
  },
  {
    "text": "So, taking the ceiling,\nit doesn't matter, get rid of the ceiling.\nOK, this one,",
    "start": "4026000",
    "end": "4032973"
  },
  {
    "text": "however, is not an exact power\nof two. But what is it?\nIt's just one more than this",
    "start": "4032973",
    "end": "4040218"
  },
  {
    "text": "guy.\nWe know that i minus one is not an exact power of two,\nso it's going to be the next",
    "start": "4040218",
    "end": "4047916"
  },
  {
    "text": "bigger one.\nOK, so that means this is what?",
    "start": "4047916",
    "end": "4056053"
  },
  {
    "text": "So, it's going to be,\nhow do these two compare?",
    "start": "4056053",
    "end": "4065035"
  },
  {
    "text": "How much bigger is this one\nthan this one?",
    "start": "4065035",
    "end": "4073041"
  },
  {
    "text": "It's twice the size.\nWe know what this one is.",
    "start": "4073041",
    "end": "4083000"
  },
  {
    "text": "OK, or it can reason it from\nfirst principles. This is going to be the log of\ni minus one plus one.",
    "start": "4083000",
    "end": "4090800"
  },
  {
    "text": "OK, and so then you can reduce\nit to this. So, you've got to think about\nthose floors and ceilings,",
    "start": "4090800",
    "end": "4098600"
  },
  {
    "text": "right?\nIt's like, what's happening in the round off there?\nOK, so now we can simplify",
    "start": "4098600",
    "end": "4105261"
  },
  {
    "text": "this.\nOK, so what do we have here? We have, OK,\nso if I multiply this through,",
    "start": "4105262",
    "end": "4114136"
  },
  {
    "text": "I have an i plus two minus 2i\nplus two plus i minus one.",
    "start": "4114136",
    "end": "4120862"
  },
  {
    "text": "I know a lot of you,\nprobably 90% of you will do",
    "start": "4120863",
    "end": "4126610"
  },
  {
    "text": "this step.\nYou will go directly from this step to the last step.\nAnd that's where 30% of you,",
    "start": "4126611",
    "end": "4137618"
  },
  {
    "text": "or some number,\nwill get it wrong.",
    "start": "4137618",
    "end": "4143000"
  },
  {
    "text": "OK, so let me encourage you to\ndo that step. OK, it's easier to find your\nbugs if you take it slow.",
    "start": "4143000",
    "end": "4151526"
  },
  {
    "text": "Actually, taking it slow is\nfaster in the long run. It's hard to teach young\nstallions, or phillies,",
    "start": "4151526",
    "end": "4160140"
  },
  {
    "text": "or whatever,\nOK? Just take it easy.\nJust patience, just do it slow,\nget it right.",
    "start": "4160141",
    "end": "4166891"
  },
  {
    "text": "It's actually faster.\nOK, everybody knows the",
    "start": "4166891",
    "end": "4172670"
  },
  {
    "text": "tortoise and hare story.\nYeah, yeah, yeah, OK, but nobody believes it.\nOK, so now here we have 2i",
    "start": "4172670",
    "end": "4183587"
  },
  {
    "text": "here, an i here,\nand an i here. And then, that leaves us with\ntwo plus two minus one,",
    "start": "4183587",
    "end": "4193109"
  },
  {
    "text": "equals three.\nAwesome, awesome. OK, amortized cost is three\nwhen i minus one is an exact",
    "start": "4193109",
    "end": "4202980"
  },
  {
    "text": "power of two.\nOK, case two.",
    "start": "4202980",
    "end": "4208000"
  },
  {
    "text": "OK, i minus one is not an exact\npower of two. So then we have c_i hat is\nequal to, now instead of i it's",
    "start": "4230000",
    "end": "4241085"
  },
  {
    "text": "one plus, and then the two minus\ntwo to the ceiling of log i plus",
    "start": "4241085",
    "end": "4248109"
  },
  {
    "text": "two to the ceiling of log of i\nminus one. OK, now what can somebody tell\nme about these two terms in the",
    "start": "4248109",
    "end": "4259195"
  },
  {
    "text": "case where i minus one is not an\nexact power of two?",
    "start": "4259195",
    "end": "4266000"
  },
  {
    "text": "What are they?\nEqual. Why is that?\nYeah, the ceiling is going to",
    "start": "4266000",
    "end": "4275808"
  },
  {
    "text": "do the same thing to both,\ngoing to take it up to the same",
    "start": "4275809",
    "end": "4284974"
  },
  {
    "text": "integer.\nSo these two things are equal,",
    "start": "4284974",
    "end": "4291085"
  },
  {
    "text": "which means this is equal to\nthree.",
    "start": "4291085",
    "end": "4298000"
  },
  {
    "text": "OK, so therefore,\nn inserts, OK, so now I say,\noh, the amortized cost is three",
    "start": "4298000",
    "end": "4308656"
  },
  {
    "text": "for every operation for every\ninsert.",
    "start": "4308657",
    "end": "4313773"
  },
  {
    "text": "So therefore,\nn inserts costs, well, the amortized cost of\neach is three.",
    "start": "4313773",
    "end": "4325000"
  },
  {
    "text": "So n of them,\nthe amortized cost is 3n. That's an upper bound on the\nworst-case true costs.",
    "start": "4325000",
    "end": "4334230"
  },
  {
    "text": "So, n inserts costs order n in\nthe worst case. OK, there is a bug in this\nanalysis.",
    "start": "4334230",
    "end": "4342622"
  },
  {
    "text": "It's a minor bug.\nIt's the one I pointed out before the first insert has\namortized cost of two,",
    "start": "4342622",
    "end": "4352272"
  },
  {
    "text": "and not three.\nI didn't actually deal with that one carefully enough.\nOK, so that's an exercise to",
    "start": "4352272",
    "end": "4361547"
  },
  {
    "text": "just go and look to see where it\nis that that happens and how you",
    "start": "4361547",
    "end": "4366720"
  },
  {
    "text": "show that, in fact,\nthe amortized cost of the first one is two, OK,\nwhere that shows up.",
    "start": "4366721",
    "end": "4373592"
  },
  {
    "text": "OK, so to summarize,\nactually let me summarize over here, conclusions about\namortized analysis.",
    "start": "4373592",
    "end": "4382000"
  },
  {
    "text": "So amortized costs provide a\nclean abstraction for data",
    "start": "4397000",
    "end": "4415000"
  },
  {
    "text": "structure performance.\nSo, what I can tell somebody,",
    "start": "4415000",
    "end": "4425556"
  },
  {
    "text": "so suppose I built a dynamic\ntable, for example, OK.\nIt's easier to say,",
    "start": "4425556",
    "end": "4431638"
  },
  {
    "text": "in terms of your own\nperformance modeling, it costs a constant amount of\ntime for each insert.",
    "start": "4431638",
    "end": "4439659"
  },
  {
    "text": "As long as you don't care about\nreal-time behavior, but only the aggregate\nbehavior, that's a great",
    "start": "4439659",
    "end": "4448121"
  },
  {
    "text": "abstraction for the performance\nRather than saying it's got",
    "start": "4448121",
    "end": "4454156"
  },
  {
    "text": "that complicated thing which\nsometimes cost you a lot, how do they reason about that?\nBut you could say every",
    "start": "4454156",
    "end": "4462624"
  },
  {
    "text": "operation costs me order one,\nthat's really simple. But they have to understand,\nit's order one in an amortized",
    "start": "4462624",
    "end": "4471251"
  },
  {
    "text": "sense, OK.\nSo, if they do have a real-time constraint to make,\namortized doesn't cut it.",
    "start": "4471251",
    "end": "4479000"
  },
  {
    "text": "OK, but for many problems,\nit's perfectly good. It lets me explain it rather\nsimply.",
    "start": "4479000",
    "end": "4484563"
  },
  {
    "text": "OK, we will see some other data\nstructures that have amortized costs where different operations\nhave different amortized costs.",
    "start": "4484563",
    "end": "4493079"
  },
  {
    "text": "And the nice thing about that\nis I just add up, what's the cost of all my\ndifferent operations,",
    "start": "4493079",
    "end": "4499398"
  },
  {
    "text": "OK, where there is a different\ncost for each operation? Some will be log n.\nSome will be order one,",
    "start": "4499398",
    "end": "4507068"
  },
  {
    "text": "or whatever.\nAdd them up: that's an upper bound on the\ntrue costs. OK: tremendous simplification\nin abstracting and reasoning",
    "start": "4507068",
    "end": "4515837"
  },
  {
    "text": "about those complicated data\nstructures. OK, now, so this is probably,\nthis is huge.",
    "start": "4515837",
    "end": "4521755"
  },
  {
    "text": "OK, abstraction,\nyou know, computer science, what teach you through four\nyears of undergraduate,",
    "start": "4521755",
    "end": "4528551"
  },
  {
    "text": "and another year if you go on\nto M.Eng., and then if you get a Ph.D., it's another 15 years or\nwhatever it takes to get a Ph.D.",
    "start": "4528551",
    "end": "4539000"
  },
  {
    "text": "OK, all you teach about is\nabstraction: abstraction,",
    "start": "4539000",
    "end": "4544392"
  },
  {
    "text": "abstraction,\nabstraction. So, this is a powerful\nabstraction: quite good.",
    "start": "4544392",
    "end": "4551792"
  },
  {
    "text": "Now, we learned three methods.\nIn general, any method can be",
    "start": "4551792",
    "end": "4558030"
  },
  {
    "text": "used.\nYou can convert one to the other.\nBut each has situations where",
    "start": "4558030",
    "end": "4570386"
  },
  {
    "text": "it is arguably simplest or most\nprecise.",
    "start": "4570386",
    "end": "4580320"
  },
  {
    "text": "So, any of the methods can be\nused.",
    "start": "4580320",
    "end": "4590000"
  },
  {
    "text": "However, you must learn all of\nthem, OK, because there are going to be some situations\nwhere you need one,",
    "start": "4590000",
    "end": "4597768"
  },
  {
    "text": "where it's better to do one,\nbetter to do another. If you're reading in the\nliterature, you want to know",
    "start": "4597768",
    "end": "4605385"
  },
  {
    "text": "these different ways of doing\nit. And that means that even though\nyou may get really comfortable",
    "start": "4605386",
    "end": "4612401"
  },
  {
    "text": "with accounting,\nOK, in an exam, or whatever,\nI may say solve this with a",
    "start": "4612401",
    "end": "4617680"
  },
  {
    "text": "potential function argument.\nSo, you want to be comfortable",
    "start": "4617681",
    "end": "4627441"
  },
  {
    "text": "with all the methods,\nOK.",
    "start": "4627441",
    "end": "4632594"
  },
  {
    "text": "Last point is that,\nin fact, different potential",
    "start": "4632595",
    "end": "4642687"
  },
  {
    "text": "functions or accounting costs\nmay yield different bounds.",
    "start": "4642687",
    "end": "4656000"
  },
  {
    "text": "OK, so when you do an amortized\nanalysis, there's nothing to say",
    "start": "4656000",
    "end": "4661628"
  },
  {
    "text": "that one set of costs is better\nthan another. So, just as an example,\nOK, in any data structure",
    "start": "4661628",
    "end": "4669847"
  },
  {
    "text": "generally that supports delete,\nI can amortize all the deletes",
    "start": "4669847",
    "end": "4675296"
  },
  {
    "text": "against the inserts.\nSo, in general, what I could do is say deletes\nare free, OK,",
    "start": "4675296",
    "end": "4682264"
  },
  {
    "text": "and charge twice as much for\neach insert. OK, charging enough when I do\nthe insert to amortize it",
    "start": "4682265",
    "end": "4690338"
  },
  {
    "text": "against the delete.\nThat you could do with an accounting method.\nYou can also do it with a",
    "start": "4690338",
    "end": "4695717"
  },
  {
    "text": "potential method,\nthe potential, then, being the number of items\nthat I actually have in my data",
    "start": "4695717",
    "end": "4701467"
  },
  {
    "text": "structure times the cost of the\ndelete for each of those items. OK, so the point is that I can\nallocate costs in different",
    "start": "4701467",
    "end": "4708824"
  },
  {
    "text": "ways.\nOr I could have amortized costs which are equal to the true\ncosts.",
    "start": "4708825",
    "end": "4713962"
  },
  {
    "text": "So, there are different ways\nthat I could assign amortized costs.\nThere is no one way,",
    "start": "4713962",
    "end": "4719101"
  },
  {
    "text": "OK, and choosing different ones\nmay yield different bounds. It may not, but it may yield\ndifferent bounds.",
    "start": "4719101",
    "end": "4725478"
  },
  {
    "text": "OK, generally it does yield\ndifferent ones. OK, next time:\nan amazing use of potential",
    "start": "4725478",
    "end": "4730617"
  },
  {
    "text": "functions.\nOK, the stuff is cool, but let me tell you,\nWednesday's lecture: amazing.\nAmazing the type of analysis we",
    "start": "4730617",
    "end": "4737490"
  },
  {
    "text": "are going to be able to do.",
    "start": "4737490",
    "end": "4739290"
  }
]