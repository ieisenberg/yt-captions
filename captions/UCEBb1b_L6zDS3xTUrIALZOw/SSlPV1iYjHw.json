[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "5868"
  },
  {
    "start": "5868",
    "end": "13220"
  },
  {
    "text": "BERTHOLD HORN: Have another\ngo at this demonstration using a direct HDMI connection.",
    "start": "13220",
    "end": "20930"
  },
  {
    "text": "And let's see what happens. Can't play graph.",
    "start": "20930",
    "end": "26009"
  },
  {
    "text": "OK, so let's first\ngo back up here.",
    "start": "26010",
    "end": "31120"
  },
  {
    "text": "Just make-- ",
    "start": "31120",
    "end": "48030"
  },
  {
    "text": "So that's what\nwe've seen before.",
    "start": "48030",
    "end": "53090"
  },
  {
    "text": "And now let's try-- ",
    "start": "53090",
    "end": "79910"
  },
  {
    "text": "OK, that's a bit bitter. So this is a webcam looking\ndown at the keyboard.",
    "start": "79910",
    "end": "90470"
  },
  {
    "text": "And when I hold\nit still, you can see A, B, and C are near zero. They're small on the\nright side there.",
    "start": "90470",
    "end": "96979"
  },
  {
    "text": "And the time to\ncontact, bottom right, is some large number\nthat sometimes negative,",
    "start": "96980",
    "end": "103010"
  },
  {
    "text": "sometimes positive. And now if I move it\naway from the keyboard,",
    "start": "103010",
    "end": "109070"
  },
  {
    "text": "it should go green on C. The\nthird one is the C component--",
    "start": "109070",
    "end": "115670"
  },
  {
    "text": "1 over time to contact. As I approach the keyboard, it\nshould go red, meaning danger.",
    "start": "115670",
    "end": "123079"
  },
  {
    "text": "So there's that.",
    "start": "123080",
    "end": "128720"
  },
  {
    "text": "And, of course, it's\nindependent of the texture. So I can do the same\nthing on any surface.",
    "start": "128720",
    "end": "136790"
  },
  {
    "text": "If I try and move it in x\nonly, then the first bar would be large.",
    "start": "136790",
    "end": "142340"
  },
  {
    "text": "And that's sort of true. I haven't got it\noriented exactly right.",
    "start": "142340",
    "end": "149390"
  },
  {
    "text": "But then if I move\nit in this direction, the second bar-- that's B. OK,\nso that's working a little bit",
    "start": "149390",
    "end": "159099"
  },
  {
    "text": "better than it was last time. Start off with a correction.",
    "start": "159100",
    "end": "165730"
  },
  {
    "text": "Somebody last time\npointed out a sign era.",
    "start": "165730",
    "end": "170970"
  },
  {
    "text": "So we had that discussion\nabout different ways of thinking about time\nto contact, one of which",
    "start": "170970",
    "end": "177989"
  },
  {
    "text": "was what we were discussing\nand another one was rate of change of size.",
    "start": "177990",
    "end": "185040"
  },
  {
    "text": "And from perspective projection,\nwe had this equation.",
    "start": "185040",
    "end": "191579"
  },
  {
    "text": "And then we cross multiplied.  And we got that.",
    "start": "191580",
    "end": "197700"
  },
  {
    "text": "And-- sorry, equals. And then we took the\nderivative to get--",
    "start": "197700",
    "end": "205340"
  },
  {
    "start": "205340",
    "end": "214050"
  },
  {
    "text": "because this is a product\nand this is a constant.",
    "start": "214050",
    "end": "219250"
  },
  {
    "text": "So we get 0. Then-- and so there's\na minus sign there.",
    "start": "219250",
    "end": "238510"
  },
  {
    "text": "And that makes sense because\nwhen the dzdt is positive,",
    "start": "238510",
    "end": "244830"
  },
  {
    "text": "things are moving away. And in that case, the image\nof those things is shrinking--",
    "start": "244830",
    "end": "252209"
  },
  {
    "text": "negative dsdt.  All right.",
    "start": "252210",
    "end": "259019"
  },
  {
    "text": "We are busy talking about\nperspective projection and how we can use\nit in various ways.",
    "start": "259019",
    "end": "267315"
  },
  {
    "start": "267315",
    "end": "274050"
  },
  {
    "text": "And in particular, we were busy\ntalking about vanishing points.",
    "start": "274050",
    "end": "279060"
  },
  {
    "start": "279060",
    "end": "285040"
  },
  {
    "text": "So, again, to explain\nwhat those are--",
    "start": "285040",
    "end": "290410"
  },
  {
    "text": "so here's our imaging system. There's an image plane.",
    "start": "290410",
    "end": "295740"
  },
  {
    "text": "And there's a center\nof projection. And out in the world, we have\na bundle of parallel rays--",
    "start": "295740",
    "end": "303600"
  },
  {
    "text": "vectors that are filling space. They're all parallel. And one of them is\nspecial because it",
    "start": "303600",
    "end": "308850"
  },
  {
    "text": "goes through the\ncenter of projection. So out of all of\nthese parallel rays--",
    "start": "308850",
    "end": "313950"
  },
  {
    "text": " and, of course, in much\nof human construction,",
    "start": "313950",
    "end": "325169"
  },
  {
    "text": "we have parallel lines. Happens to be a fairly\nefficient way of doing things.",
    "start": "325170",
    "end": "332880"
  },
  {
    "text": "And unless you're trying\nto be very artistic and build this\ndata center, you'll have a lot of parallel lines.",
    "start": "332880",
    "end": "338850"
  },
  {
    "text": "So these could be\nedges of buildings, corners, edges of windows.",
    "start": "338850",
    "end": "343910"
  },
  {
    "text": "Anyway, one of them\nis special in that it goes through the\ncenter of projection. And it hits the image plane\nat a particular point.",
    "start": "343910",
    "end": "352280"
  },
  {
    "text": "And we can use that\npoint as representative. That's a way we can talk about\nwhich set of parallel lines",
    "start": "352280",
    "end": "359870"
  },
  {
    "text": "we're talking about. And that's called\nthe vanishing point.",
    "start": "359870",
    "end": "365230"
  },
  {
    "text": "And the reason is that, first of\nall, for this particular line, you're looking\nstraight at that line.",
    "start": "365230",
    "end": "370740"
  },
  {
    "text": "And you just see a point. And what about the other lines?",
    "start": "370740",
    "end": "375970"
  },
  {
    "text": "Well, if you go far enough out\non any of these parallel lines, their projection into the image\nwill come closer and closer",
    "start": "375970",
    "end": "383850"
  },
  {
    "text": "to the projection of this line. Why? Well, because there's a\ndecrease in magnification",
    "start": "383850",
    "end": "391919"
  },
  {
    "text": "from distance in the world\nto distance in the image. The further way we go,\nwe have-- f over z.",
    "start": "391920",
    "end": "399540"
  },
  {
    "text": "And so if Z becomes very\nlarge, then the magnification becomes very small.",
    "start": "399540",
    "end": "405639"
  },
  {
    "text": "And so any difference between\nthese is reflected in the image",
    "start": "405640",
    "end": "410850"
  },
  {
    "text": "by a smaller and\nsmaller distance. So these other rays actually are\nalso image, these other lines--",
    "start": "410850",
    "end": "418080"
  },
  {
    "text": "as lines. And those lines have to go\nthrough the vanishing point.",
    "start": "418080",
    "end": "423150"
  },
  {
    "text": " So as I move outward, I guess\nI have the arrows reversed",
    "start": "423150",
    "end": "432020"
  },
  {
    "text": "in the two cases. But as I go outward\nalong these lines, I am coming closer and closer\nin the image to that vanishing",
    "start": "432020",
    "end": "439729"
  },
  {
    "text": "point. So that's the idea\nof a vanishing point.",
    "start": "439730",
    "end": "446470"
  },
  {
    "text": "And we can exploit\nthat because it allows us to determine\nrelationships",
    "start": "446470",
    "end": "451710"
  },
  {
    "text": "between coordinate systems. And it allows us to\ncalibrate the camera. So those are two things\nwe'll briefly discuss today.",
    "start": "451710",
    "end": "459600"
  },
  {
    "text": "And we started yesterday. So, first, let's talk about\nthe camera calibration problem.",
    "start": "459600",
    "end": "465729"
  },
  {
    "text": "So here's my image plane.",
    "start": "465730",
    "end": "471810"
  },
  {
    "text": "Here's the center of projection. And now suppose that we live in\na world of rectangular objects.",
    "start": "471810",
    "end": "480949"
  },
  {
    "text": "And so each rectangular object\nhas sets of parallel lines--",
    "start": "480950",
    "end": "487530"
  },
  {
    "text": "three sets of parallel lines-- I guess four of each of them.",
    "start": "487530",
    "end": "492760"
  },
  {
    "text": "And so they define\na coordinate system. They define three directions.",
    "start": "492760",
    "end": "499380"
  },
  {
    "text": "And I can pick\nparallel lines that",
    "start": "499380",
    "end": "505410"
  },
  {
    "text": "go through the\ncenter of projection. So I-- OK, so out\nhere is some object.",
    "start": "505410",
    "end": "516570"
  },
  {
    "text": " And it has parallel\nlines, like that.",
    "start": "516570",
    "end": "524390"
  },
  {
    "text": "And I pick, out of the family\nof parallel lines in that group,",
    "start": "524390",
    "end": "530270"
  },
  {
    "text": "one that goes through\nthe center of prediction. And so let's call\nthat direction x.",
    "start": "530270",
    "end": "540160"
  },
  {
    "text": " So that's a coordinate\nsystem, which",
    "start": "540160",
    "end": "547820"
  },
  {
    "text": "is just parallel translation\nof the coordinate system on the object. Those are the--\nso for the moment,",
    "start": "547820",
    "end": "554210"
  },
  {
    "text": "we're ignoring translation. We just were going to\nworry about orientation.",
    "start": "554210",
    "end": "559910"
  },
  {
    "text": "So then I project those\nthree into the image plane,",
    "start": "559910",
    "end": "565930"
  },
  {
    "text": "as we did over there. And, well, in my\ncase, some of them--",
    "start": "565930",
    "end": "572199"
  },
  {
    "text": "some of them may go\nout of the format. And often, the\nvanishing points are not",
    "start": "572200",
    "end": "578080"
  },
  {
    "text": "in the part of the image\nthat you're actually sensing. But that doesn't matter. We're only interested in their\nposition in the image plane.",
    "start": "578080",
    "end": "585470"
  },
  {
    "text": "So let's suppose that-- I don't know, we can\ncall these a, b, and c. Or we can call them r2 and r3.",
    "start": "585470",
    "end": "595280"
  },
  {
    "text": "So if I have my picture of\nthe cube, as I did last time,",
    "start": "595280",
    "end": "601700"
  },
  {
    "text": "I can define three\nvanishing points just by extending\nthose parallel lines.",
    "start": "601700",
    "end": "609959"
  },
  {
    "text": "Now, how accurately\ndo we know them? Well, that's another story. We'll need to know\nhow accurately we",
    "start": "609960",
    "end": "615620"
  },
  {
    "text": "can determine lines. But let's suppose for the moment\nthat we've got these three vanishing points.",
    "start": "615620",
    "end": "621350"
  },
  {
    "text": "So we can imagine\nthe little diagram in here of some\nrectangular object",
    "start": "621350",
    "end": "631050"
  },
  {
    "text": "and highly distorted because,\nactually, in practice,",
    "start": "631050",
    "end": "636589"
  },
  {
    "text": "those vanishing points will\ntend to be further out. If I draw them\nthis closed in, I'm going to get a lot\nof, quote unquote,",
    "start": "636590",
    "end": "643340"
  },
  {
    "text": "\"perspective distortion.\" Of course, the term\ndistortion is sort of odd because basically this is what\nperspective projection does.",
    "start": "643340",
    "end": "653930"
  },
  {
    "text": "It's not like the effect\nof radial distortion",
    "start": "653930",
    "end": "660080"
  },
  {
    "text": "in an image, which is an\nundesirable property that warps the image plane. OK, what do we do with that?",
    "start": "660080",
    "end": "666750"
  },
  {
    "text": "Well, one thing we\ncan do with that is try and figure out where\nthe center of projection is.",
    "start": "666750",
    "end": "672950"
  },
  {
    "text": "So that's where we\nwere going last time. So we have a coordinate system\nthat's in the imaging plane,",
    "start": "672950",
    "end": "683720"
  },
  {
    "text": "in the image device. And we're trying to\nfind the relationship between the coordinate\nsystem in the object",
    "start": "683720",
    "end": "691279"
  },
  {
    "text": "and the coordinate system\nin the image plane. And then we're trying\nto find out where",
    "start": "691280",
    "end": "697870"
  },
  {
    "text": "the center of projection is. So a couple of terms--",
    "start": "697870",
    "end": "702949"
  },
  {
    "text": "so one thing is\nthe point that is perpendicular below the\ncenter of projection.",
    "start": "702950",
    "end": "709840"
  },
  {
    "text": "So we draw the perpendicular\nfrom the center of projection down here. And that's called\nthe principle point.",
    "start": "709840",
    "end": "716425"
  },
  {
    "text": " And as we indicated,\nyou'd like that to be",
    "start": "716425",
    "end": "723440"
  },
  {
    "text": "at the center of the array. But it won't be very accurately. And to do accurate\nwork, you need to know exactly where it is.",
    "start": "723440",
    "end": "729870"
  },
  {
    "text": "So that's two numbers-- row and column in\nthe image plane. And then the third\nnumber is the height",
    "start": "729870",
    "end": "736190"
  },
  {
    "text": "of the center of\nprojection above. And we call that f. And that is to remind us\nthat in the lens system,",
    "start": "736190",
    "end": "745459"
  },
  {
    "text": "that's the focal length. It's typically slightly\nlarger than the focal length. Anyway, so there are\nthree degrees of freedom.",
    "start": "745460",
    "end": "752300"
  },
  {
    "text": "They're three numbers we need. And one way to think about\nit compactly is we're",
    "start": "752300",
    "end": "757490"
  },
  {
    "text": "trying to find out\nwhere that point is. And that could be\na difficult task",
    "start": "757490",
    "end": "765410"
  },
  {
    "text": "to do by physically\ndisassembling the camera. For a start, in a\ncell phone camera,",
    "start": "765410",
    "end": "772940"
  },
  {
    "text": "those distances are very small. So you'd have to measure\nthem very accurately. And it probably\nwon't be the same",
    "start": "772940",
    "end": "781160"
  },
  {
    "text": "after you reassemble the camera. So how do we do this? Well, if we connect\nthe central projection",
    "start": "781160",
    "end": "790090"
  },
  {
    "text": "to the vanishing points\nin the image plane, we have three vectors, which are\nbasically these three vectors",
    "start": "790090",
    "end": "800029"
  },
  {
    "text": "up here. Well, try and draw\nit that way maybe.",
    "start": "800030",
    "end": "805660"
  },
  {
    "text": "And so therefore, they're at\nright angles to each other. And where does that come from?",
    "start": "805660",
    "end": "811100"
  },
  {
    "text": "Well, our assumption is\nit's a rectangular object. If it were some other object and\nwe knew what the angles were,",
    "start": "811100",
    "end": "816460"
  },
  {
    "text": "we could use that as well. It would be slightly\nless convenient. But so we now know that\nwe're looking for a point",
    "start": "816460",
    "end": "825070"
  },
  {
    "text": "up here such that\nif you stand there and you look down\ninto the image plane,",
    "start": "825070",
    "end": "830950"
  },
  {
    "text": "the directions to\nthese vanishing points will be right angles\nto each other.",
    "start": "830950",
    "end": "837240"
  },
  {
    "text": "So that's the task. We move around in this\nspace to find that place.",
    "start": "837240",
    "end": "843130"
  },
  {
    "text": "And so let's start in 2D. We already mentioned\nthis last time,",
    "start": "843130",
    "end": "850560"
  },
  {
    "text": "that the angle made by\nthe diameter of a circle",
    "start": "850560",
    "end": "862460"
  },
  {
    "text": "from points on its circumference\nis the right angle. So conversely, the\nlocus of all the places",
    "start": "862460",
    "end": "869570"
  },
  {
    "text": "you could be from which\nthose will be at right angles to each other is a circle.",
    "start": "869570",
    "end": "875250"
  },
  {
    "text": "This diagram will\ncome up later when we're talking about\nphotogrammetry and ambiguity in imaging\nof surface terrain",
    "start": "875250",
    "end": "885540"
  },
  {
    "text": "because if you\nhave two landmarks and they appear at right\nangles to each other,",
    "start": "885540",
    "end": "891733"
  },
  {
    "text": "you might think that\nthat would tell you where you are in the airplane. But actually, no, because\nyou could be anywhere",
    "start": "891733",
    "end": "897690"
  },
  {
    "text": "on this circle and you would\nsee them at right angles to each other. OK, so that's the 2D version.",
    "start": "897690",
    "end": "904080"
  },
  {
    "text": "And the 3D version, of\ncourse, is you just spin this around its axis. And you get a sphere.",
    "start": "904080",
    "end": "910545"
  },
  {
    "text": " So that constraint\non the position",
    "start": "910545",
    "end": "918660"
  },
  {
    "text": "of the center of projection is\njust that it lies on a sphere. So what sphere?",
    "start": "918660",
    "end": "924600"
  },
  {
    "text": "Well, for a start,\nit lies on the sphere where R1 is one\nend of the diameter",
    "start": "924600",
    "end": "931770"
  },
  {
    "text": "and R2 is the other\nend of the diameter. So I can imagine that we\ndraw a sphere with r1 and r2",
    "start": "931770",
    "end": "941010"
  },
  {
    "text": "as the diameter. And so it goes above and\nbelow the image plane. And the center of\nprojection must lie on that.",
    "start": "941010",
    "end": "949110"
  },
  {
    "text": "Now, of course, that's not\nenough to tell us where it is. So we have a second sphere.",
    "start": "949110",
    "end": "955440"
  },
  {
    "text": "We connect, say, r2 to r3. And that's the diameter\nof a second sphere.",
    "start": "955440",
    "end": "961290"
  },
  {
    "text": "And we intersect\nthose two spheres. So what's the intersection\nof two spheres?",
    "start": "961290",
    "end": "966705"
  },
  {
    "text": " It's a ring.",
    "start": "966705",
    "end": "972660"
  },
  {
    "text": "So now we have a ring. That means we haven't really\nsolved the problem quite",
    "start": "972660",
    "end": "978270"
  },
  {
    "text": "because we still have\nan infinite number of possibilities. So we use a third.",
    "start": "978270",
    "end": "985680"
  },
  {
    "text": "We use a sphere with\ndiameter there r3 and r1.",
    "start": "985680",
    "end": "992399"
  },
  {
    "text": "And now we intersect those. And we're left with\nhow many solutions? ",
    "start": "992400",
    "end": "1001180"
  },
  {
    "text": "Two. Right. OK, and so there's a two\nremaining two way ambiguity.",
    "start": "1001180",
    "end": "1006300"
  },
  {
    "text": "And in this simple case, it's\nsimply that when we're up here,",
    "start": "1006300",
    "end": "1011459"
  },
  {
    "text": "we get the same\nright angle condition than if we're mirror image\nbelow the image plane.",
    "start": "1011460",
    "end": "1019650"
  },
  {
    "text": "Well, in our case, we know that\nthere's a physical constraint, which is that the\ncenter of projection",
    "start": "1019650",
    "end": "1026760"
  },
  {
    "text": "has to be above\nthe image sensor so that its imaged so that\nthe second solution can",
    "start": "1026760",
    "end": "1034109"
  },
  {
    "text": "be eliminated. OK, so want to just talk a\nlittle bit about some of this",
    "start": "1034109",
    "end": "1043490"
  },
  {
    "text": "is all very simple and basic. But it's good to remind\nourselves of these things.",
    "start": "1043490",
    "end": "1051120"
  },
  {
    "text": "So we'll start off talking\nabout linear equations. ",
    "start": "1051120",
    "end": "1058650"
  },
  {
    "text": "And whenever we\ncan, we're trying to reduce things\nto linear equations because we know\nhow to solve those.",
    "start": "1058650",
    "end": "1064180"
  },
  {
    "text": "And so geometrically,\nwhat are they? Well, they're straight lines.",
    "start": "1064180",
    "end": "1072100"
  },
  {
    "text": "And what equations do\nthat correspond to? Well, there's this old chestnut,\nwhich has some real problems.",
    "start": "1072100",
    "end": "1081040"
  },
  {
    "text": "But that's one way of\nwriting the equation for a straight line.",
    "start": "1081040",
    "end": "1086930"
  },
  {
    "text": "Then we can just say, well, it's\na linear equation like that.",
    "start": "1086930",
    "end": "1096410"
  },
  {
    "text": "And in this case-- so here we've got two\nparameters, m and c.",
    "start": "1096410",
    "end": "1101680"
  },
  {
    "text": "And what is that? That tells us that the\nfamily of straight lines is a two parameter family.",
    "start": "1101680",
    "end": "1108309"
  },
  {
    "text": "If we look at this, there\nare three parameters. How can that be? Well, because there's\na scaling we can do.",
    "start": "1108310",
    "end": "1115060"
  },
  {
    "text": "So true, they're three numbers. But actually, if you divide\nthrough by any one of them,",
    "start": "1115060",
    "end": "1122830"
  },
  {
    "text": "you get the same\nline, and you're down to 2 degrees of freedom. So it's a 2 degree\nof freedom world.",
    "start": "1122830",
    "end": "1131409"
  },
  {
    "text": "And then we can go--  probably get the\nsigns wrong but--",
    "start": "1131410",
    "end": "1137230"
  },
  {
    "text": " make sure I get them\nthe right way around.",
    "start": "1137230",
    "end": "1143950"
  },
  {
    "text": "Sine theta x minus. OK, so what's that? Well, that's another way of\nparameterizing a straight line,",
    "start": "1143950",
    "end": "1152019"
  },
  {
    "text": "which we'll use quite a bit. ",
    "start": "1152020",
    "end": "1158950"
  },
  {
    "text": "And you can check that\nfor sine theta equals 0, this is that y equals rho.",
    "start": "1158950",
    "end": "1165300"
  },
  {
    "text": "So theta equals 0 is that line. And for theta equals pi over\n2, we get x is minus rho.",
    "start": "1165300",
    "end": "1173460"
  },
  {
    "text": "So that's this line-- and so on. And two parameters-- so here\nwe got the world of lines",
    "start": "1173460",
    "end": "1181919"
  },
  {
    "text": "is parameterized\nthrough theta and rho instead of over here,\nwhere it's parameterized",
    "start": "1181920",
    "end": "1188789"
  },
  {
    "text": "in terms of m and c. And why is that useful? Well, the thing up there is\nthat if your line happens",
    "start": "1188790",
    "end": "1195480"
  },
  {
    "text": "to be parallel to the\ny-axis, then m is infinite. So there's a\nsingularity, which we",
    "start": "1195480",
    "end": "1201840"
  },
  {
    "text": "avoid in this representation. Anyway, straight lines in 2D--",
    "start": "1201840",
    "end": "1208500"
  },
  {
    "text": "the linear equation's\nin x and y. But now we're dealing with 3D. So let's talk about that.",
    "start": "1208500",
    "end": "1215380"
  },
  {
    "text": "And so now we're\ntalking about planes. And, of course, planes\nalso represented",
    "start": "1215380",
    "end": "1221160"
  },
  {
    "text": "by linear equations, except\nnow in three unknowns. And one reason I\nintroduced this notation",
    "start": "1221160",
    "end": "1230549"
  },
  {
    "text": "is because we can\ngeneralize that to 3D. ",
    "start": "1230550",
    "end": "1242049"
  },
  {
    "text": "OK, so we can write the\nequation of the plane as that.",
    "start": "1242050",
    "end": "1255810"
  },
  {
    "text": "So it's a linear-- I mean, if I expand out\nthis dot product here, I get linear equation\nin x, y, and z.",
    "start": "1255810",
    "end": "1264740"
  },
  {
    "text": "And it's just convenient\nto write it that way. But if I wanted to, I can\nwrite that a, b, c, d.",
    "start": "1264740",
    "end": "1276650"
  },
  {
    "text": "So that makes it look like\nthey're 4 degrees of freedom. But, of course, they aren't\nbecause of the same scale",
    "start": "1276650",
    "end": "1283860"
  },
  {
    "text": "thing. If I multiply a, b, c, and d\nby 2, I have the same plane. So, actually, it's three\ndegrees of freedom.",
    "start": "1283860",
    "end": "1291710"
  },
  {
    "text": "And I can also see that\nfrom this representation because n is a vector--\nso three numbers.",
    "start": "1291710",
    "end": "1298140"
  },
  {
    "text": "But it's a unit vector. So there's one constraint. So there are only two\ndegrees of freedom. And then I have rho.",
    "start": "1298140",
    "end": "1303320"
  },
  {
    "text": "So 2 plus 1 is 3. So the family of\nplanes in the 3D world",
    "start": "1303320",
    "end": "1310130"
  },
  {
    "text": "are three dimensional, which\nis an interesting duality because it means that there's\na mapping between planes",
    "start": "1310130",
    "end": "1317059"
  },
  {
    "text": "and points in 3D, just as\nthere's a mapping between lines and points in a 2D case.",
    "start": "1317060",
    "end": "1324920"
  },
  {
    "text": "So I can either plot\ntheta rho or mc. Oh, and by the way, if I\nlike that representation,",
    "start": "1324920",
    "end": "1334730"
  },
  {
    "text": "then you can now\nsee the similarity",
    "start": "1334730",
    "end": "1340140"
  },
  {
    "text": "where in the 2D case,\nthis vector here",
    "start": "1340140",
    "end": "1350230"
  },
  {
    "text": "has an x component\nthat increases as x-- oh, it becomes negative\nlarger as theta increases.",
    "start": "1350230",
    "end": "1358030"
  },
  {
    "text": "So that's the minus\nsine theta term. And the y component is large\nwhen theta is 0 and then get",
    "start": "1358030",
    "end": "1363880"
  },
  {
    "text": "smaller. And that's the cosine component. So you'll see that this\nequation is the same",
    "start": "1363880",
    "end": "1371050"
  },
  {
    "text": "as n dot r is rho or something.",
    "start": "1371050",
    "end": "1378073"
  },
  {
    "text": "And, of course, that's\nthe same equation we have over there, just in 3D. OK, so that's all\npretty obvious.",
    "start": "1378073",
    "end": "1384750"
  },
  {
    "text": "Now, back to our camera\ncalibration problem. ",
    "start": "1384750",
    "end": "1390490"
  },
  {
    "text": "So one way to approach\nthis is to think of this as the intersection\nof three spheres.",
    "start": "1390490",
    "end": "1398430"
  },
  {
    "text": "And so let's talk about\nthat a little bit. So I mentioned last time this\nproblem of multilateration,",
    "start": "1398430",
    "end": "1411190"
  },
  {
    "text": "which comes up in robotics,\nwhere, for example, we",
    "start": "1411190",
    "end": "1416860"
  },
  {
    "text": "have the distances to a\nnumber of Wi-Fi access points.",
    "start": "1416860",
    "end": "1422510"
  },
  {
    "text": "And let's say we have three. And you'd think\nthat should allow you to compute where you are.",
    "start": "1422510",
    "end": "1430060"
  },
  {
    "text": "And it does. So let's solve\nthat problem first. So we're trying to\nintersect three spheres.",
    "start": "1430060",
    "end": "1440990"
  },
  {
    "text": "So how can we talk\nabout a sphere? ",
    "start": "1440990",
    "end": "1448730"
  },
  {
    "text": "So here's a sphere. The i-th sphere. We'll have three of them.",
    "start": "1448730",
    "end": "1454230"
  },
  {
    "text": "So rather than write three\nequations, I'll write that. And it's just that the magnitude\nof that vector difference",
    "start": "1454230",
    "end": "1461540"
  },
  {
    "text": "is the radius of that sphere. And so we'll get three\nequations like this",
    "start": "1461540",
    "end": "1467120"
  },
  {
    "text": "and try and combine them. Now, if I want to\nwrite this out,",
    "start": "1467120",
    "end": "1472940"
  },
  {
    "text": "I can just write this\nbecause the definition",
    "start": "1472940",
    "end": "1479799"
  },
  {
    "text": "of that magnitude is just\nthe square root of the dot product of those two vectors.",
    "start": "1479800",
    "end": "1486480"
  },
  {
    "text": "OK, then I can multiply this\nout to get that equation.",
    "start": "1486480",
    "end": "1504120"
  },
  {
    "text": "And so for every sphere, I'm\ngoing to get a second order equation like this.",
    "start": "1504120",
    "end": "1511150"
  },
  {
    "text": "And we mentioned last time that,\ntherefore, by Bezout's theorem, we may have as many as eight\nsolutions unless the equations",
    "start": "1511150",
    "end": "1519010"
  },
  {
    "text": "have special structure. Well, we can exploit that by\nconsidering a second sphere--",
    "start": "1519010",
    "end": "1529615"
  },
  {
    "start": "1529615",
    "end": "1537340"
  },
  {
    "text": "the same equation,\njust i instead of i. And by subtracting them, we can\nget rid of that annoying second",
    "start": "1537340",
    "end": "1544669"
  },
  {
    "text": "order term. And so we end up with\na linear equation.",
    "start": "1544670",
    "end": "1550190"
  },
  {
    "text": "And that's always preferable. So we get 2r dot rj minus ri.",
    "start": "1550190",
    "end": "1558530"
  },
  {
    "start": "1558530",
    "end": "1571792"
  },
  {
    "text": "Then I need to say what that is. So ri squared is-- ",
    "start": "1571792",
    "end": "1582059"
  },
  {
    "text": "OK, so these things\non the right-hand side are just constants. They're the distances\nare measured",
    "start": "1582060",
    "end": "1588180"
  },
  {
    "text": "and the distance from the\norigin of the two reference",
    "start": "1588180",
    "end": "1593400"
  },
  {
    "text": "points of the centers\nof those spheres. And what's important is\nthat on the left-hand side,",
    "start": "1593400",
    "end": "1600340"
  },
  {
    "text": "I've got r dot something. Well, that's a linear equation\nin the components of r.",
    "start": "1600340",
    "end": "1605670"
  },
  {
    "text": "And any time I can reduce\nquadratics to linears, I'm happy. So OK, now we've gotten it\nfor one pair of spheres.",
    "start": "1605670",
    "end": "1617010"
  },
  {
    "text": "But we actually have more. So we can repeat this exercise\nfor the other combinations.",
    "start": "1617010",
    "end": "1625240"
  },
  {
    "text": "So when I put it all together-- ",
    "start": "1625240",
    "end": "1643890"
  },
  {
    "text": "OK, and then I have all of\nthese constant terms, right?",
    "start": "1643890",
    "end": "1656720"
  },
  {
    "text": "Because the transpose says\nI've taken a column vector",
    "start": "1656720",
    "end": "1663419"
  },
  {
    "text": "and turned it into a row vector. So the first row of the\nmatrix is this difference, r2 minus r1.",
    "start": "1663420",
    "end": "1669690"
  },
  {
    "text": "And multiplying this\nmatrix by this vector is taking the dot product\nof this difference",
    "start": "1669690",
    "end": "1676290"
  },
  {
    "text": "and that vector. So that just corresponds\nto what I've got over here. Well, there's a factor of 2.",
    "start": "1676290",
    "end": "1682440"
  },
  {
    "text": "I forgot a factor of 2. Do that.",
    "start": "1682440",
    "end": "1687620"
  },
  {
    "text": "OK, and then similarly,\nthe second row, I've taken a column vector,\nturned it into a row vector.",
    "start": "1687620",
    "end": "1693800"
  },
  {
    "text": "And so the second\nterm in the result of multiplying this\nmatrix by this vector",
    "start": "1693800",
    "end": "1699410"
  },
  {
    "text": "is to take the dot product of\nthis vector with that vector. So that's the same equation\njust with i and j changed.",
    "start": "1699410",
    "end": "1707240"
  },
  {
    "text": "And I do that a third time. And I get that. And hurrah, I got three linear\nequations and three unknowns.",
    "start": "1707240",
    "end": "1713540"
  },
  {
    "text": "What could be better? OK, there are some people\nshaking their heads. So why is that\nwonderful if it's true?",
    "start": "1713540",
    "end": "1721639"
  },
  {
    "text": "Well, because I know how\nto solve linear equations. And there's only one answer-- et cetera, et cetera.",
    "start": "1721640",
    "end": "1727280"
  },
  {
    "text": "But wait, we said\nthere were two answers. So something's wrong. So what's wrong with this?",
    "start": "1727280",
    "end": "1733970"
  },
  {
    "text": "Why will this fail? ",
    "start": "1733970",
    "end": "1739530"
  },
  {
    "text": "So when do linear equations\nnot have a unique solution?",
    "start": "1739530",
    "end": "1746230"
  },
  {
    "text": "When there's redundancy,\nwhen the rows in the matrix are not independent,\nwhen the matrix is",
    "start": "1746230",
    "end": "1752289"
  },
  {
    "text": "singular when the\ndeterminant is 0-- all different ways of\nsaying the same thing. Now, how can I be sure\nthat's the problem?",
    "start": "1752290",
    "end": "1759639"
  },
  {
    "text": "Well, if I just add up these\nthree rows, what do I get?",
    "start": "1759640",
    "end": "1765650"
  },
  {
    "text": "I got zero. So the three rows are indeed\nnot linearly independent.",
    "start": "1765650",
    "end": "1771610"
  },
  {
    "text": "The third row doesn't\ntell me anything new because I could have got it\nfrom the first two just by--",
    "start": "1771610",
    "end": "1778240"
  },
  {
    "text": "if I add or subtract. If I take this one and subtract\nthat one, I get this one.",
    "start": "1778240",
    "end": "1784330"
  },
  {
    "text": "And the same with\nthe right-hand side. So it's all consistent. So, yes, this statement\nis true but it's not",
    "start": "1784330",
    "end": "1792190"
  },
  {
    "text": "giving me a solution because\nthis is a singular matrix.",
    "start": "1792190",
    "end": "1797379"
  },
  {
    "text": "So we always have to\ncheck that not only do we have enough equations\nand unknowns,",
    "start": "1797380",
    "end": "1804370"
  },
  {
    "text": "but that we can actually\nsolve the problem.",
    "start": "1804370",
    "end": "1810070"
  },
  {
    "text": "Yeah? Right. OK, so his statement\nwas that we think there should be two solutions.",
    "start": "1810070",
    "end": "1816110"
  },
  {
    "text": "But if the matrix\nis singular, there's actually an infinite\nnumber of solutions I can construct along a line,\nany number of solutions I like.",
    "start": "1816110",
    "end": "1825460"
  },
  {
    "text": "So what happened? What's going on? Well, what we did was we\nmanipulated the equations.",
    "start": "1825460",
    "end": "1831940"
  },
  {
    "text": "And we got some more equations. But we threw away the\noriginal equations. And that may or may\nnot be legitimate.",
    "start": "1831940",
    "end": "1839620"
  },
  {
    "text": "In this case, we've lost-- something that satisfies\nthese three equations",
    "start": "1839620",
    "end": "1846760"
  },
  {
    "text": "does not necessarily satisfy\nthese three second order equations.",
    "start": "1846760",
    "end": "1852890"
  },
  {
    "text": "So satisfying this\nequation doesn't guarantee that we\nactually have a solution.",
    "start": "1852890",
    "end": "1858380"
  },
  {
    "text": "So this is another thing,\nanother cautionary tale.",
    "start": "1858380",
    "end": "1863530"
  },
  {
    "text": "And you will see this\nsometimes in papers. Great, we manipulate equations.",
    "start": "1863530",
    "end": "1868940"
  },
  {
    "text": "We get some equations\nwe can solve. And then, oh, actually,\nwe're not only",
    "start": "1868940",
    "end": "1875410"
  },
  {
    "text": "getting the solutions\nwe're supposed to get. But we're getting other stuff. And so in this case,\nit's perfectly legitimate",
    "start": "1875410",
    "end": "1882640"
  },
  {
    "text": "to derive these equations. But you can't then throw\naway the original equations.",
    "start": "1882640",
    "end": "1888550"
  },
  {
    "text": "And in particular, in this\ncase, we can use two of them. But we need to keep one\nof the quadratic ones.",
    "start": "1888550",
    "end": "1896289"
  },
  {
    "text": "So we can keep, for example, the\nfirst two equations over there and keep the third one of these.",
    "start": "1896290",
    "end": "1902620"
  },
  {
    "text": "And that's perfectly legitimate. Now, we got two linear\nequations, one quadratic,",
    "start": "1902620",
    "end": "1907990"
  },
  {
    "text": "and be Bezout's theorem, we\nwould get 1 times 1 times 2 solution maximum, i.e.",
    "start": "1907990",
    "end": "1914320"
  },
  {
    "text": "2. And that fits with\nwhat we're expecting. OK, so let's deal with\nthis in another way.",
    "start": "1914320",
    "end": "1924530"
  },
  {
    "text": "So what we've got is\nconstraints like this.",
    "start": "1924530",
    "end": "1936190"
  },
  {
    "start": "1936190",
    "end": "1943440"
  },
  {
    "text": "And we can write them out\nthe way we did over there and then subtract them. And what we're going\nto end up with is--",
    "start": "1943440",
    "end": "1950100"
  },
  {
    "start": "1950100",
    "end": "1957860"
  },
  {
    "text": "and we can derive two\nmore equations like this. But let's just stop and\nlook at this for a second.",
    "start": "1957860",
    "end": "1963680"
  },
  {
    "text": "What was this? R2. OK, so all I've done here\nis I've subtracted these two",
    "start": "1963680",
    "end": "1970700"
  },
  {
    "text": "and reorganized the\nterms a little bit. So what does this tell me? Well, that product\nbeing equal to 0",
    "start": "1970700",
    "end": "1977390"
  },
  {
    "text": "means that the two\nvectors are perpendicular. So that's one important\nthing, that r minus r2",
    "start": "1977390",
    "end": "1986290"
  },
  {
    "text": "is perpendicular to r3 minus r1. ",
    "start": "1986290",
    "end": "1994590"
  },
  {
    "text": "The other thing we can notice is\nthat the plane goes through r2.",
    "start": "1994590",
    "end": "2003360"
  },
  {
    "text": "So first of all, this\nis a linear equation. So by our discussion over there,\nit represents a plane in 3D",
    "start": "2003360",
    "end": "2010050"
  },
  {
    "text": "and passes through r2 because\nif r equals r2, this is 0.",
    "start": "2010050",
    "end": "2021810"
  },
  {
    "text": "And so that satisfies\nthis equation. OK, so we got two\nimportant properties.",
    "start": "2021810",
    "end": "2027960"
  },
  {
    "text": "And now if we go back to our\nvanishing points in the image plane-- I'll draw it again so--",
    "start": "2027960",
    "end": "2036845"
  },
  {
    "text": "r1.  So what this is saying is\nthat this particular equation",
    "start": "2036845",
    "end": "2048449"
  },
  {
    "text": "is a plane that is\nperpendicular to r3 minus r1-- so r3 minus r1.",
    "start": "2048449",
    "end": "2054658"
  },
  {
    "text": "That's this vector. So this plane has this as\na normal perpendicular.",
    "start": "2054659",
    "end": "2061800"
  },
  {
    "text": "And so for a start, it\ntells you that that plane is perpendicular\nto the image plane.",
    "start": "2061800",
    "end": "2067419"
  },
  {
    "text": "So the solutions\nare on that plane that's perpendicular\nto the image plane. But which of these planes is it?",
    "start": "2067420",
    "end": "2073949"
  },
  {
    "text": "Because just saying that this\nis the normal perpendicular to the plane, we could have\nlots and lots of planes.",
    "start": "2073949",
    "end": "2079739"
  },
  {
    "text": "Well, that's the\nsecond statement. It passes through r2. So we're popping back and forth\nbetween algebra and geometry",
    "start": "2079739",
    "end": "2092619"
  },
  {
    "text": "because you can do all\nthis just algebraically. But you don't really\nget much insight.",
    "start": "2092620",
    "end": "2098109"
  },
  {
    "text": "And it's much more fun to\nlook at it geometrically. Now, of course, I picked\nthis particular combination.",
    "start": "2098110",
    "end": "2104890"
  },
  {
    "text": "I could pick two\nother combinations. So what do I get from those? Well, one of them\nis going to give me",
    "start": "2104890",
    "end": "2111130"
  },
  {
    "text": "a plane that is\nperpendicular to r3 minus r2",
    "start": "2111130",
    "end": "2116890"
  },
  {
    "text": "and passes through r1. So that's that one. And then there's\na third one, which is going to be a plane\nperpendicular to r1 minus r2",
    "start": "2116890",
    "end": "2127329"
  },
  {
    "text": "and passing through r3. And so ta-da, I got a solution.",
    "start": "2127330",
    "end": "2134990"
  },
  {
    "text": "So what is that\ncalled, by the way? Triangulation. OK.",
    "start": "2134990",
    "end": "2140230"
  },
  {
    "text": "Well, so with triangles, there\nare a lot of special points that have names.",
    "start": "2140230",
    "end": "2145750"
  },
  {
    "text": "And I don't know. There are at least six. I'm sure people have\ncome up with other ones. For example, there's\nthe outcenter,",
    "start": "2145750",
    "end": "2152890"
  },
  {
    "text": "which is the center of\na circumscribed circle.",
    "start": "2152890",
    "end": "2159309"
  },
  {
    "text": "Then there's the incenter,\nwhich is the center of a inscribed circle. Then there's the centroid, which\nis the average of the three",
    "start": "2159310",
    "end": "2167350"
  },
  {
    "text": "sets of coordinates. And this one is the orthocenter. ",
    "start": "2167350",
    "end": "2175050"
  },
  {
    "text": "I don't know. There are a few\nmore intersections of bisectors and whatever. Anyway, this is the one we want.",
    "start": "2175050",
    "end": "2180820"
  },
  {
    "text": "And it's obtainable easily\nby solving linear equations.",
    "start": "2180820",
    "end": "2187270"
  },
  {
    "text": "So we're partly done. We're not quite done,\nbecause now we know",
    "start": "2187270",
    "end": "2192660"
  },
  {
    "text": "where it is in the image plane. So this is the\nprincipal point, the one",
    "start": "2192660",
    "end": "2198660"
  },
  {
    "text": "we were talking about\nthat the perpendicular we",
    "start": "2198660",
    "end": "2204960"
  },
  {
    "text": "dropped from the\ncenter of projection into the image plane. That's where that is. What are we still missing?",
    "start": "2204960",
    "end": "2211230"
  },
  {
    "text": "Well, we're missing f. So we know that the solution\nis along a line that's",
    "start": "2211230",
    "end": "2220760"
  },
  {
    "text": "coming perpendicular\nout of the image plane. Why? Well, because we're\nintersecting these planes",
    "start": "2220760",
    "end": "2225950"
  },
  {
    "text": "that are each individually\nperpendicular to the image plane. So they'll produce a line. ",
    "start": "2225950",
    "end": "2233105"
  },
  {
    "text": "And by the way, of course, I\ndon't need all three planes. I just need to intersect two. Yeah, OK.",
    "start": "2233105",
    "end": "2238780"
  },
  {
    "text": "Let's start with r. So the unknown center of\nprojection is out here.",
    "start": "2238780",
    "end": "2244510"
  },
  {
    "text": "And this is the perpendicular\nI dropped from r into the image",
    "start": "2244510",
    "end": "2250810"
  },
  {
    "text": "plane. And the equations I'm\nsolving are these equations.",
    "start": "2250810",
    "end": "2257230"
  },
  {
    "text": "And the thing I'm exploiting\nis that all of these have a 0, a z component.",
    "start": "2257230",
    "end": "2263620"
  },
  {
    "start": "2263620",
    "end": "2270520"
  },
  {
    "text": "Why is that? Well, because in terms\nof the coordinate system",
    "start": "2270520",
    "end": "2278280"
  },
  {
    "text": "I'm using, which is row\nand column in the image, the height is 0 in\nthe image plane.",
    "start": "2278280",
    "end": "2286589"
  },
  {
    "text": "The center of projection is\nout here at some non-zero z. But these points are\nactually in the image plane,",
    "start": "2286590",
    "end": "2294339"
  },
  {
    "text": "which has height 0 relative\nto the image plane. So none of these vectors\nhave a third component.",
    "start": "2294340",
    "end": "2301150"
  },
  {
    "text": "And so all of these\nequations here, I can think of, really, as\nequations in two vectors,",
    "start": "2301150",
    "end": "2307319"
  },
  {
    "text": "not just x and y. And I only need two of\nthose to solve for x and y.",
    "start": "2307320",
    "end": "2312630"
  },
  {
    "text": "But that's just\nalgebra that represents this geometric insight.",
    "start": "2312630",
    "end": "2318990"
  },
  {
    "text": "So one of the things that--\nwhat do you do with this? Well, camera calibration. But you can also do some fun\nthings with it otherwise.",
    "start": "2318990",
    "end": "2327609"
  },
  {
    "text": "So, for example, if you take an\nimage and you find this point,",
    "start": "2327610",
    "end": "2333310"
  },
  {
    "text": "and you find that it's not\nin the middle of the image,",
    "start": "2333310",
    "end": "2339340"
  },
  {
    "text": "like here's your picture\nand you do this construction",
    "start": "2339340",
    "end": "2346060"
  },
  {
    "text": "and you find the\nvanishing points are, I don't know, outside the image.",
    "start": "2346060",
    "end": "2351910"
  },
  {
    "text": "And then you discover that,\noh, the center of projection is, I don't know, here--",
    "start": "2351910",
    "end": "2357190"
  },
  {
    "text": "the principal point.  Well, then whoever took\nthis picture either",
    "start": "2357190",
    "end": "2363890"
  },
  {
    "text": "had a very funny camera or they\ncropped you out of the picture.",
    "start": "2363890",
    "end": "2370160"
  },
  {
    "text": " Very commonly done when\nrelationships break up.",
    "start": "2370160",
    "end": "2376820"
  },
  {
    "text": "You take this great picture\nwhere you look really good. Then you cut out\nthe other person.",
    "start": "2376820",
    "end": "2382270"
  },
  {
    "text": "And so that's one of the\nkind of lighthearted-- or maybe not so\nlighthearted, in that case--",
    "start": "2382270",
    "end": "2388430"
  },
  {
    "text": "uses for this technology. Another one is to\ntry and question",
    "start": "2388430",
    "end": "2397010"
  },
  {
    "text": "whether an image is an\noriginal or has been modified. And this came up in\ndid Admiral Peary",
    "start": "2397010",
    "end": "2407160"
  },
  {
    "text": "get to the North Pole or not? And his proof was partly\nin the form of photographs.",
    "start": "2407160",
    "end": "2414150"
  },
  {
    "text": "And what you can do-- and\nwe know what camera he used. So we know the focal\nlength, et cetera.",
    "start": "2414150",
    "end": "2421230"
  },
  {
    "text": "And, well, we also know\nwhat altitude the sun should",
    "start": "2421230",
    "end": "2426619"
  },
  {
    "text": "be at that time of year. So you can do some\nphotogrammetry and discover that,\nwell, for example, one",
    "start": "2426620",
    "end": "2434930"
  },
  {
    "text": "of the important pictures\nhas been cropped. So this is the\nkind of technology",
    "start": "2434930",
    "end": "2440750"
  },
  {
    "text": "that will let you do that. And I guess the\nPhotogrammetric Association,",
    "start": "2440750",
    "end": "2448460"
  },
  {
    "text": "which is into this sort\nof stuff, picked that up. And they published a book\nthat kind of questions",
    "start": "2448460",
    "end": "2455510"
  },
  {
    "text": "his claim to have\nreached the North Pole.",
    "start": "2455510",
    "end": "2461150"
  },
  {
    "text": "I'm interested in that\npartly because there are wonderful hoaxes in\nexploration, a lot of which",
    "start": "2461150",
    "end": "2467660"
  },
  {
    "text": "are easy to understand.",
    "start": "2467660",
    "end": "2473180"
  },
  {
    "text": "Someone spent years raising\nmoney, years finding people to work with them.",
    "start": "2473180",
    "end": "2478790"
  },
  {
    "text": "They get within 150\nmiles of the North Pole and there's no one around.",
    "start": "2478790",
    "end": "2484070"
  },
  {
    "text": "Are they going to come back\nand say, no, I didn't make it? Well, if they're really, really\nhonest, that's what they say.",
    "start": "2484070",
    "end": "2490580"
  },
  {
    "text": "But if they sent back\nthe only other guy that knew how to operate\na sextant to measure the altitude of the sun, they\nmight just be tempted to say,",
    "start": "2490580",
    "end": "2499430"
  },
  {
    "text": "yeah, I got there. Anyway, so doing this kind\nof vanishing point analysis",
    "start": "2499430",
    "end": "2506480"
  },
  {
    "text": "can sometimes alert\nyou to problems",
    "start": "2506480",
    "end": "2511490"
  },
  {
    "text": "with image manipulation. But we're using it for\ncalibration instead.",
    "start": "2511490",
    "end": "2520800"
  },
  {
    "text": "So we can write down\nthe two linear equations for that point. But it's not-- I\nmean, you know how",
    "start": "2520800",
    "end": "2528000"
  },
  {
    "text": "to solve two linear equations. So we still have to find f. But that's OK because\nwe now know x and y.",
    "start": "2528000",
    "end": "2537060"
  },
  {
    "text": "And all we need to know is the\nthird component of that vector. And we end up with a quadratic.",
    "start": "2537060",
    "end": "2542818"
  },
  {
    "text": "And we know how to\nsolve a quadratic. So I won't do that. But here's another\ninteresting thing. I kept on saying that\nin typical cases,",
    "start": "2542818",
    "end": "2549810"
  },
  {
    "text": "the vanishing points will\nbe outside the frame. And so one thing\nwe might want to do",
    "start": "2549810",
    "end": "2557370"
  },
  {
    "text": "is, given this positioning\nof the vanishing point, can we say something\nvery quickly",
    "start": "2557370",
    "end": "2564030"
  },
  {
    "text": "about the f, the focal length? Well, here's a-- let's\ntake a really simple case.",
    "start": "2564030",
    "end": "2573490"
  },
  {
    "text": "So here, the vanishing points-- and they happen to be equally\nspaced in the image plane.",
    "start": "2573490",
    "end": "2579450"
  },
  {
    "text": "We just turned the cube\nso that we're looking at the three faces equally.",
    "start": "2579450",
    "end": "2586530"
  },
  {
    "text": "And let's suppose\nthat this distance is, I don't know, v\nfor vanishing point.",
    "start": "2586530",
    "end": "2593010"
  },
  {
    "text": "And then the question\nis, what's if? The general approach\nto this involves",
    "start": "2593010",
    "end": "2601950"
  },
  {
    "text": "plugging in the x and\ny we get from this and then solving\na quadratic in f. But maybe we can do\nthis without all of that",
    "start": "2601950",
    "end": "2611849"
  },
  {
    "text": "because it's a special case. We should be able\nto figure this out. So we can think of\nthis in terms of corner",
    "start": "2611850",
    "end": "2621450"
  },
  {
    "text": "of a coordinate system. ",
    "start": "2621450",
    "end": "2629609"
  },
  {
    "text": "OK, so we have 1, 0, 0;\n0, 1, 0; and 0, 0, 1.",
    "start": "2629610",
    "end": "2642080"
  },
  {
    "text": "And we need to know the distance\nfrom the origin to this plane.",
    "start": "2642080",
    "end": "2651950"
  },
  {
    "text": "And, of course, it'll vary\ndepending on where we are. But somewhere out\nhere is the point that is closest to the origin.",
    "start": "2651950",
    "end": "2658250"
  },
  {
    "text": "And it's the one we indicated\nby distance rho from the origin.",
    "start": "2658250",
    "end": "2663840"
  },
  {
    "text": "So the question is, how far\nis that point from the origin?",
    "start": "2663840",
    "end": "2671310"
  },
  {
    "text": "Well, presumably\nit's a point where-- ",
    "start": "2671310",
    "end": "2676970"
  },
  {
    "text": "what's another variable name? A, a, a. It's symmetric. So you would imagine\nthat at that point",
    "start": "2676970",
    "end": "2683510"
  },
  {
    "text": "should have the same x,\ny, and z coordinates. And so the dot product\nof that with the unit",
    "start": "2683510",
    "end": "2694160"
  },
  {
    "text": "normal to this\nplane should be 1.",
    "start": "2694160",
    "end": "2699980"
  },
  {
    "text": " So the unit normal to-- the\nperpendicular to this plane",
    "start": "2699980",
    "end": "2707230"
  },
  {
    "text": "comes symmetrically straight\nout equally in x, y, and z. And to make it a\nunit vector, we have",
    "start": "2707230",
    "end": "2712840"
  },
  {
    "text": "to divide by the square\nroot of 3, right? Because we've got 1, 1, 1. And so I think this is that\nA is 1 over square root of 3",
    "start": "2712840",
    "end": "2724320"
  },
  {
    "text": "because it's 3 times-- yeah, OK. So this is also what\nwe called rho before.",
    "start": "2724320",
    "end": "2735250"
  },
  {
    "text": "OK, so that's the distance\nfrom the origin to this point. And that's going to be our f.",
    "start": "2735250",
    "end": "2742360"
  },
  {
    "text": "But what is v? Well, in this\ndiagram, this is v. So in this case, v\nis square root of 2.",
    "start": "2742360",
    "end": "2750099"
  },
  {
    "text": "And f is 1 over\nsquare root of 4. So there's a\nrelationship which is",
    "start": "2750100",
    "end": "2756700"
  },
  {
    "text": "that v is square\nroot of 6 times f, or f is v over square root of 6.",
    "start": "2756700",
    "end": "2765550"
  },
  {
    "text": "So in this special\ncase, we can easily calculate what the focal length\nor the principle distance is.",
    "start": "2765550",
    "end": "2775840"
  },
  {
    "text": "And it's substantially\nlarger than-- sorry, I got this\nthe wrong way around.",
    "start": "2775840",
    "end": "2781630"
  },
  {
    "text": "F should be-- no, it is right.",
    "start": "2781630",
    "end": "2787269"
  },
  {
    "text": "And so v will typically\nbe substantially larger than f, the principle distance.",
    "start": "2787270",
    "end": "2793150"
  },
  {
    "text": "And so often the\nvanishing points will be outside the\nframe that we've actually",
    "start": "2793150",
    "end": "2798970"
  },
  {
    "text": "captured an image of. And this is a special case.",
    "start": "2798970",
    "end": "2804319"
  },
  {
    "text": "We can solve it\nin a general case. It's just algebra. ",
    "start": "2804320",
    "end": "2810030"
  },
  {
    "text": "So that's application\nof vanishing points to camera calibration.",
    "start": "2810030",
    "end": "2815339"
  },
  {
    "text": "Now I want to talk about\nanother application.",
    "start": "2815340",
    "end": "2820610"
  },
  {
    "text": "I mentioned the case where\nwe just slap a cell phone camera onto a car's window.",
    "start": "2820610",
    "end": "2827869"
  },
  {
    "text": "And we want to relate\nthe images we're seeing to some\nthree-dimensional world",
    "start": "2827870",
    "end": "2836180"
  },
  {
    "text": "coordinate system just\nby identifying features in the image.",
    "start": "2836180",
    "end": "2841320"
  },
  {
    "text": "So what sorts of things\ncan we see in the image? Well, if it's on a straight\nroad, we'll see the curb,",
    "start": "2841320",
    "end": "2848480"
  },
  {
    "text": "and we'll see road markings. And those are\nsupposedly parallel.",
    "start": "2848480",
    "end": "2853559"
  },
  {
    "text": "And so they will produce\na vanishing point that we can detect in the image.",
    "start": "2853560",
    "end": "2858849"
  },
  {
    "text": "If we're lucky,\nthere's also a horizon. So we get a second\nconstraint out of that.",
    "start": "2858850",
    "end": "2864470"
  },
  {
    "text": "And what we want\nto know is how is this camera oriented\nrelative to the road",
    "start": "2864470",
    "end": "2869500"
  },
  {
    "text": "and relative to gravity. So that's the kind of problem\nwe're trying to solve.",
    "start": "2869500",
    "end": "2874795"
  },
  {
    "text": " And I guess we got\nrid of that also.",
    "start": "2874795",
    "end": "2880250"
  },
  {
    "text": "So this is really\nabout orientation. ",
    "start": "2880250",
    "end": "2890820"
  },
  {
    "text": "So the transformation between\na world coordinated system that's lined up with the road\nand gravity to the camera",
    "start": "2890820",
    "end": "2898250"
  },
  {
    "text": "coordinate system\nis translation-- there's some shift-- and rotation.",
    "start": "2898250",
    "end": "2903620"
  },
  {
    "text": "And we're going to focus here\non just recovering the rotation. So where do we start?",
    "start": "2903620",
    "end": "2911609"
  },
  {
    "text": "Well, the same diagram. Let's suppose we're lucky and\nwe actually have all three",
    "start": "2911610",
    "end": "2916970"
  },
  {
    "text": "vanishing points. In the application I\nmentioned, we don't. But let's take the easy\ncase, where we have all three",
    "start": "2916970",
    "end": "2926150"
  },
  {
    "text": "vanishing points. So we got v1, v2,\nv3, r1, r2, r3.",
    "start": "2926150",
    "end": "2934880"
  },
  {
    "text": "And now that we have\na calibrated camera, we just connect those up to\nthe center of projection.",
    "start": "2934880",
    "end": "2942290"
  },
  {
    "text": "We now know where the\ncenter of projection is. That is we've got\nthe three numbers.",
    "start": "2942290",
    "end": "2948230"
  },
  {
    "text": "We've got two for the\nprincipal point and one for the principal distance-- or if you like,\njust the coordinates",
    "start": "2948230",
    "end": "2954170"
  },
  {
    "text": "of the center of projection. I don't know. Let's call it p or something. We've called it r over here.",
    "start": "2954170",
    "end": "2961310"
  },
  {
    "text": "OK, then we know that the edges\nof this rectangular object",
    "start": "2961310",
    "end": "2967670"
  },
  {
    "text": "that we're looking at to\nget the vanishing points have directions that are\njust defined by these lines.",
    "start": "2967670",
    "end": "2974750"
  },
  {
    "text": "That is-- let's call\nthis the x-axis. And then there's another one,\nwhich will be the y-axis.",
    "start": "2974750",
    "end": "2983759"
  },
  {
    "text": "And here we go. So they look a little bit\nfunny because of the way I picked the vanishing points.",
    "start": "2983760",
    "end": "2989600"
  },
  {
    "text": "But they're supposed to be at\nright angles to each other. And, of course, the first\nthing I can do is check.",
    "start": "2989600",
    "end": "2995070"
  },
  {
    "text": "I've got some algorithm that\nfinds the vanishing points. I have calibrated the\ncamera, supposedly.",
    "start": "2995070",
    "end": "3001599"
  },
  {
    "text": "I connect these up. And I take the dot products. And they better be small. They're unlikely\nto be exactly 0.",
    "start": "3001600",
    "end": "3008950"
  },
  {
    "text": "So that's the first\nthing, to check that they are, in fact, at\nright angles to each other.",
    "start": "3008950",
    "end": "3014359"
  },
  {
    "text": "And then I have now-- ",
    "start": "3014360",
    "end": "3019730"
  },
  {
    "text": "what do I have? I have the unit\nvectors in the object",
    "start": "3019730",
    "end": "3025360"
  },
  {
    "text": "coordinate system measured in\nthe camera coordinate system.",
    "start": "3025360",
    "end": "3030550"
  },
  {
    "text": "So my definition of\nx, y, and z is still in this coordinate\nsystem over here. So I'll do this--",
    "start": "3030550",
    "end": "3039670"
  },
  {
    "text": "T minus r1. ",
    "start": "3039670",
    "end": "3048520"
  },
  {
    "text": "And, of course, once I\nknow that they're parallel",
    "start": "3048520",
    "end": "3054760"
  },
  {
    "text": "and they're unit\nvectors, I can just compute them by normalizing-- ",
    "start": "3054760",
    "end": "3067830"
  },
  {
    "text": "et cetera. So, important to\nunderstand that those x,",
    "start": "3067830",
    "end": "3073020"
  },
  {
    "text": "y, and z unit vectors are in\nthe camera coordinate system.",
    "start": "3073020",
    "end": "3078790"
  },
  {
    "text": "OK, so now suppose I have\nsome point in the object.",
    "start": "3078790",
    "end": "3083830"
  },
  {
    "start": "3083830",
    "end": "3089120"
  },
  {
    "text": "And let's see, did\nI call these primes?",
    "start": "3089120",
    "end": "3094740"
  },
  {
    "text": "And it's going to be-- ",
    "start": "3094740",
    "end": "3106800"
  },
  {
    "text": "yeah, they're vectors. So that's in my camera\ncoordinate system.",
    "start": "3106800",
    "end": "3125060"
  },
  {
    "text": "And what is that vector in\nthe original object coordinate",
    "start": "3125060",
    "end": "3130720"
  },
  {
    "text": "system? So everything now is measured\nin the camera coordinate system.",
    "start": "3130720",
    "end": "3137860"
  },
  {
    "text": "Oh, I shouldn't be--  OK.",
    "start": "3137860",
    "end": "3143250"
  },
  {
    "start": "3143250",
    "end": "3148280"
  },
  {
    "text": "So it's alpha in the direction\nof the x-axis and beta",
    "start": "3148280",
    "end": "3154280"
  },
  {
    "text": "in the direction of\nthe y-axis and gamma in the direction of the z-axis. So what is the vector in the\nobject coordinate system?",
    "start": "3154280",
    "end": "3164060"
  },
  {
    "text": " Where are its components?",
    "start": "3164060",
    "end": "3169580"
  },
  {
    "text": "Its x component is alpha\nand y component is beta.",
    "start": "3169580",
    "end": "3176210"
  },
  {
    "text": "So this vector here that\nI've written in the camera coordinate system corresponds\nto this vector in the object",
    "start": "3176210",
    "end": "3186470"
  },
  {
    "text": "coordinate system. So, I mean, that's\nthe definition. We have three axes\nin that world.",
    "start": "3186470",
    "end": "3196200"
  },
  {
    "text": "And we express the\nposition of a point in terms of a weighted sum\nof those three directions.",
    "start": "3196200",
    "end": "3203720"
  },
  {
    "text": "And so in my camera\ncoordinate system, this is what it looks like. In the object-- the rectangular\nblock coordinate system,",
    "start": "3203720",
    "end": "3212800"
  },
  {
    "text": "it looks like that. So what's the transformation?",
    "start": "3212800",
    "end": "3218240"
  },
  {
    "text": "So I got-- let's see. R is-- so let's see.",
    "start": "3218240",
    "end": "3240140"
  },
  {
    "text": "The T, again, means I'm\ntransposing a column vector into a row vector. So the first row of that\nmatrix is the unit vector",
    "start": "3240140",
    "end": "3248870"
  },
  {
    "text": "in the x direction\nlaid out as a row. And so the first\ncomponent of r over here",
    "start": "3248870",
    "end": "3256340"
  },
  {
    "text": "is the dot product of this\nx unit vector and r prime--",
    "start": "3256340",
    "end": "3264440"
  },
  {
    "text": "this guy. And well, that's what\nyou see in that equation.",
    "start": "3264440",
    "end": "3269750"
  },
  {
    "text": "The second component is the\nproduct of y with this guy, and so on.",
    "start": "3269750",
    "end": "3275760"
  },
  {
    "text": "So that's my transformation\nvector between the two",
    "start": "3275760",
    "end": "3281360"
  },
  {
    "text": "coordinate systems. We'll be doing more of this.",
    "start": "3281360",
    "end": "3287799"
  },
  {
    "text": "So don't panic.",
    "start": "3287800",
    "end": "3293330"
  },
  {
    "text": "So that's a very\nimportant matrix. And it represents the\norientation of one",
    "start": "3293330",
    "end": "3298820"
  },
  {
    "text": "coordinate system\nrelative to the other. And I claim this\nmatrix is also normal.",
    "start": "3298820",
    "end": "3308016"
  },
  {
    "text": "What does that mean? That means that the rows are\nperpendicular to each other. If you take the dot product\nof the two rows, you'll get 0.",
    "start": "3308017",
    "end": "3315920"
  },
  {
    "text": "Take the dot product of\nthose two rows, you'll get 0. And by construction, that's true\nbecause we made a unit vector.",
    "start": "3315920",
    "end": "3323390"
  },
  {
    "text": " We're assuming\nthat they represent",
    "start": "3323390",
    "end": "3329100"
  },
  {
    "text": "the axis of the\ncoordinate system, so they're perpendicular. And then it's also normal\nthat each row has magnitude 1.",
    "start": "3329100",
    "end": "3336780"
  },
  {
    "text": "And we did that by construction\nbecause we constructed a unit vector. So amongst other\nthings, we're now",
    "start": "3336780",
    "end": "3345360"
  },
  {
    "text": "led to understand that\nrotation is represented by also normal matrix and quite\na few photogrammetric tasks",
    "start": "3345360",
    "end": "3354060"
  },
  {
    "text": "involving finding that matrix. And in this case,\nwe were able to do it rather straightforwardly\nbecause we explicitly",
    "start": "3354060",
    "end": "3360930"
  },
  {
    "text": "could determine the direction\nof the coordinate axis",
    "start": "3360930",
    "end": "3366059"
  },
  {
    "text": "in the object\nwritten out in terms of the coordinates\nof the camera.",
    "start": "3366060",
    "end": "3373440"
  },
  {
    "text": "And, of course, if we want\nto, we can invert this. So if we've got--",
    "start": "3373440",
    "end": "3378869"
  },
  {
    "text": "maybe we need to go\nthe other direction. Maybe we know the\ncoordinate r and we",
    "start": "3378870",
    "end": "3388020"
  },
  {
    "text": "want to find the\ncoordinate our prime. Well, and it turns out\nthat for rotation matrices,",
    "start": "3388020",
    "end": "3400359"
  },
  {
    "text": "we can show that they're\nactually just the transpose.",
    "start": "3400360",
    "end": "3407990"
  },
  {
    "text": "So that follows from the\nproperty of orthonomality.",
    "start": "3407990",
    "end": "3413300"
  },
  {
    "text": "So in this case,\ngoing back and forth between the two coordinated\nsystems is particularly easy.",
    "start": "3413300",
    "end": "3419105"
  },
  {
    "start": "3419105",
    "end": "3425050"
  },
  {
    "text": "Onto something else, finally. So we spent quite a\nbit of time talking",
    "start": "3425050",
    "end": "3431140"
  },
  {
    "text": "about where perspective\nprojection and all of the stuff",
    "start": "3431140",
    "end": "3438029"
  },
  {
    "text": "that's connected with it,\nincluding the derivatives, which gave us the motion field.",
    "start": "3438030",
    "end": "3443130"
  },
  {
    "text": "And then we talked a little\nbit about vanishing points and exploiting them\nfor camera calibration.",
    "start": "3443130",
    "end": "3450359"
  },
  {
    "text": "And let's go back now to the\nother part of the puzzle, which is brightness and\nwhat we can do with it.",
    "start": "3450360",
    "end": "3459750"
  },
  {
    "text": "How can we exploit\nmeasurements of brightness? ",
    "start": "3459750",
    "end": "3470460"
  },
  {
    "text": "We already talked\nabout foreshortening. ",
    "start": "3470460",
    "end": "3491800"
  },
  {
    "text": "So here's a small facet of\nthe surface of an object.",
    "start": "3491800",
    "end": "3499810"
  },
  {
    "text": "And we can specify\nits orientation by talking about\nthe unit normal.",
    "start": "3499810",
    "end": "3507760"
  },
  {
    "text": "And then he is an observer.  And let's call this direction\nthe viewing direction.",
    "start": "3507760",
    "end": "3517650"
  },
  {
    "text": "And there's also illumination. In the case there's just\none source of illumination,",
    "start": "3517650",
    "end": "3525390"
  },
  {
    "text": "we'll call that s for source. And, well, we can\ndraw some angles here.",
    "start": "3525390",
    "end": "3533240"
  },
  {
    "text": "So this is theta I\nfor incident angle and this is theta E\nfor emitted angle.",
    "start": "3533240",
    "end": "3539710"
  },
  {
    "text": "And, well, that's not enough. We need we need another angle to\nfully describe that situation,",
    "start": "3539710",
    "end": "3547450"
  },
  {
    "text": "because if we just\nspecify the incident and the emergent angle, we\ncan spin one of these around.",
    "start": "3547450",
    "end": "3554140"
  },
  {
    "text": "So we need some azimuth angle. And we'll talk about this later. But for the moment, just\nimagine we take this ray",
    "start": "3554140",
    "end": "3562300"
  },
  {
    "text": "from the light source and we\nprojected down into the plane, and we take this\nray to the view end, we project it down\ninto the plane.",
    "start": "3562300",
    "end": "3569140"
  },
  {
    "text": "And then we measure\nthis azimuth angle. ",
    "start": "3569140",
    "end": "3574660"
  },
  {
    "text": "Now, the observed\nbrightness is going to depend on those parameters.",
    "start": "3574660",
    "end": "3581349"
  },
  {
    "text": "It's going to depend on the\nmaterial of the surface, one. And it's going to depend\non the light source.",
    "start": "3581350",
    "end": "3589400"
  },
  {
    "text": "And it's going to\ndepend on those angles. An extreme case\nis a mirror, where",
    "start": "3589400",
    "end": "3595760"
  },
  {
    "text": "there's only one direction\nwhere you see anything. The reflected ray goes off\nin a particular direction.",
    "start": "3595760",
    "end": "3602539"
  },
  {
    "text": "And unless your camera or\nyour eye happens to be there, it's dark.",
    "start": "3602540",
    "end": "3608690"
  },
  {
    "text": "But the more interesting cases,\nwhere we have a piece of yellow note paper.",
    "start": "3608690",
    "end": "3614450"
  },
  {
    "text": "And pretty much any\ndirection I look at it from, it has the same brightness.",
    "start": "3614450",
    "end": "3620810"
  },
  {
    "text": "And we'll talk about\nthat more later. We're going to greatly\nsimplify this story right away",
    "start": "3620810",
    "end": "3626570"
  },
  {
    "text": "by talking about\nthe illumination. ",
    "start": "3626570",
    "end": "3634869"
  },
  {
    "text": "And we've talked\nabout foreshortening. And so we know that if we have\na patch of a certain area,",
    "start": "3634870",
    "end": "3646560"
  },
  {
    "text": "it's going to get less and less\npower from the light source the more it's tilted relative\nto the light source direction.",
    "start": "3646560",
    "end": "3653700"
  },
  {
    "text": "And the foreshortening makes the\napparent area be the true area",
    "start": "3653700",
    "end": "3660210"
  },
  {
    "text": "times the cosine of that angle. And so just in terms\nof power getting in,",
    "start": "3660210",
    "end": "3666210"
  },
  {
    "text": "that's the magic number. Well, if cosine theta\ni is less than 0,",
    "start": "3666210",
    "end": "3673110"
  },
  {
    "text": "that's not true\nbecause that would mean you get negative power. So what does cosine theta\ni being negative mean?",
    "start": "3673110",
    "end": "3679724"
  },
  {
    "start": "3679725",
    "end": "3685330"
  },
  {
    "text": "That means it's greater than--  the angle is greater\nthan pi over 2.",
    "start": "3685330",
    "end": "3692839"
  },
  {
    "text": "And so that means that\nyou've turned the surface to face away from the sun.",
    "start": "3692840",
    "end": "3699200"
  },
  {
    "text": "So we should really be saying\nmax of cosine theta and 0.",
    "start": "3699200",
    "end": "3704720"
  },
  {
    "text": "But that's so\ntedious, we're just going to implicitly say that.",
    "start": "3704720",
    "end": "3713349"
  },
  {
    "text": "And then the surface may or\nmay not reflect the light. It may absorb some of it.",
    "start": "3713350",
    "end": "3720910"
  },
  {
    "text": "And it may reflect differently\nin different directions.",
    "start": "3720910",
    "end": "3726710"
  },
  {
    "text": "But let's take a\nreally simple case. Let's start off with that-- not to say that we're going\nto be stuck with that.",
    "start": "3726710",
    "end": "3733340"
  },
  {
    "start": "3733340",
    "end": "3743640"
  },
  {
    "text": "OK, so this is a model\nof a matte surface that's very unmirror-like.",
    "start": "3743640",
    "end": "3750540"
  },
  {
    "text": "It reflects light in\nvarious directions. And it has the special property\nthat no matter what direction",
    "start": "3750540",
    "end": "3758400"
  },
  {
    "text": "you look at it, it has\nthe same brightness. And we'll talk about exactly\nhow we measure brightness.",
    "start": "3758400",
    "end": "3763980"
  },
  {
    "text": "So for the moment, all\nwe're going to make use of is let's imagine\nthere's a surface where",
    "start": "3763980",
    "end": "3771550"
  },
  {
    "text": "the brightness only depends\non how much power is going in. And therefore, it depends\non cosine theta i.",
    "start": "3771550",
    "end": "3778060"
  },
  {
    "text": "And so how can we exploit that? Well, we make a\nbrightness measurement.",
    "start": "3778060",
    "end": "3784420"
  },
  {
    "text": "And it's going to be\nproportional to that.",
    "start": "3784420",
    "end": "3794450"
  },
  {
    "text": "Let's not worry about the\nproportionality factor for the moment. So the brightness is\nproportional to that dot",
    "start": "3794450",
    "end": "3801230"
  },
  {
    "text": "product in this diagram between\nthe normal and the-- right? Because n dot s\nis cosine theta i.",
    "start": "3801230",
    "end": "3809630"
  },
  {
    "text": "And so does that allow me\nto determine the surface orientation? So can I solve this for--",
    "start": "3809630",
    "end": "3817310"
  },
  {
    "text": "see, where I'm\ngoing with this is I'd like to recover the\nshape of the surface.",
    "start": "3817310",
    "end": "3822550"
  },
  {
    "text": "And one way I can do that is\nto look at every little facet and figure out if its\nsurface orientation, which",
    "start": "3822550",
    "end": "3829170"
  },
  {
    "text": "is little different from-- you might think\nthat, well, we'll just construct the depth map. We'll find some way of\nestimating the depth",
    "start": "3829170",
    "end": "3836020"
  },
  {
    "text": "at every point in the image. But that's something we can't\ndo from a monocular image.",
    "start": "3836020",
    "end": "3844090"
  },
  {
    "text": "We'd like to be able to recover\nshape from monocular images as well. So we're trying to recover n.",
    "start": "3844090",
    "end": "3851980"
  },
  {
    "text": "Can we do it from this? Well, this is just\none constraint. And the surface normal has\n2 degrees of freedom, right?",
    "start": "3851980",
    "end": "3860255"
  },
  {
    "text": "It's the unit vector. We want constraints. So 3 minus 1 is 2. So we got two unknowns.",
    "start": "3860255",
    "end": "3866859"
  },
  {
    "text": "And we only have one equation. So that doesn't work. But let's imagine that we're\nin an industrial situation.",
    "start": "3866860",
    "end": "3874060"
  },
  {
    "text": "We have control of\nlight sources and so on. And we can take a second\nimage with a second position",
    "start": "3874060",
    "end": "3883869"
  },
  {
    "text": "for the light source. And you saw that in the slides\nthat we did at the beginning.",
    "start": "3883870",
    "end": "3892000"
  },
  {
    "text": "Well, that's already\nlooking better because now we have\n2 constraints and 2",
    "start": "3892000",
    "end": "3898119"
  },
  {
    "text": "degrees of freedom. We have a match between\nthe number of unknowns and a number of equations.",
    "start": "3898120",
    "end": "3908020"
  },
  {
    "text": "But they're not linear. And so where's the\nnonlinearity come from?",
    "start": "3908020",
    "end": "3918610"
  },
  {
    "text": "Well, the thing is that\nif we're solving for n, we need to enforce the\nconstraint that it's",
    "start": "3918610",
    "end": "3925020"
  },
  {
    "text": "a unit vector.  And one way of thinking\nabout it is we're",
    "start": "3925020",
    "end": "3930990"
  },
  {
    "text": "trying to solve these\nthree equations for n. And these are nice and linear.",
    "start": "3930990",
    "end": "3937680"
  },
  {
    "text": "And this one isn't. So by Bezout's theorem,\nthere may be two solutions.",
    "start": "3937680",
    "end": "3943990"
  },
  {
    "text": "Another way to see\nthat is suppose that you measure the\nbrightness, and therefore you",
    "start": "3943990",
    "end": "3949049"
  },
  {
    "text": "can estimate cosine theta i. And therefore you\ncan estimate theta i.",
    "start": "3949050",
    "end": "3954119"
  },
  {
    "text": "What do we know? Well, let's suppose we know the\ndirections of the light source. And you know this is the\ndirection to the light source.",
    "start": "3954120",
    "end": "3961290"
  },
  {
    "text": "And then I know that\nthere's a certain angle between the surface normal\nand the light source. Well, that doesn't give me the\nanswer because it could be--",
    "start": "3961290",
    "end": "3968579"
  },
  {
    "text": "I can rotate this around s. And so I actually have a whole\ncone of possible directions.",
    "start": "3968580",
    "end": "3978130"
  },
  {
    "text": "So this is s. And this is theta i. And my normal could be any\none of these on that cone.",
    "start": "3978130",
    "end": "3990890"
  },
  {
    "text": "Now, if I have a\nsecond measurement,",
    "start": "3990890",
    "end": "3996470"
  },
  {
    "text": "second light source,\nthat gives me a different cone of directions.",
    "start": "3996470",
    "end": "4002930"
  },
  {
    "text": "And if the normal has\nto be on both of them,",
    "start": "4002930",
    "end": "4008030"
  },
  {
    "text": "well that means that I\nlook for the intersection of those cones.",
    "start": "4008030",
    "end": "4013160"
  },
  {
    "text": "And there will be two. And, of course, if I intersect\ntwo cones, I get two lines.",
    "start": "4013160",
    "end": "4021290"
  },
  {
    "text": "But I have the\nadditional constraint that it has to be unit normal. So it's on a unit sphere.",
    "start": "4021290",
    "end": "4026420"
  },
  {
    "text": "So I then take those\ntwo lines intersect and them with a unit sphere. And I get two points OK, well there could be\nbad things happening.",
    "start": "4026420",
    "end": "4034340"
  },
  {
    "text": "If your measurements are\nwrong, these two cones may not even intersect. But we'll ignore\nthat for the moment.",
    "start": "4034340",
    "end": "4042020"
  },
  {
    "text": "And we could write out\nthe algebra for that. It involves solving a quadratic. We know how to solve quadratics.",
    "start": "4042020",
    "end": "4050060"
  },
  {
    "text": "But we can actually turn this\ninto a linear equation problem and make it somewhat\nmore interesting.",
    "start": "4050060",
    "end": "4057890"
  },
  {
    "text": "I mentioned that,\namongst other things, one of the things that will\naffect how bright something is",
    "start": "4057890",
    "end": "4065920"
  },
  {
    "text": "in the image plane is the\nreflectance of the surface.",
    "start": "4065920",
    "end": "4070960"
  },
  {
    "text": "And reflectance, unfortunately,\nis a very fuzzy term that means something\nelse for everyone.",
    "start": "4070960",
    "end": "4076160"
  },
  {
    "text": "So I'm going to call talk\nabout something called albedo. ",
    "start": "4076160",
    "end": "4089680"
  },
  {
    "text": "And so that's a quantity that\nwould be between 0 and 1.",
    "start": "4089680",
    "end": "4096549"
  },
  {
    "text": "And it's simply telling you\nhow reflective the surface is,",
    "start": "4096550",
    "end": "4101649"
  },
  {
    "text": "how much of the energy going\nin comes out again versus how much is absorbed and lost.",
    "start": "4101649",
    "end": "4108770"
  },
  {
    "text": "And I put albedo\nin quotation marks because it has a very\nwell-defined meaning",
    "start": "4108770",
    "end": "4115210"
  },
  {
    "text": "in some technical areas,\nsuch as astronomy.",
    "start": "4115210",
    "end": "4120640"
  },
  {
    "text": "It means something\nslightly different in the case of astronomy. It means you've got\na spherical planet.",
    "start": "4120640",
    "end": "4126399"
  },
  {
    "text": "And what's the ratio of\npower in over power out? And so that means it's\nsome average of lots",
    "start": "4126399",
    "end": "4133180"
  },
  {
    "text": "of different directions. Here, I'm talking about just\na particular orientation. But it's a very simple concept,\njust a piece of white paper",
    "start": "4133180",
    "end": "4144370"
  },
  {
    "text": "presumably has an albedo\nthat's close to 1. And black coal has an\nalbedo that's, like, 0.1.",
    "start": "4144370",
    "end": "4154528"
  },
  {
    "text": "And can you have a\nalbedo greater than 1?",
    "start": "4154529",
    "end": "4161969"
  },
  {
    "text": "No, right? Otherwise you'd be violating\nsome law of physics. But you can get super\nluminous surfaces by cheating.",
    "start": "4161970",
    "end": "4170189"
  },
  {
    "text": "So if you have fluorescent\nspray paint, for example, or if you starched the color\nin your white shirt, which",
    "start": "4170189",
    "end": "4177389"
  },
  {
    "text": "I know you all do, then when\nyou illuminate it with sunlight, they are brighter than bright.",
    "start": "4177390",
    "end": "4183989"
  },
  {
    "text": "They shouldn't be as\nbright as they are. And that's because they're\nconverting ultraviolet into visible.",
    "start": "4183990",
    "end": "4189089"
  },
  {
    "text": "So they're not violating\nsecond law of thermodynamics. They're converting energy\noutside the spectrum",
    "start": "4189090",
    "end": "4196440"
  },
  {
    "text": "into energy in the spectrum. And in that case,\nthe power total visible power out can be larger\nthan the total visible power",
    "start": "4196440",
    "end": "4204520"
  },
  {
    "text": "in. And so a surface with\nthat kind of property-- if you put starch in\nyour white shirts,",
    "start": "4204520",
    "end": "4211739"
  },
  {
    "text": "they will appear brighter than\na 99.99% reflective magnesium",
    "start": "4211740",
    "end": "4217650"
  },
  {
    "text": "sulfate powder, which is one of\nthe standards that people use. But generally speaking, 0\nless than rho less than 1.",
    "start": "4217650",
    "end": "4226290"
  },
  {
    "text": "And so what does that do? Well, now we have a slightly\ndifferent situation, where E1 is rho n dot s1.",
    "start": "4226290",
    "end": "4235590"
  },
  {
    "text": "And E2 is rho n dot s2. ",
    "start": "4235590",
    "end": "4242929"
  },
  {
    "text": "And so now, actually,\nI also have 3 degrees",
    "start": "4242930",
    "end": "4248490"
  },
  {
    "text": "of freedom in terms of\nunknowns because I've",
    "start": "4248490",
    "end": "4255470"
  },
  {
    "text": "got the unit vector-- that's 2. And I want to\nrecover the albedo.",
    "start": "4255470",
    "end": "4261590"
  },
  {
    "text": "That makes it 3. Well, that means I can't\ndo it with two equations.",
    "start": "4261590",
    "end": "4268850"
  },
  {
    "text": "So let me add a third one. ",
    "start": "4268850",
    "end": "4277760"
  },
  {
    "text": "OK, so that seems to be a match. I have three degrees,\nthree unknowns.",
    "start": "4277760",
    "end": "4283550"
  },
  {
    "text": "And I have three measurements. And now I'm going to define\nn to be this quantity.",
    "start": "4283550",
    "end": "4293490"
  },
  {
    "text": "So I'm going to define\nthe three vector where all three components\nare actually independent to the variable.",
    "start": "4293490",
    "end": "4299510"
  },
  {
    "text": "And that vector will\nencapsulate the things that I want to know--",
    "start": "4299510",
    "end": "4305450"
  },
  {
    "text": "rho and unit vector n. And, obviously, I can\nrecover very easily--",
    "start": "4305450",
    "end": "4311250"
  },
  {
    "text": "if I can find this\nn, I can easily find rho because it's\njust a magnitude of n.",
    "start": "4311250",
    "end": "4317540"
  },
  {
    "text": "And I can easily find the\nunit vector by just dividing. ",
    "start": "4317540",
    "end": "4324790"
  },
  {
    "text": "And the reason I do\nit is because this is going to be more convenient. So then I have transpose.",
    "start": "4324790",
    "end": "4333770"
  },
  {
    "start": "4333770",
    "end": "4343050"
  },
  {
    "text": "Very similar to what we had\nearlier today, except this time it's going to work. ",
    "start": "4343050",
    "end": "4352210"
  },
  {
    "text": "So what's going on here? Well, the first result of\nmultiplying this matrix",
    "start": "4352210",
    "end": "4359220"
  },
  {
    "text": "by this vector is the product of\nthe first row with this column vector.",
    "start": "4359220",
    "end": "4365080"
  },
  {
    "text": "And so that's this. That's E1 and so on. So this is just a compact way of\nwriting those three equations.",
    "start": "4365080",
    "end": "4373410"
  },
  {
    "text": "And I can then write-- ",
    "start": "4373410",
    "end": "4387243"
  },
  {
    "text": "I can write the\nsolution that way. And I'm done. And from that end, I can then\nrecover rho and the unit vector",
    "start": "4387243",
    "end": "4394240"
  },
  {
    "text": "surface [INAUDIBLE]. So a number of things\nto discuss about that.",
    "start": "4394240",
    "end": "4399970"
  },
  {
    "text": "One of them is that this is\nassuming that as is invertible.",
    "start": "4399970",
    "end": "4406120"
  },
  {
    "start": "4406120",
    "end": "4411530"
  },
  {
    "text": "I can easily construct cases\nwhere that's not the case. For example, if s3 is actually\njust the same as s2, then",
    "start": "4411530",
    "end": "4419450"
  },
  {
    "text": "the determinant of this matrix-- two of the rows of the\nmatrix are the same. The determinant would be 0.",
    "start": "4419450",
    "end": "4425960"
  },
  {
    "text": "I can't invert it. And it makes sense. I'm not getting new information. If s3 is the-- if my\nthird light source",
    "start": "4425960",
    "end": "4432855"
  },
  {
    "text": "position is the same as the\nsecond light source position, I measure the same brightness. So it's intuitively clear\nthat that's not going to work.",
    "start": "4432855",
    "end": "4442080"
  },
  {
    "text": "And then you can\nthink of other things. Suppose that s3 is half\nof s1 plus half of s2.",
    "start": "4442080",
    "end": "4448460"
  },
  {
    "text": "That's a little different\nbecause it's saying, OK, there's one light source here. There's one light source here. And now I'm going\nto put one right",
    "start": "4448460",
    "end": "4454617"
  },
  {
    "text": "in the middle between them. That gives me a third\nmeasurement in the image.",
    "start": "4454617",
    "end": "4460400"
  },
  {
    "text": "Well, it turns out that you can\npredict it from the other two because if E3 is n dot s3 and\ns3 is 1/2 s1 plus 1/2 of s2,",
    "start": "4460400",
    "end": "4473960"
  },
  {
    "text": "you can calculate what this is. And so they can't be coplanas. So the light sources have to be\nspread out in your firmament.",
    "start": "4473960",
    "end": "4482330"
  },
  {
    "text": "You can't put them in a plane. And this has\nimportant implications",
    "start": "4482330",
    "end": "4489099"
  },
  {
    "text": "for astronomers\nbecause the orbits of the planets and our moon are\npretty much in the same plane.",
    "start": "4489100",
    "end": "4498619"
  },
  {
    "text": "And therefore, as the sun\norbits around the Earth,",
    "start": "4498620",
    "end": "4504710"
  },
  {
    "text": "you don't get\ndifferent pictures. ",
    "start": "4504710",
    "end": "4512670"
  },
  {
    "text": "So that's one thing. This isn't going\nto work unless we pick three independent\nlight source directions.",
    "start": "4512670",
    "end": "4519880"
  },
  {
    "text": "Another thing is that\nwe can pre-compute this. If we know where the\nlight sources are-- say",
    "start": "4519880",
    "end": "4525300"
  },
  {
    "text": "you're doing some\nindustrial inspection, you control with the\nlight sources are. You just compute s, take the\ninverse, and you store it.",
    "start": "4525300",
    "end": "4534809"
  },
  {
    "text": "And then at every pixel,\nyou have three frames, taken three exposures.",
    "start": "4534810",
    "end": "4541170"
  },
  {
    "text": "And at every pixel, you\nsimply form this vector and multiply the\npre-computed s minus 1.",
    "start": "4541170",
    "end": "4547320"
  },
  {
    "text": "And there's your answer. I means, it's incredibly simple\nand very little computation,",
    "start": "4547320",
    "end": "4557430"
  },
  {
    "text": "very efficient. Then another thing is that\nit's sort of fortuitous",
    "start": "4557430",
    "end": "4563760"
  },
  {
    "text": "that we need three to do this. We need three light\nsources to do this. And one reason\nthat's interesting",
    "start": "4563760",
    "end": "4570960"
  },
  {
    "text": "is because cameras\ntypically have",
    "start": "4570960",
    "end": "4576239"
  },
  {
    "text": "three sets of sensors, RGB. And so we might be\nable to exploit that.",
    "start": "4576240",
    "end": "4583200"
  },
  {
    "text": "So one thing we\ncould do is instead of having three light sources\nthat come on sequentially, we",
    "start": "4583200",
    "end": "4590580"
  },
  {
    "text": "could use three\ncolored light sources and then separate\nout from R, G, and B.",
    "start": "4590580",
    "end": "4598373"
  },
  {
    "text": "And there's a\nlittle bit more work to do because a\nparticular color light source is going to\nnot just excite R",
    "start": "4598373",
    "end": "4604199"
  },
  {
    "text": "or G or B but some\nlinear combination. But the important thing\nis we'll have three different linear combinations.",
    "start": "4604200",
    "end": "4610350"
  },
  {
    "text": "And then we can use our\nmagic matrix algebra to deal with that.",
    "start": "4610350",
    "end": "4615640"
  },
  {
    "text": "So that's a possibility. And that is in a\nway more convenient. And it's faster\nbecause we don't need",
    "start": "4615640",
    "end": "4621420"
  },
  {
    "text": "to turn light\nsources on and off, although turning LEDs on\nand off is pretty fast.",
    "start": "4621420",
    "end": "4627090"
  },
  {
    "text": "But we can just illuminate\nthem with colored lights. The only problem with that\nis if the object is colored",
    "start": "4627090",
    "end": "4633630"
  },
  {
    "text": "because then the objects-- unless it's uniformly colored,\nif different parts of it",
    "start": "4633630",
    "end": "4639090"
  },
  {
    "text": "have different colors, that's\ngoing to confuse this algorithm and make it believe that\nthe surface orientation is",
    "start": "4639090",
    "end": "4644969"
  },
  {
    "text": "something that it's not. ",
    "start": "4644970",
    "end": "4653050"
  },
  {
    "text": "So that's one quick\nlook at what we're",
    "start": "4653050",
    "end": "4659110"
  },
  {
    "text": "going to do in terms of\nmeasuring brightness. This is a particularly\nsimple case.",
    "start": "4659110",
    "end": "4664930"
  },
  {
    "text": "And it's a case\nthat's, in a way, contrived because we're\nsaying that we controlling",
    "start": "4664930",
    "end": "4670420"
  },
  {
    "text": "the light sources, which has\napplication to industrial use. In fact, if you look at some\nrecent patents from Cognex,",
    "start": "4670420",
    "end": "4677500"
  },
  {
    "text": "they've decided to use\nsomething like this.",
    "start": "4677500",
    "end": "4682660"
  },
  {
    "text": "But it doesn't really mesh with\nunderstanding biological vision systems, except in the\nvery, very deep ocean where",
    "start": "4682660",
    "end": "4692000"
  },
  {
    "text": "anglerfish have light sources\nthat they dangle in front of them to attract prey.",
    "start": "4692000",
    "end": "4698679"
  },
  {
    "text": "We don't typically find animals\nilluminating the environment with different colored\nlight sources in order",
    "start": "4698680",
    "end": "4704500"
  },
  {
    "text": "to figure out the shapes\nof their prey or something like that. But from the point of view\nof recovering information",
    "start": "4704500",
    "end": "4712840"
  },
  {
    "text": "from monocular images in\nan industrial setting, this is an interesting approach.",
    "start": "4712840",
    "end": "4719620"
  },
  {
    "text": "Now, do real surfaces\nfollow this simple rule,",
    "start": "4719620",
    "end": "4726400"
  },
  {
    "text": "cosine theta i? No. So you can't use this directly.",
    "start": "4726400",
    "end": "4732520"
  },
  {
    "text": "But you can build\na look-up table. So, in fact, you don't even\nhave to model mathematically",
    "start": "4732520",
    "end": "4737949"
  },
  {
    "text": "how the surface reflects light. You just calibrate it using\na shape that you know. So for every-- suppose\nyou take a sphere.",
    "start": "4737950",
    "end": "4747250"
  },
  {
    "text": "For every point on the\nimage of the sphere, you can calculate what\nthe surface orientation",
    "start": "4747250",
    "end": "4752440"
  },
  {
    "text": "is, what n is there. And then you measure\nbrightness in three images.",
    "start": "4752440",
    "end": "4757540"
  },
  {
    "text": "And you can build a table. Of course, the table\nis going the wrong way. The table is going from surface\norientation to E1, E2, and E3.",
    "start": "4757540",
    "end": "4767230"
  },
  {
    "text": "What you really\nwant is the inverse. Measuring E1, E2,\nE3, you want to know what the orientation is.",
    "start": "4767230",
    "end": "4773260"
  },
  {
    "text": "But that's just numerical\ninversion of a table. So that's something we can do.",
    "start": "4773260",
    "end": "4781510"
  },
  {
    "text": "But we'll go in\ndifferent directions next time, starting off\nwith different projection.",
    "start": "4781510",
    "end": "4788290"
  },
  {
    "text": "So we know that real cameras\nperform perspective projection. And we spent a lot of\ntime dealing with that.",
    "start": "4788290",
    "end": "4795219"
  },
  {
    "text": "But in some cases,\nwe can approximate it by a projection that's\nmuch easier to handle.",
    "start": "4795220",
    "end": "4800440"
  },
  {
    "text": "Call that orthographic\nprojection. And the condition for that\nis that the range in depth",
    "start": "4800440",
    "end": "4807670"
  },
  {
    "text": "is very small compared\nto the depth itself. And in that case,\nyou can kind of assume that the\ndepth is constant.",
    "start": "4807670",
    "end": "4814480"
  },
  {
    "text": "And if z is constant,\nthen f/z is constant. And there's a constant\nmagnification.",
    "start": "4814480",
    "end": "4820870"
  },
  {
    "text": "And in that case, we\ncan use a simplification called orthographic\nprojection, which",
    "start": "4820870",
    "end": "4827500"
  },
  {
    "text": "will exploit in our efforts\nto reconstruct surfaces",
    "start": "4827500",
    "end": "4832570"
  },
  {
    "text": "from images. Any questions? ",
    "start": "4832570",
    "end": "4841180"
  },
  {
    "text": "OK. ",
    "start": "4841180",
    "end": "4846000"
  }
]