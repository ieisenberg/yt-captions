[
  {
    "start": "0",
    "end": "790"
  },
  {
    "text": "In this segment, we develop\nthe inclusion-exclusion",
    "start": "790",
    "end": "3450"
  },
  {
    "text": "formula, which is a beautiful\ngeneralization of a formula",
    "start": "3450",
    "end": "7220"
  },
  {
    "text": "that we have seen before.",
    "start": "7220",
    "end": "9389"
  },
  {
    "text": "Let us look at this\nformula and remind",
    "start": "9390",
    "end": "11500"
  },
  {
    "text": "ourselves what it says.",
    "start": "11500",
    "end": "13520"
  },
  {
    "text": "If we have two sets, A1 and A2,\nand we're interested in",
    "start": "13520",
    "end": "19110"
  },
  {
    "text": "the probability of their union,\nhow can we find it?",
    "start": "19110",
    "end": "22080"
  },
  {
    "text": "We take the probability of the\nfirst set, we add to it the",
    "start": "22080",
    "end": "25960"
  },
  {
    "text": "probability of the second set,\nbut then we realize that by",
    "start": "25960",
    "end": "29810"
  },
  {
    "text": "doing so we have double counted",
    "start": "29810",
    "end": "32710"
  },
  {
    "text": "this part of the diagram.",
    "start": "32710",
    "end": "34770"
  },
  {
    "text": "And so we need to correct for\nthat and we need to subtract",
    "start": "34770",
    "end": "38740"
  },
  {
    "text": "the probability of this\nintersection.",
    "start": "38740",
    "end": "41040"
  },
  {
    "text": "And that's how this formula\ncomes about.",
    "start": "41040",
    "end": "43830"
  },
  {
    "text": "Can we generalize this thinking,\nlet's say, to the",
    "start": "43830",
    "end": "46350"
  },
  {
    "text": "case of three events?",
    "start": "46350",
    "end": "49239"
  },
  {
    "text": "Suppose that we have three\nevents, A1, A2, and A3.",
    "start": "49240",
    "end": "61240"
  },
  {
    "text": "And we want to calculate the\nprobability of their union.",
    "start": "61240",
    "end": "65470"
  },
  {
    "text": "We first start by adding\nthe probabilities of",
    "start": "65470",
    "end": "68920"
  },
  {
    "text": "the different sets.",
    "start": "68920",
    "end": "70659"
  },
  {
    "text": "But then we realize that, for\nexample, this part of the",
    "start": "70660",
    "end": "74260"
  },
  {
    "text": "diagram has been\ncounted twice.",
    "start": "74260",
    "end": "77410"
  },
  {
    "text": "It shows up once inside the\nprobability of A1 and once",
    "start": "77410",
    "end": "81090"
  },
  {
    "text": "inside the probability of A2.",
    "start": "81090",
    "end": "84179"
  },
  {
    "text": "So, for this reason, we need\nto make a correction and we",
    "start": "84180",
    "end": "87740"
  },
  {
    "text": "need to subtract the\nprobability of this",
    "start": "87740",
    "end": "89930"
  },
  {
    "text": "intersection.",
    "start": "89930",
    "end": "90670"
  },
  {
    "text": "Similarly, subtract the\nprobability of that",
    "start": "90670",
    "end": "92630"
  },
  {
    "text": "intersection and of this one.",
    "start": "92630",
    "end": "94939"
  },
  {
    "text": "So we subtract the probabilities\nof these",
    "start": "94940",
    "end": "97630"
  },
  {
    "text": "intersections.",
    "start": "97630",
    "end": "98799"
  },
  {
    "text": "But, actually, the intersections\nare not just",
    "start": "98800",
    "end": "101120"
  },
  {
    "text": "what I drew here.",
    "start": "101120",
    "end": "102340"
  },
  {
    "text": "The intersections also\ninvolve this part.",
    "start": "102340",
    "end": "105780"
  },
  {
    "text": "So now, let us just focus on\nthis part of the diagram here.",
    "start": "105780",
    "end": "110940"
  },
  {
    "text": "A typical element that belongs\nto all three of the sets will",
    "start": "110940",
    "end": "117570"
  },
  {
    "text": "show up once here, once\nhere and once there.",
    "start": "117570",
    "end": "122520"
  },
  {
    "text": "But it will also show up in all\nof these intersections.",
    "start": "122520",
    "end": "127350"
  },
  {
    "text": "And so it shows up three times\nwith a plus sign, three times",
    "start": "127350",
    "end": "130610"
  },
  {
    "text": "with a minus sign, which means\nthat these elements will not",
    "start": "130610",
    "end": "133390"
  },
  {
    "text": "to be counted at all.",
    "start": "133390",
    "end": "134990"
  },
  {
    "text": "In order to count them, we\nneed to add one more term",
    "start": "134990",
    "end": "139280"
  },
  {
    "text": "which is the probability of the\nthree way intersection.",
    "start": "139280",
    "end": "143640"
  },
  {
    "text": "So this is the formula for the\nprobability of the union of",
    "start": "143640",
    "end": "147760"
  },
  {
    "text": "three events.",
    "start": "147760",
    "end": "150549"
  },
  {
    "text": "It has a rationale similar to\nthis formula, and you can",
    "start": "150550",
    "end": "154329"
  },
  {
    "text": "convince yourself that it is\na correct formula by just",
    "start": "154329",
    "end": "157829"
  },
  {
    "text": "looking at the different pieces\nof this diagram and",
    "start": "157829",
    "end": "160489"
  },
  {
    "text": "make sure that each one of them\nis accounted properly.",
    "start": "160490",
    "end": "164410"
  },
  {
    "text": "But instead of working in terms\nof such a picture, let",
    "start": "164410",
    "end": "168055"
  },
  {
    "text": "us think about a more\nformal derivation.",
    "start": "168055",
    "end": "171049"
  },
  {
    "text": "And the formal derivation will\nuse a beautiful trick.",
    "start": "171050",
    "end": "174550"
  },
  {
    "text": "Namely, indicator functions.",
    "start": "174550",
    "end": "178950"
  },
  {
    "text": "So here is the formula that\nwe want to establish.",
    "start": "178950",
    "end": "182800"
  },
  {
    "text": "And let us remind ourselves what\nindicator functions are.",
    "start": "182800",
    "end": "188190"
  },
  {
    "text": "To any set or event,\nwe can associate",
    "start": "188190",
    "end": "191680"
  },
  {
    "text": "an indicator function.",
    "start": "191680",
    "end": "193640"
  },
  {
    "text": "Let's say that this\nis the set Ai.",
    "start": "193640",
    "end": "196440"
  },
  {
    "text": "We're going to associate an\nindicator function, call it",
    "start": "196440",
    "end": "200900"
  },
  {
    "text": "Xi, which is equal to 1 when\nthe outcome is inside this",
    "start": "200900",
    "end": "205069"
  },
  {
    "text": "set, and it's going to be 0 when\nthe outcome is outside.",
    "start": "205070",
    "end": "209250"
  },
  {
    "text": "What is the indicator function\nof the complement?",
    "start": "209250",
    "end": "212829"
  },
  {
    "text": "The indicator function of the\ncomplement is 1 minus the",
    "start": "212829",
    "end": "217190"
  },
  {
    "text": "indicator of the event.",
    "start": "217190",
    "end": "219600"
  },
  {
    "text": "Why is this?",
    "start": "219600",
    "end": "221300"
  },
  {
    "text": "If the outcome is in the\ncomplement, then Xi is equal",
    "start": "221300",
    "end": "227180"
  },
  {
    "text": "to 0, and this expression\nis equal to 1.",
    "start": "227180",
    "end": "230599"
  },
  {
    "text": "On the other hand, if the\noutcome is inside Ai, then the",
    "start": "230600",
    "end": "235110"
  },
  {
    "text": "indicator function will be equal\nto 1 and this quantity",
    "start": "235110",
    "end": "238610"
  },
  {
    "text": "is going to be equal to 0.",
    "start": "238610",
    "end": "241520"
  },
  {
    "text": "If we have the intersection of\ntwo events, Ai and Aj, what is",
    "start": "241520",
    "end": "247520"
  },
  {
    "text": "their indicator function?",
    "start": "247520",
    "end": "249360"
  },
  {
    "text": "It is Xi times Xj.",
    "start": "249360",
    "end": "252930"
  },
  {
    "text": "This expression is equal to 1,\nif and only if, Xi is equal to",
    "start": "252930",
    "end": "257148"
  },
  {
    "text": "1 and Xj is equal to 1, which\nhappens, if and only if, the",
    "start": "257149",
    "end": "261889"
  },
  {
    "text": "outcome is inside Ai\nand also inside Aj.",
    "start": "261890",
    "end": "267000"
  },
  {
    "text": "Now, what about the indicator\nof the intersection of the",
    "start": "267000",
    "end": "271710"
  },
  {
    "text": "complements?",
    "start": "271710",
    "end": "272960"
  },
  {
    "start": "272960",
    "end": "275409"
  },
  {
    "text": "Well, it's an intersection.",
    "start": "275409",
    "end": "276940"
  },
  {
    "text": "So the associated indicator\nfunction is going to be the",
    "start": "276940",
    "end": "280150"
  },
  {
    "text": "product of the indicator\nfunction of the first set,",
    "start": "280150",
    "end": "283639"
  },
  {
    "text": "which is 1 minus Xi times the\nindicator function of the",
    "start": "283640",
    "end": "288560"
  },
  {
    "text": "second set, which\nis 1 minus Xj.",
    "start": "288560",
    "end": "292840"
  },
  {
    "text": "And finally, what\nis the indicator",
    "start": "292840",
    "end": "295930"
  },
  {
    "text": "function of this event?",
    "start": "295930",
    "end": "297895"
  },
  {
    "start": "297895",
    "end": "300840"
  },
  {
    "text": "Here we remember De\nMorgan's Laws.",
    "start": "300840",
    "end": "304380"
  },
  {
    "text": "De Morgan's Laws tell us that\nthe complement of this set--",
    "start": "304380",
    "end": "309770"
  },
  {
    "text": "the complement of a union--",
    "start": "309770",
    "end": "311470"
  },
  {
    "text": "is the intersection of\nthe complements.",
    "start": "311470",
    "end": "313880"
  },
  {
    "text": "So this event here is the\ncomplement of that event.",
    "start": "313880",
    "end": "318140"
  },
  {
    "text": "And, therefore, the associated\nindicator function is going to",
    "start": "318140",
    "end": "321850"
  },
  {
    "text": "be 1 minus this expression.",
    "start": "321850",
    "end": "324435"
  },
  {
    "start": "324435",
    "end": "331440"
  },
  {
    "text": "And if we were dealing with\nmore than two sets--",
    "start": "331440",
    "end": "335030"
  },
  {
    "text": "and here we had, for example,\nthree way intersections--",
    "start": "335030",
    "end": "338600"
  },
  {
    "text": "you would get the product\nof three terms.",
    "start": "338600",
    "end": "341430"
  },
  {
    "text": "And if we had a three way union,\nwe would get a similar",
    "start": "341430",
    "end": "344770"
  },
  {
    "text": "expression, except that here\nwe would have, again, a",
    "start": "344770",
    "end": "347460"
  },
  {
    "text": "product of three terms\ninstead of two.",
    "start": "347460",
    "end": "351250"
  },
  {
    "text": "So now, let us put to use what\nwe have done so far.",
    "start": "351250",
    "end": "357159"
  },
  {
    "text": "We are interested in the\nprobability that the outcome",
    "start": "357159",
    "end": "362030"
  },
  {
    "text": "falls in the union\nof three sets.",
    "start": "362030",
    "end": "366550"
  },
  {
    "text": "Now, an important fact to\nremember is that the",
    "start": "366550",
    "end": "369759"
  },
  {
    "text": "probability of an event is the\nsame as the expected value of",
    "start": "369760",
    "end": "375300"
  },
  {
    "text": "the indicator of that event.",
    "start": "375300",
    "end": "377659"
  },
  {
    "start": "377660",
    "end": "382810"
  },
  {
    "text": "This is because the indicator is\nequal to 1, if and only if,",
    "start": "382810",
    "end": "388090"
  },
  {
    "text": "the outcome happens to\nbe inside that set.",
    "start": "388090",
    "end": "392400"
  },
  {
    "text": "And so the contribution that we\nget to the expectation is 1",
    "start": "392400",
    "end": "396820"
  },
  {
    "text": "times the probability that the\nindicator is 1, which is just",
    "start": "396820",
    "end": "400810"
  },
  {
    "text": "this probability.",
    "start": "400810",
    "end": "403070"
  },
  {
    "text": "Now, the indicator of a three\nway union is going to be, by",
    "start": "403070",
    "end": "411600"
  },
  {
    "text": "what we just discussed, 1 minus\na product of this kind,",
    "start": "411600",
    "end": "416620"
  },
  {
    "text": "but now with three terms.",
    "start": "416620",
    "end": "418125"
  },
  {
    "start": "418125",
    "end": "425660"
  },
  {
    "text": "Let us now calculate this\nexpectation by expanding the",
    "start": "425660",
    "end": "430320"
  },
  {
    "text": "product involved.",
    "start": "430320",
    "end": "432020"
  },
  {
    "text": "We have this first term, then,\nwhen we multiply those three",
    "start": "432020",
    "end": "436479"
  },
  {
    "text": "terms together, we're going to\nget a bunch of contributions.",
    "start": "436480",
    "end": "439960"
  },
  {
    "text": "One contribution with a minus\nsign is 1 times 1 times 1.",
    "start": "439960",
    "end": "445169"
  },
  {
    "text": "Another contribution would\nbe minus minus--",
    "start": "445170",
    "end": "447970"
  },
  {
    "text": "that's a plus--",
    "start": "447970",
    "end": "448580"
  },
  {
    "text": "X1 times 1 times 1.",
    "start": "448580",
    "end": "452419"
  },
  {
    "text": "And similarly, we get a\ncontribution of X2 and X3.",
    "start": "452420",
    "end": "457360"
  },
  {
    "text": "And then we have a contribution\nsuch as X1 times",
    "start": "457360",
    "end": "461050"
  },
  {
    "text": "X2 times 1.",
    "start": "461050",
    "end": "463310"
  },
  {
    "text": "And if you look at\nthe minus signs--",
    "start": "463310",
    "end": "465630"
  },
  {
    "text": "there are three minuses\ninvolved-- so, overall, it's",
    "start": "465630",
    "end": "468250"
  },
  {
    "text": "going to be a minus.",
    "start": "468250",
    "end": "469750"
  },
  {
    "text": "Minus X1 times X2.",
    "start": "469750",
    "end": "472510"
  },
  {
    "text": "And then there is going to\nbe similar terms, such as",
    "start": "472510",
    "end": "475350"
  },
  {
    "text": "X1 X3 and X2 X3.",
    "start": "475350",
    "end": "481010"
  },
  {
    "text": "And, finally, there's going\nto be a term X1",
    "start": "481010",
    "end": "483680"
  },
  {
    "text": "times X2 times X3.",
    "start": "483680",
    "end": "486100"
  },
  {
    "text": "There's a total of four minus\nsigns involved, so everything",
    "start": "486100",
    "end": "489770"
  },
  {
    "text": "shows up in the end\nwith a plus sign.",
    "start": "489770",
    "end": "492229"
  },
  {
    "start": "492230",
    "end": "497410"
  },
  {
    "text": "So the probability of this\nevent is equal to the",
    "start": "497410",
    "end": "500280"
  },
  {
    "text": "expectation of this random\nvariable here.",
    "start": "500280",
    "end": "503530"
  },
  {
    "text": "We notice that the\nones cancel out.",
    "start": "503530",
    "end": "506270"
  },
  {
    "text": "The expected value of X1 for an\nindicator variable is just",
    "start": "506270",
    "end": "511310"
  },
  {
    "text": "the probability of that event.",
    "start": "511310",
    "end": "512799"
  },
  {
    "text": "And we get this term.",
    "start": "512799",
    "end": "513820"
  },
  {
    "text": "The expected value of X2 and\nX3 give us these terms.",
    "start": "513820",
    "end": "519120"
  },
  {
    "text": "The expected value\nof X1 times X2.",
    "start": "519120",
    "end": "522159"
  },
  {
    "text": "This is the indicator random\nvariable of the intersection.",
    "start": "522159",
    "end": "526110"
  },
  {
    "text": "So the expected value of this\nterm is just the probability",
    "start": "526110",
    "end": "530380"
  },
  {
    "text": "of the intersection\nof A1 and A2.",
    "start": "530380",
    "end": "533740"
  },
  {
    "text": "And, similarly, these terms here\ngive rise to those two",
    "start": "533740",
    "end": "538800"
  },
  {
    "text": "terms here.",
    "start": "538800",
    "end": "540360"
  },
  {
    "text": "Finally, X1 times X2 times X3 is\nthe indicator variable for",
    "start": "540360",
    "end": "546610"
  },
  {
    "text": "the event A1 intersection\nA2 intersection A3.",
    "start": "546610",
    "end": "550290"
  },
  {
    "text": "Therefore, the expected value of\nthis term, is equal to this",
    "start": "550290",
    "end": "554220"
  },
  {
    "text": "probability.",
    "start": "554220",
    "end": "555600"
  },
  {
    "text": "And, therefore, we have\nestablished exactly the",
    "start": "555600",
    "end": "559290"
  },
  {
    "text": "formula that we wanted\nto establish.",
    "start": "559290",
    "end": "562940"
  },
  {
    "text": "Now this derivation that we\ncarried out here, there's",
    "start": "562940",
    "end": "566310"
  },
  {
    "text": "nothing special about\nthe case of three.",
    "start": "566310",
    "end": "569070"
  },
  {
    "text": "We could have the union of many\nmore events, we would",
    "start": "569070",
    "end": "572770"
  },
  {
    "text": "just have here the product of\nmore terms, and we would need",
    "start": "572770",
    "end": "576750"
  },
  {
    "text": "to carry out the multiplication\nand we would",
    "start": "576750",
    "end": "580010"
  },
  {
    "text": "get cross terms of all types\ninvolving just one of the",
    "start": "580010",
    "end": "585770"
  },
  {
    "text": "indicator variables, or products\nof two indicator",
    "start": "585770",
    "end": "588400"
  },
  {
    "text": "variables, or products\nof three indicator",
    "start": "588400",
    "end": "590680"
  },
  {
    "text": "variables, and so on.",
    "start": "590680",
    "end": "593020"
  },
  {
    "text": "And after you carry out this\nexercise and keep track of the",
    "start": "593020",
    "end": "596790"
  },
  {
    "text": "various terms, you end up with\nthis general version of what",
    "start": "596790",
    "end": "601870"
  },
  {
    "text": "is called the\ninclusion-exclusion formula.",
    "start": "601870",
    "end": "604529"
  },
  {
    "text": "So the probability\nof a union is--",
    "start": "604530",
    "end": "607390"
  },
  {
    "text": "there's the sum of the\nprobabilities, but then you",
    "start": "607390",
    "end": "610000"
  },
  {
    "text": "subtract all possible\nprobabilities of two way",
    "start": "610000",
    "end": "614600"
  },
  {
    "text": "intersections.",
    "start": "614600",
    "end": "616060"
  },
  {
    "text": "Then we add probabilities of\nthree way intersections, then",
    "start": "616060",
    "end": "620510"
  },
  {
    "text": "you subtract probabilities of\nfour way intersections, and",
    "start": "620510",
    "end": "623560"
  },
  {
    "text": "you keep going this way\nalternating sings until you",
    "start": "623560",
    "end": "628330"
  },
  {
    "text": "get to the last term, which\nis the probability of the",
    "start": "628330",
    "end": "632300"
  },
  {
    "text": "intersection of all the\nevents involved.",
    "start": "632300",
    "end": "636570"
  },
  {
    "text": "And this exponent here of n\nminus 1 is the exponent that",
    "start": "636570",
    "end": "639810"
  },
  {
    "text": "you need so that the last term\nhas the correct sign.",
    "start": "639810",
    "end": "644370"
  },
  {
    "text": "So, for example, if n is equal\nto 3, the exponent would be 2,",
    "start": "644370",
    "end": "650210"
  },
  {
    "text": "so this would be a plus sign,\nwhich is consistent with what",
    "start": "650210",
    "end": "654130"
  },
  {
    "text": "we got here.",
    "start": "654130",
    "end": "656640"
  },
  {
    "text": "So this is a formula that is\nquite useful when you want to",
    "start": "656640",
    "end": "660140"
  },
  {
    "text": "calculate probabilities\nof unions of events.",
    "start": "660140",
    "end": "663730"
  },
  {
    "text": "But also, this derivation using\nindicator functions, is",
    "start": "663730",
    "end": "668639"
  },
  {
    "text": "quite beautiful.",
    "start": "668640",
    "end": "669890"
  },
  {
    "start": "669890",
    "end": "672332"
  }
]