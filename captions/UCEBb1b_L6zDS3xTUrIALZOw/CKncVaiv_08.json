[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "9290"
  },
  {
    "text": "PROFESSOR: So what\nI'd like to do today is talk about an\nentirely different class",
    "start": "9290",
    "end": "15620"
  },
  {
    "text": "of switching power converter\nthan we've talked about before. And we are going to--",
    "start": "15620",
    "end": "22010"
  },
  {
    "text": " we are going to look at-- for\nthis class and next class,",
    "start": "22010",
    "end": "30180"
  },
  {
    "text": "we're going to talk about\nswitched capacitor converters. ",
    "start": "30180",
    "end": "42620"
  },
  {
    "text": "And that's Principles of\nPower Electronics chapter six.",
    "start": "42620",
    "end": "47754"
  },
  {
    "start": "47755",
    "end": "53720"
  },
  {
    "text": "Most converters introduce\nmagnetics in them. They have some magnetic\ncomponent in them.",
    "start": "53720",
    "end": "60078"
  },
  {
    "text": "Why do you want it? Why do you want, say, an\ninductor or an inductive energy storage element\nin your converter?",
    "start": "60078",
    "end": "65370"
  },
  {
    "text": "That's because if I put a\nvoltage difference across it, from, say, an input voltage\nor an output voltage or two",
    "start": "65370",
    "end": "71340"
  },
  {
    "text": "voltages, the inductor\ncan instantaneously take that energy difference,\nabsorb the voltage difference,",
    "start": "71340",
    "end": "78540"
  },
  {
    "text": "absorb energy, then\nwe can recover later. And that's the\nprinciple we operate on. And that's why almost\nall of these converters",
    "start": "78540",
    "end": "84990"
  },
  {
    "text": "use magnetics or something that\nacts like a magnetic component.",
    "start": "84990",
    "end": "90659"
  },
  {
    "text": "On the other hand,\nsometimes, you can get away without\nany magnetic components,",
    "start": "90660",
    "end": "97360"
  },
  {
    "text": "without any inductors\nin your circuit. And why might you\nwant to do that? Well, because if\nyou look at things",
    "start": "97360",
    "end": "103600"
  },
  {
    "text": "that are on the scale of\nmy thumb or something, some small element,\nthe energy density",
    "start": "103600",
    "end": "110830"
  },
  {
    "text": "you can achieve with a\ncapacitor is orders of magnitude higher than the\nenergy density you",
    "start": "110830",
    "end": "116500"
  },
  {
    "text": "can achieve with a\nmagnetic component at similar efficiencies\nand energy storage levels.",
    "start": "116500",
    "end": "122560"
  },
  {
    "text": "So capacitors are just\nextremely highly energy dense. So if I happen to have an\napplication where I can get away",
    "start": "122560",
    "end": "130599"
  },
  {
    "text": "with only capacitive\nenergy storage, you can build a much smaller,\nmore efficient converter.",
    "start": "130600",
    "end": "136980"
  },
  {
    "text": "But that application\nspace is limited. And we're going to get into why.",
    "start": "136980",
    "end": "142460"
  },
  {
    "text": "So switch capacitor\nconverters are essentially-- to come back to their\ndefinition-- are essentially",
    "start": "142460",
    "end": "148000"
  },
  {
    "text": "converters where I process all\nmy energy using capacitors. And so I have\ncapacitors and switches",
    "start": "148000",
    "end": "153730"
  },
  {
    "text": "to do the energy throughput. I've brought a couple\nof examples with these. These are both kind\nof prototype designs.",
    "start": "153730",
    "end": "161460"
  },
  {
    "text": "This one is a very small\npower, low power one. You'll see much of\nit on the front,",
    "start": "161460",
    "end": "167780"
  },
  {
    "text": "and it has some energy storage\ncapacitors on the back. This is another overall\ncircuit, and this part over here",
    "start": "167780",
    "end": "174739"
  },
  {
    "text": "is a switch capacitor\nconverter of a certain type. So just to illustrate\nwhat we're talking about,",
    "start": "174740",
    "end": "181340"
  },
  {
    "text": "you can take a look at these. And so in order to illustrate\ntheir strengths and weaknesses,",
    "start": "181340",
    "end": "191690"
  },
  {
    "text": "let's look at the\nsimplest switch capacitor converter I can think of.",
    "start": "191690",
    "end": "196860"
  },
  {
    "text": "And this is sometimes known as\na 2-to-1 step-down converter, although we'll come back\nto why people call it that,",
    "start": "196860",
    "end": "205129"
  },
  {
    "text": "but what its tradeoffs are. So here's the idea. Suppose I had some\ninput voltage from which",
    "start": "205130",
    "end": "217010"
  },
  {
    "text": "I'm going to draw power, and I'm\ngoing to have a capacitor here. And this capacitor is my\nenergy transfer capacitor.",
    "start": "217010",
    "end": "226770"
  },
  {
    "text": "So here c, ic, and vc. So, in this example\nI'm going to do,",
    "start": "226770",
    "end": "232340"
  },
  {
    "text": "this element is\nwhere I'm storing the energy in the\nintermediate form",
    "start": "232340",
    "end": "238850"
  },
  {
    "text": "to do this energy processing. So I'll have switches. ",
    "start": "238850",
    "end": "246770"
  },
  {
    "text": "And then I will have\ndelivered to some output. And I'm going to call\nthis c big-- this is like my filter capacitor.",
    "start": "246770",
    "end": "254090"
  },
  {
    "text": "And then, here, I have\nsome output current. This is the load current.",
    "start": "254090",
    "end": "261410"
  },
  {
    "text": "And this is v out.",
    "start": "261410",
    "end": "266810"
  },
  {
    "text": "So I'm going to have these two\ncapacitors, these two switches,",
    "start": "266810",
    "end": "273620"
  },
  {
    "text": "and these are\nphase one switches. Then I'm going to put\ntwo more switches in.",
    "start": "273620",
    "end": "279870"
  },
  {
    "text": "I'm going to call these\nphase two switches. So here's one,\none, and two, two.",
    "start": "279870",
    "end": "287660"
  },
  {
    "text": "And the idea here\nis that we're going to alternately take the\nswitches that are labeled 1",
    "start": "287660",
    "end": "296240"
  },
  {
    "text": "and close them together. And then, at some other\npoint in the cycle, we're going to\nopen those switches",
    "start": "296240",
    "end": "301347"
  },
  {
    "text": "and close the switches that\nare labeled 2 together. And what you're\ngoing to see-- one of the characteristics of\nswitched capacitor converters,",
    "start": "301347",
    "end": "306920"
  },
  {
    "text": "they tend to have\na lot of switches. And, in fact, if you want\nhigh conversion ratios, they have lots of switches\nand lots of capacitors.",
    "start": "306920",
    "end": "312873"
  },
  {
    "text": "We'll talk about that\na little bit more. So this beast in the\nbox here, if you will--",
    "start": "312873",
    "end": "319349"
  },
  {
    "text": "I don't know, you can\ninclude the output capacitor, I suppose-- is the simplest switch capacitor\nor converter I can think of.",
    "start": "319350",
    "end": "329625"
  },
  {
    "text": "To analyze it, let\nme just simplify it. I'm going to think about this as\na really big output capacitor.",
    "start": "329626",
    "end": "335587"
  },
  {
    "text": "So for the moment, let\nme just replace them with a voltage source v out. So for my analysis, I'm going\nto simplify this just a little,",
    "start": "335588",
    "end": "346830"
  },
  {
    "text": "and I'll say we have\nan input voltage v in. ",
    "start": "346830",
    "end": "356550"
  },
  {
    "text": "Here's my capacitor vc,\nic, c, my two switches.",
    "start": "356550",
    "end": "365710"
  },
  {
    "text": "I'm just going to replace this\nwith an output voltage, v out.",
    "start": "365710",
    "end": "371160"
  },
  {
    "text": "And then I'm going to have this\nis switch 1, switch 1, switch",
    "start": "371160",
    "end": "378630"
  },
  {
    "text": "2, and switch 2.",
    "start": "378630",
    "end": "384720"
  },
  {
    "text": "And this is the circuit\nwe're going to analyze. So in state 1, I basically\nhave these two switches closed.",
    "start": "384720",
    "end": "398390"
  },
  {
    "text": "So in state 1, the\nconverter looks like this-- v in. ",
    "start": "398390",
    "end": "404889"
  },
  {
    "text": "Our first switch\nis going to be on. I'll call that R switch. Then I'm going to\nhave my capacitor.",
    "start": "404890",
    "end": "411756"
  },
  {
    "start": "411756",
    "end": "417970"
  },
  {
    "text": "And then I'm going to\nhave my second switch. And then that's going\nto go to the output. ",
    "start": "417970",
    "end": "425930"
  },
  {
    "text": "And in my second\nstate, state 2-- ",
    "start": "425930",
    "end": "432980"
  },
  {
    "text": "the input's now going\nto be disconnected. ",
    "start": "432980",
    "end": "441590"
  },
  {
    "text": "But I am going to connect my\ncapacitor through a resistor",
    "start": "441590",
    "end": "454389"
  },
  {
    "text": "to the output, like this.",
    "start": "454390",
    "end": "460695"
  },
  {
    "start": "460695",
    "end": "466250"
  },
  {
    "text": "Any questions about the\ntwo switch configurations? Let's just, for\nsimplicity, assume",
    "start": "466250",
    "end": "472610"
  },
  {
    "text": "I'm going to flop back\nand forth at 50% duty cycle between these two\nstates, although we'll see, in some cases, the\nduty cycle matters.",
    "start": "472610",
    "end": "479400"
  },
  {
    "text": "In some cases it doesn't. All right, any questions? Yeah? AUDIENCE: So in\nthis case, we can't",
    "start": "479400",
    "end": "486300"
  },
  {
    "text": "deal with [INAUDIBLE] switches. We have to think\nabout the [INAUDIBLE].",
    "start": "486300",
    "end": "492270"
  },
  {
    "text": "PROFESSOR: It helps to think\nabout the parasitic resistance because we were going to\nworry about how much energy we",
    "start": "492270",
    "end": "498306"
  },
  {
    "text": "dissipate in the switches. But if I let the switch\nresistances go to 0, the answer doesn't\nchange, actually.",
    "start": "498307",
    "end": "504730"
  },
  {
    "text": "So, yeah, we'll come\nback to that point.",
    "start": "504730",
    "end": "509960"
  },
  {
    "text": "So let's think about this\nnow in order to analyze this. What I'd like to\ndo is focus on--",
    "start": "509960",
    "end": "518630"
  },
  {
    "text": "here, I have v in. Here's v in.",
    "start": "518630",
    "end": "525019"
  },
  {
    "text": "Let me talk about the\ncurrent i in going into v in. And here, I have v out.",
    "start": "525020",
    "end": "533810"
  },
  {
    "text": "And here's i out. And then I have vc and ic.",
    "start": "533810",
    "end": "541970"
  },
  {
    "text": "I guess I should have drawn\nthis on the main circuit. So this is v in, i in, v\nout, i out, and vc, ic.",
    "start": "541970",
    "end": "559160"
  },
  {
    "text": " And what I would like to\ndo is track the charge",
    "start": "559160",
    "end": "570589"
  },
  {
    "text": "flowing through this converter. which is going to\nlet me understand what its conversion ratio is.",
    "start": "570590",
    "end": "577490"
  },
  {
    "text": "And analyzing any switch\ncapacitor converter more or less comes down to the\nprocess I'm following.",
    "start": "577490",
    "end": "584100"
  },
  {
    "text": "There are ways that\nwe can organize it to do the general case.",
    "start": "584100",
    "end": "589860"
  },
  {
    "text": "But let's just think\nabout this case. And what I'm going\nto think about is let's suppose that\nwhen I close the switches",
    "start": "589860",
    "end": "600050"
  },
  {
    "text": "and I have some\nswitch resistances, the values don't matter. But let's ask what does the\nfinal voltage of the capacitor",
    "start": "600050",
    "end": "608300"
  },
  {
    "text": "end up at? So at the end of\nstate 1, what I'm going to assume for\nmy first analysis--",
    "start": "608300",
    "end": "613910"
  },
  {
    "text": "and this is what's known as\nthe slow switching limit-- is that I close my\nswitches, and this capacitor",
    "start": "613910",
    "end": "621259"
  },
  {
    "text": "charges to some final value\nand then stops charging. So what would be the final value\nof the capacitor in this state",
    "start": "621260",
    "end": "629040"
  },
  {
    "text": "1? So vc at the-- and\nstate 1 at the end.",
    "start": "629040",
    "end": "639800"
  },
  {
    "text": "What voltage would vc charge to? ",
    "start": "639800",
    "end": "646190"
  },
  {
    "text": "Has to be v in minus v out. ",
    "start": "646190",
    "end": "651990"
  },
  {
    "text": "And in state 2, at the\nend, correspondingly, vc",
    "start": "651990",
    "end": "660240"
  },
  {
    "text": "has to go to v out. So the idea is if I looked\nat what vc was going to do,",
    "start": "660240",
    "end": "670080"
  },
  {
    "text": "it's going to start off\nwhen I enter state 1-- or [INAUDIBLE] state 2\nI'm going to be at v out.",
    "start": "670080",
    "end": "676680"
  },
  {
    "text": "I'm going to flip my\nswitches, and then vc is going to charge\nto v in minus v out.",
    "start": "676680",
    "end": "682200"
  },
  {
    "text": "And I'm going to\nswitch my switches. Then, vc is going to discharge\nin this case back to v out",
    "start": "682200",
    "end": "687209"
  },
  {
    "text": "and it's going to repeat. That makes sense to everybody? So I'm assuming-- and this\nis the slow switching limit--",
    "start": "687210",
    "end": "695715"
  },
  {
    "text": " that what my capacitor voltage\nis going to do versus time--",
    "start": "695715",
    "end": "705180"
  },
  {
    "text": "if this is state 1\nand this is state 2,",
    "start": "705180",
    "end": "713399"
  },
  {
    "text": "I'm going to basically--\nmy capacitor is going to charge from v out\nup to v in minus v out.",
    "start": "713400",
    "end": "723910"
  },
  {
    "text": "And then it's going to\ncharge from v in minus v out, down to v\nout, and it's going to do something like this\nwith some Rc time constant.",
    "start": "723910",
    "end": "732320"
  },
  {
    "text": "And so I'm just assuming--\nso this is going to-- at the end of state 1, it's\ngoing to v in minus v out. ",
    "start": "732320",
    "end": "741520"
  },
  {
    "text": "And then, in the next\nstate, in state 2, it's going to charge to v out.",
    "start": "741520",
    "end": "747339"
  },
  {
    "text": "So my only assumption is\nI'm going to-- each cycle, I'm going to charge up,\nI'm going to charge down,",
    "start": "747340",
    "end": "752920"
  },
  {
    "text": "and I'm going to\nfinish the charging. I'm going to let\nthis Rc time constant go to where he's fully charged.",
    "start": "752920",
    "end": "760120"
  },
  {
    "text": "So let's think about\nhow much charge I transfer in each component.",
    "start": "760120",
    "end": "767209"
  },
  {
    "text": "In state 1, what do I have?",
    "start": "767210",
    "end": "775260"
  },
  {
    "text": "Delta qc in state 1-- the amount of charge that\ngets put onto the capacitor",
    "start": "775260",
    "end": "783410"
  },
  {
    "text": "in state 1. Well, what's that going to be? That's going to be equal to-- delta q is c delta\nv, which is going",
    "start": "783410",
    "end": "793699"
  },
  {
    "text": "to be c times the change\nin voltage across state 1. He's starting at v out, and he's\ngoing up to v in minus v out.",
    "start": "793700",
    "end": "801800"
  },
  {
    "text": "So it's going to be v in minus\nv out minus v out is going to be c times v in minus 2 v out.",
    "start": "801800",
    "end": "810060"
  },
  {
    "text": " So that's how much charge\ngets put on to this capacitor",
    "start": "810060",
    "end": "819500"
  },
  {
    "text": "during state 1 in\nperiodic steady state. Any questions about that?",
    "start": "819500",
    "end": "825840"
  },
  {
    "text": "Because the rest of the analysis\nproceeds just like this. So I want to make sure people\nget what I'm calculating.",
    "start": "825840",
    "end": "833350"
  },
  {
    "text": "NPSS-- I charge and\ndischarge between two points. And I'm just saying\nhow much charge went on to the capacitor\nin state 1, and that's it.",
    "start": "833350",
    "end": "842110"
  },
  {
    "text": "Well, how much charge went\ninto the input in state 1?",
    "start": "842110",
    "end": "850970"
  },
  {
    "text": "Well, the way I've defined\nit here, the input-- and I've defined here\nbecause the general analysis",
    "start": "850970",
    "end": "857000"
  },
  {
    "text": "tend to do it this way-- is the current going\nin the capacitor is exactly the opposite\nof the current going",
    "start": "857000",
    "end": "862550"
  },
  {
    "text": "into the input in state 1. So the current-- the\ncharge into the input just has to be the opposite.",
    "start": "862550",
    "end": "868690"
  },
  {
    "text": "This is going to be minus\nc v in minus 2 v out.",
    "start": "868690",
    "end": "875270"
  },
  {
    "text": "And likewise, the charge that\ngot transferred into the output during state 1 is exactly\nequal to the charge",
    "start": "875270",
    "end": "883310"
  },
  {
    "text": "in the capacity that\ntransferred onto the capacitor. And I get delta q out in state\n1 is equal to c v in minus 2",
    "start": "883310",
    "end": "893600"
  },
  {
    "text": "v out.  Does that make\nsense to everybody?",
    "start": "893600",
    "end": "900510"
  },
  {
    "text": "Any questions? Let's think about state 2. ",
    "start": "900510",
    "end": "911950"
  },
  {
    "text": "Delta q c-- how much charge\ngoes on the capacitor in state 2 is equal to c delta v?",
    "start": "911950",
    "end": "919670"
  },
  {
    "text": "Well, in state 2, I started\nat v in minus v out, and I ended at v out. So it's going to be\nv in minus v out,",
    "start": "919670",
    "end": "927700"
  },
  {
    "text": "minus v out is what\nI'm going to get. But keep in mind that\nI could write this--",
    "start": "927700",
    "end": "940975"
  },
  {
    "text": " the charge that's\ngoing to-- he's",
    "start": "940975",
    "end": "946300"
  },
  {
    "text": "going to end up at v out\nminus v in minus v out. So it's v out minus\nv in minus v out.",
    "start": "946300",
    "end": "953120"
  },
  {
    "text": "It's 2 v out minus v in times c. But I could write that as minus\nc times v in minus 2 v out.",
    "start": "953120",
    "end": "966820"
  },
  {
    "text": "And the reason I'm going\nto write-- first of all, does everybody get\nwhat I just did? All I did was I just expressed\nit as a with a minus sign",
    "start": "966820",
    "end": "976450"
  },
  {
    "text": "out here. I pulled the minus\nsign out here. Why did I pull the\nminus sign out here? Because I want to emphasize\nthat this is going",
    "start": "976450",
    "end": "984579"
  },
  {
    "text": "to be a negative net charge. Or another way I ought to\nthink about it is, look,",
    "start": "984580",
    "end": "990190"
  },
  {
    "text": "I'm running this converter\nback and forth between state 1 and state 2 in\nperiodic steady state.",
    "start": "990190",
    "end": "995930"
  },
  {
    "text": "What is the net\ncharge that I'm going to transfer through\nthe capacitor",
    "start": "995930",
    "end": "1002010"
  },
  {
    "text": "in periodic steady state? 0. So that means that delta q\nc 1 is a charge transferred",
    "start": "1002010",
    "end": "1011850"
  },
  {
    "text": "onto the capacitor in\nstate 1 plus delta q, c 2, the charge transfer onto\nthe capacitor in state 2--",
    "start": "1011850",
    "end": "1017100"
  },
  {
    "text": "better add to 0. And you can see that it\ndoes if I write it this way. It's c v in minus 2 v out plus\nminus c v in minus 2 v out.",
    "start": "1017100",
    "end": "1025089"
  },
  {
    "text": "So they add to 0. So indeed, if I\nmade the assumption that it's charged to its\ninitial and final states,",
    "start": "1025089",
    "end": "1031799"
  },
  {
    "text": "this does satisfy the periodic\nsteady state requirements on the capacitor.",
    "start": "1031800",
    "end": "1036910"
  },
  {
    "text": "Any questions about that? So let's just say-- what happens-- what's\ndelta q in in state 2?",
    "start": "1036910",
    "end": "1047110"
  },
  {
    "text": " Anybody tell me that? ",
    "start": "1047110",
    "end": "1054700"
  },
  {
    "text": "This is v in. This is i in. How much charge is transferred\ninto the input in state 2?",
    "start": "1054700",
    "end": "1063870"
  },
  {
    "text": "AUDIENCE: None. PROFESSOR: 0-- no charge\ntransferred in the input. How much charge is transferred\nto the output in state 2?",
    "start": "1063870",
    "end": "1075630"
  },
  {
    "text": " Well, this is-- let's be\ncareful about signs here--",
    "start": "1075630",
    "end": "1084190"
  },
  {
    "text": "here's v out. Here's i out. The negative of the\ncapacitor current",
    "start": "1084190",
    "end": "1091179"
  },
  {
    "text": "is going into the output. So whatever charge went\ninto the capacitor, the negative of that charge\nwent into the output.",
    "start": "1091180",
    "end": "1097400"
  },
  {
    "text": "So delta q out 2 must be\npositive c v in minus 2 v out.",
    "start": "1097400",
    "end": "1105800"
  },
  {
    "text": " Does that make\nsense to everybody?",
    "start": "1105800",
    "end": "1112490"
  },
  {
    "text": "So what is the-- we know that the net\ntotal charge transferred",
    "start": "1112490",
    "end": "1119390"
  },
  {
    "text": "on this energy storage capacitor\nin periodic steady state better be 0. But that's not true of\nthe input or the output.",
    "start": "1119390",
    "end": "1126210"
  },
  {
    "text": "So why don't we just\nfind out what that is? We could then write delta q in\nis equal to q in state 1 plus",
    "start": "1126210",
    "end": "1142880"
  },
  {
    "text": "delta q in in state 2 And\nif I just add those up,",
    "start": "1142880",
    "end": "1147890"
  },
  {
    "text": "that's going to be 2\nc v in minus 2 v out.",
    "start": "1147890",
    "end": "1155330"
  },
  {
    "text": "And delta q out is going\nto be equal to delta q",
    "start": "1155330",
    "end": "1161659"
  },
  {
    "text": "out in state 1 and\ndelta q out in state 2.",
    "start": "1161660",
    "end": "1168060"
  },
  {
    "text": "And if I add those up, it's\ngoing to be minus c v in minus 2",
    "start": "1168060",
    "end": "1176430"
  },
  {
    "text": "v out. Now what's the current\nat the input on average?",
    "start": "1176430",
    "end": "1184750"
  },
  {
    "text": "Yeah? AUDIENCE: Are these\nflipped, [INAUDIBLE]?",
    "start": "1184750",
    "end": "1190480"
  },
  {
    "text": "PROFESSOR: Yes, thank you.  How did I do that?",
    "start": "1190480",
    "end": "1197040"
  },
  {
    "text": "Well, it's easier\nto do it this way. ",
    "start": "1197040",
    "end": "1204450"
  },
  {
    "text": "Thank you. Somebody's watching. So we have our input\nand output net charge.",
    "start": "1204450",
    "end": "1213840"
  },
  {
    "text": "If I wanted to talk about\nthe average current going to the input or the output\naveraged over a cycle, really,",
    "start": "1213840",
    "end": "1221790"
  },
  {
    "text": "it's the charge\ndivided by the period, or equivalently the charge\ntimes the switching frequency.",
    "start": "1221790",
    "end": "1228080"
  },
  {
    "text": "So the local average\nor the average in periodic steady state,\nI could infer from this",
    "start": "1228080",
    "end": "1235170"
  },
  {
    "text": "is that i in is equal to c\ntimes the switching frequency--",
    "start": "1235170",
    "end": "1246510"
  },
  {
    "text": "that's 1 over the period-- times v in minus 2 v out.",
    "start": "1246510",
    "end": "1252420"
  },
  {
    "text": " And I should put\nmy minus sign here.",
    "start": "1252420",
    "end": "1257560"
  },
  {
    "text": "And that's this is the\ncurrent going into the input. And likewise, i out is equal to\n2 c f switch times v in minus 2",
    "start": "1257560",
    "end": "1270150"
  },
  {
    "text": "v out. So if you look at this,\nthe magnitude of i",
    "start": "1270150",
    "end": "1277620"
  },
  {
    "text": "out is equal to 2 times\nthe magnitude of i in.",
    "start": "1277620",
    "end": "1283270"
  },
  {
    "text": " Why? Because what happens\nis, essentially--",
    "start": "1283270",
    "end": "1289380"
  },
  {
    "text": "and what's the deal\nwith the minus sign? The minus sign is\nbecause I chose to define i in going this way.",
    "start": "1289380",
    "end": "1295870"
  },
  {
    "text": "Had I defined it\ngoing this way, I'd have i out is equal\nto twice i in.",
    "start": "1295870",
    "end": "1301290"
  },
  {
    "text": "But let's just worry\nabout the magnitudes here. So what's going on? In the first part\nof the cycle, I",
    "start": "1301290",
    "end": "1307320"
  },
  {
    "text": "dump a certain amount of charge\nfrom the input to the output through the capacitor. I charge the capacitor up.",
    "start": "1307320",
    "end": "1313400"
  },
  {
    "text": "So that's some amount of charge. In the second part of\nthe cycle, this capacitor",
    "start": "1313400",
    "end": "1318409"
  },
  {
    "text": "then dumps that same amount of\ncharge into the output again. So the output gets twice\nthe amount of charge",
    "start": "1318410",
    "end": "1323640"
  },
  {
    "text": "as the input over the cycle. And then I go back to the\nnext cycle and I repeat. So whatever the current\ncoming in from--",
    "start": "1323640",
    "end": "1332740"
  },
  {
    "text": "coming into the\nconverter from the input is exactly half\nthe current going to the output by periodic\nsteady state and charge balance",
    "start": "1332740",
    "end": "1341679"
  },
  {
    "text": "on the capacitor. Any questions about that? ",
    "start": "1341680",
    "end": "1348500"
  },
  {
    "text": "I should say that this is the\ndefining feature of a switch capacitor converter.",
    "start": "1348500",
    "end": "1354030"
  },
  {
    "text": "You will always have some\nrational relationship--",
    "start": "1354030",
    "end": "1359130"
  },
  {
    "text": "\"rational\" meaning\nan actual fraction-- relating the current from\nthe input to the current",
    "start": "1359130",
    "end": "1364610"
  },
  {
    "text": "on the output. Why? Because this is a\nvery simple converter. We've got one capacitor\nthat we're flipping around,",
    "start": "1364610",
    "end": "1370190"
  },
  {
    "text": "but generally, you're going to\nbe taking energy, storing charge from the input, doing something,\nand throwing it to the output.",
    "start": "1370190",
    "end": "1376230"
  },
  {
    "text": "And those are always going to\nbe related in some rational way.",
    "start": "1376230",
    "end": "1381880"
  },
  {
    "text": "So that's what the core\nthing that a switch capacitor converter do-- is\nby charge balance",
    "start": "1381880",
    "end": "1388420"
  },
  {
    "text": "is going to give you some\nconcurrent conversion ratio between the\ninput and the output",
    "start": "1388420",
    "end": "1393610"
  },
  {
    "text": "that's fixed by the topology\nand the switching sequence. ",
    "start": "1393610",
    "end": "1406789"
  },
  {
    "text": "What else can we say about this? Well, look at this\nrelationship here.",
    "start": "1406790",
    "end": "1415289"
  },
  {
    "text": "First of all, any questions\nabout what got me to that? ",
    "start": "1415290",
    "end": "1421000"
  },
  {
    "text": "Yeah? AUDIENCE: Is this\nassuming a 50% duty cycle? PROFESSOR: That's\na good question. So long as the intervals\nare such that I",
    "start": "1421000",
    "end": "1430210"
  },
  {
    "text": "fully charge and fully\ndischarge in each subinterval, in state 1 and state 2,\nthe actual duty ratio",
    "start": "1430210",
    "end": "1436270"
  },
  {
    "text": "doesn't matter in this\nmode of operation. So the only thing\nI've assumed is",
    "start": "1436270",
    "end": "1441850"
  },
  {
    "text": "that I'm waiting long enough\nor in state 1 for the capacitor to get to its final voltage. And I'm waiting long enough\nin state 2 for the pastor",
    "start": "1441850",
    "end": "1448330"
  },
  {
    "text": "to get to its final voltage. And as long as I've\nwaited long enough in both states, what the actual\nfraction of bond times are",
    "start": "1448330",
    "end": "1454000"
  },
  {
    "text": "doesn't matter. We'll come back to that shortly. Yeah? AUDIENCE: I've got a question.",
    "start": "1454000",
    "end": "1459820"
  },
  {
    "text": "This mode is called the slow\nswitching [INAUDIBLE], right? PROFESSOR: Yes. AUDIENCE: And is that why we\ndidn't include the [INAUDIBLE],",
    "start": "1459820",
    "end": "1468565"
  },
  {
    "text": "like effect-- or those switches there are\nrepresented as resistors,",
    "start": "1468565",
    "end": "1475090"
  },
  {
    "text": "so like the charge\ndoesn't [INAUDIBLE]?",
    "start": "1475090",
    "end": "1480520"
  },
  {
    "text": "PROFESSOR: Well, no, it does. We've included the resistance. All I've said is the\nonly thing you really",
    "start": "1480520",
    "end": "1489780"
  },
  {
    "text": "need to know in this is\nwhere did the capacitor start in terms of its voltage\nand where did it end?",
    "start": "1489780",
    "end": "1496720"
  },
  {
    "text": "And if you know that, then\nhow much charge went into it. So we have actually included\nthe effect of the resistances.",
    "start": "1496720",
    "end": "1504909"
  },
  {
    "text": "It's those Rc charging things. If the resistances\nget small, I just make those Rc charging shorter.",
    "start": "1504910",
    "end": "1511960"
  },
  {
    "text": "AUDIENCE: I see, thanks. But wouldn't on-state\nand off-state voltages",
    "start": "1511960",
    "end": "1516970"
  },
  {
    "text": "change, like wouldn't there\nbe potential differences across the resistors?",
    "start": "1516970",
    "end": "1522010"
  },
  {
    "text": "PROFESSOR: Well, if I've assumed\nthat the capacitor is fully",
    "start": "1522010",
    "end": "1527320"
  },
  {
    "text": "charged, the voltage across this\nresistor went to 0 by the end. So the only assumption I've\nmade is this capacitor charges.",
    "start": "1527320",
    "end": "1534860"
  },
  {
    "text": "Once the capacitor\ncurrent goes to 0, these voltage drops go to 0. We'll relax that\nassumption shortly.",
    "start": "1534860",
    "end": "1541190"
  },
  {
    "text": " So let me start from\nthis relationship, and let me see if\nI can give you what",
    "start": "1541190",
    "end": "1548890"
  },
  {
    "text": "the voltage relationship is. I've told you here, this\nis the current relationship",
    "start": "1548890",
    "end": "1554260"
  },
  {
    "text": "of the converter. That's the fundamental thing\nthat this converter does.",
    "start": "1554260",
    "end": "1559900"
  },
  {
    "text": "Well, how are the input\nand output voltage related? Well, that's by this guy here.",
    "start": "1559900",
    "end": "1565720"
  },
  {
    "text": "And I can rearrange this. So all I could do is\nmaybe solve for v out.",
    "start": "1565720",
    "end": "1571870"
  },
  {
    "text": "And if I solve this\nequation for v out, what I'm going to get is v out\nis equal to 1/2 of v in minus 1",
    "start": "1571870",
    "end": "1583510"
  },
  {
    "text": "over 4 f switch c times i out.",
    "start": "1583510",
    "end": "1590265"
  },
  {
    "text": " This is an equivalent\nstatement as this.",
    "start": "1590265",
    "end": "1595965"
  },
  {
    "text": " So what does that mean\nas in a practical matter?",
    "start": "1595965",
    "end": "1605600"
  },
  {
    "text": "Well, let me create for you\nan equivalent circuit which does this same thing, So I\ntold you, this is my converter.",
    "start": "1605600",
    "end": "1619940"
  },
  {
    "text": "If I wanted a\nperiodic steady state model for what this thing does,\nI have some input voltage.",
    "start": "1619940",
    "end": "1625210"
  },
  {
    "start": "1625210",
    "end": "1630470"
  },
  {
    "text": "And then I have some load\ncurrent connected to it",
    "start": "1630470",
    "end": "1635510"
  },
  {
    "text": "that I'm going to call i out. What is the relationship\nbetween what's in there? It's defined by this.",
    "start": "1635510",
    "end": "1641250"
  },
  {
    "text": "Well, here's a\ncircuit that gives you this same relationship. If I had an ideal\n2-to-1 transformer,",
    "start": "1641250",
    "end": "1652840"
  },
  {
    "text": "if this is v in, this\nvoltage would be half v in because that's what\nthe transformer does.",
    "start": "1652840",
    "end": "1660880"
  },
  {
    "text": "And then I would have\nan equivalent resistance that would give me a voltage\ndrop that was i out times 1",
    "start": "1660880",
    "end": "1668650"
  },
  {
    "text": "over 4 f switch. So I'd have an equivalent\nresistance of 1 over 4",
    "start": "1668650",
    "end": "1675520"
  },
  {
    "text": "f switch c. And I could put this\nwhole thing in a box.",
    "start": "1675520",
    "end": "1681090"
  },
  {
    "text": " And this is a DC\nequivalent model",
    "start": "1681090",
    "end": "1690059"
  },
  {
    "text": "for how this thing behaves. In other words, this is v out. ",
    "start": "1690060",
    "end": "1698040"
  },
  {
    "text": "So this gives me the right\nrelationships between v and v out. v out is half v in\nminus the voltage drop",
    "start": "1698040",
    "end": "1712290"
  },
  {
    "text": "across this which is i\nout over 4 c f switch. Likewise, if I have a current\ncoming i out this way,",
    "start": "1712290",
    "end": "1720360"
  },
  {
    "text": "the current this way through\nthe ideal transformer is going to be\nexactly half of that.",
    "start": "1720360",
    "end": "1725700"
  },
  {
    "text": "And that means the current\nthis way is minus 1/2 i out. So this model in\nyellow here precisely",
    "start": "1725700",
    "end": "1733980"
  },
  {
    "text": "captures the average circuit\nbehavior of this system. Does that make\nsense to everybody?",
    "start": "1733980",
    "end": "1740140"
  },
  {
    "text": " Now this is this converter.",
    "start": "1740140",
    "end": "1745740"
  },
  {
    "text": "Any other switch capacitor\nconverter I want to model, you can model likewise as some\nideal transformer relationship.",
    "start": "1745740",
    "end": "1755970"
  },
  {
    "text": "This gives me my current\nconversion ratio. The input and the\noutput current are",
    "start": "1755970",
    "end": "1761580"
  },
  {
    "text": "related by the ideal transformer\nand then a voltage drop that's",
    "start": "1761580",
    "end": "1766649"
  },
  {
    "text": "related by some equivalent\nresistance that's",
    "start": "1766650",
    "end": "1771690"
  },
  {
    "text": "related to the energy transfer\ncapacitors and the switching frequency. So the details will vary,\nbut this model really",
    "start": "1771690",
    "end": "1778680"
  },
  {
    "text": "captures what's going on. Now if I said, well,\nwhat's a what's an--",
    "start": "1778680",
    "end": "1785220"
  },
  {
    "text": "if I wanted to just look\nback from the output and get Thevenin equivalent\nlooking backwards, all I would see is--",
    "start": "1785220",
    "end": "1791730"
  },
  {
    "text": "another way to think\nabout this is one half v in as a Thevenin voltage.",
    "start": "1791730",
    "end": "1797669"
  },
  {
    "text": "And a Thevenin resistance would\nbe Req is equal to 1 over 4",
    "start": "1797670",
    "end": "1804330"
  },
  {
    "text": "f switch c. This is a Thevenin\nequivalent model",
    "start": "1804330",
    "end": "1810360"
  },
  {
    "text": "looking back into the\nswitch capacitor converter from at least a DC.",
    "start": "1810360",
    "end": "1815710"
  },
  {
    "text": "This is legitimate. Does that make\nsense to everybody?",
    "start": "1815710",
    "end": "1821510"
  },
  {
    "text": "Now we could say, what's the\nefficiency of the converter?",
    "start": "1821510",
    "end": "1827570"
  },
  {
    "text": "Well, the efficiency is\nequal to v out i out divided",
    "start": "1827570",
    "end": "1840049"
  },
  {
    "text": "by v in or minus v in i in. And since i out is\ntwice minus i in,",
    "start": "1840050",
    "end": "1855140"
  },
  {
    "text": "this would be equal to\n2 times v out over v in.",
    "start": "1855140",
    "end": "1863195"
  },
  {
    "text": " And we have an expression\nfor v out right here.",
    "start": "1863195",
    "end": "1873360"
  },
  {
    "text": "I could write this as also\nequal to v out over 1/2 v in.",
    "start": "1873360",
    "end": "1880110"
  },
  {
    "text": "So to the extent that v out\nis smaller than half v in, the efficiency is less than 1.",
    "start": "1880110",
    "end": "1886450"
  },
  {
    "text": "Well, we can see that\nthe output is smaller than half v in by whatever\ndrop is across this resistor.",
    "start": "1886450",
    "end": "1893960"
  },
  {
    "text": "So this model is actually\nuseful for calculating-- this model is actually useful\nfor calculating efficiency",
    "start": "1893960",
    "end": "1901670"
  },
  {
    "text": "as well. And I could rewrite that. If I plug that in,\nwhat I would get is--",
    "start": "1901670",
    "end": "1907295"
  },
  {
    "text": " I could rewrite this as the\nefficiency simply is equal to 1",
    "start": "1907295",
    "end": "1916070"
  },
  {
    "text": "minus i out times\nReq over 1/2 v in.",
    "start": "1916070",
    "end": "1923906"
  },
  {
    "text": " This is just illustrating if\nmy load current goes to 0,",
    "start": "1923906",
    "end": "1931300"
  },
  {
    "text": "the efficiency then goes to 1. If my load current gets really\nbig, the output droops down.",
    "start": "1931300",
    "end": "1939860"
  },
  {
    "text": "As my output gets really big,\nI get a bigger and bigger drop across this equivalent\nresistor, and my efficiency",
    "start": "1939860",
    "end": "1946850"
  },
  {
    "text": "starts to decline. Does that make sense, everybody? Now, when I'm saying\nthis, what losses",
    "start": "1946850",
    "end": "1953639"
  },
  {
    "text": "am I counting when I'm\ncalculating this efficiency? The losses I'm counting\nare essentially",
    "start": "1953640",
    "end": "1959460"
  },
  {
    "text": "the resistor losses, the losses\nin the switch resistances and in the capacitor, like any\nparasitics in the capacitor.",
    "start": "1959460",
    "end": "1966509"
  },
  {
    "text": "It's what we would call\ncapacitor charging loss.",
    "start": "1966510",
    "end": "1973300"
  },
  {
    "text": "So the only loss\nI'm not counting-- if these switch have gate\ndrives and the gate drive--",
    "start": "1973300",
    "end": "1979930"
  },
  {
    "text": "gate capacitance [INAUDIBLE]\ncharge and discharge or other losses like that\nare internal to the switches, but the loss associated with\nthe switches delivering current",
    "start": "1979930",
    "end": "1989050"
  },
  {
    "text": "through to charge the capacitor\nand discharge the capacitor. Now it doesn't matter-- you\nnotice the switch resistance",
    "start": "1989050",
    "end": "1994240"
  },
  {
    "text": "isn't even in here anywhere. It doesn't really matter what\nthe switch resistance is. The only constraint\nI have is that I",
    "start": "1994240",
    "end": "2002010"
  },
  {
    "text": "have to finish charging\nand discharging. And that's just because of--",
    "start": "2002010",
    "end": "2008100"
  },
  {
    "text": "you can do this by\nbasically charging methods to find out the efficiency. ",
    "start": "2008100",
    "end": "2016485"
  },
  {
    "text": "AUDIENCE: Could\nyou say it again, where the power is\nbeing dissipated? PROFESSOR: The power is\nbeing dissipated in--",
    "start": "2016485",
    "end": "2024130"
  },
  {
    "text": "if the only elements-- I mean, the power\nis being dissipated",
    "start": "2024130",
    "end": "2029650"
  },
  {
    "text": "in any parasitic resistance in\nthe charge and discharge path.",
    "start": "2029650",
    "end": "2035030"
  },
  {
    "text": "So if I turn the switch on, it\nhas some voltage drop across it, or if the capacitor has\nsome parasitic resistance,",
    "start": "2035030",
    "end": "2042260"
  },
  {
    "text": "it loses some energy in that.",
    "start": "2042260",
    "end": "2047498"
  },
  {
    "text": "You say, well, what\nhappens if I make my switch resistance go to 0? Well, all that happens is\nthat the peak charging current",
    "start": "2047498",
    "end": "2054138"
  },
  {
    "text": "gets higher. And it goes for a shorter time.",
    "start": "2054139",
    "end": "2059460"
  },
  {
    "text": "And the total loss\nis the same thing. So mathematically, it works out. The actual value of the\nresistance doesn't matter.",
    "start": "2059460",
    "end": "2065260"
  },
  {
    "text": "It doesn't even matter\nif the resistance is linear or nonlinear, but\nyou get the same net loss.",
    "start": "2065260",
    "end": "2070780"
  },
  {
    "text": "So it's basically\nthe loss that I incur in putting the\ncharge on the capacitor",
    "start": "2070780",
    "end": "2076883"
  },
  {
    "text": "and then taking the charge\nback off to the capacitor to the output-- that's\nthe loss that's included.",
    "start": "2076883",
    "end": "2082730"
  },
  {
    "text": "Yeah? AUDIENCE: So if you use a\nsmaller capacitor, which takes less time to\ncharge your charge, can you see smaller losses?",
    "start": "2082730",
    "end": "2090290"
  },
  {
    "text": "PROFESSOR: Ah, so if I\nwanted to reduce my losses, let's go back and look at my\nefficiency characteristic.",
    "start": "2090290",
    "end": "2097450"
  },
  {
    "text": "If I want smaller losses,\nI should make Req small. To make R equivalent small,\nI should make either c",
    "start": "2097450",
    "end": "2105140"
  },
  {
    "text": "big or switching frequency big. And the notion is-- and we'll come back to this and\nwe'll look at this next class--",
    "start": "2105140",
    "end": "2113150"
  },
  {
    "text": "it comes down to the amount\nI'm charging and discharging the parser. When I charge the capacitor over\na small, tiny delta voltage,",
    "start": "2113150",
    "end": "2119380"
  },
  {
    "text": "I don't lose much\nenergy in doing it. And so if I want\nlower loss, it's a very great insight\non your part.",
    "start": "2119380",
    "end": "2125720"
  },
  {
    "text": "But if I want lower\nloss, I want to make the capacitor\nbigger, not smaller for a given load current.",
    "start": "2125720",
    "end": "2131170"
  },
  {
    "text": " So this model-- in\nfact, if I wanted,",
    "start": "2131170",
    "end": "2139650"
  },
  {
    "text": "if I put a resistive\nload on here, the efficiency is exactly\njust the efficiency of a voltage divider.",
    "start": "2139650",
    "end": "2145320"
  },
  {
    "text": "So this is a very good model. And the only thing that would\nvary if I model any other switch",
    "start": "2145320",
    "end": "2153120"
  },
  {
    "text": "capacitor converter would\nbe this transformer ratio, which relates to that perfect\ncurrent conversion ratio",
    "start": "2153120",
    "end": "2160320"
  },
  {
    "text": "we calculated, and what the\nexact value of this output resistance would look like,\nwhich is, again dictated",
    "start": "2160320",
    "end": "2167550"
  },
  {
    "text": "by the losses. Questions? ",
    "start": "2167550",
    "end": "2174849"
  },
  {
    "text": "So let's think about what\nother case I might consider.",
    "start": "2174850",
    "end": "2184400"
  },
  {
    "text": "We said, OK, suppose I\nwant to-- and by the way, why do we like these converters? Because they can\nbe hyperefficient.",
    "start": "2184400",
    "end": "2190060"
  },
  {
    "text": "If I go buy a really\nbig capacitor here or I switch really fast,\nthis equivalent resistance",
    "start": "2190060",
    "end": "2198500"
  },
  {
    "text": "can be very small. And I can get an almost perfect\n2-to-1 voltage conversion.",
    "start": "2198500",
    "end": "2204480"
  },
  {
    "text": "And, in fact, people would call\nthis thing a 2-to-1 step-down",
    "start": "2204480",
    "end": "2210750"
  },
  {
    "text": "switch capacitor converter. Why? Because they're\nthinking of the voltage. Ideally speaking, if I make\nthis resistance really small,",
    "start": "2210750",
    "end": "2218670"
  },
  {
    "text": "I'm really just doing like\nan ideal transformer 2-to-1. And so people would\ncall that a 2-to-1.",
    "start": "2218670",
    "end": "2225730"
  },
  {
    "text": "On the other hand, it's\nonly approximately 2-to-1 because this is not 0. This is some finite\nvalue of resistance.",
    "start": "2225730",
    "end": "2232840"
  },
  {
    "text": "What it is, is a 1-to-2\ncurrent converter-- switch capacitor or converter.",
    "start": "2232840",
    "end": "2239080"
  },
  {
    "text": "And that relationship\nis precise. So what should people call this?",
    "start": "2239080",
    "end": "2245440"
  },
  {
    "text": "They should call this a\n1-to-2 current conversion-- switch capacitor converter. But that's not\nwhat they call it.",
    "start": "2245440",
    "end": "2250630"
  },
  {
    "text": "They call it a 2-to-1 voltage\nconverter because everybody likes to think about voltages. So it's just you're stuck\nwith the-- you're stuck",
    "start": "2250630",
    "end": "2256440"
  },
  {
    "text": "with what people call things,\nbut maybe it's not fair. So what do I get if I wanted\nto go up in performance?",
    "start": "2256440",
    "end": "2271480"
  },
  {
    "text": "Suppose I want-- I should say, when would I\nwant to use a switch capacitor converter?",
    "start": "2271480",
    "end": "2276863"
  },
  {
    "text": "I'd want to use a\nswitch capacitor converter-- for example, I have\n5 volts and I need 2.5 volts.",
    "start": "2276863",
    "end": "2284730"
  },
  {
    "text": "I want exactly half the voltage. Then, to the extent\nthat I can make",
    "start": "2284730",
    "end": "2290404"
  },
  {
    "text": "this equivalent\nresistance small, this is a great converter. On the other hand,\nI wouldn't want",
    "start": "2290405",
    "end": "2295619"
  },
  {
    "text": "to use this converter when\nmy input voltage was 5 volts and my output\nvoltage was 2 volts,",
    "start": "2295620",
    "end": "2301500"
  },
  {
    "text": "because then my efficiency\nwould be 2 over 2.5,",
    "start": "2301500",
    "end": "2306690"
  },
  {
    "text": "which isn't that high. So switch capacitors\nor converters",
    "start": "2306690",
    "end": "2311970"
  },
  {
    "text": "are very efficient when\nyour voltage conversion ratio is very close\nto the inverse of your intrinsic\ncurrent conversion ratio.",
    "start": "2311970",
    "end": "2319589"
  },
  {
    "text": "And then their efficiency droops\ndown outside of that range. Sometimes, actually, people use\nthis and vary this equivalent",
    "start": "2319590",
    "end": "2326550"
  },
  {
    "text": "resistor to give yourself\na linear regulator kind of action too. So instead of linear\nregulating down from v in,",
    "start": "2326550",
    "end": "2332160"
  },
  {
    "text": "you linear regulate\ndown from half v in, so you get an\nadvantage that way. But if you want to talk about\npure switch mode operation,",
    "start": "2332160",
    "end": "2338513"
  },
  {
    "text": "you're usually trying\nto make this very small.  How do I make that small?",
    "start": "2338513",
    "end": "2344520"
  },
  {
    "text": "I either get big capacitors\nor I switch fast. Now there's an\nexception to what I said",
    "start": "2344520",
    "end": "2352750"
  },
  {
    "text": "or a limit to what I said. This operation is all in\nwhat I've been calling",
    "start": "2352750",
    "end": "2362110"
  },
  {
    "text": "the slow switching limit. This limit right\nhere, where I'm fully",
    "start": "2362110",
    "end": "2368740"
  },
  {
    "text": "charging and fully\ndischarging, suppose I want to get higher efficiency.",
    "start": "2368740",
    "end": "2374920"
  },
  {
    "text": "And I'm forgetting about gate\nlosses and capacitor discharge losses and stuff\ninside the switches.",
    "start": "2374920",
    "end": "2380390"
  },
  {
    "text": "I'm just talking about the\ncharge transfer losses. I can switch faster\nand faster and faster.",
    "start": "2380390",
    "end": "2385519"
  },
  {
    "text": "That output resistance keeps\ndrooping, keeps getting smaller, and that's better. But eventually, I\nget to the point",
    "start": "2385520",
    "end": "2391990"
  },
  {
    "text": "where if I increase my\nswitching frequency-- suppose I just keep\neach time period half,",
    "start": "2391990",
    "end": "2398080"
  },
  {
    "text": "that this time period\nis going to get so short that my capacitor\ndoesn't fully charge up.",
    "start": "2398080",
    "end": "2404200"
  },
  {
    "text": "And he doesn't\nfully charge down. If I keep pushing my\nswitching frequency up enough,",
    "start": "2404200",
    "end": "2410020"
  },
  {
    "text": "I'm going to violate the\nassumption under which I did this analysis. ",
    "start": "2410020",
    "end": "2416750"
  },
  {
    "text": "The extreme limit of\nthat is the capacitor sitting close to some\nvoltage, and he only",
    "start": "2416750",
    "end": "2424160"
  },
  {
    "text": "charges up and down a little. So, in other words, suppose I\nmade my time scale really short,",
    "start": "2424160",
    "end": "2431829"
  },
  {
    "text": "and I will have-- here's state 1 and\nhere's state 2. And, in state 1,\nhe just does this.",
    "start": "2431830",
    "end": "2442260"
  },
  {
    "text": "He charges a tiny bit, which is\npart of a much bigger charge.",
    "start": "2442260",
    "end": "2449980"
  },
  {
    "text": "And then to state 2, he\ndischarges just a tiny bit,",
    "start": "2449980",
    "end": "2455460"
  },
  {
    "text": "which is part of a much\nlonger time charge, So I can almost think in\nthe fast-switching limit--",
    "start": "2455460",
    "end": "2462619"
  },
  {
    "start": "2462620",
    "end": "2469230"
  },
  {
    "text": "vc is almost constant. I don't have enough time to\ncharge up or down substantially.",
    "start": "2469230",
    "end": "2477069"
  },
  {
    "text": "The delta voltage I get is\nnowhere near the full swing. And I can just start to\nthink about the capacitor",
    "start": "2477070",
    "end": "2484529"
  },
  {
    "text": "as being a constant voltage. But it's a special\nconstant voltage because, nonetheless, if I'm going to\nbe in periodic steady state,",
    "start": "2484530",
    "end": "2491900"
  },
  {
    "text": "however much he charges in\nthe first state must balance the amount of discharges\nin the second state",
    "start": "2491900",
    "end": "2498120"
  },
  {
    "text": "that I haven't gotten\naround that kind of rule.",
    "start": "2498120",
    "end": "2503420"
  },
  {
    "text": "But nonetheless, we can think\nabout this fast switching limit as the capacitor voltage\nalmost becoming constant.",
    "start": "2503420",
    "end": "2510270"
  },
  {
    "text": "So let's think about what would\na converter do in the fast switching limit in\nthe FSL in state--",
    "start": "2510270",
    "end": "2522870"
  },
  {
    "text": "so let me just think about-- I'm going to now mentally\nreplace this capacitor",
    "start": "2522870",
    "end": "2529400"
  },
  {
    "text": "with just a fixed voltage, vc. And in this other\nstate, he's also",
    "start": "2529400",
    "end": "2536690"
  },
  {
    "text": "going to be a fixed voltage vc. And the only thing I\nneed is the net charge",
    "start": "2536690",
    "end": "2541819"
  },
  {
    "text": "that goes into vc\nover a cycle to be 0. So how much charge do\nI transfer in state 1?",
    "start": "2541820",
    "end": "2549394"
  },
  {
    "text": " And I'm going to do FSL\nwith 50% duty ratio.",
    "start": "2549395",
    "end": "2559325"
  },
  {
    "start": "2559325",
    "end": "2564480"
  },
  {
    "text": "In other words, I'm going\nto assume that in state 1, I spend half a period. In state 2, I'm going to\nspend half a period because",
    "start": "2564480",
    "end": "2572430"
  },
  {
    "text": "in the FSL, the fast switching\nlimit, how much time I spend in the two\nadjacent states matters.",
    "start": "2572430",
    "end": "2578385"
  },
  {
    "text": "But let's just assume\nI'm going to spend half in each state for\npurposes of this analysis. So in state 1, what do\nI get for delta qc 1?",
    "start": "2578385",
    "end": "2588120"
  },
  {
    "text": "Well, delta qc 1 is\ngoing to be what?",
    "start": "2588120",
    "end": "2594150"
  },
  {
    "text": "I'm going to say, all right,\nif he's a constant voltage, I'm going to get\na current that's",
    "start": "2594150",
    "end": "2600390"
  },
  {
    "text": "going to be v in minus vc minus\nv out divided by 2 R switch.",
    "start": "2600390",
    "end": "2606480"
  },
  {
    "text": "That's the current in state 1. So that's going to be v in\nminus vc minus v out divided",
    "start": "2606480",
    "end": "2617400"
  },
  {
    "text": "by 2 R switch. And that's going to\nhappen for how long? That's going to\nhappen for one half t.",
    "start": "2617400",
    "end": "2625060"
  },
  {
    "text": "Or I could write that\nas 1 over 2 f switch,",
    "start": "2625060",
    "end": "2630700"
  },
  {
    "text": "This is times half a period.  What is delta q in 1 look like?",
    "start": "2630700",
    "end": "2640310"
  },
  {
    "text": "That's just going to\nbe minus delta qc 1. And what's delta\nq in 2 look like?",
    "start": "2640310",
    "end": "2648980"
  },
  {
    "text": "That's just going to\nbe equal to delta qc 1.",
    "start": "2648980",
    "end": "2654880"
  },
  {
    "text": "In other words,\nall I'm saying is that here, the input\ngot the negative of the charge of the\ncapacitor, and the output",
    "start": "2654880",
    "end": "2661390"
  },
  {
    "text": "got the charge that went\nthrough the capacitor. Makes sense to everybody?",
    "start": "2661390",
    "end": "2666770"
  },
  {
    "text": " If I do this for state 2, what\nI'm going to get is delta qc 2",
    "start": "2666770",
    "end": "2685560"
  },
  {
    "text": "is simply going to be what? It's going to be v out\nminus vc over 2 R switch.",
    "start": "2685560",
    "end": "2695020"
  },
  {
    "text": "Or it's going to be v out\nminus vc over 2 R switch",
    "start": "2695020",
    "end": "2701880"
  },
  {
    "text": "is going to be minus vc minus\nv out over 2 R switch times",
    "start": "2701880",
    "end": "2713099"
  },
  {
    "text": "1 over 2 f switch. Delta q in 2 is going to be 0.",
    "start": "2713100",
    "end": "2721859"
  },
  {
    "text": "And delta q out 2 is going to be\nequal to the negative of this,",
    "start": "2721860",
    "end": "2727830"
  },
  {
    "text": "which is going to\nbe minus delta qc 1.",
    "start": "2727830",
    "end": "2732970"
  },
  {
    "text": "Does that make sense, everybody? AUDIENCE: [INAUDIBLE]",
    "start": "2732970",
    "end": "2740090"
  },
  {
    "text": " PROFESSOR: Yes. ",
    "start": "2740090",
    "end": "2748937"
  },
  {
    "text": "That's what happens when I rush. Thank you.  What constraint do\nI get off of this?",
    "start": "2748937",
    "end": "2756710"
  },
  {
    "text": "Well, what I need is delta\nqc of 1 plus delta qc of 2",
    "start": "2756710",
    "end": "2762369"
  },
  {
    "text": "have to add up to 0. I mean, that's a constraint\nfor periodic steady state.",
    "start": "2762370",
    "end": "2769450"
  },
  {
    "text": "So what I get is for PSS,\nwhat I get is delta qc of 1",
    "start": "2769450",
    "end": "2780700"
  },
  {
    "text": "plus delta qc 2 is equal\nto 0, which gives me--",
    "start": "2780700",
    "end": "2787420"
  },
  {
    "text": "I can ignore the 1 over\n4 f switch R switch. That gives me v in\nminus vc minus v",
    "start": "2787420",
    "end": "2792670"
  },
  {
    "text": "out plus v out minus vc plus\nv out minus vc is equal to 0.",
    "start": "2792670",
    "end": "2812260"
  },
  {
    "text": "And what this gives me is that\nvc is going to be half v in.",
    "start": "2812260",
    "end": "2818910"
  },
  {
    "text": " So in periodic steady\nstate, I'm going",
    "start": "2818910",
    "end": "2825340"
  },
  {
    "text": "to be charging\ndischarging the capacitor, but he's going to sit at an\naverage value of half v in.",
    "start": "2825340",
    "end": "2831030"
  },
  {
    "text": "I can then go and plug\nthis value back in--",
    "start": "2831030",
    "end": "2836382"
  },
  {
    "text": "and I'm kind of running\nout of time here. I can go plug this back in\nand find q out 1 and q in 1.",
    "start": "2836382",
    "end": "2843040"
  },
  {
    "text": "I can do the same\ngame I do over here. And if you do that\ncalculation, it's pretty easy.",
    "start": "2843040",
    "end": "2854640"
  },
  {
    "text": "I can calculate i out\nas being the sum of q 1 and q in and q out. And what I get is v out is equal\nto 1/2 v in minus 2 R switch i",
    "start": "2854640",
    "end": "2870890"
  },
  {
    "text": "out.  So it's of the exact same\nformat that I had up here.",
    "start": "2870890",
    "end": "2881100"
  },
  {
    "text": "So here, I get this in the SSL. ",
    "start": "2881100",
    "end": "2888480"
  },
  {
    "text": "And in the FSL--",
    "start": "2888480",
    "end": "2894335"
  },
  {
    "text": "I think should use\na different color-- in the FSL. ",
    "start": "2894335",
    "end": "2901740"
  },
  {
    "text": "Req is simply equal\nto 2 R switch.",
    "start": "2901740",
    "end": "2907710"
  },
  {
    "text": "Well, that actually kind\nof feels good in some sense because if you think about it,\nin either of these two states,",
    "start": "2907710",
    "end": "2914010"
  },
  {
    "text": "I'm always dumping current\nthrough two switches. ",
    "start": "2914010",
    "end": "2921930"
  },
  {
    "text": "So half the time I'm doing\nin this configuration, half the time in that configuration,\nbut if I think of a capacitor",
    "start": "2921930",
    "end": "2928290"
  },
  {
    "text": "current as being of a plus and\nminus square wave of current,",
    "start": "2928290",
    "end": "2934060"
  },
  {
    "text": "the input current is\nconstant coming here, and the output current-- I'm sorry, the input current\nis a pulse square root.",
    "start": "2934060",
    "end": "2939970"
  },
  {
    "text": "The output current\nis kind of constant. But the point is I'm\nalways putting my charging",
    "start": "2939970",
    "end": "2946168"
  },
  {
    "text": "and discharging current\nthrough two switch resistances, so it's not maybe\nsurprising that I get down to this\nequivalent resistance",
    "start": "2946168",
    "end": "2953320"
  },
  {
    "text": "being two switch resistances. So what happens in the real\nworld is if I have a switch",
    "start": "2953320",
    "end": "2960290"
  },
  {
    "text": "capacitor converter\nand I say I'm going to have this model for its\nbehavior, all I'm going to get",
    "start": "2960290",
    "end": "2970550"
  },
  {
    "text": "is if I plotted R equivalent\non a log scale versus switching",
    "start": "2970550",
    "end": "2977450"
  },
  {
    "text": "frequency on a log scale,\nwhat I'm going to get is something that\nfalls linearly.",
    "start": "2977450",
    "end": "2984410"
  },
  {
    "text": "This is 1 over 4 c f switch. And then he's going to have\nsome minimum value, which",
    "start": "2984410",
    "end": "2994460"
  },
  {
    "text": "is 2 R switch.  And the actual value\nyou're going to get",
    "start": "2994460",
    "end": "3000700"
  },
  {
    "text": "is going to do\nsomething like this. ",
    "start": "3000700",
    "end": "3007490"
  },
  {
    "text": "So there's kind of some limiting\nefficiency you can get to. Well, if I'm charging through\ntwo switches all the time,",
    "start": "3007490",
    "end": "3013810"
  },
  {
    "text": "I got to eat the on-state\nloss of those switches. I mean, I can't have\n100% efficiency.",
    "start": "3013810",
    "end": "3019420"
  },
  {
    "text": "But if I'm using 10\nmilliohm switches, maybe that's pretty damn low. So essentially, what\nI would tend to do",
    "start": "3019420",
    "end": "3028210"
  },
  {
    "text": "is keep turning up the\nswitching frequency until I get down to this\nregime where turning it up",
    "start": "3028210",
    "end": "3034570"
  },
  {
    "text": "any more doesn't\nreduce my output resistance because, at that\npoint, there are other losses,",
    "start": "3034570",
    "end": "3040924"
  },
  {
    "text": "like gate drive losses\nand stuff, which get worse with frequency. So I ought to just\ngo high enough that I can get to very\nhigh efficiencies.",
    "start": "3040925",
    "end": "3047330"
  },
  {
    "text": "And the result of\nthis is if what I want is a fixed conversion\nratio close to this,",
    "start": "3047330",
    "end": "3054490"
  },
  {
    "text": "I can get extraordinarily high\nefficiencies in power densities. If I deviate the voltage\nconversion ratio away from that,",
    "start": "3054490",
    "end": "3062559"
  },
  {
    "text": "then the efficiency\nstarts to droop. But for what they're good at,\nswitch capacitor converters are very hard to beat.",
    "start": "3062560",
    "end": "3068390"
  },
  {
    "text": "And if I was to come back\nand analyze any other switch capacitor converter,\nit's the same deal. It's some charge\ntransfer analysis",
    "start": "3068390",
    "end": "3074920"
  },
  {
    "text": "through the\ndifferent capacitors. And I use charge balance,\nand you can work that out to being a current conversion\nratio and then some equivalent",
    "start": "3074920",
    "end": "3084132"
  },
  {
    "text": "resistance with a slow switching\nlimit and a fast switching limit. ",
    "start": "3084132",
    "end": "3089410"
  },
  {
    "text": "We'll take this up\nagain next class. But are there any\nfinal questions? Yeah?",
    "start": "3089410",
    "end": "3094937"
  },
  {
    "text": "AUDIENCE: Now that\nyou're switching quickly, can the duty ratio change\nthe conversion ratio?",
    "start": "3094937",
    "end": "3100760"
  },
  {
    "text": "PROFESSOR: Well, yes, but\nonly through the action of essentially what\nthis resistance is.",
    "start": "3100760",
    "end": "3109130"
  },
  {
    "text": "So you can make the-- for any given converter,\nthere's a duty ratio that will give you the\nlowest output resistance.",
    "start": "3109130",
    "end": "3115970"
  },
  {
    "text": "Even in slow\nswitching limit, you can change the conversion\nratio, but you're doing it",
    "start": "3115970",
    "end": "3121160"
  },
  {
    "text": "through a resistive drop. It's sort of like you have\nan ideal transformer and then a linear regulator\nkind of thing.",
    "start": "3121160",
    "end": "3126510"
  },
  {
    "text": "So you can always use\nswitching frequency and fast switching limit duty ratio to\nchange the conversion ratio,",
    "start": "3126510",
    "end": "3134630"
  },
  {
    "text": "but not in a perfectly\nefficient sense-- for the voltage\nconversion ratio.",
    "start": "3134630",
    "end": "3140282"
  },
  {
    "text": "All right, great. We'll pick this up next class. ",
    "start": "3140282",
    "end": "3146000"
  }
]