[
  {
    "start": "4500",
    "end": "4500"
  },
  {
    "text": "Picking a good threshold\nvalue is often challenging.",
    "start": "4500",
    "end": "7940"
  },
  {
    "text": "A Receiver Operator\nCharacteristic curve,",
    "start": "7940",
    "end": "10620"
  },
  {
    "text": "or ROC curve, can\nhelp you decide",
    "start": "10620",
    "end": "13320"
  },
  {
    "text": "which value of the\nthreshold is best.",
    "start": "13320",
    "end": "16320"
  },
  {
    "text": "The ROC curve for\nour problem is shown",
    "start": "16320",
    "end": "19000"
  },
  {
    "text": "on the right of this slide.",
    "start": "19000",
    "end": "20850"
  },
  {
    "text": "The sensitivity, or true\npositive rate of the model,",
    "start": "20850",
    "end": "24400"
  },
  {
    "text": "is shown on the y-axis.",
    "start": "24400",
    "end": "26789"
  },
  {
    "text": "And the false positive rate,\nor 1 minus the specificity,",
    "start": "26790",
    "end": "31250"
  },
  {
    "text": "is given on the x-axis.",
    "start": "31250",
    "end": "33820"
  },
  {
    "text": "The line shows how these\ntwo outcome measures",
    "start": "33820",
    "end": "36540"
  },
  {
    "text": "vary with different\nthreshold values.",
    "start": "36540",
    "end": "39520"
  },
  {
    "text": "The ROC curve always\nstarts at the point (0, 0).",
    "start": "39520",
    "end": "44340"
  },
  {
    "text": "This corresponds to a\nthreshold value of 1.",
    "start": "44340",
    "end": "48480"
  },
  {
    "text": "If you have a\nthreshold of 1, you",
    "start": "48480",
    "end": "50610"
  },
  {
    "text": "will not catch any\npoor care cases,",
    "start": "50610",
    "end": "53430"
  },
  {
    "text": "or have a sensitivity of 0.",
    "start": "53430",
    "end": "56070"
  },
  {
    "text": "But you will correctly\nlabel of all the good care",
    "start": "56070",
    "end": "59070"
  },
  {
    "text": "cases, meaning you have a\nfalse positive rate of 0.",
    "start": "59070",
    "end": "63950"
  },
  {
    "text": "The ROC curve always\nends at the point (1,1),",
    "start": "63950",
    "end": "67810"
  },
  {
    "text": "which corresponds to a\nthreshold value of 0.",
    "start": "67810",
    "end": "71520"
  },
  {
    "text": "If you have a\nthreshold of 0, you'll",
    "start": "71520",
    "end": "73659"
  },
  {
    "text": "catch all of the\npoor care cases,",
    "start": "73660",
    "end": "75830"
  },
  {
    "text": "or have a sensitivity\nof 1, but you'll",
    "start": "75830",
    "end": "78370"
  },
  {
    "text": "label all of the good care\ncases as poor care cases",
    "start": "78370",
    "end": "81539"
  },
  {
    "text": "too, meaning you have a\nfalse positive rate of 1.",
    "start": "81539",
    "end": "85970"
  },
  {
    "text": "The threshold decreases as\nyou move from (0,0) to (1,1).",
    "start": "85970",
    "end": "91420"
  },
  {
    "text": "At the point (0,\n0.4), or about here,",
    "start": "91420",
    "end": "97280"
  },
  {
    "text": "you're correctly\nlabeling about 40%",
    "start": "97280",
    "end": "100119"
  },
  {
    "text": "of the poor care cases with a\nvery small false positive rate.",
    "start": "100120",
    "end": "104960"
  },
  {
    "text": "On the other hand, at\nthe point (0.6, 0.9),",
    "start": "104960",
    "end": "110390"
  },
  {
    "text": "you're correctly labeling about\n90% of the poor care cases,",
    "start": "110390",
    "end": "114570"
  },
  {
    "text": "but have a false\npositive rate of 60%.",
    "start": "114570",
    "end": "118310"
  },
  {
    "text": "In the middle,\naround (0.3, 0.8),",
    "start": "118310",
    "end": "122119"
  },
  {
    "text": "you're correctly labeling about\n80% of the poor care cases,",
    "start": "122120",
    "end": "126120"
  },
  {
    "text": "with a 30% false positive rate.",
    "start": "126120",
    "end": "129940"
  },
  {
    "text": "The ROC curve captures all\nthresholds simultaneously.",
    "start": "129940",
    "end": "134380"
  },
  {
    "text": "The higher the threshold,\nor closer to (0, 0),",
    "start": "134380",
    "end": "137829"
  },
  {
    "text": "the higher the specificity\nand the lower the sensitivity.",
    "start": "137829",
    "end": "142060"
  },
  {
    "text": "The lower the threshold,\nor closer to (1,1),",
    "start": "142060",
    "end": "145400"
  },
  {
    "text": "the higher the sensitivity\nand lower the specificity.",
    "start": "145400",
    "end": "150480"
  },
  {
    "text": "So which threshold\nvalue should you pick?",
    "start": "150480",
    "end": "153360"
  },
  {
    "text": "You should select\nthe best threshold",
    "start": "153360",
    "end": "155460"
  },
  {
    "text": "for the trade-off\nyou want to make.",
    "start": "155460",
    "end": "157870"
  },
  {
    "text": "If you're more concerned with\nhaving a high specificity",
    "start": "157870",
    "end": "161140"
  },
  {
    "text": "or low false positive\nrate, pick the threshold",
    "start": "161140",
    "end": "164720"
  },
  {
    "text": "that maximizes the\ntrue positive rate",
    "start": "164720",
    "end": "167430"
  },
  {
    "text": "while keeping the false\npositive rate really low.",
    "start": "167430",
    "end": "170620"
  },
  {
    "text": "A threshold around (0.1,\n0.5) on this ROC curve",
    "start": "170620",
    "end": "176010"
  },
  {
    "text": "looks like a good\nchoice in this case.",
    "start": "176010",
    "end": "179069"
  },
  {
    "text": "On the other hand, if\nyou're more concerned",
    "start": "179070",
    "end": "181380"
  },
  {
    "text": "with having a high sensitivity\nor high true positive rate,",
    "start": "181380",
    "end": "185620"
  },
  {
    "text": "pick a threshold that minimizes\nthe false positive rate",
    "start": "185620",
    "end": "188989"
  },
  {
    "text": "but has a very high\ntrue positive rate.",
    "start": "188990",
    "end": "192260"
  },
  {
    "text": "A threshold around\n(0.3, 0.8) looks",
    "start": "192260",
    "end": "197780"
  },
  {
    "text": "like a good choice in this case.",
    "start": "197780",
    "end": "201690"
  },
  {
    "text": "You can label the\nthreshold values in R",
    "start": "201690",
    "end": "204329"
  },
  {
    "text": "by color-coding the curve.",
    "start": "204329",
    "end": "206400"
  },
  {
    "text": "The legend is\nshown on the right.",
    "start": "206400",
    "end": "208879"
  },
  {
    "text": "This shows us that-- say\nwe want to pick a threshold",
    "start": "208880",
    "end": "212170"
  },
  {
    "text": "value around here.",
    "start": "212170",
    "end": "214329"
  },
  {
    "text": "This corresponds to between the\naqua color and the green color.",
    "start": "214329",
    "end": "219129"
  },
  {
    "text": "Or it looks like about\na threshold of 0.3.",
    "start": "219130",
    "end": "223170"
  },
  {
    "text": "Instead, if we wanted to\npick a threshold around here,",
    "start": "223170",
    "end": "226970"
  },
  {
    "text": "this looks like the start\nof the darker blue color,",
    "start": "226970",
    "end": "230160"
  },
  {
    "text": "and looks like it's probably\na threshold around 0.2.",
    "start": "230160",
    "end": "235079"
  },
  {
    "text": "We can also add specific\nthreshold labels",
    "start": "235079",
    "end": "238730"
  },
  {
    "text": "to the curve in\nR. This helps you",
    "start": "238730",
    "end": "241580"
  },
  {
    "text": "see which threshold\nvalue you want to use.",
    "start": "241580",
    "end": "244740"
  },
  {
    "text": "Let's go into R and see how\nto generate these ROC curves.",
    "start": "244740",
    "end": "250390"
  },
  {
    "text": "To generate ROC curves in R, we\nneed to install a new package.",
    "start": "250390",
    "end": "255470"
  },
  {
    "text": "We'll use the same two\ncommands as we did earlier",
    "start": "255470",
    "end": "258320"
  },
  {
    "text": "in the lecture, but this\ntime the name of the package",
    "start": "258320",
    "end": "261390"
  },
  {
    "text": "is ROCR.",
    "start": "261390",
    "end": "263350"
  },
  {
    "text": "So first type\ninstall.packages(\"ROCR\"),",
    "start": "263350",
    "end": "271110"
  },
  {
    "text": "and hit Enter.",
    "start": "271110",
    "end": "272550"
  },
  {
    "text": "Since we picked a CRAN mirror\nalready in this R session,",
    "start": "272550",
    "end": "276270"
  },
  {
    "text": "we shouldn't have\nto pick it again.",
    "start": "276270",
    "end": "278449"
  },
  {
    "text": "You know the package\nis done installing",
    "start": "278450",
    "end": "280560"
  },
  {
    "text": "when you see the\narrow and blinking",
    "start": "280560",
    "end": "282139"
  },
  {
    "text": "cursor in your R console.",
    "start": "282140",
    "end": "284760"
  },
  {
    "text": "Now let's load the package\nusing the library function.",
    "start": "284760",
    "end": "288330"
  },
  {
    "text": "Recall that we made\npredictions on our training set",
    "start": "291420",
    "end": "294409"
  },
  {
    "text": "and called them predictTrain.",
    "start": "294409",
    "end": "296330"
  },
  {
    "text": "We'll use these predictions\nto create our ROC curve.",
    "start": "296330",
    "end": "300509"
  },
  {
    "text": "First, we'll call the\nprediction function of ROCR.",
    "start": "300510",
    "end": "304580"
  },
  {
    "text": "We'll call the output of\nthis function ROCRpred,",
    "start": "304580",
    "end": "309870"
  },
  {
    "text": "and then use the\nprediction function.",
    "start": "309870",
    "end": "312570"
  },
  {
    "text": "This function takes\ntwo arguments.",
    "start": "312570",
    "end": "315140"
  },
  {
    "text": "The first is the\npredictions we made",
    "start": "315140",
    "end": "317080"
  },
  {
    "text": "with our model, which\nwe called predictTrain.",
    "start": "317080",
    "end": "321250"
  },
  {
    "text": "The second argument is the true\noutcomes of our data points,",
    "start": "321250",
    "end": "325830"
  },
  {
    "text": "which in our case, is\nqualityTrain$PoorCare.",
    "start": "325830",
    "end": "327699"
  },
  {
    "text": "Now, we need to use the\nperformance function.",
    "start": "333120",
    "end": "336169"
  },
  {
    "text": "This defines what\nwe'd like to plot",
    "start": "336170",
    "end": "337760"
  },
  {
    "text": "on the x and y-axes\nof our ROC curve.",
    "start": "337760",
    "end": "341780"
  },
  {
    "text": "We'll call the output\nof this ROCRperf,",
    "start": "341780",
    "end": "345659"
  },
  {
    "text": "and use the performance\nfunction, which",
    "start": "345659",
    "end": "348350"
  },
  {
    "text": "takes as arguments the output\nof the prediction function,",
    "start": "348350",
    "end": "353250"
  },
  {
    "text": "and then what we want\non the x and y-axes.",
    "start": "353250",
    "end": "356250"
  },
  {
    "text": "In this case, it's\ntrue positive rate,",
    "start": "356250",
    "end": "358790"
  },
  {
    "text": "or \"tpr\", and false\npositive rate, or \"fpr\".",
    "start": "358790",
    "end": "363380"
  },
  {
    "text": "Now, we just need to plot\nthe output of the performance",
    "start": "363380",
    "end": "366880"
  },
  {
    "text": "function, ROCRperf.",
    "start": "366880",
    "end": "368140"
  },
  {
    "text": "You should see the ROC curve\npop up in a new window.",
    "start": "370980",
    "end": "374660"
  },
  {
    "text": "This should look exactly like\nthe one we saw on the slides.",
    "start": "374660",
    "end": "379380"
  },
  {
    "text": "Now, you can add colors by\nadding one additional argument",
    "start": "379380",
    "end": "383120"
  },
  {
    "text": "to the plot function.",
    "start": "383120",
    "end": "384770"
  },
  {
    "text": "So in your R console, hit the\nup arrow, and after ROCRperf,",
    "start": "384770",
    "end": "390910"
  },
  {
    "text": "type colorize=TRUE,\nand hit Enter.",
    "start": "390910",
    "end": "395530"
  },
  {
    "text": "If you go back to\nyour plot window,",
    "start": "395530",
    "end": "397300"
  },
  {
    "text": "you should see the ROC\ncurve with the colors",
    "start": "397300",
    "end": "400009"
  },
  {
    "text": "for the threshold values added.",
    "start": "400010",
    "end": "403490"
  },
  {
    "text": "Now finally, let's add the\nthreshold labels to our plot.",
    "start": "403490",
    "end": "407849"
  },
  {
    "text": "Back in your R console, hit the\nup arrow again to get the plot",
    "start": "407850",
    "end": "411430"
  },
  {
    "text": "function, and after\ncolorize=TRUE,",
    "start": "411430",
    "end": "415250"
  },
  {
    "text": "we'll add two more arguments.",
    "start": "415250",
    "end": "417870"
  },
  {
    "text": "The first is\nprint.cutoffs.at=seq(0,1,0.1),",
    "start": "417870",
    "end": "431550"
  },
  {
    "text": "which will print the threshold\nvalues in increments of 0.1.",
    "start": "431550",
    "end": "435729"
  },
  {
    "text": "If you want finer increments,\njust decrease the value of 0.1.",
    "start": "435730",
    "end": "440820"
  },
  {
    "text": "And then the final argument\nis text.adj=c(-0.2,1.7),",
    "start": "440820",
    "end": "443170"
  },
  {
    "text": "and hit enter.",
    "start": "443170",
    "end": "443750"
  },
  {
    "text": "If you go back to\nyour plot window,",
    "start": "456330",
    "end": "459139"
  },
  {
    "text": "you should see the ROC curve\nwith threshold values added.",
    "start": "459140",
    "end": "464290"
  },
  {
    "text": "Using this curve, we can\ndetermine which threshold value",
    "start": "464290",
    "end": "467530"
  },
  {
    "text": "we want to use depending\non our preferences",
    "start": "467530",
    "end": "469960"
  },
  {
    "text": "as a decision-maker.",
    "start": "469960",
    "end": "472300"
  },
  {
    "text": "In the next video,\nwe'll discuss how",
    "start": "472300",
    "end": "474759"
  },
  {
    "text": "to assess the\nstrength of our model.",
    "start": "474760",
    "end": "477670"
  }
]