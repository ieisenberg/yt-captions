[
  {
    "text": " The following\ncontent is provided under a Creative\nCommons license. Your support will help MIT\nOpenCourseWare continue",
    "start": "0",
    "end": "6540"
  },
  {
    "text": "to offer high quality\neducational resources for free. To make a donation or to\nview additional materials",
    "start": "6540",
    "end": "12680"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "12680",
    "end": "27560"
  },
  {
    "text": "CORY: I guess I'll\nstart now since I think this might be the crowd since\nmost people are probably sleeping after the sprint\nsubmission deadline.",
    "start": "27560",
    "end": "36330"
  },
  {
    "text": "Were most people up at 6:00 AM? Most? Most if not all.",
    "start": "36330",
    "end": "41590"
  },
  {
    "text": "Alright, so, my name is Cory. I'm from the winning\nteam last year",
    "start": "41590",
    "end": "47460"
  },
  {
    "text": "and what I really\nwant to do today is kind of give a\ncomplete information dump.",
    "start": "47460",
    "end": "52560"
  },
  {
    "text": "So this lecture will almost\nseem like a stream of conscious, but these are the things\nthat throughout all",
    "start": "52560",
    "end": "59630"
  },
  {
    "text": "of our years at battle code\nare the things we really wish we'd got in lecture\nbut never actually got.",
    "start": "59630",
    "end": "64989"
  },
  {
    "text": "So my goal is hopefully to give\nthe most relevant-- hopefully",
    "start": "64989",
    "end": "70070"
  },
  {
    "text": "like the most applicable\nlecture to the nitty gritty details of\nthe day to day.",
    "start": "70070",
    "end": "75210"
  },
  {
    "text": "Things that you're\ndoing battle code in order to make your\nbot better and try to improve your performance\nagainst the other teams.",
    "start": "75210",
    "end": "81190"
  },
  {
    "text": "So whatever competitive edge you\ncan glean from this hopefully propel yourself to\nthe top of the ladder.",
    "start": "81190",
    "end": "87060"
  },
  {
    "text": "So just to give a little bit\nof background about myself, I've been in three\nteams since 2010.",
    "start": "87060",
    "end": "94729"
  },
  {
    "text": "The first two years\nwhere we're kind of meh. But in 2012 we were finally\nable to win the entire thing",
    "start": "94730",
    "end": "102409"
  },
  {
    "text": "with my teammates,\nYanping, Haitao and Justin. And in each year was quite\ndifferent because of the people",
    "start": "102410",
    "end": "109727"
  },
  {
    "text": "you work with. So what I want to do is give a\nlot about our 2012 experiences,",
    "start": "109727",
    "end": "115210"
  },
  {
    "text": "and kind of explain the\nvarious choices we did. The tricks and techniques\nwe did in order to give ourselves an\nedge over the other team.",
    "start": "115210",
    "end": "122900"
  },
  {
    "text": "And I also want to give\nspecial thanks to these four teams in particular, Gunface,\nMy Archon Died Bellmanfording",
    "start": "122900",
    "end": "128699"
  },
  {
    "text": "the Stream, Drunkasaurus\nand Toothless. Just know that battle code\nis not done in a vacuum, and you learned from\nall the other teams.",
    "start": "128699",
    "end": "135670"
  },
  {
    "text": "And so these teams were\nparticularly helpful that our team learned from,\nthat our team collaborated with.",
    "start": "135670",
    "end": "141090"
  },
  {
    "text": "That we were able\nto share code bases and learn from each\nother, et cetera. So just to preface everything,\nwe're the one's, fun gamers,",
    "start": "141090",
    "end": "149380"
  },
  {
    "text": "is the one responsible\nfor the spec this year. So if any of you guys\nhave problems with it, you can't really blame Max or\nStephen, you have to blame us.",
    "start": "149380",
    "end": "157190"
  },
  {
    "text": "So any cries for like nerfing,\nOP, whatever, it comes to us. We made a lot of huge\nchanges this year",
    "start": "157190",
    "end": "163729"
  },
  {
    "text": "just because we wanted to\nmix up the game a little bit. And also we wanted to make it\na little bit easier for people",
    "start": "163729",
    "end": "168760"
  },
  {
    "text": "to start off code bases\nand get running players. I don't know how\nmany of you guys played in 2010 or even\n2011, but the amount",
    "start": "168760",
    "end": "178060"
  },
  {
    "text": "of code required to get even\na simple bot up and running was enormous. So in 2010, because\nyou couldn't actually",
    "start": "178060",
    "end": "184710"
  },
  {
    "text": "attack a unit until you had\nequipped a gun on a robot, it took almost one to two\ndays worth of code base",
    "start": "184710",
    "end": "190319"
  },
  {
    "text": "before you could even get a\nrobot moving and attacking simultaneously. So what we did a\nlot was simplify",
    "start": "190320",
    "end": "196610"
  },
  {
    "text": "a huge number of things to\nmake it a lot more higher level strategic control.",
    "start": "196610",
    "end": "201860"
  },
  {
    "text": "So no walls, attacking\nis completely automatic, we removed directionality. I don't know how many of\nyou guys played last year,",
    "start": "201860",
    "end": "208247"
  },
  {
    "text": "but this one's pretty big. There's no robot directionality. We added in shared vision,\nglobal broadcasting,",
    "start": "208248",
    "end": "214500"
  },
  {
    "text": "and a known map. So do most people\nenjoy these changes?",
    "start": "214500",
    "end": "220299"
  },
  {
    "text": "Or at least people who have\nplayed it in previous years? Yeah? We're really excited,\nat least, about,",
    "start": "220300",
    "end": "226800"
  },
  {
    "text": "in particular, having\nthe map completely known and the global broadcasting,\nbecause it allows",
    "start": "226800",
    "end": "232819"
  },
  {
    "text": "an unprecedented level of\nrobot communication this year. So you can now,\ninstead of having",
    "start": "232820",
    "end": "238360"
  },
  {
    "text": "a bunch of almost\ncompletely autonomous robots with very limited\nbroadcasting, you can have coordinate attacks. You know the map.",
    "start": "238360",
    "end": "244400"
  },
  {
    "text": "You can design your\nstrategy based on the map. Rather than wandering around\nfor 100 to 1000 rounds,",
    "start": "244400",
    "end": "250970"
  },
  {
    "text": "not knowing where to go, getting\nstuck behind voids, et cetera. The no walls is also\nvery interesting.",
    "start": "250970",
    "end": "257250"
  },
  {
    "text": "What we found in previous\nyears is contestants will sometimes, if the math\nis really stupid or really",
    "start": "257250",
    "end": "263400"
  },
  {
    "text": "retarded, what'll end\nup happening is you just watch for 3,000 rounds\nboth people stuck in their base because of this\nreally interesting concave",
    "start": "263400",
    "end": "270600"
  },
  {
    "text": "of walls that prevents\nthe people from getting out and actually\nengaging each other. So with no walls\nyou can actually",
    "start": "270600",
    "end": "276889"
  },
  {
    "text": "basically control\nthe battlefield. You can defuse mines, you\ncan add your own walls, you can prevent your\nenemies from attacking.",
    "start": "276890",
    "end": "283160"
  },
  {
    "text": "You can create kind of--\nyou can bend the battlefield",
    "start": "283160",
    "end": "288497"
  },
  {
    "text": "to your will, which we thought\nwas really exciting, especially because you're no longer\ncompletely screwed over if the map wasn't\nwhat you expected.",
    "start": "288497",
    "end": "294930"
  },
  {
    "text": " So to begin, I want to\nemphasize that battle code is",
    "start": "294930",
    "end": "301520"
  },
  {
    "text": "a trade off of time. So this is what battle code\nultimately comes down to.",
    "start": "301520",
    "end": "307730"
  },
  {
    "text": "You have three to four\nweeks to basically implement an entire bot. And in these three\nto four weeks,",
    "start": "307730",
    "end": "313789"
  },
  {
    "text": "you have to decide\nwhat is most important. If you spend your time on the\nwrong thing you will not win. You have to spend your\ntime where it matters.",
    "start": "313790",
    "end": "321360"
  },
  {
    "text": "And, in particular, I want\nto say that results to effort vary very highly\nbetween what you",
    "start": "321360",
    "end": "326729"
  },
  {
    "text": "choose to spend your time on. So one of the most important\nthings to spend your time on is attack micro.",
    "start": "326730",
    "end": "332419"
  },
  {
    "text": "If you can win every engagement\nyou will win the game. It doesn't matter if they're\nhigher level strategy, if you always win the\nengagement you will beat",
    "start": "332420",
    "end": "339360"
  },
  {
    "text": "their army straight\nup, no matter what. OK? Next is swarm code. If you're swarm\nmoves together you'll",
    "start": "339360",
    "end": "345400"
  },
  {
    "text": "usually win the engagement. If you have better swarm\ncode your attack micro can be a little bit off. But you'll still end up\nengaging with larger numbers",
    "start": "345400",
    "end": "352370"
  },
  {
    "text": "and winning the fight. And winning fights wins games. The navigation code that\nallows you to actually get to the enemy swarm\nand defeat them.",
    "start": "352370",
    "end": "359040"
  },
  {
    "text": "And then there is some\nhigh level strategy that you can't make\ncompletely wrong choices. But, once again, if you\nhave good attack micro,",
    "start": "359040",
    "end": "365872"
  },
  {
    "text": "you can make questionable\nhigh level strategies but still win every engagement. So the way I'm going to\nstructure this lecture",
    "start": "365872",
    "end": "371770"
  },
  {
    "text": "is I'll have various tags. There are certain things\nthat apply to novices.",
    "start": "371770",
    "end": "378060"
  },
  {
    "text": "There are certain things that\napply to advanced players. And then there\nare certain things that apply to expert players.",
    "start": "378060",
    "end": "384530"
  },
  {
    "text": "This also comes down\nto a trade off of time. If you have four\npeople, maybe you want to consider doing some\nof the more advanced tricks",
    "start": "384530",
    "end": "391230"
  },
  {
    "text": "and tactics. But if you only have say,\nif you're working solo or you only have\ntwo people, you want to spend your time\nwhere it matters.",
    "start": "391230",
    "end": "398229"
  },
  {
    "text": "So don't spend time implementing\nthings that give you very tiny marginal advantages\nwhen you could, say, be",
    "start": "398230",
    "end": "404460"
  },
  {
    "text": "focusing on your attack micro. And win all the battles\nrather than saving maybe like one or two bite\ncodes per iteration.",
    "start": "404460",
    "end": "410505"
  },
  {
    "text": " So first off, to do well\nin battle code you really",
    "start": "410505",
    "end": "419800"
  },
  {
    "text": "have to know the spec. And I know we've been really\nbad at keeping the specs up to date, there've been typos.",
    "start": "419800",
    "end": "425990"
  },
  {
    "text": "But hopefully by now\neverything has mostly been standardized and\ncorrected, and all the typos.",
    "start": "425990",
    "end": "432300"
  },
  {
    "text": "And then you guys didn't really\nlike our the diffusion/defusion joke. So we changed the word\ndefusion to diffusion",
    "start": "432300",
    "end": "439169"
  },
  {
    "text": "so that you guys didn't\nthink it was a typo and that we were stupid. So quick quiz, what's\nthe base spawn rate?",
    "start": "439169",
    "end": "446270"
  },
  {
    "text": "Someone call it out. Ten. Alright, nice. What's the cost for\nthree suppliers?",
    "start": "446270",
    "end": "453406"
  },
  {
    "text": "Cumulative?  What was that?",
    "start": "453406",
    "end": "458690"
  },
  {
    "text": "I think I heard it over there. 60. Right. Because it starts off with\n10 for the first supplier,",
    "start": "458690",
    "end": "464390"
  },
  {
    "text": "then the cost is the additive. So 20 and then 30 and\nto 60, 60 the total cost",
    "start": "464390",
    "end": "469430"
  },
  {
    "text": "for three suppliers. What is the spawn rate\nwith three suppliers? ",
    "start": "469430",
    "end": "476546"
  },
  {
    "text": "It's 8. So total cost of three suppliers\nis-- the spawn rate of three",
    "start": "476546",
    "end": "482920"
  },
  {
    "text": "suppliers is 8 per round\nbecause it is kind of a curve.",
    "start": "482920",
    "end": "488050"
  },
  {
    "text": "The first supplier\nwill get you down to 9. The second supplier will\nget you down to eight. And the third supplier is\nactually the first supplier",
    "start": "488050",
    "end": "494150"
  },
  {
    "text": "that doesn't bring\nyou down another point because it's rounded\nto the nearest integer. Even.",
    "start": "494150",
    "end": "499740"
  },
  {
    "text": "So in terms of unit\nspawn, at out what round does the first\nsupplier break even? ",
    "start": "499740",
    "end": "508430"
  },
  {
    "text": "So these are all\nlike critical numbers that if you know\nyou can kind of gain the spec to your advantage. ",
    "start": "508430",
    "end": "516450"
  },
  {
    "text": "Close. The first supplier breaks\neven at what round? If I get one supplier,\nI have one turn",
    "start": "516450",
    "end": "525570"
  },
  {
    "text": "spawn reduction, which\nmeans I break even, in terms of units,\nat what round?",
    "start": "525570",
    "end": "530760"
  },
  {
    "text": "I sacrifice one unit\nto get the supplier, so I'll break even\nwhen I get back that extra unit,\nwhich is at 90 rounds.",
    "start": "530760",
    "end": "536880"
  },
  {
    "text": " So the first supplier\nbreaks even at 90 rounds.",
    "start": "536880",
    "end": "543530"
  },
  {
    "text": "So these are key numbers. They maybe tweaked\nin the future, but if you always have a\nsense of all these numbers,",
    "start": "543530",
    "end": "550060"
  },
  {
    "text": "you can kind of make\ngood high level decisions about what you\nshould be building and what you\nshouldn't be building",
    "start": "550060",
    "end": "556040"
  },
  {
    "text": "at the beginning of the game. So the beginning of\nthe game is very key. What we did was you have\nan excess of energy.",
    "start": "556040",
    "end": "563831"
  },
  {
    "text": "So you have a choice, like\nin Max's lecture yesterday, whether to build\ngenerators or suppliers. And if you know roughly at what\ntime these things break even,",
    "start": "563831",
    "end": "570910"
  },
  {
    "text": "or at what time you gain\nthat the marginal advantage, you can decide when to\nattack or when not to attack.",
    "start": "570910",
    "end": "577620"
  },
  {
    "text": "So know the specs,\nthat's very key. Second, I want to say\ntesting is probably",
    "start": "577620",
    "end": "585570"
  },
  {
    "text": "the most important thing,\nsecond from spending your time in the correct place. Because you don't\nactually know if you're",
    "start": "585570",
    "end": "592200"
  },
  {
    "text": "spending your time\nin the correct place unless you're actually\ntesting the code. So as a high level, you want to\nwrite multiple distinct bots.",
    "start": "592200",
    "end": "600960"
  },
  {
    "text": "So I know a lot of teams maybe\njust have a single bot lineage. But our team we wrote like 10\nto 12 different bots, each one",
    "start": "600960",
    "end": "609339"
  },
  {
    "text": "with different strategies. And sometimes we wrote bots\ncompletely from scratch when we thought we had\na really cool strategy.",
    "start": "609340",
    "end": "615570"
  },
  {
    "text": "So last year there\nwere flying units. So we thought, well it\nwould be kind of cool maybe",
    "start": "615570",
    "end": "621209"
  },
  {
    "text": "if we could have\nunits that only-- or if we had a base that\nonly spawned flying units.",
    "start": "621210",
    "end": "626890"
  },
  {
    "text": "And we did a little bit of\ntheory crafting our head and it turned out the DPS\nwas marginally higher. But the problem is once\nwe tried to implement it,",
    "start": "626890",
    "end": "634120"
  },
  {
    "text": "we found out the actual\nproblems with the flyer strategy was that we couldn't sustain\nthe units because of the way",
    "start": "634120",
    "end": "641450"
  },
  {
    "text": "that energy transfer\nwas done last year. And we weren't actually able\nto coordinate the attack well enough to gain that\ntheoretical DPS.",
    "start": "641450",
    "end": "648870"
  },
  {
    "text": "So testing is\nextremely important. Wins, of course,\nbeat theory crafting. So even knowing the specs and\nknowing the break off times,",
    "start": "648870",
    "end": "656959"
  },
  {
    "text": "you have to be able to\nimplement them in practice, otherwise the theory\ndoesn't pay off. The scrimmage server is\nyour ally in testing.",
    "start": "656960",
    "end": "663139"
  },
  {
    "text": "And then you always want to\nprioritize writing behaviors over spending a lot of\ntime doing framework code.",
    "start": "663140",
    "end": "668219"
  },
  {
    "text": "Because the behaviors\nare what you're actually testing,\nnot the framework.",
    "start": "668219",
    "end": "673340"
  },
  {
    "text": "One thing that novices make\nthe mistake of is they're always afraid of ranked games.",
    "start": "673340",
    "end": "679100"
  },
  {
    "text": "So has everyone in here played\nat least one ranked game? Yes? So what I want to\nsay is it's really",
    "start": "679100",
    "end": "687290"
  },
  {
    "text": "a problem more with novices\nthan with the people who have been doing battle\ncode for a long time. And the reason this is,\nis because sometimes you",
    "start": "687290",
    "end": "694410"
  },
  {
    "text": "submit a bot and you're afraid\nthat it's maybe not so good. Or there's some\nproblems with it. Or that your code\nis going to do badly",
    "start": "694410",
    "end": "700957"
  },
  {
    "text": "and you're going to lose points. But what it gains you\nis by scrimmaging often you will always know what\nthe top teams are up to.",
    "start": "700957",
    "end": "707910"
  },
  {
    "text": "And the thing is,\nif you do unranked, top teams actually have no\nincentive to accept your match, and you'll never know what\nthey're actually doing.",
    "start": "707910",
    "end": "714540"
  },
  {
    "text": "So the trade off is a top\nteam, if they beat you in a ranked game,\nthey'll actually",
    "start": "714540",
    "end": "720560"
  },
  {
    "text": "gain [? ELOW ?] points. But you actually gain\nsomething from that. You gain the understanding of\nhow the top team is micro-ing.",
    "start": "720560",
    "end": "727240"
  },
  {
    "text": "The kind of high level\nstrategy the top team is doing. And also any tips or\ntricks or small things",
    "start": "727240",
    "end": "732890"
  },
  {
    "text": "that you can glean\nfrom those games to perform better in\nyour next bot iteration.",
    "start": "732890",
    "end": "738370"
  },
  {
    "text": "Actually if you send an unranked\ngame to one of the top teams, it's actually a lose-lose\nsituation for them.",
    "start": "738370",
    "end": "744230"
  },
  {
    "text": "Because A they have\nthe probability of losing a lot\nof points to you. And B they're also giving away\ntheir high level strategy.",
    "start": "744230",
    "end": "751029"
  },
  {
    "text": "So for the top five teams,\nat least in years past, if you sent them\nan unranked match,",
    "start": "751030",
    "end": "756990"
  },
  {
    "text": "they'd cancel it and send\nyou back a ranked match. Because there's almost\nno advantage for them to accept these\nunranked matches.",
    "start": "756990",
    "end": "762810"
  },
  {
    "text": "So don't be afraid of\nsending ranked games, especially against top\nteams, because that's where you're going to\nlearn the most about how",
    "start": "762810",
    "end": "769560"
  },
  {
    "text": "you can improve your bot.  Another thing that sometimes\nbeginners get wrong",
    "start": "769560",
    "end": "777100"
  },
  {
    "text": "is that your code base is\nactually more than your bot. There is a huge\ninfrastructure that we",
    "start": "777100",
    "end": "783300"
  },
  {
    "text": "built, at least around\nour bot last year, that was not just the simple--\nthat was not just robot player",
    "start": "783300",
    "end": "790420"
  },
  {
    "text": "and everything\nsurrounding robot player. So one of the easiest\nthings you can do is you can make custom maps.",
    "start": "790420",
    "end": "795500"
  },
  {
    "text": "Every year when we start\nbattle code, we always make this map on the\nright, we call it plains,",
    "start": "795500",
    "end": "800790"
  },
  {
    "text": "because there's\nabsolutely nothing on it. The plains for this year,\nwe have a few encampments",
    "start": "800790",
    "end": "807310"
  },
  {
    "text": "in the middle just to test like\nbasic encampment capture code. But what plains\nreally allows you",
    "start": "807310",
    "end": "813010"
  },
  {
    "text": "to do is it allows you to\nperfect your attack micro and make it so that you're not\nworrying about like advance",
    "start": "813010",
    "end": "818920"
  },
  {
    "text": "path finding, you're just making\nsure you can win engagements. Because, as I said, attack\nmicro is so important.",
    "start": "818920",
    "end": "824160"
  },
  {
    "text": "Winning engagements wins games. So spend time, actually,\nmaking custom maps.",
    "start": "824160",
    "end": "830079"
  },
  {
    "text": "I know we don't really have\na map editor out this year. So if you make a\nmap editor, too,",
    "start": "830079",
    "end": "835370"
  },
  {
    "text": "make a bunch of custom maps. Test your path finding,\ntest your attack micro. There's so many\nsmall things you can",
    "start": "835370",
    "end": "841400"
  },
  {
    "text": "do to test your bot very fast. A few small things that you\nguys may have also not known",
    "start": "841400",
    "end": "848560"
  },
  {
    "text": "is with custom maps\nyou can actually declare units to be\npre-spawned on the map.",
    "start": "848560",
    "end": "854500"
  },
  {
    "text": "So in the top right you're\nallowed to declare symbols. You can actually set\nup unit formations",
    "start": "854500",
    "end": "859850"
  },
  {
    "text": "to quickly test\ndifferent scenarios. And just by hitting play\nand repeatedly running it, you can tweak\nwhatever heuristics",
    "start": "859850",
    "end": "866686"
  },
  {
    "text": "you're running in order to make\nsure that your code is actually running correctly. And then making\ncustom maps is also",
    "start": "866686",
    "end": "871889"
  },
  {
    "text": "extremely good for\ntesting path finding. So you can spawn a map with\na unit already in the center,",
    "start": "871890",
    "end": "877220"
  },
  {
    "text": "and then just hard code\nin an endpoint to Nav2. And then see if\nyour navigation is",
    "start": "877220",
    "end": "883627"
  },
  {
    "text": "running any better\nthan it was before.  This is kind of a\nlittle expert thing",
    "start": "883627",
    "end": "889930"
  },
  {
    "text": "but we spent a lot\nlast year trying to gain the scrimmage\nserver a little bit.",
    "start": "889930",
    "end": "897019"
  },
  {
    "text": "So Justin wrote kind\nof a scraper that scrapes the rankings\nevery five minutes",
    "start": "897020",
    "end": "904470"
  },
  {
    "text": "and determines who's\nwinning to who. If you guys are\njust starting out",
    "start": "904470",
    "end": "909510"
  },
  {
    "text": "don't worry about this too much. But what this allowed\nus to do, actually, was it allowed us to know\nwhich teams were actually",
    "start": "909510",
    "end": "916860"
  },
  {
    "text": "rising quickly, which teams had\nmaybe changed their strategy. And it allowed us to kind of\ntarget our ranked matches.",
    "start": "916860",
    "end": "924779"
  },
  {
    "text": "Because we would\nsee oh this team won three games in\nrapid succession, we want to see\nwhat they're doing.",
    "start": "924780",
    "end": "930230"
  },
  {
    "text": "Or oh this team maybe\ndropped four games and we probably\ndon't really need",
    "start": "930230",
    "end": "935260"
  },
  {
    "text": "to send them a ranked match\nbecause they're probably not doing anything\ndifferent than what they used to be doing.",
    "start": "935260",
    "end": "941230"
  },
  {
    "text": "But, once again,\nthis is a custom tool that was written outside\nof the framework of just",
    "start": "941230",
    "end": "946270"
  },
  {
    "text": "our eclipse project with\nour battle code bot that allowed us to gain a small\ncompetitive edge over everyone",
    "start": "946270",
    "end": "951400"
  },
  {
    "text": "else. The current ladder stats\nranking system is actually-- I think Justin posted\nabout in the forums,",
    "start": "951400",
    "end": "957550"
  },
  {
    "text": "he's actually running\nit publicly for you guys this year. So if you want to take a\npeek and just use his code--",
    "start": "957550",
    "end": "964459"
  },
  {
    "text": "Our old one actually recorded\n[? ELOW ?] gains and losses. So we could see whether\na team gained 1 point",
    "start": "964460",
    "end": "971830"
  },
  {
    "text": "or whether they gained 10. So if a team gained 30\npoints in a single match, that's like a warning\nbell, alright? Because it means they're doing\nsomething drastically different",
    "start": "971830",
    "end": "979023"
  },
  {
    "text": "and you want to know\nwhat they're up to. This tool was another tool\nwe borrowed from Gunface",
    "start": "979023",
    "end": "986040"
  },
  {
    "text": "from 2011. It's basically a\nmass scrim tester. So the scrimmage server\nactually is not the only place",
    "start": "986040",
    "end": "993630"
  },
  {
    "text": "that you can mass scrim. You can also build\nyour own custom mass scrimming framework, which\nis what Gunface did in 2011",
    "start": "993630",
    "end": "999110"
  },
  {
    "text": "and what we co-opted\nfrom them in 2012. So what this actually\nallows us to do is it allows us to test\nin house our own bots",
    "start": "999110",
    "end": "1006410"
  },
  {
    "text": "against each other. So you know how I said we wrote\nlike 10 to 12 distinct bots?",
    "start": "1006410",
    "end": "1011571"
  },
  {
    "text": "Well what we would do\nis we could actually characterize which\none was strictly superior to all the other\nbots by pitting them",
    "start": "1011571",
    "end": "1017800"
  },
  {
    "text": "against each other in\nthousands of matches. So if you'll see\nhere, what this did was we had a total win counter.",
    "start": "1017800",
    "end": "1025250"
  },
  {
    "text": "So we could submit jobs\nto our queue server. The queue would run like 50-60\nmatches on every single known",
    "start": "1025250",
    "end": "1031609"
  },
  {
    "text": "map in the scrimmage ranking. And then, of course, it\ntakes some time to compute. We actually borrowed a\nbunch of xVM machines",
    "start": "1031609",
    "end": "1039369"
  },
  {
    "text": "to continuously run\nthis in the background. But you'll see here every single\none of our tagged releases,",
    "start": "1039369",
    "end": "1046119"
  },
  {
    "text": "we're actually pitting\nit against each other. Last year we would\nconsider a bot good if we could beat our older\niterations 90% of the time.",
    "start": "1046119",
    "end": "1056700"
  },
  {
    "text": "And until we could get\nkind of that 90% mark we would consider them\nabout to be equal. Because some small change, in\nmaybe like the random number",
    "start": "1056700",
    "end": "1063675"
  },
  {
    "text": "generator, whatever,\nwould affect the outcome of the match. But, again, the most\ndrastic improvements--",
    "start": "1063675",
    "end": "1068740"
  },
  {
    "text": "when you see 31-0,\nthose are from usually from micro improvements\nwhere one bot will just--",
    "start": "1068740",
    "end": "1075741"
  },
  {
    "text": "the two armies will collide and\none bot will just obliterate the other one, even\nwith equal numbers.",
    "start": "1075741",
    "end": "1081050"
  },
  {
    "text": "But these sort of things,\nrunning the mass scrim, you can really,\nreally get a sense of.",
    "start": "1081050",
    "end": "1087210"
  },
  {
    "text": "This is an expert\nlevel kind of thing. If you don't have--\nif you have one person you're not going\nto blow your time",
    "start": "1087210",
    "end": "1092950"
  },
  {
    "text": "writing a scrimmage\nbased system. But if you have maybe\nthree or four people you could take a\nday or so to maybe",
    "start": "1092950",
    "end": "1099840"
  },
  {
    "text": "try to repurpose the old\n2012 mass scrim tester, which is on GitHub, by the way, to get\nit working with the 2013 game.",
    "start": "1099840",
    "end": "1109880"
  },
  {
    "text": "One thing that hasn't really\nbeen covered ever, I think,",
    "start": "1109880",
    "end": "1115770"
  },
  {
    "text": "is kind of the byte\ncode system in detail, I think in battle code.",
    "start": "1115770",
    "end": "1121040"
  },
  {
    "text": "And this is a very key\npart of battle code and yet it's always\nkind of glossed over. You'll hear the lecturer say\nyou should use less byte codes.",
    "start": "1121040",
    "end": "1129490"
  },
  {
    "text": "Or the less byte codes you use\nthe more units you can have. But what does that\nactually mean and how",
    "start": "1129490",
    "end": "1135169"
  },
  {
    "text": "does that actually translate\ninto implementation? So I'll skip ahead and just\ngive a brief overview of the JVM",
    "start": "1135170",
    "end": "1144630"
  },
  {
    "text": "for people who are\nunfamiliar with it. So the Java Virtual Machine\nis a stack based system.",
    "start": "1144630",
    "end": "1149770"
  },
  {
    "text": "So what it basically means is\nif you're familiar with x86 or whatever, there\nare no registers is just a giant stack.",
    "start": "1149770",
    "end": "1155680"
  },
  {
    "text": "And you can imagine it as\nvalues get pushed on the stack and popped off of the stack, and\nthat's how computation is done.",
    "start": "1155680",
    "end": "1165160"
  },
  {
    "text": "Byte codes are-- when\nyou write your Java it gets compiled into\nsomething called byte codes. And byte codes are very\nsimilar to assembly,",
    "start": "1165160",
    "end": "1171490"
  },
  {
    "text": "except they work on this\nstacked based system. And the way this\nstack is, is you have this operand stack which\nis your current stack of values.",
    "start": "1171490",
    "end": "1179210"
  },
  {
    "text": "So if you imagine like\na prefix operations I can push-- or\npostfix operations,",
    "start": "1179210",
    "end": "1185820"
  },
  {
    "text": "I can push to values on\nthe stack, I can call add and it would pop off\nthe result, right? So if you imagine the JVM is\nkind of working like that,",
    "start": "1185820",
    "end": "1194010"
  },
  {
    "text": "it's very similar. But there's also an array\nof local variables up top",
    "start": "1194010",
    "end": "1199880"
  },
  {
    "text": "and these are\nindexed by a number. So, actually, stack operands\ncan operate directly",
    "start": "1199880",
    "end": "1207930"
  },
  {
    "text": "onto the array of variables\nthat are globally accessible. And then there's also\na global constants pool",
    "start": "1207930",
    "end": "1214850"
  },
  {
    "text": "that byte codes can operate on. So this is just\nan example online.",
    "start": "1214850",
    "end": "1221490"
  },
  {
    "text": "And if you want to read more\nthere's a URL down here. But what happens is\nyou compile your Java,",
    "start": "1221490",
    "end": "1226510"
  },
  {
    "text": "it gets turned into byte codes,\nand each byte code is actually stepped through by our\ninstrumentation engine.",
    "start": "1226510",
    "end": "1232840"
  },
  {
    "text": "And that's what you're\ngetting counted on. So when someone says\nyou're using 10 byte codes, it actually means that\nthe high level Java",
    "start": "1232840",
    "end": "1238890"
  },
  {
    "text": "call you made is\nbeing turned into 10 individual atomic\nsteps on the JVM.",
    "start": "1238890",
    "end": "1246650"
  },
  {
    "text": "And you're getting penalized for\neach one of these atomic steps. This leads to a lot\nof interesting things.",
    "start": "1246650",
    "end": "1253530"
  },
  {
    "text": "So there's a very classic\nkind of loop structure in battle code. I hear this is so\nclassic, actually,",
    "start": "1253530",
    "end": "1260150"
  },
  {
    "text": "that Dropbox's code base is\nlittered with this structure. So it looks like kind\nof a normal for loop,",
    "start": "1260150",
    "end": "1266275"
  },
  {
    "text": "but if you look closely, you'll\nnotice that we don't even have a third parameter. What this says is that for\ni is equal to the length",
    "start": "1266275",
    "end": "1273110"
  },
  {
    "text": "of the ray, decrement until\nyou're greater than zero. And it's reversed from maybe\nthe way normal computer",
    "start": "1273110",
    "end": "1280090"
  },
  {
    "text": "science would teach it to you. But there's a particular\nreason we do it this way. And that's because we're\nactually byte code hacking.",
    "start": "1280090",
    "end": "1287070"
  },
  {
    "text": "So what happens is Java is\nsimilar-- kind of like there's",
    "start": "1287070",
    "end": "1295230"
  },
  {
    "text": "legacy in computers\ntesting again zero is actually an operation\nthat comes up very often.",
    "start": "1295230",
    "end": "1302510"
  },
  {
    "text": "In most branch conditions\nyou're testing against zero. Like Booleans are testing\nagainst zero, et cetera.",
    "start": "1302510",
    "end": "1309260"
  },
  {
    "text": "So there's actually\na special byte code for testing against zero. And then, also, when\nyou're doing the comparison",
    "start": "1309260",
    "end": "1315230"
  },
  {
    "text": "you don't want to\nbe recomputing, say, msgs.length\nevery single time. So this actually\nhas a net effect",
    "start": "1315230",
    "end": "1321850"
  },
  {
    "text": "of saving byte codes\nbecause you can actually write the byte codes\nout but you can predict what the\ncompiler will spit out.",
    "start": "1321850",
    "end": "1328270"
  },
  {
    "text": "And because battle\ncode is not run as just in time compilation,\nactually, the byte code steps through exactly\nas its outputted.",
    "start": "1328270",
    "end": "1336330"
  },
  {
    "text": "This ends up with a net\nsavings of a few byte codes. So if you'll see down here,\nthis is like the classic way",
    "start": "1336330",
    "end": "1342900"
  },
  {
    "text": "you would write a\nloop that you might learn in intro to\ncomputer science. For i is equal to\nzero, i is less",
    "start": "1342900",
    "end": "1347990"
  },
  {
    "text": "than your terminating\ncondition, increment i. What happens here\nis because you want",
    "start": "1347990",
    "end": "1353860"
  },
  {
    "text": "to compare i every\nround to msgs.length. Computing msgs.length\nis actually",
    "start": "1353860",
    "end": "1360240"
  },
  {
    "text": "a separate compare operation\nwith loading the actual object, loading the actual array object.",
    "start": "1360240",
    "end": "1365840"
  },
  {
    "text": "Whereas in our initial\nversion what we've done here is we've set the index variable\nactually to the final value.",
    "start": "1365840",
    "end": "1374970"
  },
  {
    "text": "And we're comparing\nagainst zero, which is a single\nbyte code operation. So what happens is that\nthis is a net savings",
    "start": "1374970",
    "end": "1381029"
  },
  {
    "text": "of two byte codes. Two byte codes actually\nmight not seem like a lot,",
    "start": "1381030",
    "end": "1386560"
  },
  {
    "text": "but if you're, say,\nlooping through 100 objects that that's 200 byte codes\nsaved in the entire loop.",
    "start": "1386560",
    "end": "1391910"
  },
  {
    "text": "And that's two whole\nsense functions. So you could send-- that's two\nwhole global sense functions, with the radius\nand the location.",
    "start": "1391910",
    "end": "1398780"
  },
  {
    "text": "That's actually pretty big. So saving 200 byte\ncodes can mean",
    "start": "1398780",
    "end": "1404399"
  },
  {
    "text": "that you might have additional\ndata on the battlefield. Or you can loop through one\nadditional object when you're",
    "start": "1404400",
    "end": "1409550"
  },
  {
    "text": "trying to compute a\nheuristic for map locations or for army positions. And this actually gives you a\nsmall marginal competitive edge",
    "start": "1409550",
    "end": "1417230"
  },
  {
    "text": "over the other team. Especially this year\nwhen byte codes also translates to energy. So saving byte codes gives\nyou back more energy.",
    "start": "1417230",
    "end": "1425379"
  },
  {
    "text": "More energy translates\nto more units. If all your units are saving\n500 byte codes per turn",
    "start": "1425380",
    "end": "1430910"
  },
  {
    "text": "that adds up over time,\nespecially with the decay rate. ",
    "start": "1430910",
    "end": "1437169"
  },
  {
    "text": "So with byte codes\nyou'll also end up wanting to implement\nyour own data structures.",
    "start": "1437170",
    "end": "1443980"
  },
  {
    "text": "So I don't know if you guys\nhave tried using the native Java",
    "start": "1443980",
    "end": "1450150"
  },
  {
    "text": "data structures like hashset,\narray q set, et cetera. But we actually penalize\nyou for the internal calls",
    "start": "1450150",
    "end": "1457250"
  },
  {
    "text": "that Java makes in\nthose data sets. So if Java-- Java\nlikes to be very safe.",
    "start": "1457250",
    "end": "1463250"
  },
  {
    "text": "So a lot of the\nthread safe code we'll check to make sure\nanother thread is not trying to mutate the\ndata, or that there's",
    "start": "1463250",
    "end": "1469710"
  },
  {
    "text": "on a lock on the\ndata, et cetera. So the thread safe\ncode actually ends up hurting you a lot,\nbecause there's",
    "start": "1469710",
    "end": "1474850"
  },
  {
    "text": "a lot of excess byte\ncodes that gets called. So, for instance, a single\nhashset.iterator.getnext",
    "start": "1474850",
    "end": "1480190"
  },
  {
    "text": "getting a value from\na hashset, worst case is 2k byte codes for a\nsingle call, which is absurd.",
    "start": "1480190",
    "end": "1486300"
  },
  {
    "text": "Because you can implement a\nhashset yourself with an array and maybe like 200-300 byte\ncodes if you custom write it.",
    "start": "1486300",
    "end": "1492947"
  },
  {
    "text": "So what ends up happening\nis a lot of people will make what's\ncalled fast data sets. So we wrote a fast\nhashset, a fast arraylist.",
    "start": "1492947",
    "end": "1500690"
  },
  {
    "text": "And these are all\ncustom based on arrays that we could index\ndirectly into and pay",
    "start": "1500690",
    "end": "1505920"
  },
  {
    "text": "a very minimal byte\ncode cost in order to get very complex\ndata structures back.",
    "start": "1505920",
    "end": "1512060"
  },
  {
    "text": "Same thing goes for algorithms. You may think that--\na lot of beginners",
    "start": "1512060",
    "end": "1519877"
  },
  {
    "text": "will start off trying\nto implement something like [? astar ?] or a flood\nfill algorithm just to do",
    "start": "1519877",
    "end": "1526309"
  },
  {
    "text": "navigation. Yes?  Right, this is an example from--",
    "start": "1526310",
    "end": "1533640"
  },
  {
    "text": "I'll explain what\nexactly this one is. But just an overview,\nmost n squared",
    "start": "1533640",
    "end": "1540133"
  },
  {
    "text": "algorithms are completely\nuntenable in the byte code system. So if you see an n\nsquared algorithm it's not going to work unless\nyou do something to it.",
    "start": "1540134",
    "end": "1547110"
  },
  {
    "text": "So there are multiple ways. You can distribute it\namong multiple robots, which is actually very hard.",
    "start": "1547110",
    "end": "1553100"
  },
  {
    "text": "You can break up the\ncomputation into multiple steps and run a piece each\nturn, which is hard",
    "start": "1553100",
    "end": "1559410"
  },
  {
    "text": "depending on the algorithm. And then you can also just run a\ncompletely different algorithm.",
    "start": "1559410",
    "end": "1566752"
  },
  {
    "text": "So the one I actually\nhave up here, this is a cute little example\nfrom our old code base. It's not the actual\nimplementation",
    "start": "1566752",
    "end": "1573190"
  },
  {
    "text": "but it's the algorithm itself. This is called a\nmultiply with carry. It's actually a pseudo\nrandom number generator.",
    "start": "1573190",
    "end": "1580870"
  },
  {
    "text": "There's a period-- there's\nlike a period of 2 to the 60th. But for all intents\nand purposes it is a random number generator.",
    "start": "1580870",
    "end": "1587650"
  },
  {
    "text": "We actually implemented\nthis because we noticed that math.random on\nseeding pays 144 byte codes.",
    "start": "1587650",
    "end": "1593890"
  },
  {
    "text": "And then each subsequent\ngetnextinteger call is 80. And we actually wrote our own\ncustom random number generator",
    "start": "1593890",
    "end": "1600370"
  },
  {
    "text": "to save 40 byte codes\nper call to get nextint. And so this is the algorithm\nactually pulled from Wikipedia,",
    "start": "1600370",
    "end": "1607980"
  },
  {
    "text": "we changed a little bit. But, in essence, it's a\nbunch of bit operators that gives you a\npseudo random number",
    "start": "1607980",
    "end": "1613560"
  },
  {
    "text": "generator to save on byte codes. And if you have\nan algorithm that relies on a lot\nof random numbers",
    "start": "1613560",
    "end": "1620580"
  },
  {
    "text": "the 40 per getnextinteger\nactually adds up. ",
    "start": "1620580",
    "end": "1626559"
  },
  {
    "text": "There's actually a tool,\na really nice tool, that we used a lot last year\ncall doctor garbage visualizer.",
    "start": "1626560",
    "end": "1632505"
  },
  {
    "text": "I don't know why it's called\ndoctor garbage, because it's one of the best tools ever. But what it does is it\nactually decompiles your class",
    "start": "1632505",
    "end": "1641460"
  },
  {
    "text": "into the actual byte codes. And then it shows the control\nflow graph on the right. So the control flow graph will\nactually allow you to reason",
    "start": "1641460",
    "end": "1648140"
  },
  {
    "text": "about where your short\ncircuits are happening, because if you short\ncircuit a code block, you're not actually paying\nthe byte code for what",
    "start": "1648140",
    "end": "1653230"
  },
  {
    "text": "you don't execute, right? So you'll want to\nterminate loops end-- you'll want to\nterminate loops early.",
    "start": "1653230",
    "end": "1658330"
  },
  {
    "text": "You'll want to try\nto avoid code that doesn't have to be\ncomputed multiple times",
    "start": "1658330",
    "end": "1665140"
  },
  {
    "text": "in order to reduce your\ntotal byte code count. So by having the control\nflow graph on the right,",
    "start": "1665140",
    "end": "1670636"
  },
  {
    "text": "it's actually very\neasy to reason about how to save byte\ncodes, especially when you'll see the control flow\ngraph, plus the instruction,",
    "start": "1670636",
    "end": "1677780"
  },
  {
    "text": "plus kind of a small comment\nabout what the variable is or what the method call is\nor what the constant is.",
    "start": "1677780",
    "end": "1683470"
  },
  {
    "start": "1683470",
    "end": "1689970"
  },
  {
    "text": "So that's enough for-- So,\nultimately, with byte codes, the last thing I'll say is\nif you're not sure, test it.",
    "start": "1689970",
    "end": "1697910"
  },
  {
    "text": "We give you a function\ncalled getbytecodesnum and this allows you\nto see what byte",
    "start": "1697910",
    "end": "1702980"
  },
  {
    "text": "code number you're\ncurrently executing. So if I want to profile\na particular function call or a particular\nalgorithm, just",
    "start": "1702980",
    "end": "1709289"
  },
  {
    "text": "surround it with two system.out\nprint line getbytecodenum. And this will tell you the\ntotal number of byte codes",
    "start": "1709290",
    "end": "1715149"
  },
  {
    "text": "that your algorithm\ntook to execute. And you can use this to\nkind of profile it down. You can try different\nthings but ultimately",
    "start": "1715150",
    "end": "1720590"
  },
  {
    "text": "whatever gets that\nnumber smallest is what helps you bot when\nyou're optimizing algorithms.",
    "start": "1720590",
    "end": "1726910"
  },
  {
    "text": "We actually, at the bottom,\nthis is a little loop that-- or this is\na little function",
    "start": "1726910",
    "end": "1732680"
  },
  {
    "text": "call that I've added\nat least every year. At the end of\nevery robot's round it actually checks\nthe round number",
    "start": "1732680",
    "end": "1738674"
  },
  {
    "text": "and the current byte\ncode number to see if it went over byte codes. And it will actually emit a\nwarning to the system console",
    "start": "1738674",
    "end": "1745950"
  },
  {
    "text": "that it went over byte codes. So actually it's really\nannoying but it's really helpful that if every time a\nrobot goes over byte codes",
    "start": "1745950",
    "end": "1751950"
  },
  {
    "text": "it yells at you. Because then you can play\nmatch if you're not actually profiling something-- or\nif you're not actually",
    "start": "1751950",
    "end": "1758340"
  },
  {
    "text": "explicitly saying\nthat, you can sometimes ignore it because the\nbyte code number is just in the top right of the client\nand you'll kind of miss it",
    "start": "1758340",
    "end": "1764790"
  },
  {
    "text": "sometimes. You'll see like, oh, maybe\nit's like 10k or whatever. But if your robot is yelling at\nyou every time it goes over 10k",
    "start": "1764790",
    "end": "1772500"
  },
  {
    "text": "and your entire\narmy just screens in the middle of battle,\nthere's something that has to be changed in order\nto make it so that you're not",
    "start": "1772500",
    "end": "1779210"
  },
  {
    "text": "missing an attack--\nor you're not missing a movement every turn\nthat you could be moving. So this year, actually,\nit's even more critical",
    "start": "1779210",
    "end": "1786080"
  },
  {
    "text": "because there are no cool downs. Every robot, every\nturn, can move. So if you go over\nbyte codes once,",
    "start": "1786080",
    "end": "1791549"
  },
  {
    "text": "that's a lost\nmovement, which could translate to a lost attack. So it's very critical\nin battle situations",
    "start": "1791550",
    "end": "1797510"
  },
  {
    "text": "that you do not\ngo over byte code so you can get your movement. And I'll show you why in a bit\nespecially in micro situations.",
    "start": "1797510",
    "end": "1805730"
  },
  {
    "text": "So micro is really\nimportant, attack micro, I've been emphasizing\nthis over and over. You should know the execution\norder of the robots.",
    "start": "1805730",
    "end": "1813000"
  },
  {
    "text": "But you should know\nwhat happens when. So when do attacks happen. So when do attacks happen?",
    "start": "1813000",
    "end": "1819029"
  },
  {
    "text": "At the end of the round, right. You should understand the\ndiscrete nature of the map",
    "start": "1819030",
    "end": "1824279"
  },
  {
    "text": "and you should know that micro's\nbetter than everything else. So I don't know if\nMax has covered this, but in two robots which robot\nactually wins the one v one",
    "start": "1824279",
    "end": "1831731"
  },
  {
    "text": "engagement? ",
    "start": "1831731",
    "end": "1837140"
  },
  {
    "text": "It is-- yes, it's the one\nwho closes the gap first,",
    "start": "1837140",
    "end": "1842400"
  },
  {
    "text": "is the one who wins\nthe engagement. So if I have two robots,\ntwo squares apart, right now",
    "start": "1842400",
    "end": "1848070"
  },
  {
    "text": "it's a stalemate. But if red makes the mistake to\nmove in, what happens is blue",
    "start": "1848070",
    "end": "1853390"
  },
  {
    "text": "closes the distance and\ngets the attack off first. And, all things being equal,\nred will attack second.",
    "start": "1853390",
    "end": "1860059"
  },
  {
    "text": "But blue has already done\nthe initial damage, which means on blue's turn\nwhere he kills red,",
    "start": "1860060",
    "end": "1865752"
  },
  {
    "text": "red will not deal back\nthe corresponding damage to kill blue. Blue will win. So blue will have one more\nrobot in the next upcoming",
    "start": "1865752",
    "end": "1871670"
  },
  {
    "text": "engagement and\ntherefore higher DPS and will win the next battle. This situation is\nalso particularly bad",
    "start": "1871670",
    "end": "1877380"
  },
  {
    "text": "because red can't\nactually retreat. If red moves back, blue can\nstill close the gap next turn.",
    "start": "1877380",
    "end": "1884809"
  },
  {
    "text": "So understanding how the\nmicro works in this game is actually very key\nto winning engagements.",
    "start": "1884810",
    "end": "1890950"
  },
  {
    "text": "So in a one v one\nsituation the gap closer always has the advantage.",
    "start": "1890950",
    "end": "1897150"
  },
  {
    "text": "Just a straight up. So you will want to write code\nthat takes this into account,",
    "start": "1897150",
    "end": "1902460"
  },
  {
    "text": "so that you can actually\nwin engagements. In a two v two situation, it's\na little bit more complex.",
    "start": "1902460",
    "end": "1908049"
  },
  {
    "text": "So what happens in two v two? So red can move forward. Blue can close the gap,\nbut red can close the gap",
    "start": "1908050",
    "end": "1914825"
  },
  {
    "text": "with the second unit. And now he's dealing\ntwice DPS that blue has and will eventually win.",
    "start": "1914825",
    "end": "1920370"
  },
  {
    "text": "Blue can actually--\nif blue is clever, blue can actually micro to\nfocus fire on a single unit,",
    "start": "1920370",
    "end": "1925750"
  },
  {
    "text": "because damage is split evenly\nacross all enemy robots. So blue can actually\ntry to micro little bit",
    "start": "1925750",
    "end": "1931570"
  },
  {
    "text": "to kill the bottom red unit,\nif red makes a mistake.",
    "start": "1931570",
    "end": "1936809"
  },
  {
    "text": "But red will actually-- can\nmove down and continuously",
    "start": "1936810",
    "end": "1942610"
  },
  {
    "text": "attack blue until the\nblue robot is dead. And the two v one will win.",
    "start": "1942610",
    "end": "1947790"
  },
  {
    "text": "And if red micros correctly\nhe won't lose a single unit. So in a large flight--\nin larger fights,",
    "start": "1947790",
    "end": "1955500"
  },
  {
    "text": "the larger army\nhas the advantage given correct positioning. Because you could assume in\nthis sort of scenario blue",
    "start": "1955500",
    "end": "1963040"
  },
  {
    "text": "can actually reduce this\nto a one v one flight if red does not make the correct\nchoices in the subsequent five",
    "start": "1963040",
    "end": "1970560"
  },
  {
    "text": "or six moves. So blue ball will move up\nand attack red and reduce it",
    "start": "1970560",
    "end": "1975580"
  },
  {
    "text": "to a one v one scenario\nunless the red robot can retreat backwards while\nstill attacking blue",
    "start": "1975580",
    "end": "1982800"
  },
  {
    "text": "towards the bottom red unit and\ncontinue fighting so that they can turn the one v one into\na two v one engagement.",
    "start": "1982800",
    "end": "1990909"
  },
  {
    "text": "But these small, discrete steps\nare what you should actually be thinking about when\nyou're writing microcode.",
    "start": "1990910",
    "end": "1997030"
  },
  {
    "text": "It's very critical that you\ndon't get indefinitely kited. It's very critical you do\nnot write code that ends up",
    "start": "1997030",
    "end": "2005480"
  },
  {
    "text": "in this scenario\nwhere you're attacking and you try to retreat,\nbut you can't actually retreat in this game,\nbecause the opponent will",
    "start": "2005480",
    "end": "2011860"
  },
  {
    "text": "close the distance. So there's only two scenarios\nin which you can retreat. You can retreat if\nthere's an army behind you willing to back you up.",
    "start": "2011860",
    "end": "2017679"
  },
  {
    "text": "Or you can treat if you're\nretreating over a mine. That gives you more DPS. ",
    "start": "2017680",
    "end": "2025600"
  },
  {
    "text": "So there's some\nteam dynamics things that I just want to cover. This is mostly geared towards\nthe novices in the room.",
    "start": "2025600",
    "end": "2032300"
  },
  {
    "text": "But make sure you guys are\nusing source control management. I think this goes\nwithout saying, every MIT class now\nemphasizes the importance",
    "start": "2032300",
    "end": "2038880"
  },
  {
    "text": "of source control management. And I'll even say you should\njust use hosted source control management. So if you're using Git,\nif you're using Mercurial,",
    "start": "2038880",
    "end": "2045970"
  },
  {
    "text": "you should just throw it up on\none of these free hosted SCMs",
    "start": "2045970",
    "end": "2051750"
  },
  {
    "text": "just because you\ndon't want to deal with the server going down. So my first year we made\nthe terrible mistake",
    "start": "2051750",
    "end": "2057780"
  },
  {
    "text": "of hosting our own SVN\nserver on an xVM machine",
    "start": "2057780",
    "end": "2062989"
  },
  {
    "text": "from [INAUDIBLE]. And then randomly there was some\ndown time that was uncontrolled and we didn't have access to\nour code base for like two days.",
    "start": "2062989",
    "end": "2071060"
  },
  {
    "text": "So it was terrible. So just-- GitHub, these guys\nare paid to keep your source up,",
    "start": "2071060",
    "end": "2076510"
  },
  {
    "text": "OK? So [INAUDIBLE] is not paid to\nmaintain that your battle code source does not go down.",
    "start": "2076510",
    "end": "2082250"
  },
  {
    "text": "So trust these large\nsource control guys. And especially trust\ndistributed source control,",
    "start": "2082250",
    "end": "2087378"
  },
  {
    "text": "if you guys are familiar. I think Max gave a lecture on\nGit, so use it effectively.",
    "start": "2087379",
    "end": "2093739"
  },
  {
    "text": "And also figure out your SCM--\nyour source control strategy. So this is actually a big one. Every team does they're kind of\nrelease cycle or, I would say,",
    "start": "2093739",
    "end": "2102584"
  },
  {
    "text": "release cycle but you're like\nreleasing bots, a little bit differently. So I'll explain\nthe way we did it.",
    "start": "2102584",
    "end": "2107680"
  },
  {
    "text": "We had a single\npackage called Ducks, just because we\nreally like ducks. Don't ask. We forked off a bot\nevery time we release it.",
    "start": "2107680",
    "end": "2116700"
  },
  {
    "text": "So in our mainline\nDucks package, when we get to a state, we're\nsaying this bot's reasonable.",
    "start": "2116700",
    "end": "2122022"
  },
  {
    "text": "We want to submit\nit to the server. We'll actually copy\nthe Ducks package, rename it to our kind of\nbot naming scheme, which",
    "start": "2122022",
    "end": "2127920"
  },
  {
    "text": "is based on SC2AI levels,\nif you guys play Starcraft. And so we started off\nwith a medium player.",
    "start": "2127920",
    "end": "2135380"
  },
  {
    "text": "So we'll copy the Duck's package\ninto the medium player package. And what this allows\nyou to do is always",
    "start": "2135380",
    "end": "2141340"
  },
  {
    "text": "have a copy of the medium\nplayer in your repository. So you can always\npit your mainline bot",
    "start": "2141340",
    "end": "2146490"
  },
  {
    "text": "against any of the\nother heads you've cut off from the repository. So some teams like\nto do it differently.",
    "start": "2146490",
    "end": "2152170"
  },
  {
    "text": "I know Gunface in 2011 liked\nto use source control tagging.",
    "start": "2152170",
    "end": "2158482"
  },
  {
    "text": "So what this allowed\nthem to do was they could update to any\nversion in the source control. And they could recompile it.",
    "start": "2158482",
    "end": "2163920"
  },
  {
    "text": "But the issue with\nthat is if you update you have to update\nyour entire mainline package backwards. You have to\nrecompile it, and you",
    "start": "2163920",
    "end": "2170220"
  },
  {
    "text": "have to keep the class files\naround so that you can pit them against your\ncurrent bot once you re-update to the current head.",
    "start": "2170220",
    "end": "2176727"
  },
  {
    "text": "This gets a little bit annoying. And for us it was just\nsimpler to persist like 30-40 copies of\nthe same file just",
    "start": "2176727",
    "end": "2183250"
  },
  {
    "text": "in different packages. Because it saves on time. It's not elegant, but\nelegance doesn't really",
    "start": "2183250",
    "end": "2188690"
  },
  {
    "text": "matter that much\nwhen you're trying to finish a bot in the short\namount of time that you have.",
    "start": "2188690",
    "end": "2194484"
  },
  {
    "text": "We actually went\none step further. This is technically part\nof the custom tools, but we actually had One\ntouch deploy system.",
    "start": "2194484",
    "end": "2199980"
  },
  {
    "text": "So we had a single\nscript that was responsible for building the\nrelease, tagging the release, testing the release on our\nautomated mass testing system.",
    "start": "2199980",
    "end": "2207982"
  },
  {
    "text": "And then cutting the\nbranch from mainline and pushing it back\nto the repository. This is very key,\nactually, if you're",
    "start": "2207982",
    "end": "2213970"
  },
  {
    "text": "doing what some of you\nguys may have been doing last night in trying to\nsubmit like 20 seconds before the deadline.",
    "start": "2213970",
    "end": "2219470"
  },
  {
    "text": "Because if something goes wrong\nyou're completely screwed. So if you have a tool\nthat you know works",
    "start": "2219470",
    "end": "2226230"
  },
  {
    "text": "and you know roughly the\namount of time it takes for it to work,\nit's standardized and you're less\nprone to human error.",
    "start": "2226230",
    "end": "2232559"
  },
  {
    "text": "So we ran the script. Everything's done. We have a jar. We upload the jar. We're done. And this is reliable\nthat we're not manually",
    "start": "2232560",
    "end": "2239370"
  },
  {
    "text": "trying to create the zip file. I know some people\nhave been having issues with bots\nrandomly exploding.",
    "start": "2239371",
    "end": "2244670"
  },
  {
    "text": "Or sometimes a submission\nworks or sometimes a submission doesn't work. If the whole thing\nis automated it's going to work barring\nsome catastrophic failure.",
    "start": "2244670",
    "end": "2251640"
  },
  {
    "text": " This is also a random\ncute little tip.",
    "start": "2251640",
    "end": "2256762"
  },
  {
    "text": "Sorry for this\nstream of conscious, but I'm just trying to mind\nup as much useful information on to you.",
    "start": "2256762",
    "end": "2263320"
  },
  {
    "text": "This one I'm actually\nreally surprised, I couldn't figure this\nout for like three years. How to deal with\nshared debugging.",
    "start": "2263320",
    "end": "2269079"
  },
  {
    "text": "So for those of you\nguys working in teams, you'll have print lines,\nyou'll have indicator strings that one day you'll\nbe testing something",
    "start": "2269080",
    "end": "2276015"
  },
  {
    "text": "and you'll merge in\nsomeone else's pull. And then you'll be like who\noverwrote my indicator strings?",
    "start": "2276015",
    "end": "2281267"
  },
  {
    "text": "Because now I don't\nknow what I'm debugging. Have any of you\nguys had this issue? So you'll have--\nyou're debugging nav",
    "start": "2281267",
    "end": "2288456"
  },
  {
    "text": "and you're printing\nout the current Nav state-- your current state\nmachine's navigation position, and all the sudden the guy\nworking on attack micro",
    "start": "2288456",
    "end": "2294940"
  },
  {
    "text": "has overwrote your indicator\nstrings with current number of robots attacking\nyou, or whatever.",
    "start": "2294940",
    "end": "2300070"
  },
  {
    "text": "And this gets really\nfrustrating really fast. Because then you end up\nwith merge conflicts, when people try change each\nothers indicator strings.",
    "start": "2300070",
    "end": "2306830"
  },
  {
    "text": "The guy working on nav will con\nout the attack guy's indicator strings. And then you'll end up\nwith a merge conflict and then you guys will\nscrew up the merge conflict.",
    "start": "2306830",
    "end": "2312590"
  },
  {
    "text": "And stuff will just go to hell. So what we did was\nthe bots can actually",
    "start": "2312590",
    "end": "2320120"
  },
  {
    "text": "read from the Java bc.config.",
    "start": "2320120",
    "end": "2325630"
  },
  {
    "text": "And actually what we built was\nthis custom system, this custom debug system, that\nallowed us to specify",
    "start": "2325630",
    "end": "2332290"
  },
  {
    "text": "who was running the bot based\non the current eclipse launch profile, and only print\nout indicator strings",
    "start": "2332290",
    "end": "2337890"
  },
  {
    "text": "from the person watching it. So you'll see on the left\nwe made four custom launch",
    "start": "2337890",
    "end": "2344320"
  },
  {
    "text": "profiles. One for me, one for Justin,\none for Haitao, one for YP. And when you ran your\ncustom launch profile,",
    "start": "2344320",
    "end": "2349609"
  },
  {
    "text": "it would only display debug\ninformation from your bot. So you'd only see\nyour own print lines. You'd only see your\nown indicator strings.",
    "start": "2349610",
    "end": "2355810"
  },
  {
    "text": "And then we never\nhad a merge conflict. Well, we did have\nmerge conflicts but not related to\nindicator string setting.",
    "start": "2355810",
    "end": "2362010"
  },
  {
    "text": "So this is just a\nsmall little trick that just saves a lot of time. Because stuff will add up\nacross your total bot's",
    "start": "2362010",
    "end": "2372622"
  },
  {
    "text": "development time. You don't want to spend\ntime arguing about people--",
    "start": "2372622",
    "end": "2377780"
  },
  {
    "text": "I know some teams\nwill say, OK, you can only use\nindicator string one. I'll only use\nindicator string two.",
    "start": "2377780",
    "end": "2382920"
  },
  {
    "text": "But someone will need\ntwo lines of information. Then you guys will fight over\nit and it's really stupid.",
    "start": "2382920",
    "end": "2389430"
  },
  {
    "text": "Other general, useful advice. All the past teams have actually\nput a lot of information on.",
    "start": "2389430",
    "end": "2396510"
  },
  {
    "text": "So there's a lot of stuff that\nI don't need to reiterate. So how many of you guys\nactually read the blog post",
    "start": "2396510",
    "end": "2402000"
  },
  {
    "text": "that I put on hacker news? Yeah, nice.",
    "start": "2402000",
    "end": "2407630"
  },
  {
    "text": "From 2012 to 2009, actually,\nall the old strategy reports, all the winning teams,\nare actually online.",
    "start": "2407630",
    "end": "2414550"
  },
  {
    "text": "So I have the bug\npost from our team, but there's also\na strategy report that corresponds to that, to our\nbot, that's in our repository.",
    "start": "2414550",
    "end": "2421490"
  },
  {
    "text": "The 2011 post-mortem is\nactually an excellent write up by Steve Arcangeli,\nwho wrote the massive scrim",
    "start": "2421490",
    "end": "2427380"
  },
  {
    "text": "tester about\nvarious other tricks you can do to save byte codes.",
    "start": "2427380",
    "end": "2432640"
  },
  {
    "text": "2010 is by Spencer Skates\non finding the shortest path to victory. It's kind of their whole like\nBellman Ford pun team thing",
    "start": "2432640",
    "end": "2440829"
  },
  {
    "text": "that they had going on. They detail a lot of\nhigh level mechanics that help you when\nyou're in combat.",
    "start": "2440830",
    "end": "2448390"
  },
  {
    "text": "They also-- Spencer Skates\nand Steve Bartell also won in '09 and they were called\nG2G Ice Skating Lessons,",
    "start": "2448390",
    "end": "2455980"
  },
  {
    "text": "which was-- it was like an\ninside joke that none of us got. But they wrote about their\n2009 experiences as well.",
    "start": "2455980",
    "end": "2464880"
  },
  {
    "text": "They actually set the trend of\nthe winning team usually ending up writing the best\nstrategy reports, which",
    "start": "2464880",
    "end": "2471299"
  },
  {
    "text": "is a trend you guys\nshould continue.  Some other random tips.",
    "start": "2471300",
    "end": "2477280"
  },
  {
    "text": "Messaging. I'm really excited about\nthe new changes this year, because messaging is global.",
    "start": "2477280",
    "end": "2482630"
  },
  {
    "text": "So what this allows you\nto do is you no longer have to have robots\nreally close together.",
    "start": "2482630",
    "end": "2487800"
  },
  {
    "text": "So if you guys are familiar\nwith the 2011 game, what you would have to do is, because\nyou could only broadcast eight squares away, you had to set up\na relay network of robots that",
    "start": "2487800",
    "end": "2498579"
  },
  {
    "text": "would propagate\ninformation outwards. And it was a whole amount\nof overhead just associated with writing the\nrelay network that",
    "start": "2498580",
    "end": "2504210"
  },
  {
    "text": "could get a message from\nrobot a to your entire army. That was at least a\nday's worth of work.",
    "start": "2504210",
    "end": "2509470"
  },
  {
    "text": "Setting up the re-broadcasting. Setting up the hashing. Setting up all that code. This year, because everything\nis a global message board,",
    "start": "2509470",
    "end": "2518270"
  },
  {
    "text": "it makes it easier to broadcast\nvery important information very fast to all your robots. But what this also\ndoes is battle code",
    "start": "2518270",
    "end": "2524750"
  },
  {
    "text": "has a huge history of\nmessage based attacks. So it also makes\nthe message based attacks more interesting because\nnow the enemy very easily can",
    "start": "2524750",
    "end": "2532940"
  },
  {
    "text": "see everything you're\nwriting to the board. So some of the more\nfamous message attacks",
    "start": "2532940",
    "end": "2539220"
  },
  {
    "text": "have been one year-- you guys\nare familiar that the robot VM",
    "start": "2539220",
    "end": "2545220"
  },
  {
    "text": "limit is eight megs, right? So if you exceed\neight megs, your robot actually automatically uploads. So one year, a team went around\njust broadcasting eight megs",
    "start": "2545220",
    "end": "2552410"
  },
  {
    "text": "arrays. So the enemy team would\neither get it, try to process, and completely freeze.",
    "start": "2552410",
    "end": "2557605"
  },
  {
    "text": "They'd get it,\ntry to process it, and explode immediately,\nbecause they loaded into memory or\nsomething stupid like that.",
    "start": "2557605",
    "end": "2562819"
  },
  {
    "text": "Or they would just stop\nmoving because they constantly exceed their byte code limit.",
    "start": "2562820",
    "end": "2569299"
  },
  {
    "text": "Then, I think in like '07,\nteams were trying to exploit the fixed cost of\narray.hashcode.",
    "start": "2569300",
    "end": "2576870"
  },
  {
    "text": "So array.hashcode used\nto be a single byte code. We used to-- there is a package\nin your distributable battle",
    "start": "2576870",
    "end": "2585130"
  },
  {
    "text": "code installer\ncalled method costs, and that explains the cost of\nevery single method that we",
    "start": "2585130",
    "end": "2592480"
  },
  {
    "text": "don't explicitly\nlist a cost for-- Or if a method is\nnot listed in there it's free unless it's in one\nof the restricted packages.",
    "start": "2592480",
    "end": "2599799"
  },
  {
    "text": "But what happened was\narray.hashcodes was free. So teams thought they\nwere being really clever by using the o of\none hashcode cost",
    "start": "2599800",
    "end": "2608200"
  },
  {
    "text": "to basically do an\no of n algorithm to get entire hashcode and\nsecure their messages that way.",
    "start": "2608200",
    "end": "2613859"
  },
  {
    "text": "But then one team\njust took the fact that every team was\nusing array.hashcode and he could mutate the\narray without changing",
    "start": "2613860",
    "end": "2621030"
  },
  {
    "text": "the value of the final hash. And then he would send\nthat back to the robot",
    "start": "2621030",
    "end": "2626349"
  },
  {
    "text": "and all their robots would\njust completely mess up. Because they thought\nthe hash was correct, but the data was\ncompletely garbled,",
    "start": "2626350",
    "end": "2632420"
  },
  {
    "text": "which which was a really\ninteresting messaging attack. So you need to make sure\nwhen your messaging to check",
    "start": "2632420",
    "end": "2641690"
  },
  {
    "text": "the integrity of the data and\nmake sure that the data-- check the validity of\nthe data and also",
    "start": "2641690",
    "end": "2647389"
  },
  {
    "text": "make sure that the\ndata actually gets to where it's supposed to go. So, this year the most\nobvious attack, of course,",
    "start": "2647389",
    "end": "2654220"
  },
  {
    "text": "is to wipe the entire board. And you can do this every round\nif you have some obscene number",
    "start": "2654220",
    "end": "2659660"
  },
  {
    "text": "of generators, like 30 or so. But the thing is, you can\npool energy this year. So actually a team\nthat, say, just wants",
    "start": "2659660",
    "end": "2666050"
  },
  {
    "text": "to wipe the message board\nduring critical situations, like during an engagement, can\nactually pool enough energy",
    "start": "2666050",
    "end": "2672250"
  },
  {
    "text": "so that they can wipe the\nentire message board in one go. So you can't actually\nassume that what you wrote into the message\nboard one round will actually",
    "start": "2672250",
    "end": "2678849"
  },
  {
    "text": "be their the next round,\nor even between rounds. Because a robot-- The enemy\nrobot who executed between you could have wiped it.",
    "start": "2678850",
    "end": "2686329"
  },
  {
    "text": "So make sure that whatever\nmessaging scheme you use, there's a way to check\nthe validity either",
    "start": "2686330",
    "end": "2692910"
  },
  {
    "text": "by hashing and storing maybe\nthe top four bytes as your hash. Or by duplicating the\ninformation in multiple places",
    "start": "2692910",
    "end": "2699440"
  },
  {
    "text": "and checking that all\nthe information matches with each other. But as long as you can reliably\nget important information over.",
    "start": "2699440",
    "end": "2708690"
  },
  {
    "text": "Like if you had a retreat\nsignal, or an all out attack signal, just make\nsure it's secured",
    "start": "2708690",
    "end": "2713830"
  },
  {
    "text": "and it's safely propagated\nto all your robots. ",
    "start": "2713830",
    "end": "2719550"
  },
  {
    "text": "Here's a random piece of advice. Keep your frameworks\nlean, especially with the byte code limit.",
    "start": "2719550",
    "end": "2725640"
  },
  {
    "text": "You don't want to create\nthis beautiful hierarchy of abstract interfaces\nthat just has",
    "start": "2725640",
    "end": "2732750"
  },
  {
    "text": "a ton of intermediate\nlayers before you actually get to the nitty gritty code. Because for every additional\nlayer of abstraction,",
    "start": "2732750",
    "end": "2740520"
  },
  {
    "text": "you're increasing\nthe byte code cost. So actually one of the cool\nthings that the byte code limitation actually enforces is\nit enforces really lean code,",
    "start": "2740520",
    "end": "2749490"
  },
  {
    "text": "which is not something\nyou typically see in Java. So if you'll actually look\nat our class structure,",
    "start": "2749490",
    "end": "2754880"
  },
  {
    "text": "this is from our 2012 bot, we\nhave a very, very flat class hierarchy. One, because we just didn't want\nto deal with extra subpackages.",
    "start": "2754880",
    "end": "2761686"
  },
  {
    "text": " And two, because\nthere's really not too much to be gained from\nreally elegant architecture",
    "start": "2761686",
    "end": "2768950"
  },
  {
    "text": "other than just wasting time. Because the behavior code\nis ultimately what matters. So we wrote extremely\nlean frameworks.",
    "start": "2768950",
    "end": "2776230"
  },
  {
    "text": "So this is actually\nour main run loop. You'll see here all we do is\nwe reset our internal timers.",
    "start": "2776230",
    "end": "2782880"
  },
  {
    "text": "We update a few key\nround variables, like the current time,\nand my current energy,",
    "start": "2782880",
    "end": "2787950"
  },
  {
    "text": "and the current position\nof all the bases. And then we run\nour message system.",
    "start": "2787950",
    "end": "2794660"
  },
  {
    "text": "We actually run the main run\ncall, which would basically",
    "start": "2794660",
    "end": "2800030"
  },
  {
    "text": "be a giant state\nmachine, probably like 500, 600 to 1,000\nlines long of just completely messy code that\ndetermines what the robot wants",
    "start": "2800030",
    "end": "2806540"
  },
  {
    "text": "to do and does it. And then we actually\nabstracted movement out. This was probably the\nbiggest piece of abstraction",
    "start": "2806540",
    "end": "2813530"
  },
  {
    "text": "that we did, was we\nmoved a movement out to a separate position where\nwe knew that each robot was",
    "start": "2813530",
    "end": "2819330"
  },
  {
    "text": "reliably moving\nevery single round, because it's very key that\nyou always move because that",
    "start": "2819330",
    "end": "2824790"
  },
  {
    "text": "is an impact on your\ntotal damage per second. And then we did\nsome generic things.",
    "start": "2824790",
    "end": "2830050"
  },
  {
    "text": "And we also have this cute\nlittle thing down here at the bottom which is if we had\nsome spare byte codes we would",
    "start": "2830050",
    "end": "2835150"
  },
  {
    "text": "use the extra byte\ncodes for computation. So navigation last year\nwas-- because there were walls, the\nalgorithms you had",
    "start": "2835150",
    "end": "2841512"
  },
  {
    "text": "to use last year were\nactually quite different. ",
    "start": "2841512",
    "end": "2846580"
  },
  {
    "text": "Most teams would write\nsomething called bugnav, which-- you guys from\nthe navigation lecture,",
    "start": "2846580",
    "end": "2853369"
  },
  {
    "text": "I suppose you discussed a little\nbit, where you see an obstacle, you hit the obstacle, you try\nto trace around the obstacle,",
    "start": "2853370",
    "end": "2858520"
  },
  {
    "text": "and then once you're free of\nthe obstacle you keep moving. But the more advanced\nteams would actually",
    "start": "2858520",
    "end": "2863757"
  },
  {
    "text": "write a more complex\nversion of bugnav which is called tangentbug, which\nis-- you basically can project a virtual bug and if you\nsee you've rounded a corner,",
    "start": "2863757",
    "end": "2871510"
  },
  {
    "text": "instead of going forward,\nhitting the wall, and going around it, you\ncan just cut the corner. And we actually used\nour extra byte codes",
    "start": "2871510",
    "end": "2878440"
  },
  {
    "text": "to pre-compute steps\nof tangentbug in order to make our navigation maybe\nfive or six squares better.",
    "start": "2878440",
    "end": "2885970"
  },
  {
    "text": "But that better means you get\nto the enemy two rounds faster because you cut a corner.",
    "start": "2885970",
    "end": "2891250"
  },
  {
    "text": "And then two rounds faster means\nyou have extra DPS on the enemy and so you win that\ninitial engagement.",
    "start": "2891250",
    "end": "2899460"
  },
  {
    "text": "This year because there\nare no permanent walls, bugnav and tangentbug\nmay not actually",
    "start": "2899460",
    "end": "2905590"
  },
  {
    "text": "be some of the best algorithms. Haitao and I have kind\nof a little bet running on what the best nav will be.",
    "start": "2905590",
    "end": "2913183"
  },
  {
    "text": "We're thinking\nit's probably going to be some sort of very\ndiscretized floodfill algorithm or Astar algorithm that doesn't\ntry to compute every square",
    "start": "2913184",
    "end": "2921280"
  },
  {
    "text": "but actually breaks everything\nup into discrete segments. So you want to be able\nto rush to the enemy base",
    "start": "2921280",
    "end": "2926309"
  },
  {
    "text": "if they're just a\nstraight up nuke bot. We guarantee you a\nround-- we guarantee you",
    "start": "2926310",
    "end": "2931750"
  },
  {
    "text": "a minimum of 200 rounds if\nyou follow the optimal path. But you have to know\nwhat that optimal path is or you won't get there in time.",
    "start": "2931750",
    "end": "2938510"
  },
  {
    "text": "Maximum of 200 rounds. So our bets are actually\non the most advanced teams",
    "start": "2938510",
    "end": "2945440"
  },
  {
    "text": "writing kind of\nan Astar algorithm or a floodfill algorithm\nthat takes the map, divides it into discrete\nchunks so it doesn't consider",
    "start": "2945440",
    "end": "2952490"
  },
  {
    "text": "every individual square,\nand then it kind of picks sort of roughly the\nbest path to take.",
    "start": "2952490",
    "end": "2958490"
  },
  {
    "text": "So you can avoid areas\nwith more or less mines than the other areas. And then this will still get you\nto the nuke bot in enough time",
    "start": "2958490",
    "end": "2965250"
  },
  {
    "text": "without having to\nblow the entire cost of the complete Astar algorithm.",
    "start": "2965250",
    "end": "2970940"
  },
  {
    "text": "So Astar, in maybe like an\neight by eight or ten by ten is tenable, but it's\nnot tenable in twenty",
    "start": "2970940",
    "end": "2976010"
  },
  {
    "text": "by twenty or a hundred\nby a hundred situations. ",
    "start": "2976010",
    "end": "2982830"
  },
  {
    "text": "This is kind of a big one. Don't be afraid to\nwrite messy code. ",
    "start": "2982830",
    "end": "2988866"
  },
  {
    "text": "I think it speaks for\nitself, but in case you guys are like spending\na lot of time trying",
    "start": "2988866",
    "end": "2994880"
  },
  {
    "text": "to make beautiful\ncode, the thing is what you ship is\nultimately-- what you ship that changes your\nbot's performance is ultimately",
    "start": "2994880",
    "end": "3001980"
  },
  {
    "text": "what matters. And a lot of beginners\nhave this issue where they're afraid\nto just hack something together, or hack a\none off bot to test.",
    "start": "3001980",
    "end": "3009510"
  },
  {
    "text": "But it's so key that you\nkind of overcome this fear to write messy code,\nwrite stuff that works,",
    "start": "3009510",
    "end": "3015160"
  },
  {
    "text": "just get something hacked\nout that's working. And then use that\nto gain yourself",
    "start": "3015160",
    "end": "3020710"
  },
  {
    "text": "an advantage in\nwhat matters, which is the actual scrimmage, the\ntournament matches, et cetera. So we actually have\ncode that's terrible.",
    "start": "3020710",
    "end": "3028070"
  },
  {
    "text": "Our navigation code\nactually is completely-- is not understandable by the\nperson who wrote it anymore",
    "start": "3028070",
    "end": "3033950"
  },
  {
    "text": "because it's so messy. Like you can imagine,\nbugnav, for anyone who's tried to implement\nbugnav it sounds really simple,",
    "start": "3033950",
    "end": "3041193"
  },
  {
    "text": "but there are actually like\n100s or so of edge cases that you have to account for. So if you end up bugging around\nanother robot or you end up",
    "start": "3041194",
    "end": "3048150"
  },
  {
    "text": "in some sort of\ninfinite loop bug, there's a lot of extra edge\nconditions that you have to account for that none of\nthe previous lecturers have",
    "start": "3048150",
    "end": "3055950"
  },
  {
    "text": "actually talked about\nfrom '09 or 2010 or 2011.",
    "start": "3055950",
    "end": "3062099"
  },
  {
    "text": "They'll just say oh\nyeah, it's bugnav, just go around the thing. But what happens if you\nhave two units bugging",
    "start": "3062100",
    "end": "3067550"
  },
  {
    "text": "around the same wall and\nthen they hit each other, then one unit has to go around. But if one unit goes around\nand the unit on top moves,",
    "start": "3067550",
    "end": "3074606"
  },
  {
    "text": "all of the sudden\nyou have a unit who's no longer next\nto a wall but though he was bugging around a wall. But he doesn't see any\nwalls next to him anymore.",
    "start": "3074606",
    "end": "3080685"
  },
  {
    "text": "And then you're\nstates get messed up. And everything\njust goes to hell. So don't be afraid to\njust write edge case",
    "start": "3080685",
    "end": "3086090"
  },
  {
    "text": "code that deals with\nthat, gets your bot up and running so you can test the\nframeworks, and the strategies,",
    "start": "3086090",
    "end": "3091340"
  },
  {
    "text": "and everything that matters. There's also-- last minute\nhacks actually win games.",
    "start": "3091340",
    "end": "3098630"
  },
  {
    "text": "So I don't know if you guys\nare familiar with our 2011-- or 2012 championship. But what we did was\non the very last day",
    "start": "3098630",
    "end": "3105869"
  },
  {
    "text": "we were scrimmaging\non the server and we found out that the second\nplace scrim team, team 16,",
    "start": "3105870",
    "end": "3113910"
  },
  {
    "text": "had modified his attack\ncode, that it was actually slightly better than ours. And because having\nbetter attack code",
    "start": "3113910",
    "end": "3119770"
  },
  {
    "text": "means you win the engagement, it\nmeans he beat our bot actually three times out of four.",
    "start": "3119770",
    "end": "3126740"
  },
  {
    "text": "So we got, actually,\nreally scared about this. And don't forget\nwe scrimmed this the day of the\nfinal submissions.",
    "start": "3126740",
    "end": "3133550"
  },
  {
    "text": "So an hour before the\ndeadline, me, Haitao, and YP are just thinking about well\nwhat should we actually do?",
    "start": "3133550",
    "end": "3138790"
  },
  {
    "text": "So our ultimate hack was\nwe actually figure out what the team is by the\ncharacteristic of their message",
    "start": "3138790",
    "end": "3145870"
  },
  {
    "text": "broadcasting. So you're not actually\ngiven the team number. But if you look at what kind\nof messages they're sending, you can kind of guess, right?",
    "start": "3145870",
    "end": "3152059"
  },
  {
    "text": "And throughout the\nwhole battle code 2012",
    "start": "3152060",
    "end": "3157150"
  },
  {
    "text": "we had been kind of on\nthe side just curious, looking at the structure\nof other teams messages.",
    "start": "3157150",
    "end": "3162680"
  },
  {
    "text": "And so an hour before\nthe deadline submission we wrote something\nthat determined",
    "start": "3162680",
    "end": "3167910"
  },
  {
    "text": "whether the team we were\nplaying against was team 16. And we would change\nour strategy.",
    "start": "3167910",
    "end": "3172990"
  },
  {
    "text": "And this was an hour before. And it was completely\nuntested code. But we had been thinking\nabout it, kind of in the back of our mind, and\nwe just threw this together.",
    "start": "3172990",
    "end": "3180130"
  },
  {
    "text": "We uploaded it. And if you were at the finals\nit was a pretty tense match where we actually had\na bug in that code that",
    "start": "3180130",
    "end": "3187280"
  },
  {
    "text": "triggered once and would\nnot trigger a second time. But the one time it did trigger\nwas the very last match,",
    "start": "3187280",
    "end": "3194839"
  },
  {
    "text": "and so we ultimately won\nthe final tournament. But this is like a piece of\ncode, incredibly critical.",
    "start": "3194840",
    "end": "3202880"
  },
  {
    "text": "It's like three or\nfour lines, but it was the difference between\nfirst or second place. So once again, spending time\nwhere it matters is really key.",
    "start": "3202880",
    "end": "3211240"
  },
  {
    "text": "You can probably do these\nsort of hacks this year. Determining what the team is\nbased on the message structure",
    "start": "3211240",
    "end": "3216460"
  },
  {
    "text": "is a little bit harder. Because last year people would\nsend discrete message objects. And so you could\ncount the total number",
    "start": "3216460",
    "end": "3221930"
  },
  {
    "text": "of integers, the total\nnumber of map locations. Whether there's a\nsecret key and then you could correlate\nthe secret keys.",
    "start": "3221930",
    "end": "3228010"
  },
  {
    "text": "This year you'll have to\nsee how they channel hop or what they store on\nthe various channels, or the channel distribution\nof the different messages.",
    "start": "3228010",
    "end": "3237260"
  },
  {
    "text": "But it's still possible. So last minute\nhacks do win games. This is also another small one.",
    "start": "3237260",
    "end": "3242580"
  },
  {
    "text": "You guys should all-- if\nyou're not already using IRC, you should use IRC, because\nall the devs are on IRC,",
    "start": "3242580",
    "end": "3247830"
  },
  {
    "text": "especially us who are remote. I was the only person working\non engine who was actually",
    "start": "3247830",
    "end": "3254830"
  },
  {
    "text": "willing to fly out six\nhours to give this talk. So everyone else is on IRC. If you have any questions\nyou should go on IRC",
    "start": "3254830",
    "end": "3260810"
  },
  {
    "text": "and you should actually\nask your question. So, for those of you who don't\nknow, there's a web client.",
    "start": "3260810",
    "end": "3266230"
  },
  {
    "text": "Just use the\nfreenode web client, connect to channel\nbattle code, ask whatever questions you have.",
    "start": "3266230",
    "end": "3271680"
  },
  {
    "text": "We'll answer them pretty fast. If you guys are feeling\na little more advanced,",
    "start": "3271680",
    "end": "3277760"
  },
  {
    "text": "you should use IRC better. If you actually\nparsesys in the channel there's a lot of banter that\ngoes on regarding game balance.",
    "start": "3277760",
    "end": "3284425"
  },
  {
    "text": "Or teams will discuss\nstrategies or whatever. So if you actually\nget a good IRC client and stay in the channel,\nyou'll actually learn a lot.",
    "start": "3284425",
    "end": "3292410"
  },
  {
    "text": "Because sometimes some of\nthe old battle code champions will just come in, just talk\na little bit about strategy.",
    "start": "3292410",
    "end": "3298984"
  },
  {
    "text": "Or people will just\ndiscuss what they've been doing on the\nbots, et cetera. And so just use a\ngood IRC chat client.",
    "start": "3298984",
    "end": "3305119"
  },
  {
    "text": "If you were to\nuse pigeon, pigeon has a built-in IRC client. There's no reason to\nnot connect to it. Talk to the devs, ask questions.",
    "start": "3305120",
    "end": "3312660"
  },
  {
    "text": "There's just been a lot\nof very simple questions, but we're more than\nhappy to answer. So questions about\nround number, or if you",
    "start": "3312660",
    "end": "3319869"
  },
  {
    "text": "have an issue with\nyour bot, it's much faster than the\nforums, because we'll answer the IRC\nprobably in minutes",
    "start": "3319870",
    "end": "3325640"
  },
  {
    "text": "rather than hours on the forum. And, most of all, you\nguys should just have fun.",
    "start": "3325640",
    "end": "3331530"
  },
  {
    "text": "Battle code, at least for us,\nwas a very fun experience. We worked hard on it.",
    "start": "3331530",
    "end": "3337180"
  },
  {
    "text": "But we also-- we\ngoofed off a lot. We probably spent more than\n40 hours playing Civ 5.",
    "start": "3337180",
    "end": "3344506"
  },
  {
    "text": "And before the\nsprint tournament, or before the Qualls tournament,\nthis is usually a bad idea.",
    "start": "3344506",
    "end": "3350319"
  },
  {
    "text": "But it's about-- this is\nIP, it's about having fun. So work hard, but also have fun.",
    "start": "3350320",
    "end": "3356220"
  },
  {
    "text": "And also I have a few requests. So there may potentially be\nthe 2013 winner in this group.",
    "start": "3356220",
    "end": "3363420"
  },
  {
    "text": "So, if it is one of you\nguys, just a few requests. You guys should write\na good strategy report,",
    "start": "3363420",
    "end": "3369107"
  },
  {
    "text": "because battle code is\nnot done in a vacuum. We learned from the\nteams before us. The teams before us learned\nfrom the teams before them.",
    "start": "3369107",
    "end": "3375280"
  },
  {
    "text": "This information really needs\nto be more out and open, which is why I'm giving\nyou kind of a brain dump of a lot of the\nvery small tricks",
    "start": "3375280",
    "end": "3382386"
  },
  {
    "text": "and tips that we did in order\nto gain a competitive edge. So write a good strategy report,\nhelp your fellow competitors.",
    "start": "3382386",
    "end": "3387630"
  },
  {
    "text": "This is a friendly competition,\nit's not cutthroat. You guys can make fun of all\nthe other lesser competitions,",
    "start": "3387630",
    "end": "3393350"
  },
  {
    "text": "but within battle code\nkeep it a good family. And then join the\ndevs if you guys win,",
    "start": "3393350",
    "end": "3399730"
  },
  {
    "text": "because we need good desks. So thanks. [APPLAUSE]",
    "start": "3399730",
    "end": "3412420"
  },
  {
    "text": "CORY: So any general\nquestions or whatever? Once again, yeah, it's our\nfault if you guys really",
    "start": "3412420",
    "end": "3419359"
  },
  {
    "text": "hate nuke you should say it now.",
    "start": "3419360",
    "end": "3424580"
  },
  {
    "text": "Yes? [INAUDIBLE] AUDIENCE: It changes\nfrom year to year.",
    "start": "3424580",
    "end": "3430205"
  },
  {
    "text": "So how did you choose your team? CORY: The 2012 team was\nall Star League people.",
    "start": "3430205",
    "end": "3436472"
  },
  {
    "text": "So there's also another\nStar League team. I have some high hopes\nfor the Star League guys.",
    "start": "3436472",
    "end": "3441849"
  },
  {
    "text": "First year I did it with\npeople from my high school. Second year I did it, I did\nit with Star League people.",
    "start": "3441850",
    "end": "3447260"
  },
  {
    "text": "The third year was also all\nStar League people as well. You guys should go to Star\nLeague if you like Starcraft. That's a pitch.",
    "start": "3447260",
    "end": "3452930"
  },
  {
    "text": "Every Friday at 7:00\no'clock for 253. Go play Starcraft",
    "start": "3452930",
    "end": "3458750"
  },
  {
    "text": "It'll make your meta\ngame analysis better. ",
    "start": "3458750",
    "end": "3464817"
  },
  {
    "text": "Any other questions? Balance? General comments?",
    "start": "3464817",
    "end": "3470320"
  },
  {
    "text": "So I'll be here\nafterwards if you guys want to ask any questions. If you want to look\nthrough our old bot. At some point I will\nwrite out a code",
    "start": "3470320",
    "end": "3477400"
  },
  {
    "text": "walk through of our 2012 bot. But until then\njust ask, or we'll be in the IRC\nchannel or whatever.",
    "start": "3477400",
    "end": "3483960"
  },
  {
    "text": "So hopefully this was\nuseful to you guys. So thanks. [APPLAUSE]",
    "start": "3483960",
    "end": "3489970"
  },
  {
    "start": "3489970",
    "end": "3497040"
  }
]