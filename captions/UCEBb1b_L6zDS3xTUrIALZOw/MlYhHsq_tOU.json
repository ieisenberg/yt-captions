[
  {
    "start": "0",
    "end": "17367"
  },
  {
    "text": "YUFEI ZHAO: For the\npast few lectures, we've been discussing the\nstructure of set addition, and which culminated in the\nproof of Freiman's theorem.",
    "start": "17367",
    "end": "25260"
  },
  {
    "text": "So this was a pretty\nbig and central result in additive combinatorics,\nwhich gives you",
    "start": "25260",
    "end": "30640"
  },
  {
    "text": "a complete characterization\nof sets with small doubling. Today, I want to look at a\nsomewhat different issue also",
    "start": "30640",
    "end": "38650"
  },
  {
    "text": "related to sets\nof small doubling, but this time we want to\nhave a somewhat different",
    "start": "38650",
    "end": "44860"
  },
  {
    "text": "characterization of what does\nit mean for a set to have lots of additive structure.",
    "start": "44860",
    "end": "51651"
  },
  {
    "text": "So in today's\nlecture, we're always going to be working\nin an Abelian group. ",
    "start": "51652",
    "end": "60449"
  },
  {
    "text": "Let me define the\nfollowing quantity. Given sets A and B, we\ndefine the additive energy",
    "start": "60450",
    "end": "69450"
  },
  {
    "text": "between A and B to be\ndenoted by E of A and B.",
    "start": "69450",
    "end": "76450"
  },
  {
    "text": "So A and B are subgroups. They're subsets of this\narbitrary Abelian group.",
    "start": "76450",
    "end": "81840"
  },
  {
    "text": "So E of A and B is defined to\nbe the number of quadruples, a1, a2, b1, b2, where a1, a2\nare elements of A, and b1,",
    "start": "81840",
    "end": "92820"
  },
  {
    "text": "b2 are elements of B,\nsuch that a1 plus b1",
    "start": "92820",
    "end": "101310"
  },
  {
    "text": "equals to a2 plus b2. ",
    "start": "101310",
    "end": "108650"
  },
  {
    "text": "So the additive\nenergy is the number of quadruples of these\nelements where you",
    "start": "108650",
    "end": "116510"
  },
  {
    "text": "have this additive relation. And we would like\nto understand sets",
    "start": "116510",
    "end": "122000"
  },
  {
    "text": "with large additive energy. So, intuitively, if you\nhave lots of solutions",
    "start": "122000",
    "end": "127460"
  },
  {
    "text": "to this equation in\nyour sets, then the sets themselves should have lots\nof internal additive structure.",
    "start": "127460",
    "end": "134590"
  },
  {
    "text": "So it's a different way of\ndescribing additive structure, and we'd like to\nunderstand how does this way of describing\nadditive structure",
    "start": "134590",
    "end": "141799"
  },
  {
    "text": "relate to things we've seen\nbefore, namely small doubling. ",
    "start": "141800",
    "end": "150480"
  },
  {
    "text": "When you have not two\nsets but just one set-- slightly easier to think about--",
    "start": "150480",
    "end": "157170"
  },
  {
    "text": "we just write E of A.\nI mean E of A comma A.",
    "start": "157170",
    "end": "162690"
  },
  {
    "text": "And these objects are analogous\nto 4 cycles in graph theory.",
    "start": "162690",
    "end": "175150"
  },
  {
    "text": "Because if you about this\nexpression here in a Cayley graph, let's say\nover F2, then this",
    "start": "175150",
    "end": "182650"
  },
  {
    "text": "is the description of a 4 cycle. You go around 4\nsteps, and you come back to where you started from.",
    "start": "182650",
    "end": "189460"
  },
  {
    "text": "So these objects are\nthe analogs of 4 cycles. And we already saw in our\ndiscussion of quasi-randomness,",
    "start": "189460",
    "end": "196720"
  },
  {
    "text": "and also elsewhere,\nthat 4 cycles play an important\nrole in graph theory.",
    "start": "196720",
    "end": "202030"
  },
  {
    "text": "And, likewise, these\nadditive energies are going to play an important\nrole in describing sets",
    "start": "202030",
    "end": "207190"
  },
  {
    "text": "with additive structure. ",
    "start": "207190",
    "end": "213320"
  },
  {
    "text": "Consider the following quantity. We're going to let r sub A comma\nB of x to be the number of ways",
    "start": "213320",
    "end": "222530"
  },
  {
    "text": "to write x as a plus b. ",
    "start": "222530",
    "end": "229710"
  },
  {
    "text": "So x equals to a plus b. ",
    "start": "229710",
    "end": "236080"
  },
  {
    "text": "So r sub A comma B of\nx is the number of ways I can write x as a plus b, where\na comes from big A, little b",
    "start": "236080",
    "end": "244040"
  },
  {
    "text": "comes from big B. Then,\nreinterpreting the formula",
    "start": "244040",
    "end": "249110"
  },
  {
    "text": "up there, we see that the\nadditive energy between two sets A and B is simply the sum\nof the squares of A-- r sub A",
    "start": "249110",
    "end": "258758"
  },
  {
    "text": "comma B. As x ranges over\nall elements of the group,",
    "start": "258758",
    "end": "266630"
  },
  {
    "text": "we only need to take x\nin the sumset A plus B.",
    "start": "266630",
    "end": "274580"
  },
  {
    "text": "So the basic question,\nlike when we discussed additive combinatorics, in the\nsense of when we discussed sets",
    "start": "274580",
    "end": "281480"
  },
  {
    "text": "of small doubling,\nthere we asked, if you have a set A of a certain\nsize, how big can a plus a be?",
    "start": "281480",
    "end": "289910"
  },
  {
    "text": "Here, let's ask the same. If I give you set A of a certain\nsize, how big or how small",
    "start": "289910",
    "end": "295490"
  },
  {
    "text": "can the additive\nenergy of the set be? What's the most number\nof possible number",
    "start": "295490",
    "end": "302440"
  },
  {
    "text": "of additive quadruples. What's the least possible\nnumber of additive quadruples?",
    "start": "302440",
    "end": "307759"
  },
  {
    "text": "There's some\ntrivial bounds, just like in the case of sumsets. ",
    "start": "307760",
    "end": "317949"
  },
  {
    "text": "So what are some trivial bounds? ",
    "start": "317950",
    "end": "323660"
  },
  {
    "text": "On one hand, by taking a1 equal\nto a2, and b2 equal to b2,",
    "start": "323660",
    "end": "329330"
  },
  {
    "text": "we see that the energy is\nalways at least the square of the size of A.\nOn the other hand,",
    "start": "329330",
    "end": "337970"
  },
  {
    "text": "if I fix three of\nthe four elements, then the fourth\nelement is determined. So the upper bound is\ncube of the size of A.",
    "start": "337970",
    "end": "349030"
  },
  {
    "text": "And you convince\nyourself that, except up to maybe a constant\nfactors, this",
    "start": "349030",
    "end": "354340"
  },
  {
    "text": "is the best possible general\nupper and lower bound. Similar situation with sumsets,\nwhere you have lower bound",
    "start": "354340",
    "end": "361509"
  },
  {
    "text": "linear, upper bound quadratic. Which is the side with\nadditive structure?",
    "start": "361510",
    "end": "367948"
  },
  {
    "text": "So if you have lots\nof additive structure, you have high energy. So this range is when you have\nlots of additive structure.",
    "start": "367948",
    "end": "376930"
  },
  {
    "text": "And we would like to\nunderstand, what can you say about a set with\nhigh additive energy?",
    "start": "376930",
    "end": "383289"
  },
  {
    "text": " Well, what are some examples of\nsets with high additive energy?",
    "start": "383290",
    "end": "392030"
  },
  {
    "text": "It turns out that if\nyou have a set that has small doubling,\nthen, automatically,",
    "start": "392030",
    "end": "399640"
  },
  {
    "text": "it implies large\nadditive energy. ",
    "start": "399640",
    "end": "409030"
  },
  {
    "text": "So, in particular, intervals,\nor GAPs, or a large subset",
    "start": "409030",
    "end": "414740"
  },
  {
    "text": "of GAPs, or all these examples\nthat we saw-- in fact, these are all the examples\ncoming from Freiman's theorem.",
    "start": "414740",
    "end": "420590"
  },
  {
    "text": "Also, arbitrary groups. You can have subgroups. And so all of these examples\nhave large additive energy.",
    "start": "420590",
    "end": "425630"
  },
  {
    "text": " So let me-- I'll you the\nproof just in a second. It's not hard.",
    "start": "425630",
    "end": "431740"
  },
  {
    "text": "But the real question is,\nwhat about the converse? So can you see much in\nthe reverse direction?",
    "start": "431740",
    "end": "437500"
  },
  {
    "text": "But, first, let me show you\nthis claim that small doubling implies large additive energy.",
    "start": "437500",
    "end": "443690"
  },
  {
    "text": "Well, if you have small\ndoubling, if a plus A is size, at most, k times\nthe size of A, then",
    "start": "443690",
    "end": "453940"
  },
  {
    "text": "it turns out the\nadditive energy of A is at least the\nmaximum possible,",
    "start": "453940",
    "end": "462080"
  },
  {
    "text": "which is A cubed divided by k. So that's within a constant\nfactor of the maximum.",
    "start": "462080",
    "end": "469479"
  },
  {
    "text": "It's pretty large. If you have small doubling,\nthen large additive energy.",
    "start": "469480",
    "end": "474900"
  },
  {
    "text": "So let's see the proof. So you can often\ntell how hard a proof is by how simple the statement\nis, although that's not always",
    "start": "474900",
    "end": "482320"
  },
  {
    "text": "the case, as we've seen\nwith some of our theorems, like Plunnecke's inequality.",
    "start": "482320",
    "end": "487659"
  },
  {
    "text": "But in this case, it turns\nout to be fairly simple. So we see that r sub A comma\nA is supported on A plus A.",
    "start": "487660",
    "end": "500620"
  },
  {
    "text": "So we use Cauchy-Schwarz\nto write--",
    "start": "500620",
    "end": "506250"
  },
  {
    "text": "so, first, we write additive\nenergy in terms of the sum",
    "start": "506250",
    "end": "513419"
  },
  {
    "text": "of the squares of these r's.  And now, by Cauchy-Schwarz,\nwe find that you can replace",
    "start": "513419",
    "end": "526670"
  },
  {
    "text": "the sum of the squared\nr's by the sum of the r's. But now the key point\nhere is that we take out",
    "start": "526670",
    "end": "535370"
  },
  {
    "text": "this factor coming from\nCauchy-Schwarz, which is only A plus A. So if the support size\nis small, we gain in this step.",
    "start": "535370",
    "end": "543560"
  },
  {
    "text": " But what is the sum of r's?",
    "start": "543560",
    "end": "551110"
  },
  {
    "text": "I mean, r of x is\njust number of ways to write x as little\na1 plus little ab--",
    "start": "551110",
    "end": "556320"
  },
  {
    "text": "little a2. So if I sum over all x, I'm just\nlooking at different two ways--",
    "start": "556320",
    "end": "563500"
  },
  {
    "text": "we're just looking at ways of\npicking an ordered pair from A.",
    "start": "563500",
    "end": "568810"
  },
  {
    "text": "So this last expression\nis equal to the size of A",
    "start": "568810",
    "end": "574210"
  },
  {
    "text": "to power 4 divided by\nA plus A. And now we",
    "start": "574210",
    "end": "579980"
  },
  {
    "text": "use that A has small\ndoubling to conclude that the final quantity is at\nleast A cubed divided by k.",
    "start": "579980",
    "end": "587700"
  },
  {
    "start": "587700",
    "end": "593820"
  },
  {
    "text": "So we see small doubling\nimplies large additive energy. And this kind of makes sense.",
    "start": "593820",
    "end": "599720"
  },
  {
    "text": "If your set doesn't\nexpand, then there are many collisions of sums.",
    "start": "599720",
    "end": "608180"
  },
  {
    "text": "And so you must have lots of\nsolutions to that equation up there.",
    "start": "608180",
    "end": "613220"
  },
  {
    "text": "But what about the converse? If I give you a set with\nlarge additive energy,",
    "start": "613220",
    "end": "618440"
  },
  {
    "text": "must it necessarily\nhave small doubling? ",
    "start": "618440",
    "end": "624922"
  },
  {
    "text": "Oh. Let me show you an example. ",
    "start": "624922",
    "end": "630760"
  },
  {
    "text": "So, well-- so a large\nadditive energy,",
    "start": "630760",
    "end": "638320"
  },
  {
    "text": "does it imply small doubling?",
    "start": "638320",
    "end": "645070"
  },
  {
    "text": " So consider the\nfollowing example, where",
    "start": "645070",
    "end": "650730"
  },
  {
    "text": "you take a set A which\nis a combination, is a union of a set\nwith small doubling",
    "start": "650730",
    "end": "656970"
  },
  {
    "text": "plus a bunch of elements\nwithout additive structure.",
    "start": "656970",
    "end": "663873"
  },
  {
    "start": "663874",
    "end": "670170"
  },
  {
    "text": "So I take a set\nwith small doubling plus a bunch of elements\nwithout additive structure.",
    "start": "670170",
    "end": "676940"
  },
  {
    "text": "Then it has large additive\nenergy, just coming from this interval itself.",
    "start": "676940",
    "end": "685120"
  },
  {
    "text": "So the energy of A\nis order N cubed.",
    "start": "685120",
    "end": "691990"
  },
  {
    "text": "N is the number of elements. What about A plus A?",
    "start": "691990",
    "end": "698320"
  },
  {
    "text": "Well, for A plus A,\nthis part doesn't-- that's the part\nthat contributes, or the part of this A\nwithout additive structure.",
    "start": "698320",
    "end": "708270"
  },
  {
    "text": "And we see that the\nsize of A plus A is quadratic in the size of A.",
    "start": "708270",
    "end": "716830"
  },
  {
    "text": "So, unfortunately,\nthe converse fails. So you can have sets that have\nlarge additive energy and also",
    "start": "716830",
    "end": "725480"
  },
  {
    "text": "large doubling. But, you see, the reason why\nthis has large additive energy",
    "start": "725480",
    "end": "731100"
  },
  {
    "text": "is because there is a very\nhighly structured additively structured piece of it. And, somehow, we want to forget\nabout this extra garbage.",
    "start": "731100",
    "end": "740290"
  },
  {
    "text": "And that's part of the reason\nwhy the converse is not true. So we would like\na statement that",
    "start": "740290",
    "end": "746820"
  },
  {
    "text": "says that if you have\nlarge additive energy, then it must come from some\nhighly structured piece that",
    "start": "746820",
    "end": "753750"
  },
  {
    "text": "has small doubling. And that is true, and\nthat's the content of the Balog-Szemeredi-Gowers\ntheorem, which",
    "start": "753750",
    "end": "760540"
  },
  {
    "text": "is the main topic today. So the Balog-Szemeredi-Gowers\ntheorem says that if you have",
    "start": "760540",
    "end": "771889"
  },
  {
    "text": "a set-- so we're working always in\nsome arbitrary Abelian group. If you have a set\nwith large energy,",
    "start": "771890",
    "end": "780650"
  },
  {
    "text": "then there exists some\nsubset A prime of A such",
    "start": "780650",
    "end": "787280"
  },
  {
    "text": "that A prime is a fairly\nlarge proportion of A.",
    "start": "787280",
    "end": "793460"
  },
  {
    "text": "And here, by large I mean up to\npolynomial changes in the error parameters.",
    "start": "793460",
    "end": "798920"
  },
  {
    "text": " So this A prime is such that\nA prime has small doubling.",
    "start": "798920",
    "end": "808310"
  },
  {
    "start": "808310",
    "end": "814340"
  },
  {
    "text": "If you have large\nadditive energy, then I can pick out a large\npiece with small doubling",
    "start": "814340",
    "end": "820960"
  },
  {
    "text": "constant, and I only\nloose a polynomial in the error factors. ",
    "start": "820960",
    "end": "828200"
  },
  {
    "text": "So that's the\nBalog-Szemeredi-Gowers theorem, and it describes\nthis example up here.",
    "start": "828200",
    "end": "836420"
  },
  {
    "text": "Any questions about\nthe statement?  So what I will actually show you\nis a slight variant, actually",
    "start": "836420",
    "end": "844970"
  },
  {
    "text": "a more general statement, where,\ninstead of having one set, we're going to have two sets.",
    "start": "844970",
    "end": "849990"
  },
  {
    "text": " So here's Balog-Szemeredi-Gowers\ntheorem version",
    "start": "849990",
    "end": "856879"
  },
  {
    "text": "2, where now we have two sets.",
    "start": "856880",
    "end": "865460"
  },
  {
    "text": "Again, A and B are-- I'm not going to write any-- I'm not going to write\nit in this lecture, but A and B are always subsets\nof some arbitrary Abelian",
    "start": "865460",
    "end": "872210"
  },
  {
    "text": "group. So A and B both have\nsize of, at most, n, and the energy\nbetween A and B is large.",
    "start": "872210",
    "end": "880324"
  },
  {
    "text": " Then there exists a subset A\nprime of A, B prime of B such",
    "start": "880325",
    "end": "893579"
  },
  {
    "text": "that both A prime\nand B prime are",
    "start": "893580",
    "end": "899820"
  },
  {
    "text": "large fractions of\ntheir parent set,",
    "start": "899820",
    "end": "905250"
  },
  {
    "text": "and such that A prime\nplus B prime is not",
    "start": "905250",
    "end": "914070"
  },
  {
    "text": "too much bigger than n. ",
    "start": "914070",
    "end": "921170"
  },
  {
    "text": "It's not so obvious\nwhy the second version implies the first version. So you can say, well, take\nA and B to be the same.",
    "start": "921170",
    "end": "929030"
  },
  {
    "text": "But then the\nconclusion gives you possibly two different\nsubsets, A prime and B prime.",
    "start": "929030",
    "end": "936200"
  },
  {
    "text": "But the first version,\nI only want one subset that has small doubling.",
    "start": "936200",
    "end": "943320"
  },
  {
    "text": "So, fortunately,\nthe second version does imply the first version. So let's see why.",
    "start": "943320",
    "end": "948490"
  },
  {
    "start": "948490",
    "end": "954020"
  },
  {
    "text": "The second version implies the\nfirst version because, if we-- ",
    "start": "954020",
    "end": "963089"
  },
  {
    "text": "so there's a tool\nthat we introduced early on when we discussed\nFreiman's theorem,",
    "start": "963090",
    "end": "968630"
  },
  {
    "text": "and this is the Ruzsa\ntriangle inequality.",
    "start": "968630",
    "end": "974390"
  },
  {
    "text": "So the spirit of Ruzsa\ntriangle inequality is it allows you to\nrelate, to sort of go",
    "start": "974390",
    "end": "979680"
  },
  {
    "text": "back and forth between different\nsumsets in different sets. So by Ruzsa triangle inequality,\nif we apply the second version",
    "start": "979680",
    "end": "991250"
  },
  {
    "text": "with A equals to B, then-- ",
    "start": "991250",
    "end": "997750"
  },
  {
    "text": "and we pick out this\nA prime and B prime, then we see that A\nprime plus A prime",
    "start": "997750",
    "end": "1003050"
  },
  {
    "text": "is, at most, A prime plus B\nprime squared over B prime.",
    "start": "1003050",
    "end": "1014370"
  },
  {
    "text": "Well, actually, this uses the-- vice versa it uses a\nslightly stronger version that we had to use\nPlunnecke-Ruzsa key lemma",
    "start": "1014370",
    "end": "1021910"
  },
  {
    "text": "to prove. But you can come up-- I mean, if you don't care\nabout the precise loss in the polynomial\nfactors, you can also",
    "start": "1021910",
    "end": "1029040"
  },
  {
    "text": "use the basic Ruzsa\ntriangle inequality to deduce a similar statement. This is easier to deduce.",
    "start": "1029040",
    "end": "1034920"
  },
  {
    "text": "So you have that. And now, the second\nversion tells you",
    "start": "1034920",
    "end": "1039990"
  },
  {
    "text": "that the numerator\nis, at most, poly kn, and the denominator\nis, at most-- at least,",
    "start": "1039990",
    "end": "1050340"
  },
  {
    "text": "n divided by poly k. Remember, over here, to get this\nhypothesis, we automatically",
    "start": "1050340",
    "end": "1060440"
  },
  {
    "text": "have that the size\nof A and B are not",
    "start": "1060440",
    "end": "1065830"
  },
  {
    "text": "two much smaller than n. Or else this cannot be true. So putting all these estimates\ntogether, we get that.",
    "start": "1065830",
    "end": "1078200"
  },
  {
    "text": "So these two versions, they\nare equivalent to each other. Second version\nimplies the first.",
    "start": "1078200",
    "end": "1084080"
  },
  {
    "text": "The second one is stronger. The first one is\nslightly more useful. They're not\nnecessarily equivalent,",
    "start": "1084080",
    "end": "1089750"
  },
  {
    "text": "but the second one is stronger. Any questions?",
    "start": "1089750",
    "end": "1096370"
  },
  {
    "text": "All right. So this is a\nBalog-Szemeredi-Gowers theorem. So the content of\ntoday's lecture",
    "start": "1096370",
    "end": "1101570"
  },
  {
    "text": "is to show you how to\nprove this theorem. A remark about the\nnaming of this theorem.",
    "start": "1101570",
    "end": "1106940"
  },
  {
    "text": "So you might notice that\nthese three letters do not coming in alphabetical order. And the reason is that\nthis theorem was initially",
    "start": "1106940",
    "end": "1113780"
  },
  {
    "text": "approved by Balog and\nSzemeredi, but using a more involved\nmethod that didn't",
    "start": "1113780",
    "end": "1120890"
  },
  {
    "text": "give polynomial high bounds. And Gowers, in his proof\nof Szemeredi's theorem,",
    "start": "1120890",
    "end": "1127190"
  },
  {
    "text": "his new proof of Szemeredi's\ntheorem with good bounds, he required-- well, he looked\ninto this theorem",
    "start": "1127190",
    "end": "1132470"
  },
  {
    "text": "and gave a new\nproof that resulted in this polynomial type bounds. And it is that idea that\nwe're going to see today.",
    "start": "1132470",
    "end": "1139700"
  },
  {
    "start": "1139700",
    "end": "1149566"
  },
  {
    "text": "So this course is called\ngraph theory and additive combinatorics. And the last two\ntopics of this course--",
    "start": "1149567",
    "end": "1155490"
  },
  {
    "text": "today being\nBalog-Szemeredi-Gowers, and tomorrow we're going to\nsee sum-product problem--",
    "start": "1155490",
    "end": "1160740"
  },
  {
    "text": "are both great\nexamples of problems in additive combinatorics\nwhere tools from graph theory",
    "start": "1160740",
    "end": "1166740"
  },
  {
    "text": "play an important role\nin their solutions. So it's a nice combination\nof the subject where we see",
    "start": "1166740",
    "end": "1173909"
  },
  {
    "text": "both topics at the same time. So I want to show you the proof\nof Balog-Szemeredi-Gowers,",
    "start": "1173910",
    "end": "1179190"
  },
  {
    "text": "and the proof goes\nvia a graph analog. So I'm going to state for\nyou a graphical version",
    "start": "1179190",
    "end": "1184860"
  },
  {
    "text": "of the Balog-Szemeredi-Gowers\ntheorem. And it goes like this.",
    "start": "1184860",
    "end": "1190520"
  },
  {
    "text": "If G is a bipartite graph\nbetween vertex sets A and B--",
    "start": "1190520",
    "end": "1202860"
  },
  {
    "text": "and here A and B are still\nsubsets of the Abelian group-- ",
    "start": "1202860",
    "end": "1217740"
  },
  {
    "text": "we define this restricted\nsumset, A plus sub G of B,",
    "start": "1217740",
    "end": "1224910"
  },
  {
    "text": "to be the set of\nsums where I'm only",
    "start": "1224910",
    "end": "1233820"
  },
  {
    "text": "taking sums across edges in g.",
    "start": "1233820",
    "end": "1240256"
  },
  {
    "text": " So, in particular, if G is\nthe complete bipartite graph,",
    "start": "1240256",
    "end": "1247500"
  },
  {
    "text": "then this is the usual sumset. But now I may allow\nG to be a subset",
    "start": "1247500",
    "end": "1254390"
  },
  {
    "text": "of the complete bipartite graph. So only taking some\nbut not all of the--",
    "start": "1254390",
    "end": "1259429"
  },
  {
    "text": "only taking-- yes, some of\nthis sums but not all of them. ",
    "start": "1259430",
    "end": "1264600"
  },
  {
    "text": "The graphical version of\nBalog-Szemeredi-Gowers",
    "start": "1264600",
    "end": "1272940"
  },
  {
    "text": "says that if you have A and B\nbe subsets of an Abelian group,",
    "start": "1272940",
    "end": "1283289"
  },
  {
    "text": "both having size,\nat most, n, and G is a bipartite graph\nbetween A and B,",
    "start": "1283290",
    "end": "1295770"
  },
  {
    "text": "such that G has lots of\nedges, has at least n squared",
    "start": "1295770",
    "end": "1302460"
  },
  {
    "text": "over k edges.  If the restricted sumset\nbetween A and B is small--",
    "start": "1302460",
    "end": "1316090"
  },
  {
    "text": "So here we're not looking at all\nthe sums but a large fraction",
    "start": "1316090",
    "end": "1322470"
  },
  {
    "text": "of the possible pairwise sums. If that sumset has\nsmall size, this is kind of like a restricted\ndoubling constant.",
    "start": "1322470",
    "end": "1330210"
  },
  {
    "text": "Then there exists\nA prime, subset",
    "start": "1330210",
    "end": "1336090"
  },
  {
    "text": "of A, B prime, subset of\nB, with A prime and B prime",
    "start": "1336090",
    "end": "1346529"
  },
  {
    "text": "both fairly large fractions\nof their parent set,",
    "start": "1346530",
    "end": "1352830"
  },
  {
    "text": "and such that the unrestricted\nsumset between A prime and B prime is not too large.",
    "start": "1352830",
    "end": "1360270"
  },
  {
    "start": "1360270",
    "end": "1368020"
  },
  {
    "text": "So let me say it again. So we have a fairly dense-- so a constant\nfraction edge density,",
    "start": "1368020",
    "end": "1375180"
  },
  {
    "text": "a fairly dense bipartite\ngraph between A and B. A and B are subsets of\nthe Abelian group.",
    "start": "1375180",
    "end": "1382660"
  },
  {
    "text": "Then-- and such that the\nrestricted sumset is small.",
    "start": "1382660",
    "end": "1388700"
  },
  {
    "text": "Then I can restrict A and B to\nsubsets, fairly large subsets,",
    "start": "1388700",
    "end": "1394840"
  },
  {
    "text": "so that the complete sumset\nbetween the subsets A prime and B prime is small.",
    "start": "1394840",
    "end": "1401169"
  },
  {
    "start": "1401170",
    "end": "1406180"
  },
  {
    "text": "Let me show you why the\ngraphical version of BSG implies the version of\nBSG I stated up there.",
    "start": "1406180",
    "end": "1413270"
  },
  {
    "start": "1413270",
    "end": "1430630"
  },
  {
    "text": "But, so why do we care about\nthis graphical version? Well, suppose we-- so we\nhave all of these hypotheses.",
    "start": "1430630",
    "end": "1439530"
  },
  {
    "text": "Let's write-- so we have all\nof those hypotheses up there.",
    "start": "1439530",
    "end": "1448030"
  },
  {
    "text": "So let's write r\nto be r sub A comma B, so I don't have to carry\nthe subscripts all around.",
    "start": "1448030",
    "end": "1456929"
  },
  {
    "text": "What do you think-- so I start with\nA and B up there, and I need to\nconstruct that graph G.",
    "start": "1456930",
    "end": "1464660"
  },
  {
    "text": "So what should we\nchoose as our graph? ",
    "start": "1464660",
    "end": "1470940"
  },
  {
    "text": "Let's consider the popular sums. ",
    "start": "1470940",
    "end": "1480370"
  },
  {
    "text": "So the popular sums are\ngoing to be elements in the complete\nsumset such that it",
    "start": "1480370",
    "end": "1490390"
  },
  {
    "text": "is represented as a sum\nin many different ways. ",
    "start": "1490390",
    "end": "1502760"
  },
  {
    "text": "And we're going to take\nedges that correspond",
    "start": "1502760",
    "end": "1507840"
  },
  {
    "text": "to these popular sums. So let's consider\nbipartite graph G such",
    "start": "1507840",
    "end": "1526670"
  },
  {
    "text": "that A comma B is an edge if and\nonly A plus B is a popular sum.",
    "start": "1526670",
    "end": "1539770"
  },
  {
    "start": "1539770",
    "end": "1546900"
  },
  {
    "text": "So let's verify some\nof the hypotheses. So we're going to\nassume graph BSG,",
    "start": "1546900",
    "end": "1553110"
  },
  {
    "text": "and let's verify the\nhypothesis in graph BSG. On one hand, because\neach element of S",
    "start": "1553110",
    "end": "1559500"
  },
  {
    "text": "is a popular sum, if we\nconsider its multiplicity,",
    "start": "1559500",
    "end": "1565170"
  },
  {
    "text": "we find that the size of S\nmultiplied by n over 2k, lower",
    "start": "1565170",
    "end": "1573750"
  },
  {
    "text": "bound be size of A\ntimes the size of B.",
    "start": "1573750",
    "end": "1579245"
  },
  {
    "text": "So if you think about all the\ndifferent pairs in A and B,",
    "start": "1579245",
    "end": "1586750"
  },
  {
    "text": "each sum here, each popular\nsum, contributes this many times",
    "start": "1586750",
    "end": "1591780"
  },
  {
    "text": "to this A cross B. So, as a result, because\nsize of A and size of B",
    "start": "1591780",
    "end": "1601370"
  },
  {
    "text": "are both, at most, n, we\nfind that the size of S is, at most, 2kn. ",
    "start": "1601370",
    "end": "1609382"
  },
  {
    "text": "And if you think\nabout what G is, then this implies also that the\nrestricted sumset of A and B",
    "start": "1609382",
    "end": "1620840"
  },
  {
    "text": "across this graph G-- which only requires\nthe popular sums. So the restricted sumset is\nprecisely the popular sums.",
    "start": "1620840",
    "end": "1630717"
  },
  {
    "text": "So restricted sumset\nis not too large. ",
    "start": "1630718",
    "end": "1638930"
  },
  {
    "text": "OK, good. So we got one of the conditions,\nthat the restricted sumset",
    "start": "1638930",
    "end": "1644020"
  },
  {
    "text": "is not too large. And now we want to show that\nthis graph has lots of edges.",
    "start": "1644020",
    "end": "1650150"
  },
  {
    "text": "It has lots of edges. ",
    "start": "1650150",
    "end": "1656210"
  },
  {
    "text": "And here's where we would need\nto use the hypothesis that, between A and B, originally\nthere is large additive energy.",
    "start": "1656210",
    "end": "1664166"
  },
  {
    "text": "And the point here is that\nthese unpopular sums cannot",
    "start": "1664166",
    "end": "1669980"
  },
  {
    "text": "contribute very much to the\nadditive energy in total,",
    "start": "1669980",
    "end": "1675140"
  },
  {
    "text": "because each one of\nthem is unpopular. So the dominant contributions\nto the additive energy",
    "start": "1675140",
    "end": "1681960"
  },
  {
    "text": "are going to come\nfrom the popular sums, and we're going to use that to\nshow that G has lots of edges.",
    "start": "1681960",
    "end": "1688910"
  },
  {
    "text": " So let's lower bound the number\nof edges of G by first showing",
    "start": "1688910",
    "end": "1696980"
  },
  {
    "text": "that-- so we'll show that the unpopular\nsums contribute very little",
    "start": "1696980",
    "end": "1715029"
  },
  {
    "text": "to the additive energy\nbetween A and B. Indeed,",
    "start": "1715030",
    "end": "1722210"
  },
  {
    "text": "the sums of the squares\nof the r's, if for x",
    "start": "1722210",
    "end": "1729860"
  },
  {
    "text": "not in popular sums,\nis upper bounded by--",
    "start": "1729860",
    "end": "1738130"
  },
  {
    "text": "well, claim that\nit is upper bounded by the following quantity,\nthat n over 2k times n squared.",
    "start": "1738130",
    "end": "1749910"
  },
  {
    "text": " Because I can take\nout one factor r,",
    "start": "1749910",
    "end": "1759470"
  },
  {
    "text": "upper bound by this\nnumber, just by definition, and the sums of the\nr's is n squared.",
    "start": "1759470",
    "end": "1767820"
  },
  {
    "text": " So you have this additive\nenergy between A and B.",
    "start": "1767820",
    "end": "1779150"
  },
  {
    "text": "I know that it is\nlarge by hypothesis. ",
    "start": "1779150",
    "end": "1785940"
  },
  {
    "text": "Whereas, I also know\nthat I can write it as a sum of the squares\nof the r's, which",
    "start": "1785940",
    "end": "1792570"
  },
  {
    "text": "I can break into the\npopular contributions",
    "start": "1792570",
    "end": "1800549"
  },
  {
    "text": "and the unpopular contributions.  And, hopefully,\nthis should all be",
    "start": "1800550",
    "end": "1806950"
  },
  {
    "text": "somewhat reminiscent of\nbasically all these proofs that we did so far\nin this course, where we separate a sum\ninto the dominant terms",
    "start": "1806950",
    "end": "1814750"
  },
  {
    "text": "and the minor terms. This came up in Fourier\nanalysis in particular.",
    "start": "1814750",
    "end": "1820010"
  },
  {
    "text": "So we do this\nsplitting, and we upper bound the unpopular\ncontributions by the estimate",
    "start": "1820010",
    "end": "1828820"
  },
  {
    "text": "from just now. ",
    "start": "1828820",
    "end": "1836810"
  },
  {
    "text": "So, as a result, bringing\nthis small error term, it doesn't cancel\nmuch of the energy.",
    "start": "1836810",
    "end": "1844610"
  },
  {
    "text": "So we still have a lower bound\non the sum of the squares",
    "start": "1844610",
    "end": "1852350"
  },
  {
    "text": "of the r's in the popular sums. ",
    "start": "1852350",
    "end": "1860010"
  },
  {
    "text": "But I can also give a fairly\ntrivial upper bound to a single r, namely it cannot\nbe bigger than n.",
    "start": "1860010",
    "end": "1868050"
  },
  {
    "start": "1868050",
    "end": "1876220"
  },
  {
    "text": "And so the number\nof edges of G--",
    "start": "1876220",
    "end": "1883860"
  },
  {
    "text": "so what's the number\nof edges of G? Look at that. Each x here contributes\nrx many edges.",
    "start": "1883860",
    "end": "1893470"
  },
  {
    "text": "So the number of edges of G is\nsimply the sums of these rx's. ",
    "start": "1893470",
    "end": "1901310"
  },
  {
    "text": "Which is quite large. ",
    "start": "1901310",
    "end": "1909740"
  },
  {
    "text": "So the hypothesis of\ngraph BSG are satisfied.",
    "start": "1909740",
    "end": "1916070"
  },
  {
    "text": "And so we can use the\nconclusion of graph BSG, which is the conclusion that\nwe're looking for in BSG.",
    "start": "1916070",
    "end": "1922730"
  },
  {
    "start": "1922730",
    "end": "1931520"
  },
  {
    "text": "Any questions? ",
    "start": "1931520",
    "end": "1937095"
  },
  {
    "text": "Good. So the remaining\ntask is to prove the graphical version of BSG.",
    "start": "1937095",
    "end": "1943160"
  },
  {
    "text": "So let's take a\nquick break, and when we come back we'll\nfocus on this theorem,",
    "start": "1943160",
    "end": "1950030"
  },
  {
    "text": "and it has some nice\ngraph theoretic arguments.",
    "start": "1950030",
    "end": "1955140"
  },
  {
    "text": "OK, let's continue. We've reduced the proof of the\nBalog-Szemeredi-Gowers theorem",
    "start": "1955140",
    "end": "1962230"
  },
  {
    "text": "to the following\ngraphical result. Well, it's not just\ngraphical, right? Still-- we're still inside\nsome an Abelian group,",
    "start": "1962230",
    "end": "1969370"
  },
  {
    "text": "still looking at some set\nin some Abelian group, but, certainly, now it has\na graph attached to it.",
    "start": "1969370",
    "end": "1977139"
  },
  {
    "text": "Let me show this theorem\nthrough several steps. First, something called\na path of length 2 lemma.",
    "start": "1977140",
    "end": "1984700"
  },
  {
    "start": "1984700",
    "end": "1995502"
  },
  {
    "text": "So the path of length\n2 lemma, the statement is that you start\nwith a graph G which",
    "start": "1995502",
    "end": "2001340"
  },
  {
    "text": "is a bipartite graph\nbetween vertex sets A and B.",
    "start": "2001340",
    "end": "2007130"
  },
  {
    "text": "And now A and B no longer need-- they're just sets. They're just vertex sets. We're not going to have sums.",
    "start": "2007130",
    "end": "2014550"
  },
  {
    "text": "And the number of edges is\nat least a constant fraction of the maximum possible. ",
    "start": "2014550",
    "end": "2025570"
  },
  {
    "text": "Then the conclusion\nis that there exists some U, a subset of A,\nsuch that U is fairly large.",
    "start": "2025570",
    "end": "2035385"
  },
  {
    "text": " And between most pairs\nof elements of U--",
    "start": "2035385",
    "end": "2050199"
  },
  {
    "text": "so between 1 minus epsilon\nfraction of pairs of U--",
    "start": "2050199",
    "end": "2064879"
  },
  {
    "text": "there are lots of\ncommon neighbors.",
    "start": "2064880",
    "end": "2070839"
  },
  {
    "text": "So at least epsilon\ndelta squared",
    "start": "2070840",
    "end": "2076649"
  },
  {
    "text": "B over 2 common neighbors.",
    "start": "2076650",
    "end": "2086230"
  },
  {
    "text": "So you start with this bipartite\ngraph A and B. Lots of edges.",
    "start": "2086230",
    "end": "2098550"
  },
  {
    "text": "And we would like\nto show that there exists a pretty large subset U\nsuch that between most pairs--",
    "start": "2098550",
    "end": "2108840"
  },
  {
    "text": "all but an epsilon fraction-- of ordered pairs--\nthey could be the same, but it doesn't really matter--",
    "start": "2108840",
    "end": "2115350"
  },
  {
    "text": "the number of paths of length\n2 between these two vertices",
    "start": "2115350",
    "end": "2122600"
  },
  {
    "text": "is quite large. So they have lots\nof common neighbors.",
    "start": "2122600",
    "end": "2128430"
  },
  {
    "text": "Where have we seen\nsomething like this before? There's a question? AUDIENCE: Is there a\n[INAUDIBLE] epsilon? YUFEI ZHAO: Ah, yes.",
    "start": "2128430",
    "end": "2133600"
  },
  {
    "text": "So for every epsilon\nand every delta. So let epsilon,\ndelta be parameters.",
    "start": "2133600",
    "end": "2143634"
  },
  {
    "text": " Where have we seen\nsomething like this before?",
    "start": "2143634",
    "end": "2151860"
  },
  {
    "text": "So in a bipartite graph\nwith lots of edges, I want to find a large\nsubset of one of the parts",
    "start": "2151860",
    "end": "2159180"
  },
  {
    "text": "so that every pair of\nelements, or almost every pair of elements, have\nlots of common neighbors.",
    "start": "2159180",
    "end": "2165842"
  },
  {
    "start": "2165842",
    "end": "2171254"
  },
  {
    "text": "Yes. AUDIENCE: [INAUDIBLE]. YUFEI ZHAO: Dependent\nrandom choice. So in the very first\nchapter of this course,",
    "start": "2171254",
    "end": "2177150"
  },
  {
    "text": "when we did extremal\ngraph theory forbidding bipartite\nsubgraphs, there was a technique for proving the\nextremal number, upper bounds,",
    "start": "2177150",
    "end": "2186900"
  },
  {
    "text": "for bipartite graphs\nof bounded degree. And there we used something\ncalled dependent random choice",
    "start": "2186900",
    "end": "2192810"
  },
  {
    "text": "that had a conclusion that\nwas very similar flavor. So there, we had every pair--\nso a fairly large, but not as",
    "start": "2192810",
    "end": "2199848"
  },
  {
    "text": "large as this-- a\nfairly large subset where every pair of elements\nhad lots of common neighbors.",
    "start": "2199848",
    "end": "2205640"
  },
  {
    "text": "For every couple, every\nk couple of vertices, have lots of common neighbors. So it's very similar.",
    "start": "2205640",
    "end": "2211470"
  },
  {
    "text": "In fact, it's the\nsame type of technique that we'll use to prove\nthis lemma over here.",
    "start": "2211470",
    "end": "2216480"
  },
  {
    "text": " So who remembers how\ndependent random choice goes?",
    "start": "2216480",
    "end": "2225029"
  },
  {
    "text": "So the idea is that we\nare going to choose U not uniformly at random.",
    "start": "2225030",
    "end": "2231200"
  },
  {
    "text": "So that's not going to work. Going to choose it in\na dependent random way. So I want elements of U to\nhave lots of common neighbors,",
    "start": "2231200",
    "end": "2239630"
  },
  {
    "text": "typically. So one way to guarantee\nthis is to choose U to be",
    "start": "2239630",
    "end": "2244950"
  },
  {
    "text": "a neighborhood from the right. So pick a random\nelement in B and choose",
    "start": "2244950",
    "end": "2253640"
  },
  {
    "text": "U to be its neighborhood. So let's do that.",
    "start": "2253640",
    "end": "2259230"
  },
  {
    "text": "So we're going to use\ndependent random choice. ",
    "start": "2259230",
    "end": "2267505"
  },
  {
    "text": "See, everything in the\ncourse comes together. ",
    "start": "2267505",
    "end": "2276000"
  },
  {
    "text": "So let's pick v an element\nof B uniformly at random.",
    "start": "2276000",
    "end": "2284480"
  },
  {
    "start": "2284480",
    "end": "2289580"
  },
  {
    "text": "And let U be the neighborhood\nv. So, first of all,",
    "start": "2289580",
    "end": "2295440"
  },
  {
    "text": "by linearity of\nexpectations, the size of U is at least delta of A. So\nbecause the average degree",
    "start": "2295440",
    "end": "2307600"
  },
  {
    "text": "from the right from B is\nat least delta A just based on the number of edges.",
    "start": "2307600",
    "end": "2313430"
  },
  {
    "text": " If you have two vertices\na and a prime in A",
    "start": "2313430",
    "end": "2323560"
  },
  {
    "text": "with a small number of common\nneighbors, then the size of--",
    "start": "2323560",
    "end": "2344220"
  },
  {
    "text": "so sorry. Let me-- I skipped ahead a bit.",
    "start": "2344220",
    "end": "2350520"
  },
  {
    "text": "So if a and a prime have a small\nnumber of common neighbors, then the probability that\na and a prime both lie in U",
    "start": "2350520",
    "end": "2362730"
  },
  {
    "text": "should be quite small. Because if they both had--",
    "start": "2362730",
    "end": "2368670"
  },
  {
    "text": "if a and a prime have a small\nnumber of common neighbors, in order for a and a prime\nto be included in this U,",
    "start": "2368670",
    "end": "2376863"
  },
  {
    "text": "you must have chosen--  so suppose this were\ntheir common neighbor.",
    "start": "2376863",
    "end": "2384920"
  },
  {
    "text": "Then in order that a and\na prime be contained in U, it must have chosen this v to be\ninside the common neighborhood",
    "start": "2384920",
    "end": "2394470"
  },
  {
    "text": "of a and a prime.  Which is unlikely\nif a and a prime",
    "start": "2394470",
    "end": "2399940"
  },
  {
    "text": "had a small number\nof common neighbors. So this probability is, at most,\nepsilon delta squared over 2.",
    "start": "2399940",
    "end": "2408599"
  },
  {
    "text": " Just think about how\nU is constructed.",
    "start": "2408600",
    "end": "2415520"
  },
  {
    "text": "So if we let x be the number\nof a and a primes in U cross U",
    "start": "2415520",
    "end": "2426740"
  },
  {
    "text": "with, at most, epsilon\ndelta squared over 2 times B",
    "start": "2426740",
    "end": "2434800"
  },
  {
    "text": "common neighbors, then, by\nlinearity of expectations,",
    "start": "2434800",
    "end": "2442900"
  },
  {
    "text": "the expectation of x is-- well, by summing up all of these\nprobabilities of a and a prime,",
    "start": "2442900",
    "end": "2454420"
  },
  {
    "text": "both being in U-- so this is, at most,\nepsilon delta squared",
    "start": "2454420",
    "end": "2462010"
  },
  {
    "text": "over 2 times size of A squared. ",
    "start": "2462010",
    "end": "2468250"
  },
  {
    "text": "So, typically, at\nleast in expectation, you do not expect very\nmany pairs of elements in U",
    "start": "2468250",
    "end": "2476260"
  },
  {
    "text": "with few common neighbors. But we can also turn\nsuch an estimate",
    "start": "2476260",
    "end": "2482940"
  },
  {
    "text": "into a specific instance. ",
    "start": "2482940",
    "end": "2488015"
  },
  {
    "text": "And the way to do this is to\nconsider the quantity size of U",
    "start": "2488015",
    "end": "2493839"
  },
  {
    "text": "squared minus x over epsilon.",
    "start": "2493840",
    "end": "2499280"
  },
  {
    "text": "Well, first of all, we can\nlower bound this quantity, because the size of\nsecond moment of U",
    "start": "2499280",
    "end": "2507630"
  },
  {
    "text": "is at least the first\nmoment of U squared.",
    "start": "2507630",
    "end": "2513029"
  },
  {
    "text": "And we also know that the\nsize of x in expectation",
    "start": "2513030",
    "end": "2522450"
  },
  {
    "text": "is not very large. So the whole expression\ncan be lower bounded",
    "start": "2522450",
    "end": "2527700"
  },
  {
    "text": "by delta squared over 2\ntimes the size of A squared.",
    "start": "2527700",
    "end": "2535910"
  },
  {
    "start": "2535910",
    "end": "2545630"
  },
  {
    "text": "So this is epsilon, sorry.  Therefore, there is\nsome concrete instance",
    "start": "2545630",
    "end": "2554880"
  },
  {
    "text": "of this randomness resulting\nin some specific U such that this inequality holds.",
    "start": "2554880",
    "end": "2561180"
  },
  {
    "text": "So there exists some U such\nthat this inequality holds.",
    "start": "2561180",
    "end": "2574329"
  },
  {
    "text": "And, in particular, we find\nthat the size of U is at least--",
    "start": "2574330",
    "end": "2583310"
  },
  {
    "text": "just forget about\nthis minus term-- is at least that right-hand\nside, square root.",
    "start": "2583310",
    "end": "2588950"
  },
  {
    "text": "So, in particular, the\nsize of U is at least delta over 2 times\nthe size of A.",
    "start": "2588950",
    "end": "2594415"
  },
  {
    "text": "And, just looking at the\nleft-hand side, which must be a non-negative quantity\nbecause the right-hand side is",
    "start": "2594415",
    "end": "2600890"
  },
  {
    "text": "non-negative, we find that\nx is, at most, an epsilon",
    "start": "2600890",
    "end": "2606799"
  },
  {
    "text": "fraction of U squared. ",
    "start": "2606800",
    "end": "2614480"
  },
  {
    "text": "So putting these\ntogether, we arrive at the path of length 2 lemma.",
    "start": "2614480",
    "end": "2622280"
  },
  {
    "text": "So let me go through it again. So this is the dependent\nrandom choice method, where we're going to--\nwe want to find this U,",
    "start": "2622280",
    "end": "2630480"
  },
  {
    "text": "where most pairs\nof vertices in U have lots of common neighbors.",
    "start": "2630480",
    "end": "2635920"
  },
  {
    "text": "So we start from the right side. We start from B, pick a\nuniform random vertex, which",
    "start": "2635920",
    "end": "2642480"
  },
  {
    "text": "you call v, and let U be\nthe neighborhood of v.",
    "start": "2642480",
    "end": "2648598"
  },
  {
    "text": "And I claim that this\nU, typically, should have the desired property. And the reason is that, if\nyou have a pair of vertices",
    "start": "2648598",
    "end": "2658160"
  },
  {
    "text": "on the left that do not\nhave many common neighbors,",
    "start": "2658160",
    "end": "2664030"
  },
  {
    "text": "then I claim it is highly\nunlikely that these two vertices both appear in U.\nBecause for them to both appear",
    "start": "2664030",
    "end": "2673360"
  },
  {
    "text": "in U, your v have been selected\ninside the common neighborhood of a and a prime, which is\nunlikely if a and a prime",
    "start": "2673360",
    "end": "2682390"
  },
  {
    "text": "have few common neighbors. So, as a result,\nthe expected number",
    "start": "2682390",
    "end": "2690050"
  },
  {
    "text": "of pairs in U with small number\nof common neighbors is small.",
    "start": "2690050",
    "end": "2698338"
  },
  {
    "text": "And, already, that's\na very good indication that we're on the right track. And, to finish\nthings off, we look at this expression, which we\ncan lower bound by convexity.",
    "start": "2698338",
    "end": "2707829"
  },
  {
    "text": "And we know the size of U\nin expectation is large. And, also, the size of\nx, that we just saw,",
    "start": "2707830",
    "end": "2713470"
  },
  {
    "text": "is small in expectation. So you have this\ninequality over here.",
    "start": "2713470",
    "end": "2719890"
  },
  {
    "text": "And because there's\nan expectation, it implies that there's some\nspecific instance such that,",
    "start": "2719890",
    "end": "2725560"
  },
  {
    "text": "without the expectation,\nthe inequality holds. So take that specific instance.",
    "start": "2725560",
    "end": "2730570"
  },
  {
    "text": "We obtain some U such that\nthis inequality is true, which simultaneously\nimplies that U is large",
    "start": "2730570",
    "end": "2737800"
  },
  {
    "text": "and x, the number of\nbad pairs, is small. ",
    "start": "2737800",
    "end": "2743796"
  },
  {
    "text": "So that was dependent\nrandom choice. Any questions?",
    "start": "2743796",
    "end": "2748953"
  },
  {
    "text": " All right.",
    "start": "2748953",
    "end": "2754046"
  },
  {
    "text": "So that was the path\nof length 2 lemma. So it tells us I\ncan take a large set with lots of paths of length 2\nbetween most pairs of vertices.",
    "start": "2754046",
    "end": "2762589"
  },
  {
    "text": "Let's upgrade this lemma to\na path of length 3 lemma.",
    "start": "2762590",
    "end": "2767888"
  },
  {
    "start": "2767888",
    "end": "2778849"
  },
  {
    "text": "So, in the path\nof length 3 lemma, we start with a bipartite graph,\nas before, between A and B.",
    "start": "2778850",
    "end": "2787378"
  },
  {
    "text": "So G is a bipartite\nbetween A and B.",
    "start": "2787378",
    "end": "2793970"
  },
  {
    "text": "And, as before, we have a\nlot of edges between A and B.",
    "start": "2793970",
    "end": "2799230"
  },
  {
    "text": "It's the delta fraction\nof all possible edges. Then the conclusion is that\nthere exists A prime in A and B",
    "start": "2799230",
    "end": "2810839"
  },
  {
    "text": "prime subset of B such\nthat A prime and B",
    "start": "2810840",
    "end": "2817270"
  },
  {
    "text": "prime are both large\nfractions of their parent set. ",
    "start": "2817270",
    "end": "2828070"
  },
  {
    "text": "And now, the-- and,\nfurthermore, every pair",
    "start": "2828070",
    "end": "2835820"
  },
  {
    "text": "between A prime and\nB prime is joined",
    "start": "2835820",
    "end": "2844390"
  },
  {
    "text": "by many paths of length 3. ",
    "start": "2844390",
    "end": "2856820"
  },
  {
    "text": "So a path of length 3\nmeans there's 3 edges. ",
    "start": "2856820",
    "end": "2862610"
  },
  {
    "text": "And, here, this eta is basically\nthe original error term",
    "start": "2862610",
    "end": "2870130"
  },
  {
    "text": "up to a polynomial change. ",
    "start": "2870130",
    "end": "2880270"
  },
  {
    "text": "So starting with this bipartite\ngraph that's fairly dense, the lemma tells us\nthat we can find",
    "start": "2880270",
    "end": "2888500"
  },
  {
    "text": "some large A prime\nand large B prime so",
    "start": "2888500",
    "end": "2893870"
  },
  {
    "text": "that between every vertex in\nA prime and every vertex in B prime, there are lots of paths\nof length 3 between them.",
    "start": "2893870",
    "end": "2901960"
  },
  {
    "start": "2901960",
    "end": "2908530"
  },
  {
    "text": "Every time.  So we should think about\nall of these constants as--",
    "start": "2908530",
    "end": "2917215"
  },
  {
    "text": "plus you only make polynomial\nchanges in the constants, we're happy.",
    "start": "2917215",
    "end": "2922290"
  },
  {
    "text": "Here, eta is a polynomial\nchange in the delta. There's a convention which I\nlike which is not universal,",
    "start": "2922290",
    "end": "2929130"
  },
  {
    "text": "but it's often solved,\nunlike this convention. It's the difference\nbetween the little c and the big C is that\na little c is better",
    "start": "2929130",
    "end": "2936630"
  },
  {
    "text": "if you make it smaller,\nand a big C is better-- I mean, it's better in\nthe sense that if this",
    "start": "2936630",
    "end": "2942420"
  },
  {
    "text": "is true for little\nc and big C, and you make little c smaller and big C\nbigger, then it is still true.",
    "start": "2942420",
    "end": "2950050"
  },
  {
    "text": "So big C is a sufficiently\nlarge constant, and little c is a\nsufficiently small constant.",
    "start": "2950050",
    "end": "2955436"
  },
  {
    "text": "Just a-- ",
    "start": "2955436",
    "end": "2970740"
  },
  {
    "text": "So let's see the path of\nlength 3 lemma, see it's proof.",
    "start": "2970740",
    "end": "2976650"
  },
  {
    "text": "We're going to use the\npath of length 2 lemma, but we need a bit of\npreparation first.",
    "start": "2976650",
    "end": "2982070"
  },
  {
    "text": "So the proof has some nice\nideas, but it's also-- some parts of it are slightly\ntedious, so bear with me.",
    "start": "2982070",
    "end": "2990740"
  },
  {
    "text": "So we're going to construct\na chain of subsets A--",
    "start": "2990740",
    "end": "2998690"
  },
  {
    "text": "inside A. So A1, A2, A3. And this is just because\nthere's a few cleaning up",
    "start": "2998690",
    "end": "3004800"
  },
  {
    "text": "steps that need to be done. Let's call two\nvertices in A friendly",
    "start": "3004800",
    "end": "3019880"
  },
  {
    "text": "if they have lots\nof common neighbors. And, precisely,\nwe're going to say",
    "start": "3019880",
    "end": "3025430"
  },
  {
    "text": "they're friendly if they\nhave more than delta squared over 80 times the\nsize of B common neighbors.",
    "start": "3025430",
    "end": "3034770"
  },
  {
    "start": "3034770",
    "end": "3041770"
  },
  {
    "text": "Let me construct this sequence\nof subsets as follows. First, let A1 be all\nthe vertices in A",
    "start": "3041770",
    "end": "3053870"
  },
  {
    "text": "with degree not too small. So this is in preparation.",
    "start": "3053870",
    "end": "3062500"
  },
  {
    "text": "So it will make our life\nquite a bit easier later on. Let's just trim all the\nreally small degree vertices",
    "start": "3062500",
    "end": "3069099"
  },
  {
    "text": "so that we don't have\nto think about them. So you trim all the\nsmall degree vertices.",
    "start": "3069100",
    "end": "3075870"
  },
  {
    "text": "And think about how\nmany edges you trim. You cannot trim so many edges,\nbecause each time you trim such",
    "start": "3075870",
    "end": "3085700"
  },
  {
    "text": "a vertex, you only get rid\nof a small number of edges. So, in the end, at least half\nof the original set of edges",
    "start": "3085700",
    "end": "3094300"
  },
  {
    "text": "must remain. And, as a result, the\nsize of A1 is at least",
    "start": "3094300",
    "end": "3103319"
  },
  {
    "text": "a delta over 2 fraction of\nthe original vertex set.",
    "start": "3103320",
    "end": "3110590"
  },
  {
    "text": "Otherwise, you could\nnot have contained half of the original set of edges.",
    "start": "3110590",
    "end": "3117460"
  },
  {
    "text": "So this is the\nfirst trimming step.  So we got rid of some edges, but\nwe got rid of fewer than half",
    "start": "3117460",
    "end": "3127390"
  },
  {
    "text": "of the original edges. And because now you have\na minimum degree on A1,",
    "start": "3127390",
    "end": "3135720"
  },
  {
    "text": "the number of edges\nbetween A1 and B is quite large,\nstill quite large.",
    "start": "3135720",
    "end": "3142660"
  },
  {
    "text": "So think about passing\ndown to A1 now. In the second step, we are going\nto apply the path of length 2",
    "start": "3142660",
    "end": "3151530"
  },
  {
    "text": "lemma to this A1. So A2 is going to be\nconstructed from--",
    "start": "3151530",
    "end": "3161880"
  },
  {
    "text": "so using the path\nof length 2 lemma,",
    "start": "3161880",
    "end": "3170170"
  },
  {
    "text": "specifically with parameter\nepsilon being delta over 10.",
    "start": "3170170",
    "end": "3176619"
  },
  {
    "text": "Although, remember, now\nthe density of the graph went from delta to delta over 2.",
    "start": "3176620",
    "end": "3181760"
  },
  {
    "text": "Again, if you don't care\nabout the specific numbers, they're all\npolynomials in delta. So don't worry about them. Everything's poly delta.",
    "start": "3181760",
    "end": "3188589"
  },
  {
    "text": "So we're going to apply\nthe path of length 2 lemma to find this subset A2.",
    "start": "3188590",
    "end": "3196240"
  },
  {
    "text": "And it has the property\nthat A2 is quite large,",
    "start": "3196240",
    "end": "3205660"
  },
  {
    "text": "and all but a small fraction\nof pairs in A2 are friendly.",
    "start": "3205660",
    "end": "3225319"
  },
  {
    "start": "3225320",
    "end": "3234580"
  },
  {
    "text": "So we passed down to, first,\ntrimming small degree vertices, and then passed\ndown further to A2,",
    "start": "3234580",
    "end": "3242120"
  },
  {
    "text": "where all but a small\nfraction of elements in A2, or all but a small\nfraction of the pairs",
    "start": "3242120",
    "end": "3248563"
  },
  {
    "text": "are friendly to each\nother, meaning they have lots of common neighbors. ",
    "start": "3248563",
    "end": "3255020"
  },
  {
    "text": "And now let's look\nat the other side. Let's look at B. So\nwe're in this situation",
    "start": "3255020",
    "end": "3261610"
  },
  {
    "text": "now where you have-- ",
    "start": "3261610",
    "end": "3267760"
  },
  {
    "text": "so we're now in a situation\nwhere you've passed down to A2 and in B, where, because\nof what we did initially,",
    "start": "3267760",
    "end": "3282630"
  },
  {
    "text": "every vertex in here\nhave large degree. So there's this minimum\ndegree condition",
    "start": "3282630",
    "end": "3293829"
  },
  {
    "text": "from every vertex on the left. So the average degree\nis still very high.",
    "start": "3293830",
    "end": "3300250"
  },
  {
    "text": " As a result, the\naverage degree from B",
    "start": "3300250",
    "end": "3307020"
  },
  {
    "text": "is going to be quite high. So let's focus on the B side\nand pick out vertices in B",
    "start": "3307020",
    "end": "3313720"
  },
  {
    "text": "that have high degree. So let's B1 denote\nvertices in B such",
    "start": "3313720",
    "end": "3323390"
  },
  {
    "text": "that the degree from B\nto A2 is at least half",
    "start": "3323390",
    "end": "3330529"
  },
  {
    "text": "of what you expect\nbased on average degree. ",
    "start": "3330530",
    "end": "3337849"
  },
  {
    "text": "And, as before, the same\nlogic as the A1 step. We see that B1 has large size,\nis a large fraction of B.",
    "start": "3337850",
    "end": "3352760"
  },
  {
    "text": "And now we pass\ndown to this B1 set. ",
    "start": "3352760",
    "end": "3364213"
  },
  {
    "text": "Now, finally, let's consider\nA3 to be vertices in A2",
    "start": "3364214",
    "end": "3377970"
  },
  {
    "text": "where a is friendly. So vertices a in A2 such that\na is friendly to at least 1",
    "start": "3377970",
    "end": "3388650"
  },
  {
    "text": "over delta over-- so 1 minus delta over\n5 fraction of A2.",
    "start": "3388650",
    "end": "3398740"
  },
  {
    "text": " So we saw that, in A2, most\npairs of vertices are friendly.",
    "start": "3398740",
    "end": "3410430"
  },
  {
    "text": "So most, meaning all but\na delta over 10 fraction.",
    "start": "3410430",
    "end": "3420000"
  },
  {
    "text": "So if we consider\nvertices which are",
    "start": "3420000",
    "end": "3425770"
  },
  {
    "text": "unfriendly to many\nother vertices in A2, there aren't so many of them.",
    "start": "3425770",
    "end": "3433560"
  },
  {
    "text": "If there were many of them,\nyou couldn't have had that. So that's why I\nconstructed this set",
    "start": "3433560",
    "end": "3438849"
  },
  {
    "text": "A3 consisting of\nelements in A2 that are friendly to many elements.",
    "start": "3438850",
    "end": "3447110"
  },
  {
    "text": "And the size of A3 is at\nleast half of that of A2.",
    "start": "3447110",
    "end": "3452990"
  },
  {
    "start": "3452990",
    "end": "3460974"
  },
  {
    "text": "So we have this A3 inside.",
    "start": "3460974",
    "end": "3470510"
  },
  {
    "text": "All right. And now I claim that we can\ntake A3 and B as our final sets,",
    "start": "3470510",
    "end": "3477235"
  },
  {
    "text": "and that between every vertex\nin A3 and every vertex in B1, I claim there must be\nlots of paths of length 3.",
    "start": "3477235",
    "end": "3484990"
  },
  {
    "text": "But, first, let's\ncheck their sizes. I mean, the sizes all should\nbe OK, because we never lost too much at each step.",
    "start": "3484990",
    "end": "3491960"
  },
  {
    "text": "If you only care about\npolynomial factors, well, you already see that\nwe never lost anything more than a polynomial factor.",
    "start": "3491960",
    "end": "3497590"
  },
  {
    "text": "But just to be precise, the\nsize of A3 is at least-- so if you count up the\nfactor lost at each step,",
    "start": "3497590",
    "end": "3504320"
  },
  {
    "text": "so it's 1/2 delta\nover 4 delta over 2. So it's at least delta\nsquared over 16 fraction",
    "start": "3504320",
    "end": "3514480"
  },
  {
    "text": "of the original set A. And now, if we\nconsider a comma b",
    "start": "3514480",
    "end": "3524320"
  },
  {
    "text": "to be an arbitrary\npair in A3 cross B1,",
    "start": "3524320",
    "end": "3529650"
  },
  {
    "text": "I claim that there\nmust be many paths. Because by using-- so what\nproperties do we know?",
    "start": "3529650",
    "end": "3539089"
  },
  {
    "text": "We know that b is adjacent\nto a large fraction.",
    "start": "3539090",
    "end": "3545920"
  },
  {
    "text": "So here large means at least\ndelta over 4-- so bounded below-- a large fraction of A2.",
    "start": "3545920",
    "end": "3556080"
  },
  {
    "text": "Yes. So I apologize. When I say the word large,\ndepending on context it can mean bigger than delta,\nor it could mean at least 1",
    "start": "3556080",
    "end": "3562640"
  },
  {
    "text": "minus delta. So you look at\nwhat I write down. So b is adjacent to at least\ndelta over 4 fraction of A2.",
    "start": "3562640",
    "end": "3571069"
  },
  {
    "text": "At the same time, we know that\na is friendly to at least 1",
    "start": "3571070",
    "end": "3579300"
  },
  {
    "text": "minus delta over\n5 fraction of A2. ",
    "start": "3579300",
    "end": "3589000"
  },
  {
    "text": "So these two sets, they must\noverlap by at least a delta",
    "start": "3589000",
    "end": "3594070"
  },
  {
    "text": "over 20 fraction. ",
    "start": "3594070",
    "end": "3600351"
  },
  {
    "text": "So let's take a vertex b. So you-- so it's adjacent\nto many vertices here.",
    "start": "3600351",
    "end": "3613100"
  },
  {
    "text": "And if you look\nat a vertex in A, it's friendly to\na large fraction.",
    "start": "3613100",
    "end": "3621240"
  },
  {
    "text": "So, in particular, it's\nfriendly to all these elements over here. ",
    "start": "3621240",
    "end": "3628760"
  },
  {
    "text": "So, to finish off, what\ndoes it mean for a--",
    "start": "3628760",
    "end": "3634840"
  },
  {
    "text": "this is-- this vertex is a. This vertex is b. What does it mean for\na to be friendly to all",
    "start": "3634840",
    "end": "3640970"
  },
  {
    "text": "of these shaded elements? It means that there are\nlots of paths from a",
    "start": "3640970",
    "end": "3647510"
  },
  {
    "text": "to each of these elements. And then you can finish off\nthe paths going back to b.",
    "start": "3647510",
    "end": "3655974"
  },
  {
    "text": "Yes. AUDIENCE: The shaded stuff is\nallowed to be outside of A3? YUFEI ZHAO: No. the\nshaded-- the question",
    "start": "3655974",
    "end": "3661800"
  },
  {
    "text": "is, is the shaded stuff\nallowed to be outside of A3? No. The shaded things are inside A3.",
    "start": "3661800",
    "end": "3666870"
  },
  {
    "text": "So we're looking at\nintersections within A3. ",
    "start": "3666870",
    "end": "3674549"
  },
  {
    "text": "No, sorry.  Actually, no, you're right. So the shaded things\ncan be outside A3.",
    "start": "3674550",
    "end": "3680530"
  },
  {
    "text": "So shaded things\ncan be outside A3. I apologize. So everything now is in A2.",
    "start": "3680530",
    "end": "3685650"
  },
  {
    "text": " So b is adjacent to a\nlarge fraction of A2.",
    "start": "3685650",
    "end": "3695100"
  },
  {
    "text": "And a here is friendly to some\npart of the neighbors of b.",
    "start": "3695100",
    "end": "3703800"
  },
  {
    "text": "So you can complete\npaths like that.",
    "start": "3703800",
    "end": "3708920"
  },
  {
    "text": " Yes. So only the starting\nand ending points",
    "start": "3708920",
    "end": "3714880"
  },
  {
    "text": "have to be in A\nprime and B prime. Everything else, they can go\noutside of the A prime and B prime.",
    "start": "3714880",
    "end": "3720666"
  },
  {
    "text": "Yes, thank you. So the number of paths from\na to B to A2 back to b is--",
    "start": "3720666",
    "end": "3742515"
  },
  {
    "text": "let's see if I can\nstay within B1-- so is at least-- ",
    "start": "3742516",
    "end": "3754110"
  },
  {
    "text": "yes. So it's-- sorry. This is B. So it's at least\ndelta over 20 times A2 times",
    "start": "3754110",
    "end": "3764070"
  },
  {
    "text": "delta over delta squared\nover 80 times B. So",
    "start": "3764070",
    "end": "3769680"
  },
  {
    "text": "if you don't care about\npolynomial factors in delta, then you see that--",
    "start": "3769680",
    "end": "3775000"
  },
  {
    "text": " the point is there's\na large fraction of--",
    "start": "3775000",
    "end": "3780140"
  },
  {
    "text": " there are a lot of paths. So there are a lot of paths\nbetween each little a and each",
    "start": "3780140",
    "end": "3787000"
  },
  {
    "text": "little b by the\nconstruction we've done. ",
    "start": "3787000",
    "end": "3795190"
  },
  {
    "text": "So let me just do a recap. So there were quite a few\ndetails in this proof, and some of them have\nto do with cleaning up.",
    "start": "3795190",
    "end": "3802300"
  },
  {
    "text": "Because it's not so\nnice to work with graphs that just have large\naverage degree. It's much nicer to\nwork with graphs",
    "start": "3802300",
    "end": "3808480"
  },
  {
    "text": "with large minimum degree. So there are a couple of steps\nhere to take care of vertices",
    "start": "3808480",
    "end": "3813579"
  },
  {
    "text": "with small degrees. So we started with, between\nA and B, lots of edges.",
    "start": "3813580",
    "end": "3819290"
  },
  {
    "text": "And we trim vertices\nfrom A with small degree. So we get A1.",
    "start": "3819290",
    "end": "3825250"
  },
  {
    "text": "And then we apply the path\nof length 2 lemma to get A2. So inside A2, most\npairs of vertices",
    "start": "3825250",
    "end": "3832838"
  },
  {
    "text": "have lots of common\nneighbors, but not all.  We then go back to\nB to get B1, which",
    "start": "3832838",
    "end": "3841860"
  },
  {
    "text": "has large minimum degree to A2. ",
    "start": "3841860",
    "end": "3847650"
  },
  {
    "text": "And then A3 looks\nat vertices in A with many friendly\ncompanions in A2.",
    "start": "3847650",
    "end": "3856490"
  },
  {
    "text": " And A3 is large, and I claim\nthat between every vertex in A3",
    "start": "3856490",
    "end": "3864099"
  },
  {
    "text": "and every vertex in B, you\nhave many paths of length 3. Because if you start\nwith a vertex in A3,",
    "start": "3864100",
    "end": "3872340"
  },
  {
    "text": "it has many friendly companions. So many here means at least 1\nminus delta over 5 fraction.",
    "start": "3872340",
    "end": "3881640"
  },
  {
    "text": "Whereas every vertex in B1\nhas lots of neighbors in A2,",
    "start": "3881640",
    "end": "3889470"
  },
  {
    "text": "where lots means at\nleast delta over 4. So there's\nnecessarily an overlap",
    "start": "3889470",
    "end": "3896609"
  },
  {
    "text": "of at least delta over 20. And for that overlap,\nwe can create",
    "start": "3896610",
    "end": "3901750"
  },
  {
    "text": "lots of paths going\nthrough this overlap from A",
    "start": "3901750",
    "end": "3907510"
  },
  {
    "text": "to B. Any questions?",
    "start": "3907510",
    "end": "3912947"
  },
  {
    "text": " OK, great. So let's put everything together\nto prove the graphical version",
    "start": "3912947",
    "end": "3921940"
  },
  {
    "text": "of Balog-Szemeredi-Gowers. ",
    "start": "3921940",
    "end": "3931040"
  },
  {
    "text": "So we'll prove the\ngraphical version of Balog-Szemeredi-Gowers. ",
    "start": "3931040",
    "end": "3942660"
  },
  {
    "text": "So by-- so, first, note\nthat the hypothesis of Balog-Szemeredi-Gowers\nalready",
    "start": "3942660",
    "end": "3949450"
  },
  {
    "text": "implies that the size\nof A and the size of B are not too small.",
    "start": "3949450",
    "end": "3955650"
  },
  {
    "text": " Because, otherwise, you couldn't\nhave had n squared over k edges",
    "start": "3955650",
    "end": "3963286"
  },
  {
    "text": "to begin with.  So by the path of\nlength 3 lemma,",
    "start": "3963287",
    "end": "3976610"
  },
  {
    "text": "there exists A prime\nin A and B prime in B with the\nfollowing properties.",
    "start": "3976610",
    "end": "3984980"
  },
  {
    "text": "That A prime has a\nlarge fraction of-- ",
    "start": "3984980",
    "end": "3992306"
  },
  {
    "text": "so A prime and B prime\nare both large in size. ",
    "start": "3992306",
    "end": "4000460"
  },
  {
    "text": "And for all vertices\na in A prime",
    "start": "4000460",
    "end": "4006665"
  },
  {
    "text": "and vertices b in\nB prime, there are",
    "start": "4006665",
    "end": "4014090"
  },
  {
    "text": "lots of paths of length\n3 between these vertices. So there are at least k\nto the minus little o1--",
    "start": "4014090",
    "end": "4025010"
  },
  {
    "text": "to the minus big\nO1 times n squared",
    "start": "4025010",
    "end": "4030950"
  },
  {
    "text": "pairs of intermediate\nvertices a1,",
    "start": "4030950",
    "end": "4038050"
  },
  {
    "text": "b1 in A cross B, such that\na b1 a1 b is a path in G.",
    "start": "4038050",
    "end": "4057760"
  },
  {
    "text": "So let me draw the\nsituation for you. ",
    "start": "4057760",
    "end": "4068920"
  },
  {
    "text": "So we have A and B.\nAnd so inside A and B,",
    "start": "4068920",
    "end": "4080210"
  },
  {
    "text": "we have this fairly\nlarge A prime",
    "start": "4080210",
    "end": "4088099"
  },
  {
    "text": "and B prime, such that\nfor every little a",
    "start": "4088100",
    "end": "4094026"
  },
  {
    "text": "and little b, there are\nmany paths like that",
    "start": "4094026",
    "end": "4103469"
  },
  {
    "text": "going to b1 and a2. ",
    "start": "4103470",
    "end": "4110439"
  },
  {
    "text": "Let me set-- so let me set\nx to be a plus b1, that sum,",
    "start": "4110439",
    "end": "4124270"
  },
  {
    "text": "y to be a1 plus b1,\nand z to be a1 plus b.",
    "start": "4124270",
    "end": "4132240"
  },
  {
    "start": "4132240",
    "end": "4144460"
  },
  {
    "text": "So now notice that we can write\nthis a plus b in at least k",
    "start": "4144460",
    "end": "4161380"
  },
  {
    "text": "to the minus big O1\ntimes n squared ways",
    "start": "4161380",
    "end": "4167350"
  },
  {
    "text": "as x minus y plus z by\nfollowing this path, where x, y,",
    "start": "4167350",
    "end": "4179410"
  },
  {
    "text": "and z all lie in the\nrestricted sumset,",
    "start": "4179410",
    "end": "4185500"
  },
  {
    "text": "because that's how the\nrestricted sumset is defined. So if you have an edge,\nthen the sum of the elements",
    "start": "4185500",
    "end": "4194229"
  },
  {
    "text": "across on the two\nends, by definition, lies in the restricted sumset.",
    "start": "4194229",
    "end": "4200969"
  },
  {
    "text": "So the path of length\n3 lemma tells us that every pair a\nand b, their sum",
    "start": "4200970",
    "end": "4206320"
  },
  {
    "text": "can be written in many different\nways as this combination.",
    "start": "4206320",
    "end": "4212290"
  },
  {
    "text": "As a result, we see that\nA prime plus B prime--",
    "start": "4212290",
    "end": "4221360"
  },
  {
    "text": "so this sum, if we consider sum\nalong with its multiplicity--",
    "start": "4221360",
    "end": "4226477"
  },
  {
    "text": " so now we're really looking at\nall the different sums as well",
    "start": "4226477",
    "end": "4236760"
  },
  {
    "text": "as ways of writing the\nsum as this combination--",
    "start": "4236760",
    "end": "4243889"
  },
  {
    "text": "we see that it is bounded above\nby the restricted sumset raised",
    "start": "4243890",
    "end": "4258060"
  },
  {
    "text": "to the third power. ",
    "start": "4258060",
    "end": "4271295"
  },
  {
    "text": "Because each of these\nchoices, x, y, and z, they come from the\nrestricted sumset.",
    "start": "4271295",
    "end": "4276330"
  },
  {
    "text": "But the hypothesis of\nBalog-Szemeredi-Gowers, the graphical version, is\nthat the restricted sumset",
    "start": "4276330",
    "end": "4281880"
  },
  {
    "text": "is small in size. So we can now upper bound\nthe restricted sumset",
    "start": "4281880",
    "end": "4292429"
  },
  {
    "text": "by, basically, the-- within a constant, within a\nfactor of the maximum possible.",
    "start": "4292430",
    "end": "4301840"
  },
  {
    "text": "And now we are done,\nbecause we have deduced",
    "start": "4301840",
    "end": "4307639"
  },
  {
    "text": "that the complete sumset\nbetween A prime and B prime",
    "start": "4307640",
    "end": "4312770"
  },
  {
    "text": "is, at most, a constant\nfactor with change",
    "start": "4312770",
    "end": "4322320"
  },
  {
    "text": "in constant by a polynomial. So a constant factor more\nthan the maximum possible. ",
    "start": "4322320",
    "end": "4331000"
  },
  {
    "text": "So it's, at mostly, k to\nthe big O1 poly k times n. ",
    "start": "4331000",
    "end": "4337070"
  },
  {
    "text": "So that proves the\ngraphical version of Balog-Szemeredi-Gowers.",
    "start": "4337070",
    "end": "4342890"
  },
  {
    "text": "And because we showed earlier\nthat the graphical version of Balog-Szemeredi-Gowers\nimplies Balog-Szemeredi-Gowers,",
    "start": "4342890",
    "end": "4348560"
  },
  {
    "text": "this shows the\nBalog-Szemeredi-Gowers theorem. So let me recap some of\nthe ideas we saw today.",
    "start": "4348560",
    "end": "4355880"
  },
  {
    "text": "And so the whole point\nof Balog-Szemeredi-Gowers and all of these related lemmas\nand theorems and variations",
    "start": "4355880",
    "end": "4362070"
  },
  {
    "text": "is that you start with\nsomething that has a lot of additive structure.",
    "start": "4362070",
    "end": "4369599"
  },
  {
    "text": "Well, after we passed down to\ngraphs just a lot of edges. So you start with\na situation where",
    "start": "4369600",
    "end": "4377699"
  },
  {
    "text": "you have kind of 1% goodness. And you want to\nshow that you can",
    "start": "4377700",
    "end": "4383700"
  },
  {
    "text": "restrict to fairly\nlarge subsets, so that you have perfection.",
    "start": "4383700",
    "end": "4390610"
  },
  {
    "text": "So you have complete goodness\nbetween these two sets. And this is what's going on\nin both the graphical version",
    "start": "4390610",
    "end": "4397239"
  },
  {
    "text": "and the additive version. So back to the graph\npath of length 3 lemma. So we were able to boost the\npath of length 2 lemma, which",
    "start": "4397240",
    "end": "4405820"
  },
  {
    "text": "tells us something about\n99% of the pairs having lots",
    "start": "4405820",
    "end": "4411400"
  },
  {
    "text": "of common neighbors, to\n100% of the pairs having",
    "start": "4411400",
    "end": "4417159"
  },
  {
    "text": "lots of path of length 3. And in the additive\nsetting, we saw that",
    "start": "4417160",
    "end": "4423380"
  },
  {
    "text": "by starting with a situation\nwhere the hypothesis is somewhat patchy, so like\na 1% type hypothesis,",
    "start": "4423380",
    "end": "4431210"
  },
  {
    "text": "we can pass down to\nfairly large sets, where the complete sumset, starting\nwith just the restricted sumset",
    "start": "4431210",
    "end": "4438590"
  },
  {
    "text": "being small, can pass\ndown to large sets where the complete\nsumset is small. And this is an important\nprinciple, that, often,",
    "start": "4438590",
    "end": "4445730"
  },
  {
    "text": "when we have some typicality\nby an appropriate argument--",
    "start": "4445730",
    "end": "4451210"
  },
  {
    "text": "and, here, it's not at\nall a trivial argument. So there's some\ncleverness involved, that by doing some\nkind of argument,",
    "start": "4451210",
    "end": "4458120"
  },
  {
    "text": "we may be able to pass down\nto some fairly large set where it's not typically\ngood, but everything's",
    "start": "4458120",
    "end": "4465130"
  },
  {
    "text": "perfectly good. That's the spirit here of the\nBalog-Szemeredi-Gowers theorem.",
    "start": "4465130",
    "end": "4471820"
  },
  {
    "text": "So, next time, for the last\nlecture of this course, I will tell you about\nthe sum-product problem,",
    "start": "4471820",
    "end": "4478599"
  },
  {
    "text": "where the-- there are also some graph-- very\nnice graph theoretic inputs.",
    "start": "4478600",
    "end": "4484500"
  },
  {
    "start": "4484500",
    "end": "4485000"
  }
]