[
  {
    "text": "[SQUEAKING] [RUSTLING]  [CLICKING]",
    "start": "0",
    "end": "5412"
  },
  {
    "text": " PROFESSOR: OK. Why don't we get started?",
    "start": "5412",
    "end": "12570"
  },
  {
    "text": "The end of the term approacheth. So please do get to work\non the design projects",
    "start": "12570",
    "end": "19710"
  },
  {
    "text": "if you're not\nalready doing that. The homework lengths\nare being tapered down",
    "start": "19710",
    "end": "24810"
  },
  {
    "text": "to open up room to do that. So please don't leave\nit to the last moment.",
    "start": "24810",
    "end": "30270"
  },
  {
    "text": "And I know this\nis project season so I know many people have\na lot of them going on.",
    "start": "30270",
    "end": "35550"
  },
  {
    "text": "So try to start early. Everything I'm going\nto talk about today",
    "start": "35550",
    "end": "40650"
  },
  {
    "text": "is in Principles of Power\nElectronics, chapter 26. ",
    "start": "40650",
    "end": "49990"
  },
  {
    "text": "Just as a review of what\nwe talked about last time, we said if I thought about a\npower converter and its filter,",
    "start": "49990",
    "end": "58720"
  },
  {
    "text": "if I have a filter like an Lc\nfilter, I have some Cf and Lf,",
    "start": "58720",
    "end": "70300"
  },
  {
    "text": "which I'm looking back into\nfrom the power converter. And the problem is if\nI'm driving current into this filter, if I don't\nworry about the voltage source",
    "start": "70300",
    "end": "79540"
  },
  {
    "text": "but just think about maybe\nthe source impedance is a short circuit, Cf\nand Lf are in parallel,",
    "start": "79540",
    "end": "85520"
  },
  {
    "text": "so I'll get a real-- a peak\nand impedance and a lot of circulating current if I\nhave any drive at the cutoff",
    "start": "85520",
    "end": "91580"
  },
  {
    "text": "frequency of the filter. And we said both this\nvery lightly damped system",
    "start": "91580",
    "end": "98540"
  },
  {
    "text": "and the output impedance\ncan be modified by adding a damping leg\nof one kind or another.",
    "start": "98540",
    "end": "105290"
  },
  {
    "text": "So maybe what I do is I take\nan additional C damp and R damp",
    "start": "105290",
    "end": "111350"
  },
  {
    "text": "so that, at the cutoff,\nC damp's a short circuit or close to it so R damp is\nin parallel with Lf and Cf.",
    "start": "111350",
    "end": "117320"
  },
  {
    "text": "And I reduce the output\nimpedance of the filter. So right. So maybe this z\nout looks something",
    "start": "117320",
    "end": "125360"
  },
  {
    "text": "like this versus\nomega on a log scale. Maybe at low\nfrequencies, it rises",
    "start": "125360",
    "end": "131600"
  },
  {
    "text": "as omega L. At high frequency,\nit falls as 1 over omega C. And I'll get some\npeaking in here, which",
    "start": "131600",
    "end": "139610"
  },
  {
    "text": "is limited by the\nmagnitude of z out max",
    "start": "139610",
    "end": "145470"
  },
  {
    "text": "is related to the\ndamping resistor here. And if the damping resistors\nwere actually in parallel,",
    "start": "145470",
    "end": "150510"
  },
  {
    "text": "it would be exactly\nthe damping resistance. Now the reason we\ncare about that",
    "start": "150510",
    "end": "156450"
  },
  {
    "text": "is both because we don't want\na lot of peaking and undamped behavior in this filter,\nbut it's also true",
    "start": "156450",
    "end": "163410"
  },
  {
    "text": "that if I look in\nthe other direction into the power\nconverter and say what's the input impedance looking\ninto the power converter",
    "start": "163410",
    "end": "170430"
  },
  {
    "text": "incrementally, if I have\nsome V in and then some",
    "start": "170430",
    "end": "176500"
  },
  {
    "text": "I in to the converter and\nthe converter is regulating,",
    "start": "176500",
    "end": "181750"
  },
  {
    "text": "it's going to maintain a\nconstant voltage across its load or, equivalently, it's going\nto draw ideally constant power",
    "start": "181750",
    "end": "189040"
  },
  {
    "text": "to maintain its load. That means its IV characteristic\nV in I in looks like this",
    "start": "189040",
    "end": "200660"
  },
  {
    "text": "because V in is\nproportional to 1 over I in.",
    "start": "200660",
    "end": "205840"
  },
  {
    "text": "And so if we're sitting\nat some operating point, say this is I in\nand this is V in,",
    "start": "205840",
    "end": "218230"
  },
  {
    "text": "incrementally, this slope is dV\nin dI in evaluated at V in I in",
    "start": "218230",
    "end": "233489"
  },
  {
    "text": "is equal to a negative resistor\nbecause this slope is negative. So it turns out to be minus\np out over I in squared.",
    "start": "233490",
    "end": "245700"
  },
  {
    "text": "And so basically, if I'm\nlooking into the converter from the filter, I'm effectively\nseeing a negative resistor here.",
    "start": "245700",
    "end": "257579"
  },
  {
    "text": "And that negative resistor can\nmake this whole thing oscillate. So we always want to\nmake the output impedance",
    "start": "257579",
    "end": "264520"
  },
  {
    "text": "of my filter very small\ncompared to the magnitude of my negative input\nresistance here in order",
    "start": "264520",
    "end": "270900"
  },
  {
    "text": "to make sure that this whole\nsystem won't oscillate. So that was what I hoped you\ntook away from last class.",
    "start": "270900",
    "end": "279667"
  },
  {
    "text": "Are there any\nquestions about that? ",
    "start": "279667",
    "end": "284820"
  },
  {
    "text": "So today I want to\ntalk about something a little bit different. We've kind of brushed\nlightly over one topic",
    "start": "284820",
    "end": "292170"
  },
  {
    "text": "or neglected one kind\nof effect that you often have to contend with\nin EMI filter designs.",
    "start": "292170",
    "end": "298830"
  },
  {
    "text": "And just to illustrate how\nimportant this general topic is, what this is is this is a power\nfactor corrected laptop power",
    "start": "298830",
    "end": "306840"
  },
  {
    "text": "supply which somebody gave me. And that's what happens to\npower supplies people give me.",
    "start": "306840",
    "end": "313020"
  },
  {
    "text": "And if you look at this, here is\nthe twice line frequency energy",
    "start": "313020",
    "end": "318960"
  },
  {
    "text": "buffer over here. Here's the power stage. There's a rectifier up front. But a whole good chunk of\nthis converter right over here",
    "start": "318960",
    "end": "326520"
  },
  {
    "text": "is the EMI filter for\nplugging into the wall. And we're going to talk about\nhow you would structure things",
    "start": "326520",
    "end": "334230"
  },
  {
    "text": "in a line interface\napplication but also in a bunch of other applications. And there's one kind of\naspect we haven't really",
    "start": "334230",
    "end": "341700"
  },
  {
    "text": "focused on yet. And to set that up,\nlet me just give you",
    "start": "341700",
    "end": "347699"
  },
  {
    "text": "instead of an AC\napplication, let me talk about a DC application. So suppose I wanted to connect\na power converter in a vehicle.",
    "start": "347700",
    "end": "356520"
  },
  {
    "text": "And this could be\na regular vehicle or an electrical vehicle. ",
    "start": "356520",
    "end": "363539"
  },
  {
    "text": "Here's my battery. And this is-- let\nme call this ground.",
    "start": "363540",
    "end": "368860"
  },
  {
    "text": "This is like the\nchassis of the vehicle. And that's where the\nbattery might be tied.",
    "start": "368860",
    "end": "375510"
  },
  {
    "text": "I'm going to plug a power\nconverter into this. I'm going to have\nsome cabling to carry",
    "start": "375510",
    "end": "380669"
  },
  {
    "text": "the ground and the\nbattery voltage over to whatever I'm powering.",
    "start": "380670",
    "end": "386340"
  },
  {
    "text": "OK. All right. So here's my cabling. And that cabling\nin the real world doesn't have zero\nimpedance but let's",
    "start": "386340",
    "end": "392292"
  },
  {
    "text": "not worry about that too much. Now I'm going to go dutifully\nput in my EMI filter.",
    "start": "392292",
    "end": "397360"
  },
  {
    "text": "OK. So maybe I have Lf, Cf,\nand I'll be really smart.",
    "start": "397360",
    "end": "407080"
  },
  {
    "text": "Maybe I'll say, OK, let me\nput in a damping resistor. So here I have RD and CD So\nI've done my damping job here.",
    "start": "407080",
    "end": "418409"
  },
  {
    "text": "That's my filter. Now I'll connect\nup my converter. And maybe my converter\nis a boost converter.",
    "start": "418410",
    "end": "424060"
  },
  {
    "text": "So here's my boost converter. Has an inductor. Has a transistor,\ndiode, output cap.",
    "start": "424060",
    "end": "435910"
  },
  {
    "text": "And here's my load resistor. And I won't worry about the\ndetails of the load too much. And keep in mind,\nthis whole thing",
    "start": "435910",
    "end": "442750"
  },
  {
    "text": "is indeed referenced to ground,\nbut there's some cabling. So let me just worry about this.",
    "start": "442750",
    "end": "447970"
  },
  {
    "text": "I'll call this V source because\nthe source of my transistor",
    "start": "447970",
    "end": "455350"
  },
  {
    "text": "with reference to ground. OK. So what do I intend to\nhappen in this converter?",
    "start": "455350",
    "end": "463460"
  },
  {
    "text": "What I intend to happen is I\ndraw a current from my battery. It goes through the cable,\ngoes through the filter,",
    "start": "463460",
    "end": "470900"
  },
  {
    "text": "enters the converter,\nand it might go down through the switch\nat some times or it might go down through the\ndiode and the output sometimes.",
    "start": "470900",
    "end": "479150"
  },
  {
    "text": "But basically, it\ngoes through there and then it returns\nin this loop. So this is the current path.",
    "start": "479150",
    "end": "485750"
  },
  {
    "text": "I'm really using to\npower this converter. And I filtered\nthat current path.",
    "start": "485750",
    "end": "490949"
  },
  {
    "text": "Here's my filter. OK. Well, that's good.",
    "start": "490950",
    "end": "497480"
  },
  {
    "text": "But if I think about it,\nI've got a heat sink,",
    "start": "497480",
    "end": "502810"
  },
  {
    "text": "the switch in the diode. So let's just think\nabout the transistor. And let's remember\nhow we do that.",
    "start": "502810",
    "end": "508750"
  },
  {
    "text": "So maybe here I\nhave my transistor. Here's my transistor.",
    "start": "508750",
    "end": "515000"
  },
  {
    "text": "And then I'm going to\nput down a thermal pad. And then I'm going to\nconnect that thermal pad.",
    "start": "515000",
    "end": "520517"
  },
  {
    "text": "On the other side\nof that thermal pad will be whatever I'm heat\nsinking the device to.",
    "start": "520517",
    "end": "525530"
  },
  {
    "text": "OK. What I'm often heat\nsinking the device to is either the case\nof the power supply",
    "start": "525530",
    "end": "531235"
  },
  {
    "text": "and that case of\nthe power supply is basically often\nconnected back to ground. In fact, sometimes you'll use\nthe case of the whole thing",
    "start": "531235",
    "end": "538640"
  },
  {
    "text": "to be ground. And if I think\nabout a transistor, in fact, what's the\npackage of the transistor",
    "start": "538640",
    "end": "546680"
  },
  {
    "text": "if you have a TO-247\nor TO-220 or something, that's actually the\ndrain node of this thing.",
    "start": "546680",
    "end": "552390"
  },
  {
    "text": "So what I have is\nessentially a piece of metal here, a thin insulator for\nelectrical insulation, and then",
    "start": "552390",
    "end": "559279"
  },
  {
    "text": "a ground. So what is that? That's a capacitor. So it turns out that in most\npower supplies like this,",
    "start": "559280",
    "end": "567410"
  },
  {
    "text": "there's going to be a\nsignificant parasitic capacitance-- I'll just call it Cp,\nparasitic capacitance-- that",
    "start": "567410",
    "end": "575930"
  },
  {
    "text": "gets back to ground\nbecause ground is the chassis of the vehicle. Even if you didn't\nhave a heatsink,",
    "start": "575930",
    "end": "582037"
  },
  {
    "text": "you have a node\nflapping up and down. There's stuff around it. And so there is going to be\nsome capacitance back to ground.",
    "start": "582038",
    "end": "588320"
  },
  {
    "text": "Everybody buy that?  And so you have this opportunity\nto have another current path",
    "start": "588320",
    "end": "599550"
  },
  {
    "text": "that goes something like this. Current can flow\nthrough this lead.",
    "start": "599550",
    "end": "606700"
  },
  {
    "text": "It could flow maybe even here\nup to here and back to ground,",
    "start": "606700",
    "end": "613900"
  },
  {
    "text": "or it could flow up\nthrough this capacitor and through this\ninductor back to ground. But nonetheless, there\nis a path, at least",
    "start": "613900",
    "end": "621280"
  },
  {
    "text": "one path, that's not going\nthrough a filter inductor. So I really, to the\nextent that this node is",
    "start": "621280",
    "end": "628003"
  },
  {
    "text": "slapping up and down\nwith respect to something very close to the ground, I'm\ngoing to get a bunch of current",
    "start": "628003",
    "end": "633940"
  },
  {
    "text": "through this parasitic\ncapacitance at high frequency, not DC current, just AC current.",
    "start": "633940",
    "end": "639590"
  },
  {
    "text": "And if this lead\nis kind of long, that looks just like an antenna. Right?",
    "start": "639590",
    "end": "644860"
  },
  {
    "text": "And I'm right next\nto my radio so I run into electromagnetic\ninterference",
    "start": "644860",
    "end": "650290"
  },
  {
    "text": "that I'm causing not\nnecessarily through this lead but current coming through\nthe other power lead.",
    "start": "650290",
    "end": "658709"
  },
  {
    "text": "OK. And this is a problem.",
    "start": "658710",
    "end": "664240"
  },
  {
    "text": "And in fact, I mentioned\nearlier in the class when we set up our line\nimpedance stabilization network to measure everything,\nusually you actually",
    "start": "664240",
    "end": "671970"
  },
  {
    "text": "have one LISN for\nmeasuring the noise on the hot line and\nanother LISN for measuring",
    "start": "671970",
    "end": "678720"
  },
  {
    "text": "the noise on the return line. So you really have to keep\nthe EMI in both of these leads",
    "start": "678720",
    "end": "684750"
  },
  {
    "text": "small. So what I want to\ndo today is just talk about how we represent\nnoise in these situations",
    "start": "684750",
    "end": "695130"
  },
  {
    "text": "and then how do we design\nfilters that deal with those that noise. So before I go on, are\nthere any questions",
    "start": "695130",
    "end": "703890"
  },
  {
    "text": "about what the issue is? ",
    "start": "703890",
    "end": "709410"
  },
  {
    "text": "OK. So let me think about\nmaybe another example where this comes up.",
    "start": "709410",
    "end": "715850"
  },
  {
    "text": "OK. And this would be something\nlike that power supply that I'm",
    "start": "715850",
    "end": "723509"
  },
  {
    "text": "passing around would\nbe plugged into. So maybe what I have is\nat home, what do you have?",
    "start": "723510",
    "end": "728650"
  },
  {
    "text": "You have an AC supply. So here's my AC supply and\nI have the hot terminal.",
    "start": "728650",
    "end": "736899"
  },
  {
    "text": "That's the black wire\nrunning around your house. Black is for death. Don't get near that. You have the neutral wire,\nwhich is usually white.",
    "start": "736900",
    "end": "744540"
  },
  {
    "text": "And you're going to carry some\ncabling inside your walls, hot and neutral. And I should say that neutral,\nback at the service entrance",
    "start": "744540",
    "end": "755220"
  },
  {
    "text": "somewhere, is actually\ntends to be tied to ground. So the neutral.",
    "start": "755220",
    "end": "762430"
  },
  {
    "text": "Is going to be near ground.",
    "start": "762430",
    "end": "767500"
  },
  {
    "text": "But it doesn't actually have\nto be precisely at ground. ",
    "start": "767500",
    "end": "774370"
  },
  {
    "text": "And it'll be close somewhere. And very often, if I think\nabout what wires are going out",
    "start": "774370",
    "end": "783010"
  },
  {
    "text": "to the boxes, usually\nthere will also be a ground wire that's\nconnected to ground. And that's usually the green\nor the uninsulated wire.",
    "start": "783010",
    "end": "792490"
  },
  {
    "text": "And if you have a three-terminal\nplug, one of those goes to the ground, one goes\nto neutral, one goes to hot.",
    "start": "792490",
    "end": "799432"
  },
  {
    "text": "If you have a two-terminal\nplug, they get rid of this and they just don't have\nan explicit ground going.",
    "start": "799432",
    "end": "805160"
  },
  {
    "text": "Make sense, everybody? So what happens again--",
    "start": "805160",
    "end": "811300"
  },
  {
    "text": "this is going to plug into\nwhatever my device is. And I'll have terminal\none, terminal two",
    "start": "811300",
    "end": "818050"
  },
  {
    "text": "for hot and neutral, and then\nI may have some parasitic path.",
    "start": "818050",
    "end": "824290"
  },
  {
    "text": "Why might I have\na parasitic path? One reason is in a\nlot of equipment,",
    "start": "824290",
    "end": "830230"
  },
  {
    "text": "we tend to ground the\ncase of the equipment. So if it has a three-terminal\nplug, you plug it into the wall.",
    "start": "830230",
    "end": "835370"
  },
  {
    "text": "That ground connection coming\nout of that third terminal is going to the\ncase of the device.",
    "start": "835370",
    "end": "840589"
  },
  {
    "text": "Why? Because suppose\nthere's some fault inside the equipment\nand that fault",
    "start": "840590",
    "end": "847149"
  },
  {
    "text": "shorts the hot\nterminal to the case. You don't want somebody\nwalking up and touching",
    "start": "847150",
    "end": "852620"
  },
  {
    "text": "the surface of that thing,\ngetting electrocuted. Right? So if they ground the case,\nand some fault happens inside,",
    "start": "852620",
    "end": "858492"
  },
  {
    "text": "huge current will flow,\nit'll blow the breaker, and then things will be\ndisconnected and you'll be safe. So very often, there's\nan explicit connection",
    "start": "858492",
    "end": "866930"
  },
  {
    "text": "between the case of\nthe device and ground. And since the case happens to\nsurround whatever the device is,",
    "start": "866930",
    "end": "874100"
  },
  {
    "text": "like the power supply, it could\nbe, in fact, if I had a boost PFC circuit, it looks\nexactly like the structure",
    "start": "874100",
    "end": "881660"
  },
  {
    "text": "I just drew except that\ninstead of being powered by DC, it's powered by AC\nand I essentially",
    "start": "881660",
    "end": "888800"
  },
  {
    "text": "insert a rectifier here. That's what a boost\nrectifier looks like, the front end of\na lot of power supplies.",
    "start": "888800",
    "end": "896430"
  },
  {
    "text": "So this structure can\nvery much represent what would happen\nin the AC case,",
    "start": "896430",
    "end": "901970"
  },
  {
    "text": "too, except that somewhere I\nput a usually a full bridge to rectify an AC voltage,\nwhich I'd have over here to DC",
    "start": "901970",
    "end": "907940"
  },
  {
    "text": "that my converter\nthen processes. So the consequence\nof that is, is",
    "start": "907940",
    "end": "913860"
  },
  {
    "text": "even though I don't\nintend it to be there, there's going to be some\nvirtual third terminal which",
    "start": "913860",
    "end": "922110"
  },
  {
    "text": "is connected by some\nparasitic capacitance again back to ground. ",
    "start": "922110",
    "end": "929910"
  },
  {
    "text": "OK. Even if the case isn't connected\nto ground, ground is around you.",
    "start": "929910",
    "end": "936440"
  },
  {
    "text": "There's going to be some\nflow possibly through that. Any questions about that?",
    "start": "936440",
    "end": "942089"
  },
  {
    "text": " I should have\nnoted, by the way--",
    "start": "942090",
    "end": "950040"
  },
  {
    "text": "and I'll come back to this. It's a little bit easier to see\nin this case of the DC case.",
    "start": "950040",
    "end": "955230"
  },
  {
    "text": "If I've done this and now I\nhave very peaky currents coming",
    "start": "955230",
    "end": "961470"
  },
  {
    "text": "through this\nparasitic capacitance,",
    "start": "961470",
    "end": "966660"
  },
  {
    "text": "I have high frequency currents\nflowing on this lead, if this if this pathway has some\nparasitic resistance and maybe",
    "start": "966660",
    "end": "977250"
  },
  {
    "text": "a little parasitic inductance\nfrom all the wiring, I can develop a voltage\ndrop across here.",
    "start": "977250",
    "end": "982270"
  },
  {
    "text": "And so this voltage is non-zero. I'll see what's\ncalled ground bounce. And maybe you've\nexperienced this",
    "start": "982270",
    "end": "988025"
  },
  {
    "text": "when you've tried to measure\njust ground on some circuit you're building. And it looks like it's got a\nbunch of high frequency junk",
    "start": "988025",
    "end": "996120"
  },
  {
    "text": "on it. That's exactly due to\nthis kind of phenomenon. So we can see, even\nthough I intend",
    "start": "996120",
    "end": "1004670"
  },
  {
    "text": "this node to be--\nin an ideal world, this would be a zero\nresistance, zero inductance wire and I intended there\nto be no voltage there,",
    "start": "1004670",
    "end": "1011600"
  },
  {
    "text": "because it's not an ideal\nwire, it's a real one, there will be ground bounce here\nthat I have to contend with.",
    "start": "1011600",
    "end": "1020430"
  },
  {
    "text": "So when I go to think\nabout this network,",
    "start": "1020430",
    "end": "1032130"
  },
  {
    "text": "maybe I will think about a\ncurrent into terminal one that I'm going to call i1.",
    "start": "1032130",
    "end": "1038909"
  },
  {
    "text": "I'm going to think about a\ncurrent into terminal two that I'm going to call i2.",
    "start": "1038910",
    "end": "1043980"
  },
  {
    "text": "Again, I could talk about\nthe voltage at terminal one with respect to ground. I'm going to call that v1.",
    "start": "1043980",
    "end": "1050620"
  },
  {
    "text": "And I can think about the\nvoltage at terminal two with respect to ground that\nI'm going to call that v2.",
    "start": "1050620",
    "end": "1056090"
  },
  {
    "text": "And I will recognize\nthat, yeah, v2 should be close to\nground because back",
    "start": "1056090",
    "end": "1061250"
  },
  {
    "text": "through a bunch of wiring,\nit is tied to ground. But that's a DC. And even a DC there's\nsome resistance there.",
    "start": "1061250",
    "end": "1067410"
  },
  {
    "text": "So I can think about\nv1, v2, i1, and i2 as being the net currents\nflowing into my device.",
    "start": "1067410",
    "end": "1076740"
  },
  {
    "text": "Any questions about that?  So what do I intend to\nhappen in this device.",
    "start": "1076740",
    "end": "1084190"
  },
  {
    "text": "I didn't really want this\nparasitic capacitance. I'm just getting it. Right. So the ideal path\nthat, I'm thinking, OK,",
    "start": "1084190",
    "end": "1091889"
  },
  {
    "text": "this is how my\nconverter should work, is I should have\ncurrent that's coming from the power, the voltage\nsource, into terminal 1,",
    "start": "1091890",
    "end": "1102180"
  },
  {
    "text": "coming back out terminal 2,\nand doing this kind of loop around like this.",
    "start": "1102180",
    "end": "1108990"
  },
  {
    "text": "And that's fine but\nbecause of this parasitic,",
    "start": "1108990",
    "end": "1117140"
  },
  {
    "text": "there can be some\nother path that I might want to think about. And if I didn't have this\nother path, what would I have?",
    "start": "1117140",
    "end": "1127140"
  },
  {
    "text": "I'd have i1 is\nequal to minus i2. That's the ideal case when\nthis other path doesn't exist.",
    "start": "1127140",
    "end": "1135330"
  },
  {
    "text": "All right. If the other path\ndoes exist, we get",
    "start": "1135330",
    "end": "1141419"
  },
  {
    "text": "what we would call\na common mode signal that I'm going to call ICM. ",
    "start": "1141420",
    "end": "1149880"
  },
  {
    "text": "Common mode current. Common mode because\nI think of it as coming through somehow\nthe two leads together",
    "start": "1149880",
    "end": "1158549"
  },
  {
    "text": "into the device and then\nout through the device through some third path.",
    "start": "1158550",
    "end": "1163830"
  },
  {
    "text": "Does that make\nsense to everybody? And this common\nmode current maybe",
    "start": "1163830",
    "end": "1172250"
  },
  {
    "text": "I would think of as\nflowing like this. Half of it's coming in this\nterminal so I'm going to call",
    "start": "1172250",
    "end": "1179100"
  },
  {
    "text": "this 1/2 icm. Half of it's coming\nthrough this terminal.",
    "start": "1179100",
    "end": "1185150"
  },
  {
    "text": "This is 1/2 ICM. And then it comes out the\nother side of the device",
    "start": "1185150",
    "end": "1192590"
  },
  {
    "text": "and returns to ground like this. So this is what I'm thinking\nof as my common mode current.",
    "start": "1192590",
    "end": "1202590"
  },
  {
    "text": "The current that I was\nthinking of flowing around the loop, which I'd\nhave in the ideal case,",
    "start": "1202590",
    "end": "1207899"
  },
  {
    "text": "we would call this the\ndifferential mode current. ",
    "start": "1207900",
    "end": "1213845"
  },
  {
    "text": "So how would I represent the\ncommon mode and differential mode current? Well, by definition,\nby what I've told you,",
    "start": "1213845",
    "end": "1219400"
  },
  {
    "text": "icm is equal to I 1\nplus I two right by.",
    "start": "1219400",
    "end": "1226600"
  },
  {
    "text": "If I basically make this a\nsupernode, icm is coming out,",
    "start": "1226600",
    "end": "1231789"
  },
  {
    "text": "but I'm calling that icm, so\nit must be equal to I 1 plus I two everybody by that.",
    "start": "1231790",
    "end": "1238840"
  },
  {
    "text": "Now I got to define what I think\nabout this differential mode current.",
    "start": "1238840",
    "end": "1244450"
  },
  {
    "text": "In the case when\nI didn't have icm, the differential mode\ncurrent would be,",
    "start": "1244450",
    "end": "1250059"
  },
  {
    "text": "you know, i1 would equal idm and\ni2 would be equal to minus idm.",
    "start": "1250060",
    "end": "1255400"
  },
  {
    "text": "The way we tend to define the\ndifferential mode current, idm, is simply as being\nthe average of the currents",
    "start": "1255400",
    "end": "1265899"
  },
  {
    "text": "I thought I was going to get. So I would call it\ni1 minus i2 over 2.",
    "start": "1265900",
    "end": "1273670"
  },
  {
    "text": "So this is sort\nof-- and the reason I'm emphasizing it this\nway is just because these",
    "start": "1273670",
    "end": "1282370"
  },
  {
    "text": "are the definitions of the\ncommon mode and differential mode components. OK.",
    "start": "1282370",
    "end": "1287830"
  },
  {
    "text": "If I went and said, OK, if I\napply those two definitions,",
    "start": "1287830",
    "end": "1293380"
  },
  {
    "text": "what I get for i1 and\ni2, if I recombine this, is I get i1 is equal\nto idm plus 1/2 icm.",
    "start": "1293380",
    "end": "1308679"
  },
  {
    "text": "And i2 is equal to\nminus idm plus 1/2 icm.",
    "start": "1308680",
    "end": "1316440"
  },
  {
    "text": "So by choosing things this\nway, what I'm really saying is, OK, if I had no\ncommon mode current,",
    "start": "1316440",
    "end": "1324090"
  },
  {
    "text": "I'd have idm in terminal 1\nand minus idm in terminal 2-- going to terminal 2. That's what I'd expect.",
    "start": "1324090",
    "end": "1329628"
  },
  {
    "text": "And then I'm saying that\neach of these two terminals is carrying half the\ncommon mode current.",
    "start": "1329628",
    "end": "1335320"
  },
  {
    "text": "That's essentially what\nthe definition says. OK.",
    "start": "1335320",
    "end": "1340500"
  },
  {
    "text": "Does that make\nsense to everybody? ",
    "start": "1340500",
    "end": "1349020"
  },
  {
    "text": "What about voltages? I focused on the\ncurrents here, but I said I have a\nvoltage at terminal 1",
    "start": "1349020",
    "end": "1354630"
  },
  {
    "text": "and a voltage at terminal 2. And I can assume that\nthe voltage at terminal 2 is ground because of this ground\nbounce kind of stuff going on",
    "start": "1354630",
    "end": "1362679"
  },
  {
    "text": "and the fact that there's\na bunch of cabling here, whether it's switching\nground bounce or not. There's some difference\nbetween that and ground.",
    "start": "1362680",
    "end": "1370789"
  },
  {
    "text": "So we can also come up with\ndefinitions of voltage.",
    "start": "1370790",
    "end": "1375810"
  },
  {
    "text": "OK. The common mode\nvoltage, if I'm going to look at the input point--",
    "start": "1375810",
    "end": "1382200"
  },
  {
    "text": "so I'm going to look\nat this point here. I could define the\ncommon mode voltage at the input of the\ndevice as being vcm",
    "start": "1382200",
    "end": "1391700"
  },
  {
    "text": "is equal to v1 plus v2 over 2. So basically, the\ncommon mode voltage",
    "start": "1391700",
    "end": "1399050"
  },
  {
    "text": "is the average of\nthe two voltages driving node 1 and node 2.",
    "start": "1399050",
    "end": "1406160"
  },
  {
    "text": "The differential\nmode voltage, vdm, is simply equal to v1 minus v2.",
    "start": "1406160",
    "end": "1413900"
  },
  {
    "text": "OK. If I thought about\nit, v1 with respect to ground minus v2 with respect\nto ground is this voltage vdm.",
    "start": "1413900",
    "end": "1422930"
  },
  {
    "text": "That's the voltage into\nwhich I was intending to apply to my device.",
    "start": "1422930",
    "end": "1428612"
  },
  {
    "text": "It's the difference\nbetween the two terminals. It's my input of my device. So that is the\ndifferential mode voltage.",
    "start": "1428613",
    "end": "1435290"
  },
  {
    "text": "The common mode voltage I'm\njust defining as the average. And if I put those\ntwo things together,",
    "start": "1435290",
    "end": "1442280"
  },
  {
    "text": "what I get is that v1 is equal\nto vcm plus 1/2 vdm and v2 is",
    "start": "1442280",
    "end": "1453560"
  },
  {
    "text": "equal to vcm minus 1/2 vdm.",
    "start": "1453560",
    "end": "1459110"
  },
  {
    "text": "So I'm issuing a\ndecomposition of voltage 1",
    "start": "1459110",
    "end": "1465900"
  },
  {
    "text": "and voltage 2 with\nrespect to ground and current 1 and current 2 into\ncommon mode and differential",
    "start": "1465900",
    "end": "1471780"
  },
  {
    "text": "mode components. So this is just a decomposition.",
    "start": "1471780",
    "end": "1478179"
  },
  {
    "text": "By the way, it's kind\nof funny because you notice that icm is i1 plus i2\nand the vcm is the average.",
    "start": "1478180",
    "end": "1484360"
  },
  {
    "text": "And the differential mode is\ndefined the other way around. One of the reasons\nwhy you define it this way is because if I said\nwhat's the total power flowing",
    "start": "1484360",
    "end": "1493929"
  },
  {
    "text": "here, I could say it\nwas p I could write as being equal to v1 times i1.",
    "start": "1493930",
    "end": "1500570"
  },
  {
    "text": "That's the power into\nthis port with respect to ground plus v2 i2.",
    "start": "1500570",
    "end": "1508640"
  },
  {
    "text": "And if I work that\nout, that works out to be precisely equal\nto vcm icm plus vdm idm.",
    "start": "1508640",
    "end": "1519289"
  },
  {
    "text": "All right. So whether I decompose-- if I take my\nvoltage and currents and I decompose it into\ncommon differential mode,",
    "start": "1519290",
    "end": "1525622"
  },
  {
    "text": "it preserves the\nnotion of power. OK. So that's just kind of a\nconvenient, handy fact.",
    "start": "1525622",
    "end": "1532809"
  },
  {
    "text": "It's not important\nfrom the perspective of we're trying to use\ncommon mode and differential",
    "start": "1532810",
    "end": "1538030"
  },
  {
    "text": "mode to deliver power. I'm really trying to deliver\nmy power into this thing through differential mode. That's the notion of how this\nthing is supposed to work.",
    "start": "1538030",
    "end": "1545270"
  },
  {
    "text": "I really don't want any current\nflowing in my ground path. ",
    "start": "1545270",
    "end": "1551220"
  },
  {
    "text": "But the other reason why people\nthink about this decomposition",
    "start": "1551220",
    "end": "1559080"
  },
  {
    "text": "of voltages and\ncurrents is because I tend to use different techniques\nto fix common mode noise",
    "start": "1559080",
    "end": "1565950"
  },
  {
    "text": "and differential mode noise. And so decomposing it that way\ntells you what techniques should",
    "start": "1565950",
    "end": "1573590"
  },
  {
    "text": "I use to make a better filter. OK. So let's think about\nthis for a second.",
    "start": "1573590",
    "end": "1579669"
  },
  {
    "text": " What might I do in\na filter design?",
    "start": "1579670",
    "end": "1587750"
  },
  {
    "text": "Well, let's go design a\nfilter for this thing now. And keep in mind,\nwe're going to have",
    "start": "1587750",
    "end": "1593539"
  },
  {
    "text": "to put some kind of filtering\nto deal with the fact that I can't allow lots\nof high frequency currents",
    "start": "1593540",
    "end": "1598940"
  },
  {
    "text": "through this path. So I can't just say\ndo what I did before",
    "start": "1598940",
    "end": "1604519"
  },
  {
    "text": "and just have a\nsingle-ended kind of filter that filters one path.",
    "start": "1604520",
    "end": "1609565"
  },
  {
    "text": "I'm going to have\nto do something that filters both leads\ngoing to my converter.",
    "start": "1609565",
    "end": "1614789"
  },
  {
    "text": "OK. Now in some cases, you can get\naway with a single-ended filter.",
    "start": "1614790",
    "end": "1620600"
  },
  {
    "text": "If this whole thing were\nbuilt on top of a ground plane and there was no\nwires going anywhere, and there's just one big\nground plane, well, then sure,",
    "start": "1620600",
    "end": "1627380"
  },
  {
    "text": "you only need to filter one\nlead because everything else is traveling in the\nbig ground plane. But if you have a device that's\nconnected over some cabling,",
    "start": "1627380",
    "end": "1634880"
  },
  {
    "text": "you better think twice\nbecause there could be some unintended path back.",
    "start": "1634880",
    "end": "1640769"
  },
  {
    "text": "OK. All right. So let's go think about\nhow I would design a filter to deal with this.",
    "start": "1640770",
    "end": "1648350"
  },
  {
    "text": "So here I go. Here is my device again. ",
    "start": "1648350",
    "end": "1654800"
  },
  {
    "text": "And here's one, two, and my\nunintended terminal three.",
    "start": "1654800",
    "end": "1661690"
  },
  {
    "text": "And if I thought of it--\nlet me just think about-- and it's not quite true,\nbut let me just think about,",
    "start": "1661690",
    "end": "1667929"
  },
  {
    "text": "for simplicity, as my converter\nbeing a source of drawing common",
    "start": "1667930",
    "end": "1674395"
  },
  {
    "text": "and differential mode currents. So I might think of it this way.",
    "start": "1674395",
    "end": "1679660"
  },
  {
    "text": "I might think of\nthis coming in here and drawing a differential\nmode current IBM.",
    "start": "1679660",
    "end": "1689000"
  },
  {
    "text": "And that would include the power\ncurrent plus any switching noise or something coming between\nthese two terminals.",
    "start": "1689000",
    "end": "1695360"
  },
  {
    "text": "And then if I\nthought, well, I might be driving some common mode\ncurrents, what would that be?",
    "start": "1695360",
    "end": "1701400"
  },
  {
    "text": "I'd have 1/2 icm being drawn\nthis way out here and 1/2 icm",
    "start": "1701400",
    "end": "1715190"
  },
  {
    "text": "being drawn this\nway to the output. And then this would\nbe icm to ground",
    "start": "1715190",
    "end": "1720830"
  },
  {
    "text": "through my parasitic\ncapacitance back to ground. Does that make\nsense to everybody?",
    "start": "1720830",
    "end": "1728169"
  },
  {
    "text": "So let's just-- let me pretend\nfor a moment idm is zero.",
    "start": "1728170",
    "end": "1734130"
  },
  {
    "text": "Let's just think I have a\ncommon mode currents that are being drawn together\nthrough pins and ones and twos",
    "start": "1734130",
    "end": "1739700"
  },
  {
    "text": "and going back through ground. All right. What would I do to filter it? Well, they said the first thing\nI usually put in my filter",
    "start": "1739700",
    "end": "1747279"
  },
  {
    "text": "is a capacitor\nbetween the two leads. And I'm going to call this--\nfor reasons we'll discuss,",
    "start": "1747280",
    "end": "1753470"
  },
  {
    "text": "I'm going to call this c sub x. OK.",
    "start": "1753470",
    "end": "1758700"
  },
  {
    "text": "Does this capacitor\nreally do anything? If I thought about\nif the currents are",
    "start": "1758700",
    "end": "1766610"
  },
  {
    "text": "kind of equally coming\nthis way, this capacitor",
    "start": "1766610",
    "end": "1772130"
  },
  {
    "text": "is like an open circuit\nto those currents. All right.",
    "start": "1772130",
    "end": "1778090"
  },
  {
    "text": "Or if v1 and v2, the voltages,\nare going up and down together, it has a common mode\ncomponent to the voltages,",
    "start": "1778090",
    "end": "1784780"
  },
  {
    "text": "c sub x is drawing no current. So for the common\nmode case, I mean",
    "start": "1784780",
    "end": "1792429"
  },
  {
    "text": "c sub x might as\nwell not be there. ",
    "start": "1792430",
    "end": "1797752"
  },
  {
    "text": "So what could I do\nto deal with c sub x? Well, one thing I could\ndo is put in what's",
    "start": "1797752",
    "end": "1805240"
  },
  {
    "text": "known as a common mode choke. What is a common mode choke?",
    "start": "1805240",
    "end": "1810710"
  },
  {
    "text": "A common mode choke is\nessentially a transformer",
    "start": "1810710",
    "end": "1816309"
  },
  {
    "text": "that's wound like this. It has equal numbers\nof turns on each side.",
    "start": "1816310",
    "end": "1823390"
  },
  {
    "text": "And it's wound with\nits dots like this. ",
    "start": "1823390",
    "end": "1828720"
  },
  {
    "text": "So if this were an\nideal transformer and I said, OK, let's pretend\nthat cx is an open circuit here,",
    "start": "1828720",
    "end": "1837770"
  },
  {
    "text": "how much current can flow\ntogether through these two",
    "start": "1837770",
    "end": "1843860"
  },
  {
    "text": "ideal transformer windings? ",
    "start": "1843860",
    "end": "1849600"
  },
  {
    "text": "Can I get a common\nmode component through an ideal transformer? ",
    "start": "1849600",
    "end": "1855580"
  },
  {
    "text": "Nobody's willing to bet on that? It's got to be zero because, in\nan ideal transformer, whatever comes into this dot\ncomes out of that dot.",
    "start": "1855580",
    "end": "1862750"
  },
  {
    "text": "It's an end to end transformer\nor a 1 to 1 transformer. So an ideal transformer only\nallows differential mode",
    "start": "1862750",
    "end": "1870100"
  },
  {
    "text": "current. So that's why it's called\na common mode choke. It chokes off the\ncommon mode current.",
    "start": "1870100",
    "end": "1876370"
  },
  {
    "text": "OK. Well, what would I do\nin my filter design? This thing makes like a perfect\ninductor against common mode",
    "start": "1876370",
    "end": "1884529"
  },
  {
    "text": "currents in some sense if I\nwanted to think about that, if I could go out and buy\nmyself an ideal transformer.",
    "start": "1884530",
    "end": "1891060"
  },
  {
    "text": "Now I can't go buy myself\nan ideal transformer. Why? Because they don't\nsell them at Digikey.",
    "start": "1891060",
    "end": "1897759"
  },
  {
    "text": "What do I have to think\nof in terms of parasitics in my transformer? Well, one thing\nis I said I could",
    "start": "1897760",
    "end": "1903390"
  },
  {
    "text": "put a magnetizing inductance\nL mu on one side of--",
    "start": "1903390",
    "end": "1908850"
  },
  {
    "text": "if this is the ideal\ntransformer part, I can put a magnetizing L mu\nacross one of the terminals.",
    "start": "1908850",
    "end": "1916483"
  },
  {
    "text": "Now they have the\nsame winding so they'd have the same inductance\nwhichever place I put it right. But I could also represent L mu\nas 2L mu in parallel with 2L mu.",
    "start": "1916483",
    "end": "1926140"
  },
  {
    "text": "So another way I could write\nthis is I could put 2L mu on this side and, to\nmake it symmetric,",
    "start": "1926140",
    "end": "1932789"
  },
  {
    "text": "I could put 2L mu on the\nother side of the transformer.",
    "start": "1932790",
    "end": "1940880"
  },
  {
    "text": "So I have some\nmagnetizing on each side. And maybe I should have--",
    "start": "1940880",
    "end": "1946646"
  },
  {
    "text": "I'm intending to\ndraw this in pink although I'm not sure you\ncan see the difference just to illustrate that these\nare parasitic components.",
    "start": "1946646",
    "end": "1953720"
  },
  {
    "text": "OK. What else do I have? I also have leakage inductance. And if this is\nsymmetrically wound,",
    "start": "1953720",
    "end": "1961490"
  },
  {
    "text": "I would have L leakage here\nand an equal L leakage here.",
    "start": "1961490",
    "end": "1967970"
  },
  {
    "text": "And that would represent a\nmodel for a real transformer.",
    "start": "1967970",
    "end": "1973049"
  },
  {
    "text": "So in principle, if this\nis an ungapped transformer,",
    "start": "1973050",
    "end": "1978390"
  },
  {
    "text": "common mode current could\ncome, go through the 2L mu, the magnetizing inductance on\neach side through the leakage,",
    "start": "1978390",
    "end": "1985830"
  },
  {
    "text": "and then in here. So it does pose a path\nfor common mode current in the real world, but it's\na very high impedance path",
    "start": "1985830",
    "end": "1993060"
  },
  {
    "text": "because if this\ntransformer is ungapped, L mu is a pretty big number.",
    "start": "1993060",
    "end": "1998210"
  },
  {
    "text": "OK. That's inductive choking. What would I do to\nget rid of the--",
    "start": "1998210",
    "end": "2006088"
  },
  {
    "text": "what would I do to\nget rid of the-- ",
    "start": "2006088",
    "end": "2012400"
  },
  {
    "text": "help filter these\ncommon mode currents? Maybe what I would\ndo is I would go in and I'd put in a capacitor.",
    "start": "2012400",
    "end": "2018580"
  },
  {
    "text": "And I'm going to call\nthis cy to ground here and another cy to ground here.",
    "start": "2018580",
    "end": "2029309"
  },
  {
    "text": "So I hope what you'll see is\nhalf cm could come through here,",
    "start": "2029310",
    "end": "2035100"
  },
  {
    "text": "come up through this capacitor,\nand happily circulate there. That's a low\nimpedance capacitive path to high frequency.",
    "start": "2035100",
    "end": "2040750"
  },
  {
    "text": "Same thing here. It can circulate this\nway because these guys are connected.",
    "start": "2040750",
    "end": "2046650"
  },
  {
    "text": "And so the current\nat high frequency wants to go through\nthe cy's but doesn't",
    "start": "2046650",
    "end": "2055489"
  },
  {
    "text": "want to go this way because of\nthe high magnetizing inductance. Does that make\nsense to everybody?",
    "start": "2055489",
    "end": "2061270"
  },
  {
    "text": " This is actually very convenient\nbecause if we think about it,",
    "start": "2061270",
    "end": "2072129"
  },
  {
    "text": "we have common mode\ncurrents, but we also have differential mode currents. If this is my differential\nmode current here, idm,",
    "start": "2072130",
    "end": "2080589"
  },
  {
    "text": "idm is coming this way, where\nwould the differential mode current flow?",
    "start": "2080590",
    "end": "2086290"
  },
  {
    "text": "Let me ignore cx and cy. Let's pretend they're\nnot there for the moment. Where would the differential\nmode current flow?",
    "start": "2086290",
    "end": "2092120"
  },
  {
    "text": "Well, it could go through L mu. But think about it this way. Differential mode\ncurrent doesn't mind going in this dot\nand out of this dot.",
    "start": "2092120",
    "end": "2099799"
  },
  {
    "text": "This common mode choke. The ideal one is a perfect short\nfor differential mode currents.",
    "start": "2099800",
    "end": "2107230"
  },
  {
    "text": "So the differential\nmode currents don't go through the\nmagnetizing inductance. They just go through the ideal\nportion of the transformer.",
    "start": "2107230",
    "end": "2113700"
  },
  {
    "text": "And so you don't\nmagnetize the core. And so even if you have high\ndifferential mode currents, because this is what you're\ndelivering power to the device",
    "start": "2113700",
    "end": "2121140"
  },
  {
    "text": "through, they don't\nmagnetize the core. And so you don't need\na big common mode choke",
    "start": "2121140",
    "end": "2126690"
  },
  {
    "text": "to get a high effective\ncommon mode inductance because it doesn't\nstore any energy,",
    "start": "2126690",
    "end": "2133390"
  },
  {
    "text": "at least it doesn't store\nany differential mode energy. ",
    "start": "2133390",
    "end": "2139510"
  },
  {
    "text": "Any questions about that? So to the extent that the\ndifferential mode currents don't",
    "start": "2139510",
    "end": "2147839"
  },
  {
    "text": "go through the\nmagnetizing inductance, I can get very high magnetizing\ninductance with very few turns",
    "start": "2147840",
    "end": "2153990"
  },
  {
    "text": "by using an ungapped core. And it's not going\nto be very large. And by the way, in the one\nI'm passing around here-- may",
    "start": "2153990",
    "end": "2161650"
  },
  {
    "text": "I steal this back? I don't know. Did this make it over to the\nright hand side of the class? Yeah. So see these guys here?",
    "start": "2161650",
    "end": "2167400"
  },
  {
    "text": " These are common mode\nchokes right here.",
    "start": "2167400",
    "end": "2172570"
  },
  {
    "text": "And actually, what you'll\nsee is the two sets of windings are identical. And they're split\nup on the core.",
    "start": "2172570",
    "end": "2180740"
  },
  {
    "text": "They're split up on\nthe core, actually, to help enhance the amount\nof leakage inductance",
    "start": "2180740",
    "end": "2186130"
  },
  {
    "text": "that we have from those things. But it's symmetric\nin ungapped cores.",
    "start": "2186130",
    "end": "2191870"
  },
  {
    "text": "And that's very convenient. Why? Well, I said if I wanted\nto kill the common mode",
    "start": "2191870",
    "end": "2197750"
  },
  {
    "text": "component of current, I\nwant it to cycle through cy.",
    "start": "2197750",
    "end": "2204980"
  },
  {
    "text": "And my filter then, if\nI were to redraw this, let me just consider the\ncommon mode components.",
    "start": "2204980",
    "end": "2211910"
  },
  {
    "text": "So if I just consider the\ncommon mode component-- so this is the cm only. ",
    "start": "2211910",
    "end": "2219350"
  },
  {
    "text": "I have half cm,\n1/2 icm, 1/2 icm.",
    "start": "2219350",
    "end": "2229795"
  },
  {
    "start": "2229795",
    "end": "2234910"
  },
  {
    "text": "Here I have cy. Here I have see cy.",
    "start": "2234910",
    "end": "2241120"
  },
  {
    "text": "And then these are\nboth going to ground, which is connected back here.",
    "start": "2241120",
    "end": "2246970"
  },
  {
    "text": "Then I'm going through leakage\non each side and 2L mu on each",
    "start": "2246970",
    "end": "2255609"
  },
  {
    "text": "side because the ideal portion\nof the transformer is now gone.",
    "start": "2255610",
    "end": "2263290"
  },
  {
    "text": "And then this is connected back\nto my input, which I'll just treat as a short circuit.",
    "start": "2263290",
    "end": "2268330"
  },
  {
    "text": "So the currents here\nbasically form--",
    "start": "2268330",
    "end": "2274510"
  },
  {
    "text": "and I'm acknowledging that I\nhave ground connected back here, too. So basically, the\ncurrents form an lc filter",
    "start": "2274510",
    "end": "2284140"
  },
  {
    "text": "that I could think of\nif I mirrored this, I could redraw this as this.",
    "start": "2284140",
    "end": "2290450"
  },
  {
    "text": "So let me just mirror\neverything that looks like it's in parallel\nreflected across ground. And what I would get is this.",
    "start": "2290450",
    "end": "2296810"
  },
  {
    "text": "L mu L leakage over 2 icm 2cy\nAnd then this is shorter this",
    "start": "2296810",
    "end": "2312830"
  },
  {
    "text": "way. So putting aside damping, which\nI'm not talking about here,",
    "start": "2312830",
    "end": "2318410"
  },
  {
    "text": "basically, I have a filter\ncomprising 2cy is my capacitor",
    "start": "2318410",
    "end": "2324980"
  },
  {
    "text": "and L mu plus half the\nleakage as my inductor. OK.",
    "start": "2324980",
    "end": "2330420"
  },
  {
    "text": "Make sense to everybody? And that's handy\nbecause this c sub y,",
    "start": "2330420",
    "end": "2338400"
  },
  {
    "text": "if I come back to\nmy real system, it can be connected between\nthe negative terminal and the positive\nterminal to ground.",
    "start": "2338400",
    "end": "2345360"
  },
  {
    "text": "It turns out I'm not allowed\nto use a very big y capacitor. I'm not allowed to connect a\nbig capacitor between, say,",
    "start": "2345360",
    "end": "2353150"
  },
  {
    "text": "hot, my AC voltage\ncoming in, and ground, y,",
    "start": "2353150",
    "end": "2358460"
  },
  {
    "text": "because, first of all, we're\nnot supposed to carry currents in ground. This is actually allowing\ncurrent to flow in the ground",
    "start": "2358460",
    "end": "2364880"
  },
  {
    "text": "wire. Devices like GFI's-- you might\nhave a GFI in your bathroom,",
    "start": "2364880",
    "end": "2371715"
  },
  {
    "text": "a ground fault interrupter--\nwhat they're really doing is they're looking at the\ndifference between these two",
    "start": "2371715",
    "end": "2377490"
  },
  {
    "text": "currents or, equivalently,\nthey're looking for current going into the ground. And if they see current\ngoing to the ground,",
    "start": "2377490",
    "end": "2383313"
  },
  {
    "text": "they think, ah,\nsomething's wrong, somebody is being\nelectrocuted and the current's flowing through them. Shut everything off.",
    "start": "2383313",
    "end": "2389410"
  },
  {
    "text": "So if you allowed your device\nto put a bunch of current into the ground, it's going\nto mess things like that up.",
    "start": "2389410",
    "end": "2396730"
  },
  {
    "text": "So they put very strict limits\non how much current you're allowed to put in the ground. And for 60 hertz currents,\nwhich is what they're really",
    "start": "2396730",
    "end": "2403930"
  },
  {
    "text": "looking at, or 50\nhertz in Europe,",
    "start": "2403930",
    "end": "2409470"
  },
  {
    "text": "this y capacitor is\nvery limited in value. Depending upon the\napplication, you might be talking\nlike 5 nanofarad.",
    "start": "2409470",
    "end": "2416170"
  },
  {
    "text": "It's very small capacitors. So I don't get a very\nbig capacitor value",
    "start": "2416170",
    "end": "2422280"
  },
  {
    "text": "that I'm allowed to use. How do I get all my filtering? Well, I have the magnetizing\ninductance, which can be huge.",
    "start": "2422280",
    "end": "2430140"
  },
  {
    "text": "So I have a tiny capacitor,\nbut a really big inductor. And that gives me--",
    "start": "2430140",
    "end": "2436980"
  },
  {
    "text": "I can still get a\nlow cutoff frequency and very good filtering\nfor common mode signals.",
    "start": "2436980",
    "end": "2443540"
  },
  {
    "text": "Does that make sense, everybody? ",
    "start": "2443540",
    "end": "2449000"
  },
  {
    "text": "And the reason I\nget away with that is because the high power\ncurrents, the differential mode",
    "start": "2449000",
    "end": "2454550"
  },
  {
    "text": "currents, are not magnetizing\nthe transformer core. That's common mode only.",
    "start": "2454550",
    "end": "2460080"
  },
  {
    "text": "Let's think about differential\nmode only for a moment. And you notice when I drew\nthe common mode filter,",
    "start": "2460080",
    "end": "2466280"
  },
  {
    "text": "I completely ignored\nthis x capacitor because he's not doing anything\nfor the common mode component.",
    "start": "2466280",
    "end": "2472230"
  },
  {
    "text": "Let's think about the\ndifferential mode only. ",
    "start": "2472230",
    "end": "2477880"
  },
  {
    "text": "So suppose here's my device. If I'm only thinking about the\ndifferential mode components,",
    "start": "2477880",
    "end": "2485470"
  },
  {
    "text": "I have idm. ",
    "start": "2485470",
    "end": "2495700"
  },
  {
    "text": "I'm pretending\ncommon mode 0 now. I have an x capacitor,\nc sub x, which",
    "start": "2495700",
    "end": "2504160"
  },
  {
    "text": "is sitting between\nterminal one and two. So this provides-- if I have a\nhigh frequency component to idm,",
    "start": "2504160",
    "end": "2512380"
  },
  {
    "text": "it provides a low\nimpedance path for it to flow through at\nhigh frequencies. ",
    "start": "2512380",
    "end": "2519109"
  },
  {
    "text": "If I look back into this-- for filter purposes, let me\njust ignore the source voltage.",
    "start": "2519110",
    "end": "2526230"
  },
  {
    "text": "The ideal transformer\nportion of my transformer",
    "start": "2526230",
    "end": "2531650"
  },
  {
    "text": "carries all the\ndifferential mode current so I don't magnetize the core. So basically, the differential\nmode, the magnetizing inductance",
    "start": "2531650",
    "end": "2539270"
  },
  {
    "text": "is essentially shorted out. But the leakage\ninductance is not.",
    "start": "2539270",
    "end": "2545180"
  },
  {
    "text": "So what I'm really going\nto see at differential mode",
    "start": "2545180",
    "end": "2551809"
  },
  {
    "text": "is the following. I'm going to see-- I'm going to see the\nleakage inductance here",
    "start": "2551810",
    "end": "2557450"
  },
  {
    "text": "and the leakage\ninductance on this side because there's two leakage\ninductance to the transformer. And then if I connect this\nat the bottom, that's fine.",
    "start": "2557450",
    "end": "2568310"
  },
  {
    "text": "I should say we also have the y\ncapacitors connected to ground. From a differential\nmode perspective,",
    "start": "2568310",
    "end": "2574610"
  },
  {
    "text": "what that looks like\nis a y capacitor here and a y capacitor here.",
    "start": "2574610",
    "end": "2580490"
  },
  {
    "text": "And the ground is\nlike a virtual open. Nothing's flowing in ground. So these guys just\nlook in series.",
    "start": "2580490",
    "end": "2588440"
  },
  {
    "text": "So maybe what I could\nthink of if I thought about this is net controlling the\ncurrent flow around this loop.",
    "start": "2588440",
    "end": "2596340"
  },
  {
    "text": "What I really have is idm.",
    "start": "2596340",
    "end": "2601920"
  },
  {
    "text": "I have c sub x plus 1/2 c sub y.",
    "start": "2601920",
    "end": "2609260"
  },
  {
    "text": "And c sub x, by the\nway, can be very big. There's no actual limit on it.",
    "start": "2609260",
    "end": "2614278"
  },
  {
    "text": "I mean I don't want to carry\ntoo much 60 hertz current in it, but it's not going to be tiny\nlike the y capacitor does",
    "start": "2614278",
    "end": "2619670"
  },
  {
    "text": "because it's not\nconnected to ground. And then I effectively have-- if I consider these\ntwo paths together,",
    "start": "2619670",
    "end": "2626510"
  },
  {
    "text": "I have a net 2L leakage here\nand this forms my lc filter.",
    "start": "2626510",
    "end": "2634140"
  },
  {
    "text": "Now c sub x can be pretty\nbig so this capacitor can be relatively big.",
    "start": "2634140",
    "end": "2639420"
  },
  {
    "text": "The leakage. Inductance is small. It's just the leakage\ninductance of my transformer. And that actually stores energy.",
    "start": "2639420",
    "end": "2645570"
  },
  {
    "text": "If I'm passing differential\nmode currents to deliver power and those currents are\namps or tens of amps,",
    "start": "2645570",
    "end": "2650970"
  },
  {
    "text": "that's storing energy\nin the net leakage. But still, the\nleakage is relatively",
    "start": "2650970",
    "end": "2657870"
  },
  {
    "text": "small compared to the\nmagnetizing, a few percent maybe. So I can still keep my\ntransformer pretty small.",
    "start": "2657870",
    "end": "2665050"
  },
  {
    "text": "And now for\ndifferential mode, I get a big capacitor dominated\nby the x capacitor",
    "start": "2665050",
    "end": "2670170"
  },
  {
    "text": "and then the leakage of\nmy common mode choke.  Are there questions about that?",
    "start": "2670170",
    "end": "2676025"
  },
  {
    "text": " So what do I want to know\nwhen I'm designing a filter?",
    "start": "2676025",
    "end": "2683859"
  },
  {
    "text": "Right. If my problem is\ncommon mode noise,",
    "start": "2683860",
    "end": "2692700"
  },
  {
    "text": "beefing up the x\ncapacitor here is",
    "start": "2692700",
    "end": "2698940"
  },
  {
    "text": "going to do zippo because the\ncommon current doesn't even flow through that. It's a virtual open.",
    "start": "2698940",
    "end": "2705960"
  },
  {
    "text": "Increasing my\nleakage inductance, well, I could,\nbut it's not going to help much because\nat common mode,",
    "start": "2705960",
    "end": "2712680"
  },
  {
    "text": "this guy is what's\ndominating the impedance, the magnetized\ndominating impedance.",
    "start": "2712680",
    "end": "2717940"
  },
  {
    "text": "So if I have common mode\nnoise, what I really need to do is increase the magnetizing\ninductance component.",
    "start": "2717940",
    "end": "2726250"
  },
  {
    "text": "That's what would\nhelp me or maybe have another pair of\ny capacitors over here and make a higher order filter.",
    "start": "2726250",
    "end": "2732600"
  },
  {
    "text": "But I want to focus on the\nelements, the magnetizing inductance, and the y\ncapacitors that dominate",
    "start": "2732600",
    "end": "2740640"
  },
  {
    "text": "my common mode filtering. If the thing that's killing\nme is differential mode noise,",
    "start": "2740640",
    "end": "2746990"
  },
  {
    "text": "then I might as well not worry\nabout the magnetizing inductance",
    "start": "2746990",
    "end": "2752450"
  },
  {
    "text": "because it's not helping me. And I ought to focus\non the x capacitor",
    "start": "2752450",
    "end": "2759020"
  },
  {
    "text": "and the leakage components or\nadding in another filter stage and worrying about the\nleakage components.",
    "start": "2759020",
    "end": "2764819"
  },
  {
    "text": "So we can really think\nabout the strategy used to design these filters in\nterms of the common mode",
    "start": "2764820",
    "end": "2771164"
  },
  {
    "text": "and differential\nmode components. And I'm using different elements\nto help me build the filter",
    "start": "2771165",
    "end": "2776280"
  },
  {
    "text": "and pass the specifications. Now in the final analysis when\nI go to measure this stuff",
    "start": "2776280",
    "end": "2782510"
  },
  {
    "text": "and I'm doing my EMI\ntesting, what I'm really",
    "start": "2782510",
    "end": "2789080"
  },
  {
    "text": "coming back and doing is\nsetting up a LISN on this lead",
    "start": "2789080",
    "end": "2796820"
  },
  {
    "text": "and looking, from the\nsource's perspective, looking in the ripple in i2\nand looking in the ripple in i1",
    "start": "2796820",
    "end": "2802820"
  },
  {
    "text": "or, equivalently, the voltage\non the LISN for this lead and the voltage on the\nLISN for this lead. So my EMI measurements\naren't done",
    "start": "2802820",
    "end": "2809270"
  },
  {
    "text": "in terms of common mode\nand differential mode, but there will be common\nmode and differential modes components to those that\nI can go think about.",
    "start": "2809270",
    "end": "2816690"
  },
  {
    "text": "And we often figure out\nways to separate those because I'm going to do\ndifferent things in my filter",
    "start": "2816690",
    "end": "2823310"
  },
  {
    "text": "to fix them. OK. What might I do if I wanted--\nlike if I just had this device",
    "start": "2823310",
    "end": "2829730"
  },
  {
    "text": "and I wanted to go figure out\nthe common mode current going into it, how do you\nthink I'd do that?",
    "start": "2829730",
    "end": "2835734"
  },
  {
    "text": " I could go get a current probe\nand grab both of this lead",
    "start": "2835735",
    "end": "2846220"
  },
  {
    "text": "and this lead together\nthrough the current probe. So only the sum\nof the currents is what I measured, which is\nprecisely the common mode",
    "start": "2846220",
    "end": "2853220"
  },
  {
    "text": "current. So I could grab a current\nprobe and say, oh,",
    "start": "2853220",
    "end": "2858250"
  },
  {
    "text": "do I have common mode current? Oh, I do. I better think about\nfixing the common mode. Or if I grab this lead through\nthe probe in one direction",
    "start": "2858250",
    "end": "2867220"
  },
  {
    "text": "and I flipped i2 and I\nmeasured i1 plus minus i2,",
    "start": "2867220",
    "end": "2873250"
  },
  {
    "text": "i1 plus minus i2 is precisely\ntwice the differential mode",
    "start": "2873250",
    "end": "2878830"
  },
  {
    "text": "current. So I can separate out common\nmode and differential mode currents.",
    "start": "2878830",
    "end": "2884030"
  },
  {
    "text": "I can do the same\nthing with voltages. If I look at the average of the\nvoltages at terminal 1 and 2, if they're bouncing up\ntogether and down together,",
    "start": "2884030",
    "end": "2891339"
  },
  {
    "text": "that's common mode. If they're doing this,\nthat's differential mode.",
    "start": "2891340",
    "end": "2896500"
  },
  {
    "text": "So I can use differential\nprobes or sometimes what you can do is you look at\nhow much your ground's bouncing",
    "start": "2896500",
    "end": "2903100"
  },
  {
    "text": "and say, yeah, that's\nrelated to my common mode. But I'll think differently about\nhow I will deal with those.",
    "start": "2903100",
    "end": "2911832"
  },
  {
    "text": "And even when you're\nmaking measurements, you tend to do this. Actually, if you\nlook at this cord,",
    "start": "2911832",
    "end": "2917050"
  },
  {
    "text": "you see this kind of\ncylinder on this cord? All that cylinder\nis is basically",
    "start": "2917050",
    "end": "2922839"
  },
  {
    "text": "a ring, a toroidal ring\nof ferrite through which both leads are slipped. So this is just a one-turn\ncommon mode choke.",
    "start": "2922840",
    "end": "2930859"
  },
  {
    "text": "It's helping keep\ncommon mode noise out. And it's very high\nimpedance to common mode. Gives you almost no impedance\nto differential mode.",
    "start": "2930860",
    "end": "2939650"
  },
  {
    "text": "And that's why you can\nget a lot of filtering with a very small core.",
    "start": "2939650",
    "end": "2944680"
  },
  {
    "text": "So that's just a notion\nthat everything I've said about filtering is true.",
    "start": "2944680",
    "end": "2950215"
  },
  {
    "text": "And sometimes you only need\ndifferential filtering. If you're building something\nover a ground plane and currents can return wherever\nthey may in the ground plane,",
    "start": "2950215",
    "end": "2956859"
  },
  {
    "text": "that's not a problem. But if you're going\nto build something with some pair of wires\ngoing out to the wall,",
    "start": "2956860",
    "end": "2963069"
  },
  {
    "text": "or to your car battery,\nor to something else, you better start\nthinking in terms of common mode and differential\nmode, voltages and currents",
    "start": "2963070",
    "end": "2970869"
  },
  {
    "text": "for noise.  Any questions?",
    "start": "2970870",
    "end": "2977120"
  },
  {
    "text": "Yeah. AUDIENCE: So common mode\nand differential mode, do they both occur\nsimultaneously or do they just--",
    "start": "2977120",
    "end": "2984470"
  },
  {
    "text": "are they situations\nthat occur separately? PROFESSOR: Well, different\nthings might drive common mode",
    "start": "2984470",
    "end": "2991360"
  },
  {
    "text": "and differential mode noise,\nbut, typically, they're occurring together. And it's just a question of\nwhat you're seeing on pin one",
    "start": "2991360",
    "end": "2997944"
  },
  {
    "text": "and what you're\nseeing on pin two in terms of voltage and current. So they occur\ntogether but what's dominant may depend\nupon the situation.",
    "start": "2997945",
    "end": "3007250"
  },
  {
    "text": "So if I suddenly increase\nthe parasitic capacitance of my transistor to\nground, suddenly I'd",
    "start": "3007250",
    "end": "3015070"
  },
  {
    "text": "probably see a bunch\nof common mode noise there too, even if I have a\ndifferential mode component.",
    "start": "3015070",
    "end": "3020510"
  },
  {
    "text": "OK. So if I'm making this third\nterminal current path easier,",
    "start": "3020510",
    "end": "3025900"
  },
  {
    "text": "that's probably going to lead to\ncommon mode noise, for example. But no, they occur together.",
    "start": "3025900",
    "end": "3031870"
  },
  {
    "text": "You've got to filter\nboth at the same time. Other questions?",
    "start": "3031870",
    "end": "3037190"
  },
  {
    "text": " OK. Next class, we're\ngoing to take up",
    "start": "3037190",
    "end": "3042849"
  },
  {
    "text": "an entirely new\nclass of converter but we will do that tomorrow. Have a great day.",
    "start": "3042850",
    "end": "3048900"
  },
  {
    "start": "3048900",
    "end": "3052000"
  }
]