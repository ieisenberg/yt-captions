[
  {
    "text": " So, before we begin,\nI just want to make sure you guys all remember\nabout the quiz on Friday.",
    "start": "0",
    "end": "7560"
  },
  {
    "text": "So the quiz is going to\nbe in Walker at 2 pm. Everybody goes to Walker.",
    "start": "7560",
    "end": "14230"
  },
  {
    "text": "The quiz is open book. You can bring your own notes. You can bring a class notes,\nbring the readings from class;",
    "start": "14230",
    "end": "21130"
  },
  {
    "text": "you can bring your calculator. But please don't bring any\ncomputers, phones, PDAs, things like that.",
    "start": "21130",
    "end": "26630"
  },
  {
    "text": "So make sure you have all\nyour stuff printed out before you show up if you've\nbeen taking notes on a laptop. OK, so what we're going to\ndo today is just quickly,",
    "start": "26630",
    "end": "37680"
  },
  {
    "text": "well, we're going to do an\nintroduction to networking. But quickly I just\nwant to finish the topic of caching\nthat we began,",
    "start": "37680",
    "end": "44190"
  },
  {
    "text": "that sort of introduced at\nthe very end of the lecture last time. So, if you guys\nremember, we were",
    "start": "44190",
    "end": "51760"
  },
  {
    "text": "talking about our pipeline\nWebServer system that consisted of these three stages:\na networking stage connected up",
    "start": "51760",
    "end": "66400"
  },
  {
    "text": "to our HTML stage connected\nup to our disk stage.",
    "start": "66400",
    "end": "75400"
  },
  {
    "text": "OK, and we did a\nlittle performance analysis of the system.",
    "start": "75400",
    "end": "80777"
  },
  {
    "text": "We looked at what the cost\nof each of these stages is, what sort of throughput of\neach one of these stages is.",
    "start": "80777",
    "end": "86670"
  },
  {
    "text": "We said that as long as we\nsplit this networking module up into ten submodules, we can get\nthe throughput of this thing",
    "start": "86670",
    "end": "92920"
  },
  {
    "text": "to be about 100\nrequests per second. We said the latency\nof this was 1 ms.",
    "start": "92920",
    "end": "101490"
  },
  {
    "text": "So that means it can process a\nthousand requests per second. We said the latency\nof the disk was 10 ms.",
    "start": "101490",
    "end": "108550"
  },
  {
    "text": "So that means it\ncan also process 100 requests per second. And we said, remember, that when\nwe are looking at a pipeline,",
    "start": "108550",
    "end": "115409"
  },
  {
    "text": "the sort of throughput\nof the entire pipeline is going to be\nbottlenecked by the slowest stage in the system.",
    "start": "115410",
    "end": "121205"
  },
  {
    "text": "And so if we look\nat this, we see that these two stages\nare both running at 100 requests per second.",
    "start": "121205",
    "end": "129560"
  },
  {
    "text": "But we have a very simple way of\nmaking this first network stage be able to process more\nrequests per second,",
    "start": "129560",
    "end": "136380"
  },
  {
    "text": "right, because we\nsimply can replicate the number of threads\nthat are sending",
    "start": "136380",
    "end": "142360"
  },
  {
    "text": "data out over the network. So, for example, if we went from\nten nodes here to 100 nodes,",
    "start": "142360",
    "end": "148180"
  },
  {
    "text": "we could increase the\nthroughput of this stage to 1,000 requests\nper second, which",
    "start": "148180",
    "end": "153650"
  },
  {
    "text": "means that now the bottleneck\nstage that we have is simply the disk stage. So the question is,\nis there something",
    "start": "153650",
    "end": "159180"
  },
  {
    "text": "we can do to increase the\nthroughput of the disk stage? If you think about\nit, at first it may seem like, well,\nthere's probably",
    "start": "159180",
    "end": "165150"
  },
  {
    "text": "no way that we can do anything\nbecause the disk takes 10 ms, you know, every page\ntakes 10 ms to read in.",
    "start": "165150",
    "end": "171470"
  },
  {
    "text": "So what are we going\nto do about that? And there's a very\nsort of standard answer to that that you guys\nhave all seen before,",
    "start": "171470",
    "end": "177950"
  },
  {
    "text": "and that answer is caching.  OK so the simple\nidea is that we're",
    "start": "177950",
    "end": "187230"
  },
  {
    "text": "going to take this IO\nstage, or this disk stage, with this disk\nthat runs at 10 ms.",
    "start": "187230",
    "end": "192360"
  },
  {
    "text": "What I've shown here\nis a very simple piece of pseudo code that\nmight correspond to what this sort\nof read or the get",
    "start": "192360",
    "end": "198590"
  },
  {
    "text": "page ID function for\nthis IO stage does. It simply calls\nsome read function",
    "start": "198590",
    "end": "204210"
  },
  {
    "text": "that reads page ID off the\ndisk and then returns the page. If we add a cache\nto this system,",
    "start": "204210",
    "end": "209810"
  },
  {
    "text": "suppose we have\nan in memory cache that can retrieve\na page in 0.1 ms.",
    "start": "209810",
    "end": "215110"
  },
  {
    "text": "In that case, the\nway that we can use that cache is just before\nevery time we go to the disk, we can check and see if the\npage that we're trying to load",
    "start": "215110",
    "end": "222100"
  },
  {
    "text": "is in the cache. And then only if\nit's not in the cache do we need to actually\ngo to the disks. And we get a miss on the cache.",
    "start": "222100",
    "end": "227950"
  },
  {
    "text": "We go check the disk to see\nif the page is available. So we can extend the\ncode in a very simple way",
    "start": "227950",
    "end": "233140"
  },
  {
    "text": "to take advantage of this. We simply say, we look\nup in the cache first, and then if the page is\nnull or empty or whatever,",
    "start": "233140",
    "end": "239880"
  },
  {
    "text": "we can't find it in the cache,\nthen we go ahead and look it up on the disk. And then we add that\nresult to the cache.",
    "start": "239880",
    "end": "246620"
  },
  {
    "text": "So there's a couple\nof little details that we need to work through. But let's first look at what\nthe performance of this system",
    "start": "246620",
    "end": "253209"
  },
  {
    "text": "is going to be, or\nhow this is going to impact the performance\nof what we've been doing. So if we come over\nhere, if we think",
    "start": "253210",
    "end": "263540"
  },
  {
    "text": "about what the cost of accessing\na page on this system would be, well, we're always going to\nhave to check the cache, right?",
    "start": "263540",
    "end": "270722"
  },
  {
    "text": "That's the first thing we do. So I'm going to write C for cost\nof accessing the cache, where",
    "start": "270722",
    "end": "277270"
  },
  {
    "text": "cost is in this case\ngoing to be expressed in something like the\nnumber of milliseconds to do a lookup in the cache,\nand then plus the cost",
    "start": "277270",
    "end": "284662"
  },
  {
    "text": "of looking it up on the disk. But we only have to look up\non the disk some of the time, right, so there is\nsome probability",
    "start": "284662",
    "end": "290440"
  },
  {
    "text": "of getting a miss times\nthe cost of that miss.",
    "start": "290440",
    "end": "299620"
  },
  {
    "text": "OK, so in this case, we said\nthe cost of going to the cache was 0.1 ms.",
    "start": "299620",
    "end": "305710"
  },
  {
    "text": "The cost of going to\nthe disk is 10 ms. OK, and now what we're\nleft is to figure out",
    "start": "305710",
    "end": "311420"
  },
  {
    "text": "what the probability\nof this miss is. ",
    "start": "311420",
    "end": "316500"
  },
  {
    "text": "So if you think about a\nsystem for a little bit, you might say, well, OK, what\ndoes the system look like?",
    "start": "316500",
    "end": "323090"
  },
  {
    "text": "What's the probability that we\nare actually going to get a hit or miss?",
    "start": "323090",
    "end": "329150"
  },
  {
    "text": "And if what the\napplications are doing is simply generating\nrandom requests",
    "start": "329150",
    "end": "334160"
  },
  {
    "text": "for random pages, which\nmight be one model of how the application\nbehaves, then it doesn't seem like cache\nis going to buy us",
    "start": "334160",
    "end": "339460"
  },
  {
    "text": "very much, right,\nbecause the cache is going to be a small fraction\nof the total size of the disk. It might be in RAM, so we\nmight have 100 MB of cache,",
    "start": "339460",
    "end": "346260"
  },
  {
    "text": "and we might have 10\nGB of disk, right? So that means there is a\nfactor of 100 difference between these two things.",
    "start": "346260",
    "end": "352000"
  },
  {
    "text": "So if the page\nrequests are random, the probability that something\nis going to be in the cache is going to be very low.",
    "start": "352000",
    "end": "357340"
  },
  {
    "text": "It's going to be only, say, 1%. But it turns out that\nalmost all applications have an interesting property\nwhich is commonly referred",
    "start": "357340",
    "end": "364509"
  },
  {
    "text": "to as locality of reference. ",
    "start": "364510",
    "end": "373160"
  },
  {
    "text": "What this means is that if you\nlook at which pages a program is likely to access\nover time, be",
    "start": "373160",
    "end": "378849"
  },
  {
    "text": "these pages of data\nor parts of a program, typically a page that has\nbeen accessed recently",
    "start": "378850",
    "end": "386310"
  },
  {
    "text": "is very likely to\nbe accessed again. So a simple example\nmight be that if you look at the files that are\nbeing used in a computer system,",
    "start": "386310",
    "end": "392660"
  },
  {
    "text": "usually there is a\nsmall set of files that a user is working with\nat any given point in time. You're running certain\nprograms; you're",
    "start": "392660",
    "end": "398979"
  },
  {
    "text": "editing certain documents. And there's a huge\narray of other programs and files and documents\nthat are on the system",
    "start": "398980",
    "end": "404410"
  },
  {
    "text": "that you aren't accessing. And when those active\nfiles are being accessed,",
    "start": "404410",
    "end": "409720"
  },
  {
    "text": "there's a much\nhigher probability of getting a hit of looking\nat those active files then there is of going to\nany one of the other files.",
    "start": "409720",
    "end": "416350"
  },
  {
    "text": "So even when the difference\nbetween these things is, say, a factor of 100,\nin the case of a Web server,",
    "start": "416350",
    "end": "421539"
  },
  {
    "text": "it might be very\nlikely that we would have 90% maybe of the pages\nthat have been accessed",
    "start": "421540",
    "end": "427659"
  },
  {
    "text": "are already in the cache. So in that case, sorry, this\nprobability should be 0.9, 90%.",
    "start": "427660",
    "end": "434910"
  },
  {
    "text": "OK, so suppose that\nthe probability, sorry, the probability of a hit is 90%.",
    "start": "434910",
    "end": "442139"
  },
  {
    "text": "The probability of\na miss is then 10%. OK, so if you look at now\nwhat this sort of formula",
    "start": "442140",
    "end": "449820"
  },
  {
    "text": "evaluates to, we see it's\n0.1 plus ten times 0.1. So, it's 1.1\nmilliseconds on average,",
    "start": "449820",
    "end": "459180"
  },
  {
    "text": "assuming that we get a\n90% hit rate on our cache. OK, so if you now come\nback to this diagram, that",
    "start": "459180",
    "end": "466520"
  },
  {
    "text": "means that the throughput\nof the box is one over 1.1,",
    "start": "466520",
    "end": "473251"
  },
  {
    "text": "remember, because throughput\nis just one over latency when we have sort of just\nthis one module, which",
    "start": "473252",
    "end": "478569"
  },
  {
    "text": "means that now we can\nprocess something like, so this is something\nlike, sorry,",
    "start": "478570",
    "end": "486440"
  },
  {
    "text": "this should be one over latency. But this is in milliseconds. So this is 0.1, one, sorry, the\nnumber of seconds is 0.0011,",
    "start": "486440",
    "end": "497150"
  },
  {
    "text": "right? So, one over 0.0011\nis about 900. OK, so we can get about\n900 requests per second",
    "start": "497150",
    "end": "503560"
  },
  {
    "text": "that we can process\ninstead of just 100. This is approximately equal. ",
    "start": "503560",
    "end": "510290"
  },
  {
    "text": "OK, so what we've\nmanaged to do is increase the throughput\nat this stage by about a factor of nine.",
    "start": "510290",
    "end": "515354"
  },
  {
    "text": "I mean, now you can see\nthat sort of all three of these stages are close to\nabout 1,000 requests a second. We have increased the\nperformance of the system",
    "start": "515354",
    "end": "522059"
  },
  {
    "text": "pretty dramatically by\nintroducing the cache. And you have to remember\nthat this cache is only",
    "start": "522059",
    "end": "528140"
  },
  {
    "text": "going to be a good\nidea when we are sure that we have this\nlocality of reference property. OK, so if the Web server\nis going to a random page,",
    "start": "528140",
    "end": "536510"
  },
  {
    "text": "if the Web server\nis sort of asked to fetch a random\npage on every request, the cache is not going\nto be a good choice.",
    "start": "536510",
    "end": "542371"
  },
  {
    "text": "But most of the time Web servers\nto have this locality property. So the last little\ndetail that we",
    "start": "542371",
    "end": "547649"
  },
  {
    "text": "need to talk about when\nwe talk about caches,",
    "start": "547650",
    "end": "553330"
  },
  {
    "text": "is the sort of question about\nhow we deal with page eviction.",
    "start": "553330",
    "end": "561910"
  },
  {
    "text": "So in this diagram here, when\nwe call add to the cache,",
    "start": "561910",
    "end": "567529"
  },
  {
    "text": "if the cache is already\nfull of results, we have to pick something\nto replace, right?",
    "start": "567530",
    "end": "573259"
  },
  {
    "text": "So we need what's called a page\nremoval or page replacement",
    "start": "573260",
    "end": "579350"
  },
  {
    "text": "policy. OK, so you guys presumably have\nseen different page removal",
    "start": "579350",
    "end": "588310"
  },
  {
    "text": "or page replacement\nproperties in 6.004 before. I'll just talk about\ntwo very quickly:",
    "start": "588310",
    "end": "593740"
  },
  {
    "text": "a FIFO policy and a LRU policy. OK, so what FIFO means\nis First In First Out.",
    "start": "593740",
    "end": "600600"
  },
  {
    "text": "So it says the\nthing to throw out is the first thing that\nwe loaded into the cache.",
    "start": "600600",
    "end": "606470"
  },
  {
    "text": "OK, so if I access\na set of pages, suppose I have a\nthree element cache",
    "start": "606470",
    "end": "613010"
  },
  {
    "text": "and I access a set of pages,\none, two, three, two, one, four, what I'm going to do\nis I'm going to load this.",
    "start": "613010",
    "end": "620470"
  },
  {
    "text": "I'm going to access\nthese three pages. Page 1 will be the first\none that's in my cache.",
    "start": "620470",
    "end": "627339"
  },
  {
    "text": "So when I try and load page\n4, I'm going to evict page 1. OK, that's what's going\nto happen in a FIFO system",
    "start": "627340",
    "end": "633690"
  },
  {
    "text": "because one was the first\none that was loaded. But a least recently\nused approach says instead of evicting\nthe first thing that",
    "start": "633690",
    "end": "640590"
  },
  {
    "text": "was put into the cache, we want\nto evict the last thing that was read from the cache. So in this case, if I do one,\ntwo, three, two, one, and then",
    "start": "640590",
    "end": "648520"
  },
  {
    "text": "I get four, the last thing\nthat was read was three, and that's what I'll\nevict from the cache. So, if you think about the\nintuition behind these two",
    "start": "648520",
    "end": "655520"
  },
  {
    "text": "policies, you sort of realized\nthat this FIFO approach has a problem,\nwhich is that it's",
    "start": "655520",
    "end": "662139"
  },
  {
    "text": "sort of contrary to this notion\nof locality of reference, right, because it\ndoesn't capture anything",
    "start": "662140",
    "end": "667370"
  },
  {
    "text": "about how frequently a\ndata item is accessed",
    "start": "667370",
    "end": "674589"
  },
  {
    "text": "or when it was last accessed. It throws the sort of first\naccess thing out of the cache",
    "start": "674590",
    "end": "679830"
  },
  {
    "text": "even if that first access\nthing is read all the time. LRU sort of captures the\nintuition which we want,",
    "start": "679830",
    "end": "686300"
  },
  {
    "text": "which is that something\nthat's been accessed recently is likely to be accessed again. And something that hasn't\nbeen accessed very recently",
    "start": "686300",
    "end": "693230"
  },
  {
    "text": "is less likely to\nbe accessed again. So it sort of captures\nour intuitive idea",
    "start": "693230",
    "end": "698790"
  },
  {
    "text": "that we want locality\nof reference. So the text talks\nmuch more carefully about these different\npage removal policies.",
    "start": "698790",
    "end": "704533"
  },
  {
    "text": "But anytime you see\nanybody talk about a cache, you should sort of immediately\nthink to ask the question,",
    "start": "704533",
    "end": "709688"
  },
  {
    "text": "well, what's the page removal\npolicy that's being used?  OK, so that basically does it\nfor our discussion of caching",
    "start": "709689",
    "end": "719230"
  },
  {
    "text": "and of performance that\nwe started last time. And what we're\ngoing to do now is move on to the topic\nof networking, OK?",
    "start": "719230",
    "end": "727840"
  },
  {
    "text": "So -- So a computer network,\nyou guys should all be familiar",
    "start": "727840",
    "end": "749030"
  },
  {
    "text": "of what the idea of a\ncomputer network is. It's some sort of a\nconnection that connects",
    "start": "749030",
    "end": "754100"
  },
  {
    "text": "multiple computers together. So why are we interested in\nstudying a computer network?",
    "start": "754100",
    "end": "760625"
  },
  {
    "text": "What is it that's relevant\nabout a computer network for the purposes of this class? And there's really sort\nof two primary reasons.",
    "start": "760625",
    "end": "767410"
  },
  {
    "text": "The first one is that\ncomputer networks are commonly used as components of systems.",
    "start": "767410",
    "end": "774052"
  },
  {
    "text": " OK, so anytime we are building\na big computer system,",
    "start": "774052",
    "end": "779589"
  },
  {
    "text": "it's very likely it's going\nto involve a computer network. So it's going to\nbe important for us",
    "start": "779590",
    "end": "785210"
  },
  {
    "text": "to understand what the\nproperties of computer networks are, and how computer networks\naffect the design of our system",
    "start": "785210",
    "end": "791270"
  },
  {
    "text": "if you want to use them\neffectively in our systems. And computer networks\nhave a number of uses in the computer systems.",
    "start": "791270",
    "end": "797450"
  },
  {
    "text": "They do things like allow us\nto overcome geographic limits. So what you guys are all\nfamiliar with the ability",
    "start": "797450",
    "end": "807719"
  },
  {
    "text": "of the Internet to\nallow you to check the score of some\nsporting game that's happening on the other\nside of the country,",
    "start": "807719",
    "end": "813400"
  },
  {
    "text": "or to be able to send an e-mail\nto your parents back home.",
    "start": "813400",
    "end": "819750"
  },
  {
    "text": "So obviously, being able\nto sort of transmit data over long distances is\nclearly a good thing for many kinds of systems.",
    "start": "819750",
    "end": "826639"
  },
  {
    "text": "They also allow us to\naccess remote data. ",
    "start": "826640",
    "end": "831779"
  },
  {
    "text": "And this is related to the\nother thing, to the other one. But if you have data\nthat's not on your computer that you want to\nget a hold of, you",
    "start": "831780",
    "end": "837920"
  },
  {
    "text": "may want to contact\nyour bank and ask them for your bank balance. And then finally\nthey can be used",
    "start": "837920",
    "end": "845490"
  },
  {
    "text": "to physically separate\na client and a server. ",
    "start": "845490",
    "end": "852650"
  },
  {
    "text": "So we talked about\nthe last few lectures, we spent a while\ntalking about the fact",
    "start": "852650",
    "end": "859320"
  },
  {
    "text": "that we can use things like\nthreads and address spaces in order to provide a sort\nof enforced modularity",
    "start": "859320",
    "end": "864870"
  },
  {
    "text": "between modules running\non the same computer. But there are lots of\nsituations in which we want to actually physically\nseparate the client",
    "start": "864870",
    "end": "871200"
  },
  {
    "text": "and the server, right? Your bank doesn't\nreally want you to be running your copy of\nQuicken on their server,",
    "start": "871200",
    "end": "878010"
  },
  {
    "text": "right, because this notion of\nenforced modularity we talked about isn't a perfect\nseparation between the client",
    "start": "878010",
    "end": "883620"
  },
  {
    "text": "and the server, whereas\nputting these things on really separate machines that are only\nconnected by this network that",
    "start": "883620",
    "end": "889110"
  },
  {
    "text": "is controlled by this piece of\nhardware that's this network card that sort of talks with the\nnetwork, that's a good reason",
    "start": "889110",
    "end": "896690"
  },
  {
    "text": "may be to separate these\nthings from each other. And then finally, the\nsecond major reason why we want to study\nnetworks is simply",
    "start": "896690",
    "end": "903890"
  },
  {
    "text": "that they themselves are\nan interesting computer system, OK?",
    "start": "903890",
    "end": "910089"
  },
  {
    "text": "So we talked in\nthe first lecture about some of the interesting\nsort of properties that big computer systems have. Well, there's not\nmany computer systems",
    "start": "910090",
    "end": "917332"
  },
  {
    "text": "that are bigger than\nthe Internet, right? It's a perfect example of\nthe giant complex interesting",
    "start": "917332",
    "end": "922389"
  },
  {
    "text": "system with all sorts of\ncomplicated behaviors. And we'll talk about some of\nthose complicated behaviors today as we overview networks.",
    "start": "922390",
    "end": "930220"
  },
  {
    "text": " So the goal of our discussion\nof networking in some sense",
    "start": "930220",
    "end": "938990"
  },
  {
    "text": "is going to be to develop\na set of tools that allow us to have universal\ncommunication between a number",
    "start": "938990",
    "end": "946980"
  },
  {
    "text": "of different clients. OK. ",
    "start": "946980",
    "end": "957410"
  },
  {
    "text": "So what do I mean by that? Suppose I have some\ncollection of machines,",
    "start": "957410",
    "end": "963250"
  },
  {
    "text": "which I'll just draw\nas little boxes that are scattered around.",
    "start": "963250",
    "end": "968740"
  },
  {
    "text": "And they are connected together. What we want to do is to\nconnect these guys together, OK?",
    "start": "968740",
    "end": "975130"
  },
  {
    "text": "And the network system\nthat we are going to design is going to be the\ninterconnect that allows these got to talk to each other.",
    "start": "975130",
    "end": "981980"
  },
  {
    "text": "And what we want\nthis network to be able to provide at\na very high level is the ability to do\nany-to-any communication.",
    "start": "981980",
    "end": "987265"
  },
  {
    "text": " OK, so if this is\nA and this is D,",
    "start": "987265",
    "end": "994399"
  },
  {
    "text": "we want to A to be able to\nsend a message to D or anybody else who's in this network. And that should be true for any\nof the pairs that we can find.",
    "start": "994400",
    "end": "1002190"
  },
  {
    "text": "And so, in some\nsense, what we're going to do over the course\nof the next couple of weeks is sort of see how we\ndesign this cloud that",
    "start": "1002190",
    "end": "1009060"
  },
  {
    "text": "sits in between all these\ndifferent computers. If you like, you can sort\nof think of this cloud. Often times, the Internet\nis represented as a cloud.",
    "start": "1009060",
    "end": "1016200"
  },
  {
    "text": "It's just some black box that\nyou sort of send messages into with an address. And on the other\nside, the message",
    "start": "1016200",
    "end": "1022950"
  },
  {
    "text": "pops out at the other end. So, we're going to\ndive into this cloud and see what happens\ninside of it.",
    "start": "1022950",
    "end": "1028980"
  },
  {
    "text": "So, in order to\nstart to understand",
    "start": "1028980",
    "end": "1038790"
  },
  {
    "text": "some of the challenges\nof building this cloud, we are going to start\nlooking top down.",
    "start": "1038790",
    "end": "1046692"
  },
  {
    "text": "We're going to look\nat the biggest issues that we have to deal\nwith, and then we're going to break up those issues\ninto some smaller pieces.",
    "start": "1046692",
    "end": "1052360"
  },
  {
    "text": "So - - OK, so what\nare the issues",
    "start": "1052360",
    "end": "1060630"
  },
  {
    "text": "that sort is immediately\npop out when you first start thinking about the\nproperties of a network? Well, so there's some\ntechnological issues which",
    "start": "1060630",
    "end": "1071710"
  },
  {
    "text": "have to do with things like\nthe physical medium over which you're transmitting messages,\nor the properties of the links",
    "start": "1071710",
    "end": "1078990"
  },
  {
    "text": "over which you're\ntransmitting them, the rates at which you can\nsend data, the lost rate,",
    "start": "1078990",
    "end": "1084370"
  },
  {
    "text": "the percentage of messages\nthat get lost by the link as it's transmitted. So those are the\nkinds of things we",
    "start": "1084370",
    "end": "1089498"
  },
  {
    "text": "mean by technological concerns. And so one kind of\ntechnological concern is this,",
    "start": "1089498",
    "end": "1097159"
  },
  {
    "text": "is sort of the different\nkinds of technology that we might use\nfor transmission. And we saw this notion of D\ntechnology over DT before.",
    "start": "1097160",
    "end": "1106639"
  },
  {
    "text": "It's just this idea\nthat technology, just like the technology\nin your computer system has been evolving\ndramatically over time.",
    "start": "1106640",
    "end": "1113174"
  },
  {
    "text": "The technology of networks has\nbeen evolving dramatically. And we're going to\nsort of study some of the range of\ndifferent technologies",
    "start": "1113174",
    "end": "1119610"
  },
  {
    "text": "that we have to deal with. There also are a set of limits,\ntechnological, physical,",
    "start": "1119610",
    "end": "1125850"
  },
  {
    "text": "fundamental limits that are\nassociated with networks. So, these are things like\nthe speed of light, OK?",
    "start": "1125850",
    "end": "1133820"
  },
  {
    "text": "We simply can't send messages\nfaster than the speed of light,",
    "start": "1133820",
    "end": "1139009"
  },
  {
    "text": "right? These are messages that are\nbeing transmitted [down wire?]. And they propagate\nat some speed. And that's going to be\nfundamentally a bottleneck",
    "start": "1139010",
    "end": "1146010"
  },
  {
    "text": "in the design of\na computer system. If I have to send\na message from here to California, that\nmessage isn't going",
    "start": "1146010",
    "end": "1151110"
  },
  {
    "text": "to get there any sooner\nthan the amount of time it takes for light to\ntravel across the country.",
    "start": "1151110",
    "end": "1156790"
  },
  {
    "text": "And the amount of\ntime that it takes to transmit a message\nacross the country is nontrivial in computer time.",
    "start": "1156790",
    "end": "1162570"
  },
  {
    "text": "It might be a couple\nhundred milliseconds. And that's a long time\nas we saw before it when we have a processor\nthat connects one",
    "start": "1162570",
    "end": "1168320"
  },
  {
    "text": "billion instructions a second. OK, so the other\ninteresting issue",
    "start": "1168320",
    "end": "1174950"
  },
  {
    "text": "that's going to come\nout about networks is that networks are a\nshared infrastructure, OK? ",
    "start": "1174950",
    "end": "1185710"
  },
  {
    "text": "What that means is that there\nare multiple users who are simultaneously using a network. You guys, of course, all know\nthis from using the Internet.",
    "start": "1185710",
    "end": "1192760"
  },
  {
    "text": "And all the networks that\nwe study in this class are basically a\nshared infrastructure. And we'll talk in\na minute about why",
    "start": "1192760",
    "end": "1199130"
  },
  {
    "text": "the networks are fundamentally\nalmost always going to be sort of shared.",
    "start": "1199130",
    "end": "1204515"
  },
  {
    "text": "They're going to\nhave to transmit data for multiple different\nusers at the same time. And that's going to present\na number of challenges",
    "start": "1204515",
    "end": "1210413"
  },
  {
    "text": "about how we ensure that\nthe network is fair, that everybody gets\nto send their data when they want to send\ndata, how we sort of",
    "start": "1210413",
    "end": "1217740"
  },
  {
    "text": "allow multiple people to\naccess the same physical wire at the same point in time.",
    "start": "1217740",
    "end": "1223250"
  },
  {
    "text": "OK, so what I want to do is\nI'll talk about these two things now in order.",
    "start": "1223250",
    "end": "1228636"
  },
  {
    "text": "I'm going to start off by\ntalking about technology. So -- So the first interesting\ntechnological problem,",
    "start": "1228636",
    "end": "1255720"
  },
  {
    "text": "which I've already mentioned\nis that these networks are extremely diverse. They are heterogeneous.",
    "start": "1255720",
    "end": "1261920"
  },
  {
    "text": "OK, networking technology\nhas evolved a great deal in the past 20 years or 30\nyears since networks first",
    "start": "1261920",
    "end": "1270240"
  },
  {
    "text": "started being designed. And that means there is a\nhuge sort of range of devices that we might have to\ntransmit data over.",
    "start": "1270240",
    "end": "1277390"
  },
  {
    "text": "So let me show you what I mean. This is just a graph showing\nthe rate of transmission,",
    "start": "1277390",
    "end": "1283520"
  },
  {
    "text": "the sort of number\nof bits per second that you can send over\ndifferent networking protocols. And the thing to take\naway from this first",
    "start": "1283520",
    "end": "1289470"
  },
  {
    "text": "is to note that on\nthe Y axis here, this is an exponential scale.",
    "start": "1289470",
    "end": "1295539"
  },
  {
    "text": "So the technology\nat the very bottom, things like early\ntelephone modems, could maybe send data\nat 10 kb per second,",
    "start": "1295540",
    "end": "1303640"
  },
  {
    "text": "whereas these sort of high-end\nrouter class devices that are running the Internet or sort\nof very fast desktop Ethernet",
    "start": "1303640",
    "end": "1314120"
  },
  {
    "text": "kinds of connections\nthat are coming out today can send more like,\nsay, in this case we",
    "start": "1314120",
    "end": "1319580"
  },
  {
    "text": "have 10 Tb a second, right,\nso one times ten to the tenth.",
    "start": "1319580",
    "end": "1326890"
  },
  {
    "text": "So we are talking about a factor\nof ten to the seventh or ten to the eighth difference\nin performance",
    "start": "1326890",
    "end": "1332270"
  },
  {
    "text": "in terms of the number of bits\nthat these different kinds of devices can\nactually transmit. So, that's pretty dramatic.",
    "start": "1332270",
    "end": "1337860"
  },
  {
    "text": "And that's going to make it\ndifficult to design computer systems. ",
    "start": "1337860",
    "end": "1348190"
  },
  {
    "text": "OK, and these\nkinds of variations occur not only at\nthe sort of number",
    "start": "1348190",
    "end": "1357490"
  },
  {
    "text": "of bits that we can\nsend per second,",
    "start": "1357490",
    "end": "1363940"
  },
  {
    "text": "but also in terms of the\npropagation delay of the links,",
    "start": "1363940",
    "end": "1369149"
  },
  {
    "text": "OK? So if I have a local\narea network that's connecting two computers\nin my office together,",
    "start": "1369150",
    "end": "1375591"
  },
  {
    "text": "I may be able to transmit\na message from one computer to the other in an order\nof microseconds, OK? But as we said before,\nto send a message",
    "start": "1375592",
    "end": "1382040"
  },
  {
    "text": "all the way across the\ncountry might take 200 ms. To send a message\nacross the Pacific Ocean",
    "start": "1382040",
    "end": "1388309"
  },
  {
    "text": "by way of the satellite\naround the United States might take a second. To send a message\nto Mars might take",
    "start": "1388310",
    "end": "1394990"
  },
  {
    "text": "tens of seconds or a minute. OK, so there's this huge range\nin terms of transmission times that some of these\ndifferent links have.",
    "start": "1394990",
    "end": "1401356"
  },
  {
    "text": " So, fundamentally these\ntwo things, bit rate",
    "start": "1401356",
    "end": "1408690"
  },
  {
    "text": "and propagation delay\nare going to tell us how long we would expect it to\ntake for a message to travel",
    "start": "1408690",
    "end": "1417660"
  },
  {
    "text": "from one place to the other. So for example,\nthe amount of time,",
    "start": "1417660",
    "end": "1423470"
  },
  {
    "text": "so we can think of a\ncommunication link, if you like, as being a piece of\npipe, which has some width that",
    "start": "1423470",
    "end": "1433990"
  },
  {
    "text": "is the bit rate.",
    "start": "1433990",
    "end": "1439230"
  },
  {
    "text": "OK, so the width of the\npipe is the number of bits that I can cram down this thing. So, a wider pipe I can\nshove more data down it.",
    "start": "1439230",
    "end": "1446240"
  },
  {
    "text": "But no matter how much data I\ncan shove down it per second, there still is some link\nto this pipe, right?",
    "start": "1446240",
    "end": "1452600"
  },
  {
    "text": "And that's the sort of\nseparation between the sender and receiver.",
    "start": "1452600",
    "end": "1457809"
  },
  {
    "text": "And that's bottlenecked,\nas we said before, by the speed of light. And that's going to\naffect how long it",
    "start": "1457810",
    "end": "1463139"
  },
  {
    "text": "takes for a message to get from,\nsay, one endpoint to the other. So if you think\nabout the total time",
    "start": "1463140",
    "end": "1468670"
  },
  {
    "text": "to transmit a message\nfrom one guy to the other, it's going to be\nthe amount of time it takes to pack the bits into\nthe beginning of the pipe,",
    "start": "1468670",
    "end": "1475909"
  },
  {
    "text": "right, and then\nthe amount of time that it takes for all those\nbits to come out the other end.",
    "start": "1475910",
    "end": "1485319"
  },
  {
    "text": "So it's going to be some\ncombination of the propagation delay plus the\ntransmission delay. The propagation\ndelay is just going",
    "start": "1485319",
    "end": "1491520"
  },
  {
    "text": "to be equal to length\ndivided by, say, for example,",
    "start": "1491520",
    "end": "1502760"
  },
  {
    "text": "the speed of light. And we're going to need to\nadd to that the transmission",
    "start": "1502760",
    "end": "1508100"
  },
  {
    "text": "delay, which is simply going\nto be the number of bits we have to send divided by the\nbit rate, the number of bits",
    "start": "1508100",
    "end": "1516200"
  },
  {
    "text": "per second. OK, and so this is the time\nto send along one link.",
    "start": "1516200",
    "end": "1527260"
  },
  {
    "text": " OK, so it's worth remembering\nthat this time to send",
    "start": "1527260",
    "end": "1535800"
  },
  {
    "text": "equation, this is only to\nsend along a single link. If we have to send more data,\nif there are multiple people,",
    "start": "1535800",
    "end": "1542659"
  },
  {
    "text": "for example, who are waiting\nto get access to a link, that may increase the delay\nthat it takes to send a message.",
    "start": "1542660",
    "end": "1550020"
  },
  {
    "text": "Or if we have to relay a\nmessage over multiple hops and there are some intermediate\nnode in between each of those hops, then that\nsort of processing",
    "start": "1550020",
    "end": "1556590"
  },
  {
    "text": "at each intermediate node\nmay take some additional time as well. OK, so if we look\nat a graph of some",
    "start": "1556590",
    "end": "1567370"
  },
  {
    "text": "of the properties\nof networks, it's interesting to sort of\nlook at the rate of change",
    "start": "1567370",
    "end": "1572710"
  },
  {
    "text": "of these different technologies. So this is just showing\nwhat Moore's Law is. So we saw this before. Processor speed\ndoubles every 18 months",
    "start": "1572710",
    "end": "1579679"
  },
  {
    "text": "according to Moore's Law. If you look at the size of\nthe Internet, so the number",
    "start": "1579680",
    "end": "1585009"
  },
  {
    "text": "of things that we have\nto connect together, well, that's been\ndoubling every 13 months. So this has this sort\nof exponential behavior",
    "start": "1585009",
    "end": "1592022"
  },
  {
    "text": "that Moore's Law has as well. So we are talking about\nsort of the number of things that we have to connect\ntogether is just",
    "start": "1592022",
    "end": "1597730"
  },
  {
    "text": "growing at this massive rate. And that's a real\nchallenge for designing the kinds of protocols\nthat we are going to need",
    "start": "1597730",
    "end": "1604590"
  },
  {
    "text": "to use in these networks. The other thing that we\nsee that's been going up",
    "start": "1604590",
    "end": "1609700"
  },
  {
    "text": "at the same rate or even faster\nis the amount of traffic that's being sent over the Internet. So more and more people\nare sending data.",
    "start": "1609700",
    "end": "1615110"
  },
  {
    "text": "And again, this\naffects the sort of, this is the challenge\nfor designing protocols that are able to scale up and\nup and up to these greater",
    "start": "1615110",
    "end": "1622740"
  },
  {
    "text": "and greater rates. The largest link capacity\nin the past few years",
    "start": "1622740",
    "end": "1630120"
  },
  {
    "text": "has actually started to go up as\nfast as double once every seven months. So this is the size of\nthe largest pipe that's",
    "start": "1630120",
    "end": "1637220"
  },
  {
    "text": "on the Internet, say, connecting\nlots of these big service providers on the\nInternet together.",
    "start": "1637220",
    "end": "1642649"
  },
  {
    "text": "And this is just been getting\nlarger and larger and larger as well. And so that's,\nagain, means in order",
    "start": "1642650",
    "end": "1647850"
  },
  {
    "text": "to exploit all this\nadditional link capacity, we need faster computers. And the rate of\nchange of technology",
    "start": "1647850",
    "end": "1657140"
  },
  {
    "text": "is just extremely high. Interestingly enough,\nof course, as we said before, the speed\nof light never changes.",
    "start": "1657140",
    "end": "1662802"
  },
  {
    "text": "So this is a\nfundamental constraint that we're always going\nto have to deal with when we are building these things. That is also the case\nthat if you look at,",
    "start": "1662802",
    "end": "1668897"
  },
  {
    "text": "there's another number\nthat you can look at. And in the context\nof the Internet, this number is, this is\nbits per second per dollar.",
    "start": "1668897",
    "end": "1676620"
  },
  {
    "text": "OK, so what does that mean? This is the amount\nof money that it",
    "start": "1676620",
    "end": "1683130"
  },
  {
    "text": "costs to, for example,\nsend one bit per second over the Internet.",
    "start": "1683130",
    "end": "1688240"
  },
  {
    "text": "And this number just has not\nbeen scaling up very fast. If you look at\nthis, it's a factor of ten cheaper today\nthan it was in 1980",
    "start": "1688240",
    "end": "1696409"
  },
  {
    "text": "to send the same amount\nof data per second out over the Internet.",
    "start": "1696410",
    "end": "1702710"
  },
  {
    "text": "So, why is that?",
    "start": "1702710",
    "end": "1708356"
  },
  {
    "text": "That seems strange, right? I mean, if you look at the\nfundamental technology, the technology itself\nhas gotten much faster.",
    "start": "1708357",
    "end": "1713650"
  },
  {
    "text": "If you look at the\nEthernet network that you might have in\nyour home or your office, this thing has\ngotten, in 1980 you",
    "start": "1713650",
    "end": "1721092"
  },
  {
    "text": "might have had one\nmegabit a second that you could transmit\nover this Ethernet. You can now, for $100\ngo to Best Buy and buy",
    "start": "1721092",
    "end": "1727174"
  },
  {
    "text": "something that can\ntransmit a gigabit a second over an Ethernet. OK, so we are talking about\na huge scale up in technology",
    "start": "1727174",
    "end": "1732480"
  },
  {
    "text": "in terms of the performance\nof the networks. The issue here is that\nthere is a human cost that's",
    "start": "1732480",
    "end": "1738730"
  },
  {
    "text": "associated with sending\ndata out over the Internet. And if I want to send data\nfrom here to California,",
    "start": "1738730",
    "end": "1746429"
  },
  {
    "text": "there's a physical wire that\nthat data has to transfer over, right? And somebody owns that wire.",
    "start": "1746430",
    "end": "1751780"
  },
  {
    "text": "And it cost somebody\na lot of money to cut the holes in the\nground where that wire runs and to knock holes\nthrough buildings",
    "start": "1751780",
    "end": "1757899"
  },
  {
    "text": "and to get rights\nfrom all the cities that that wire runs through\nto dig holes in their roads, right? So, there is some\nvery large human cost",
    "start": "1757900",
    "end": "1764240"
  },
  {
    "text": "associated with setting up\nthese sort of very wide area internets. And you see the\nsame kind of thing",
    "start": "1764240",
    "end": "1769850"
  },
  {
    "text": "not just in wire but\nin wireless technology with wireless companies\npaying huge amounts of money for access to the rights\nto use a particular part",
    "start": "1769850",
    "end": "1777460"
  },
  {
    "text": "of the wireless spectrum. So this is these bits\nper second per dollar is growing slowly, OK, and the\nreason for that is human costs.",
    "start": "1777460",
    "end": "1786870"
  },
  {
    "start": "1786870",
    "end": "1792160"
  },
  {
    "text": "OK, and what this\nargues for, what this suggests that\nwe are going to need to do when we are\nbuilding these internets",
    "start": "1792160",
    "end": "1797820"
  },
  {
    "text": "or building these\nlarge networks is to share these network links. So, if every time we added\na new host to the network,",
    "start": "1797820",
    "end": "1806180"
  },
  {
    "text": "we had to run a wire\nthat connected it to every other host\nin the network.",
    "start": "1806180",
    "end": "1812559"
  },
  {
    "text": "Obviously, that would\nbe hugely expensive, so we want to avoid that. And so, we are going\nto end up because",
    "start": "1812560",
    "end": "1818400"
  },
  {
    "text": "of these costs of physically\nrunning the wires having to share network connections.",
    "start": "1818400",
    "end": "1824100"
  },
  {
    "text": "And that brings us to\nsort of the next topic that I want to talk about,\nwhich is this topic of sharing.",
    "start": "1824100",
    "end": "1830320"
  },
  {
    "start": "1830320",
    "end": "1840509"
  },
  {
    "text": "OK, so just that\neverybody is clear, this notion of having\npair-wise links,",
    "start": "1840510",
    "end": "1846370"
  },
  {
    "text": "a connection from every\nhost every other host is just not practical. So suppose I have them\nset of nodes like this,",
    "start": "1846370",
    "end": "1853560"
  },
  {
    "text": "if I want to connect\nall of them together by their own set of\nindependent wires,",
    "start": "1853560",
    "end": "1858810"
  },
  {
    "text": "I don't know if I got\nall of them there, but then the cost is going\nto be, if I have N hosts,",
    "start": "1858810",
    "end": "1867220"
  },
  {
    "text": "the cost is going to\nbe N squared wires. OK, and that is just\ntoo expensive, right?",
    "start": "1867220",
    "end": "1875772"
  },
  {
    "text": "If you have a\nmillion hosts, you're going to have a trillion wires. So we don't want to be\nbuilding anything that has",
    "start": "1875772",
    "end": "1881450"
  },
  {
    "text": "a trillion components in it. It's going to be really,\nreally expensive to deploy.",
    "start": "1881450",
    "end": "1886890"
  },
  {
    "text": "So what we end up\ndoing is multiplexing.",
    "start": "1886890",
    "end": "1893710"
  },
  {
    "text": "OK, so what do I mean by that? I mean this notion\nof sharing links.",
    "start": "1893710",
    "end": "1898990"
  },
  {
    "text": "So let's look at\na very simplified kind of an architecture for\nsomething like the Internet.",
    "start": "1898990",
    "end": "1904669"
  },
  {
    "start": "1904670",
    "end": "1909740"
  },
  {
    "text": "So suppose I have two hosts, two\nnodes, two computers, A and B",
    "start": "1909740",
    "end": "1915350"
  },
  {
    "text": "that I want to be able\nto communicate over a network to some other\npair of nodes, C and D. OK, well in a multiplex\nnetwork, what we're going to do",
    "start": "1915350",
    "end": "1924410"
  },
  {
    "text": "is we're going to have a\nset of these boxes that are going to connect\nthese nodes together.",
    "start": "1924410",
    "end": "1931010"
  },
  {
    "start": "1931010",
    "end": "1939460"
  },
  {
    "text": "So I just sort of shown one\npossible network topology. But with these boxes are, they\nare sometimes called switches.",
    "start": "1939460",
    "end": "1946905"
  },
  {
    "text": " And they are the\nconnection points",
    "start": "1946905",
    "end": "1952220"
  },
  {
    "text": "that are scattered\nin various locations around the Internet\nthat transfer data from one location to the other.",
    "start": "1952220",
    "end": "1958210"
  },
  {
    "text": "So in your home, you may\nwell have what's sometimes",
    "start": "1958210",
    "end": "1963620"
  },
  {
    "text": "called a wireless router. That's the thing that\ntransfers data from the air onto a wire network. You may have a box\nfrom your cable company",
    "start": "1963620",
    "end": "1969990"
  },
  {
    "text": "that transfers data from\nyour home out over the cable. And then the cable\ncompany itself has a box that transfers\ndata to some other service",
    "start": "1969990",
    "end": "1977600"
  },
  {
    "text": "provider, which may be transfers\ndata across the country, which transfers data into the home of\nwhoever you're trying to send,",
    "start": "1977600",
    "end": "1982920"
  },
  {
    "text": "or the business\nof whoever you're trying to send a message to. So you have this set of what\nwe are calling switches here",
    "start": "1982920",
    "end": "1988660"
  },
  {
    "text": "that connect all these\nvarious hosts together. And these hosts clearly,\nthere are connections here",
    "start": "1988660",
    "end": "1995550"
  },
  {
    "text": "that are sharing data. So if I look at this link here,\nif both A and B are trying",
    "start": "1995550",
    "end": "2000730"
  },
  {
    "text": "to send data to\nC, clearly there's going to be some data for both\nA and B traveling on this wire.",
    "start": "2000730",
    "end": "2007870"
  },
  {
    "text": "And so, what we end up\nwith is, sorry, so there",
    "start": "2007870",
    "end": "2018400"
  },
  {
    "text": "is a set of issues that\nare brought up by the fact that we are sharing this\ndata, and that we have",
    "start": "2018400",
    "end": "2024020"
  },
  {
    "text": "this kind of switched\ninfrastructure which we are running\ndata around in. So the first issue\nthat we need to talk",
    "start": "2024020",
    "end": "2029660"
  },
  {
    "text": "about that obviously comes\nup is this notion of routing. OK, so when you see\na graph like this",
    "start": "2029660",
    "end": "2035970"
  },
  {
    "text": "and you ask the\nquestion, well, OK, how does A get its data to C? We have to pick\nsome route which A",
    "start": "2035970",
    "end": "2042520"
  },
  {
    "text": "is going to take\nalong this path,",
    "start": "2042520",
    "end": "2047530"
  },
  {
    "text": "through this network\nin order to get to C. And, there are a couple of\ndifferent alternatives, right? So, any time you're\nsending a message,",
    "start": "2047530",
    "end": "2054440"
  },
  {
    "text": "there has to be something that\nplans out how that route is going to be transmitted. And commonly what\nhappens is that each one",
    "start": "2054440",
    "end": "2060933"
  },
  {
    "text": "of these intermediate\npoints along the network has some table which says how\nto get to every other location",
    "start": "2060934",
    "end": "2067179"
  },
  {
    "text": "within the network. And we'll talk about\nhow those tables work, how these tables that talk about\nwhere to forward your messages",
    "start": "2067179",
    "end": "2074090"
  },
  {
    "text": "to work. But when a node has multiple\nsort of possible locations where it can send data out\nto, typically that node",
    "start": "2074090",
    "end": "2081040"
  },
  {
    "text": "is called a router. OK, so if you hear\nthe term router, just think of it as one of\nthese switch things that gets to make a decision about\nwhere some kind of traffic",
    "start": "2081040",
    "end": "2088138"
  },
  {
    "text": "is going to be sent to. OK, so now what we\nneed to do in order",
    "start": "2088139",
    "end": "2096980"
  },
  {
    "text": "to think a little bit more\nabout how these switches work is to resolve the issue of\nhow we multiplex traffic",
    "start": "2096980",
    "end": "2105859"
  },
  {
    "text": "over one of these links. So we said there may be\ntraffic for both A and B running on this\nlink going into D.",
    "start": "2105860",
    "end": "2112356"
  },
  {
    "text": "Well, so how are we going\nto interleave the traffic from A and B in order\nto make this work? And there are two techniques.",
    "start": "2112356",
    "end": "2120200"
  },
  {
    "text": "We call this technique\nfor interleaving data,",
    "start": "2120200",
    "end": "2125980"
  },
  {
    "text": "we call it switching\nor multiplexing. And we're going to talk about\ntwo techniques for switching.",
    "start": "2125980",
    "end": "2134299"
  },
  {
    "text": "We're going to talk\nabout circuit switching. And we'll talk about\npacket switching.",
    "start": "2134300",
    "end": "2144109"
  },
  {
    "text": "So circuit switching\nis pretty easy to understand at\nan intuitive level. The idea with the\ncircuit switch is",
    "start": "2144110",
    "end": "2150338"
  },
  {
    "text": "that we want to set up\nsome reserved channel that is the communication channel\nbetween two endpoints,",
    "start": "2150338",
    "end": "2156670"
  },
  {
    "text": "say for example, A and C. So, a simple way if you want to\nthink about circuit switching is to think about the way that\nphone networks used to work.",
    "start": "2156670",
    "end": "2166440"
  },
  {
    "text": "So you may have seen these old\nmovies where the operator would plug wires into a switchboard.",
    "start": "2166440",
    "end": "2171480"
  },
  {
    "text": "What an operator is doing\nthere is establishing a physical circuit, a\nphysical wire that connects",
    "start": "2171480",
    "end": "2177100"
  },
  {
    "text": "two endpoints together. OK, so that's circuit switching. Each operator has a\nbunch of lines coming in",
    "start": "2177100",
    "end": "2183060"
  },
  {
    "text": "and a bunch of lines coming out. Somebody connects\nto the operator and says I want\nto talk to line A.",
    "start": "2183060",
    "end": "2188839"
  },
  {
    "text": "And the operator establishes\nthe physical connection. So, of course we don't\nuse that technology",
    "start": "2188840",
    "end": "2194760"
  },
  {
    "text": "for doing circuit\nswitching anymore, but this notion of\ncircuit switching is still used in the\ntelephone system.",
    "start": "2194760",
    "end": "2201920"
  },
  {
    "text": "And the way that a common\ndigital telephone system might work is as follows.",
    "start": "2201920",
    "end": "2208099"
  },
  {
    "text": "So the idea is that suppose I\nhave some set of nodes A, B,",
    "start": "2208100",
    "end": "2215970"
  },
  {
    "text": "and C, all of which want to send\ntheir data out over some line.",
    "start": "2215970",
    "end": "2221480"
  },
  {
    "text": "So they are connecting\nup to some switch. And they want us their\ndata out over this switch,",
    "start": "2221480",
    "end": "2228230"
  },
  {
    "text": "out over this wire that is on\nthe other side of this switch. OK, so what this kind of\nswitching that we are going",
    "start": "2228230",
    "end": "2236220"
  },
  {
    "text": "to talk about does, which is\ncommonly called TDM for Time Division Multiplexing -- ",
    "start": "2236220",
    "end": "2251890"
  },
  {
    "text": "is to give each\none of these nodes, A, B, and C, a\nlittle unit of time",
    "start": "2251890",
    "end": "2257190"
  },
  {
    "text": "in which only its traffic is\nbeing transmitted on this wire. So if you think of\nthis wire as having",
    "start": "2257190",
    "end": "2265350"
  },
  {
    "text": "one additional\npiece of information put on at each unit of time, and\nthis is the wire stretching out",
    "start": "2265350",
    "end": "2271410"
  },
  {
    "text": "away from the host so\nthat this is sort of time is going this way as the signal\npropagates down the wire.",
    "start": "2271410",
    "end": "2277079"
  },
  {
    "text": "And if you were to look at all\nthe different messages that are on the wire, what you see\nis sort of a repeating pattern",
    "start": "2277080",
    "end": "2282960"
  },
  {
    "text": "of time intervals. And each of these time\nintervals would be carved up into a number of slots.",
    "start": "2282960",
    "end": "2288480"
  },
  {
    "start": "2288480",
    "end": "2294600"
  },
  {
    "text": "OK, and each slot is allocated\nto exactly one of these nodes.",
    "start": "2294600",
    "end": "2302440"
  },
  {
    "text": "And each node gets the\nsame slot and each one of these larger intervals. OK, so you'd see a pattern\nlike A's traffic, B's traffic,",
    "start": "2302440",
    "end": "2309110"
  },
  {
    "text": "C's traffic, and so on. And then in the next\ninterval we would have A's traffic, B's traffic,\nand C's traffic again.",
    "start": "2309110",
    "end": "2314620"
  },
  {
    "text": "So there would be\nthis repeating pattern where each node is associated\nto the same slot in every one",
    "start": "2314620",
    "end": "2320250"
  },
  {
    "text": "of these intervals, OK? And we call the data\nthat, say, for example, A puts into a slot a frame.",
    "start": "2320250",
    "end": "2328050"
  },
  {
    "text": "The frame is sort\nof the set of data that is allocated to a node.",
    "start": "2328050",
    "end": "2335150"
  },
  {
    "text": "And, so this is\nbasically the way that circuit switching works. And it's almost exactly the\nway that the phone network",
    "start": "2335150",
    "end": "2341399"
  },
  {
    "text": "works now. So a phone network\ncarves up the wire into a bunch of these\nlittle slots where each conversation is allocated\none of these sort of frames",
    "start": "2341399",
    "end": "2351140"
  },
  {
    "text": "in each interval. So in a typical phone network,\na frame might be eight bits.",
    "start": "2351140",
    "end": "2357250"
  },
  {
    "text": "And there might be\nthese intervals. There might be 8,000\nof them per second. OK, so we have 8,000\nintervals per second.",
    "start": "2357250",
    "end": "2366250"
  },
  {
    "text": "OK, and so what that means is\nthat if each frame is eight",
    "start": "2366250",
    "end": "2372510"
  },
  {
    "text": "bits and there is\n8,000 intervals, each sender can send\n64,000 bits per second. And, it turns out that\n64,000 bits per second",
    "start": "2372510",
    "end": "2379980"
  },
  {
    "text": "is about enough to be\nable to encode voice at a sort of acceptable\nlevel for people.",
    "start": "2379980",
    "end": "2387830"
  },
  {
    "text": "So we can talk about the\ncapacity of this channel by basically looking\nat the number of frames",
    "start": "2387830",
    "end": "2393950"
  },
  {
    "text": "that are in one interval. So if we say there are N\nmax frames in one interval,",
    "start": "2393950",
    "end": "2399230"
  },
  {
    "text": "then that specifies the\nnumber of conversations that we can simultaneously\nmaintain on this wire.",
    "start": "2399230",
    "end": "2405400"
  },
  {
    "text": "OK, so the behavior of one of\nthese circuit-switched systems is as follows: everybody\nwho's having a conversation",
    "start": "2405400",
    "end": "2411210"
  },
  {
    "text": "has bandwidth allocated to\nthem, and has a frame allocated to them in every interval. So, up to N max conversations\ncan be held simultaneously",
    "start": "2411210",
    "end": "2419530"
  },
  {
    "text": "and there's no problem. But as soon as we\nget to the N max plus first guy tries\nto initiate a call,",
    "start": "2419530",
    "end": "2426930"
  },
  {
    "text": "the network will simply refuse\nto accept that connection because there's no slot\navailable for this guy to do his communication.",
    "start": "2426930",
    "end": "2433820"
  },
  {
    "text": "And the last little detail about\nhow these circuit switches work is how do we actually\nestablish a connection",
    "start": "2433820",
    "end": "2440930"
  },
  {
    "text": "in the first place? And we need some protocol\nfor actually resorting",
    "start": "2440930",
    "end": "2447650"
  },
  {
    "text": "to a slot for a\nparticular connection between a pair of endpoints. And so typically\nwhat you will do",
    "start": "2447650",
    "end": "2452900"
  },
  {
    "text": "is reserve some frame\nor set of frames to carry information that's\nused to configure the connection",
    "start": "2452900",
    "end": "2458550"
  },
  {
    "text": "between the endpoints. So, A can request that\nan interval be assigned",
    "start": "2458550",
    "end": "2464360"
  },
  {
    "text": "to its connection\nbetween C, and then it will be by communicating\nduring a special frame.",
    "start": "2464360",
    "end": "2472570"
  },
  {
    "text": "OK, so that's circuit switching. But, circuit switching\nhas a problem.",
    "start": "2472570",
    "end": "2480834"
  },
  {
    "text": "And we're going to need to\nintroduce this notion of packet switching to deal with it. ",
    "start": "2480834",
    "end": "2489010"
  },
  {
    "text": "OK, so the reason that circuit\nswitching has a problem is as follows: because although\ncircuit switching works",
    "start": "2489010",
    "end": "2494920"
  },
  {
    "text": "great for voice where every\nconversation is essentially a continuous stream of audio\nthat can always be encoded",
    "start": "2494920",
    "end": "2501390"
  },
  {
    "text": "at about 64 kb per second,\nInternet traffic just doesn't work like that, right?",
    "start": "2501390",
    "end": "2506750"
  },
  {
    "text": "People who are communicating\non the Internet can have very variable demands\nfor the amount of traffic that they want to send.",
    "start": "2506750",
    "end": "2512120"
  },
  {
    "text": "And even taken as an aggregate,\ntaking all the people who are, say, for example at the\ncommunity of MIT over time,",
    "start": "2512120",
    "end": "2518700"
  },
  {
    "text": "there still is a\nlot of variation in the network demand. So this is just a plot over the\ncourse of the day with samples",
    "start": "2518700",
    "end": "2525600"
  },
  {
    "text": "taken every five minutes\nof the amount of traffic that was being sent out\nof one of MIT's labs.",
    "start": "2525600",
    "end": "2533421"
  },
  {
    "text": "OK, and so you don't need\nto worry too much about what these different lines show. But the point is that there\nare these periodic spikes.",
    "start": "2533421",
    "end": "2539630"
  },
  {
    "text": "And these spikes represent\nspikes of traffic demand a different\nmachines on the network.",
    "start": "2539630",
    "end": "2545730"
  },
  {
    "text": "So you can see that at any\ngiven point in time, there can be anywhere\nfrom, at its lowest,",
    "start": "2545730",
    "end": "2551280"
  },
  {
    "text": "these numbers are about 40 Mb\nper second to numbers as high",
    "start": "2551280",
    "end": "2558430"
  },
  {
    "text": "as 100 Mb a second. So there's a lot of variation\nin the demand at MIT's network.",
    "start": "2558430",
    "end": "2563817"
  },
  {
    "text": "Here's another way of\nlooking at the same traffic. This is an interesting graph. This is showing the\namount of traffic that different protocols use.",
    "start": "2563817",
    "end": "2570710"
  },
  {
    "text": "This is a real graph by the way. This is showing the\namount of traffic that is transmitted over MIT's\nnetwork for different types",
    "start": "2570710",
    "end": "2578660"
  },
  {
    "text": "of protocols. And what you see here is that\nit's really pretty amazing. You see that Kazaa, this\nfile trading network,",
    "start": "2578660",
    "end": "2585309"
  },
  {
    "text": "is using up a vast majority of\nthe traffic that we send out of MIT.",
    "start": "2585310",
    "end": "2591589"
  },
  {
    "text": "But besides that, there's\nanother interesting point which is that noticed during the\nmonths of October and November,",
    "start": "2591590",
    "end": "2597760"
  },
  {
    "text": "the two leftmost\nlines here, we are sending a lot more traffic than\nduring the month of December.",
    "start": "2597760",
    "end": "2602940"
  },
  {
    "text": "So, if you were at\nMIT and are trying to plan how much traffic you\nexpected to be transmitted during a month,\nthis makes it hard",
    "start": "2602940",
    "end": "2608849"
  },
  {
    "text": "because there was a 50% drop\nin the amount of traffic from one month on\nthis Kazaa network.",
    "start": "2608850",
    "end": "2614010"
  },
  {
    "text": "So we need to introduce\nthis notion of packet switching to deal with this\nproblem of unpredictable rates.",
    "start": "2614010",
    "end": "2620150"
  },
  {
    "start": "2620150",
    "end": "2627940"
  },
  {
    "text": "OK, so in many kinds\nof data networks, it's simply not\npossible to predict",
    "start": "2627940",
    "end": "2634306"
  },
  {
    "text": "exactly how much traffic\nyou're going to need to send at any point in time. And so the idea is\nto use something",
    "start": "2634306",
    "end": "2640010"
  },
  {
    "text": "called asynchronous multiplexing\ninstead of time division multiplexing. ",
    "start": "2640010",
    "end": "2650059"
  },
  {
    "text": "And the idea is as follows. Suppose we have our three nodes,\nA, B, and C all transmitting",
    "start": "2650060",
    "end": "2657560"
  },
  {
    "text": "data through some\nswitch out over a wire just like we did before.",
    "start": "2657560",
    "end": "2662936"
  },
  {
    "text": "If you look at\nthe traffic that's being transmitted on this\nwire, what you'll see",
    "start": "2662936",
    "end": "2668250"
  },
  {
    "text": "is that it's not\nnecessarily going to have the same regular\npattern that we had before.",
    "start": "2668250",
    "end": "2675170"
  },
  {
    "text": "The idea is that\nany node is allowed to try and start talking on this\nwire any time that it wants. It's asynchronous.",
    "start": "2675170",
    "end": "2681269"
  },
  {
    "text": "It's not timed. There's no regular slots when\nnodes are required to transmit. So this might be traffic for A.",
    "start": "2681270",
    "end": "2687280"
  },
  {
    "text": "This might be traffic for A. This might be traffic\nfor B, A, A, and C.",
    "start": "2687280",
    "end": "2693530"
  },
  {
    "text": "OK, so what this\nsuggests, and noticed",
    "start": "2693530",
    "end": "2699880"
  },
  {
    "text": "that these packages of data\nthat are being transmitted are of different sizes.",
    "start": "2699880",
    "end": "2704980"
  },
  {
    "text": "Typically these\nare called packets. And that's what this\nis packet switching because we are sending the full\npackages of information that",
    "start": "2704980",
    "end": "2711740"
  },
  {
    "text": "are of a variable size as\nopposed to these fixed size frames that we were\ntransmitting before. And notice that there is no\nrequirement that A transmitted",
    "start": "2711740",
    "end": "2718850"
  },
  {
    "text": "any specific time. A is allowed to try and\ntransmit as much as it wants. But this does\nintroduce a complexity",
    "start": "2718850",
    "end": "2725250"
  },
  {
    "text": "because it makes it hard\nto plan for the capacity of the network. So suppose that\neach of A, B, and C",
    "start": "2725250",
    "end": "2730569"
  },
  {
    "text": "have a 1 Mb per second link, and\nsuppose that this link is also",
    "start": "2730570",
    "end": "2736320"
  },
  {
    "text": "1 Mb per second.  Now, clearly if A, B, and C\nare rarely sending any traffic,",
    "start": "2736320",
    "end": "2743829"
  },
  {
    "text": "then everybody\nmay be able to get all its data onto the network. But if A, B, and C\nall decide that they",
    "start": "2743830",
    "end": "2748869"
  },
  {
    "text": "want to send at the same\ntime at 1 Mb per second, then there's going to be\na problem because they're",
    "start": "2748870",
    "end": "2753900"
  },
  {
    "text": "going to be trying to send\nmore data over this link them the link has capacity for. And so what that\nimmediately suggests",
    "start": "2753900",
    "end": "2760210"
  },
  {
    "text": "is that in these boxes, in\nthese packet switch networks, there is some kind of a queue. OK, so we're doing queuing\nwithin the network.",
    "start": "2760210",
    "end": "2766610"
  },
  {
    "start": "2766610",
    "end": "2772400"
  },
  {
    "text": "But it also, so you\nmight ask the question,",
    "start": "2772400",
    "end": "2777970"
  },
  {
    "text": "why don't network designers\ndesign these packet switch networks so that you\nnever have a link that's",
    "start": "2777970",
    "end": "2785559"
  },
  {
    "text": "connecting multiple\nendpoints together that doesn't have sufficient\ncapacity to transmit all of the information from all\nof the endpoints that may",
    "start": "2785560",
    "end": "2792830"
  },
  {
    "text": "be transmitting data over it? But if you think about\nthis for a second, that's going to be\na really bad idea.",
    "start": "2792830",
    "end": "2798171"
  },
  {
    "text": "So suppose we are\non the Internet. And suppose that I am\ndesigning simple website.",
    "start": "2798171",
    "end": "2804829"
  },
  {
    "text": "I want to set up a website\nfor students of 6.033. If I needed to make sure\nthat that website had",
    "start": "2804830",
    "end": "2810410"
  },
  {
    "text": "sufficient bandwidth that\ncould support connections from everybody who\nis on the Internet just in case everybody who's on\nthe Internet decided to access",
    "start": "2810410",
    "end": "2818130"
  },
  {
    "text": "that website at\nexactly the same time, I would be in big\ntrouble, right, because I would have to\nhave hundreds of terabits",
    "start": "2818130",
    "end": "2823431"
  },
  {
    "text": "of bandwidth available\nto me in order to be able to support that. So clearly I'm not\ngoing to do that.",
    "start": "2823431",
    "end": "2829079"
  },
  {
    "text": "Instead, what I'm going to do\nas a network designer is simply try and ensure that most\nof the time my network has",
    "start": "2829079",
    "end": "2834614"
  },
  {
    "text": "enough bandwidth\navailable for the users were going to be accessing it. But some of the time,\nthere may not be. I may sort of under-provision\nthe network, may not",
    "start": "2834614",
    "end": "2842630"
  },
  {
    "text": "provide enough resources. And so during those times\nwhen the network has",
    "start": "2842630",
    "end": "2850550"
  },
  {
    "text": "more data that's trying\nto be sent over it than it could possibly send, we\ncall those congestion times.",
    "start": "2850550",
    "end": "2856690"
  },
  {
    "text": "And when a network is subject\nto long periods of congestion, these queues that are sitting\nin the network may fill up.",
    "start": "2856690",
    "end": "2862900"
  },
  {
    "text": "So these queues are\nsome fixed size. They are stored typically\nin RAM on a device, and they can over-fill.",
    "start": "2862900",
    "end": "2868430"
  },
  {
    "text": "And when they over-fill, we\nhave to do something about it. OK, so this problem of\ncongestion in networks",
    "start": "2868430",
    "end": "2874970"
  },
  {
    "text": "leads to all sorts of kind\nof interesting trade-offs in the design of these\npacket switch networks.",
    "start": "2874970",
    "end": "2881340"
  },
  {
    "text": "And typically the bottom\nline is basically, and we'll talk about\nthis in much more detail,",
    "start": "2881340",
    "end": "2887990"
  },
  {
    "text": "but the bottom line is\ntypically these packet switch networks have to be able\nto drop data some of the time.",
    "start": "2887990",
    "end": "2894220"
  },
  {
    "text": "If a queue over-fills,\nthe network has no choice but to refuse\nto transmit data for somebody. But because these packet\nswitch networks are composed",
    "start": "2894220",
    "end": "2901920"
  },
  {
    "text": "of multiple routers\nalong the way, it may be that the data\nis actually dropped deep in the network by some router\nnot when I first try and send",
    "start": "2901920",
    "end": "2909000"
  },
  {
    "text": "the data, but five hops down the\nline the data may be dropped. And so these kinds\nof things complicate",
    "start": "2909000",
    "end": "2917790"
  },
  {
    "text": "the design of these systems. Queuing means there's\nvariable delay. OK, and congestion means\nthere may be data that's lost.",
    "start": "2917790",
    "end": "2924220"
  },
  {
    "text": "And to deal with lost, we may\nhave to retransmit packets. And so this gets the sort\nof fundamental notion",
    "start": "2924220",
    "end": "2932500"
  },
  {
    "text": "that's going to come up in the\ndesign of these packet switch networks, and that's\nthat the extraction",
    "start": "2932500",
    "end": "2937990"
  },
  {
    "text": "that these packet\nswitch networks provides is so-called best\neffort networking.",
    "start": "2937990",
    "end": "2943099"
  },
  {
    "text": " And that means at\nthe lowest level,",
    "start": "2943100",
    "end": "2950660"
  },
  {
    "text": "these networks don't\nguarantee that the data that you send over them\nwill actually be delivered. All they say is\nthe network is sort",
    "start": "2950660",
    "end": "2957180"
  },
  {
    "text": "of promising that it\nwill try hard to get the data to be delivered. But you as a user,\nthe applications that",
    "start": "2957180",
    "end": "2963000"
  },
  {
    "text": "are using this run\nnetwork interface need to understand that\nthis variable delay, they need to\nunderstand that there's",
    "start": "2963000",
    "end": "2968410"
  },
  {
    "text": "congestion that can\nhappen which means that packets can be dropped. Congestion also means\nthat typically packets",
    "start": "2968410",
    "end": "2973680"
  },
  {
    "text": "may be retransmitted. And so that means\nthat all of your data may not arrive at the other end.",
    "start": "2973680",
    "end": "2979500"
  },
  {
    "text": "And so this is the best\neffort network abstraction, and we're going to talk about\nthese kinds of best effort",
    "start": "2979500",
    "end": "2984810"
  },
  {
    "text": "network abstractions exclusively\nfor the next several weeks as opposed to these\ncircuit switch networks.",
    "start": "2984810",
    "end": "2990132"
  },
  {
    "text": "And what we're\ngoing to do is we're going to see how we can build\nup a set of software that runs on top of these best\neffort networks that allows us",
    "start": "2990132",
    "end": "2996790"
  },
  {
    "text": "to provide things\nlike, for example, some reasonable guarantee of\nreliable delivery, that data",
    "start": "2996790",
    "end": "3004020"
  },
  {
    "text": "won't be lost as data is\ntransmitted over the network. So we will see how\nwe build up layers",
    "start": "3004020",
    "end": "3009730"
  },
  {
    "text": "on top of this\nbest effort network stack that allow us to provide\ncertain guarantees to the user.",
    "start": "3009730",
    "end": "3014760"
  },
  {
    "text": "So that's it for today, and\ntomorrow we will talk about, starting Monday we will\ntalk about the link layer",
    "start": "3014760",
    "end": "3020425"
  },
  {
    "text": "interface for these things. Don't forget about the exam. ",
    "start": "3020425",
    "end": "3029297"
  }
]