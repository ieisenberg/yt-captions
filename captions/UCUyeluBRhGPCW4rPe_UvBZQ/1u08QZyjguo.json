[
  {
    "text": "yo I'm gonna delete the postgres",
    "start": "1680",
    "end": "3780"
  },
  {
    "text": "directory on db2 should be safe yeah",
    "start": "3780",
    "end": "6299"
  },
  {
    "text": "yeah",
    "start": "6299",
    "end": "8600"
  },
  {
    "text": "classics sounds to me",
    "start": "8820",
    "end": "11599"
  },
  {
    "text": "is this actual",
    "start": "11599",
    "end": "15200"
  },
  {
    "text": "at 6 PM UTC a beautiful day in Silicon",
    "start": "18539",
    "end": "21660"
  },
  {
    "text": "Valley work was going on as usual at",
    "start": "21660",
    "end": "24119"
  },
  {
    "text": "gitlab HQ so do we know the person the",
    "start": "24119",
    "end": "27119"
  },
  {
    "text": "person that's making this uh video Kevin",
    "start": "27119",
    "end": "28920"
  },
  {
    "text": "Fang hit subscribe by the way hit",
    "start": "28920",
    "end": "31140"
  },
  {
    "text": "subscribe everybody and press like on",
    "start": "31140",
    "end": "32520"
  },
  {
    "text": "the video do we know like does this",
    "start": "32520",
    "end": "34440"
  },
  {
    "text": "person work does Kev does Kev work at",
    "start": "34440",
    "end": "37380"
  },
  {
    "text": "gitlab",
    "start": "37380",
    "end": "39660"
  },
  {
    "text": "it was a real event a few years back I",
    "start": "39660",
    "end": "41340"
  },
  {
    "text": "know that's why I'm questioning because",
    "start": "41340",
    "end": "42420"
  },
  {
    "text": "it looks like there's a lot of like good",
    "start": "42420",
    "end": "44399"
  },
  {
    "text": "stuff I'm very curious for uh poor Kevin",
    "start": "44399",
    "end": "46620"
  },
  {
    "text": "sounds a bit like fireship yeah just",
    "start": "46620",
    "end": "48180"
  },
  {
    "text": "kidding kitten lab is fully remote yeah",
    "start": "48180",
    "end": "50640"
  },
  {
    "text": "is a code sharing platform just like",
    "start": "50640",
    "end": "52860"
  },
  {
    "text": "GitHub except open source the main",
    "start": "52860",
    "end": "55440"
  },
  {
    "text": "character of the story team number one",
    "start": "55440",
    "end": "57480"
  },
  {
    "text": "was about to sign off stop footage not",
    "start": "57480",
    "end": "59640"
  },
  {
    "text": "actually aware of the disaster that was",
    "start": "59640",
    "end": "61680"
  },
  {
    "text": "ahead he was working in UTC time so one",
    "start": "61680",
    "end": "64559"
  },
  {
    "text": "of these countries unfortunately isn't",
    "start": "64559",
    "end": "67140"
  },
  {
    "text": "UTC time",
    "start": "67140",
    "end": "68939"
  },
  {
    "text": "all the places really when you think",
    "start": "68939",
    "end": "70799"
  },
  {
    "text": "about it it's supposed to be universal",
    "start": "70799",
    "end": "72119"
  },
  {
    "text": "time",
    "start": "72119",
    "end": "73320"
  },
  {
    "text": "this evening was interrupted at 6 PM",
    "start": "73320",
    "end": "75780"
  },
  {
    "text": "when he was paged in for high database",
    "start": "75780",
    "end": "77939"
  },
  {
    "text": "load after scrolling through the",
    "start": "77939",
    "end": "80400"
  },
  {
    "text": "dashboards he saw that the total number",
    "start": "80400",
    "end": "82320"
  },
  {
    "text": "of Snippets was Rising dramatically and",
    "start": "82320",
    "end": "84780"
  },
  {
    "text": "assumed the root cause was spam this was",
    "start": "84780",
    "end": "87540"
  },
  {
    "text": "a fair assumption as gitlab had been",
    "start": "87540",
    "end": "89460"
  },
  {
    "text": "experiencing similar spam issues in the",
    "start": "89460",
    "end": "91979"
  },
  {
    "text": "past week just less severe over the",
    "start": "91979",
    "end": "94380"
  },
  {
    "text": "hours the team attempted to block",
    "start": "94380",
    "end": "96180"
  },
  {
    "text": "certain monkeys this is a terrible",
    "start": "96180",
    "end": "99240"
  },
  {
    "text": "problem to have especially like right on",
    "start": "99240",
    "end": "100799"
  },
  {
    "text": "the weekend this is just a terrible",
    "start": "100799",
    "end": "102720"
  },
  {
    "text": "problem to have oh my goodness but that",
    "start": "102720",
    "end": "105479"
  },
  {
    "text": "sucks like this guy I can't believe we",
    "start": "105479",
    "end": "108479"
  },
  {
    "text": "live in a world",
    "start": "108479",
    "end": "109920"
  },
  {
    "text": "where people spend time and money",
    "start": "109920",
    "end": "112439"
  },
  {
    "text": "to hurt somebody else on the interwebs I",
    "start": "112439",
    "end": "115140"
  },
  {
    "text": "don't know I still have just a hard time",
    "start": "115140",
    "end": "116280"
  },
  {
    "text": "in general with that entire notion",
    "start": "116280",
    "end": "118439"
  },
  {
    "text": "it's just it's just wild clueless I'm",
    "start": "118439",
    "end": "121619"
  },
  {
    "text": "clueless",
    "start": "121619",
    "end": "122880"
  },
  {
    "text": "let's find this delete spam users",
    "start": "122880",
    "end": "126000"
  },
  {
    "text": "okay 99 p.m they were alerted to the",
    "start": "126000",
    "end": "128580"
  },
  {
    "text": "database having an elevated number of",
    "start": "128580",
    "end": "130500"
  },
  {
    "text": "locks I mean classic right transactions",
    "start": "130500",
    "end": "133020"
  },
  {
    "text": "are made to a record it will enforce and",
    "start": "133020",
    "end": "135120"
  },
  {
    "text": "lock forcing further rise to the record",
    "start": "135120",
    "end": "137160"
  },
  {
    "text": "to wait for the first one to finish this",
    "start": "137160",
    "end": "139920"
  },
  {
    "text": "ensures that the variets do not",
    "start": "139920",
    "end": "141420"
  },
  {
    "text": "interfere with each other more spam more",
    "start": "141420",
    "end": "143879"
  },
  {
    "text": "rights more locks more latency the",
    "start": "143879",
    "end": "146520"
  },
  {
    "text": "engineers continue to search for other",
    "start": "146520",
    "end": "148319"
  },
  {
    "text": "sources of stock footage again not",
    "start": "148319",
    "end": "150540"
  },
  {
    "text": "actually him everybody just in case",
    "start": "150540",
    "end": "151920"
  },
  {
    "text": "you're wondering",
    "start": "151920",
    "end": "153540"
  },
  {
    "text": "um",
    "start": "153540",
    "end": "154500"
  },
  {
    "text": "all right the engineer okay so here we",
    "start": "154500",
    "end": "156239"
  },
  {
    "text": "go this is I like this team number one",
    "start": "156239",
    "end": "158280"
  },
  {
    "text": "said he was gonna sign off as it was",
    "start": "158280",
    "end": "160319"
  },
  {
    "text": "getting late suddenly he didn't wake up",
    "start": "160319",
    "end": "162360"
  },
  {
    "text": "early this time for database replication",
    "start": "162360",
    "end": "165360"
  },
  {
    "text": "lag gitlab had two databases a primary",
    "start": "165360",
    "end": "168480"
  },
  {
    "text": "one and a secondary replica users will",
    "start": "168480",
    "end": "171480"
  },
  {
    "text": "write to the primary database",
    "start": "171480",
    "end": "174200"
  },
  {
    "text": "db1.cluster.getlab.com which will",
    "start": "174200",
    "end": "176040"
  },
  {
    "text": "forward the same right to the secondary",
    "start": "176040",
    "end": "177840"
  },
  {
    "text": "db2 the second database cluster was in",
    "start": "177840",
    "end": "180780"
  },
  {
    "text": "standby and only used for failover",
    "start": "180780",
    "end": "182819"
  },
  {
    "text": "purposes",
    "start": "182819",
    "end": "184340"
  },
  {
    "text": "it honestly just sounds like a cluster",
    "start": "184340",
    "end": "187980"
  },
  {
    "text": "this",
    "start": "187980",
    "end": "189780"
  },
  {
    "text": "I feel like these are like the worst",
    "start": "189780",
    "end": "191580"
  },
  {
    "text": "possible issues when on a Friday when",
    "start": "191580",
    "end": "194879"
  },
  {
    "text": "people don't even want to be there later",
    "start": "194879",
    "end": "196739"
  },
  {
    "text": "in the day",
    "start": "196739",
    "end": "199220"
  },
  {
    "text": "and like everything starts breaking",
    "start": "199319",
    "end": "201360"
  },
  {
    "text": "right like everything starts going wrong",
    "start": "201360",
    "end": "203519"
  },
  {
    "text": "I feel like I've I've had a similar",
    "start": "203519",
    "end": "206280"
  },
  {
    "text": "experience to this where everything goes",
    "start": "206280",
    "end": "208800"
  },
  {
    "text": "wrong and it's just like failure bleeds",
    "start": "208800",
    "end": "211500"
  },
  {
    "text": "into failure bleeds into failure and it",
    "start": "211500",
    "end": "213420"
  },
  {
    "text": "just feels like man",
    "start": "213420",
    "end": "216000"
  },
  {
    "text": "this is this is rough lesson they've",
    "start": "216000",
    "end": "218640"
  },
  {
    "text": "learned in the past where DB1 was a",
    "start": "218640",
    "end": "220739"
  },
  {
    "text": "single point of failure the process of",
    "start": "220739",
    "end": "222900"
  },
  {
    "text": "forwarding The Identical rights to db2",
    "start": "222900",
    "end": "225060"
  },
  {
    "text": "is called replication yeah and over four",
    "start": "225060",
    "end": "227459"
  },
  {
    "text": "gigabytes of data in DB1 failed to",
    "start": "227459",
    "end": "230099"
  },
  {
    "text": "replicate in db2 this was a novel issue",
    "start": "230099",
    "end": "233099"
  },
  {
    "text": "without proper documentation so team",
    "start": "233099",
    "end": "235260"
  },
  {
    "text": "number one stayed online to support the",
    "start": "235260",
    "end": "237299"
  },
  {
    "text": "team the database they used was",
    "start": "237299",
    "end": "239220"
  },
  {
    "text": "postgresql which had a command PG based",
    "start": "239220",
    "end": "242280"
  },
  {
    "text": "backup to create a backup from a live",
    "start": "242280",
    "end": "244440"
  },
  {
    "text": "database the plan was to remove the",
    "start": "244440",
    "end": "246900"
  },
  {
    "text": "existing incomplete data on db2 and to",
    "start": "246900",
    "end": "249540"
  },
  {
    "text": "write PG based backup to copy the",
    "start": "249540",
    "end": "251879"
  },
  {
    "text": "current DB1 dated there we go not fixing",
    "start": "251879",
    "end": "254879"
  },
  {
    "text": "any problems but",
    "start": "254879",
    "end": "257519"
  },
  {
    "text": "you know or fixing any sources of",
    "start": "257519",
    "end": "259320"
  },
  {
    "text": "problems but most certainly fixing some",
    "start": "259320",
    "end": "260760"
  },
  {
    "text": "problems feels good okay they're making",
    "start": "260760",
    "end": "262139"
  },
  {
    "text": "progress here I like db2 I probably",
    "start": "262139",
    "end": "264300"
  },
  {
    "text": "would have done something similar maybe",
    "start": "264300",
    "end": "265500"
  },
  {
    "text": "from there according to the plan team",
    "start": "265500",
    "end": "268020"
  },
  {
    "text": "number one SSH Dante BB2",
    "start": "268020",
    "end": "271340"
  },
  {
    "text": "removed the existing data and attempted",
    "start": "271340",
    "end": "274080"
  },
  {
    "text": "to run the command at first the command",
    "start": "274080",
    "end": "276360"
  },
  {
    "text": "would just hang seemingly doing nothing",
    "start": "276360",
    "end": "278220"
  },
  {
    "text": "but after retrying the command",
    "start": "278220",
    "end": "280560"
  },
  {
    "text": "complained that DB1 did not have enough",
    "start": "280560",
    "end": "282900"
  },
  {
    "text": "replication clients no problem team",
    "start": "282900",
    "end": "285720"
  },
  {
    "text": "number one proceeded to SSH onto DB1 and",
    "start": "285720",
    "end": "288780"
  },
  {
    "text": "increased this value in the config upon",
    "start": "288780",
    "end": "291419"
  },
  {
    "text": "attempting to reload postgres it",
    "start": "291419",
    "end": "293520"
  },
  {
    "text": "complained that there were too many open",
    "start": "293520",
    "end": "295199"
  },
  {
    "text": "connections which happens when Max",
    "start": "295199",
    "end": "297419"
  },
  {
    "text": "connections is set too high he lowered",
    "start": "297419",
    "end": "300300"
  },
  {
    "text": "this value and this time the settings",
    "start": "300300",
    "end": "301979"
  },
  {
    "text": "applied without issue going back to db2",
    "start": "301979",
    "end": "304680"
  },
  {
    "text": "he ran",
    "start": "304680",
    "end": "307340"
  },
  {
    "text": "have you can just raw dog access",
    "start": "309479",
    "end": "314060"
  },
  {
    "text": "the the fact that he is literally going",
    "start": "314460",
    "end": "317580"
  },
  {
    "text": "between terminals right now just like my",
    "start": "317580",
    "end": "320520"
  },
  {
    "text": "cackles are up and you're just feeling",
    "start": "320520",
    "end": "322919"
  },
  {
    "text": "bad because you know that",
    "start": "322919",
    "end": "325979"
  },
  {
    "text": "the CH like one time I deleted my home",
    "start": "325979",
    "end": "328680"
  },
  {
    "text": "directory okay and it's not",
    "start": "328680",
    "end": "331440"
  },
  {
    "text": "I would like to say I'm a semi-talented",
    "start": "331440",
    "end": "333840"
  },
  {
    "text": "engineer it happens okay like sometimes",
    "start": "333840",
    "end": "336660"
  },
  {
    "text": "you make mistakes it just happens and to",
    "start": "336660",
    "end": "339300"
  },
  {
    "text": "be bobbling around between two separate",
    "start": "339300",
    "end": "342139"
  },
  {
    "text": "terminals one where it's like",
    "start": "342139",
    "end": "345060"
  },
  {
    "text": "totally don't oopsie Daisy one terminal",
    "start": "345060",
    "end": "347880"
  },
  {
    "text": "and totally you can it's okay other oh",
    "start": "347880",
    "end": "350340"
  },
  {
    "text": "man",
    "start": "350340",
    "end": "351419"
  },
  {
    "text": "I also comp I have I've never heard the",
    "start": "351419",
    "end": "353759"
  },
  {
    "text": "story so this is very very very exciting",
    "start": "353759",
    "end": "357300"
  },
  {
    "text": "PG based back up again and once more it",
    "start": "357300",
    "end": "360000"
  },
  {
    "text": "appeared to just hang and do nothing at",
    "start": "360000",
    "end": "362460"
  },
  {
    "text": "this point frustration began to kick in",
    "start": "362460",
    "end": "364560"
  },
  {
    "text": "the engineers thought perhaps the prior",
    "start": "364560",
    "end": "366780"
  },
  {
    "text": "attempts to run bass backup before the",
    "start": "366780",
    "end": "368820"
  },
  {
    "text": "configuration changes had created some",
    "start": "368820",
    "end": "370919"
  },
  {
    "text": "buggy files in the data directory",
    "start": "370919",
    "end": "372900"
  },
  {
    "text": "interfering with the current run the fix",
    "start": "372900",
    "end": "375240"
  },
  {
    "text": "would be to remove these files again oh",
    "start": "375240",
    "end": "378240"
  },
  {
    "text": "no well might as well give it a shot",
    "start": "378240",
    "end": "380160"
  },
  {
    "text": "thought Team Member One a hard reset to",
    "start": "380160",
    "end": "382919"
  },
  {
    "text": "start on a clean slate so to say he",
    "start": "382919",
    "end": "385800"
  },
  {
    "text": "prepared the command to RM RF the",
    "start": "385800",
    "end": "388020"
  },
  {
    "text": "directory and ran it in his show",
    "start": "388020",
    "end": "391570"
  },
  {
    "text": "[Music]",
    "start": "391570",
    "end": "394690"
  },
  {
    "text": "gosh I feel so bad for this guy oh my",
    "start": "396900",
    "end": "400199"
  },
  {
    "text": "goodness oh no",
    "start": "400199",
    "end": "403819"
  },
  {
    "text": "no not RMR oh no",
    "start": "403819",
    "end": "409319"
  },
  {
    "text": "I should immediately after pressing",
    "start": "409319",
    "end": "411840"
  },
  {
    "text": "Enter he noticed the shell in which he",
    "start": "411840",
    "end": "413880"
  },
  {
    "text": "ran the command was the one connected to",
    "start": "413880",
    "end": "416160"
  },
  {
    "text": "the live production DB1 he slams control",
    "start": "416160",
    "end": "419280"
  },
  {
    "text": "C harder than he ever had before but it",
    "start": "419280",
    "end": "422280"
  },
  {
    "text": "was too late of the over 300 gigabytes",
    "start": "422280",
    "end": "424979"
  },
  {
    "text": "of data only 4.5 was left",
    "start": "424979",
    "end": "427800"
  },
  {
    "text": "if you recall a db2 was previously wiped",
    "start": "427800",
    "end": "430620"
  },
  {
    "text": "up data before writing the backup",
    "start": "430620",
    "end": "432360"
  },
  {
    "text": "command gitlab now officially had zero",
    "start": "432360",
    "end": "435300"
  },
  {
    "text": "data in any of their production database",
    "start": "435300",
    "end": "437699"
  },
  {
    "text": "servers",
    "start": "437699",
    "end": "440099"
  },
  {
    "text": "guys I may have just accidentally",
    "start": "440099",
    "end": "441900"
  },
  {
    "text": "deleted DB1",
    "start": "441900",
    "end": "444979"
  },
  {
    "text": "hello Good Golly what a way to end a",
    "start": "451319",
    "end": "453780"
  },
  {
    "text": "Friday evening",
    "start": "453780",
    "end": "455940"
  },
  {
    "text": "you know what I just rmrf to DB1 out of",
    "start": "455940",
    "end": "459660"
  },
  {
    "text": "existence please tell me this is real",
    "start": "459660",
    "end": "461699"
  },
  {
    "text": "looks like we need to call for some",
    "start": "461699",
    "end": "463680"
  },
  {
    "text": "backup the team scrambled to find a",
    "start": "463680",
    "end": "466380"
  },
  {
    "text": "backup of the production data they",
    "start": "466380",
    "end": "468360"
  },
  {
    "text": "checked for the database backups that",
    "start": "468360",
    "end": "470160"
  },
  {
    "text": "were supposed to be uploaded to S3 but",
    "start": "470160",
    "end": "472740"
  },
  {
    "text": "there was nothing there then they",
    "start": "472740",
    "end": "474479"
  },
  {
    "text": "checked for disk snapshots but they",
    "start": "474479",
    "end": "476280"
  },
  {
    "text": "found they didn't actually take these",
    "start": "476280",
    "end": "478020"
  },
  {
    "text": "snapshots for their database servers as",
    "start": "478020",
    "end": "480000"
  },
  {
    "text": "they assumed the other backup procedures",
    "start": "480000",
    "end": "481860"
  },
  {
    "text": "were sufficiently they checked for",
    "start": "481860",
    "end": "484319"
  },
  {
    "text": "logical volume snapshots or backups of",
    "start": "484319",
    "end": "486660"
  },
  {
    "text": "the file system gitlab had a staging",
    "start": "486660",
    "end": "489000"
  },
  {
    "text": "database for testing which periodically",
    "start": "489000",
    "end": "491039"
  },
  {
    "text": "captured snapshots from DB1 to remain up",
    "start": "491039",
    "end": "493800"
  },
  {
    "text": "to date with prod these snapshots were",
    "start": "493800",
    "end": "496020"
  },
  {
    "text": "normally captured once every 24 hours",
    "start": "496020",
    "end": "498060"
  },
  {
    "text": "but luckily team member one had taken a",
    "start": "498060",
    "end": "500520"
  },
  {
    "text": "snapshot six hours before that okay now",
    "start": "500520",
    "end": "503340"
  },
  {
    "text": "there were two choices they could copy",
    "start": "503340",
    "end": "505500"
  },
  {
    "text": "either the entire lvm snapshot or just",
    "start": "505500",
    "end": "508080"
  },
  {
    "text": "the postgres data directory from staging",
    "start": "508080",
    "end": "510300"
  },
  {
    "text": "to prod the amount of data was similar",
    "start": "510300",
    "end": "512700"
  },
  {
    "text": "in both options but they opted to copy",
    "start": "512700",
    "end": "515039"
  },
  {
    "text": "the data directory yes that would be",
    "start": "515039",
    "end": "516899"
  },
  {
    "text": "easier to restore from problem was their",
    "start": "516899",
    "end": "519539"
  },
  {
    "text": "staging environment used as your classic",
    "start": "519539",
    "end": "521580"
  },
  {
    "text": "in a different region without premium",
    "start": "521580",
    "end": "523800"
  },
  {
    "text": "storage which they cannot retroactively",
    "start": "523800",
    "end": "526440"
  },
  {
    "text": "upgrade therefore limiting data transfer",
    "start": "526440",
    "end": "528600"
  },
  {
    "text": "of rates to around 60 megabits per",
    "start": "528600",
    "end": "530580"
  },
  {
    "text": "second copying the data to production",
    "start": "530580",
    "end": "532680"
  },
  {
    "text": "took a solid 18 hours and nearly 24",
    "start": "532680",
    "end": "535680"
  },
  {
    "text": "hours later gitlab was back up to normal",
    "start": "535680",
    "end": "538500"
  },
  {
    "text": "operation the only caveat was that all",
    "start": "538500",
    "end": "541140"
  },
  {
    "text": "database data such as projects issues",
    "start": "541140",
    "end": "543420"
  },
  {
    "text": "and Snippets created in the six hours",
    "start": "543420",
    "end": "545339"
  },
  {
    "text": "between the lvm snapshot and the outage",
    "start": "545339",
    "end": "548100"
  },
  {
    "text": "were pertinently lost",
    "start": "548100",
    "end": "550260"
  },
  {
    "text": "[Laughter]",
    "start": "550260",
    "end": "554790"
  },
  {
    "text": "[Music]",
    "start": "554790",
    "end": "557889"
  },
  {
    "text": "who uses azure",
    "start": "564440",
    "end": "569120"
  },
  {
    "text": "[Music]",
    "start": "574160",
    "end": "576180"
  },
  {
    "text": "oh my goodness imagine being a billion",
    "start": "576180",
    "end": "579000"
  },
  {
    "text": "dollar company",
    "start": "579000",
    "end": "580440"
  },
  {
    "text": "and you can't go faster than 60 megabits",
    "start": "580440",
    "end": "583440"
  },
  {
    "text": "a second like imagine being in that",
    "start": "583440",
    "end": "585480"
  },
  {
    "text": "position be like we'll just I'll give",
    "start": "585480",
    "end": "587040"
  },
  {
    "text": "you a hundred thousand dollars right now",
    "start": "587040",
    "end": "588720"
  },
  {
    "text": "and they're like",
    "start": "588720",
    "end": "591000"
  },
  {
    "text": "Sorry rules rules are rules can't",
    "start": "591000",
    "end": "594120"
  },
  {
    "text": "upgrade you",
    "start": "594120",
    "end": "596160"
  },
  {
    "text": "nothing can do about it sorry",
    "start": "596160",
    "end": "599820"
  },
  {
    "text": "this affected around 5000 projects 5 000",
    "start": "599820",
    "end": "602820"
  },
  {
    "text": "comments and 700 users during the backup",
    "start": "602820",
    "end": "605820"
  },
  {
    "text": "restore process progress was tracked in",
    "start": "605820",
    "end": "608100"
  },
  {
    "text": "a publicly visible Google doc and they",
    "start": "608100",
    "end": "610380"
  },
  {
    "text": "even had a recovery stream on YouTube",
    "start": "610380",
    "end": "613279"
  },
  {
    "text": "it was discovered that the replication",
    "start": "613279",
    "end": "615660"
  },
  {
    "text": "lag was actually caused by a background",
    "start": "615660",
    "end": "617760"
  },
  {
    "text": "job trying to delete a gitlab employees",
    "start": "617760",
    "end": "620459"
  },
  {
    "text": "account due to it being reported for",
    "start": "620459",
    "end": "622500"
  },
  {
    "text": "abuse by a troll in combination with the",
    "start": "622500",
    "end": "624899"
  },
  {
    "text": "other spam postgres maintains right it",
    "start": "624899",
    "end": "628019"
  },
  {
    "text": "was it was even part of the original",
    "start": "628019",
    "end": "629640"
  },
  {
    "text": "problem oh my goodness that is so",
    "start": "629640",
    "end": "633000"
  },
  {
    "text": "awesome oh that is so good head logs on",
    "start": "633000",
    "end": "637680"
  },
  {
    "text": "disk every operation is first written to",
    "start": "637680",
    "end": "640260"
  },
  {
    "text": "these logs before being applied to the",
    "start": "640260",
    "end": "642540"
  },
  {
    "text": "database this way if the database",
    "start": "642540",
    "end": "644579"
  },
  {
    "text": "crashes and restarts in the middle of a",
    "start": "644579",
    "end": "647040"
  },
  {
    "text": "database edit the logs can be used to",
    "start": "647040",
    "end": "649740"
  },
  {
    "text": "restore the database to a consistent",
    "start": "649740",
    "end": "651779"
  },
  {
    "text": "State more pertinent to the issue at",
    "start": "651779",
    "end": "654180"
  },
  {
    "text": "hand right ahead logs are also sent to",
    "start": "654180",
    "end": "656579"
  },
  {
    "text": "db2 for replication there is a maximum",
    "start": "656579",
    "end": "659459"
  },
  {
    "text": "disk usage configured for these so old",
    "start": "659459",
    "end": "662040"
  },
  {
    "text": "logs will be deleted when the limit is",
    "start": "662040",
    "end": "664140"
  },
  {
    "text": "reached the large employee removal",
    "start": "664140",
    "end": "666420"
  },
  {
    "text": "operation plus the spammers caused so",
    "start": "666420",
    "end": "669120"
  },
  {
    "text": "many operations that logs which hadn't",
    "start": "669120",
    "end": "671399"
  },
  {
    "text": "been sent to db2 yet were deleted",
    "start": "671399",
    "end": "673740"
  },
  {
    "text": "thereby causing db2 to become",
    "start": "673740",
    "end": "676019"
  },
  {
    "text": "permanently out of sync they also",
    "start": "676019",
    "end": "678360"
  },
  {
    "text": "discovered that the database backups",
    "start": "678360",
    "end": "680339"
  },
  {
    "text": "weren't uploaded to S3 because the",
    "start": "680339",
    "end": "682560"
  },
  {
    "text": "server which was taking the database",
    "start": "682560",
    "end": "684360"
  },
  {
    "text": "backups was using the wrong version of",
    "start": "684360",
    "end": "688700"
  },
  {
    "text": "this is so funny",
    "start": "689519",
    "end": "692839"
  },
  {
    "text": "oh my goodness who even really needs",
    "start": "692839",
    "end": "695820"
  },
  {
    "text": "type so we even need types in",
    "start": "695820",
    "end": "697079"
  },
  {
    "text": "programming languages when there's these",
    "start": "697079",
    "end": "698459"
  },
  {
    "text": "kind of Errors okay this is where all",
    "start": "698459",
    "end": "699899"
  },
  {
    "text": "the real errors happen anyways come on",
    "start": "699899",
    "end": "702000"
  },
  {
    "text": "distress these failures should have sent",
    "start": "702000",
    "end": "704519"
  },
  {
    "text": "warning emails but they never received",
    "start": "704519",
    "end": "706680"
  },
  {
    "text": "any of them because they forgot to",
    "start": "706680",
    "end": "708240"
  },
  {
    "text": "enable dmarc authentication on the",
    "start": "708240",
    "end": "710459"
  },
  {
    "text": "backup server",
    "start": "710459",
    "end": "713180"
  },
  {
    "text": "logging onto production servers changing",
    "start": "713820",
    "end": "716220"
  },
  {
    "text": "configs and running random untested",
    "start": "716220",
    "end": "718260"
  },
  {
    "text": "commands is obviously not the best",
    "start": "718260",
    "end": "720300"
  },
  {
    "text": "situation to be in but it's good",
    "start": "720300",
    "end": "722220"
  },
  {
    "text": "practice to let someone else review",
    "start": "722220",
    "end": "723839"
  },
  {
    "text": "exactly what command you're running and",
    "start": "723839",
    "end": "726180"
  },
  {
    "text": "where you're running it before you've",
    "start": "726180",
    "end": "727800"
  },
  {
    "text": "run it for real how many I do think that",
    "start": "727800",
    "end": "729899"
  },
  {
    "text": "that is really really important which if",
    "start": "729899",
    "end": "731640"
  },
  {
    "text": "you're gonna rmrf on a production server",
    "start": "731640",
    "end": "734519"
  },
  {
    "text": "especially one involving data",
    "start": "734519",
    "end": "738079"
  },
  {
    "text": "never hurts to double check like it just",
    "start": "738120",
    "end": "740399"
  },
  {
    "text": "it just doesn't it just never hurts to",
    "start": "740399",
    "end": "742560"
  },
  {
    "text": "double check",
    "start": "742560",
    "end": "744920"
  },
  {
    "text": "ever",
    "start": "745019",
    "end": "746040"
  },
  {
    "text": "how many times have you asked someone a",
    "start": "746040",
    "end": "747839"
  },
  {
    "text": "question only to immediately realize",
    "start": "747839",
    "end": "749579"
  },
  {
    "text": "what the answer was or submit a pull",
    "start": "749579",
    "end": "751740"
  },
  {
    "text": "request and immediately find 300 bugs",
    "start": "751740",
    "end": "754260"
  },
  {
    "text": "that you overlooked yeah you're in the",
    "start": "754260",
    "end": "756060"
  },
  {
    "text": "zone it's easy to tunnel vision and make",
    "start": "756060",
    "end": "758339"
  },
  {
    "text": "mistakes a mental race the second one",
    "start": "758339",
    "end": "760440"
  },
  {
    "text": "actually that second one is such a good",
    "start": "760440",
    "end": "762180"
  },
  {
    "text": "observation do you look at your own pull",
    "start": "762180",
    "end": "764579"
  },
  {
    "text": "requests",
    "start": "764579",
    "end": "766320"
  },
  {
    "text": "there I find the most amount of problems",
    "start": "766320",
    "end": "769320"
  },
  {
    "text": "with my code when I look at my pull",
    "start": "769320",
    "end": "771720"
  },
  {
    "text": "request not in my editor",
    "start": "771720",
    "end": "774660"
  },
  {
    "text": "right I always look at the diff first",
    "start": "774660",
    "end": "777200"
  },
  {
    "text": "because it just helps me see it in a",
    "start": "777200",
    "end": "780720"
  },
  {
    "text": "whole new like I don't know I don't know",
    "start": "780720",
    "end": "783180"
  },
  {
    "text": "what it is but when I make a PR looking",
    "start": "783180",
    "end": "786839"
  },
  {
    "text": "at it in the pr view like enables a",
    "start": "786839",
    "end": "789899"
  },
  {
    "text": "whole new brain mode right it's like",
    "start": "789899",
    "end": "793079"
  },
  {
    "text": "find the mode whereas like the",
    "start": "793079",
    "end": "794880"
  },
  {
    "text": "other ones like make it this one's like",
    "start": "794880",
    "end": "796680"
  },
  {
    "text": "find it's like a completely different",
    "start": "796680",
    "end": "797940"
  },
  {
    "text": "brain mode and if for whatever reason I",
    "start": "797940",
    "end": "799500"
  },
  {
    "text": "see things I could never see looking at",
    "start": "799500",
    "end": "801360"
  },
  {
    "text": "the code",
    "start": "801360",
    "end": "802680"
  },
  {
    "text": "I highly advise against it never never",
    "start": "802680",
    "end": "805500"
  },
  {
    "text": "look at your own code I overlooked when",
    "start": "805500",
    "end": "807899"
  },
  {
    "text": "you're in the zone it's easy to tunnel",
    "start": "807899",
    "end": "809880"
  },
  {
    "text": "vision and make mistakes a mental reset",
    "start": "809880",
    "end": "812399"
  },
  {
    "text": "or a second pair of eyes is always",
    "start": "812399",
    "end": "814320"
  },
  {
    "text": "helpful yep but the only reason they had",
    "start": "814320",
    "end": "816420"
  },
  {
    "text": "to go through all these Shenanigans is",
    "start": "816420",
    "end": "818459"
  },
  {
    "text": "because this replication lag scenario",
    "start": "818459",
    "end": "820740"
  },
  {
    "text": "was never tested or well documented no",
    "start": "820740",
    "end": "823980"
  },
  {
    "text": "one on the call was familiar with how PG",
    "start": "823980",
    "end": "826200"
  },
  {
    "text": "based backup worked and how it was",
    "start": "826200",
    "end": "828420"
  },
  {
    "text": "actually normal behavior for it to hang",
    "start": "828420",
    "end": "830459"
  },
  {
    "text": "for a bit so in fact all they had to do",
    "start": "830459",
    "end": "832680"
  },
  {
    "text": "was wait and everything would have been",
    "start": "832680",
    "end": "834480"
  },
  {
    "text": "fine",
    "start": "834480",
    "end": "835380"
  },
  {
    "text": "thorough load testing could have also",
    "start": "835380",
    "end": "837360"
  },
  {
    "text": "exposed this replication like issue",
    "start": "837360",
    "end": "839579"
  },
  {
    "text": "before it occurred in prod but it's",
    "start": "839579",
    "end": "841920"
  },
  {
    "text": "possible",
    "start": "841920",
    "end": "842839"
  },
  {
    "text": "they didn't have the same primary",
    "start": "842839",
    "end": "845220"
  },
  {
    "text": "secondary setup as production nothing's",
    "start": "845220",
    "end": "847860"
  },
  {
    "text": "worse than it's successful you you aired",
    "start": "847860",
    "end": "851399"
  },
  {
    "text": "successfully like",
    "start": "851399",
    "end": "853560"
  },
  {
    "text": "oh oh",
    "start": "853560",
    "end": "855839"
  },
  {
    "text": "such a noof which is a problem in and of",
    "start": "855839",
    "end": "858360"
  },
  {
    "text": "itself next after DB1 was deleted they",
    "start": "858360",
    "end": "861600"
  },
  {
    "text": "found that many of their backups were",
    "start": "861600",
    "end": "863160"
  },
  {
    "text": "broken these backup steps or more",
    "start": "863160",
    "end": "865440"
  },
  {
    "text": "generally all rarely run or use",
    "start": "865440",
    "end": "867720"
  },
  {
    "text": "procedures should be manually or",
    "start": "867720",
    "end": "869940"
  },
  {
    "text": "automatically tested on a somewhat",
    "start": "869940",
    "end": "872040"
  },
  {
    "text": "frequent basis months or years can go by",
    "start": "872040",
    "end": "875040"
  },
  {
    "text": "without any need to restore from backup",
    "start": "875040",
    "end": "877200"
  },
  {
    "text": "but when disaster strikes and someone",
    "start": "877200",
    "end": "879240"
  },
  {
    "text": "accidentally deletes the database the",
    "start": "879240",
    "end": "882060"
  },
  {
    "text": "documented procedure better actually",
    "start": "882060",
    "end": "883980"
  },
  {
    "text": "work on paper their recovery story",
    "start": "883980",
    "end": "886620"
  },
  {
    "text": "looked fine but if someone had tested",
    "start": "886620",
    "end": "888839"
  },
  {
    "text": "all of them they would have found that",
    "start": "888839",
    "end": "890459"
  },
  {
    "text": "one doesn't actually work two would take",
    "start": "890459",
    "end": "893160"
  },
  {
    "text": "18 hours to restore from three didn't",
    "start": "893160",
    "end": "895800"
  },
  {
    "text": "exist and four would only work if one of",
    "start": "895800",
    "end": "898740"
  },
  {
    "text": "the databases was still alive lastly the",
    "start": "898740",
    "end": "901620"
  },
  {
    "text": "straw which blew the databases back the",
    "start": "901620",
    "end": "904260"
  },
  {
    "text": "deletion of the gitlab employees account",
    "start": "904260",
    "end": "906180"
  },
  {
    "text": "so during and before that is just",
    "start": "906180",
    "end": "909420"
  },
  {
    "text": "that what is this what is this deletion",
    "start": "909420",
    "end": "913380"
  },
  {
    "text": "what is this deletion business I want to",
    "start": "913380",
    "end": "917220"
  },
  {
    "text": "I wonder what that employee was doing or",
    "start": "917220",
    "end": "919680"
  },
  {
    "text": "the incident when a gitlab user is",
    "start": "919680",
    "end": "921779"
  },
  {
    "text": "removed for spam the software would",
    "start": "921779",
    "end": "924060"
  },
  {
    "text": "perform a synchronous delete on all the",
    "start": "924060",
    "end": "926339"
  },
  {
    "text": "user data so if the user had 50 million",
    "start": "926339",
    "end": "929040"
  },
  {
    "text": "projects all of them will be deleted",
    "start": "929040",
    "end": "931079"
  },
  {
    "text": "immediately the change they proposed was",
    "start": "931079",
    "end": "933720"
  },
  {
    "text": "to instead soft delete by marking the",
    "start": "933720",
    "end": "936000"
  },
  {
    "text": "user as deleted and then the real delete",
    "start": "936000",
    "end": "938519"
  },
  {
    "text": "can be done asynchronously and in a",
    "start": "938519",
    "end": "940800"
  },
  {
    "text": "controlled manner",
    "start": "940800",
    "end": "943380"
  },
  {
    "text": "yeah what is that so guys for those that",
    "start": "943380",
    "end": "947639"
  },
  {
    "text": "haven't seen this",
    "start": "947639",
    "end": "949980"
  },
  {
    "text": "what is the Fate you think is going to",
    "start": "949980",
    "end": "952079"
  },
  {
    "text": "happen is Team Member One getting",
    "start": "952079",
    "end": "954620"
  },
  {
    "text": "rmrf'd himself",
    "start": "954620",
    "end": "957480"
  },
  {
    "text": "remain promoted",
    "start": "957480",
    "end": "959940"
  },
  {
    "text": "died which one",
    "start": "959940",
    "end": "962399"
  },
  {
    "text": "type one here one in the chat for fire",
    "start": "962399",
    "end": "965399"
  },
  {
    "text": "two in the chat for remain three in the",
    "start": "965399",
    "end": "967199"
  },
  {
    "text": "chat for promoted four in the chat for",
    "start": "967199",
    "end": "969060"
  },
  {
    "text": "died",
    "start": "969060",
    "end": "969899"
  },
  {
    "text": "died of natural heart problems from this",
    "start": "969899",
    "end": "974040"
  },
  {
    "text": "okay most people think just remained",
    "start": "974040",
    "end": "976199"
  },
  {
    "text": "remained or promoted all right and then",
    "start": "976199",
    "end": "978360"
  },
  {
    "text": "some died",
    "start": "978360",
    "end": "979320"
  },
  {
    "text": "some people die okay okay this is",
    "start": "979320",
    "end": "981420"
  },
  {
    "text": "looking good I like this I like where",
    "start": "981420",
    "end": "982980"
  },
  {
    "text": "this is going a lot of deaths in",
    "start": "982980",
    "end": "984480"
  },
  {
    "text": "remaining remaining dead in the end team",
    "start": "984480",
    "end": "987480"
  },
  {
    "text": "number one was obviously not fired there",
    "start": "987480",
    "end": "990360"
  },
  {
    "text": "were many factors which is just maybe an",
    "start": "990360",
    "end": "992699"
  },
  {
    "text": "annual reward",
    "start": "992699",
    "end": "994199"
  },
  {
    "text": "in the end please don't fire team number",
    "start": "994199",
    "end": "996600"
  },
  {
    "text": "one but maybe create an annual award in",
    "start": "996600",
    "end": "998399"
  },
  {
    "text": "his name",
    "start": "998399",
    "end": "1000759"
  },
  {
    "text": "team member one was obviously not fired",
    "start": "1000800",
    "end": "1003380"
  },
  {
    "text": "there were many factors which led to",
    "start": "1003380",
    "end": "1005720"
  },
  {
    "text": "that rmrf moment and many more factors",
    "start": "1005720",
    "end": "1008600"
  },
  {
    "text": "which led to it taking 18 hours to",
    "start": "1008600",
    "end": "1010639"
  },
  {
    "text": "recover from there none of which were a",
    "start": "1010639",
    "end": "1012920"
  },
  {
    "text": "single person's fault gitlab's CEO",
    "start": "1012920",
    "end": "1015259"
  },
  {
    "text": "personally apologized for the outage and",
    "start": "1015259",
    "end": "1017959"
  },
  {
    "text": "gitlab never accidentally deleted their",
    "start": "1017959",
    "end": "1020420"
  },
  {
    "text": "production database ever again that's it",
    "start": "1020420",
    "end": "1024639"
  },
  {
    "text": "that's pretty good don't accidentally",
    "start": "1024740",
    "end": "1027140"
  },
  {
    "text": "delete the database",
    "start": "1027140",
    "end": "1030400"
  },
  {
    "text": "wait what",
    "start": "1030400",
    "end": "1033020"
  },
  {
    "text": "what",
    "start": "1033020",
    "end": "1034220"
  },
  {
    "text": "that was pretty good I like that I like",
    "start": "1034220",
    "end": "1036740"
  },
  {
    "text": "that",
    "start": "1036740",
    "end": "1039040"
  },
  {
    "text": "very good all right I gotta go pee",
    "start": "1042380",
    "end": "1045438"
  },
  {
    "text": "I'll be right back",
    "start": "1045439",
    "end": "1048159"
  }
]