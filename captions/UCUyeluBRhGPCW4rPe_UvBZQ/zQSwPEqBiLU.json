[
  {
    "text": "all right so I think this is going to be a really interesting one because he's going to go over the Netflix back end as he sees it and I've done some work in",
    "start": "60",
    "end": "7319"
  },
  {
    "text": "this area so I know a good deal at least of what's sort of happening so this is",
    "start": "7319",
    "end": "12840"
  },
  {
    "text": "going to be like a fun moment of like what do I know versus what can he figure out and I think this is actually really",
    "start": "12840",
    "end": "18480"
  },
  {
    "text": "funny I think this is going to be a really really funny like just watching you know what I mean so",
    "start": "18480",
    "end": "24900"
  },
  {
    "text": "let's do this thing okay let's do this thing",
    "start": "24900",
    "end": "30300"
  },
  {
    "text": "I feel good about it welcome to another episode of Dev tool",
    "start": "30300",
    "end": "36660"
  },
  {
    "text": "them all today we're gonna do this tool Netflix I need to be very careful I'm",
    "start": "36660",
    "end": "42480"
  },
  {
    "text": "gonna blur any video I'm gonna mute any audio so I don't get copyrighted good",
    "start": "42480",
    "end": "47820"
  },
  {
    "text": "obviously I'm not gonna stream Twitter we're gonna look portion of this and if you if you guys",
    "start": "47820",
    "end": "54600"
  },
  {
    "text": "don't know this is the series where we pick popular website and look at the requests sent from the browser by the",
    "start": "54600",
    "end": "61260"
  },
  {
    "text": "animations to understand I hate long like because",
    "start": "61260",
    "end": "66659"
  },
  {
    "text": "that wasn't a Ken Burns so if you know what a Ken Burns effect is is that there's a point in which you focus in",
    "start": "66659",
    "end": "71820"
  },
  {
    "text": "and you expand that point but like just zooming at points out of",
    "start": "71820",
    "end": "77400"
  },
  {
    "text": "screen makes me feel like I'm gonna vomit and how the back end Works how the streaming is done is in particular at",
    "start": "77400",
    "end": "84299"
  },
  {
    "text": "least Ken Burns doesn't feel as bad the content is delivered what kind of protocol is being used and all sorts of",
    "start": "84299",
    "end": "90780"
  },
  {
    "text": "cool things how about we jump into it right as usual we always go to",
    "start": "90780",
    "end": "96020"
  },
  {
    "text": "netflix.com let's go to netflix.com I've got a thing and we try to hit enter",
    "start": "96020",
    "end": "101220"
  },
  {
    "text": "immediately I'm gonna pause this I need to be logged in to view anything in",
    "start": "101220",
    "end": "106259"
  },
  {
    "text": "Netflix so I am logged in with my account I'm using a VPN so that to hide any information about me obviously this",
    "start": "106259",
    "end": "114600"
  },
  {
    "text": "I created a new account in my Netflix just by the way you know this video right here that should be playing",
    "start": "114600",
    "end": "122280"
  },
  {
    "text": "um guess what I was the person that originally made it",
    "start": "122280",
    "end": "128700"
  },
  {
    "text": "play with volume on",
    "start": "128700",
    "end": "134540"
  },
  {
    "text": "I would just like to let you know that I'm sorry",
    "start": "135840",
    "end": "141860"
  },
  {
    "text": "um but here's the deal here's the deal uh",
    "start": "142800",
    "end": "151379"
  },
  {
    "text": "there was nine cells in the test nine cells okay",
    "start": "151379",
    "end": "158599"
  },
  {
    "text": "nine a B test cells and guess what",
    "start": "158879",
    "end": "163980"
  },
  {
    "text": "of those nine a B test cells test cell eight I fought hard for okay I fought",
    "start": "163980",
    "end": "169980"
  },
  {
    "text": "for cell eight I spent my almost entire time implementing cell a you know what cell eight is cell eight was a muted",
    "start": "169980",
    "end": "177480"
  },
  {
    "text": "video Plus like location specific",
    "start": "177480",
    "end": "183959"
  },
  {
    "text": "subtitles such that you wouldn't have that and they are up in the right place so they",
    "start": "183959",
    "end": "189000"
  },
  {
    "text": "wouldn't actually interfere with the video and be below the yellow gradient there all that stuff I did that for you",
    "start": "189000",
    "end": "195480"
  },
  {
    "text": "and guess what subtitles performed the worst",
    "start": "195480",
    "end": "201420"
  },
  {
    "text": "I muted the video for you and I made it so that their subtitles and you",
    "start": "201420",
    "end": "209700"
  },
  {
    "text": "picked the one with the audio on you guys did you voted with your eyeballs you voted with the play button you are",
    "start": "209700",
    "end": "216720"
  },
  {
    "text": "to blame I showed you the door I did that you sons of is coming in here tell",
    "start": "216720",
    "end": "223440"
  },
  {
    "text": "me that trying to dunk on me ridiculous ridiculous it was like 50",
    "start": "223440",
    "end": "229980"
  },
  {
    "text": "million people okay that went through this and people had just went right in",
    "start": "229980",
    "end": "235980"
  },
  {
    "text": "the just went right in for this viewing so that my behavior is",
    "start": "235980",
    "end": "242099"
  },
  {
    "text": "not uh reflected here or I wanted I want to try as much as possible to get a",
    "start": "242099",
    "end": "247920"
  },
  {
    "text": "brand new get out of here Behavior I also clicked on some of the shows and played some of them all right it's not L",
    "start": "247920",
    "end": "253260"
  },
  {
    "text": "plus reported plus and subplus unfollowed okay it's l plus you kept watching stuff because it started playing and your eyeballs were like oh",
    "start": "253260",
    "end": "259260"
  },
  {
    "text": "this show is actually cool last chance you I could watch last chance you I could watch last chance you oh man I",
    "start": "259260",
    "end": "265740"
  },
  {
    "text": "forget his name I like last chance he was a good show you guys did this",
    "start": "265740",
    "end": "271400"
  },
  {
    "text": "you did this I have never had a Netflix account so don't lump me in with these other losers that's right Beast girl",
    "start": "272580",
    "end": "277860"
  },
  {
    "text": "you're not a loser you're awesome Nightshade dudes over there like I've I love it but I hate it just a test uh to",
    "start": "277860",
    "end": "285360"
  },
  {
    "text": "make sure everything is working you started this man and also to test the resume portion of all right one more",
    "start": "285360",
    "end": "292979"
  },
  {
    "text": "thing one more thing by the way there is a feature on the website you could actually turn it off for all of Netflix I don't know if you know this but if you",
    "start": "292979",
    "end": "299880"
  },
  {
    "text": "go into your your users right here you can actually just turn off auto play universally so you'll no longer have",
    "start": "299880",
    "end": "304979"
  },
  {
    "text": "that experience so just so you know it's on the website uh shut the up okay just so you know hey hey you shut",
    "start": "304979",
    "end": "312180"
  },
  {
    "text": "up stop stop it's been there for years stop complaining it's right there stop being such a lazy apple and go and do it",
    "start": "312180",
    "end": "318780"
  },
  {
    "text": "okay I don't know why you're always yelling at me the whole time okay everyone always brings it on to me not",
    "start": "318780",
    "end": "324360"
  },
  {
    "text": "only did I build it and try to save you guys you voted for it and then blame me for it okay hey you Twitter hate you you",
    "start": "324360",
    "end": "330720"
  },
  {
    "text": "read it this app so the first thing we notice what do we notice what do we",
    "start": "330720",
    "end": "336900"
  },
  {
    "text": "notice we're sending a request to www.netflix.com we're getting redirected",
    "start": "336900",
    "end": "343139"
  },
  {
    "text": "that's fine one redirect is absolutely fine right I don't even notice but I",
    "start": "343139",
    "end": "348900"
  },
  {
    "text": "type netflix.com but we went to www.net2lex.com that tells me that the browser saved that fact uh prior that",
    "start": "348900",
    "end": "357780"
  },
  {
    "text": "means if I visit netflix.com immediately go to www.netflower.com and always use it I should slash browse that seems like",
    "start": "357780",
    "end": "364560"
  },
  {
    "text": "such a oh so we are being redirected to",
    "start": "364560",
    "end": "369600"
  },
  {
    "text": "slash browse so this is a decision made by Netflix to so they can create content",
    "start": "369600",
    "end": "374759"
  },
  {
    "text": "for your behavior so if we click on the browse the request being sent here took",
    "start": "374759",
    "end": "380160"
  },
  {
    "text": "800 milliseconds I believe back in the day 450 milliseconds was the SLA",
    "start": "380160",
    "end": "385680"
  },
  {
    "text": "requirement of map map of course talks to GPS GPS of course talks to subscriber of course subscriber talks to you know",
    "start": "385680",
    "end": "392460"
  },
  {
    "text": "Rex it talks to uh billboard talks all that kind of stuff builds up everything and boom outcomes you know out comes",
    "start": "392460",
    "end": "400020"
  },
  {
    "text": "your lolamo list of list of movies duh and I noticed this fluctuate took 1.5",
    "start": "400020",
    "end": "405960"
  },
  {
    "text": "seconds sometimes 800 but this tells me that there is server side logic being",
    "start": "405960",
    "end": "413220"
  },
  {
    "text": "run to yes there's a shiton of server side logic uh yeah so if you switch",
    "start": "413220",
    "end": "419220"
  },
  {
    "text": "profiles that should cause at least you get a few cash you know get a few cash",
    "start": "419220",
    "end": "424460"
  },
  {
    "text": "misses as you do that because you know we're not going to just generate every list of list of movies for you ahead of",
    "start": "424460",
    "end": "430080"
  },
  {
    "text": "time everybody knows this okay first time you come in we got map do you know map does map Auto generates",
    "start": "430080",
    "end": "436560"
  },
  {
    "text": "uh you know because GPS like here's here's the thing that's kind of unique is that at Netflix we generate what we think you're gonna like but not",
    "start": "436560",
    "end": "442259"
  },
  {
    "text": "everything's all filled in some of it's very Dynamic right so you can imagine that a movie could be going out of window within an hour",
    "start": "442259",
    "end": "449759"
  },
  {
    "text": "and then you come on in an hour and a half later so think about it we can't just show",
    "start": "449759",
    "end": "454860"
  },
  {
    "text": "that movie anymore so therefore we have to you know move it out so there's some dynamism to the whole package as well",
    "start": "454860",
    "end": "460560"
  },
  {
    "text": "you know to create this particular content for me let's see this so if I",
    "start": "460560",
    "end": "465599"
  },
  {
    "text": "click on preview look at this the content that I get from that request alone I get the image I get these and",
    "start": "465599",
    "end": "472199"
  },
  {
    "text": "look at this I want you to pay attention to this this is just right this is not clickable yet this is just HTML with a",
    "start": "472199",
    "end": "478979"
  },
  {
    "text": "bunch of images and I wanted to notice this so they did the calculation to look at how far I wash Cobra Kai and they",
    "start": "478979",
    "end": "488099"
  },
  {
    "text": "showed this progress bar so Cobra Kai man that's called acting there is some sort",
    "start": "488099",
    "end": "495300"
  },
  {
    "text": "of a calculation that is happening on the back end to generate this HTML uh",
    "start": "495300",
    "end": "500879"
  },
  {
    "text": "what kind of server do they use if I look at the server you can't trust the server property sometimes it's",
    "start": "500879",
    "end": "505919"
  },
  {
    "text": "overridden NQ stands for node quark I worked a lot on node Quark I helped",
    "start": "505919",
    "end": "512279"
  },
  {
    "text": "prevent some dos attacks just saying that's node quark right because you can easily change this",
    "start": "512279",
    "end": "517800"
  },
  {
    "text": "I really said don't use node this but look at this it's like core prod release 1.3 Baseline I have no idea what this",
    "start": "517800",
    "end": "526140"
  },
  {
    "text": "server is obviously of course not that tells me that so uh Netflix actually write this thing uh",
    "start": "526140",
    "end": "532640"
  },
  {
    "text": "arbitrary or maybe mean something to their client um they're using hdb2 just for netflix.com",
    "start": "532640",
    "end": "539940"
  },
  {
    "text": "we're going to come to the rest but look at this guys the moment you start seeing",
    "start": "539940",
    "end": "545100"
  },
  {
    "text": "these white lines this is a bad indication this tells me that they are",
    "start": "545100",
    "end": "550680"
  },
  {
    "text": "using to retrieve certain content there are requests that being starved and",
    "start": "550680",
    "end": "557459"
  },
  {
    "text": "stalled right the white line basically means hey I don't have enough resources",
    "start": "557459",
    "end": "562920"
  },
  {
    "text": "to send this request to this particular domain I'm full so 300 millisecond",
    "start": "562920",
    "end": "568140"
  },
  {
    "text": "weight right 330 milliseconds 300 what what is this uh this looks like a CDN",
    "start": "568140",
    "end": "576260"
  },
  {
    "text": "see my guess is what I'm looking at is that's actually downloading video which would be the right move the 30s so all of these guys are waiting",
    "start": "576420",
    "end": "583320"
  },
  {
    "text": "right they can't send any requests why all of these requests are just downloading images yeah thumbnails",
    "start": "583320",
    "end": "591540"
  },
  {
    "text": "literally and where are they downloading them all of them from the same domain and what do",
    "start": "591540",
    "end": "600060"
  },
  {
    "text": "we know with the studio on one you can only open six connections six six TCP connection per domain that's it is what",
    "start": "600060",
    "end": "607380"
  },
  {
    "text": "Chrome does it's just the limit that Chrome has so that means you can only send six requests at concurrently the",
    "start": "607380",
    "end": "615839"
  },
  {
    "text": "probably this requests are being sent previously here right and now we're done so there's some sort of stalling that",
    "start": "615839",
    "end": "622560"
  },
  {
    "text": "can be solved with HTTP 2 here yeah how bad it is I don't know you you might",
    "start": "622560",
    "end": "627660"
  },
  {
    "text": "feel it when you open Netflix at the first time but they probably they don't want to do anything about it I'm alone",
    "start": "627660",
    "end": "633779"
  },
  {
    "text": "I'm a little bit surprised that we don't have better steering here we have a lot of steering that goes on so I'm a little bit surprised that there's not more",
    "start": "633779",
    "end": "639660"
  },
  {
    "text": "steering because if I'm not mistaken we send down like three separate steering URLs per image I I'm a little bit",
    "start": "639660",
    "end": "646140"
  },
  {
    "text": "surprised that that's there you guys I don't I don't just tell I'd love to text you but I don't want to",
    "start": "646140",
    "end": "652620"
  },
  {
    "text": "open mine up and expose myself everywhere you know you you watched my hacker nose video there is no reason to",
    "start": "652620",
    "end": "660180"
  },
  {
    "text": "move to http 2 or 3. if uh that's not true there's definitely reason to move to http 2 especially in a",
    "start": "660180",
    "end": "667200"
  },
  {
    "text": "situation like this obviously you can alleviate that by having more steering but HTTP 2 also it really is fantastic",
    "start": "667200",
    "end": "672959"
  },
  {
    "text": "for a ton of images because there is a cost to moving to those protocols yeah because the CPU",
    "start": "672959",
    "end": "678779"
  },
  {
    "text": "memory Etc while we're using reactors no such thing as CPU or memory well hdb11 is",
    "start": "678779",
    "end": "684959"
  },
  {
    "text": "this very simple direct protocol there is no you know system",
    "start": "684959",
    "end": "691019"
  },
  {
    "text": "activities going to you know what we're gonna do be upset that we're I mean it's using a gigabyte okay we're not getting",
    "start": "691019",
    "end": "696839"
  },
  {
    "text": "out of this I I what are we gonna be upset for an extra 20 Megs because you're using HTTP 2. yeah we don't use",
    "start": "696839",
    "end": "703079"
  },
  {
    "text": "stream priority okay no one uses stream priority that's crazy talk so HTTP 2 if you're just using it for hpac plus you",
    "start": "703079",
    "end": "708899"
  },
  {
    "text": "know header that's the header compression and just like uh being able to make multiple calls you oh man you",
    "start": "708899",
    "end": "714959"
  },
  {
    "text": "get a huge benefit there you're gonna use the streams and and parse the packets too I wasn't being defensive I",
    "start": "714959",
    "end": "721320"
  },
  {
    "text": "was just on Netflix for using react don't use react Netflix find what you're looking for",
    "start": "721320",
    "end": "728399"
  },
  {
    "text": "right there's none of that should be one is simpler but there is some bottlenecks that you can reach right so you only",
    "start": "728399",
    "end": "734640"
  },
  {
    "text": "move when you absolutely need it and it sounds like Netflix needed here",
    "start": "734640",
    "end": "739680"
  },
  {
    "text": "I've just I mean again CDN steering seems like a better route right look at this there's there is a lot of stalling",
    "start": "739680",
    "end": "745380"
  },
  {
    "text": "going on here so okay uh we're viewing this you see the word angular which is that is how's stalling going on here",
    "start": "745380",
    "end": "753620"
  },
  {
    "text": "I swear I just saw the word angular or was that in chat okay so again uh we're viewing all these",
    "start": "754260",
    "end": "761700"
  },
  {
    "text": "images that is that's not oh my goodness I can see the request that I've I've helped craft this right here is my code",
    "start": "761700",
    "end": "768839"
  },
  {
    "text": "this is like our whole caching mechanism right here oh my goodness is that still oh my goodness it's still there's that",
    "start": "768839",
    "end": "774300"
  },
  {
    "text": "fell core is that Costco oh my goodness I love you core is still there oh my",
    "start": "774300",
    "end": "779639"
  },
  {
    "text": "goodness that's trpc before trpc was trpc oh my goodness oh my goodness it's",
    "start": "779639",
    "end": "785940"
  },
  {
    "text": "still there right I want you to now take a look at this I'm gonna resume recording again and I am going to make",
    "start": "785940",
    "end": "793800"
  },
  {
    "text": "sure to scroll down all right let's go to COBRA Kai but I'm going to",
    "start": "793800",
    "end": "800700"
  },
  {
    "text": "clear everything I'm going to resume recording hopefully I don't you're going to get a bunch of requests yeah oh cl2s",
    "start": "800700",
    "end": "805860"
  },
  {
    "text": "Consolidated hover over Cobra call and just let It capture some some requests I'm gonna pause it again",
    "start": "805860",
    "end": "812040"
  },
  {
    "text": "let's see what happened now okay oh no look at those path evaluators a title",
    "start": "812040",
    "end": "817440"
  },
  {
    "text": "Netflix will effectively bring some metadata we'll play some content which",
    "start": "817440",
    "end": "823200"
  },
  {
    "text": "I'm gonna blur here uh showing you the content like a preview of the content",
    "start": "823200",
    "end": "828720"
  },
  {
    "text": "and retrieve some interesting information that we're going to talk about here so the first request is a",
    "start": "828720",
    "end": "834300"
  },
  {
    "text": "post request you have Consolidated and I'm not sure what is what this does but",
    "start": "834300",
    "end": "839519"
  },
  {
    "text": "it looks like exactly what it's posting it doesn't return anything right but if",
    "start": "839519",
    "end": "844680"
  },
  {
    "text": "posting my current state to the server right so it's not really very informative but the first request the",
    "start": "844680",
    "end": "850920"
  },
  {
    "text": "second request is downloading the same image which we actually have so I think",
    "start": "850920",
    "end": "856440"
  },
  {
    "text": "this is a wasted I know that request but we're doing it anyway maybe they're",
    "start": "856440",
    "end": "862380"
  },
  {
    "text": "doing that because they're for me disabled maybe they're",
    "start": "862380",
    "end": "868980"
  },
  {
    "text": "just hey ignore everything and Gadget I really doubt it but they're sending this request again plus that downloading that",
    "start": "868980",
    "end": "875279"
  },
  {
    "text": "image caused another connection to be established effectively we did the initial connection we did this TLS as",
    "start": "875279",
    "end": "882420"
  },
  {
    "text": "well so let's go to the next request pass evaluator thing is very interesting let's go to",
    "start": "882420",
    "end": "890399"
  },
  {
    "text": "the preview look what we got I know the metadata that's an atom I got to this let's zoom",
    "start": "890399",
    "end": "896880"
  },
  {
    "text": "in so you guys that means it's a hard value summary Bob summary yeah that means",
    "start": "896880",
    "end": "903560"
  },
  {
    "text": "look box art see I'm not crazy box art you can see that this is Cobra Kai I",
    "start": "905899",
    "end": "911040"
  },
  {
    "text": "call it other information about like the ratings and stuff like that and I think",
    "start": "911040",
    "end": "916560"
  },
  {
    "text": "you can get there user rating from here so it's like being exposed is what yeah",
    "start": "916560",
    "end": "921839"
  },
  {
    "text": "sometimes it's hard that means basically it wasn't released probably but",
    "start": "921839",
    "end": "927839"
  },
  {
    "text": "sometimes this gets populated and here's my favorite thing the router",
    "start": "927839",
    "end": "934620"
  },
  {
    "text": "the Netflix router is one of the I don't know in design that I've seen in a while I",
    "start": "934620",
    "end": "942480"
  },
  {
    "text": "heard this in a podcast cadmium way back maybe seven eight years ago yeah",
    "start": "942480",
    "end": "948720"
  },
  {
    "text": "but I never seen it until today right when I don't care for this video when you click on result look at this the",
    "start": "948720",
    "end": "955199"
  },
  {
    "text": "router the Netflix router actually tells the client which server has this content",
    "start": "955199",
    "end": "960360"
  },
  {
    "text": "right oh does your obviously client IP address that's wrong that's not my IP",
    "start": "960360",
    "end": "965579"
  },
  {
    "text": "address right I'm connected to another place but plus it's 192 right a year old is a",
    "start": "965579",
    "end": "974399"
  },
  {
    "text": "very sexy 92.109 is I think it's a public iPad it's one nine two one six eight is a",
    "start": "974399",
    "end": "981120"
  },
  {
    "text": "private uh local network but yeah if I",
    "start": "981120",
    "end": "986579"
  },
  {
    "text": "yeah so there's the license uh limited downloadable license whatever",
    "start": "986579",
    "end": "992940"
  },
  {
    "text": "this property is actually all the servers that have this content the IP address of that",
    "start": "992940",
    "end": "999360"
  },
  {
    "text": "server the domain of that server it's so that way in case like a good reason for this is like if if you were to start",
    "start": "999360",
    "end": "1005839"
  },
  {
    "text": "downloading uh they have different routes they have different items they go different places they take different routes right and so if you start",
    "start": "1005839",
    "end": "1012440"
  },
  {
    "text": "downloading and things aren't coming in fast enough you can switch see if you",
    "start": "1012440",
    "end": "1017779"
  },
  {
    "text": "have better bit rate right that these things can go down uh licenses on those servers can expire things can get a",
    "start": "1017779",
    "end": "1023480"
  },
  {
    "text": "little bit Goofy on the server you know like there's a lot of things that can happen like if you really think about everything that happens when it comes to",
    "start": "1023480",
    "end": "1028938"
  },
  {
    "text": "video streaming it's an extremely complicated thing and one of them is just having all of this",
    "start": "1028939",
    "end": "1034640"
  },
  {
    "text": "you know you need all of this there to be able to do it protocol it uses C50",
    "start": "1034640",
    "end": "1039860"
  },
  {
    "text": "lax I'm using a vpnla so it gives you this",
    "start": "1039860",
    "end": "1046100"
  },
  {
    "text": "it's actually it's not La it's uh clearly uh the airport LAX okay we have",
    "start": "1046100",
    "end": "1051260"
  },
  {
    "text": "our little box clearly put in the airport at LAX DNS information it gives you some",
    "start": "1051260",
    "end": "1058880"
  },
  {
    "text": "key information like hi I guess the the bandwidth on this thing",
    "start": "1058880",
    "end": "1064360"
  },
  {
    "text": "uh there's another server right all the other servers here you can",
    "start": "1064360",
    "end": "1070640"
  },
  {
    "text": "see Server 50. it's a red box right like 78 72 35 37 33 32 yeah so these are a",
    "start": "1070640",
    "end": "1077600"
  },
  {
    "text": "pool of servers to give to the client to connect this is as opposed this is what",
    "start": "1077600",
    "end": "1084440"
  },
  {
    "text": "I refer to as a client load Bank client side load balancing where you give the",
    "start": "1084440",
    "end": "1091160"
  },
  {
    "text": "client a bunch of servers and the client decides which one to hit okay versus the",
    "start": "1091160",
    "end": "1096620"
  },
  {
    "text": "server-side load balancer which is what we all know we use you use a reverse proxy which acts like a load balancer",
    "start": "1096620",
    "end": "1102320"
  },
  {
    "text": "that's not that's not what it's for routing and efficiency and it",
    "start": "1102320",
    "end": "1107480"
  },
  {
    "text": "transparently that load balancer uh shifts you to any server right so you",
    "start": "1107480",
    "end": "1113600"
  },
  {
    "text": "take the load from the reverse proxy and puts it on the client side and I always",
    "start": "1113600",
    "end": "1119660"
  },
  {
    "text": "been fascinating I really wanted to see something uh like this in the in the",
    "start": "1119660",
    "end": "1125480"
  },
  {
    "text": "wild and this is the first time I actually seen it so this is basically how they do client side load balancing",
    "start": "1125480",
    "end": "1131120"
  },
  {
    "text": "by letting the client choose which server obviously you see trick play down",
    "start": "1131120",
    "end": "1136220"
  },
  {
    "text": "here I don't know if you can even see twerk play right there let's uh see this thing right here that's trick play",
    "start": "1136220",
    "end": "1142340"
  },
  {
    "text": "yeah you have all that you have all the information in there timed text right so you have all the time Tech stuff uh",
    "start": "1142340",
    "end": "1148520"
  },
  {
    "text": "that's great obviously you have you lose certain metadata here because you don't have the",
    "start": "1148520",
    "end": "1154400"
  },
  {
    "text": "knowledge as if it's if you have a sentence over but the beauty is you don't you no longer have a a one uh",
    "start": "1154400",
    "end": "1163640"
  },
  {
    "text": "central point of failure which is the notice that we also rank them right I think that's an important point which is uh the ranking system allows you I",
    "start": "1163640",
    "end": "1171500"
  },
  {
    "text": "understand use the vrrp protocol to have the same",
    "start": "1171500",
    "end": "1180320"
  },
  {
    "text": "IP addresses on multiple machines and uh you can use DNS also to do the Geo load",
    "start": "1180320",
    "end": "1188600"
  },
  {
    "text": "balancing all sorts of Tricks but still right this is interesting regardless so",
    "start": "1188600",
    "end": "1195260"
  },
  {
    "text": "I just wanted to talk about that I love it a lot and once we once we give these servers you'll notice that they will get",
    "start": "1195260",
    "end": "1201860"
  },
  {
    "text": "they will stop being used here so uh so the we're downloading content from",
    "start": "1201860",
    "end": "1208820"
  },
  {
    "text": "50 78 50 50 78 so now we're gonna start establishing HTTP one connections again",
    "start": "1208820",
    "end": "1215600"
  },
  {
    "text": "I think this is a bottleneck right but doesn't seem like we have this bottleneck here with the videos because",
    "start": "1215600",
    "end": "1221600"
  },
  {
    "text": "we're downloading a tiny video but look at this we're downloading all this content now",
    "start": "1221600",
    "end": "1227539"
  },
  {
    "text": "right through different uh Avenues effectively right and this is basically",
    "start": "1227539",
    "end": "1234380"
  },
  {
    "text": "what is this this is octet stream so they're not using the hls the HTTP live streaming they're using their own maybe",
    "start": "1234380",
    "end": "1241520"
  },
  {
    "text": "prop proprietary they're using a probably a proprietary protocol here for doing it because it's an octet stream",
    "start": "1241520",
    "end": "1247640"
  },
  {
    "text": "and we you can you can actually take that right and then copy",
    "start": "1247640",
    "end": "1254000"
  },
  {
    "text": "right and then you can paste it and it will get downloaded right the reason it get downloaded because there is a token",
    "start": "1254000",
    "end": "1261860"
  },
  {
    "text": "here that represents me now if I send you this link you can download it obviously because you have my token but",
    "start": "1261860",
    "end": "1268460"
  },
  {
    "text": "if I change this to something else you get forbidden right that means the",
    "start": "1268460",
    "end": "1273620"
  },
  {
    "text": "server is doing some sort of an authentication as well and here we know",
    "start": "1273620",
    "end": "1278720"
  },
  {
    "text": "what they are using look at this you can tell so much information the backend it's like a stripping it naked I love it",
    "start": "1278720",
    "end": "1285580"
  },
  {
    "text": "and you can also tell that the engineering he doesn't even know about Falcor coming there getting all naked",
    "start": "1285580",
    "end": "1291320"
  },
  {
    "text": "like that okay didn't even buy me a dinner stripping my request naked",
    "start": "1291320",
    "end": "1296360"
  },
  {
    "text": "fixes the server here and I love what they did here I don't know if you noticed with the previous uh div tooling",
    "start": "1296360",
    "end": "1304100"
  },
  {
    "text": "sessions if you don't do anything to this header it will show the nginx version which I",
    "start": "1304100",
    "end": "1310760"
  },
  {
    "text": "believe personally I think it's bad you never release what version you're using",
    "start": "1310760",
    "end": "1316280"
  },
  {
    "text": "to the client because this could be exploited right because there might be a bug in certain nginx version and you can",
    "start": "1316280",
    "end": "1323299"
  },
  {
    "text": "easily scan the web for bad nginx versions and exploit that yeah that is",
    "start": "1323299",
    "end": "1328400"
  },
  {
    "text": "fine if if you don't have this information hide that information because that client doesn't really need",
    "start": "1328400",
    "end": "1334280"
  },
  {
    "text": "to know the nginx version any header with uh X in it these are usually like transient headers that's right unless",
    "start": "1334280",
    "end": "1340580"
  },
  {
    "text": "there is a feature that is explicitly in certain in nginx version you don't really need to that so any",
    "start": "1340580",
    "end": "1346820"
  },
  {
    "text": "information about hackers that gives hacker any tip remove it effectively",
    "start": "1346820",
    "end": "1352460"
  },
  {
    "text": "that's just a best security practice and uh",
    "start": "1352460",
    "end": "1358600"
  },
  {
    "text": "we're just downloading the video again I really think HTTP 114 video",
    "start": "1358600",
    "end": "1365419"
  },
  {
    "text": "is good for serial like window in one video maybe that's fine but HTTP 2 I don't",
    "start": "1365419",
    "end": "1374240"
  },
  {
    "text": "recommend I think but HTTP 3. oh look at uh you gotta also look right here you",
    "start": "1374240",
    "end": "1379400"
  },
  {
    "text": "gotta also look at how much data was downloaded and also the surface in which the video is being played we're probably",
    "start": "1379400",
    "end": "1384799"
  },
  {
    "text": "downloading like what my guess a 480p stream maybe for a little box art right",
    "start": "1384799",
    "end": "1390200"
  },
  {
    "text": "it's going to be a pretty thin stream and so when something's coming down we have 84k of a 30 you know of that much",
    "start": "1390200",
    "end": "1395299"
  },
  {
    "text": "and it's taking us you know 30 milliseconds to download that we're effectively downloading what would be",
    "start": "1395299",
    "end": "1400820"
  },
  {
    "text": "one video frame in a 30 by 480p and we're able in one video frame",
    "start": "1400820",
    "end": "1405980"
  },
  {
    "text": "probably able to download 150 of them so it's just like do you need a lot of",
    "start": "1405980",
    "end": "1411500"
  },
  {
    "text": "space do you need this to be super timely um I think you know some of these",
    "start": "1411500",
    "end": "1416659"
  },
  {
    "text": "arguments he's making makes way more sense if you're trying to do something like real time right real time you want",
    "start": "1416659",
    "end": "1422000"
  },
  {
    "text": "the connection to be as like close to the metal as possible right if you can use UDP use udps RTP you go through all",
    "start": "1422000",
    "end": "1428659"
  },
  {
    "text": "that crap make all the different connections blasting down stuff but this is just like when you're doing these longer forms play ones where you can",
    "start": "1428659",
    "end": "1435260"
  },
  {
    "text": "aggregate a lot of data or you can keep on to a lot of data like look at this you can see right here we",
    "start": "1435260",
    "end": "1441679"
  },
  {
    "text": "already have over 30 seconds worth of data right here right and so it just doesn't it doesn't really matter if",
    "start": "1441679",
    "end": "1448400"
  },
  {
    "text": "you're downloading a lot of concurrent requests sent at the same time definitely that will save you",
    "start": "1448400",
    "end": "1455000"
  },
  {
    "text": "connection times definitely that will sing save you a number of connections because you don't need to open these",
    "start": "1455000",
    "end": "1460400"
  },
  {
    "text": "oldest number of connections to send concurrent requests rather hdb3 you get TLS for free for the first handshake and",
    "start": "1460400",
    "end": "1467659"
  },
  {
    "text": "I feel like a Salesman I don't know why you get all this stuff for free with so much car but yeah I believe hdb3",
    "start": "1467659",
    "end": "1475880"
  },
  {
    "text": "is a good choice for hey I'm pretty sure nginx has considered that pretty sure",
    "start": "1475880",
    "end": "1481520"
  },
  {
    "text": "they did right and they choose the HTTP 2 I don't think it's going to give them a lot because of the TCP head of line",
    "start": "1481520",
    "end": "1487880"
  },
  {
    "text": "blocking but with the concurrent request like sending all this",
    "start": "1487880",
    "end": "1493159"
  },
  {
    "text": "thing predicting the future hey the user gonna play all these segments let's download all this stuff right so let's",
    "start": "1493159",
    "end": "1499100"
  },
  {
    "text": "go and clear this and then actually click on COBRA Kai and hopefully we don't",
    "start": "1499100",
    "end": "1504380"
  },
  {
    "text": "I'm gonna now click on it so we can go to that page right let's let's let it let it let it rip let it rip let it rip",
    "start": "1504380",
    "end": "1511039"
  },
  {
    "text": "I'm gonna blow this you're not gonna see anything so no spoilers you're not gonna see anything hopefully and then I'm",
    "start": "1511039",
    "end": "1516500"
  },
  {
    "text": "gonna let this download and now I'm gonna pause the video so here's here's what I'm gonna do now I",
    "start": "1516500",
    "end": "1523640"
  },
  {
    "text": "want you to notice this I don't I'm not interested to look at it because we kind of looked at how Netflix downloads their",
    "start": "1523640",
    "end": "1530840"
  },
  {
    "text": "content but I'm gonna now clear this and I'm gonna show you something I absolutely love here",
    "start": "1530840",
    "end": "1536900"
  },
  {
    "text": "look at this when I scroll over this we see we see the thumbnails right",
    "start": "1536900",
    "end": "1542179"
  },
  {
    "text": "so look how G ingenious this thing is this is genius what's the difference",
    "start": "1542179",
    "end": "1548779"
  },
  {
    "text": "between ingenious and ingenious I know there's a difference but I I'm not quite sure this is genius we're immediately",
    "start": "1548779",
    "end": "1555740"
  },
  {
    "text": "getting the thumbnails if you ask someone to build something like this they would obviously fetch that content",
    "start": "1555740",
    "end": "1562580"
  },
  {
    "text": "immediately so there will be requests going to the server but no none of these requests are going to the server look at",
    "start": "1562580",
    "end": "1568760"
  },
  {
    "text": "this there's blob at the middle of them and I made a video maybe three years back about how genius this thing is this",
    "start": "1568760",
    "end": "1575840"
  },
  {
    "text": "is called create object URL you would basically download the entire sets of",
    "start": "1575840",
    "end": "1582020"
  },
  {
    "text": "thumbnails and save them in memory and reform reference them by ID so this is a unique",
    "start": "1582020",
    "end": "1588799"
  },
  {
    "text": "identifier for that image so now all these images are in memory for that",
    "start": "1588799",
    "end": "1594980"
  },
  {
    "text": "particular browser very smart right and that's why they are blazing fast when you hover let's go",
    "start": "1594980",
    "end": "1600940"
  },
  {
    "text": "blazingly fast he knew it knew it and immediately see that",
    "start": "1600940",
    "end": "1606740"
  },
  {
    "text": "and this is another genius design you might say Hassan isn't that dumb to",
    "start": "1606740",
    "end": "1612320"
  },
  {
    "text": "download or how would you download all possible how many episodes how many minutes 30 minutes worth of thumbnail no",
    "start": "1612320",
    "end": "1619100"
  },
  {
    "text": "don't look at this if you notice let's zoom in they won't show us that there you go",
    "start": "1619100",
    "end": "1625400"
  },
  {
    "text": "one two three four five ten one two three four five ten so every",
    "start": "1625400",
    "end": "1631159"
  },
  {
    "text": "10 seconds they change the thumbnail it's a 10 second thing so it is easy to",
    "start": "1631159",
    "end": "1636320"
  },
  {
    "text": "break this like I mean you don't need all that stuff people think that you have to have so much information in trick play but you don't actually need",
    "start": "1636320",
    "end": "1643340"
  },
  {
    "text": "that much information right you just need enough that people can identify what they're looking for like you don't",
    "start": "1643340",
    "end": "1648860"
  },
  {
    "text": "actually like I'm sure if you look here you can see almost the exact same thing going on here look at that",
    "start": "1648860",
    "end": "1655299"
  },
  {
    "text": "yeah it's about every 10 seconds I mean it makes perfect sense I bet if you looked at the same stuff in YouTube you'd see you'd see the exact same stuff",
    "start": "1657380",
    "end": "1663440"
  },
  {
    "text": "is that it only makes sense to do this whole video into a 10 second segment and",
    "start": "1663440",
    "end": "1670640"
  },
  {
    "text": "down and literally request everything and these these blobs are small right so you don't need to encode them in",
    "start": "1670640",
    "end": "1675860"
  },
  {
    "text": "anything like Beyond 40 you know 40p or whatever so you can just like as you ingest the movies you have all the final",
    "start": "1675860",
    "end": "1682460"
  },
  {
    "text": "versions and all the encodings and so then we encode everything and as we encode it we also generate you know the",
    "start": "1682460",
    "end": "1688159"
  },
  {
    "text": "view plane of what how you would go through it it totally makes sense like when you think about it the thing to be",
    "start": "1688159",
    "end": "1693380"
  },
  {
    "text": "downloaded for the 10 seconds that's how much that's not much right for so for a hundred second video that's",
    "start": "1693380",
    "end": "1700220"
  },
  {
    "text": "just 10 minute images for a thousand second video that's just 100 images you can download them up front to give the",
    "start": "1700220",
    "end": "1707720"
  },
  {
    "text": "users this beautiful scrolling immediately fast design right yeah so if",
    "start": "1707720",
    "end": "1714740"
  },
  {
    "text": "I do this now again there'd be no other way to generate those images think about if we on if we",
    "start": "1714740",
    "end": "1720860"
  },
  {
    "text": "onboard 100 videos a day onto Netflix and their average length is 30 minutes",
    "start": "1720860",
    "end": "1726080"
  },
  {
    "text": "and are producing one every 10 seconds I mean that's six per minutes times 30 that's 180 right so 180 times 100 that'd",
    "start": "1726080",
    "end": "1733580"
  },
  {
    "text": "be like eight you know what what is that 18 000 images per day we'd have to generate you have to do it with some",
    "start": "1733580",
    "end": "1739520"
  },
  {
    "text": "sort of mix of AI and all that let's go here like we do some level of AI on stuff look at this so we're",
    "start": "1739520",
    "end": "1746059"
  },
  {
    "text": "downloading these images obviously but now we're sending the request I wanted to pay attention to the request now here",
    "start": "1746059",
    "end": "1752480"
  },
  {
    "text": "okay let's take a look at this now makes sense the requests",
    "start": "1752480",
    "end": "1758539"
  },
  {
    "text": "are these requests do you see these little ranges it's pretty downloaded the actual segments of the videos and and",
    "start": "1758539",
    "end": "1764960"
  },
  {
    "text": "Netflix tries to add as much as possible to hide this information right or at least encode it look at the",
    "start": "1764960",
    "end": "1771980"
  },
  {
    "text": "E 38 this is I believe this is the event ID or the video itself the title so",
    "start": "1771980",
    "end": "1777919"
  },
  {
    "text": "that's always 38 no matter what it's always 38. so that tells me this is the",
    "start": "1777919",
    "end": "1783320"
  },
  {
    "text": "Cobra Kai title but I want you to pay attention to the Token the token sometimes the same",
    "start": "1783320",
    "end": "1789080"
  },
  {
    "text": "sometimes it changes why because sometimes you're hitting a different server which gives you which hands you a",
    "start": "1789080",
    "end": "1797419"
  },
  {
    "text": "different token obviously right there you go we are hitting some different server there you go so",
    "start": "1797419",
    "end": "1803899"
  },
  {
    "text": "I had to refresh multiple times to see the client-side load balancing here we're hitting server 68 and that's over",
    "start": "1803899",
    "end": "1809840"
  },
  {
    "text": "5 and then 6868 and then yeah what we notice here is every time",
    "start": "1809840",
    "end": "1816380"
  },
  {
    "text": "we hit the same server we get the same token right but at the moment we hit another server we get a different token",
    "start": "1816380",
    "end": "1822860"
  },
  {
    "text": "right that kind of makes sense right and not necessarily so that means those servers are completely isolated right",
    "start": "1822860",
    "end": "1830179"
  },
  {
    "text": "they're not using the same uh authentication mechanism each server",
    "start": "1830179",
    "end": "1836240"
  },
  {
    "text": "actually hands out a unique token for that server we're not would that make sense because or else you'd have to gate",
    "start": "1836240",
    "end": "1842899"
  },
  {
    "text": "every single server you have that's delivering content especially parts of content you'd have to gate it based on a",
    "start": "1842899",
    "end": "1849200"
  },
  {
    "text": "response from another server right you'd actually have to go jump in there and like what are you gonna go do go talk to",
    "start": "1849200",
    "end": "1855980"
  },
  {
    "text": "authentication on Amazon and then come back to your thing that's located in Ohio you know in some small ISP are you",
    "start": "1855980",
    "end": "1864140"
  },
  {
    "text": "going to really want to do that every single time someone requests however many milliseconds right it would make no",
    "start": "1864140",
    "end": "1869720"
  },
  {
    "text": "sense so it makes sense to have some sort of authorized token to be delivered per content you know Network in each one",
    "start": "1869720",
    "end": "1875539"
  },
  {
    "text": "of these things talking to the to some sort of another backend that authenticates that the server itself",
    "start": "1875539",
    "end": "1881899"
  },
  {
    "text": "authenticates itself another kind of an ingenious decentralized you notice that",
    "start": "1881899",
    "end": "1887360"
  },
  {
    "text": "Netflix is is all about this decentralization as much as much as possible obviously the whole thing is in",
    "start": "1887360",
    "end": "1893840"
  },
  {
    "text": "AWS so if AWS went down Netflix will go down got him I don't know if they moved",
    "start": "1893840",
    "end": "1898880"
  },
  {
    "text": "out uh from to another cloud provider but yeah so yeah guys this is all what I wanted to discuss I think I think some",
    "start": "1898880",
    "end": "1904580"
  },
  {
    "text": "of the designs are fascinating some of them I think really the um the server",
    "start": "1904580",
    "end": "1909679"
  },
  {
    "text": "knows you're authenticated because it knows when you're not authenticated and it knows that you're not authenticated",
    "start": "1909679",
    "end": "1915080"
  },
  {
    "text": "by taking the difference between the position of where you're authenticated at and where you're not authenticated at taking this difference it's able to tell",
    "start": "1915080",
    "end": "1921679"
  },
  {
    "text": "your authentication status through authentication differences everybody knows that",
    "start": "1921679",
    "end": "1927039"
  },
  {
    "text": "the the hdb11 they might have thought about this probably and they want to",
    "start": "1927039",
    "end": "1932899"
  },
  {
    "text": "move to hdb2 or three so they might have thought about it then they made some",
    "start": "1932899",
    "end": "1938720"
  },
  {
    "text": "experimentals okay does it buy us any value to move to hdb2 how much concurrency are we gonna getting how",
    "start": "1938720",
    "end": "1944960"
  },
  {
    "text": "much performance are we gonna getting uh maybe they didn't see that much value they saw they went back to a simple HTTP",
    "start": "1944960",
    "end": "1951080"
  },
  {
    "text": "one one that's probably it but a quick will definitely give them more I believe",
    "start": "1951080",
    "end": "1956500"
  },
  {
    "text": "uh concurrency and high throughput if uh if I'm not mistaken",
    "start": "1956500",
    "end": "1962120"
  },
  {
    "text": "um that being said remember guys quick doesn't come cheap there will be an",
    "start": "1962120",
    "end": "1967940"
  },
  {
    "text": "extra CPU cycle that maybe Netflix are not willing to pay yet right because",
    "start": "1967940",
    "end": "1973520"
  },
  {
    "text": "there should be one does again we use react you see this little thing right here let's react okay so whatever cycle",
    "start": "1973520",
    "end": "1980419"
  },
  {
    "text": "you're saving it can't be that that can't be the",
    "start": "1980419",
    "end": "1985520"
  },
  {
    "text": "reason you know what I mean it doesn't have this comp there's a lot of problems with HTTP 3. complexity at",
    "start": "1985520",
    "end": "1994039"
  },
  {
    "text": "the server at the back end uh to to kind of parse these packets and kind of reassemble them together hope you",
    "start": "1994039",
    "end": "2000279"
  },
  {
    "text": "enjoyed this video I'm going to see it I didn't enjoy that stay awesome really good job this is a great video this is a great video I am very happy that they",
    "start": "2000279",
    "end": "2007360"
  },
  {
    "text": "were uh able to do all this you know to get everything done this is beautiful really enjoyed it",
    "start": "2007360",
    "end": "2014559"
  },
  {
    "text": "um lots of collapse good job uh is it",
    "start": "2014559",
    "end": "2021039"
  },
  {
    "text": "Hussein yeah great job is great great video great job very happy about it",
    "start": "2021039",
    "end": "2028980"
  },
  {
    "text": "to see people try to like look at stuff I'm very you know the funny part is just looking at the path evaluator and seeing",
    "start": "2029559",
    "end": "2034899"
  },
  {
    "text": "Adam still there he didn't even see a ref so he'd even see how he didn't really look at the data long enough to",
    "start": "2034899",
    "end": "2040299"
  },
  {
    "text": "be able to see that it's actually a tree I want to look at it but I also don't want to actually docs myself",
    "start": "2040299",
    "end": "2048000"
  }
]